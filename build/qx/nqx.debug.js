(function(){

if (!window.qx) window.qx = {};

qx.$$start = new Date();

if (!qx.$$environment) qx.$$environment = {};
var envinfo = {"qx.aspects":false,"qx.debug":true,"qx.optimization.comments":true,"qx.theme":"qx.theme.Indigo"};
for (var k in envinfo) qx.$$environment[k] = envinfo[k];

if (!qx.$$libraries) qx.$$libraries = {};
var libinfo = {"__out__":{"sourceUri":"/nqx"},"nqx":{"resourceUri":"/nqx/resource","sourceUri":"/nqx"},"qx":{"resourceUri":"/nqx/resource","sourceUri":"/nqx","sourceViewUri":"https://github.com/qooxdoo/qooxdoo/blob/%{qxGitBranch}/framework/source/class/%{classFilePath}#L%{lineNumber}"}};
for (var k in libinfo) qx.$$libraries[k] = libinfo[k];

qx.$$resources = {};
qx.$$translations = {"C":null,"cs":null,"de":null,"en":null,"es":null,"fr":null,"it":null,"nb":null,"nl":null,"pl":null,"pt":null,"ro":null,"ru":null,"sl":null,"sv":null};
qx.$$locales = {"C":null,"cs":null,"de":null,"en":null,"es":null,"fr":null,"it":null,"nb":null,"nl":null,"pl":null,"pt":null,"ro":null,"ru":null,"sl":null,"sv":null};
qx.$$packageData = {};
qx.$$g = {}

qx.$$loader = {
  parts : {"boot":[0]},
  packages : {"0":{"uris":["__out__:nqx.debug.ea7f2598cefc.js"]}},
  urisBefore : [],
  cssBefore : [],
  boot : "boot",
  closureParts : {},
  bootIsInline : true,
  addNoCacheParam : false,

  decodeUris : function(compressedUris)
  {
    var libs = qx.$$libraries;
    var uris = [];
    for (var i=0; i<compressedUris.length; i++)
    {
      var uri = compressedUris[i].split(":");
      var euri;
      if (uri.length==2 && uri[0] in libs) {
        var prefix = libs[uri[0]].sourceUri;
        euri = prefix + "/" + uri[1];
      } else {
        euri = compressedUris[i];
      }
      if (qx.$$loader.addNoCacheParam) {
        euri += "?nocache=" + Math.random();
      }
      
      uris.push(euri);
    }
    return uris;
  }
};

var readyStateValue = {"complete" : true};
if (document.documentMode && document.documentMode < 10 ||
    (typeof window.ActiveXObject !== "undefined" && !document.documentMode)) {
  readyStateValue["loaded"] = true;
}

function loadScript(uri, callback) {
  var elem = document.createElement("script");
  elem.charset = "utf-8";
  elem.src = uri;
  elem.onreadystatechange = elem.onload = function() {
    if (!this.readyState || readyStateValue[this.readyState]) {
      elem.onreadystatechange = elem.onload = null;
      if (typeof callback === "function") {
        callback();
      }
    }
  };

  if (isLoadParallel) {
    elem.async = null;
  }

  var head = document.getElementsByTagName("head")[0];
  head.appendChild(elem);
}

function loadCss(uri) {
  var elem = document.createElement("link");
  elem.rel = "stylesheet";
  elem.type= "text/css";
  elem.href= uri;
  var head = document.getElementsByTagName("head")[0];
  head.appendChild(elem);
}

var isWebkit = /AppleWebKit\/([^ ]+)/.test(navigator.userAgent);
var isLoadParallel = 'async' in document.createElement('script');

function loadScriptList(list, callback) {
  if (list.length == 0) {
    callback();
    return;
  }

  var item;

  if (isLoadParallel) {
    while (list.length) {
      item = list.shift();
      if (list.length) {
        loadScript(item);
      } else {
        loadScript(item, callback);
      }
    }
  } else {
    item = list.shift();
    loadScript(item,  function() {
      if (isWebkit) {
        // force async, else Safari fails with a "maximum recursion depth exceeded"
        window.setTimeout(function() {
          loadScriptList(list, callback);
        }, 0);
      } else {
        loadScriptList(list, callback);
      }
    });
  }
}

var fireContentLoadedEvent = function() {
  qx.$$domReady = true;
  document.removeEventListener('DOMContentLoaded', fireContentLoadedEvent, false);
};
if (document.addEventListener) {
  document.addEventListener('DOMContentLoaded', fireContentLoadedEvent, false);
}

qx.$$loader.importPackageData = function (dataMap, callback) {
  if (dataMap["resources"]){
    var resMap = dataMap["resources"];
    for (var k in resMap) qx.$$resources[k] = resMap[k];
  }
  if (dataMap["locales"]){
    var locMap = dataMap["locales"];
    var qxlocs = qx.$$locales;
    for (var lang in locMap){
      if (!qxlocs[lang]) qxlocs[lang] = locMap[lang];
      else
        for (var k in locMap[lang]) qxlocs[lang][k] = locMap[lang][k];
    }
  }
  if (dataMap["translations"]){
    var trMap   = dataMap["translations"];
    var qxtrans = qx.$$translations;
    for (var lang in trMap){
      if (!qxtrans[lang]) qxtrans[lang] = trMap[lang];
      else
        for (var k in trMap[lang]) qxtrans[lang][k] = trMap[lang][k];
    }
  }
  if (callback){
    callback(dataMap);
  }
}

qx.$$loader.signalStartup = function ()
{
  qx.$$loader.scriptLoaded = true;
  if (window.qx && qx.event && qx.event.handler && qx.event.handler.Application) {
    qx.event.handler.Application.onScriptLoaded();
    qx.$$loader.applicationHandlerReady = true;
  } else {
    qx.$$loader.applicationHandlerReady = false;
  }
}

// Load all stuff
qx.$$loader.init = function(){
  var l=qx.$$loader;
  if (l.cssBefore.length>0) {
    for (var i=0, m=l.cssBefore.length; i<m; i++) {
      loadCss(l.cssBefore[i]);
    }
  }
  if (l.urisBefore.length>0){
    loadScriptList(l.urisBefore, function(){
      l.initUris();
    });
  } else {
    l.initUris();
  }
}

// Load qooxdoo boot stuff
qx.$$loader.initUris = function(){
  var l=qx.$$loader;
  var bootPackageHash=l.parts[l.boot][0];
  if (l.bootIsInline){
    l.importPackageData(qx.$$packageData[bootPackageHash]);
    l.signalStartup();
  } else {
    loadScriptList(l.decodeUris(l.packages[l.parts[l.boot][0]].uris), function(){
      // Opera needs this extra time to parse the scripts
      window.setTimeout(function(){
        l.importPackageData(qx.$$packageData[bootPackageHash] || {});
        l.signalStartup();
      }, 0);
    });
  }
}
})();

qx.$$packageData['0']={"locales":{"C":{"alternateQuotationEnd":"’","alternateQuotationStart":"‘","cldr_am":"AM","cldr_date_format_full":"EEEE, MMMM d, y","cldr_date_format_long":"MMMM d, y","cldr_date_format_medium":"MMM d, y","cldr_date_format_short":"M/d/yy","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"d E","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E, MMM d, y G","cldr_date_time_format_GyMMMd":"MMM d, y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, M/d","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, MMM d","cldr_date_time_format_MMMd":"MMM d","cldr_date_time_format_Md":"M/d","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"E, M/d/y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E, MMM d, y","cldr_date_time_format_yMMMd":"MMM d, y","cldr_date_time_format_yMd":"M/d/y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"Fri","cldr_day_format_abbreviated_mon":"Mon","cldr_day_format_abbreviated_sat":"Sat","cldr_day_format_abbreviated_sun":"Sun","cldr_day_format_abbreviated_thu":"Thu","cldr_day_format_abbreviated_tue":"Tue","cldr_day_format_abbreviated_wed":"Wed","cldr_day_format_short_fri":"Fr","cldr_day_format_short_mon":"Mo","cldr_day_format_short_sat":"Sa","cldr_day_format_short_sun":"Su","cldr_day_format_short_thu":"Th","cldr_day_format_short_tue":"Tu","cldr_day_format_short_wed":"We","cldr_day_format_wide_fri":"Friday","cldr_day_format_wide_mon":"Monday","cldr_day_format_wide_sat":"Saturday","cldr_day_format_wide_sun":"Sunday","cldr_day_format_wide_thu":"Thursday","cldr_day_format_wide_tue":"Tuesday","cldr_day_format_wide_wed":"Wednesday","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"T","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"W","cldr_month_format_abbreviated_1":"Jan","cldr_month_format_abbreviated_10":"Oct","cldr_month_format_abbreviated_11":"Nov","cldr_month_format_abbreviated_12":"Dec","cldr_month_format_abbreviated_2":"Feb","cldr_month_format_abbreviated_3":"Mar","cldr_month_format_abbreviated_4":"Apr","cldr_month_format_abbreviated_5":"May","cldr_month_format_abbreviated_6":"Jun","cldr_month_format_abbreviated_7":"Jul","cldr_month_format_abbreviated_8":"Aug","cldr_month_format_abbreviated_9":"Sep","cldr_month_format_wide_1":"January","cldr_month_format_wide_10":"October","cldr_month_format_wide_11":"November","cldr_month_format_wide_12":"December","cldr_month_format_wide_2":"February","cldr_month_format_wide_3":"March","cldr_month_format_wide_4":"April","cldr_month_format_wide_5":"May","cldr_month_format_wide_6":"June","cldr_month_format_wide_7":"July","cldr_month_format_wide_8":"August","cldr_month_format_wide_9":"September","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_number_decimal_separator":".","cldr_number_group_separator":",","cldr_number_percent_format":"#,##0%","cldr_pm":"PM","cldr_time_format_full":"h:mm:ss a zzzz","cldr_time_format_long":"h:mm:ss a z","cldr_time_format_medium":"h:mm:ss a","cldr_time_format_short":"h:mm a","quotationEnd":"”","quotationStart":"“"},"cs":{"alternateQuotationEnd":"‘","alternateQuotationStart":"‚","cldr_am":"AM","cldr_date_format_full":"EEEE d. MMMM y","cldr_date_format_long":"d. MMMM y","cldr_date_format_medium":"d. M. y","cldr_date_format_short":"dd.MM.yy","cldr_date_time_format_EHm":"E H:mm","cldr_date_time_format_EHms":"E H:mm:ss","cldr_date_time_format_Ed":"E d.","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"LLLL y G","cldr_date_time_format_GyMMMEd":"E d. M. y G","cldr_date_time_format_GyMMMMEd":"E d. MMMM y G","cldr_date_time_format_GyMMMMd":"d. MMMM y G","cldr_date_time_format_GyMMMd":"d. M. y G","cldr_date_time_format_H":"H","cldr_date_time_format_Hm":"H:mm","cldr_date_time_format_Hms":"H:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E d. M.","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d. M.","cldr_date_time_format_MMMMEd":"E d. MMMM","cldr_date_time_format_MMMMd":"d. MMMM","cldr_date_time_format_MMMd":"d. M.","cldr_date_time_format_Md":"d. M.","cldr_date_time_format_d":"d.","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"E d. M. y","cldr_date_time_format_yMMM":"LLLL y","cldr_date_time_format_yMMMEd":"E d. M. y","cldr_date_time_format_yMMMM":"LLLL y","cldr_date_time_format_yMMMMEd":"E d. MMMM y","cldr_date_time_format_yMMMMd":"d. MMMM y","cldr_date_time_format_yMMMd":"d. M. y","cldr_date_time_format_yMd":"d. M. y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"pá","cldr_day_format_abbreviated_mon":"po","cldr_day_format_abbreviated_sat":"so","cldr_day_format_abbreviated_sun":"ne","cldr_day_format_abbreviated_thu":"čt","cldr_day_format_abbreviated_tue":"út","cldr_day_format_abbreviated_wed":"st","cldr_day_format_narrow_fri":"P","cldr_day_format_narrow_mon":"P","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"N","cldr_day_format_narrow_thu":"Č","cldr_day_format_narrow_tue":"Ú","cldr_day_format_narrow_wed":"S","cldr_day_format_short_fri":"pá","cldr_day_format_short_mon":"po","cldr_day_format_short_sat":"so","cldr_day_format_short_sun":"ne","cldr_day_format_short_thu":"čt","cldr_day_format_short_tue":"út","cldr_day_format_short_wed":"st","cldr_day_format_wide_fri":"pátek","cldr_day_format_wide_mon":"pondělí","cldr_day_format_wide_sat":"sobota","cldr_day_format_wide_sun":"neděle","cldr_day_format_wide_thu":"čtvrtek","cldr_day_format_wide_tue":"úterý","cldr_day_format_wide_wed":"středa","cldr_day_stand-alone_abbreviated_fri":"pá","cldr_day_stand-alone_abbreviated_mon":"po","cldr_day_stand-alone_abbreviated_sat":"so","cldr_day_stand-alone_abbreviated_sun":"ne","cldr_day_stand-alone_abbreviated_thu":"čt","cldr_day_stand-alone_abbreviated_tue":"út","cldr_day_stand-alone_abbreviated_wed":"st","cldr_day_stand-alone_narrow_fri":"P","cldr_day_stand-alone_narrow_mon":"P","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"N","cldr_day_stand-alone_narrow_thu":"Č","cldr_day_stand-alone_narrow_tue":"Ú","cldr_day_stand-alone_narrow_wed":"S","cldr_day_stand-alone_short_fri":"pá","cldr_day_stand-alone_short_mon":"po","cldr_day_stand-alone_short_sat":"so","cldr_day_stand-alone_short_sun":"ne","cldr_day_stand-alone_short_thu":"čt","cldr_day_stand-alone_short_tue":"út","cldr_day_stand-alone_short_wed":"st","cldr_day_stand-alone_wide_fri":"pátek","cldr_day_stand-alone_wide_mon":"pondělí","cldr_day_stand-alone_wide_sat":"sobota","cldr_day_stand-alone_wide_sun":"neděle","cldr_day_stand-alone_wide_thu":"čtvrtek","cldr_day_stand-alone_wide_tue":"úterý","cldr_day_stand-alone_wide_wed":"středa","cldr_month_format_abbreviated_1":"led","cldr_month_format_abbreviated_10":"říj","cldr_month_format_abbreviated_11":"lis","cldr_month_format_abbreviated_12":"pro","cldr_month_format_abbreviated_2":"úno","cldr_month_format_abbreviated_3":"bře","cldr_month_format_abbreviated_4":"dub","cldr_month_format_abbreviated_5":"kvě","cldr_month_format_abbreviated_6":"čvn","cldr_month_format_abbreviated_7":"čvc","cldr_month_format_abbreviated_8":"srp","cldr_month_format_abbreviated_9":"zář","cldr_month_format_narrow_1":"1","cldr_month_format_narrow_10":"10","cldr_month_format_narrow_11":"11","cldr_month_format_narrow_12":"12","cldr_month_format_narrow_2":"2","cldr_month_format_narrow_3":"3","cldr_month_format_narrow_4":"4","cldr_month_format_narrow_5":"5","cldr_month_format_narrow_6":"6","cldr_month_format_narrow_7":"7","cldr_month_format_narrow_8":"8","cldr_month_format_narrow_9":"9","cldr_month_format_wide_1":"ledna","cldr_month_format_wide_10":"října","cldr_month_format_wide_11":"listopadu","cldr_month_format_wide_12":"prosince","cldr_month_format_wide_2":"února","cldr_month_format_wide_3":"března","cldr_month_format_wide_4":"dubna","cldr_month_format_wide_5":"května","cldr_month_format_wide_6":"června","cldr_month_format_wide_7":"července","cldr_month_format_wide_8":"srpna","cldr_month_format_wide_9":"září","cldr_month_stand-alone_abbreviated_1":"led","cldr_month_stand-alone_abbreviated_10":"říj","cldr_month_stand-alone_abbreviated_11":"lis","cldr_month_stand-alone_abbreviated_12":"pro","cldr_month_stand-alone_abbreviated_2":"úno","cldr_month_stand-alone_abbreviated_3":"bře","cldr_month_stand-alone_abbreviated_4":"dub","cldr_month_stand-alone_abbreviated_5":"kvě","cldr_month_stand-alone_abbreviated_6":"čvn","cldr_month_stand-alone_abbreviated_7":"čvc","cldr_month_stand-alone_abbreviated_8":"srp","cldr_month_stand-alone_abbreviated_9":"zář","cldr_month_stand-alone_narrow_1":"l","cldr_month_stand-alone_narrow_10":"ř","cldr_month_stand-alone_narrow_11":"l","cldr_month_stand-alone_narrow_12":"p","cldr_month_stand-alone_narrow_2":"ú","cldr_month_stand-alone_narrow_3":"b","cldr_month_stand-alone_narrow_4":"d","cldr_month_stand-alone_narrow_5":"k","cldr_month_stand-alone_narrow_6":"č","cldr_month_stand-alone_narrow_7":"č","cldr_month_stand-alone_narrow_8":"s","cldr_month_stand-alone_narrow_9":"z","cldr_month_stand-alone_wide_1":"leden","cldr_month_stand-alone_wide_10":"říjen","cldr_month_stand-alone_wide_11":"listopad","cldr_month_stand-alone_wide_12":"prosinec","cldr_month_stand-alone_wide_2":"únor","cldr_month_stand-alone_wide_3":"březen","cldr_month_stand-alone_wide_4":"duben","cldr_month_stand-alone_wide_5":"květen","cldr_month_stand-alone_wide_6":"červen","cldr_month_stand-alone_wide_7":"červenec","cldr_month_stand-alone_wide_8":"srpen","cldr_month_stand-alone_wide_9":"září","cldr_number_decimal_separator":",","cldr_number_group_separator":" ","cldr_number_percent_format":"#,##0 %","cldr_pm":"PM","cldr_time_format_full":"H:mm:ss zzzz","cldr_time_format_long":"H:mm:ss z","cldr_time_format_medium":"H:mm:ss","cldr_time_format_short":"H:mm","quotationEnd":"“","quotationStart":"„"},"de":{"alternateQuotationEnd":"‘","alternateQuotationStart":"‚","cldr_am":"vorm.","cldr_date_format_full":"EEEE, d. MMMM y","cldr_date_format_long":"d. MMMM y","cldr_date_format_medium":"dd.MM.y","cldr_date_format_short":"dd.MM.yy","cldr_date_time_format_EHm":"E, HH:mm","cldr_date_time_format_EHms":"E, HH:mm:ss","cldr_date_time_format_Ed":"E, d.","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E, h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E, d. MMM y G","cldr_date_time_format_GyMMMd":"d. MMM y G","cldr_date_time_format_H":"HH 'Uhr'","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, d.M.","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, d. MMM","cldr_date_time_format_MMMMEd":"E, d. MMMM","cldr_date_time_format_MMMd":"d. MMM","cldr_date_time_format_MMd":"d.MM.","cldr_date_time_format_MMdd":"dd.MM.","cldr_date_time_format_Md":"d.M.","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M.y","cldr_date_time_format_yMEd":"E, d.M.y","cldr_date_time_format_yMM":"MM.y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E, d. MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d. MMM y","cldr_date_time_format_yMMdd":"dd.MM.y","cldr_date_time_format_yMd":"d.M.y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"Fr.","cldr_day_format_abbreviated_mon":"Mo.","cldr_day_format_abbreviated_sat":"Sa.","cldr_day_format_abbreviated_sun":"So.","cldr_day_format_abbreviated_thu":"Do.","cldr_day_format_abbreviated_tue":"Di.","cldr_day_format_abbreviated_wed":"Mi.","cldr_day_format_narrow_fri":"F","cldr_day_format_narrow_mon":"M","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"S","cldr_day_format_narrow_thu":"D","cldr_day_format_narrow_tue":"D","cldr_day_format_narrow_wed":"M","cldr_day_format_short_fri":"Fr.","cldr_day_format_short_mon":"Mo.","cldr_day_format_short_sat":"Sa.","cldr_day_format_short_sun":"So.","cldr_day_format_short_thu":"Do.","cldr_day_format_short_tue":"Di.","cldr_day_format_short_wed":"Mi.","cldr_day_format_wide_fri":"Freitag","cldr_day_format_wide_mon":"Montag","cldr_day_format_wide_sat":"Samstag","cldr_day_format_wide_sun":"Sonntag","cldr_day_format_wide_thu":"Donnerstag","cldr_day_format_wide_tue":"Dienstag","cldr_day_format_wide_wed":"Mittwoch","cldr_day_stand-alone_abbreviated_fri":"Fr","cldr_day_stand-alone_abbreviated_mon":"Mo","cldr_day_stand-alone_abbreviated_sat":"Sa","cldr_day_stand-alone_abbreviated_sun":"So","cldr_day_stand-alone_abbreviated_thu":"Do","cldr_day_stand-alone_abbreviated_tue":"Di","cldr_day_stand-alone_abbreviated_wed":"Mi","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"D","cldr_day_stand-alone_narrow_tue":"D","cldr_day_stand-alone_narrow_wed":"M","cldr_day_stand-alone_short_fri":"Fr.","cldr_day_stand-alone_short_mon":"Mo.","cldr_day_stand-alone_short_sat":"Sa.","cldr_day_stand-alone_short_sun":"So.","cldr_day_stand-alone_short_thu":"Do.","cldr_day_stand-alone_short_tue":"Di.","cldr_day_stand-alone_short_wed":"Mi.","cldr_day_stand-alone_wide_fri":"Freitag","cldr_day_stand-alone_wide_mon":"Montag","cldr_day_stand-alone_wide_sat":"Samstag","cldr_day_stand-alone_wide_sun":"Sonntag","cldr_day_stand-alone_wide_thu":"Donnerstag","cldr_day_stand-alone_wide_tue":"Dienstag","cldr_day_stand-alone_wide_wed":"Mittwoch","cldr_month_format_abbreviated_1":"Jan.","cldr_month_format_abbreviated_10":"Okt.","cldr_month_format_abbreviated_11":"Nov.","cldr_month_format_abbreviated_12":"Dez.","cldr_month_format_abbreviated_2":"Feb.","cldr_month_format_abbreviated_3":"März","cldr_month_format_abbreviated_4":"Apr.","cldr_month_format_abbreviated_5":"Mai","cldr_month_format_abbreviated_6":"Juni","cldr_month_format_abbreviated_7":"Juli","cldr_month_format_abbreviated_8":"Aug.","cldr_month_format_abbreviated_9":"Sep.","cldr_month_format_narrow_1":"J","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"Januar","cldr_month_format_wide_10":"Oktober","cldr_month_format_wide_11":"November","cldr_month_format_wide_12":"Dezember","cldr_month_format_wide_2":"Februar","cldr_month_format_wide_3":"März","cldr_month_format_wide_4":"April","cldr_month_format_wide_5":"Mai","cldr_month_format_wide_6":"Juni","cldr_month_format_wide_7":"Juli","cldr_month_format_wide_8":"August","cldr_month_format_wide_9":"September","cldr_month_stand-alone_abbreviated_1":"Jan","cldr_month_stand-alone_abbreviated_10":"Okt","cldr_month_stand-alone_abbreviated_11":"Nov","cldr_month_stand-alone_abbreviated_12":"Dez","cldr_month_stand-alone_abbreviated_2":"Feb","cldr_month_stand-alone_abbreviated_3":"Mär","cldr_month_stand-alone_abbreviated_4":"Apr","cldr_month_stand-alone_abbreviated_5":"Mai","cldr_month_stand-alone_abbreviated_6":"Jun","cldr_month_stand-alone_abbreviated_7":"Jul","cldr_month_stand-alone_abbreviated_8":"Aug","cldr_month_stand-alone_abbreviated_9":"Sep","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"Januar","cldr_month_stand-alone_wide_10":"Oktober","cldr_month_stand-alone_wide_11":"November","cldr_month_stand-alone_wide_12":"Dezember","cldr_month_stand-alone_wide_2":"Februar","cldr_month_stand-alone_wide_3":"März","cldr_month_stand-alone_wide_4":"April","cldr_month_stand-alone_wide_5":"Mai","cldr_month_stand-alone_wide_6":"Juni","cldr_month_stand-alone_wide_7":"Juli","cldr_month_stand-alone_wide_8":"August","cldr_month_stand-alone_wide_9":"September","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0 %","cldr_pm":"nachm.","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"“","quotationStart":"„"},"en":{"alternateQuotationEnd":"’","alternateQuotationStart":"‘","cldr_am":"AM","cldr_date_format_full":"EEEE, MMMM d, y","cldr_date_format_long":"MMMM d, y","cldr_date_format_medium":"MMM d, y","cldr_date_format_short":"M/d/yy","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"d E","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E, MMM d, y G","cldr_date_time_format_GyMMMd":"MMM d, y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, M/d","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, MMM d","cldr_date_time_format_MMMd":"MMM d","cldr_date_time_format_Md":"M/d","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"E, M/d/y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E, MMM d, y","cldr_date_time_format_yMMMd":"MMM d, y","cldr_date_time_format_yMd":"M/d/y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"Fri","cldr_day_format_abbreviated_mon":"Mon","cldr_day_format_abbreviated_sat":"Sat","cldr_day_format_abbreviated_sun":"Sun","cldr_day_format_abbreviated_thu":"Thu","cldr_day_format_abbreviated_tue":"Tue","cldr_day_format_abbreviated_wed":"Wed","cldr_day_format_short_fri":"Fr","cldr_day_format_short_mon":"Mo","cldr_day_format_short_sat":"Sa","cldr_day_format_short_sun":"Su","cldr_day_format_short_thu":"Th","cldr_day_format_short_tue":"Tu","cldr_day_format_short_wed":"We","cldr_day_format_wide_fri":"Friday","cldr_day_format_wide_mon":"Monday","cldr_day_format_wide_sat":"Saturday","cldr_day_format_wide_sun":"Sunday","cldr_day_format_wide_thu":"Thursday","cldr_day_format_wide_tue":"Tuesday","cldr_day_format_wide_wed":"Wednesday","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"T","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"W","cldr_month_format_abbreviated_1":"Jan","cldr_month_format_abbreviated_10":"Oct","cldr_month_format_abbreviated_11":"Nov","cldr_month_format_abbreviated_12":"Dec","cldr_month_format_abbreviated_2":"Feb","cldr_month_format_abbreviated_3":"Mar","cldr_month_format_abbreviated_4":"Apr","cldr_month_format_abbreviated_5":"May","cldr_month_format_abbreviated_6":"Jun","cldr_month_format_abbreviated_7":"Jul","cldr_month_format_abbreviated_8":"Aug","cldr_month_format_abbreviated_9":"Sep","cldr_month_format_wide_1":"January","cldr_month_format_wide_10":"October","cldr_month_format_wide_11":"November","cldr_month_format_wide_12":"December","cldr_month_format_wide_2":"February","cldr_month_format_wide_3":"March","cldr_month_format_wide_4":"April","cldr_month_format_wide_5":"May","cldr_month_format_wide_6":"June","cldr_month_format_wide_7":"July","cldr_month_format_wide_8":"August","cldr_month_format_wide_9":"September","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_number_decimal_separator":".","cldr_number_group_separator":",","cldr_number_percent_format":"#,##0%","cldr_pm":"PM","cldr_time_format_full":"h:mm:ss a zzzz","cldr_time_format_long":"h:mm:ss a z","cldr_time_format_medium":"h:mm:ss a","cldr_time_format_short":"h:mm a","quotationEnd":"”","quotationStart":"“"},"es":{"alternateQuotationEnd":"”","alternateQuotationStart":"“","cldr_am":"a. m.","cldr_date_format_full":"EEEE, d 'de' MMMM 'de' y","cldr_date_format_long":"d 'de' MMMM 'de' y","cldr_date_format_medium":"d/M/y","cldr_date_format_short":"d/M/yy","cldr_date_time_format_EHm":"E, H:mm","cldr_date_time_format_EHms":"E, H:mm:ss","cldr_date_time_format_Ed":"E d","cldr_date_time_format_Ehm":"E, h:mm a","cldr_date_time_format_Ehms":"E, h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM 'de' y G","cldr_date_time_format_GyMMMEd":"E, d 'de' MMMM 'de' y G","cldr_date_time_format_GyMMMd":"d MMM 'de' y G","cldr_date_time_format_H":"H","cldr_date_time_format_Hm":"H:mm","cldr_date_time_format_Hms":"H:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, d/M","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d 'de' MMM","cldr_date_time_format_MMMMd":"d 'de' MMMM","cldr_date_time_format_MMMd":"d 'de' MMM","cldr_date_time_format_MMMdd":"dd-MMM","cldr_date_time_format_MMd":"d/M","cldr_date_time_format_MMdd":"d/M","cldr_date_time_format_Md":"d/M","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"EEE, d/M/y","cldr_date_time_format_yMM":"M/y","cldr_date_time_format_yMMM":"MMM 'de' y","cldr_date_time_format_yMMMEd":"EEE, d 'de' MMMM 'de' y","cldr_date_time_format_yMMMM":"MMMM 'de' y","cldr_date_time_format_yMMMd":"d 'de' MMM 'de' y","cldr_date_time_format_yMd":"d/M/y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ 'de' y","cldr_day_format_abbreviated_fri":"vie.","cldr_day_format_abbreviated_mon":"lun.","cldr_day_format_abbreviated_sat":"sáb.","cldr_day_format_abbreviated_sun":"dom.","cldr_day_format_abbreviated_thu":"jue.","cldr_day_format_abbreviated_tue":"mar.","cldr_day_format_abbreviated_wed":"mié.","cldr_day_format_narrow_fri":"V","cldr_day_format_narrow_mon":"L","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"D","cldr_day_format_narrow_thu":"J","cldr_day_format_narrow_tue":"M","cldr_day_format_narrow_wed":"X","cldr_day_format_short_fri":"VI","cldr_day_format_short_mon":"LU","cldr_day_format_short_sat":"SA","cldr_day_format_short_sun":"DO","cldr_day_format_short_thu":"JU","cldr_day_format_short_tue":"MA","cldr_day_format_short_wed":"MI","cldr_day_format_wide_fri":"viernes","cldr_day_format_wide_mon":"lunes","cldr_day_format_wide_sat":"sábado","cldr_day_format_wide_sun":"domingo","cldr_day_format_wide_thu":"jueves","cldr_day_format_wide_tue":"martes","cldr_day_format_wide_wed":"miércoles","cldr_day_stand-alone_abbreviated_fri":"Vie.","cldr_day_stand-alone_abbreviated_mon":"Lun.","cldr_day_stand-alone_abbreviated_sat":"Sáb.","cldr_day_stand-alone_abbreviated_sun":"Dom.","cldr_day_stand-alone_abbreviated_thu":"Jue.","cldr_day_stand-alone_abbreviated_tue":"Mar.","cldr_day_stand-alone_abbreviated_wed":"Mié.","cldr_day_stand-alone_narrow_fri":"V","cldr_day_stand-alone_narrow_mon":"L","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"D","cldr_day_stand-alone_narrow_thu":"J","cldr_day_stand-alone_narrow_tue":"M","cldr_day_stand-alone_narrow_wed":"X","cldr_day_stand-alone_short_fri":"VI","cldr_day_stand-alone_short_mon":"LU","cldr_day_stand-alone_short_sat":"SA","cldr_day_stand-alone_short_sun":"DO","cldr_day_stand-alone_short_thu":"JU","cldr_day_stand-alone_short_tue":"MA","cldr_day_stand-alone_short_wed":"MI","cldr_day_stand-alone_wide_fri":"Viernes","cldr_day_stand-alone_wide_mon":"Lunes","cldr_day_stand-alone_wide_sat":"Sábado","cldr_day_stand-alone_wide_sun":"Domingo","cldr_day_stand-alone_wide_thu":"Jueves","cldr_day_stand-alone_wide_tue":"Martes","cldr_day_stand-alone_wide_wed":"Miércoles","cldr_month_format_abbreviated_1":"ene.","cldr_month_format_abbreviated_10":"oct.","cldr_month_format_abbreviated_11":"nov.","cldr_month_format_abbreviated_12":"dic.","cldr_month_format_abbreviated_2":"feb.","cldr_month_format_abbreviated_3":"mar.","cldr_month_format_abbreviated_4":"abr.","cldr_month_format_abbreviated_5":"may.","cldr_month_format_abbreviated_6":"jun.","cldr_month_format_abbreviated_7":"jul.","cldr_month_format_abbreviated_8":"ago.","cldr_month_format_abbreviated_9":"sept.","cldr_month_format_narrow_1":"E","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"enero","cldr_month_format_wide_10":"octubre","cldr_month_format_wide_11":"noviembre","cldr_month_format_wide_12":"diciembre","cldr_month_format_wide_2":"febrero","cldr_month_format_wide_3":"marzo","cldr_month_format_wide_4":"abril","cldr_month_format_wide_5":"mayo","cldr_month_format_wide_6":"junio","cldr_month_format_wide_7":"julio","cldr_month_format_wide_8":"agosto","cldr_month_format_wide_9":"septiembre","cldr_month_stand-alone_abbreviated_1":"Ene.","cldr_month_stand-alone_abbreviated_10":"Oct.","cldr_month_stand-alone_abbreviated_11":"Nov.","cldr_month_stand-alone_abbreviated_12":"Dic.","cldr_month_stand-alone_abbreviated_2":"Feb.","cldr_month_stand-alone_abbreviated_3":"Mar.","cldr_month_stand-alone_abbreviated_4":"Abr.","cldr_month_stand-alone_abbreviated_5":"May.","cldr_month_stand-alone_abbreviated_6":"Jun.","cldr_month_stand-alone_abbreviated_7":"Jul.","cldr_month_stand-alone_abbreviated_8":"Ago.","cldr_month_stand-alone_abbreviated_9":"Sept.","cldr_month_stand-alone_narrow_1":"E","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"Enero","cldr_month_stand-alone_wide_10":"Octubre","cldr_month_stand-alone_wide_11":"Noviembre","cldr_month_stand-alone_wide_12":"Diciembre","cldr_month_stand-alone_wide_2":"Febrero","cldr_month_stand-alone_wide_3":"Marzo","cldr_month_stand-alone_wide_4":"Abril","cldr_month_stand-alone_wide_5":"Mayo","cldr_month_stand-alone_wide_6":"Junio","cldr_month_stand-alone_wide_7":"Julio","cldr_month_stand-alone_wide_8":"Agosto","cldr_month_stand-alone_wide_9":"Septiembre","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0%","cldr_pm":"p. m.","cldr_time_format_full":"H:mm:ss (zzzz)","cldr_time_format_long":"H:mm:ss z","cldr_time_format_medium":"H:mm:ss","cldr_time_format_short":"H:mm","quotationEnd":"»","quotationStart":"«"},"fr":{"alternateQuotationEnd":"»","alternateQuotationStart":"«","cldr_am":"AM","cldr_date_format_full":"EEEE d MMMM y","cldr_date_format_long":"d MMMM y","cldr_date_format_medium":"d MMM y","cldr_date_format_short":"dd/MM/y","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"E d","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y G","cldr_date_time_format_H":"HH 'h'","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E d/M","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d MMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_Md":"d/M","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"E d/M/y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E d MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d MMM y","cldr_date_time_format_yMd":"d/M/y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"ven.","cldr_day_format_abbreviated_mon":"lun.","cldr_day_format_abbreviated_sat":"sam.","cldr_day_format_abbreviated_sun":"dim.","cldr_day_format_abbreviated_thu":"jeu.","cldr_day_format_abbreviated_tue":"mar.","cldr_day_format_abbreviated_wed":"mer.","cldr_day_format_narrow_fri":"V","cldr_day_format_narrow_mon":"L","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"D","cldr_day_format_narrow_thu":"J","cldr_day_format_narrow_tue":"M","cldr_day_format_narrow_wed":"M","cldr_day_format_short_fri":"ve","cldr_day_format_short_mon":"lu","cldr_day_format_short_sat":"sa","cldr_day_format_short_sun":"di","cldr_day_format_short_thu":"je","cldr_day_format_short_tue":"ma","cldr_day_format_short_wed":"me","cldr_day_format_wide_fri":"vendredi","cldr_day_format_wide_mon":"lundi","cldr_day_format_wide_sat":"samedi","cldr_day_format_wide_sun":"dimanche","cldr_day_format_wide_thu":"jeudi","cldr_day_format_wide_tue":"mardi","cldr_day_format_wide_wed":"mercredi","cldr_day_stand-alone_abbreviated_fri":"ven.","cldr_day_stand-alone_abbreviated_mon":"lun.","cldr_day_stand-alone_abbreviated_sat":"sam.","cldr_day_stand-alone_abbreviated_sun":"dim.","cldr_day_stand-alone_abbreviated_thu":"jeu.","cldr_day_stand-alone_abbreviated_tue":"mar.","cldr_day_stand-alone_abbreviated_wed":"mer.","cldr_day_stand-alone_narrow_fri":"V","cldr_day_stand-alone_narrow_mon":"L","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"D","cldr_day_stand-alone_narrow_thu":"J","cldr_day_stand-alone_narrow_tue":"M","cldr_day_stand-alone_narrow_wed":"M","cldr_day_stand-alone_short_fri":"ven.","cldr_day_stand-alone_short_mon":"lun.","cldr_day_stand-alone_short_sat":"sam.","cldr_day_stand-alone_short_sun":"dim.","cldr_day_stand-alone_short_thu":"jeu.","cldr_day_stand-alone_short_tue":"mar.","cldr_day_stand-alone_short_wed":"mer.","cldr_day_stand-alone_wide_fri":"vendredi","cldr_day_stand-alone_wide_mon":"lundi","cldr_day_stand-alone_wide_sat":"samedi","cldr_day_stand-alone_wide_sun":"dimanche","cldr_day_stand-alone_wide_thu":"jeudi","cldr_day_stand-alone_wide_tue":"mardi","cldr_day_stand-alone_wide_wed":"mercredi","cldr_month_format_abbreviated_1":"janv.","cldr_month_format_abbreviated_10":"oct.","cldr_month_format_abbreviated_11":"nov.","cldr_month_format_abbreviated_12":"déc.","cldr_month_format_abbreviated_2":"févr.","cldr_month_format_abbreviated_3":"mars","cldr_month_format_abbreviated_4":"avr.","cldr_month_format_abbreviated_5":"mai","cldr_month_format_abbreviated_6":"juin","cldr_month_format_abbreviated_7":"juil.","cldr_month_format_abbreviated_8":"août","cldr_month_format_abbreviated_9":"sept.","cldr_month_format_narrow_1":"J","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"janvier","cldr_month_format_wide_10":"octobre","cldr_month_format_wide_11":"novembre","cldr_month_format_wide_12":"décembre","cldr_month_format_wide_2":"février","cldr_month_format_wide_3":"mars","cldr_month_format_wide_4":"avril","cldr_month_format_wide_5":"mai","cldr_month_format_wide_6":"juin","cldr_month_format_wide_7":"juillet","cldr_month_format_wide_8":"août","cldr_month_format_wide_9":"septembre","cldr_month_stand-alone_abbreviated_1":"janv.","cldr_month_stand-alone_abbreviated_10":"oct.","cldr_month_stand-alone_abbreviated_11":"nov.","cldr_month_stand-alone_abbreviated_12":"déc.","cldr_month_stand-alone_abbreviated_2":"févr.","cldr_month_stand-alone_abbreviated_3":"mars","cldr_month_stand-alone_abbreviated_4":"avr.","cldr_month_stand-alone_abbreviated_5":"mai","cldr_month_stand-alone_abbreviated_6":"juin","cldr_month_stand-alone_abbreviated_7":"juil.","cldr_month_stand-alone_abbreviated_8":"août","cldr_month_stand-alone_abbreviated_9":"sept.","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"janvier","cldr_month_stand-alone_wide_10":"octobre","cldr_month_stand-alone_wide_11":"novembre","cldr_month_stand-alone_wide_12":"décembre","cldr_month_stand-alone_wide_2":"février","cldr_month_stand-alone_wide_3":"mars","cldr_month_stand-alone_wide_4":"avril","cldr_month_stand-alone_wide_5":"mai","cldr_month_stand-alone_wide_6":"juin","cldr_month_stand-alone_wide_7":"juillet","cldr_month_stand-alone_wide_8":"août","cldr_month_stand-alone_wide_9":"septembre","cldr_number_decimal_separator":",","cldr_number_group_separator":" ","cldr_number_percent_format":"#,##0 %","cldr_pm":"PM","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"»","quotationStart":"«"},"it":{"alternateQuotationEnd":"”","alternateQuotationStart":"“","cldr_am":"AM","cldr_date_format_full":"EEEE d MMMM y","cldr_date_format_long":"dd MMMM y","cldr_date_format_medium":"dd/MMM/y","cldr_date_format_short":"dd/MM/yy","cldr_date_time_format_EHm":"E HH.mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"E d","cldr_date_time_format_Ehm":"E h.mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E d/M","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d MMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_Md":"d/M","cldr_date_time_format_d":"d","cldr_date_time_format_h":"hh a","cldr_date_time_format_hm":"hh:mm a","cldr_date_time_format_hms":"hh:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"E d/M/y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E d MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d MMM y","cldr_date_time_format_yMd":"d/M/y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"ven","cldr_day_format_abbreviated_mon":"lun","cldr_day_format_abbreviated_sat":"sab","cldr_day_format_abbreviated_sun":"dom","cldr_day_format_abbreviated_thu":"gio","cldr_day_format_abbreviated_tue":"mar","cldr_day_format_abbreviated_wed":"mer","cldr_day_format_narrow_fri":"V","cldr_day_format_narrow_mon":"L","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"D","cldr_day_format_narrow_thu":"G","cldr_day_format_narrow_tue":"M","cldr_day_format_narrow_wed":"M","cldr_day_format_short_fri":"ven","cldr_day_format_short_mon":"lun","cldr_day_format_short_sat":"sab","cldr_day_format_short_sun":"dom","cldr_day_format_short_thu":"gio","cldr_day_format_short_tue":"mar","cldr_day_format_short_wed":"mer","cldr_day_format_wide_fri":"venerdì","cldr_day_format_wide_mon":"lunedì","cldr_day_format_wide_sat":"sabato","cldr_day_format_wide_sun":"domenica","cldr_day_format_wide_thu":"giovedì","cldr_day_format_wide_tue":"martedì","cldr_day_format_wide_wed":"mercoledì","cldr_day_stand-alone_abbreviated_fri":"ven","cldr_day_stand-alone_abbreviated_mon":"lun","cldr_day_stand-alone_abbreviated_sat":"sab","cldr_day_stand-alone_abbreviated_sun":"dom","cldr_day_stand-alone_abbreviated_thu":"gio","cldr_day_stand-alone_abbreviated_tue":"mar","cldr_day_stand-alone_abbreviated_wed":"mer","cldr_day_stand-alone_narrow_fri":"V","cldr_day_stand-alone_narrow_mon":"L","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"D","cldr_day_stand-alone_narrow_thu":"G","cldr_day_stand-alone_narrow_tue":"M","cldr_day_stand-alone_narrow_wed":"M","cldr_day_stand-alone_short_fri":"ven","cldr_day_stand-alone_short_mon":"lun","cldr_day_stand-alone_short_sat":"sab","cldr_day_stand-alone_short_sun":"dom","cldr_day_stand-alone_short_thu":"gio","cldr_day_stand-alone_short_tue":"mar","cldr_day_stand-alone_short_wed":"mer","cldr_day_stand-alone_wide_fri":"Venerdì","cldr_day_stand-alone_wide_mon":"Lunedì","cldr_day_stand-alone_wide_sat":"Sabato","cldr_day_stand-alone_wide_sun":"Domenica","cldr_day_stand-alone_wide_thu":"Giovedì","cldr_day_stand-alone_wide_tue":"Martedì","cldr_day_stand-alone_wide_wed":"Mercoledì","cldr_month_format_abbreviated_1":"gen","cldr_month_format_abbreviated_10":"ott","cldr_month_format_abbreviated_11":"nov","cldr_month_format_abbreviated_12":"dic","cldr_month_format_abbreviated_2":"feb","cldr_month_format_abbreviated_3":"mar","cldr_month_format_abbreviated_4":"apr","cldr_month_format_abbreviated_5":"mag","cldr_month_format_abbreviated_6":"giu","cldr_month_format_abbreviated_7":"lug","cldr_month_format_abbreviated_8":"ago","cldr_month_format_abbreviated_9":"set","cldr_month_format_narrow_1":"G","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"G","cldr_month_format_narrow_7":"L","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"gennaio","cldr_month_format_wide_10":"ottobre","cldr_month_format_wide_11":"novembre","cldr_month_format_wide_12":"dicembre","cldr_month_format_wide_2":"febbraio","cldr_month_format_wide_3":"marzo","cldr_month_format_wide_4":"aprile","cldr_month_format_wide_5":"maggio","cldr_month_format_wide_6":"giugno","cldr_month_format_wide_7":"luglio","cldr_month_format_wide_8":"agosto","cldr_month_format_wide_9":"settembre","cldr_month_stand-alone_abbreviated_1":"gen","cldr_month_stand-alone_abbreviated_10":"ott","cldr_month_stand-alone_abbreviated_11":"nov","cldr_month_stand-alone_abbreviated_12":"dic","cldr_month_stand-alone_abbreviated_2":"feb","cldr_month_stand-alone_abbreviated_3":"mar","cldr_month_stand-alone_abbreviated_4":"apr","cldr_month_stand-alone_abbreviated_5":"mag","cldr_month_stand-alone_abbreviated_6":"giu","cldr_month_stand-alone_abbreviated_7":"lug","cldr_month_stand-alone_abbreviated_8":"ago","cldr_month_stand-alone_abbreviated_9":"set","cldr_month_stand-alone_narrow_1":"G","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"G","cldr_month_stand-alone_narrow_7":"L","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"Gennaio","cldr_month_stand-alone_wide_10":"Ottobre","cldr_month_stand-alone_wide_11":"Novembre","cldr_month_stand-alone_wide_12":"Dicembre","cldr_month_stand-alone_wide_2":"Febbraio","cldr_month_stand-alone_wide_3":"Marzo","cldr_month_stand-alone_wide_4":"Aprile","cldr_month_stand-alone_wide_5":"Maggio","cldr_month_stand-alone_wide_6":"Giugno","cldr_month_stand-alone_wide_7":"Luglio","cldr_month_stand-alone_wide_8":"Agosto","cldr_month_stand-alone_wide_9":"Settembre","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0%","cldr_pm":"PM","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"»","quotationStart":"«"},"nb":{"alternateQuotationEnd":"’","alternateQuotationStart":"‘","cldr_am":"a.m.","cldr_date_format_full":"EEEE d. MMMM y","cldr_date_format_long":"d. MMMM y","cldr_date_format_medium":"d. MMM y","cldr_date_format_short":"dd.MM.yy","cldr_date_time_format_EHm":"E HH.mm","cldr_date_time_format_EHms":"E HH.mm.ss","cldr_date_time_format_Ed":"E d.","cldr_date_time_format_Ehm":"E h.mm a","cldr_date_time_format_Ehms":"E h.mm.ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E d. MMM y G","cldr_date_time_format_GyMMMd":"d. MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH.mm","cldr_date_time_format_Hms":"HH.mm.ss","cldr_date_time_format_M":"L.","cldr_date_time_format_MEd":"E d.M","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d. MMM","cldr_date_time_format_MMMd":"d. MMM","cldr_date_time_format_MMdd":"d.M.","cldr_date_time_format_Md":"d.M.","cldr_date_time_format_d":"d.","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h.mm a","cldr_date_time_format_hms":"h.mm.ss a","cldr_date_time_format_ms":"mm.ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M.y","cldr_date_time_format_yMEd":"E d.MM.y","cldr_date_time_format_yMM":"MM.y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E d. MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d. MMM y","cldr_date_time_format_yMd":"d.M.y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"fre.","cldr_day_format_abbreviated_mon":"man.","cldr_day_format_abbreviated_sat":"lør.","cldr_day_format_abbreviated_sun":"søn.","cldr_day_format_abbreviated_thu":"tor.","cldr_day_format_abbreviated_tue":"tir.","cldr_day_format_abbreviated_wed":"ons.","cldr_day_format_narrow_fri":"F","cldr_day_format_narrow_mon":"M","cldr_day_format_narrow_sat":"L","cldr_day_format_narrow_sun":"S","cldr_day_format_narrow_thu":"T","cldr_day_format_narrow_tue":"T","cldr_day_format_narrow_wed":"O","cldr_day_format_short_fri":"fr.","cldr_day_format_short_mon":"ma.","cldr_day_format_short_sat":"lø.","cldr_day_format_short_sun":"sø.","cldr_day_format_short_thu":"to.","cldr_day_format_short_tue":"ti.","cldr_day_format_short_wed":"on.","cldr_day_format_wide_fri":"fredag","cldr_day_format_wide_mon":"mandag","cldr_day_format_wide_sat":"lørdag","cldr_day_format_wide_sun":"søndag","cldr_day_format_wide_thu":"torsdag","cldr_day_format_wide_tue":"tirsdag","cldr_day_format_wide_wed":"onsdag","cldr_day_stand-alone_abbreviated_fri":"fr.","cldr_day_stand-alone_abbreviated_mon":"ma.","cldr_day_stand-alone_abbreviated_sat":"lø.","cldr_day_stand-alone_abbreviated_sun":"sø.","cldr_day_stand-alone_abbreviated_thu":"to.","cldr_day_stand-alone_abbreviated_tue":"ti.","cldr_day_stand-alone_abbreviated_wed":"on.","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"L","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"T","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"O","cldr_day_stand-alone_short_fri":"fr.","cldr_day_stand-alone_short_mon":"ma.","cldr_day_stand-alone_short_sat":"lø.","cldr_day_stand-alone_short_sun":"sø.","cldr_day_stand-alone_short_thu":"to.","cldr_day_stand-alone_short_tue":"ti.","cldr_day_stand-alone_short_wed":"on.","cldr_day_stand-alone_wide_fri":"fredag","cldr_day_stand-alone_wide_mon":"mandag","cldr_day_stand-alone_wide_sat":"lørdag","cldr_day_stand-alone_wide_sun":"søndag","cldr_day_stand-alone_wide_thu":"torsdag","cldr_day_stand-alone_wide_tue":"tirsdag","cldr_day_stand-alone_wide_wed":"onsdag","cldr_month_format_abbreviated_1":"jan.","cldr_month_format_abbreviated_10":"okt.","cldr_month_format_abbreviated_11":"nov.","cldr_month_format_abbreviated_12":"des.","cldr_month_format_abbreviated_2":"feb.","cldr_month_format_abbreviated_3":"mar.","cldr_month_format_abbreviated_4":"apr.","cldr_month_format_abbreviated_5":"mai","cldr_month_format_abbreviated_6":"jun.","cldr_month_format_abbreviated_7":"jul.","cldr_month_format_abbreviated_8":"aug.","cldr_month_format_abbreviated_9":"sep.","cldr_month_format_narrow_1":"J","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"januar","cldr_month_format_wide_10":"oktober","cldr_month_format_wide_11":"november","cldr_month_format_wide_12":"desember","cldr_month_format_wide_2":"februar","cldr_month_format_wide_3":"mars","cldr_month_format_wide_4":"april","cldr_month_format_wide_5":"mai","cldr_month_format_wide_6":"juni","cldr_month_format_wide_7":"juli","cldr_month_format_wide_8":"august","cldr_month_format_wide_9":"september","cldr_month_stand-alone_abbreviated_1":"jan","cldr_month_stand-alone_abbreviated_10":"okt","cldr_month_stand-alone_abbreviated_11":"nov","cldr_month_stand-alone_abbreviated_12":"des","cldr_month_stand-alone_abbreviated_2":"feb","cldr_month_stand-alone_abbreviated_3":"mar","cldr_month_stand-alone_abbreviated_4":"apr","cldr_month_stand-alone_abbreviated_5":"mai","cldr_month_stand-alone_abbreviated_6":"jun","cldr_month_stand-alone_abbreviated_7":"jul","cldr_month_stand-alone_abbreviated_8":"aug","cldr_month_stand-alone_abbreviated_9":"sep","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"januar","cldr_month_stand-alone_wide_10":"oktober","cldr_month_stand-alone_wide_11":"november","cldr_month_stand-alone_wide_12":"desember","cldr_month_stand-alone_wide_2":"februar","cldr_month_stand-alone_wide_3":"mars","cldr_month_stand-alone_wide_4":"april","cldr_month_stand-alone_wide_5":"mai","cldr_month_stand-alone_wide_6":"juni","cldr_month_stand-alone_wide_7":"juli","cldr_month_stand-alone_wide_8":"august","cldr_month_stand-alone_wide_9":"september","cldr_number_decimal_separator":",","cldr_number_group_separator":" ","cldr_number_percent_format":"#,##0 %","cldr_pm":"p.m.","cldr_time_format_full":"HH.mm.ss zzzz","cldr_time_format_long":"HH.mm.ss z","cldr_time_format_medium":"HH.mm.ss","cldr_time_format_short":"HH.mm","quotationEnd":"»","quotationStart":"«"},"nl":{"alternateQuotationEnd":"’","alternateQuotationStart":"‘","cldr_am":"AM","cldr_date_format_full":"EEEE d MMMM y","cldr_date_format_long":"d MMMM y","cldr_date_format_medium":"d MMM y","cldr_date_format_short":"dd-MM-yy","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"E d","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E d-M","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d MMM","cldr_date_time_format_MMMMd":"d MMMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_Md":"d-M","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M-y","cldr_date_time_format_yMEd":"E d-M-y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E d MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d MMM y","cldr_date_time_format_yMd":"d-M-y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"vr","cldr_day_format_abbreviated_mon":"ma","cldr_day_format_abbreviated_sat":"za","cldr_day_format_abbreviated_sun":"zo","cldr_day_format_abbreviated_thu":"do","cldr_day_format_abbreviated_tue":"di","cldr_day_format_abbreviated_wed":"wo","cldr_day_format_narrow_fri":"V","cldr_day_format_narrow_mon":"M","cldr_day_format_narrow_sat":"Z","cldr_day_format_narrow_sun":"Z","cldr_day_format_narrow_thu":"D","cldr_day_format_narrow_tue":"D","cldr_day_format_narrow_wed":"W","cldr_day_format_short_fri":"vr","cldr_day_format_short_mon":"ma","cldr_day_format_short_sat":"za","cldr_day_format_short_sun":"zo","cldr_day_format_short_thu":"do","cldr_day_format_short_tue":"di","cldr_day_format_short_wed":"wo","cldr_day_format_wide_fri":"vrijdag","cldr_day_format_wide_mon":"maandag","cldr_day_format_wide_sat":"zaterdag","cldr_day_format_wide_sun":"zondag","cldr_day_format_wide_thu":"donderdag","cldr_day_format_wide_tue":"dinsdag","cldr_day_format_wide_wed":"woensdag","cldr_day_stand-alone_abbreviated_fri":"vr","cldr_day_stand-alone_abbreviated_mon":"ma","cldr_day_stand-alone_abbreviated_sat":"za","cldr_day_stand-alone_abbreviated_sun":"zo","cldr_day_stand-alone_abbreviated_thu":"do","cldr_day_stand-alone_abbreviated_tue":"di","cldr_day_stand-alone_abbreviated_wed":"wo","cldr_day_stand-alone_narrow_fri":"V","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"Z","cldr_day_stand-alone_narrow_sun":"Z","cldr_day_stand-alone_narrow_thu":"D","cldr_day_stand-alone_narrow_tue":"D","cldr_day_stand-alone_narrow_wed":"W","cldr_day_stand-alone_short_fri":"vr","cldr_day_stand-alone_short_mon":"ma","cldr_day_stand-alone_short_sat":"za","cldr_day_stand-alone_short_sun":"zo","cldr_day_stand-alone_short_thu":"do","cldr_day_stand-alone_short_tue":"di","cldr_day_stand-alone_short_wed":"wo","cldr_day_stand-alone_wide_fri":"vrijdag","cldr_day_stand-alone_wide_mon":"maandag","cldr_day_stand-alone_wide_sat":"zaterdag","cldr_day_stand-alone_wide_sun":"zondag","cldr_day_stand-alone_wide_thu":"donderdag","cldr_day_stand-alone_wide_tue":"dinsdag","cldr_day_stand-alone_wide_wed":"woensdag","cldr_month_format_abbreviated_1":"jan.","cldr_month_format_abbreviated_10":"okt.","cldr_month_format_abbreviated_11":"nov.","cldr_month_format_abbreviated_12":"dec.","cldr_month_format_abbreviated_2":"feb.","cldr_month_format_abbreviated_3":"mrt.","cldr_month_format_abbreviated_4":"apr.","cldr_month_format_abbreviated_5":"mei","cldr_month_format_abbreviated_6":"jun.","cldr_month_format_abbreviated_7":"jul.","cldr_month_format_abbreviated_8":"aug.","cldr_month_format_abbreviated_9":"sep.","cldr_month_format_narrow_1":"J","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"januari","cldr_month_format_wide_10":"oktober","cldr_month_format_wide_11":"november","cldr_month_format_wide_12":"december","cldr_month_format_wide_2":"februari","cldr_month_format_wide_3":"maart","cldr_month_format_wide_4":"april","cldr_month_format_wide_5":"mei","cldr_month_format_wide_6":"juni","cldr_month_format_wide_7":"juli","cldr_month_format_wide_8":"augustus","cldr_month_format_wide_9":"september","cldr_month_stand-alone_abbreviated_1":"jan","cldr_month_stand-alone_abbreviated_10":"okt","cldr_month_stand-alone_abbreviated_11":"nov","cldr_month_stand-alone_abbreviated_12":"dec","cldr_month_stand-alone_abbreviated_2":"feb","cldr_month_stand-alone_abbreviated_3":"mrt","cldr_month_stand-alone_abbreviated_4":"apr","cldr_month_stand-alone_abbreviated_5":"mei","cldr_month_stand-alone_abbreviated_6":"jun","cldr_month_stand-alone_abbreviated_7":"jul","cldr_month_stand-alone_abbreviated_8":"aug","cldr_month_stand-alone_abbreviated_9":"sep","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"januari","cldr_month_stand-alone_wide_10":"oktober","cldr_month_stand-alone_wide_11":"november","cldr_month_stand-alone_wide_12":"december","cldr_month_stand-alone_wide_2":"februari","cldr_month_stand-alone_wide_3":"maart","cldr_month_stand-alone_wide_4":"april","cldr_month_stand-alone_wide_5":"mei","cldr_month_stand-alone_wide_6":"juni","cldr_month_stand-alone_wide_7":"juli","cldr_month_stand-alone_wide_8":"augustus","cldr_month_stand-alone_wide_9":"september","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0%","cldr_pm":"PM","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"”","quotationStart":"“"},"pl":{"alternateQuotationEnd":"»","alternateQuotationStart":"«","cldr_am":"AM","cldr_date_format_full":"EEEE, d MMMM y","cldr_date_format_long":"d MMMM y","cldr_date_format_medium":"d MMM y","cldr_date_format_short":"dd.MM.y","cldr_date_time_format_EHm":"E, HH:mm","cldr_date_time_format_EHms":"E, HH:mm:ss","cldr_date_time_format_Ed":"E, d","cldr_date_time_format_Ehm":"E, h:mm a","cldr_date_time_format_Ehms":"E, h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E, d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, d.MM","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, d MMM","cldr_date_time_format_MMMMd":"d MMMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_MMdd":"d.MM","cldr_date_time_format_Md":"d.MM","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"MM.y","cldr_date_time_format_yMEd":"E, d.MM.y","cldr_date_time_format_yMM":"MM.y","cldr_date_time_format_yMMM":"LLL y","cldr_date_time_format_yMMMEd":"E, d MMM y","cldr_date_time_format_yMMMM":"LLLL y","cldr_date_time_format_yMMMd":"d MMM y","cldr_date_time_format_yMd":"d.MM.y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"pt.","cldr_day_format_abbreviated_mon":"pon.","cldr_day_format_abbreviated_sat":"sob.","cldr_day_format_abbreviated_sun":"niedz.","cldr_day_format_abbreviated_thu":"czw.","cldr_day_format_abbreviated_tue":"wt.","cldr_day_format_abbreviated_wed":"śr.","cldr_day_format_narrow_fri":"P","cldr_day_format_narrow_mon":"P","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"N","cldr_day_format_narrow_thu":"C","cldr_day_format_narrow_tue":"W","cldr_day_format_narrow_wed":"Ś","cldr_day_format_short_fri":"pt.","cldr_day_format_short_mon":"pon.","cldr_day_format_short_sat":"sob.","cldr_day_format_short_sun":"niedz.","cldr_day_format_short_thu":"czw.","cldr_day_format_short_tue":"wt.","cldr_day_format_short_wed":"śr.","cldr_day_format_wide_fri":"piątek","cldr_day_format_wide_mon":"poniedziałek","cldr_day_format_wide_sat":"sobota","cldr_day_format_wide_sun":"niedziela","cldr_day_format_wide_thu":"czwartek","cldr_day_format_wide_tue":"wtorek","cldr_day_format_wide_wed":"środa","cldr_day_stand-alone_abbreviated_fri":"pt.","cldr_day_stand-alone_abbreviated_mon":"pon.","cldr_day_stand-alone_abbreviated_sat":"sob.","cldr_day_stand-alone_abbreviated_sun":"niedz.","cldr_day_stand-alone_abbreviated_thu":"czw.","cldr_day_stand-alone_abbreviated_tue":"wt.","cldr_day_stand-alone_abbreviated_wed":"śr.","cldr_day_stand-alone_narrow_fri":"P","cldr_day_stand-alone_narrow_mon":"P","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"N","cldr_day_stand-alone_narrow_thu":"C","cldr_day_stand-alone_narrow_tue":"W","cldr_day_stand-alone_narrow_wed":"Ś","cldr_day_stand-alone_short_fri":"pt.","cldr_day_stand-alone_short_mon":"pon.","cldr_day_stand-alone_short_sat":"sob.","cldr_day_stand-alone_short_sun":"niedz.","cldr_day_stand-alone_short_thu":"czw.","cldr_day_stand-alone_short_tue":"wt.","cldr_day_stand-alone_short_wed":"śr.","cldr_day_stand-alone_wide_fri":"piątek","cldr_day_stand-alone_wide_mon":"poniedziałek","cldr_day_stand-alone_wide_sat":"sobota","cldr_day_stand-alone_wide_sun":"niedziela","cldr_day_stand-alone_wide_thu":"czwartek","cldr_day_stand-alone_wide_tue":"wtorek","cldr_day_stand-alone_wide_wed":"środa","cldr_month_format_abbreviated_1":"sty","cldr_month_format_abbreviated_10":"paź","cldr_month_format_abbreviated_11":"lis","cldr_month_format_abbreviated_12":"gru","cldr_month_format_abbreviated_2":"lut","cldr_month_format_abbreviated_3":"mar","cldr_month_format_abbreviated_4":"kwi","cldr_month_format_abbreviated_5":"maj","cldr_month_format_abbreviated_6":"cze","cldr_month_format_abbreviated_7":"lip","cldr_month_format_abbreviated_8":"sie","cldr_month_format_abbreviated_9":"wrz","cldr_month_format_narrow_1":"s","cldr_month_format_narrow_10":"p","cldr_month_format_narrow_11":"l","cldr_month_format_narrow_12":"g","cldr_month_format_narrow_2":"l","cldr_month_format_narrow_3":"m","cldr_month_format_narrow_4":"k","cldr_month_format_narrow_5":"m","cldr_month_format_narrow_6":"c","cldr_month_format_narrow_7":"l","cldr_month_format_narrow_8":"s","cldr_month_format_narrow_9":"w","cldr_month_format_wide_1":"stycznia","cldr_month_format_wide_10":"października","cldr_month_format_wide_11":"listopada","cldr_month_format_wide_12":"grudnia","cldr_month_format_wide_2":"lutego","cldr_month_format_wide_3":"marca","cldr_month_format_wide_4":"kwietnia","cldr_month_format_wide_5":"maja","cldr_month_format_wide_6":"czerwca","cldr_month_format_wide_7":"lipca","cldr_month_format_wide_8":"sierpnia","cldr_month_format_wide_9":"września","cldr_month_stand-alone_abbreviated_1":"sty","cldr_month_stand-alone_abbreviated_10":"paź","cldr_month_stand-alone_abbreviated_11":"lis","cldr_month_stand-alone_abbreviated_12":"gru","cldr_month_stand-alone_abbreviated_2":"lut","cldr_month_stand-alone_abbreviated_3":"mar","cldr_month_stand-alone_abbreviated_4":"kwi","cldr_month_stand-alone_abbreviated_5":"maj","cldr_month_stand-alone_abbreviated_6":"cze","cldr_month_stand-alone_abbreviated_7":"lip","cldr_month_stand-alone_abbreviated_8":"sie","cldr_month_stand-alone_abbreviated_9":"wrz","cldr_month_stand-alone_narrow_1":"s","cldr_month_stand-alone_narrow_10":"p","cldr_month_stand-alone_narrow_11":"l","cldr_month_stand-alone_narrow_12":"g","cldr_month_stand-alone_narrow_2":"l","cldr_month_stand-alone_narrow_3":"m","cldr_month_stand-alone_narrow_4":"k","cldr_month_stand-alone_narrow_5":"m","cldr_month_stand-alone_narrow_6":"c","cldr_month_stand-alone_narrow_7":"l","cldr_month_stand-alone_narrow_8":"s","cldr_month_stand-alone_narrow_9":"w","cldr_month_stand-alone_wide_1":"styczeń","cldr_month_stand-alone_wide_10":"październik","cldr_month_stand-alone_wide_11":"listopad","cldr_month_stand-alone_wide_12":"grudzień","cldr_month_stand-alone_wide_2":"luty","cldr_month_stand-alone_wide_3":"marzec","cldr_month_stand-alone_wide_4":"kwiecień","cldr_month_stand-alone_wide_5":"maj","cldr_month_stand-alone_wide_6":"czerwiec","cldr_month_stand-alone_wide_7":"lipiec","cldr_month_stand-alone_wide_8":"sierpień","cldr_month_stand-alone_wide_9":"wrzesień","cldr_number_decimal_separator":",","cldr_number_group_separator":" ","cldr_number_percent_format":"#,##0%","cldr_pm":"PM","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"”","quotationStart":"„"},"pt":{"alternateQuotationEnd":"’","alternateQuotationStart":"‘","cldr_am":"AM","cldr_date_format_full":"EEEE, d 'de' MMMM 'de' y","cldr_date_format_long":"d 'de' MMMM 'de' y","cldr_date_format_medium":"dd/MM/y","cldr_date_format_short":"dd/MM/yy","cldr_date_time_format_EHm":"E, HH:mm","cldr_date_time_format_EHms":"E, HH:mm:ss","cldr_date_time_format_Ed":"E, d","cldr_date_time_format_Ehm":"E, h:mm a","cldr_date_time_format_Ehms":"E, h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM 'de' y G","cldr_date_time_format_GyMMMEd":"E, d 'de' MMM 'de' y G","cldr_date_time_format_GyMMMd":"d 'de' MMM 'de' y G","cldr_date_time_format_H":"HH","cldr_date_time_format_HHmm":"HH:mm","cldr_date_time_format_HHmmss":"HH:mm:ss","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, dd/MM","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, d 'de' MMM","cldr_date_time_format_MMMd":"d 'de' MMM","cldr_date_time_format_MMdd":"dd/MM","cldr_date_time_format_Md":"d/M","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"MM/y","cldr_date_time_format_yMEd":"E, dd/MM/y","cldr_date_time_format_yMM":"MM/y","cldr_date_time_format_yMMM":"MMM 'de' y","cldr_date_time_format_yMMMEd":"E, d 'de' MMM 'de' y","cldr_date_time_format_yMMMd":"d 'de' MMM 'de' y","cldr_date_time_format_yMd":"dd/MM/y","cldr_date_time_format_yQQQ":"y QQQ","cldr_date_time_format_yQQQQ":"y QQQQ","cldr_day_format_abbreviated_fri":"sex","cldr_day_format_abbreviated_mon":"seg","cldr_day_format_abbreviated_sat":"sáb","cldr_day_format_abbreviated_sun":"dom","cldr_day_format_abbreviated_thu":"qui","cldr_day_format_abbreviated_tue":"ter","cldr_day_format_abbreviated_wed":"qua","cldr_day_format_narrow_fri":"S","cldr_day_format_narrow_mon":"S","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"D","cldr_day_format_narrow_thu":"Q","cldr_day_format_narrow_tue":"T","cldr_day_format_narrow_wed":"Q","cldr_day_format_short_fri":"sex","cldr_day_format_short_mon":"seg","cldr_day_format_short_sat":"sáb","cldr_day_format_short_sun":"dom","cldr_day_format_short_thu":"qui","cldr_day_format_short_tue":"ter","cldr_day_format_short_wed":"qua","cldr_day_format_wide_fri":"sexta-feira","cldr_day_format_wide_mon":"segunda-feira","cldr_day_format_wide_sat":"sábado","cldr_day_format_wide_sun":"domingo","cldr_day_format_wide_thu":"quinta-feira","cldr_day_format_wide_tue":"terça-feira","cldr_day_format_wide_wed":"quarta-feira","cldr_day_stand-alone_abbreviated_fri":"sex","cldr_day_stand-alone_abbreviated_mon":"seg","cldr_day_stand-alone_abbreviated_sat":"sáb","cldr_day_stand-alone_abbreviated_sun":"dom","cldr_day_stand-alone_abbreviated_thu":"qui","cldr_day_stand-alone_abbreviated_tue":"ter","cldr_day_stand-alone_abbreviated_wed":"qua","cldr_day_stand-alone_narrow_fri":"S","cldr_day_stand-alone_narrow_mon":"S","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"D","cldr_day_stand-alone_narrow_thu":"Q","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"Q","cldr_day_stand-alone_short_fri":"sex","cldr_day_stand-alone_short_mon":"seg","cldr_day_stand-alone_short_sat":"sáb","cldr_day_stand-alone_short_sun":"dom","cldr_day_stand-alone_short_thu":"qui","cldr_day_stand-alone_short_tue":"ter","cldr_day_stand-alone_short_wed":"qua","cldr_day_stand-alone_wide_fri":"sexta-feira","cldr_day_stand-alone_wide_mon":"segunda-feira","cldr_day_stand-alone_wide_sat":"sábado","cldr_day_stand-alone_wide_sun":"domingo","cldr_day_stand-alone_wide_thu":"quinta-feira","cldr_day_stand-alone_wide_tue":"terça-feira","cldr_day_stand-alone_wide_wed":"quarta-feira","cldr_month_format_abbreviated_1":"jan","cldr_month_format_abbreviated_10":"out","cldr_month_format_abbreviated_11":"nov","cldr_month_format_abbreviated_12":"dez","cldr_month_format_abbreviated_2":"fev","cldr_month_format_abbreviated_3":"mar","cldr_month_format_abbreviated_4":"abr","cldr_month_format_abbreviated_5":"mai","cldr_month_format_abbreviated_6":"jun","cldr_month_format_abbreviated_7":"jul","cldr_month_format_abbreviated_8":"ago","cldr_month_format_abbreviated_9":"set","cldr_month_format_narrow_1":"J","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"janeiro","cldr_month_format_wide_10":"outubro","cldr_month_format_wide_11":"novembro","cldr_month_format_wide_12":"dezembro","cldr_month_format_wide_2":"fevereiro","cldr_month_format_wide_3":"março","cldr_month_format_wide_4":"abril","cldr_month_format_wide_5":"maio","cldr_month_format_wide_6":"junho","cldr_month_format_wide_7":"julho","cldr_month_format_wide_8":"agosto","cldr_month_format_wide_9":"setembro","cldr_month_stand-alone_abbreviated_1":"jan","cldr_month_stand-alone_abbreviated_10":"out","cldr_month_stand-alone_abbreviated_11":"nov","cldr_month_stand-alone_abbreviated_12":"dez","cldr_month_stand-alone_abbreviated_2":"fev","cldr_month_stand-alone_abbreviated_3":"mar","cldr_month_stand-alone_abbreviated_4":"abr","cldr_month_stand-alone_abbreviated_5":"mai","cldr_month_stand-alone_abbreviated_6":"jun","cldr_month_stand-alone_abbreviated_7":"jul","cldr_month_stand-alone_abbreviated_8":"ago","cldr_month_stand-alone_abbreviated_9":"set","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"janeiro","cldr_month_stand-alone_wide_10":"outubro","cldr_month_stand-alone_wide_11":"novembro","cldr_month_stand-alone_wide_12":"dezembro","cldr_month_stand-alone_wide_2":"fevereiro","cldr_month_stand-alone_wide_3":"março","cldr_month_stand-alone_wide_4":"abril","cldr_month_stand-alone_wide_5":"maio","cldr_month_stand-alone_wide_6":"junho","cldr_month_stand-alone_wide_7":"julho","cldr_month_stand-alone_wide_8":"agosto","cldr_month_stand-alone_wide_9":"setembro","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0%","cldr_pm":"PM","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"”","quotationStart":"“"},"ro":{"alternateQuotationEnd":"»","alternateQuotationStart":"«","cldr_am":"a.m.","cldr_date_format_full":"EEEE, d MMMM y","cldr_date_format_long":"d MMMM y","cldr_date_format_medium":"d MMM y","cldr_date_format_short":"dd.MM.y","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"E d","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E, d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, dd.MM","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, d MMM","cldr_date_time_format_MMMMEd":"E, d MMMM","cldr_date_time_format_MMMMd":"d MMMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_MMdd":"dd.MM","cldr_date_time_format_Md":"dd.MM","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"MM.y","cldr_date_time_format_yMEd":"E, dd.MM.y","cldr_date_time_format_yMM":"MM.y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E, d MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d MMM y","cldr_date_time_format_yMd":"dd.MM.y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"Vin","cldr_day_format_abbreviated_mon":"Lun","cldr_day_format_abbreviated_sat":"Sâm","cldr_day_format_abbreviated_sun":"Dum","cldr_day_format_abbreviated_thu":"Joi","cldr_day_format_abbreviated_tue":"Mar","cldr_day_format_abbreviated_wed":"Mie","cldr_day_format_narrow_fri":"V","cldr_day_format_narrow_mon":"L","cldr_day_format_narrow_sat":"S","cldr_day_format_narrow_sun":"D","cldr_day_format_narrow_thu":"J","cldr_day_format_narrow_tue":"M","cldr_day_format_narrow_wed":"M","cldr_day_format_short_fri":"Vi","cldr_day_format_short_mon":"Lu","cldr_day_format_short_sat":"Sâ","cldr_day_format_short_sun":"Du","cldr_day_format_short_thu":"Jo","cldr_day_format_short_tue":"Ma","cldr_day_format_short_wed":"Mi","cldr_day_format_wide_fri":"vineri","cldr_day_format_wide_mon":"luni","cldr_day_format_wide_sat":"sâmbătă","cldr_day_format_wide_sun":"duminică","cldr_day_format_wide_thu":"joi","cldr_day_format_wide_tue":"marți","cldr_day_format_wide_wed":"miercuri","cldr_day_stand-alone_abbreviated_fri":"Vin","cldr_day_stand-alone_abbreviated_mon":"Lun","cldr_day_stand-alone_abbreviated_sat":"Sâm","cldr_day_stand-alone_abbreviated_sun":"Dum","cldr_day_stand-alone_abbreviated_thu":"Joi","cldr_day_stand-alone_abbreviated_tue":"Mar","cldr_day_stand-alone_abbreviated_wed":"Mie","cldr_day_stand-alone_narrow_fri":"V","cldr_day_stand-alone_narrow_mon":"L","cldr_day_stand-alone_narrow_sat":"S","cldr_day_stand-alone_narrow_sun":"D","cldr_day_stand-alone_narrow_thu":"J","cldr_day_stand-alone_narrow_tue":"M","cldr_day_stand-alone_narrow_wed":"M","cldr_day_stand-alone_short_fri":"Vi","cldr_day_stand-alone_short_mon":"Lu","cldr_day_stand-alone_short_sat":"Sâ","cldr_day_stand-alone_short_sun":"Du","cldr_day_stand-alone_short_thu":"Jo","cldr_day_stand-alone_short_tue":"Ma","cldr_day_stand-alone_short_wed":"Mi","cldr_day_stand-alone_wide_fri":"vineri","cldr_day_stand-alone_wide_mon":"luni","cldr_day_stand-alone_wide_sat":"sâmbătă","cldr_day_stand-alone_wide_sun":"duminică","cldr_day_stand-alone_wide_thu":"joi","cldr_day_stand-alone_wide_tue":"marți","cldr_day_stand-alone_wide_wed":"miercuri","cldr_month_format_abbreviated_1":"ian.","cldr_month_format_abbreviated_10":"oct.","cldr_month_format_abbreviated_11":"nov.","cldr_month_format_abbreviated_12":"dec.","cldr_month_format_abbreviated_2":"feb.","cldr_month_format_abbreviated_3":"mar.","cldr_month_format_abbreviated_4":"apr.","cldr_month_format_abbreviated_5":"mai","cldr_month_format_abbreviated_6":"iun.","cldr_month_format_abbreviated_7":"iul.","cldr_month_format_abbreviated_8":"aug.","cldr_month_format_abbreviated_9":"sept.","cldr_month_format_narrow_1":"I","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"I","cldr_month_format_narrow_7":"I","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"ianuarie","cldr_month_format_wide_10":"octombrie","cldr_month_format_wide_11":"noiembrie","cldr_month_format_wide_12":"decembrie","cldr_month_format_wide_2":"februarie","cldr_month_format_wide_3":"martie","cldr_month_format_wide_4":"aprilie","cldr_month_format_wide_5":"mai","cldr_month_format_wide_6":"iunie","cldr_month_format_wide_7":"iulie","cldr_month_format_wide_8":"august","cldr_month_format_wide_9":"septembrie","cldr_month_stand-alone_abbreviated_1":"ian.","cldr_month_stand-alone_abbreviated_10":"oct.","cldr_month_stand-alone_abbreviated_11":"nov.","cldr_month_stand-alone_abbreviated_12":"dec.","cldr_month_stand-alone_abbreviated_2":"feb.","cldr_month_stand-alone_abbreviated_3":"mar.","cldr_month_stand-alone_abbreviated_4":"apr.","cldr_month_stand-alone_abbreviated_5":"mai","cldr_month_stand-alone_abbreviated_6":"iun.","cldr_month_stand-alone_abbreviated_7":"iul.","cldr_month_stand-alone_abbreviated_8":"aug.","cldr_month_stand-alone_abbreviated_9":"sept.","cldr_month_stand-alone_narrow_1":"I","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"I","cldr_month_stand-alone_narrow_7":"I","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"ianuarie","cldr_month_stand-alone_wide_10":"octombrie","cldr_month_stand-alone_wide_11":"noiembrie","cldr_month_stand-alone_wide_12":"decembrie","cldr_month_stand-alone_wide_2":"februarie","cldr_month_stand-alone_wide_3":"martie","cldr_month_stand-alone_wide_4":"aprilie","cldr_month_stand-alone_wide_5":"mai","cldr_month_stand-alone_wide_6":"iunie","cldr_month_stand-alone_wide_7":"iulie","cldr_month_stand-alone_wide_8":"august","cldr_month_stand-alone_wide_9":"septembrie","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0 %","cldr_pm":"p.m.","cldr_time_format_full":"HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"”","quotationStart":"„"},"ru":{"alternateQuotationEnd":"“","alternateQuotationStart":"„","cldr_am":"AM","cldr_date_format_full":"EEEE, d MMMM y 'г'.","cldr_date_format_long":"d MMMM y 'г'.","cldr_date_format_medium":"d MMM y 'г'.","cldr_date_format_short":"dd.MM.yy","cldr_date_time_format_E":"ccc","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"ccc, d","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"LLL y G","cldr_date_time_format_GyMMMEd":"E, d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y 'г'. G","cldr_date_time_format_H":"H","cldr_date_time_format_Hm":"H:mm","cldr_date_time_format_Hms":"H:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, dd.MM","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"ccc, d MMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_MMdd":"dd.MM","cldr_date_time_format_Md":"dd.MM","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yLLLL":"LLLL y","cldr_date_time_format_yM":"MM.y","cldr_date_time_format_yMEd":"ccc, d.MM.y 'г'.","cldr_date_time_format_yMM":"MM.y","cldr_date_time_format_yMMM":"LLL y","cldr_date_time_format_yMMMEd":"E, d MMM y","cldr_date_time_format_yMMMM":"LLLL y","cldr_date_time_format_yMMMd":"d MMM y 'г'.","cldr_date_time_format_yMd":"dd.MM.y","cldr_date_time_format_yQQQ":"QQQ y 'г'.","cldr_date_time_format_yQQQQ":"QQQQ y 'г'.","cldr_day_format_abbreviated_fri":"пт","cldr_day_format_abbreviated_mon":"пн","cldr_day_format_abbreviated_sat":"сб","cldr_day_format_abbreviated_sun":"вс","cldr_day_format_abbreviated_thu":"чт","cldr_day_format_abbreviated_tue":"вт","cldr_day_format_abbreviated_wed":"ср","cldr_day_format_narrow_fri":"пт","cldr_day_format_narrow_mon":"пн","cldr_day_format_narrow_sat":"сб","cldr_day_format_narrow_sun":"вс","cldr_day_format_narrow_thu":"чт","cldr_day_format_narrow_tue":"вт","cldr_day_format_narrow_wed":"ср","cldr_day_format_short_fri":"пт","cldr_day_format_short_mon":"пн","cldr_day_format_short_sat":"сб","cldr_day_format_short_sun":"вс","cldr_day_format_short_thu":"чт","cldr_day_format_short_tue":"вт","cldr_day_format_short_wed":"ср","cldr_day_format_wide_fri":"пятница","cldr_day_format_wide_mon":"понедельник","cldr_day_format_wide_sat":"суббота","cldr_day_format_wide_sun":"воскресенье","cldr_day_format_wide_thu":"четверг","cldr_day_format_wide_tue":"вторник","cldr_day_format_wide_wed":"среда","cldr_day_stand-alone_abbreviated_fri":"Пт","cldr_day_stand-alone_abbreviated_mon":"Пн","cldr_day_stand-alone_abbreviated_sat":"Сб","cldr_day_stand-alone_abbreviated_sun":"Вс","cldr_day_stand-alone_abbreviated_thu":"Чт","cldr_day_stand-alone_abbreviated_tue":"Вт","cldr_day_stand-alone_abbreviated_wed":"Ср","cldr_day_stand-alone_narrow_fri":"П","cldr_day_stand-alone_narrow_mon":"П","cldr_day_stand-alone_narrow_sat":"С","cldr_day_stand-alone_narrow_sun":"В","cldr_day_stand-alone_narrow_thu":"Ч","cldr_day_stand-alone_narrow_tue":"В","cldr_day_stand-alone_narrow_wed":"С","cldr_day_stand-alone_short_fri":"пт","cldr_day_stand-alone_short_mon":"пн","cldr_day_stand-alone_short_sat":"сб","cldr_day_stand-alone_short_sun":"вс","cldr_day_stand-alone_short_thu":"чт","cldr_day_stand-alone_short_tue":"вт","cldr_day_stand-alone_short_wed":"ср","cldr_day_stand-alone_wide_fri":"Пятница","cldr_day_stand-alone_wide_mon":"Понедельник","cldr_day_stand-alone_wide_sat":"Суббота","cldr_day_stand-alone_wide_sun":"Воскресенье","cldr_day_stand-alone_wide_thu":"Четверг","cldr_day_stand-alone_wide_tue":"Вторник","cldr_day_stand-alone_wide_wed":"Среда","cldr_month_format_abbreviated_1":"янв.","cldr_month_format_abbreviated_10":"окт.","cldr_month_format_abbreviated_11":"нояб.","cldr_month_format_abbreviated_12":"дек.","cldr_month_format_abbreviated_2":"февр.","cldr_month_format_abbreviated_3":"марта","cldr_month_format_abbreviated_4":"апр.","cldr_month_format_abbreviated_5":"мая","cldr_month_format_abbreviated_6":"июня","cldr_month_format_abbreviated_7":"июля","cldr_month_format_abbreviated_8":"авг.","cldr_month_format_abbreviated_9":"сент.","cldr_month_format_narrow_1":"Я","cldr_month_format_narrow_10":"О","cldr_month_format_narrow_11":"Н","cldr_month_format_narrow_12":"Д","cldr_month_format_narrow_2":"Ф","cldr_month_format_narrow_3":"М","cldr_month_format_narrow_4":"А","cldr_month_format_narrow_5":"М","cldr_month_format_narrow_6":"И","cldr_month_format_narrow_7":"И","cldr_month_format_narrow_8":"А","cldr_month_format_narrow_9":"С","cldr_month_format_wide_1":"января","cldr_month_format_wide_10":"октября","cldr_month_format_wide_11":"ноября","cldr_month_format_wide_12":"декабря","cldr_month_format_wide_2":"февраля","cldr_month_format_wide_3":"марта","cldr_month_format_wide_4":"апреля","cldr_month_format_wide_5":"мая","cldr_month_format_wide_6":"июня","cldr_month_format_wide_7":"июля","cldr_month_format_wide_8":"августа","cldr_month_format_wide_9":"сентября","cldr_month_stand-alone_abbreviated_1":"Янв.","cldr_month_stand-alone_abbreviated_10":"Окт.","cldr_month_stand-alone_abbreviated_11":"Нояб.","cldr_month_stand-alone_abbreviated_12":"Дек.","cldr_month_stand-alone_abbreviated_2":"Февр.","cldr_month_stand-alone_abbreviated_3":"Март","cldr_month_stand-alone_abbreviated_4":"Апр.","cldr_month_stand-alone_abbreviated_5":"Май","cldr_month_stand-alone_abbreviated_6":"Июнь","cldr_month_stand-alone_abbreviated_7":"Июль","cldr_month_stand-alone_abbreviated_8":"Авг.","cldr_month_stand-alone_abbreviated_9":"Сент.","cldr_month_stand-alone_narrow_1":"Я","cldr_month_stand-alone_narrow_10":"О","cldr_month_stand-alone_narrow_11":"Н","cldr_month_stand-alone_narrow_12":"Д","cldr_month_stand-alone_narrow_2":"Ф","cldr_month_stand-alone_narrow_3":"М","cldr_month_stand-alone_narrow_4":"А","cldr_month_stand-alone_narrow_5":"М","cldr_month_stand-alone_narrow_6":"И","cldr_month_stand-alone_narrow_7":"И","cldr_month_stand-alone_narrow_8":"А","cldr_month_stand-alone_narrow_9":"С","cldr_month_stand-alone_wide_1":"Январь","cldr_month_stand-alone_wide_10":"Октябрь","cldr_month_stand-alone_wide_11":"Ноябрь","cldr_month_stand-alone_wide_12":"Декабрь","cldr_month_stand-alone_wide_2":"Февраль","cldr_month_stand-alone_wide_3":"Март","cldr_month_stand-alone_wide_4":"Апрель","cldr_month_stand-alone_wide_5":"Май","cldr_month_stand-alone_wide_6":"Июнь","cldr_month_stand-alone_wide_7":"Июль","cldr_month_stand-alone_wide_8":"Август","cldr_month_stand-alone_wide_9":"Сентябрь","cldr_number_decimal_separator":",","cldr_number_group_separator":" ","cldr_number_percent_format":"#,##0 %","cldr_pm":"PM","cldr_time_format_full":"H:mm:ss zzzz","cldr_time_format_long":"H:mm:ss z","cldr_time_format_medium":"H:mm:ss","cldr_time_format_short":"H:mm","quotationEnd":"»","quotationStart":"«"},"sl":{"alternateQuotationEnd":"‘","alternateQuotationStart":"‚","cldr_am":"dop.","cldr_date_format_full":"EEEE, dd. MMMM y","cldr_date_format_long":"dd. MMMM y","cldr_date_format_medium":"d. MMM y","cldr_date_format_short":"d. MM. yy","cldr_date_time_format_EHm":"E HH.mm","cldr_date_time_format_EHms":"E HH.mm.ss","cldr_date_time_format_Ed":"E, d.","cldr_date_time_format_Ehm":"E h.mm a","cldr_date_time_format_Ehms":"E h.mm.ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyM":"M/y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E, d. MMM y G","cldr_date_time_format_GyMMMd":"d. MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH.mm","cldr_date_time_format_Hms":"HH.mm.ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E, d. MM.","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E, d. MMM","cldr_date_time_format_MMMd":"d. MMM","cldr_date_time_format_Md":"d. M.","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h.mm a","cldr_date_time_format_hms":"h.mm.ss a","cldr_date_time_format_ms":"mm.ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"M/y","cldr_date_time_format_yMEd":"E, d. M. y","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E, d. MMM y","cldr_date_time_format_yMMMM":"MMMM y","cldr_date_time_format_yMMMd":"d. MMM y","cldr_date_time_format_yMd":"d. M. y","cldr_date_time_format_yQQQ":"QQQ y","cldr_date_time_format_yQQQQ":"QQQQ y","cldr_day_format_abbreviated_fri":"pet.","cldr_day_format_abbreviated_mon":"pon.","cldr_day_format_abbreviated_sat":"sob.","cldr_day_format_abbreviated_sun":"ned.","cldr_day_format_abbreviated_thu":"čet.","cldr_day_format_abbreviated_tue":"tor.","cldr_day_format_abbreviated_wed":"sre.","cldr_day_format_narrow_fri":"p","cldr_day_format_narrow_mon":"p","cldr_day_format_narrow_sat":"s","cldr_day_format_narrow_sun":"n","cldr_day_format_narrow_thu":"č","cldr_day_format_narrow_tue":"t","cldr_day_format_narrow_wed":"s","cldr_day_format_short_fri":"pet.","cldr_day_format_short_mon":"pon.","cldr_day_format_short_sat":"sob.","cldr_day_format_short_sun":"ned.","cldr_day_format_short_thu":"čet.","cldr_day_format_short_tue":"tor.","cldr_day_format_short_wed":"sre.","cldr_day_format_wide_fri":"petek","cldr_day_format_wide_mon":"ponedeljek","cldr_day_format_wide_sat":"sobota","cldr_day_format_wide_sun":"nedelja","cldr_day_format_wide_thu":"četrtek","cldr_day_format_wide_tue":"torek","cldr_day_format_wide_wed":"sreda","cldr_day_stand-alone_abbreviated_fri":"pet","cldr_day_stand-alone_abbreviated_mon":"pon","cldr_day_stand-alone_abbreviated_sat":"sob","cldr_day_stand-alone_abbreviated_sun":"ned","cldr_day_stand-alone_abbreviated_thu":"čet","cldr_day_stand-alone_abbreviated_tue":"tor","cldr_day_stand-alone_abbreviated_wed":"sre","cldr_day_stand-alone_narrow_fri":"p","cldr_day_stand-alone_narrow_mon":"p","cldr_day_stand-alone_narrow_sat":"s","cldr_day_stand-alone_narrow_sun":"n","cldr_day_stand-alone_narrow_thu":"č","cldr_day_stand-alone_narrow_tue":"t","cldr_day_stand-alone_narrow_wed":"s","cldr_day_stand-alone_short_fri":"pet.","cldr_day_stand-alone_short_mon":"pon.","cldr_day_stand-alone_short_sat":"sob.","cldr_day_stand-alone_short_sun":"ned.","cldr_day_stand-alone_short_thu":"čet.","cldr_day_stand-alone_short_tue":"tor.","cldr_day_stand-alone_short_wed":"sre.","cldr_day_stand-alone_wide_fri":"petek","cldr_day_stand-alone_wide_mon":"ponedeljek","cldr_day_stand-alone_wide_sat":"sobota","cldr_day_stand-alone_wide_sun":"nedelja","cldr_day_stand-alone_wide_thu":"četrtek","cldr_day_stand-alone_wide_tue":"torek","cldr_day_stand-alone_wide_wed":"sreda","cldr_month_format_abbreviated_1":"jan.","cldr_month_format_abbreviated_10":"okt.","cldr_month_format_abbreviated_11":"nov.","cldr_month_format_abbreviated_12":"dec.","cldr_month_format_abbreviated_2":"feb.","cldr_month_format_abbreviated_3":"mar.","cldr_month_format_abbreviated_4":"apr.","cldr_month_format_abbreviated_5":"maj","cldr_month_format_abbreviated_6":"jun.","cldr_month_format_abbreviated_7":"jul.","cldr_month_format_abbreviated_8":"avg.","cldr_month_format_abbreviated_9":"sep.","cldr_month_format_narrow_1":"j","cldr_month_format_narrow_10":"o","cldr_month_format_narrow_11":"n","cldr_month_format_narrow_12":"d","cldr_month_format_narrow_2":"f","cldr_month_format_narrow_3":"m","cldr_month_format_narrow_4":"a","cldr_month_format_narrow_5":"m","cldr_month_format_narrow_6":"j","cldr_month_format_narrow_7":"j","cldr_month_format_narrow_8":"a","cldr_month_format_narrow_9":"s","cldr_month_format_wide_1":"januar","cldr_month_format_wide_10":"oktober","cldr_month_format_wide_11":"november","cldr_month_format_wide_12":"december","cldr_month_format_wide_2":"februar","cldr_month_format_wide_3":"marec","cldr_month_format_wide_4":"april","cldr_month_format_wide_5":"maj","cldr_month_format_wide_6":"junij","cldr_month_format_wide_7":"julij","cldr_month_format_wide_8":"avgust","cldr_month_format_wide_9":"september","cldr_month_stand-alone_abbreviated_1":"jan","cldr_month_stand-alone_abbreviated_10":"okt","cldr_month_stand-alone_abbreviated_11":"nov","cldr_month_stand-alone_abbreviated_12":"dec","cldr_month_stand-alone_abbreviated_2":"feb","cldr_month_stand-alone_abbreviated_3":"mar","cldr_month_stand-alone_abbreviated_4":"apr","cldr_month_stand-alone_abbreviated_5":"maj","cldr_month_stand-alone_abbreviated_6":"jun","cldr_month_stand-alone_abbreviated_7":"jul","cldr_month_stand-alone_abbreviated_8":"avg","cldr_month_stand-alone_abbreviated_9":"sep","cldr_month_stand-alone_narrow_1":"j","cldr_month_stand-alone_narrow_10":"o","cldr_month_stand-alone_narrow_11":"n","cldr_month_stand-alone_narrow_12":"d","cldr_month_stand-alone_narrow_2":"f","cldr_month_stand-alone_narrow_3":"m","cldr_month_stand-alone_narrow_4":"a","cldr_month_stand-alone_narrow_5":"m","cldr_month_stand-alone_narrow_6":"j","cldr_month_stand-alone_narrow_7":"j","cldr_month_stand-alone_narrow_8":"a","cldr_month_stand-alone_narrow_9":"s","cldr_month_stand-alone_wide_1":"januar","cldr_month_stand-alone_wide_10":"oktober","cldr_month_stand-alone_wide_11":"november","cldr_month_stand-alone_wide_12":"december","cldr_month_stand-alone_wide_2":"februar","cldr_month_stand-alone_wide_3":"marec","cldr_month_stand-alone_wide_4":"april","cldr_month_stand-alone_wide_5":"maj","cldr_month_stand-alone_wide_6":"junij","cldr_month_stand-alone_wide_7":"julij","cldr_month_stand-alone_wide_8":"avgust","cldr_month_stand-alone_wide_9":"september","cldr_number_decimal_separator":",","cldr_number_group_separator":".","cldr_number_percent_format":"#,##0%","cldr_pm":"pop.","cldr_time_format_full":"HH.mm.ss zzzz","cldr_time_format_long":"HH.mm.ss z","cldr_time_format_medium":"HH.mm.ss","cldr_time_format_short":"HH.mm","quotationEnd":"“","quotationStart":"„"},"sv":{"alternateQuotationEnd":"’","alternateQuotationStart":"’","cldr_am":"fm","cldr_date_format_full":"EEEE d MMMM y","cldr_date_format_long":"d MMMM y","cldr_date_format_medium":"d MMM y","cldr_date_format_short":"y-MM-dd","cldr_date_time_format_EHm":"E HH:mm","cldr_date_time_format_EHms":"E HH:mm:ss","cldr_date_time_format_Ed":"E d","cldr_date_time_format_Ehm":"E h:mm a","cldr_date_time_format_Ehms":"E h:mm:ss a","cldr_date_time_format_Gy":"y G","cldr_date_time_format_GyMMM":"MMM y G","cldr_date_time_format_GyMMMEd":"E d MMM y G","cldr_date_time_format_GyMMMd":"d MMM y G","cldr_date_time_format_H":"HH","cldr_date_time_format_Hm":"HH:mm","cldr_date_time_format_Hms":"HH:mm:ss","cldr_date_time_format_M":"L","cldr_date_time_format_MEd":"E d/M","cldr_date_time_format_MMM":"LLL","cldr_date_time_format_MMMEd":"E d MMM","cldr_date_time_format_MMMMEd":"E d MMMM","cldr_date_time_format_MMMMd":"d MMMM","cldr_date_time_format_MMMd":"d MMM","cldr_date_time_format_MMd":"d/M","cldr_date_time_format_MMdd":"dd/MM","cldr_date_time_format_Md":"d/M","cldr_date_time_format_d":"d","cldr_date_time_format_h":"h a","cldr_date_time_format_hm":"h:mm a","cldr_date_time_format_hms":"h:mm:ss a","cldr_date_time_format_ms":"mm:ss","cldr_date_time_format_y":"y","cldr_date_time_format_yM":"y-MM","cldr_date_time_format_yMEd":"E, y-MM-dd","cldr_date_time_format_yMM":"y-MM","cldr_date_time_format_yMMM":"MMM y","cldr_date_time_format_yMMMEd":"E d MMM y","cldr_date_time_format_yMMMd":"d MMM y","cldr_date_time_format_yMd":"y-MM-dd","cldr_date_time_format_yQQQ":"y QQQ","cldr_date_time_format_yQQQQ":"y QQQQ","cldr_day_format_abbreviated_fri":"fre","cldr_day_format_abbreviated_mon":"mån","cldr_day_format_abbreviated_sat":"lör","cldr_day_format_abbreviated_sun":"sön","cldr_day_format_abbreviated_thu":"tors","cldr_day_format_abbreviated_tue":"tis","cldr_day_format_abbreviated_wed":"ons","cldr_day_format_narrow_fri":"F","cldr_day_format_narrow_mon":"M","cldr_day_format_narrow_sat":"L","cldr_day_format_narrow_sun":"S","cldr_day_format_narrow_thu":"T","cldr_day_format_narrow_tue":"T","cldr_day_format_narrow_wed":"O","cldr_day_format_short_fri":"fr","cldr_day_format_short_mon":"må","cldr_day_format_short_sat":"lö","cldr_day_format_short_sun":"sö","cldr_day_format_short_thu":"to","cldr_day_format_short_tue":"ti","cldr_day_format_short_wed":"on","cldr_day_format_wide_fri":"fredag","cldr_day_format_wide_mon":"måndag","cldr_day_format_wide_sat":"lördag","cldr_day_format_wide_sun":"söndag","cldr_day_format_wide_thu":"torsdag","cldr_day_format_wide_tue":"tisdag","cldr_day_format_wide_wed":"onsdag","cldr_day_stand-alone_abbreviated_fri":"Fre","cldr_day_stand-alone_abbreviated_mon":"Mån","cldr_day_stand-alone_abbreviated_sat":"Lör","cldr_day_stand-alone_abbreviated_sun":"Sön","cldr_day_stand-alone_abbreviated_thu":"Tor","cldr_day_stand-alone_abbreviated_tue":"Tis","cldr_day_stand-alone_abbreviated_wed":"Ons","cldr_day_stand-alone_narrow_fri":"F","cldr_day_stand-alone_narrow_mon":"M","cldr_day_stand-alone_narrow_sat":"L","cldr_day_stand-alone_narrow_sun":"S","cldr_day_stand-alone_narrow_thu":"T","cldr_day_stand-alone_narrow_tue":"T","cldr_day_stand-alone_narrow_wed":"O","cldr_day_stand-alone_short_fri":"Fr","cldr_day_stand-alone_short_mon":"Må","cldr_day_stand-alone_short_sat":"Lö","cldr_day_stand-alone_short_sun":"Sö","cldr_day_stand-alone_short_thu":"To","cldr_day_stand-alone_short_tue":"Ti","cldr_day_stand-alone_short_wed":"On","cldr_day_stand-alone_wide_fri":"Fredag","cldr_day_stand-alone_wide_mon":"Måndag","cldr_day_stand-alone_wide_sat":"Lördag","cldr_day_stand-alone_wide_sun":"Söndag","cldr_day_stand-alone_wide_thu":"Torsdag","cldr_day_stand-alone_wide_tue":"Tisdag","cldr_day_stand-alone_wide_wed":"Onsdag","cldr_month_format_abbreviated_1":"jan","cldr_month_format_abbreviated_10":"okt","cldr_month_format_abbreviated_11":"nov","cldr_month_format_abbreviated_12":"dec","cldr_month_format_abbreviated_2":"feb","cldr_month_format_abbreviated_3":"mar","cldr_month_format_abbreviated_4":"apr","cldr_month_format_abbreviated_5":"maj","cldr_month_format_abbreviated_6":"jun","cldr_month_format_abbreviated_7":"jul","cldr_month_format_abbreviated_8":"aug","cldr_month_format_abbreviated_9":"sep","cldr_month_format_narrow_1":"J","cldr_month_format_narrow_10":"O","cldr_month_format_narrow_11":"N","cldr_month_format_narrow_12":"D","cldr_month_format_narrow_2":"F","cldr_month_format_narrow_3":"M","cldr_month_format_narrow_4":"A","cldr_month_format_narrow_5":"M","cldr_month_format_narrow_6":"J","cldr_month_format_narrow_7":"J","cldr_month_format_narrow_8":"A","cldr_month_format_narrow_9":"S","cldr_month_format_wide_1":"januari","cldr_month_format_wide_10":"oktober","cldr_month_format_wide_11":"november","cldr_month_format_wide_12":"december","cldr_month_format_wide_2":"februari","cldr_month_format_wide_3":"mars","cldr_month_format_wide_4":"april","cldr_month_format_wide_5":"maj","cldr_month_format_wide_6":"juni","cldr_month_format_wide_7":"juli","cldr_month_format_wide_8":"augusti","cldr_month_format_wide_9":"september","cldr_month_stand-alone_abbreviated_1":"Jan","cldr_month_stand-alone_abbreviated_10":"Okt","cldr_month_stand-alone_abbreviated_11":"Nov","cldr_month_stand-alone_abbreviated_12":"Dec","cldr_month_stand-alone_abbreviated_2":"Feb","cldr_month_stand-alone_abbreviated_3":"Mar","cldr_month_stand-alone_abbreviated_4":"Apr","cldr_month_stand-alone_abbreviated_5":"Maj","cldr_month_stand-alone_abbreviated_6":"Jun","cldr_month_stand-alone_abbreviated_7":"Jul","cldr_month_stand-alone_abbreviated_8":"Aug","cldr_month_stand-alone_abbreviated_9":"Sep","cldr_month_stand-alone_narrow_1":"J","cldr_month_stand-alone_narrow_10":"O","cldr_month_stand-alone_narrow_11":"N","cldr_month_stand-alone_narrow_12":"D","cldr_month_stand-alone_narrow_2":"F","cldr_month_stand-alone_narrow_3":"M","cldr_month_stand-alone_narrow_4":"A","cldr_month_stand-alone_narrow_5":"M","cldr_month_stand-alone_narrow_6":"J","cldr_month_stand-alone_narrow_7":"J","cldr_month_stand-alone_narrow_8":"A","cldr_month_stand-alone_narrow_9":"S","cldr_month_stand-alone_wide_1":"Januari","cldr_month_stand-alone_wide_10":"Oktober","cldr_month_stand-alone_wide_11":"November","cldr_month_stand-alone_wide_12":"December","cldr_month_stand-alone_wide_2":"Februari","cldr_month_stand-alone_wide_3":"Mars","cldr_month_stand-alone_wide_4":"April","cldr_month_stand-alone_wide_5":"Maj","cldr_month_stand-alone_wide_6":"Juni","cldr_month_stand-alone_wide_7":"Juli","cldr_month_stand-alone_wide_8":"Augusti","cldr_month_stand-alone_wide_9":"September","cldr_number_decimal_separator":",","cldr_number_group_separator":" ","cldr_number_percent_format":"#,##0 %","cldr_pm":"em","cldr_time_format_full":"'kl'. HH:mm:ss zzzz","cldr_time_format_long":"HH:mm:ss z","cldr_time_format_medium":"HH:mm:ss","cldr_time_format_short":"HH:mm","quotationEnd":"”","quotationStart":"”"}},"resources":{"qx/decoration/Classic/arrows-combined.gif":[124,7,"gif","qx"],"qx/decoration/Classic/arrows/down-invert.gif":[7,4,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-38,0],"qx/decoration/Classic/arrows/down-small-invert.gif":[5,3,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-87,0],"qx/decoration/Classic/arrows/down-small.gif":[5,3,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-53,0],"qx/decoration/Classic/arrows/down.gif":[7,4,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-113,0],"qx/decoration/Classic/arrows/forward-invert.gif":[8,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-30,0],"qx/decoration/Classic/arrows/forward.gif":[8,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-18,0],"qx/decoration/Classic/arrows/left-invert.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-92,0],"qx/decoration/Classic/arrows/left-small-invert.gif":[3,5,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-58,0],"qx/decoration/Classic/arrows/left-small.gif":[3,5,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-15,0],"qx/decoration/Classic/arrows/left.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-120,0],"qx/decoration/Classic/arrows/next-invert.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-80,0],"qx/decoration/Classic/arrows/next.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-109,0],"qx/decoration/Classic/arrows/previous-invert.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-69,0],"qx/decoration/Classic/arrows/previous.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-65,0],"qx/decoration/Classic/arrows/rewind-invert.gif":[8,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-45,0],"qx/decoration/Classic/arrows/rewind.gif":[8,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-101,0],"qx/decoration/Classic/arrows/right-invert.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-61,0],"qx/decoration/Classic/arrows/right-small-invert.gif":[3,5,"gif","qx","qx/decoration/Classic/arrows-combined.gif",0,0],"qx/decoration/Classic/arrows/right-small.gif":[3,5,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-84,0],"qx/decoration/Classic/arrows/right.gif":[4,7,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-26,0],"qx/decoration/Classic/arrows/up-invert.gif":[7,4,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-73,0],"qx/decoration/Classic/arrows/up-small-invert.gif":[5,3,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-96,0],"qx/decoration/Classic/arrows/up-small.gif":[5,3,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-3,0],"qx/decoration/Classic/arrows/up.gif":[7,4,"gif","qx","qx/decoration/Classic/arrows-combined.gif",-8,0],"qx/decoration/Classic/checkbox-radiobutton-combined.png":[504,14,"png","qx"],"qx/decoration/Classic/colorselector-combined.gif":[46,11,"gif","qx"],"qx/decoration/Classic/colorselector/brightness-field.png":[19,256,"png","qx"],"qx/decoration/Classic/colorselector/brightness-handle.gif":[35,11,"gif","qx","qx/decoration/Classic/colorselector-combined.gif",-11,0],"qx/decoration/Classic/colorselector/huesaturation-field.jpg":[256,256,"jpeg","qx"],"qx/decoration/Classic/colorselector/huesaturation-handle.gif":[11,11,"gif","qx","qx/decoration/Classic/colorselector-combined.gif",0,0],"qx/decoration/Classic/cursors-combined.gif":[71,20,"gif","qx"],"qx/decoration/Classic/cursors/alias.gif":[19,15,"gif","qx","qx/decoration/Classic/cursors-combined.gif",-52,0],"qx/decoration/Classic/cursors/copy.gif":[19,15,"gif","qx","qx/decoration/Classic/cursors-combined.gif",-20,0],"qx/decoration/Classic/cursors/move.gif":[13,9,"gif","qx","qx/decoration/Classic/cursors-combined.gif",-39,0],"qx/decoration/Classic/cursors/nodrop.gif":[20,20,"gif","qx","qx/decoration/Classic/cursors-combined.gif",0,0],"qx/decoration/Classic/datechooser/last-month-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/last-month.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/last-year-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/last-year.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-month-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-month.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-year-invert.png":[16,16,"png","qx"],"qx/decoration/Classic/datechooser/next-year.png":[16,16,"png","qx"],"qx/decoration/Classic/form/checkbox-checked-disabled.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-336,0],"qx/decoration/Classic/form/checkbox-checked-focused-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-28,0],"qx/decoration/Classic/form/checkbox-checked-focused.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-462,0],"qx/decoration/Classic/form/checkbox-checked-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-112,0],"qx/decoration/Classic/form/checkbox-checked-hovered.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-140,0],"qx/decoration/Classic/form/checkbox-checked-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-98,0],"qx/decoration/Classic/form/checkbox-checked-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-308,0],"qx/decoration/Classic/form/checkbox-checked-pressed.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",0,0],"qx/decoration/Classic/form/checkbox-checked.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-266,0],"qx/decoration/Classic/form/checkbox-disabled.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-84,0],"qx/decoration/Classic/form/checkbox-focused-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-476,0],"qx/decoration/Classic/form/checkbox-focused.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-392,0],"qx/decoration/Classic/form/checkbox-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-196,0],"qx/decoration/Classic/form/checkbox-hovered.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-154,0],"qx/decoration/Classic/form/checkbox-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-350,0],"qx/decoration/Classic/form/checkbox-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-448,0],"qx/decoration/Classic/form/checkbox-pressed.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-70,0],"qx/decoration/Classic/form/checkbox-undetermined-disabled.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-focused.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-hovered.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined-invalid.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox-undetermined.png":[14,14,"png","qx"],"qx/decoration/Classic/form/checkbox.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-490,0],"qx/decoration/Classic/form/radiobutton-checked-disabled.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-210,0],"qx/decoration/Classic/form/radiobutton-checked-focused-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-406,0],"qx/decoration/Classic/form/radiobutton-checked-focused.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-378,0],"qx/decoration/Classic/form/radiobutton-checked-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-252,0],"qx/decoration/Classic/form/radiobutton-checked-hovered.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-182,0],"qx/decoration/Classic/form/radiobutton-checked-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-294,0],"qx/decoration/Classic/form/radiobutton-checked-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-420,0],"qx/decoration/Classic/form/radiobutton-checked-pressed.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-56,0],"qx/decoration/Classic/form/radiobutton-checked.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-322,0],"qx/decoration/Classic/form/radiobutton-disabled.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-364,0],"qx/decoration/Classic/form/radiobutton-focused-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-434,0],"qx/decoration/Classic/form/radiobutton-focused.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-168,0],"qx/decoration/Classic/form/radiobutton-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-126,0],"qx/decoration/Classic/form/radiobutton-hovered.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-42,0],"qx/decoration/Classic/form/radiobutton-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-280,0],"qx/decoration/Classic/form/radiobutton-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-238,0],"qx/decoration/Classic/form/radiobutton-pressed.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-14,0],"qx/decoration/Classic/form/radiobutton.png":[14,14,"png","qx","qx/decoration/Classic/checkbox-radiobutton-combined.png",-224,0],"qx/decoration/Classic/menu-combined.gif":[64,7,"gif","qx"],"qx/decoration/Classic/menu/checkbox-invert.gif":[16,7,"gif","qx","qx/decoration/Classic/menu-combined.gif",-16,0],"qx/decoration/Classic/menu/checkbox.gif":[16,7,"gif","qx","qx/decoration/Classic/menu-combined.gif",-32,0],"qx/decoration/Classic/menu/radiobutton-invert.gif":[16,5,"gif","qx","qx/decoration/Classic/menu-combined.gif",0,0],"qx/decoration/Classic/menu/radiobutton.gif":[16,5,"gif","qx","qx/decoration/Classic/menu-combined.gif",-48,0],"qx/decoration/Classic/shadow-lr-combined.png":[30,382,"png","qx"],"qx/decoration/Classic/shadow-small-lr-combined.png":[10,136,"png","qx"],"qx/decoration/Classic/shadow-small-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Classic/shadow-tb-combined.png":[15,90,"png","qx"],"qx/decoration/Classic/shadow/shadow-b.png":[15,15,"png","qx","qx/decoration/Classic/shadow-tb-combined.png",0,-30],"qx/decoration/Classic/shadow/shadow-bl.png":[15,15,"png","qx","qx/decoration/Classic/shadow-tb-combined.png",0,0],"qx/decoration/Classic/shadow/shadow-br.png":[15,15,"png","qx","qx/decoration/Classic/shadow-tb-combined.png",0,-60],"qx/decoration/Classic/shadow/shadow-c.png":[40,382,"png","qx"],"qx/decoration/Classic/shadow/shadow-l.png":[15,382,"png","qx","qx/decoration/Classic/shadow-lr-combined.png",-15,0],"qx/decoration/Classic/shadow/shadow-r.png":[15,382,"png","qx","qx/decoration/Classic/shadow-lr-combined.png",0,0],"qx/decoration/Classic/shadow/shadow-small-b.png":[5,5,"png","qx","qx/decoration/Classic/shadow-small-tb-combined.png",0,-25],"qx/decoration/Classic/shadow/shadow-small-bl.png":[5,5,"png","qx","qx/decoration/Classic/shadow-small-tb-combined.png",0,-20],"qx/decoration/Classic/shadow/shadow-small-br.png":[5,5,"png","qx","qx/decoration/Classic/shadow-small-tb-combined.png",0,0],"qx/decoration/Classic/shadow/shadow-small-c.png":[40,136,"png","qx"],"qx/decoration/Classic/shadow/shadow-small-l.png":[5,136,"png","qx","qx/decoration/Classic/shadow-small-lr-combined.png",0,0],"qx/decoration/Classic/shadow/shadow-small-r.png":[5,136,"png","qx","qx/decoration/Classic/shadow-small-lr-combined.png",-5,0],"qx/decoration/Classic/shadow/shadow-small-t.png":[5,5,"png","qx","qx/decoration/Classic/shadow-small-tb-combined.png",0,-5],"qx/decoration/Classic/shadow/shadow-small-tl.png":[5,5,"png","qx","qx/decoration/Classic/shadow-small-tb-combined.png",0,-15],"qx/decoration/Classic/shadow/shadow-small-tr.png":[5,5,"png","qx","qx/decoration/Classic/shadow-small-tb-combined.png",0,-10],"qx/decoration/Classic/shadow/shadow-small.png":[114,146,"png","qx"],"qx/decoration/Classic/shadow/shadow-t.png":[15,15,"png","qx","qx/decoration/Classic/shadow-tb-combined.png",0,-75],"qx/decoration/Classic/shadow/shadow-tl.png":[15,15,"png","qx","qx/decoration/Classic/shadow-tb-combined.png",0,-45],"qx/decoration/Classic/shadow/shadow-tr.png":[15,15,"png","qx","qx/decoration/Classic/shadow-tb-combined.png",0,-15],"qx/decoration/Classic/shadow/shadow.png":[381,412,"png","qx"],"qx/decoration/Classic/splitpane/knob-horizontal.png":[4,15,"png","qx"],"qx/decoration/Classic/splitpane/knob-vertical.png":[15,4,"png","qx"],"qx/decoration/Classic/table-combined.png":[72,11,"png","qx"],"qx/decoration/Classic/table/ascending-invert.png":[10,10,"png","qx","qx/decoration/Classic/table-combined.png",-62,0],"qx/decoration/Classic/table/ascending.png":[10,10,"png","qx","qx/decoration/Classic/table-combined.png",-52,0],"qx/decoration/Classic/table/boolean-false.png":[11,11,"png","qx","qx/decoration/Classic/table-combined.png",-31,0],"qx/decoration/Classic/table/boolean-true.png":[11,11,"png","qx","qx/decoration/Classic/table-combined.png",-10,0],"qx/decoration/Classic/table/descending-invert.png":[10,10,"png","qx","qx/decoration/Classic/table-combined.png",-42,0],"qx/decoration/Classic/table/descending.png":[10,10,"png","qx","qx/decoration/Classic/table-combined.png",0,0],"qx/decoration/Classic/table/select-column-order.png":[10,9,"png","qx","qx/decoration/Classic/table-combined.png",-21,0],"qx/decoration/Classic/tree/minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/tree/plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/cross.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/cross_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/cross_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/end.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/end_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/end_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/line.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/only_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/only_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/start.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/start_minus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/treevirtual/start_plus.gif":[19,16,"gif","qx"],"qx/decoration/Classic/window-captionbar-buttons-combined.gif":[36,9,"gif","qx"],"qx/decoration/Classic/window/close.gif":[10,9,"gif","qx","qx/decoration/Classic/window-captionbar-buttons-combined.gif",0,0],"qx/decoration/Classic/window/maximize.gif":[9,9,"gif","qx","qx/decoration/Classic/window-captionbar-buttons-combined.gif",-10,0],"qx/decoration/Classic/window/minimize.gif":[9,9,"gif","qx","qx/decoration/Classic/window-captionbar-buttons-combined.gif",-19,0],"qx/decoration/Classic/window/restore.gif":[8,9,"gif","qx","qx/decoration/Classic/window-captionbar-buttons-combined.gif",-28,0],"qx/decoration/Indigo/font/JosefinSlab-SemiBold.ttf":"qx","qx/decoration/Indigo/font/JosefinSlab-SemiBold.woff":"qx","qx/decoration/Indigo/font/SIL Open Font License 1.1.txt":"qx","qx/decoration/Modern/app-header.png":[110,20,"png","qx"],"qx/decoration/Modern/arrows-combined.png":[87,8,"png","qx"],"qx/decoration/Modern/arrows/down-invert.png":[8,5,"png","qx","qx/decoration/Modern/arrows-combined.png",-74,0],"qx/decoration/Modern/arrows/down-small-invert.png":[5,3,"png","qx","qx/decoration/Modern/arrows-combined.png",-69,0],"qx/decoration/Modern/arrows/down-small.png":[5,3,"png","qx","qx/decoration/Modern/arrows-combined.png",-49,0],"qx/decoration/Modern/arrows/down.png":[8,5,"png","qx","qx/decoration/Modern/arrows-combined.png",-20,0],"qx/decoration/Modern/arrows/forward.png":[10,8,"png","qx","qx/decoration/Modern/arrows-combined.png",-59,0],"qx/decoration/Modern/arrows/left-invert.png":[5,8,"png","qx","qx/decoration/Modern/arrows-combined.png",0,0],"qx/decoration/Modern/arrows/left.png":[5,8,"png","qx","qx/decoration/Modern/arrows-combined.png",-44,0],"qx/decoration/Modern/arrows/rewind.png":[10,8,"png","qx","qx/decoration/Modern/arrows-combined.png",-10,0],"qx/decoration/Modern/arrows/right-invert.png":[5,8,"png","qx","qx/decoration/Modern/arrows-combined.png",-5,0],"qx/decoration/Modern/arrows/right.png":[5,8,"png","qx","qx/decoration/Modern/arrows-combined.png",-54,0],"qx/decoration/Modern/arrows/up-invert.png":[8,5,"png","qx","qx/decoration/Modern/arrows-combined.png",-28,0],"qx/decoration/Modern/arrows/up-small.png":[5,3,"png","qx","qx/decoration/Modern/arrows-combined.png",-82,0],"qx/decoration/Modern/arrows/up.png":[8,5,"png","qx","qx/decoration/Modern/arrows-combined.png",-36,0],"qx/decoration/Modern/button-lr-combined.png":[72,52,"png","qx"],"qx/decoration/Modern/button-tb-combined.png":[4,216,"png","qx"],"qx/decoration/Modern/checkradio-combined.png":[504,14,"png","qx"],"qx/decoration/Modern/colorselector-combined.gif":[46,11,"gif","qx"],"qx/decoration/Modern/colorselector/brightness-field.png":[19,256,"png","qx"],"qx/decoration/Modern/colorselector/brightness-handle.gif":[35,11,"gif","qx","qx/decoration/Modern/colorselector-combined.gif",0,0],"qx/decoration/Modern/colorselector/huesaturation-field.jpg":[256,256,"jpeg","qx"],"qx/decoration/Modern/colorselector/huesaturation-handle.gif":[11,11,"gif","qx","qx/decoration/Modern/colorselector-combined.gif",-35,0],"qx/decoration/Modern/cursors-combined.gif":[71,20,"gif","qx"],"qx/decoration/Modern/cursors/alias.gif":[19,15,"gif","qx","qx/decoration/Modern/cursors-combined.gif",-52,0],"qx/decoration/Modern/cursors/copy.gif":[19,15,"gif","qx","qx/decoration/Modern/cursors-combined.gif",-33,0],"qx/decoration/Modern/cursors/move.gif":[13,9,"gif","qx","qx/decoration/Modern/cursors-combined.gif",-20,0],"qx/decoration/Modern/cursors/nodrop.gif":[20,20,"gif","qx","qx/decoration/Modern/cursors-combined.gif",0,0],"qx/decoration/Modern/form/button-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-72],"qx/decoration/Modern/form/button-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-204],"qx/decoration/Modern/form/button-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-188],"qx/decoration/Modern/form/button-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-checked-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-36],"qx/decoration/Modern/form/button-checked-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-84],"qx/decoration/Modern/form/button-checked-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-184],"qx/decoration/Modern/form/button-checked-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-checked-focused-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-156],"qx/decoration/Modern/form/button-checked-focused-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-208],"qx/decoration/Modern/form/button-checked-focused-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-160],"qx/decoration/Modern/form/button-checked-focused-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-checked-focused-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-40,0],"qx/decoration/Modern/form/button-checked-focused-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-32,0],"qx/decoration/Modern/form/button-checked-focused-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-28],"qx/decoration/Modern/form/button-checked-focused-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-24],"qx/decoration/Modern/form/button-checked-focused-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-48],"qx/decoration/Modern/form/button-checked-focused.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-checked-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-16,0],"qx/decoration/Modern/form/button-checked-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-60,0],"qx/decoration/Modern/form/button-checked-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-140],"qx/decoration/Modern/form/button-checked-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-56],"qx/decoration/Modern/form/button-checked-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-112],"qx/decoration/Modern/form/button-checked.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-disabled-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-40],"qx/decoration/Modern/form/button-disabled-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-136],"qx/decoration/Modern/form/button-disabled-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-16],"qx/decoration/Modern/form/button-disabled-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-disabled-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-68,0],"qx/decoration/Modern/form/button-disabled-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-4,0],"qx/decoration/Modern/form/button-disabled-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-116],"qx/decoration/Modern/form/button-disabled-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-168],"qx/decoration/Modern/form/button-disabled-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-60],"qx/decoration/Modern/form/button-disabled.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-focused-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-68],"qx/decoration/Modern/form/button-focused-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-144],"qx/decoration/Modern/form/button-focused-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-8],"qx/decoration/Modern/form/button-focused-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-focused-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-24,0],"qx/decoration/Modern/form/button-focused-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-44,0],"qx/decoration/Modern/form/button-focused-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-192],"qx/decoration/Modern/form/button-focused-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-148],"qx/decoration/Modern/form/button-focused-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-104],"qx/decoration/Modern/form/button-focused.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-hovered-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-108],"qx/decoration/Modern/form/button-hovered-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-32],"qx/decoration/Modern/form/button-hovered-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-128],"qx/decoration/Modern/form/button-hovered-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-hovered-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-20,0],"qx/decoration/Modern/form/button-hovered-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-48,0],"qx/decoration/Modern/form/button-hovered-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-44],"qx/decoration/Modern/form/button-hovered-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-76],"qx/decoration/Modern/form/button-hovered-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-88],"qx/decoration/Modern/form/button-hovered.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-56,0],"qx/decoration/Modern/form/button-preselected-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-124],"qx/decoration/Modern/form/button-preselected-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-176],"qx/decoration/Modern/form/button-preselected-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-200],"qx/decoration/Modern/form/button-preselected-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-preselected-focused-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,0],"qx/decoration/Modern/form/button-preselected-focused-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-4],"qx/decoration/Modern/form/button-preselected-focused-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-152],"qx/decoration/Modern/form/button-preselected-focused-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-preselected-focused-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-28,0],"qx/decoration/Modern/form/button-preselected-focused-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-36,0],"qx/decoration/Modern/form/button-preselected-focused-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-196],"qx/decoration/Modern/form/button-preselected-focused-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-164],"qx/decoration/Modern/form/button-preselected-focused-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-212],"qx/decoration/Modern/form/button-preselected-focused.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-preselected-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-8,0],"qx/decoration/Modern/form/button-preselected-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-64,0],"qx/decoration/Modern/form/button-preselected-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-96],"qx/decoration/Modern/form/button-preselected-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-80],"qx/decoration/Modern/form/button-preselected-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-132],"qx/decoration/Modern/form/button-preselected.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-pressed-b.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-12],"qx/decoration/Modern/form/button-pressed-bl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-52],"qx/decoration/Modern/form/button-pressed-br.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-20],"qx/decoration/Modern/form/button-pressed-c.png":[40,52,"png","qx"],"qx/decoration/Modern/form/button-pressed-l.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-52,0],"qx/decoration/Modern/form/button-pressed-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",-12,0],"qx/decoration/Modern/form/button-pressed-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-100],"qx/decoration/Modern/form/button-pressed-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-172],"qx/decoration/Modern/form/button-pressed-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-64],"qx/decoration/Modern/form/button-pressed.png":[80,60,"png","qx"],"qx/decoration/Modern/form/button-r.png":[4,52,"png","qx","qx/decoration/Modern/button-lr-combined.png",0,0],"qx/decoration/Modern/form/button-t.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-92],"qx/decoration/Modern/form/button-tl.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-120],"qx/decoration/Modern/form/button-tr.png":[4,4,"png","qx","qx/decoration/Modern/button-tb-combined.png",0,-180],"qx/decoration/Modern/form/button.png":[80,60,"png","qx"],"qx/decoration/Modern/form/checkbox-checked-disabled.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-126,0],"qx/decoration/Modern/form/checkbox-checked-focused-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-322,0],"qx/decoration/Modern/form/checkbox-checked-focused.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-294,0],"qx/decoration/Modern/form/checkbox-checked-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-364,0],"qx/decoration/Modern/form/checkbox-checked-hovered.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-490,0],"qx/decoration/Modern/form/checkbox-checked-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-224,0],"qx/decoration/Modern/form/checkbox-checked-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-378,0],"qx/decoration/Modern/form/checkbox-checked-pressed.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-84,0],"qx/decoration/Modern/form/checkbox-checked.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-182,0],"qx/decoration/Modern/form/checkbox-disabled.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-42,0],"qx/decoration/Modern/form/checkbox-focused-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-392,0],"qx/decoration/Modern/form/checkbox-focused.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-210,0],"qx/decoration/Modern/form/checkbox-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-14,0],"qx/decoration/Modern/form/checkbox-hovered.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-238,0],"qx/decoration/Modern/form/checkbox-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-462,0],"qx/decoration/Modern/form/checkbox-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-112,0],"qx/decoration/Modern/form/checkbox-pressed.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-448,0],"qx/decoration/Modern/form/checkbox-undetermined-disabled.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox-undetermined-focused-invalid.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox-undetermined-focused.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox-undetermined-hovered-invalid.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox-undetermined-hovered.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox-undetermined-invalid.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox-undetermined.png":[14,14,"png","qx"],"qx/decoration/Modern/form/checkbox.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-140,0],"qx/decoration/Modern/form/checked-disabled.png":[6,6,"png","qx"],"qx/decoration/Modern/form/checked.png":[6,6,"png","qx"],"qx/decoration/Modern/form/input-focused.png":[40,12,"png","qx"],"qx/decoration/Modern/form/input.png":[84,12,"png","qx"],"qx/decoration/Modern/form/radiobutton-checked-disabled.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-196,0],"qx/decoration/Modern/form/radiobutton-checked-focused-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-168,0],"qx/decoration/Modern/form/radiobutton-checked-focused.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-98,0],"qx/decoration/Modern/form/radiobutton-checked-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-308,0],"qx/decoration/Modern/form/radiobutton-checked-hovered.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-406,0],"qx/decoration/Modern/form/radiobutton-checked-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-28,0],"qx/decoration/Modern/form/radiobutton-checked-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-350,0],"qx/decoration/Modern/form/radiobutton-checked-pressed.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-266,0],"qx/decoration/Modern/form/radiobutton-checked.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-252,0],"qx/decoration/Modern/form/radiobutton-disabled.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-336,0],"qx/decoration/Modern/form/radiobutton-focused-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-476,0],"qx/decoration/Modern/form/radiobutton-focused.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-420,0],"qx/decoration/Modern/form/radiobutton-hovered-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-56,0],"qx/decoration/Modern/form/radiobutton-hovered.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",0,0],"qx/decoration/Modern/form/radiobutton-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-154,0],"qx/decoration/Modern/form/radiobutton-pressed-invalid.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-434,0],"qx/decoration/Modern/form/radiobutton-pressed.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-280,0],"qx/decoration/Modern/form/radiobutton.png":[14,14,"png","qx","qx/decoration/Modern/checkradio-combined.png",-70,0],"qx/decoration/Modern/form/tooltip-error-arrow-right.png":[11,14,"png","qx"],"qx/decoration/Modern/form/tooltip-error-arrow.png":[11,14,"png","qx"],"qx/decoration/Modern/form/tooltip-error-b.png":[6,6,"png","qx","qx/decoration/Modern/tooltip-error-tb-combined.png",0,-30],"qx/decoration/Modern/form/tooltip-error-bl.png":[6,6,"png","qx","qx/decoration/Modern/tooltip-error-tb-combined.png",0,-24],"qx/decoration/Modern/form/tooltip-error-br.png":[6,6,"png","qx","qx/decoration/Modern/tooltip-error-tb-combined.png",0,0],"qx/decoration/Modern/form/tooltip-error-c.png":[40,18,"png","qx"],"qx/decoration/Modern/form/tooltip-error-l.png":[6,18,"png","qx","qx/decoration/Modern/tooltip-error-lr-combined.png",-6,0],"qx/decoration/Modern/form/tooltip-error-r.png":[6,18,"png","qx","qx/decoration/Modern/tooltip-error-lr-combined.png",0,0],"qx/decoration/Modern/form/tooltip-error-t.png":[6,6,"png","qx","qx/decoration/Modern/tooltip-error-tb-combined.png",0,-6],"qx/decoration/Modern/form/tooltip-error-tl.png":[6,6,"png","qx","qx/decoration/Modern/tooltip-error-tb-combined.png",0,-18],"qx/decoration/Modern/form/tooltip-error-tr.png":[6,6,"png","qx","qx/decoration/Modern/tooltip-error-tb-combined.png",0,-12],"qx/decoration/Modern/form/tooltip-error.png":[127,30,"png","qx"],"qx/decoration/Modern/form/undetermined-disabled.png":[6,2,"png","qx"],"qx/decoration/Modern/form/undetermined.png":[6,2,"png","qx"],"qx/decoration/Modern/group-item.png":[110,20,"png","qx"],"qx/decoration/Modern/groupbox-lr-combined.png":[8,51,"png","qx"],"qx/decoration/Modern/groupbox-tb-combined.png":[4,24,"png","qx"],"qx/decoration/Modern/groupbox/groupbox-b.png":[4,4,"png","qx","qx/decoration/Modern/groupbox-tb-combined.png",0,-12],"qx/decoration/Modern/groupbox/groupbox-bl.png":[4,4,"png","qx","qx/decoration/Modern/groupbox-tb-combined.png",0,-16],"qx/decoration/Modern/groupbox/groupbox-br.png":[4,4,"png","qx","qx/decoration/Modern/groupbox-tb-combined.png",0,-8],"qx/decoration/Modern/groupbox/groupbox-c.png":[40,51,"png","qx"],"qx/decoration/Modern/groupbox/groupbox-l.png":[4,51,"png","qx","qx/decoration/Modern/groupbox-lr-combined.png",-4,0],"qx/decoration/Modern/groupbox/groupbox-r.png":[4,51,"png","qx","qx/decoration/Modern/groupbox-lr-combined.png",0,0],"qx/decoration/Modern/groupbox/groupbox-t.png":[4,4,"png","qx","qx/decoration/Modern/groupbox-tb-combined.png",0,-4],"qx/decoration/Modern/groupbox/groupbox-tl.png":[4,4,"png","qx","qx/decoration/Modern/groupbox-tb-combined.png",0,0],"qx/decoration/Modern/groupbox/groupbox-tr.png":[4,4,"png","qx","qx/decoration/Modern/groupbox-tb-combined.png",0,-20],"qx/decoration/Modern/groupbox/groupbox.png":[255,59,"png","qx"],"qx/decoration/Modern/menu-background-combined.png":[80,49,"png","qx"],"qx/decoration/Modern/menu-checkradio-combined.gif":[64,7,"gif","qx"],"qx/decoration/Modern/menu/background.png":[40,49,"png","qx","qx/decoration/Modern/menu-background-combined.png",-40,0],"qx/decoration/Modern/menu/bar-background.png":[40,20,"png","qx","qx/decoration/Modern/menu-background-combined.png",0,0],"qx/decoration/Modern/menu/checkbox-invert.gif":[16,7,"gif","qx","qx/decoration/Modern/menu-checkradio-combined.gif",-16,0],"qx/decoration/Modern/menu/checkbox.gif":[16,7,"gif","qx","qx/decoration/Modern/menu-checkradio-combined.gif",-48,0],"qx/decoration/Modern/menu/radiobutton-invert.gif":[16,5,"gif","qx","qx/decoration/Modern/menu-checkradio-combined.gif",-32,0],"qx/decoration/Modern/menu/radiobutton.gif":[16,5,"gif","qx","qx/decoration/Modern/menu-checkradio-combined.gif",0,0],"qx/decoration/Modern/pane-lr-combined.png":[12,238,"png","qx"],"qx/decoration/Modern/pane-tb-combined.png":[6,36,"png","qx"],"qx/decoration/Modern/pane/pane-b.png":[6,6,"png","qx","qx/decoration/Modern/pane-tb-combined.png",0,-30],"qx/decoration/Modern/pane/pane-bl.png":[6,6,"png","qx","qx/decoration/Modern/pane-tb-combined.png",0,-18],"qx/decoration/Modern/pane/pane-br.png":[6,6,"png","qx","qx/decoration/Modern/pane-tb-combined.png",0,-12],"qx/decoration/Modern/pane/pane-c.png":[40,238,"png","qx"],"qx/decoration/Modern/pane/pane-l.png":[6,238,"png","qx","qx/decoration/Modern/pane-lr-combined.png",0,0],"qx/decoration/Modern/pane/pane-r.png":[6,238,"png","qx","qx/decoration/Modern/pane-lr-combined.png",-6,0],"qx/decoration/Modern/pane/pane-t.png":[6,6,"png","qx","qx/decoration/Modern/pane-tb-combined.png",0,0],"qx/decoration/Modern/pane/pane-tl.png":[6,6,"png","qx","qx/decoration/Modern/pane-tb-combined.png",0,-24],"qx/decoration/Modern/pane/pane-tr.png":[6,6,"png","qx","qx/decoration/Modern/pane-tb-combined.png",0,-6],"qx/decoration/Modern/pane/pane.png":[185,250,"png","qx"],"qx/decoration/Modern/scrollbar-combined.png":[54,12,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-bg-horizontal.png":[76,15,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-bg-pressed-horizontal.png":[19,10,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-bg-pressed-vertical.png":[10,19,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-bg-vertical.png":[15,76,"png","qx"],"qx/decoration/Modern/scrollbar/scrollbar-button-bg-horizontal.png":[12,10,"png","qx","qx/decoration/Modern/scrollbar-combined.png",-34,0],"qx/decoration/Modern/scrollbar/scrollbar-button-bg-vertical.png":[10,12,"png","qx","qx/decoration/Modern/scrollbar-combined.png",-6,0],"qx/decoration/Modern/scrollbar/scrollbar-down.png":[6,4,"png","qx","qx/decoration/Modern/scrollbar-combined.png",-28,0],"qx/decoration/Modern/scrollbar/scrollbar-left.png":[4,6,"png","qx","qx/decoration/Modern/scrollbar-combined.png",-50,0],"qx/decoration/Modern/scrollbar/scrollbar-right.png":[4,6,"png","qx","qx/decoration/Modern/scrollbar-combined.png",-46,0],"qx/decoration/Modern/scrollbar/scrollbar-up.png":[6,4,"png","qx","qx/decoration/Modern/scrollbar-combined.png",0,0],"qx/decoration/Modern/scrollbar/slider-knob-background.png":[12,10,"png","qx","qx/decoration/Modern/scrollbar-combined.png",-16,0],"qx/decoration/Modern/selection.png":[110,20,"png","qx"],"qx/decoration/Modern/shadow-lr-combined.png":[30,382,"png","qx"],"qx/decoration/Modern/shadow-small-lr-combined.png":[10,136,"png","qx"],"qx/decoration/Modern/shadow-small-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Modern/shadow-tb-combined.png":[15,90,"png","qx"],"qx/decoration/Modern/shadow/shadow-b.png":[15,15,"png","qx","qx/decoration/Modern/shadow-tb-combined.png",0,-30],"qx/decoration/Modern/shadow/shadow-bl.png":[15,15,"png","qx","qx/decoration/Modern/shadow-tb-combined.png",0,-15],"qx/decoration/Modern/shadow/shadow-br.png":[15,15,"png","qx","qx/decoration/Modern/shadow-tb-combined.png",0,-45],"qx/decoration/Modern/shadow/shadow-c.png":[40,382,"png","qx"],"qx/decoration/Modern/shadow/shadow-l.png":[15,382,"png","qx","qx/decoration/Modern/shadow-lr-combined.png",0,0],"qx/decoration/Modern/shadow/shadow-r.png":[15,382,"png","qx","qx/decoration/Modern/shadow-lr-combined.png",-15,0],"qx/decoration/Modern/shadow/shadow-small-b.png":[5,5,"png","qx","qx/decoration/Modern/shadow-small-tb-combined.png",0,-20],"qx/decoration/Modern/shadow/shadow-small-bl.png":[5,5,"png","qx","qx/decoration/Modern/shadow-small-tb-combined.png",0,-15],"qx/decoration/Modern/shadow/shadow-small-br.png":[5,5,"png","qx","qx/decoration/Modern/shadow-small-tb-combined.png",0,-10],"qx/decoration/Modern/shadow/shadow-small-c.png":[40,136,"png","qx"],"qx/decoration/Modern/shadow/shadow-small-l.png":[5,136,"png","qx","qx/decoration/Modern/shadow-small-lr-combined.png",0,0],"qx/decoration/Modern/shadow/shadow-small-r.png":[5,136,"png","qx","qx/decoration/Modern/shadow-small-lr-combined.png",-5,0],"qx/decoration/Modern/shadow/shadow-small-t.png":[5,5,"png","qx","qx/decoration/Modern/shadow-small-tb-combined.png",0,-5],"qx/decoration/Modern/shadow/shadow-small-tl.png":[5,5,"png","qx","qx/decoration/Modern/shadow-small-tb-combined.png",0,0],"qx/decoration/Modern/shadow/shadow-small-tr.png":[5,5,"png","qx","qx/decoration/Modern/shadow-small-tb-combined.png",0,-25],"qx/decoration/Modern/shadow/shadow-small.png":[114,146,"png","qx"],"qx/decoration/Modern/shadow/shadow-t.png":[15,15,"png","qx","qx/decoration/Modern/shadow-tb-combined.png",0,-60],"qx/decoration/Modern/shadow/shadow-tl.png":[15,15,"png","qx","qx/decoration/Modern/shadow-tb-combined.png",0,-75],"qx/decoration/Modern/shadow/shadow-tr.png":[15,15,"png","qx","qx/decoration/Modern/shadow-tb-combined.png",0,0],"qx/decoration/Modern/shadow/shadow.png":[381,412,"png","qx"],"qx/decoration/Modern/splitpane-knobs-combined.png":[8,9,"png","qx"],"qx/decoration/Modern/splitpane/knob-horizontal.png":[1,8,"png","qx","qx/decoration/Modern/splitpane-knobs-combined.png",0,-1],"qx/decoration/Modern/splitpane/knob-vertical.png":[8,1,"png","qx","qx/decoration/Modern/splitpane-knobs-combined.png",0,0],"qx/decoration/Modern/table-combined.png":[94,18,"png","qx"],"qx/decoration/Modern/table/ascending.png":[8,5,"png","qx","qx/decoration/Modern/table-combined.png",0,0],"qx/decoration/Modern/table/boolean-false.png":[14,14,"png","qx","qx/decoration/Modern/table-combined.png",-80,0],"qx/decoration/Modern/table/boolean-true.png":[14,14,"png","qx","qx/decoration/Modern/table-combined.png",-26,0],"qx/decoration/Modern/table/descending.png":[8,5,"png","qx","qx/decoration/Modern/table-combined.png",-18,0],"qx/decoration/Modern/table/header-cell.png":[40,18,"png","qx","qx/decoration/Modern/table-combined.png",-40,0],"qx/decoration/Modern/table/select-column-order.png":[10,9,"png","qx","qx/decoration/Modern/table-combined.png",-8,0],"qx/decoration/Modern/tabview-button-bottom-active-lr-combined.png":[10,14,"png","qx"],"qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Modern/tabview-button-bottom-inactive-b-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-bottom-inactive-lr-combined.png":[6,15,"png","qx"],"qx/decoration/Modern/tabview-button-bottom-inactive-t-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-left-active-lr-combined.png":[10,37,"png","qx"],"qx/decoration/Modern/tabview-button-left-active-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Modern/tabview-button-left-inactive-b-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-left-inactive-lr-combined.png":[6,39,"png","qx"],"qx/decoration/Modern/tabview-button-left-inactive-t-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-right-active-lr-combined.png":[10,37,"png","qx"],"qx/decoration/Modern/tabview-button-right-active-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Modern/tabview-button-right-inactive-b-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-right-inactive-lr-combined.png":[6,39,"png","qx"],"qx/decoration/Modern/tabview-button-right-inactive-t-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-top-active-lr-combined.png":[10,12,"png","qx"],"qx/decoration/Modern/tabview-button-top-active-tb-combined.png":[5,30,"png","qx"],"qx/decoration/Modern/tabview-button-top-inactive-b-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-button-top-inactive-lr-combined.png":[6,15,"png","qx"],"qx/decoration/Modern/tabview-button-top-inactive-t-combined.png":[3,9,"png","qx"],"qx/decoration/Modern/tabview-pane-lr-combined.png":[60,2,"png","qx"],"qx/decoration/Modern/tabview-pane-tb-combined.png":[30,180,"png","qx"],"qx/decoration/Modern/tabview/tab-button-bottom-active-b.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png",0,-10],"qx/decoration/Modern/tabview/tab-button-bottom-active-bl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png",0,-15],"qx/decoration/Modern/tabview/tab-button-bottom-active-br.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png",0,-5],"qx/decoration/Modern/tabview/tab-button-bottom-active-c.png":[40,14,"png","qx"],"qx/decoration/Modern/tabview/tab-button-bottom-active-l.png":[5,14,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-bottom-active-r.png":[5,14,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-lr-combined.png",-5,0],"qx/decoration/Modern/tabview/tab-button-bottom-active-t.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png",0,-20],"qx/decoration/Modern/tabview/tab-button-bottom-active-tl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png",0,-25],"qx/decoration/Modern/tabview/tab-button-bottom-active-tr.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-bottom-active-tb-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-bottom-active.png":[49,24,"png","qx"],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-b.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-b-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-bl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-b-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-br.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-b-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-c.png":[40,15,"png","qx"],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-l.png":[3,15,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-lr-combined.png",-3,0],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-r.png":[3,15,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-t.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-t-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-tl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-t-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-bottom-inactive-tr.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-bottom-inactive-t-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-bottom-inactive.png":[45,21,"png","qx"],"qx/decoration/Modern/tabview/tab-button-left-active-b.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-left-active-tb-combined.png",0,-5],"qx/decoration/Modern/tabview/tab-button-left-active-bl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-left-active-tb-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-left-active-br.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-left-active-tb-combined.png",0,-25],"qx/decoration/Modern/tabview/tab-button-left-active-c.png":[40,37,"png","qx"],"qx/decoration/Modern/tabview/tab-button-left-active-l.png":[5,37,"png","qx","qx/decoration/Modern/tabview-button-left-active-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-left-active-r.png":[5,37,"png","qx","qx/decoration/Modern/tabview-button-left-active-lr-combined.png",-5,0],"qx/decoration/Modern/tabview/tab-button-left-active-t.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-left-active-tb-combined.png",0,-15],"qx/decoration/Modern/tabview/tab-button-left-active-tl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-left-active-tb-combined.png",0,-10],"qx/decoration/Modern/tabview/tab-button-left-active-tr.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-left-active-tb-combined.png",0,-20],"qx/decoration/Modern/tabview/tab-button-left-active.png":[22,47,"png","qx"],"qx/decoration/Modern/tabview/tab-button-left-inactive-b.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-b-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-left-inactive-bl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-b-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-left-inactive-br.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-b-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-left-inactive-c.png":[40,39,"png","qx"],"qx/decoration/Modern/tabview/tab-button-left-inactive-l.png":[3,39,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-lr-combined.png",-3,0],"qx/decoration/Modern/tabview/tab-button-left-inactive-r.png":[3,39,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-left-inactive-t.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-t-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-left-inactive-tl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-t-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-left-inactive-tr.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-left-inactive-t-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-left-inactive.png":[20,45,"png","qx"],"qx/decoration/Modern/tabview/tab-button-right-active-b.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-right-active-tb-combined.png",0,-25],"qx/decoration/Modern/tabview/tab-button-right-active-bl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-right-active-tb-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-right-active-br.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-right-active-tb-combined.png",0,-20],"qx/decoration/Modern/tabview/tab-button-right-active-c.png":[40,37,"png","qx"],"qx/decoration/Modern/tabview/tab-button-right-active-l.png":[5,37,"png","qx","qx/decoration/Modern/tabview-button-right-active-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-right-active-r.png":[5,37,"png","qx","qx/decoration/Modern/tabview-button-right-active-lr-combined.png",-5,0],"qx/decoration/Modern/tabview/tab-button-right-active-t.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-right-active-tb-combined.png",0,-5],"qx/decoration/Modern/tabview/tab-button-right-active-tl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-right-active-tb-combined.png",0,-15],"qx/decoration/Modern/tabview/tab-button-right-active-tr.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-right-active-tb-combined.png",0,-10],"qx/decoration/Modern/tabview/tab-button-right-active.png":[22,47,"png","qx"],"qx/decoration/Modern/tabview/tab-button-right-inactive-b.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-b-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-right-inactive-bl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-b-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-right-inactive-br.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-b-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-right-inactive-c.png":[40,39,"png","qx"],"qx/decoration/Modern/tabview/tab-button-right-inactive-l.png":[3,39,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-right-inactive-r.png":[3,39,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-lr-combined.png",-3,0],"qx/decoration/Modern/tabview/tab-button-right-inactive-t.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-t-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-right-inactive-tl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-t-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-right-inactive-tr.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-right-inactive-t-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-right-inactive.png":[20,45,"png","qx"],"qx/decoration/Modern/tabview/tab-button-top-active-b.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-top-active-tb-combined.png",0,-20],"qx/decoration/Modern/tabview/tab-button-top-active-bl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-top-active-tb-combined.png",0,-15],"qx/decoration/Modern/tabview/tab-button-top-active-br.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-top-active-tb-combined.png",0,-10],"qx/decoration/Modern/tabview/tab-button-top-active-c.png":[40,14,"png","qx"],"qx/decoration/Modern/tabview/tab-button-top-active-l.png":[5,12,"png","qx","qx/decoration/Modern/tabview-button-top-active-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-top-active-r.png":[5,12,"png","qx","qx/decoration/Modern/tabview-button-top-active-lr-combined.png",-5,0],"qx/decoration/Modern/tabview/tab-button-top-active-t.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-top-active-tb-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-top-active-tl.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-top-active-tb-combined.png",0,-25],"qx/decoration/Modern/tabview/tab-button-top-active-tr.png":[5,5,"png","qx","qx/decoration/Modern/tabview-button-top-active-tb-combined.png",0,-5],"qx/decoration/Modern/tabview/tab-button-top-active.png":[48,22,"png","qx"],"qx/decoration/Modern/tabview/tab-button-top-inactive-b.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-b-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-top-inactive-bl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-b-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-top-inactive-br.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-b-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-top-inactive-c.png":[40,15,"png","qx"],"qx/decoration/Modern/tabview/tab-button-top-inactive-l.png":[3,15,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-top-inactive-r.png":[3,15,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-lr-combined.png",-3,0],"qx/decoration/Modern/tabview/tab-button-top-inactive-t.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-t-combined.png",0,-3],"qx/decoration/Modern/tabview/tab-button-top-inactive-tl.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-t-combined.png",0,0],"qx/decoration/Modern/tabview/tab-button-top-inactive-tr.png":[3,3,"png","qx","qx/decoration/Modern/tabview-button-top-inactive-t-combined.png",0,-6],"qx/decoration/Modern/tabview/tab-button-top-inactive.png":[45,21,"png","qx"],"qx/decoration/Modern/tabview/tabview-pane-b.png":[30,30,"png","qx","qx/decoration/Modern/tabview-pane-tb-combined.png",0,-60],"qx/decoration/Modern/tabview/tabview-pane-bl.png":[30,30,"png","qx","qx/decoration/Modern/tabview-pane-tb-combined.png",0,0],"qx/decoration/Modern/tabview/tabview-pane-br.png":[30,30,"png","qx","qx/decoration/Modern/tabview-pane-tb-combined.png",0,-120],"qx/decoration/Modern/tabview/tabview-pane-c.png":[40,120,"png","qx"],"qx/decoration/Modern/tabview/tabview-pane-l.png":[30,2,"png","qx","qx/decoration/Modern/tabview-pane-lr-combined.png",0,0],"qx/decoration/Modern/tabview/tabview-pane-r.png":[30,2,"png","qx","qx/decoration/Modern/tabview-pane-lr-combined.png",-30,0],"qx/decoration/Modern/tabview/tabview-pane-t.png":[30,30,"png","qx","qx/decoration/Modern/tabview-pane-tb-combined.png",0,-150],"qx/decoration/Modern/tabview/tabview-pane-tl.png":[30,30,"png","qx","qx/decoration/Modern/tabview-pane-tb-combined.png",0,-30],"qx/decoration/Modern/tabview/tabview-pane-tr.png":[30,30,"png","qx","qx/decoration/Modern/tabview-pane-tb-combined.png",0,-90],"qx/decoration/Modern/tabview/tabview-pane.png":[185,250,"png","qx"],"qx/decoration/Modern/toolbar-combined.png":[80,130,"png","qx"],"qx/decoration/Modern/toolbar/toolbar-gradient-blue.png":[40,130,"png","qx","qx/decoration/Modern/toolbar-combined.png",-40,0],"qx/decoration/Modern/toolbar/toolbar-gradient.png":[40,130,"png","qx","qx/decoration/Modern/toolbar-combined.png",0,0],"qx/decoration/Modern/toolbar/toolbar-handle-knob.gif":[1,8,"gif","qx"],"qx/decoration/Modern/toolbar/toolbar-part.gif":[7,1,"gif","qx"],"qx/decoration/Modern/tooltip-error-lr-combined.png":[12,18,"png","qx"],"qx/decoration/Modern/tooltip-error-tb-combined.png":[6,36,"png","qx"],"qx/decoration/Modern/tree-combined.png":[32,8,"png","qx"],"qx/decoration/Modern/tree/closed-selected.png":[8,8,"png","qx","qx/decoration/Modern/tree-combined.png",-24,0],"qx/decoration/Modern/tree/closed.png":[8,8,"png","qx","qx/decoration/Modern/tree-combined.png",-16,0],"qx/decoration/Modern/tree/open-selected.png":[8,8,"png","qx","qx/decoration/Modern/tree-combined.png",-8,0],"qx/decoration/Modern/tree/open.png":[8,8,"png","qx","qx/decoration/Modern/tree-combined.png",0,0],"qx/decoration/Modern/window-captionbar-buttons-combined.png":[108,9,"png","qx"],"qx/decoration/Modern/window-captionbar-lr-active-combined.png":[12,9,"png","qx"],"qx/decoration/Modern/window-captionbar-lr-inactive-combined.png":[12,9,"png","qx"],"qx/decoration/Modern/window-captionbar-tb-active-combined.png":[6,36,"png","qx"],"qx/decoration/Modern/window-captionbar-tb-inactive-combined.png":[6,36,"png","qx"],"qx/decoration/Modern/window-statusbar-lr-combined.png":[8,7,"png","qx"],"qx/decoration/Modern/window-statusbar-tb-combined.png":[4,24,"png","qx"],"qx/decoration/Modern/window/captionbar-active-b.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-active-combined.png",0,-18],"qx/decoration/Modern/window/captionbar-active-bl.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-active-combined.png",0,-24],"qx/decoration/Modern/window/captionbar-active-br.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-active-combined.png",0,-12],"qx/decoration/Modern/window/captionbar-active-c.png":[40,9,"png","qx"],"qx/decoration/Modern/window/captionbar-active-l.png":[6,9,"png","qx","qx/decoration/Modern/window-captionbar-lr-active-combined.png",-6,0],"qx/decoration/Modern/window/captionbar-active-r.png":[6,9,"png","qx","qx/decoration/Modern/window-captionbar-lr-active-combined.png",0,0],"qx/decoration/Modern/window/captionbar-active-t.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-active-combined.png",0,-6],"qx/decoration/Modern/window/captionbar-active-tl.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-active-combined.png",0,0],"qx/decoration/Modern/window/captionbar-active-tr.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-active-combined.png",0,-30],"qx/decoration/Modern/window/captionbar-active.png":[69,21,"png","qx"],"qx/decoration/Modern/window/captionbar-inactive-b.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-inactive-combined.png",0,-24],"qx/decoration/Modern/window/captionbar-inactive-bl.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-inactive-combined.png",0,-6],"qx/decoration/Modern/window/captionbar-inactive-br.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-inactive-combined.png",0,-30],"qx/decoration/Modern/window/captionbar-inactive-c.png":[40,9,"png","qx"],"qx/decoration/Modern/window/captionbar-inactive-l.png":[6,9,"png","qx","qx/decoration/Modern/window-captionbar-lr-inactive-combined.png",0,0],"qx/decoration/Modern/window/captionbar-inactive-r.png":[6,9,"png","qx","qx/decoration/Modern/window-captionbar-lr-inactive-combined.png",-6,0],"qx/decoration/Modern/window/captionbar-inactive-t.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-inactive-combined.png",0,0],"qx/decoration/Modern/window/captionbar-inactive-tl.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-inactive-combined.png",0,-12],"qx/decoration/Modern/window/captionbar-inactive-tr.png":[6,6,"png","qx","qx/decoration/Modern/window-captionbar-tb-inactive-combined.png",0,-18],"qx/decoration/Modern/window/captionbar-inactive.png":[69,21,"png","qx"],"qx/decoration/Modern/window/close-active-hovered.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-27,0],"qx/decoration/Modern/window/close-active.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-9,0],"qx/decoration/Modern/window/close-inactive.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-90,0],"qx/decoration/Modern/window/maximize-active-hovered.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-18,0],"qx/decoration/Modern/window/maximize-active.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-81,0],"qx/decoration/Modern/window/maximize-inactive.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-54,0],"qx/decoration/Modern/window/minimize-active-hovered.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-63,0],"qx/decoration/Modern/window/minimize-active.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-72,0],"qx/decoration/Modern/window/minimize-inactive.png":[9,9,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-36,0],"qx/decoration/Modern/window/restore-active-hovered.png":[9,8,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",0,0],"qx/decoration/Modern/window/restore-active.png":[9,8,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-99,0],"qx/decoration/Modern/window/restore-inactive.png":[9,8,"png","qx","qx/decoration/Modern/window-captionbar-buttons-combined.png",-45,0],"qx/decoration/Modern/window/statusbar-b.png":[4,4,"png","qx","qx/decoration/Modern/window-statusbar-tb-combined.png",0,-16],"qx/decoration/Modern/window/statusbar-bl.png":[4,4,"png","qx","qx/decoration/Modern/window-statusbar-tb-combined.png",0,-20],"qx/decoration/Modern/window/statusbar-br.png":[4,4,"png","qx","qx/decoration/Modern/window-statusbar-tb-combined.png",0,-4],"qx/decoration/Modern/window/statusbar-c.png":[40,7,"png","qx"],"qx/decoration/Modern/window/statusbar-l.png":[4,7,"png","qx","qx/decoration/Modern/window-statusbar-lr-combined.png",-4,0],"qx/decoration/Modern/window/statusbar-r.png":[4,7,"png","qx","qx/decoration/Modern/window-statusbar-lr-combined.png",0,0],"qx/decoration/Modern/window/statusbar-t.png":[4,4,"png","qx","qx/decoration/Modern/window-statusbar-tb-combined.png",0,0],"qx/decoration/Modern/window/statusbar-tl.png":[4,4,"png","qx","qx/decoration/Modern/window-statusbar-tb-combined.png",0,-8],"qx/decoration/Modern/window/statusbar-tr.png":[4,4,"png","qx","qx/decoration/Modern/window-statusbar-tb-combined.png",0,-12],"qx/decoration/Modern/window/statusbar.png":[369,15,"png","qx"],"qx/decoration/Simple/arrows/down-invert.gif":[7,4,"gif","qx"],"qx/decoration/Simple/arrows/down-small.gif":[5,3,"gif","qx"],"qx/decoration/Simple/arrows/down.gif":[7,4,"gif","qx"],"qx/decoration/Simple/arrows/forward.gif":[8,7,"gif","qx"],"qx/decoration/Simple/arrows/left-invert.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/left.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/rewind.gif":[8,7,"gif","qx"],"qx/decoration/Simple/arrows/right-invert.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/right.gif":[4,7,"gif","qx"],"qx/decoration/Simple/arrows/up-invert.gif":[7,4,"gif","qx"],"qx/decoration/Simple/arrows/up-small.gif":[5,3,"gif","qx"],"qx/decoration/Simple/arrows/up.gif":[7,4,"gif","qx"],"qx/decoration/Simple/checkbox/checked-disabled.png":[6,6,"png","qx"],"qx/decoration/Simple/checkbox/checked.png":[6,6,"png","qx"],"qx/decoration/Simple/checkbox/undetermined-disabled.png":[6,2,"png","qx"],"qx/decoration/Simple/checkbox/undetermined.png":[6,2,"png","qx"],"qx/decoration/Simple/colorselector/brightness-field.png":[19,256,"png","qx"],"qx/decoration/Simple/colorselector/brightness-handle.gif":[35,11,"gif","qx"],"qx/decoration/Simple/colorselector/huesaturation-field.jpg":[256,256,"jpeg","qx"],"qx/decoration/Simple/colorselector/huesaturation-handle.gif":[11,11,"gif","qx"],"qx/decoration/Simple/cursors/alias.gif":[19,15,"gif","qx"],"qx/decoration/Simple/cursors/copy.gif":[19,15,"gif","qx"],"qx/decoration/Simple/cursors/move.gif":[13,9,"gif","qx"],"qx/decoration/Simple/cursors/nodrop.gif":[20,20,"gif","qx"],"qx/decoration/Simple/menu/checkbox-invert.gif":[16,7,"gif","qx"],"qx/decoration/Simple/menu/checkbox.gif":[16,7,"gif","qx"],"qx/decoration/Simple/menu/radiobutton-invert.gif":[16,5,"gif","qx"],"qx/decoration/Simple/menu/radiobutton.gif":[16,5,"gif","qx"],"qx/decoration/Simple/splitpane/knob-horizontal.png":[1,8,"png","qx"],"qx/decoration/Simple/splitpane/knob-vertical.png":[8,1,"png","qx"],"qx/decoration/Simple/table/ascending-invert.png":[10,10,"png","qx"],"qx/decoration/Simple/table/ascending.png":[10,10,"png","qx"],"qx/decoration/Simple/table/boolean-false.png":[11,11,"png","qx"],"qx/decoration/Simple/table/boolean-true.png":[11,11,"png","qx"],"qx/decoration/Simple/table/descending-invert.png":[10,10,"png","qx"],"qx/decoration/Simple/table/descending.png":[10,10,"png","qx"],"qx/decoration/Simple/table/select-column-order.png":[10,9,"png","qx"],"qx/decoration/Simple/tabview/close.gif":[10,9,"gif","qx"],"qx/decoration/Simple/tree/minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/tree/plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/cross.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/cross_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/cross_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/end.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/end_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/end_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/line.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/only_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/only_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/start.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/start_minus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/treevirtual/start_plus.gif":[19,16,"gif","qx"],"qx/decoration/Simple/window/close-white.gif":[10,9,"gif","qx"],"qx/decoration/Simple/window/close.gif":[10,9,"gif","qx"],"qx/decoration/Simple/window/maximize-white.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/maximize.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/minimize-white.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/minimize.gif":[9,9,"gif","qx"],"qx/decoration/Simple/window/restore-white.gif":[8,9,"gif","qx"],"qx/decoration/Simple/window/restore.gif":[8,9,"gif","qx"],"qx/icon/LICENSE":"qx","qx/icon/Oxygen/128/actions/address-book-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/application-exit.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/appointment-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/bookmark-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/check-spelling.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/contact-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/dialog-apply.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/dialog-cancel.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/dialog-close.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/dialog-ok.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-open-recent.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-open.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-print-preview.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-print.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-properties.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-revert.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-save-as.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-save.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/document-send.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-clear.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-copy.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-cut.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-delete.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-find.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-paste.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-redo.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-select-all.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/edit-undo.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/folder-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-indent-less.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-indent-more.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-justify-center.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-justify-fill.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-justify-left.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-justify-right.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-text-bold.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-text-direction-ltr.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-text-direction-rtl.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-text-italic.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-text-strikethrough.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/format-text-underline.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-bottom.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-down.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-first.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-home.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-last.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-next.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-previous.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-top.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/go-up.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/help-about.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/help-contents.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/help-faq.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/insert-image.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/insert-link.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/insert-text.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/list-add.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/list-remove.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-forward.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-mark-important.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-mark-junk.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-mark-read.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-mark-unread.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-message-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-receive.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-reply-all.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-reply-sender.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/mail-send.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-eject.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-playback-pause.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-playback-start.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-playback-stop.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-record.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-seek-backward.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-seek-forward.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-skip-backward.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/media-skip-forward.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/object-flip-horizontal.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/object-flip-vertical.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/object-rotate-left.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/object-rotate-right.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/process-stop.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/system-log-out.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/system-run.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/system-search.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/system-shutdown.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/view-fullscreen.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/view-refresh.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/view-restore.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/view-sort-ascending.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/view-sort-descending.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/window-close.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/window-new.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/zoom-fit-best.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/zoom-in.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/zoom-original.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/actions/zoom-out.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-blog.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-download-manager.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-feed-reader.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-mail.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-messenger.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-telephony.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-transfer.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/internet-web-browser.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/media-audio-player.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/media-photo-album.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/media-video-player.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-address-book.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-calendar.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-chart.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-database.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-draw.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-graphics.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-layout.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-presentation.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-project.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-spreadsheet.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-web.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/office-writer.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-accessibility.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-clock.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-display.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-font.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-keyboard.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-locale.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-network.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-security.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-sound.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-theme.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-users.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/preferences-wallpaper.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-archiver.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-calculator.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-character-map.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-color-chooser.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-dictionary.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-graphics-viewer.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-help.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-keyring.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-log-viewer.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-network-manager.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-notes.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-statistics.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-system-monitor.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-terminal.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/apps/utilities-text-editor.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/accessories.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/development.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/engineering.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/games.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/graphics.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/internet.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/multimedia.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/office.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/science.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/system.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/categories/utilities.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/audio-card.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/audio-input-microphone.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/battery.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/camera-photo.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/camera-web.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/computer.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/display.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/drive-harddisk.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/drive-optical.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/input-keyboard.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/input-mouse.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/media-flash.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/media-optical.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/multimedia-player.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/network-wired.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/network-wireless.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/pda.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/phone.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/printer.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/devices/scanner.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emblems/emblem-favorite.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emblems/emblem-important.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-angel.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-embarrassed.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-kiss.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-laugh.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-plain.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-raspberry.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-sad.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-smile-big.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-smile.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/emotes/face-surprise.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/archive.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/executable.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/media-audio.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/media-image.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/media-video.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/office-calendar.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/office-contact.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/office-document.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/office-illustration.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/office-presentation.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/office-spreadsheet.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/text-html.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/mimetypes/text-plain.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/folder-open.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/folder-remote.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/folder.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/network-server.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/network-workgroup.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/user-desktop.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/user-home.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/user-trash-full.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/places/user-trash.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/dialog-error.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/dialog-information.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/dialog-password.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/dialog-warning.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/image-loading.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/image-missing.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/mail-read.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/mail-replied.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/mail-unread.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/security-high.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/security-low.png":[128,128,"png","qx"],"qx/icon/Oxygen/128/status/security-medium.png":[128,128,"png","qx"],"qx/icon/Oxygen/16/actions/address-book-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/application-exit.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/appointment-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/bookmark-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/check-spelling.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/contact-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/dialog-apply.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/dialog-cancel.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/dialog-close.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/dialog-ok.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-open-recent.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-open.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-print-preview.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-print.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-properties.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-revert.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-save-as.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-save.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/document-send.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-clear.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-copy.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-cut.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-delete.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-find.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-paste.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-redo.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-select-all.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/edit-undo.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/folder-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-indent-less.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-indent-more.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-justify-center.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-justify-fill.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-justify-left.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-justify-right.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-text-bold.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-text-direction-ltr.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-text-direction-rtl.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-text-italic.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-text-strikethrough.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/format-text-underline.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-bottom.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-down.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-first.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-home.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-last.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-next.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-previous.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-top.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/go-up.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/help-about.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/help-contents.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/help-faq.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/insert-image.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/insert-link.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/insert-text.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/list-add.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/list-remove.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-forward.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-mark-important.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-mark-junk.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-mark-read.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-mark-unread.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-message-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-receive.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-reply-all.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-reply-sender.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/mail-send.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-eject.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-playback-pause.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-playback-start.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-playback-stop.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-record.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-seek-backward.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-seek-forward.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-skip-backward.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/media-skip-forward.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/object-flip-horizontal.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/object-flip-vertical.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/object-rotate-left.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/object-rotate-right.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/process-stop.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/system-log-out.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/system-run.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/system-search.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/system-shutdown.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/view-fullscreen.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/view-refresh.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/view-restore.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/view-sort-ascending.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/view-sort-descending.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/window-close.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/window-new.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/zoom-fit-best.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/zoom-in.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/zoom-original.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/actions/zoom-out.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-blog.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-download-manager.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-feed-reader.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-mail.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-messenger.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-telephony.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-transfer.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/internet-web-browser.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/media-audio-player.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/media-photo-album.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/media-video-player.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-address-book.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-calendar.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-chart.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-database.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-draw.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-graphics.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-layout.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-presentation.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-project.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-spreadsheet.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-web.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/office-writer.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-accessibility.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-clock.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-display.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-font.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-keyboard.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-locale.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-network.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-security.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-sound.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-theme.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-users.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/preferences-wallpaper.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-archiver.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-calculator.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-character-map.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-color-chooser.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-dictionary.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-graphics-viewer.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-help.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-keyring.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-log-viewer.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-network-manager.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-notes.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-statistics.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-system-monitor.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-terminal.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/apps/utilities-text-editor.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/accessories.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/development.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/engineering.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/games.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/graphics.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/internet.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/multimedia.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/office.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/science.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/system.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/categories/utilities.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/audio-card.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/audio-input-microphone.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/battery.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/camera-photo.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/camera-web.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/computer.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/display.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/drive-harddisk.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/drive-optical.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/input-keyboard.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/input-mouse.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/media-flash.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/media-optical.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/multimedia-player.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/network-wired.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/network-wireless.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/pda.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/phone.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/printer.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/devices/scanner.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emblems/emblem-favorite.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emblems/emblem-important.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-angel.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-embarrassed.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-kiss.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-laugh.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-plain.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-raspberry.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-sad.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-smile-big.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-smile.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/emotes/face-surprise.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/archive.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/executable.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/media-audio.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/media-image.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/media-video.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/office-calendar.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/office-contact.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/office-document.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/office-illustration.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/office-presentation.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/office-spreadsheet.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/text-html.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/mimetypes/text-plain.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/folder-open.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/folder-remote.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/folder.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/network-server.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/network-workgroup.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/user-desktop.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/user-home.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/user-trash-full.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/places/user-trash.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/dialog-error.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/dialog-information.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/dialog-password.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/dialog-warning.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/image-loading.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/image-missing.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/mail-read.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/mail-replied.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/mail-unread.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/security-high.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/security-low.png":[16,16,"png","qx"],"qx/icon/Oxygen/16/status/security-medium.png":[16,16,"png","qx"],"qx/icon/Oxygen/22/actions/address-book-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/application-exit.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/appointment-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/bookmark-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/check-spelling.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/contact-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/dialog-apply.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/dialog-cancel.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/dialog-close.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/dialog-ok.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-open-recent.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-open.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-print-preview.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-print.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-properties.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-revert.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-save-as.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-save.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/document-send.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-clear.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-copy.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-cut.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-delete.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-find.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-paste.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-redo.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-select-all.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/edit-undo.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/folder-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-indent-less.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-indent-more.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-justify-center.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-justify-fill.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-justify-left.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-justify-right.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-text-bold.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-text-direction-ltr.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-text-direction-rtl.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-text-italic.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-text-strikethrough.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/format-text-underline.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-bottom.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-down.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-first.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-home.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-last.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-next.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-previous.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-top.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/go-up.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/help-about.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/help-contents.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/help-faq.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/insert-image.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/insert-link.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/insert-text.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/list-add.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/list-remove.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-forward.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-mark-important.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-mark-junk.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-mark-read.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-mark-unread.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-message-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-receive.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-reply-all.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-reply-sender.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/mail-send.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-eject.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-playback-pause.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-playback-start.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-playback-stop.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-record.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-seek-backward.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-seek-forward.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-skip-backward.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/media-skip-forward.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/object-flip-horizontal.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/object-flip-vertical.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/object-rotate-left.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/object-rotate-right.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/process-stop.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/system-log-out.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/system-run.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/system-search.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/system-shutdown.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/view-fullscreen.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/view-refresh.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/view-restore.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/view-sort-ascending.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/view-sort-descending.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/window-close.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/window-new.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/zoom-fit-best.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/zoom-in.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/zoom-original.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/actions/zoom-out.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-blog.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-download-manager.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-feed-reader.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-mail.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-messenger.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-telephony.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-transfer.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/internet-web-browser.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/media-audio-player.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/media-photo-album.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/media-video-player.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-address-book.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-calendar.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-chart.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-database.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-draw.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-graphics.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-layout.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-presentation.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-project.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-spreadsheet.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-web.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/office-writer.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-accessibility.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-clock.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-display.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-font.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-keyboard.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-locale.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-network.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-security.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-sound.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-theme.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-users.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/preferences-wallpaper.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-archiver.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-calculator.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-character-map.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-color-chooser.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-dictionary.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-graphics-viewer.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-help.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-keyring.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-log-viewer.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-network-manager.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-notes.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-statistics.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-system-monitor.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-terminal.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/apps/utilities-text-editor.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/accessories.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/development.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/engineering.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/games.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/graphics.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/internet.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/multimedia.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/office.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/science.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/system.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/categories/utilities.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/audio-card.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/audio-input-microphone.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/battery.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/camera-photo.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/camera-web.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/computer.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/display.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/drive-harddisk.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/drive-optical.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/input-keyboard.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/input-mouse.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/media-flash.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/media-optical.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/multimedia-player.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/network-wired.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/network-wireless.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/pda.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/phone.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/printer.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/devices/scanner.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emblems/emblem-favorite.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emblems/emblem-important.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-embarrassed.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-kiss.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-laugh.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-plain.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-raspberry.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-sad.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-smile-big.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-smile.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/emotes/face-surprise.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/archive.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/executable.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/media-audio.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/media-image.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/media-video.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/office-calendar.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/office-contact.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/office-document.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/office-illustration.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/office-presentation.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/office-spreadsheet.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/text-html.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/mimetypes/text-plain.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/folder-open.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/folder-remote.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/folder.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/network-server.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/network-workgroup.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/user-desktop.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/user-home.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/user-trash-full.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/places/user-trash.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/dialog-error.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/dialog-information.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/dialog-password.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/dialog-warning.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/image-loading.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/image-missing.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/mail-read.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/mail-replied.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/mail-unread.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/security-high.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/security-low.png":[22,22,"png","qx"],"qx/icon/Oxygen/22/status/security-medium.png":[22,22,"png","qx"],"qx/icon/Oxygen/32/actions/address-book-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/application-exit.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/appointment-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/bookmark-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/check-spelling.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/contact-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/dialog-apply.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/dialog-cancel.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/dialog-close.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/dialog-ok.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-open-recent.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-open.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-print-preview.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-print.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-properties.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-revert.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-save-as.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-save.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/document-send.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-clear.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-copy.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-cut.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-delete.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-find.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-paste.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-redo.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-select-all.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/edit-undo.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/folder-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-indent-less.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-indent-more.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-justify-center.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-justify-fill.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-justify-left.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-justify-right.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-text-bold.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-text-direction-ltr.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-text-direction-rtl.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-text-italic.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-text-strikethrough.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/format-text-underline.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-bottom.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-down.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-first.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-home.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-last.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-next.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-previous.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-top.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/go-up.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/help-about.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/help-contents.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/help-faq.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/insert-image.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/insert-link.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/insert-text.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/list-add.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/list-remove.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-forward.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-mark-important.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-mark-junk.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-mark-read.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-mark-unread.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-message-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-receive.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-reply-all.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-reply-sender.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/mail-send.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-eject.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-playback-pause.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-playback-start.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-playback-stop.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-record.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-seek-backward.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-seek-forward.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-skip-backward.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/media-skip-forward.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/object-flip-horizontal.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/object-flip-vertical.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/object-rotate-left.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/object-rotate-right.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/process-stop.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/system-log-out.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/system-run.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/system-search.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/system-shutdown.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/view-fullscreen.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/view-refresh.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/view-restore.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/view-sort-ascending.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/view-sort-descending.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/window-close.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/window-new.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/zoom-fit-best.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/zoom-in.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/zoom-original.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/actions/zoom-out.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-blog.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-download-manager.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-feed-reader.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-mail.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-messenger.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-telephony.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-transfer.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/internet-web-browser.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/media-audio-player.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/media-photo-album.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/media-video-player.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-address-book.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-calendar.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-chart.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-database.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-draw.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-graphics.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-layout.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-presentation.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-project.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-spreadsheet.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-web.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/office-writer.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-accessibility.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-clock.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-display.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-font.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-keyboard.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-locale.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-network.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-security.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-sound.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-theme.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-users.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/preferences-wallpaper.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-archiver.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-calculator.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-character-map.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-color-chooser.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-dictionary.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-graphics-viewer.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-help.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-keyring.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-log-viewer.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-network-manager.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-notes.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-statistics.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-system-monitor.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-terminal.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/apps/utilities-text-editor.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/accessories.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/development.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/engineering.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/games.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/graphics.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/internet.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/multimedia.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/office.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/science.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/system.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/categories/utilities.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/audio-card.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/audio-input-microphone.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/battery.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/camera-photo.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/camera-web.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/computer.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/display.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/drive-harddisk.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/drive-optical.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/input-keyboard.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/input-mouse.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/media-flash.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/media-optical.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/multimedia-player.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/network-wired.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/network-wireless.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/pda.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/phone.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/printer.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/devices/scanner.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emblems/emblem-favorite.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emblems/emblem-important.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-angel.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-embarrassed.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-kiss.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-laugh.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-plain.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-raspberry.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-sad.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-smile-big.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-smile.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/emotes/face-surprise.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/archive.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/executable.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/media-audio.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/media-image.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/media-video.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/office-calendar.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/office-contact.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/office-document.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/office-illustration.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/office-presentation.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/office-spreadsheet.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/text-html.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/mimetypes/text-plain.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/folder-open.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/folder-remote.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/folder.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/network-server.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/network-workgroup.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/user-desktop.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/user-home.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/user-trash-full.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/places/user-trash.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/dialog-error.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/dialog-information.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/dialog-password.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/dialog-warning.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/image-loading.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/image-missing.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/mail-read.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/mail-replied.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/mail-unread.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/security-high.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/security-low.png":[32,32,"png","qx"],"qx/icon/Oxygen/32/status/security-medium.png":[32,32,"png","qx"],"qx/icon/Oxygen/48/actions/address-book-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/application-exit.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/appointment-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/bookmark-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/check-spelling.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/contact-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/dialog-apply.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/dialog-cancel.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/dialog-close.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/dialog-ok.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-open-recent.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-open.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-print-preview.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-print.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-properties.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-revert.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-save-as.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-save.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/document-send.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-clear.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-copy.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-cut.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-delete.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-find.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-paste.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-redo.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-select-all.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/edit-undo.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/folder-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-indent-less.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-indent-more.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-justify-center.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-justify-fill.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-justify-left.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-justify-right.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-text-bold.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-text-direction-ltr.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-text-direction-rtl.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-text-italic.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-text-strikethrough.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/format-text-underline.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-bottom.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-down.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-first.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-home.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-last.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-next.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-previous.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-top.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/go-up.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/help-about.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/help-contents.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/help-faq.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/insert-image.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/insert-link.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/insert-text.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/list-add.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/list-remove.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-forward.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-mark-important.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-mark-junk.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-mark-read.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-mark-unread.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-message-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-receive.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-reply-all.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-reply-sender.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/mail-send.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-eject.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-playback-pause.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-playback-start.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-playback-stop.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-record.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-seek-backward.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-seek-forward.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-skip-backward.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/media-skip-forward.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/object-flip-horizontal.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/object-flip-vertical.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/object-rotate-left.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/object-rotate-right.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/process-stop.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/system-log-out.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/system-run.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/system-search.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/system-shutdown.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/view-fullscreen.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/view-refresh.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/view-restore.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/view-sort-ascending.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/view-sort-descending.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/window-close.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/window-new.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/zoom-fit-best.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/zoom-in.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/zoom-original.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/actions/zoom-out.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-blog.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-download-manager.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-feed-reader.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-mail.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-messenger.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-telephony.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-transfer.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/internet-web-browser.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/media-audio-player.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/media-photo-album.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/media-video-player.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-address-book.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-calendar.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-chart.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-database.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-draw.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-graphics.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-layout.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-presentation.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-project.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-spreadsheet.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-web.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/office-writer.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-accessibility.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-clock.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-display.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-font.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-keyboard.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-locale.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-network.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-security.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-sound.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-theme.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-users.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/preferences-wallpaper.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-archiver.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-calculator.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-character-map.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-color-chooser.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-dictionary.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-graphics-viewer.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-help.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-keyring.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-log-viewer.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-network-manager.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-notes.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-statistics.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-system-monitor.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-terminal.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/apps/utilities-text-editor.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/accessories.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/development.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/engineering.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/games.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/graphics.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/internet.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/multimedia.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/office.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/science.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/system.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/categories/utilities.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/audio-card.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/audio-input-microphone.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/battery.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/camera-photo.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/camera-web.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/computer.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/display.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/drive-harddisk.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/drive-optical.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/input-keyboard.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/input-mouse.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/media-flash.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/media-optical.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/multimedia-player.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/network-wired.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/network-wireless.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/pda.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/phone.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/printer.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/devices/scanner.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emblems/emblem-favorite.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emblems/emblem-important.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-angel.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-embarrassed.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-kiss.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-laugh.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-plain.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-raspberry.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-sad.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-smile-big.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-smile.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/emotes/face-surprise.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/archive.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/executable.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/media-audio.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/media-image.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/media-video.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/office-calendar.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/office-contact.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/office-document.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/office-illustration.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/office-presentation.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/office-spreadsheet.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/text-html.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/mimetypes/text-plain.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/folder-open.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/folder-remote.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/folder.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/network-server.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/network-workgroup.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/user-desktop.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/user-home.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/user-trash-full.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/places/user-trash.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/dialog-error.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/dialog-information.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/dialog-password.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/dialog-warning.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/image-loading.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/image-missing.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/mail-read.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/mail-replied.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/mail-unread.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/security-high.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/security-low.png":[48,48,"png","qx"],"qx/icon/Oxygen/48/status/security-medium.png":[48,48,"png","qx"],"qx/icon/Oxygen/64/actions/address-book-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/application-exit.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/appointment-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/bookmark-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/check-spelling.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/contact-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/dialog-apply.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/dialog-cancel.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/dialog-close.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/dialog-ok.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-open-recent.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-open.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-print-preview.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-print.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-properties.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-revert.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-save-as.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-save.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/document-send.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-clear.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-copy.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-cut.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-delete.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-find.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-paste.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-redo.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-select-all.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/edit-undo.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/folder-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-indent-less.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-indent-more.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-justify-center.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-justify-fill.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-justify-left.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-justify-right.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-text-bold.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-text-direction-ltr.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-text-direction-rtl.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-text-italic.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-text-strikethrough.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/format-text-underline.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-bottom.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-down.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-first.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-home.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-last.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-next.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-previous.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-top.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/go-up.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/help-about.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/help-contents.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/help-faq.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/insert-image.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/insert-link.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/insert-text.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/list-add.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/list-remove.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-forward.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-mark-important.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-mark-junk.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-mark-read.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-mark-unread.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-message-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-receive.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-reply-all.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-reply-sender.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/mail-send.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-eject.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-playback-pause.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-playback-start.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-playback-stop.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-record.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-seek-backward.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-seek-forward.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-skip-backward.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/media-skip-forward.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/object-flip-horizontal.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/object-flip-vertical.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/object-rotate-left.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/object-rotate-right.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/process-stop.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/system-log-out.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/system-run.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/system-search.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/system-shutdown.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/view-fullscreen.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/view-refresh.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/view-restore.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/view-sort-ascending.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/view-sort-descending.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/window-close.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/window-new.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/zoom-fit-best.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/zoom-in.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/zoom-original.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/actions/zoom-out.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-blog.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-download-manager.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-feed-reader.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-mail.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-messenger.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-telephony.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-transfer.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/internet-web-browser.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/media-audio-player.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/media-photo-album.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/media-video-player.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-address-book.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-calendar.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-chart.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-database.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-draw.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-graphics.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-layout.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-presentation.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-project.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-spreadsheet.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-web.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/office-writer.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-accessibility.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-clock.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-display.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-font.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-keyboard.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-locale.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-network.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-security.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-sound.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-theme.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-users.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/preferences-wallpaper.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-archiver.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-calculator.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-character-map.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-color-chooser.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-dictionary.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-graphics-viewer.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-help.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-keyring.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-log-viewer.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-network-manager.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-notes.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-statistics.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-system-monitor.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-terminal.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/apps/utilities-text-editor.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/accessories.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/development.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/engineering.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/games.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/graphics.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/internet.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/multimedia.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/office.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/science.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/system.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/categories/utilities.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/audio-card.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/audio-input-microphone.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/battery.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/camera-photo.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/camera-web.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/computer.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/display.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/drive-harddisk.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/drive-optical.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/input-keyboard.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/input-mouse.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/media-flash.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/media-optical.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/multimedia-player.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/network-wired.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/network-wireless.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/pda.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/phone.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/printer.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/devices/scanner.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emblems/emblem-favorite.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emblems/emblem-important.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-angel.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-embarrassed.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-kiss.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-laugh.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-plain.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-raspberry.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-sad.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-smile-big.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-smile.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/emotes/face-surprise.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/archive.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/executable.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/media-audio.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/media-image.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/media-video.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/office-calendar.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/office-contact.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/office-document.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/office-illustration.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/office-presentation.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/office-spreadsheet.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/text-html.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/mimetypes/text-plain.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/folder-open.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/folder-remote.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/folder.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/network-server.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/network-workgroup.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/user-desktop.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/user-home.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/user-trash-full.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/places/user-trash.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/dialog-error.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/dialog-information.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/dialog-password.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/dialog-warning.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/image-loading.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/image-missing.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/mail-read.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/mail-replied.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/mail-unread.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/security-high.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/security-low.png":[64,64,"png","qx"],"qx/icon/Oxygen/64/status/security-medium.png":[64,64,"png","qx"],"qx/icon/Oxygen/AUTHORS":"qx","qx/icon/Oxygen/LICENSE":"qx","qx/icon/Tango/128/actions/address-book-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/application-exit.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/appointment-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/bookmark-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/check-spelling.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/contact-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/dialog-apply.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/dialog-cancel.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/dialog-close.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/dialog-ok.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-open-recent.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-open.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-print-preview.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-print.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-properties.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-revert.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-save-as.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-save.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/document-send.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-clear.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-copy.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-cut.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-delete.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-find.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-paste.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-redo.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-select-all.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/edit-undo.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/folder-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-indent-less.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-indent-more.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-justify-center.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-justify-fill.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-justify-left.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-justify-right.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-text-bold.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-text-direction-ltr.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-text-direction-rtl.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-text-italic.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-text-strikethrough.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/format-text-underline.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-bottom.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-down.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-first.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-home.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-last.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-next.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-previous.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-top.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/go-up.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/help-about.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/help-contents.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/help-faq.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/insert-image.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/insert-link.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/insert-text.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/list-add.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/list-remove.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-forward.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-mark-important.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-mark-junk.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-mark-read.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-mark-unread.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-message-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-receive.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-reply-all.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-reply-sender.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/mail-send.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-eject.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-playback-pause.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-playback-start.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-playback-stop.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-record.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-seek-backward.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-seek-forward.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-skip-backward.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/media-skip-forward.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/object-flip-horizontal.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/object-flip-vertical.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/object-rotate-left.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/object-rotate-right.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/process-stop.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/system-log-out.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/system-run.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/system-search.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/system-shutdown.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/view-fullscreen.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/view-refresh.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/view-restore.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/view-sort-ascending.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/view-sort-descending.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/window-close.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/window-new.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/zoom-fit-best.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/zoom-in.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/zoom-original.png":[128,128,"png","qx"],"qx/icon/Tango/128/actions/zoom-out.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-blog.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-download-manager.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-feed-reader.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-mail.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-messenger.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-telephony.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-transfer.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/internet-web-browser.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/media-audio-player.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/media-photo-album.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/media-video-player.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-address-book.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-calendar.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-chart.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-database.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-draw.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-graphics.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-layout.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-presentation.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-project.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-spreadsheet.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-web.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/office-writer.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-accessibility.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-clock.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-display.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-font.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-keyboard.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-locale.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-network.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-security.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-sound.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-theme.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-users.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/preferences-wallpaper.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-archiver.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-calculator.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-character-map.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-color-chooser.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-dictionary.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-graphics-viewer.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-help.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-keyring.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-log-viewer.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-network-manager.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-notes.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-statistics.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-system-monitor.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-terminal.png":[128,128,"png","qx"],"qx/icon/Tango/128/apps/utilities-text-editor.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/accessories.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/development.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/engineering.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/games.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/graphics.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/internet.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/multimedia.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/office.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/science.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/system.png":[128,128,"png","qx"],"qx/icon/Tango/128/categories/utilities.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/audio-card.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/audio-input-microphone.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/battery.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/camera-photo.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/camera-web.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/computer.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/display.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/drive-harddisk.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/drive-optical.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/input-keyboard.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/input-mouse.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/media-flash.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/media-optical.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/multimedia-player.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/network-wired.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/network-wireless.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/pda.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/phone.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/printer.png":[128,128,"png","qx"],"qx/icon/Tango/128/devices/scanner.png":[128,128,"png","qx"],"qx/icon/Tango/128/emblems/emblem-favorite.png":[128,128,"png","qx"],"qx/icon/Tango/128/emblems/emblem-important.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-angel.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-embarrassed.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-kiss.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-laugh.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-plain.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-raspberry.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-sad.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-smile-big.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-smile.png":[128,128,"png","qx"],"qx/icon/Tango/128/emotes/face-surprise.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/archive.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/executable.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/media-audio.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/media-image.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/media-video.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/office-calendar.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/office-contact.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/office-document.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/office-illustration.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/office-presentation.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/office-spreadsheet.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/text-html.png":[128,128,"png","qx"],"qx/icon/Tango/128/mimetypes/text-plain.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/folder-open.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/folder-remote.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/folder.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/network-server.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/network-workgroup.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/user-desktop.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/user-home.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/user-trash-full.png":[128,128,"png","qx"],"qx/icon/Tango/128/places/user-trash.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/dialog-error.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/dialog-information.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/dialog-password.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/dialog-warning.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/image-loading.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/image-missing.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/mail-read.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/mail-replied.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/mail-unread.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/security-high.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/security-low.png":[128,128,"png","qx"],"qx/icon/Tango/128/status/security-medium.png":[128,128,"png","qx"],"qx/icon/Tango/16/actions/address-book-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/application-exit.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/appointment-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/bookmark-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/check-spelling.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/contact-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-apply.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-cancel.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/dialog-ok.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-open-recent.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-open.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-print-preview.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-print.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-properties.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-revert.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-save-as.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-save.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/document-send.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-clear.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-copy.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-cut.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-delete.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-find.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-paste.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-redo.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-select-all.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/edit-undo.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/folder-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-indent-less.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-indent-more.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-center.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-fill.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-left.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-justify-right.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-bold.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-direction-ltr.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-direction-rtl.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-italic.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-strikethrough.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/format-text-underline.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-bottom.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-down.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-first.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-home.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-last.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-next.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-previous.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-top.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/go-up.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-about.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-contents.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/help-faq.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-image.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-link.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/insert-text.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/list-add.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/list-remove.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-important.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-junk.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-read.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-mark-unread.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-message-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-receive.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-reply-all.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-reply-sender.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/mail-send.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-eject.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-pause.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-start.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-playback-stop.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-record.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-seek-backward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-seek-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-skip-backward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/media-skip-forward.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-flip-horizontal.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-flip-vertical.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-rotate-left.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/object-rotate-right.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/process-stop.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-log-out.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-run.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-search.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/system-shutdown.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-fullscreen.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-refresh.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-restore.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-sort-ascending.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/view-sort-descending.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-close.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/window-new.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-fit-best.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-in.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-original.png":[16,16,"png","qx"],"qx/icon/Tango/16/actions/zoom-out.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-blog.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-download-manager.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-feed-reader.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-mail.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-messenger.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-telephony.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-transfer.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/internet-web-browser.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/media-audio-player.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/media-photo-album.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/media-video-player.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-address-book.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-calendar.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-chart.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-database.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-draw.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-graphics.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-layout.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-presentation.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-project.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-spreadsheet.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-web.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/office-writer.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-accessibility.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-clock.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-display.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-font.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-keyboard.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-locale.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-network.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-security.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-sound.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-theme.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-users.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/preferences-wallpaper.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-archiver.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-calculator.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-character-map.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-color-chooser.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-dictionary.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-graphics-viewer.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-help.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-keyring.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-log-viewer.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-network-manager.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-notes.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-statistics.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-system-monitor.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-terminal.png":[16,16,"png","qx"],"qx/icon/Tango/16/apps/utilities-text-editor.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/accessories.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/development.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/engineering.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/games.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/graphics.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/internet.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/multimedia.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/office.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/science.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/system.png":[16,16,"png","qx"],"qx/icon/Tango/16/categories/utilities.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/audio-card.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/audio-input-microphone.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/battery.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/camera-web.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/computer.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/display.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/drive-harddisk.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/drive-optical.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/input-keyboard.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/input-mouse.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/media-flash.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/media-optical.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/multimedia-player.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/network-wired.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/network-wireless.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/pda.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/phone.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/printer.png":[16,16,"png","qx"],"qx/icon/Tango/16/devices/scanner.png":[16,16,"png","qx"],"qx/icon/Tango/16/emblems/emblem-favorite.png":[16,16,"png","qx"],"qx/icon/Tango/16/emblems/emblem-important.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-angel.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-embarrassed.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-kiss.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-laugh.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-plain.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-raspberry.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-sad.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-smile-big.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-smile.png":[16,16,"png","qx"],"qx/icon/Tango/16/emotes/face-surprise.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/archive.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/executable.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/media-audio.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/media-image.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/media-video.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-calendar.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-contact.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-document.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-illustration.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-presentation.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/office-spreadsheet.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/text-html.png":[16,16,"png","qx"],"qx/icon/Tango/16/mimetypes/text-plain.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/folder-open.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/folder-remote.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/folder.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/network-server.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/network-workgroup.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/user-desktop.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/user-home.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/user-trash-full.png":[16,16,"png","qx"],"qx/icon/Tango/16/places/user-trash.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-error.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-information.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-password.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/dialog-warning.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/image-loading.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/image-missing.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/mail-read.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/mail-replied.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/mail-unread.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/security-high.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/security-low.png":[16,16,"png","qx"],"qx/icon/Tango/16/status/security-medium.png":[16,16,"png","qx"],"qx/icon/Tango/22/actions/address-book-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/application-exit.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/appointment-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/bookmark-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/check-spelling.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/contact-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/dialog-apply.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/dialog-cancel.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/dialog-close.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/dialog-ok.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-open-recent.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-open.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-print-preview.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-print.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-properties.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-revert.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-save-as.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-save.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/document-send.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-clear.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-copy.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-cut.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-delete.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-find.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-paste.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-redo.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-select-all.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/edit-undo.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/folder-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-indent-less.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-indent-more.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-justify-center.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-justify-fill.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-justify-left.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-justify-right.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-text-bold.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-text-direction-ltr.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-text-direction-rtl.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-text-italic.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-text-strikethrough.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/format-text-underline.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-bottom.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-down.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-first.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-home.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-last.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-next.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-previous.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-top.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/go-up.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/help-about.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/help-contents.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/help-faq.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/insert-image.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/insert-link.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/insert-text.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/list-add.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/list-remove.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-forward.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-mark-important.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-mark-junk.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-mark-read.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-mark-unread.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-message-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-receive.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-reply-all.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-reply-sender.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/mail-send.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-eject.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-playback-pause.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-playback-start.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-playback-stop.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-record.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-seek-backward.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-seek-forward.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-skip-backward.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/media-skip-forward.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/object-flip-horizontal.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/object-flip-vertical.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/object-rotate-left.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/object-rotate-right.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/process-stop.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/system-log-out.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/system-run.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/system-search.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/system-shutdown.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/view-fullscreen.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/view-refresh.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/view-restore.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/view-sort-ascending.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/view-sort-descending.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/window-close.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/window-new.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/zoom-fit-best.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/zoom-in.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/zoom-original.png":[22,22,"png","qx"],"qx/icon/Tango/22/actions/zoom-out.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-blog.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-download-manager.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-feed-reader.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-mail.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-messenger.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-telephony.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-transfer.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/internet-web-browser.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/media-audio-player.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/media-photo-album.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/media-video-player.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-address-book.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-calendar.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-chart.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-database.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-draw.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-graphics.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-layout.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-presentation.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-project.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-spreadsheet.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-web.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/office-writer.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-accessibility.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-clock.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-display.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-font.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-keyboard.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-locale.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-network.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-security.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-sound.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-theme.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-users.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/preferences-wallpaper.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-archiver.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-calculator.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-character-map.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-color-chooser.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-dictionary.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-graphics-viewer.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-help.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-keyring.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-log-viewer.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-network-manager.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-notes.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-statistics.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-system-monitor.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-terminal.png":[22,22,"png","qx"],"qx/icon/Tango/22/apps/utilities-text-editor.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/accessories.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/development.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/engineering.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/games.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/graphics.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/internet.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/multimedia.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/office.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/science.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/system.png":[22,22,"png","qx"],"qx/icon/Tango/22/categories/utilities.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/audio-card.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/audio-input-microphone.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/battery.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/camera-photo.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/camera-web.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/computer.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/display.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/drive-harddisk.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/drive-optical.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/input-keyboard.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/input-mouse.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/media-flash.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/media-optical.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/multimedia-player.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/network-wired.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/network-wireless.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/pda.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/phone.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/printer.png":[22,22,"png","qx"],"qx/icon/Tango/22/devices/scanner.png":[22,22,"png","qx"],"qx/icon/Tango/22/emblems/emblem-favorite.png":[22,22,"png","qx"],"qx/icon/Tango/22/emblems/emblem-important.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-angel.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-embarrassed.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-kiss.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-laugh.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-plain.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-raspberry.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-sad.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile-big.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-smile.png":[22,22,"png","qx"],"qx/icon/Tango/22/emotes/face-surprise.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/archive.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/executable.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/media-audio.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/media-image.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/media-video.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-calendar.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-contact.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-document.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-illustration.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-presentation.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/office-spreadsheet.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/text-html.png":[22,22,"png","qx"],"qx/icon/Tango/22/mimetypes/text-plain.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/folder-open.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/folder-remote.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/folder.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/network-server.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/network-workgroup.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/user-desktop.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/user-home.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/user-trash-full.png":[22,22,"png","qx"],"qx/icon/Tango/22/places/user-trash.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/dialog-error.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/dialog-information.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/dialog-password.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/dialog-warning.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/image-loading.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/image-missing.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/mail-read.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/mail-replied.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/mail-unread.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/security-high.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/security-low.png":[22,22,"png","qx"],"qx/icon/Tango/22/status/security-medium.png":[22,22,"png","qx"],"qx/icon/Tango/32/actions/address-book-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/application-exit.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/appointment-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/bookmark-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/check-spelling.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/contact-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/dialog-apply.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/dialog-cancel.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/dialog-close.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/dialog-ok.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-open-recent.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-open.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-print-preview.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-print.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-properties.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-revert.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-save-as.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-save.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/document-send.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-clear.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-copy.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-cut.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-delete.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-find.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-paste.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-redo.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-select-all.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/edit-undo.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/folder-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-indent-less.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-indent-more.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-justify-center.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-justify-fill.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-justify-left.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-justify-right.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-text-bold.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-text-direction-ltr.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-text-direction-rtl.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-text-italic.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-text-strikethrough.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/format-text-underline.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-bottom.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-down.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-first.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-home.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-last.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-next.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-previous.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-top.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/go-up.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/help-about.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/help-contents.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/help-faq.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/insert-image.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/insert-link.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/insert-text.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/list-add.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/list-remove.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-forward.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-mark-important.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-mark-junk.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-mark-read.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-mark-unread.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-message-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-receive.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-reply-all.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-reply-sender.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/mail-send.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-eject.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-playback-pause.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-playback-start.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-playback-stop.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-record.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-seek-backward.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-seek-forward.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-skip-backward.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/media-skip-forward.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/object-flip-horizontal.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/object-flip-vertical.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/object-rotate-left.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/object-rotate-right.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/process-stop.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/system-log-out.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/system-run.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/system-search.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/system-shutdown.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/view-fullscreen.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/view-refresh.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/view-restore.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/view-sort-ascending.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/view-sort-descending.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/window-close.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/window-new.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/zoom-fit-best.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/zoom-in.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/zoom-original.png":[32,32,"png","qx"],"qx/icon/Tango/32/actions/zoom-out.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-blog.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-download-manager.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-feed-reader.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-mail.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-messenger.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-telephony.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-transfer.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/internet-web-browser.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/media-audio-player.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/media-photo-album.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/media-video-player.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-address-book.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-calendar.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-chart.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-database.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-draw.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-graphics.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-layout.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-presentation.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-project.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-spreadsheet.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-web.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/office-writer.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-accessibility.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-clock.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-display.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-font.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-keyboard.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-locale.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-network.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-security.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-sound.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-theme.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-users.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/preferences-wallpaper.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-archiver.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-calculator.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-character-map.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-color-chooser.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-dictionary.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-graphics-viewer.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-help.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-keyring.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-log-viewer.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-network-manager.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-notes.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-statistics.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-system-monitor.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-terminal.png":[32,32,"png","qx"],"qx/icon/Tango/32/apps/utilities-text-editor.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/accessories.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/development.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/engineering.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/games.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/graphics.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/internet.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/multimedia.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/office.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/science.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/system.png":[32,32,"png","qx"],"qx/icon/Tango/32/categories/utilities.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/audio-card.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/audio-input-microphone.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/battery.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/camera-photo.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/camera-web.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/computer.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/display.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/drive-harddisk.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/drive-optical.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/input-keyboard.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/input-mouse.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/media-flash.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/media-optical.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/multimedia-player.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/network-wired.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/network-wireless.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/pda.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/phone.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/printer.png":[32,32,"png","qx"],"qx/icon/Tango/32/devices/scanner.png":[32,32,"png","qx"],"qx/icon/Tango/32/emblems/emblem-favorite.png":[32,32,"png","qx"],"qx/icon/Tango/32/emblems/emblem-important.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-angel.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-embarrassed.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-kiss.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-laugh.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-plain.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-raspberry.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-sad.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-smile-big.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-smile.png":[32,32,"png","qx"],"qx/icon/Tango/32/emotes/face-surprise.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/archive.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/executable.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/media-audio.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/media-image.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/media-video.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/office-calendar.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/office-contact.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/office-document.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/office-illustration.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/office-presentation.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/office-spreadsheet.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/text-html.png":[32,32,"png","qx"],"qx/icon/Tango/32/mimetypes/text-plain.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/folder-open.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/folder-remote.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/folder.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/network-server.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/network-workgroup.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/user-desktop.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/user-home.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/user-trash-full.png":[32,32,"png","qx"],"qx/icon/Tango/32/places/user-trash.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/dialog-error.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/dialog-information.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/dialog-password.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/dialog-warning.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/image-loading.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/image-missing.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/mail-read.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/mail-replied.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/mail-unread.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/security-high.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/security-low.png":[32,32,"png","qx"],"qx/icon/Tango/32/status/security-medium.png":[32,32,"png","qx"],"qx/icon/Tango/48/actions/address-book-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/application-exit.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/appointment-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/bookmark-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/check-spelling.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/contact-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/dialog-apply.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/dialog-cancel.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/dialog-close.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/dialog-ok.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-open-recent.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-open.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-print-preview.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-print.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-properties.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-revert.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-save-as.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-save.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/document-send.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-clear.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-copy.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-cut.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-delete.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-find.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-paste.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-redo.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-select-all.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/edit-undo.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/folder-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-indent-less.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-indent-more.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-justify-center.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-justify-fill.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-justify-left.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-justify-right.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-text-bold.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-text-direction-ltr.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-text-direction-rtl.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-text-italic.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-text-strikethrough.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/format-text-underline.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-bottom.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-down.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-first.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-home.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-last.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-next.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-previous.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-top.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/go-up.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/help-about.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/help-contents.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/help-faq.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/insert-image.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/insert-link.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/insert-text.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/list-add.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/list-remove.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-forward.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-mark-important.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-mark-junk.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-mark-read.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-mark-unread.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-message-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-receive.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-reply-all.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-reply-sender.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/mail-send.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-eject.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-playback-pause.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-playback-start.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-playback-stop.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-record.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-seek-backward.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-seek-forward.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-skip-backward.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/media-skip-forward.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/object-flip-horizontal.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/object-flip-vertical.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/object-rotate-left.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/object-rotate-right.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/process-stop.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/system-log-out.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/system-run.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/system-search.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/system-shutdown.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/view-fullscreen.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/view-refresh.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/view-restore.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/view-sort-ascending.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/view-sort-descending.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/window-close.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/window-new.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/zoom-fit-best.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/zoom-in.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/zoom-original.png":[48,48,"png","qx"],"qx/icon/Tango/48/actions/zoom-out.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-blog.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-download-manager.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-feed-reader.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-mail.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-messenger.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-telephony.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-transfer.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/internet-web-browser.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/media-audio-player.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/media-photo-album.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/media-video-player.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-address-book.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-calendar.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-chart.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-database.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-draw.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-graphics.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-layout.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-presentation.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-project.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-spreadsheet.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-web.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/office-writer.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-accessibility.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-clock.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-display.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-font.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-keyboard.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-locale.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-network.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-security.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-sound.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-theme.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-users.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/preferences-wallpaper.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-archiver.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-calculator.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-character-map.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-color-chooser.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-dictionary.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-graphics-viewer.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-help.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-keyring.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-log-viewer.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-network-manager.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-notes.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-statistics.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-system-monitor.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-terminal.png":[48,48,"png","qx"],"qx/icon/Tango/48/apps/utilities-text-editor.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/accessories.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/development.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/engineering.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/games.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/graphics.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/internet.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/multimedia.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/office.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/science.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/system.png":[48,48,"png","qx"],"qx/icon/Tango/48/categories/utilities.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/audio-card.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/audio-input-microphone.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/battery.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/camera-photo.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/camera-web.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/computer.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/display.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/drive-harddisk.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/drive-optical.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/input-keyboard.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/input-mouse.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/media-flash.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/media-optical.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/multimedia-player.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/network-wired.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/network-wireless.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/pda.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/phone.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/printer.png":[48,48,"png","qx"],"qx/icon/Tango/48/devices/scanner.png":[48,48,"png","qx"],"qx/icon/Tango/48/emblems/emblem-favorite.png":[48,48,"png","qx"],"qx/icon/Tango/48/emblems/emblem-important.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-angel.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-embarrassed.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-kiss.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-laugh.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-plain.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-raspberry.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-sad.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-smile-big.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-smile.png":[48,48,"png","qx"],"qx/icon/Tango/48/emotes/face-surprise.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/archive.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/executable.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/media-audio.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/media-image.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/media-video.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/office-calendar.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/office-contact.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/office-document.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/office-illustration.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/office-presentation.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/office-spreadsheet.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/text-html.png":[48,48,"png","qx"],"qx/icon/Tango/48/mimetypes/text-plain.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/folder-open.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/folder-remote.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/folder.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/network-server.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/network-workgroup.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/user-desktop.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/user-home.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/user-trash-full.png":[48,48,"png","qx"],"qx/icon/Tango/48/places/user-trash.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/dialog-error.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/dialog-information.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/dialog-password.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/dialog-warning.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/image-loading.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/image-missing.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/mail-read.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/mail-replied.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/mail-unread.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/security-high.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/security-low.png":[48,48,"png","qx"],"qx/icon/Tango/48/status/security-medium.png":[48,48,"png","qx"],"qx/icon/Tango/64/actions/address-book-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/application-exit.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/appointment-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/bookmark-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/check-spelling.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/contact-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/dialog-apply.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/dialog-cancel.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/dialog-close.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/dialog-ok.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-open-recent.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-open.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-print-preview.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-print.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-properties.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-revert.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-save-as.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-save.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/document-send.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-clear.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-copy.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-cut.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-delete.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-find.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-paste.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-redo.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-select-all.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/edit-undo.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/folder-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-indent-less.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-indent-more.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-justify-center.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-justify-fill.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-justify-left.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-justify-right.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-text-bold.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-text-direction-ltr.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-text-direction-rtl.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-text-italic.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-text-strikethrough.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/format-text-underline.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-bottom.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-down.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-first.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-home.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-last.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-next.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-previous.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-top.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/go-up.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/help-about.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/help-contents.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/help-faq.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/insert-image.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/insert-link.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/insert-text.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/list-add.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/list-remove.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-forward.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-mark-important.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-mark-junk.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-mark-read.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-mark-unread.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-message-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-receive.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-reply-all.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-reply-sender.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/mail-send.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-eject.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-playback-pause.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-playback-start.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-playback-stop.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-record.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-seek-backward.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-seek-forward.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-skip-backward.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/media-skip-forward.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/object-flip-horizontal.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/object-flip-vertical.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/object-rotate-left.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/object-rotate-right.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/process-stop.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/system-log-out.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/system-run.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/system-search.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/system-shutdown.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/view-fullscreen.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/view-refresh.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/view-restore.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/view-sort-ascending.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/view-sort-descending.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/window-close.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/window-new.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/zoom-fit-best.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/zoom-in.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/zoom-original.png":[64,64,"png","qx"],"qx/icon/Tango/64/actions/zoom-out.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-blog.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-download-manager.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-feed-reader.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-mail.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-messenger.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-telephony.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-transfer.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/internet-web-browser.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/media-audio-player.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/media-photo-album.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/media-video-player.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-address-book.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-calendar.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-chart.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-database.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-draw.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-graphics.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-layout.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-presentation.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-project.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-spreadsheet.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-web.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/office-writer.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-accessibility.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-clock.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-display.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-font.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-keyboard.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-locale.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-network.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-security.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-sound.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-theme.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-users.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/preferences-wallpaper.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-archiver.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-calculator.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-character-map.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-color-chooser.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-dictionary.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-graphics-viewer.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-help.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-keyring.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-log-viewer.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-network-manager.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-notes.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-statistics.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-system-monitor.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-terminal.png":[64,64,"png","qx"],"qx/icon/Tango/64/apps/utilities-text-editor.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/accessories.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/development.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/engineering.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/games.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/graphics.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/internet.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/multimedia.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/office.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/science.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/system.png":[64,64,"png","qx"],"qx/icon/Tango/64/categories/utilities.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/audio-card.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/audio-input-microphone.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/battery.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/camera-photo.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/camera-web.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/computer.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/display.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/drive-harddisk.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/drive-optical.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/input-keyboard.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/input-mouse.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/media-flash.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/media-optical.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/multimedia-player.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/network-wired.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/network-wireless.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/pda.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/phone.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/printer.png":[64,64,"png","qx"],"qx/icon/Tango/64/devices/scanner.png":[64,64,"png","qx"],"qx/icon/Tango/64/emblems/emblem-favorite.png":[64,64,"png","qx"],"qx/icon/Tango/64/emblems/emblem-important.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-angel.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-embarrassed.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-kiss.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-laugh.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-plain.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-raspberry.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-sad.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-smile-big.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-smile.png":[64,64,"png","qx"],"qx/icon/Tango/64/emotes/face-surprise.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/archive.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/executable.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/media-audio.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/media-image.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/media-video.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/office-calendar.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/office-contact.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/office-document.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/office-illustration.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/office-presentation.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/office-spreadsheet.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/text-html.png":[64,64,"png","qx"],"qx/icon/Tango/64/mimetypes/text-plain.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/folder-open.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/folder-remote.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/folder.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/network-server.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/network-workgroup.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/user-desktop.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/user-home.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/user-trash-full.png":[64,64,"png","qx"],"qx/icon/Tango/64/places/user-trash.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/dialog-error.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/dialog-information.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/dialog-password.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/dialog-warning.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/image-loading.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/image-missing.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/mail-read.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/mail-replied.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/mail-unread.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/security-high.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/security-low.png":[64,64,"png","qx"],"qx/icon/Tango/64/status/security-medium.png":[64,64,"png","qx"],"qx/icon/Tango/AUTHORS":"qx","qx/icon/Tango/LICENSE":"qx","qx/mobile/css/LICENSE":"qx","qx/mobile/css/custom.css":"qx","qx/mobile/js/LICENSE":"qx","qx/mobile/js/iscroll.js":"qx","qx/mobile/js/iscroll.min.js":"qx","qx/mobile/scss/common/_all.scss":"qx","qx/mobile/scss/common/_animations.scss":"qx","qx/mobile/scss/common/_gradients.scss":"qx","qx/mobile/scss/common/_layout.scss":"qx","qx/mobile/scss/common/_main.scss":"qx","qx/mobile/scss/common/_mixins.scss":"qx","qx/mobile/scss/common/_scroller.scss":"qx","qx/mobile/scss/theme/flat/_styles.scss":"qx","qx/mobile/scss/theme/indigo/_styles.scss":"qx","qx/mobile/scss/ui/_all.scss":"qx","qx/mobile/scss/ui/_blocker.scss":"qx","qx/mobile/scss/ui/_button.scss":"qx","qx/mobile/scss/ui/_carousel.scss":"qx","qx/mobile/scss/ui/_checkbox.scss":"qx","qx/mobile/scss/ui/_collapsible.scss":"qx","qx/mobile/scss/ui/_drawer.scss":"qx","qx/mobile/scss/ui/_form.scss":"qx","qx/mobile/scss/ui/_input.scss":"qx","qx/mobile/scss/ui/_list.scss":"qx","qx/mobile/scss/ui/_main.scss":"qx","qx/mobile/scss/ui/_masterdetail.scss":"qx","qx/mobile/scss/ui/_menu.scss":"qx","qx/mobile/scss/ui/_navigation.scss":"qx","qx/mobile/scss/ui/_navigationbar.scss":"qx","qx/mobile/scss/ui/_picker.scss":"qx","qx/mobile/scss/ui/_popup.scss":"qx","qx/mobile/scss/ui/_radiobutton.scss":"qx","qx/mobile/scss/ui/_selectbox.scss":"qx","qx/mobile/scss/ui/_slider.scss":"qx","qx/mobile/scss/ui/_spinner.scss":"qx","qx/mobile/scss/ui/_tabbar.scss":"qx","qx/mobile/scss/ui/_togglebutton.scss":"qx","qx/mobile/scss/ui/_toolbar.scss":"qx","qx/static/blank.gif":[1,1,"gif","qx"],"qx/static/blank.html":"qx","qx/static/blank.png":[1,1,"png","qx"],"qx/static/empty.pdf":"qx","qx/test/xmlhttp/php_version.php":"qx"},"translations":{"C":{},"cs":{"%1 does not fit %2.":"%1 neodpovídá %2.","%1 is not a color! %2":"%1 není barva! %2","%1 is not a number.":"%1 není číslo.","%1 is not a string.":"%1 není řetězec.","%1 is not an url.":"%1 není URL.","%1 is not in %2":"%1 není v %2","%1 is not in the range from [%2, %3].":"%1 není v intervalu [%2, %3].","%1 of %2 rows":"%1 ze %2 řádků","%1 rows":"%1 řádky","'%1' is not an email address.":"'%1' není e-mailová adresa.","Automatic":"Automaticky","Cancel":"Storno","Color Selector":"Výběr barvy","Details":"Podrobnosti","HSB":"HSB","Hex":"Hex","Last month":"Předchozí měsíc","Last year":"Předchozí rok","Next month":"Další měsíc","Next year":"Další rok","OK":"OK","Open ColorSelector":"Otevřít Výběr barvy","Presets":"Předvolby","Preview (Old/New)":"Náhled (starý/nový)","RGB":"RGB","Reset column widths":"Obnovit šířky sloupců","This field is required":"Toto pole je povinné","Visual":"Vizuální","key_full_Alt":"Alt","key_full_Apps":"Kontextové menu","key_full_Backspace":"Backspace","key_full_CapsLock":"Caps Lock","key_full_Control":"Ctrl","key_full_Control_Mac":"Ctrl","key_full_Delete":"Del","key_full_Down":"Dolů","key_full_End":"End","key_full_Enter":"Enter","key_full_Escape":"Esc","key_full_Home":"Home","key_full_Insert":"Ins","key_full_Left":"Doleva","key_full_Meta":"Meta","key_full_NumLock":"Num","key_full_PageDown":"Page Down","key_full_PageUp":"Page Up","key_full_Pause":"Pause","key_full_PrintScreen":"Print Screen","key_full_Right":"Doprava","key_full_Scroll":"Scroll Lock","key_full_Shift":"Shift","key_full_Space":"Mezerník","key_full_Tab":"Tab","key_full_Up":"Nahoru","key_full_Win":"Win","key_short_Alt":"Alt","key_short_Apps":"Kontext","key_short_Backspace":"Backspace","key_short_CapsLock":"Caps Lock","key_short_Control":"Ctrl","key_short_Control_Mac":"Ctrl","key_short_Delete":"Delete","key_short_Down":"Dolů","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"Doleva","key_short_Meta":"Meta","key_short_NumLock":"Num","key_short_PageDown":"PgDn","key_short_PageUp":"PgUp","key_short_Pause":"Pause","key_short_PrintScreen":"PrSc","key_short_Right":"Doprava","key_short_Scroll":"ScLck","key_short_Shift":"Shift","key_short_Space":"Mezera","key_short_Tab":"Tab","key_short_Up":"Nahoru","key_short_Win":"Win","one of one row":"jeden řádek z jednoho","one row":"jeden řádek"},"de":{"%1 does not fit %2.":"%1 passt nicht zu %2.","%1 is not a color! %2":"%1 ist keine Farbe! %2","%1 is not a number.":"%1 ist keine Nummer.","%1 is not a string.":"%1 ist keine Zeichenkette.","%1 is not an url.":"%1 ist keine URL.","%1 is not in %2":"%1 ist nicht in %2","%1 is not in the range from [%2, %3].":"%1 liegt nicht im Intervall [%2, %3].","%1 of %2 rows":"%1 von %2 Zeilen","%1 rows":"%1 Zeilen","'%1' is not an email address.":"'%1' ist keine Emailadresse.","Automatic":"Automatisch","Basic Colors":"Grundfarben","Cancel":"Abbruch","Color Selector":"Farbauswahl","Details":"Details","HSB":"HSB","Hex":"Hex","Last month":"Vorheriger Monat","Last year":"Vorheriges Jahr","Next month":"Nächster Monat","Next year":"Nächstes Jahr","OK":"OK","Open ColorSelector":"Öffne Farbauswahl","Presets":"Voreinstellungen","Preview (Old/New)":"Vorschau (alt/neu)","RGB":"RGB","Recent Colors":"Zuletzt benutzte Farben","Reset column widths":"Spaltenbreite zurücksetzen","This field is required":"Dieses Feld ist erforderlich","Visual":"Visuell","key_full_Alt":"Alt","key_full_Apps":"Kontextmenü","key_full_Backspace":"Rücktaste","key_full_CapsLock":"Feststelltaste","key_full_Control":"Steuerung","key_full_Delete":"Entfernen","key_full_Down":"Pfeil runter","key_full_End":"Ende","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Position 1","key_full_Insert":"Einfügen","key_full_Left":"Pfeil links","key_full_Meta":"Meta","key_full_NumLock":"NumLock","key_full_PageDown":"Bild runter","key_full_PageUp":"Bild hoch","key_full_Pause":"Pause","key_full_PrintScreen":"Drucken","key_full_Right":"Pfeil rechts","key_full_Scroll":"Rollen","key_full_Shift":"Umschalttaste","key_full_Space":"Leertaste","key_full_Tab":"Tabulator","key_full_Up":"Pfeil hoch","key_full_Win":"Windowstaste","key_short_Alt":"Alt","key_short_Apps":"Kontext","key_short_Backspace":"Rück","key_short_CapsLock":"Feststell","key_short_Control":"Strg","key_short_Delete":"Entf","key_short_Down":"Runter","key_short_End":"Ende","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Pos1","key_short_Insert":"Einfg","key_short_Left":"Links","key_short_Meta":"Meta","key_short_NumLock":"Num","key_short_PageDown":"Bild runter","key_short_PageUp":"Bild hoch","key_short_Pause":"Pause","key_short_PrintScreen":"Druck","key_short_Right":"Rechts","key_short_Scroll":"Rollen","key_short_Shift":"Umschalt","key_short_Space":"Leer","key_short_Tab":"Tab","key_short_Up":"Hoch","key_short_Win":"Win","one of one row":"Eine von einer Zeile","one row":"Eine Zeile"},"en":{},"es":{"%1 does not fit %2.":"%1 no corresponde con %2.","%1 is not a color! %2":"%1 no es un color! %2","%1 is not a number.":"%1 no es un número.","%1 is not a string.":"%1 no es una cadena de caracteres.","%1 is not an url.":"%1 no es un url.","%1 is not in %2":"%1 no se encuentra en %2","%1 is not in the range from [%2, %3].":"%1 no se encuentra en el rango [%2, %3].","%1 of %2 rows":"%1 de %2 filas","%1 rows":"%1 filas","'%1' is not an email address.":"'%1' no es un correo electrónico.","Automatic":"Automático","Cancel":"Cancelar","Color Selector":"Selector de color","Details":"Detalles","HSB":"HSB","Hex":"Hex","Last month":"Último mes","Last year":"Último año","Next month":"Mes siguiente","Next year":"Año siguiente","OK":"Aceptar","Open ColorSelector":"Abrir Selector de Color","Presets":"Preselecciones","Preview (Old/New)":"Vista previa (Viejo/Nuevo)","RGB":"RGB","Reset column widths":"Reestablecer anchos de columnas","This field is required":"Este cuadro es obligatorio","Visual":"Visual","key_full_Alt":"Alt","key_full_Apps":"Aplicaciones","key_full_Backspace":"Retroceso","key_full_CapsLock":"Bloqueo Mayúsculas","key_full_Control":"Control","key_full_Delete":"Suprimir","key_full_Down":"Flecha abajo","key_full_End":"Fin","key_full_Enter":"Intro","key_full_Escape":"Escape","key_full_Home":"Inicio","key_full_Insert":"Insertar","key_full_Left":"Flecha izquierda","key_full_Meta":"Meta","key_full_NumLock":"Bloqueo Numérico","key_full_PageDown":"Avanzar Página","key_full_PageUp":"Retroceder Página","key_full_Pause":"Pausa","key_full_PrintScreen":"Imprimir Pantalla","key_full_Right":"Flecha derecha","key_full_Scroll":"Bloq. Despl.","key_full_Shift":"Mayúscula","key_full_Space":"Espacio","key_full_Tab":"Tabulador","key_full_Up":"Flecha arriba","key_full_Win":"Windows","key_short_Alt":"Alt","key_short_Apps":"Aplic","key_short_Backspace":"Retroceso","key_short_CapsLock":"BloqMayús","key_short_Control":"Ctrl","key_short_Delete":"Supr","key_short_Down":"Abajo","key_short_End":"Fin","key_short_Enter":"Intro","key_short_Escape":"Esc","key_short_Home":"Inicio","key_short_Insert":"Insert","key_short_Left":"Izquierda","key_short_Meta":"Meta","key_short_NumLock":"BloqNum","key_short_PageDown":"AvPág","key_short_PageUp":"RePág","key_short_Pause":"Pausa","key_short_PrintScreen":"ImprPant","key_short_Right":"Derecha","key_short_Scroll":"BloqDespl","key_short_Shift":"Mayús","key_short_Space":"Espacio","key_short_Tab":"Tab","key_short_Up":"Arriba","key_short_Win":"Win","one of one row":"una de una fila","one row":"una fila"},"fr":{"%1 does not fit %2.":"%1 ne correspond pas à %2.","%1 is not a color! %2":"%1 n'est pas une couleur ! %2","%1 is not a number.":"%1 n'est pas un chiffre.","%1 is not a string.":"%1 n'est pas une chaîne de caractères.","%1 is not an url.":"%1 n'est pas un URL.","%1 is not in %2":"%1 n'est pas dans %2","%1 is not in the range from [%2, %3].":"%1 n'est pas dans l'intervalle [%2, %3].","%1 of %2 rows":"%1 lignes sur %2","%1 rows":"%1 lignes","'%1' is not an email address.":"'%1'n'est pas une adresse email.","Automatic":"Automatique","Cancel":"Annuler","Color Selector":"Sélecteur de couleurs","Details":"Détails","HSB":"TSV","Hex":"Hex","Last month":"Mois dernier","Last year":"Année dernière","Next month":"Mois prochain","Next year":"Année prochaine","OK":"OK","Open ColorSelector":"Ouvrir le sélecteur de couleurs","Presets":"Pré-réglages","Preview (Old/New)":"Aperçu (Ancien/Nouveau)","RGB":"RVB","Reset column widths":"Réinitialiser la largeur des colonnes","This field is required":"ce champ est requis","key_full_Alt":"Alternative","key_full_Apps":"Application","key_full_Backspace":"Effacement arrière","key_full_CapsLock":"Verrouillage des Majuscule","key_full_Control":"Contrôle","key_full_Delete":"Suppression","key_full_Down":"Bas","key_full_End":"Fin","key_full_Enter":"Entrée","key_full_Escape":"Échappement","key_full_Home":"Origine","key_full_Insert":"Insertion","key_full_Left":"Gauche","key_full_Meta":"Meta","key_full_NumLock":"Verouillage Numérique","key_full_PageDown":"Page Suivante","key_full_PageUp":"Page Précédente","key_full_Pause":"Pause","key_full_PrintScreen":"Impression de l'écran","key_full_Right":"Droite","key_full_Scroll":"Arrêt défilement","key_full_Shift":"Majuscules","key_full_Space":"Espace","key_full_Tab":"Tabulation","key_full_Up":"Haut","key_full_Win":"Windows","key_short_Alt":"Alt","key_short_Apps":"App.","key_short_Backspace":"Effacement Arrière","key_short_CapsLock":"Verr. Maj.","key_short_Control":"Ctrl","key_short_Delete":"Supp.","key_short_Down":"Bas","key_short_End":"Fin","key_short_Enter":"Entrée","key_short_Escape":"Echap.","key_short_Home":"Orig.","key_short_Insert":"Ins.","key_short_Left":"Gauche","key_short_Meta":"Meta","key_short_NumLock":"Verr. Num.","key_short_PageDown":"Pg Suiv.","key_short_PageUp":"Pg Préc.","key_short_Pause":"Pause","key_short_PrintScreen":"Imp. Écran","key_short_Right":"Droite","key_short_Scroll":"Arrêt Défil","key_short_Shift":"Maj","key_short_Space":"Espace","key_short_Tab":"Tab","key_short_Up":"Haut","key_short_Win":"Win","one of one row":"une ligne sur une","one row":"une ligne"},"it":{"%1 does not fit %2.":"%1 non corrisponde a %2.","%1 is not a color! %2":"%1 non è un colore! %2","%1 is not a number.":"%1 non è un numero.","%1 is not a string.":"%1 non è una stringa.","%1 is not an url.":"%1 non è un url.","%1 is not in %2":"%1 non è contenuto in %2","%1 is not in the range from [%2, %3].":"%1 non è compreso nell'intervallo [%2, %3].","%1 of %2 rows":"%1 di %2 righe","%1 rows":"%1 righe","'%1' is not an email address.":"'%1' non è un indirizzo email.","Automatic":"Automatico","Cancel":"Annulla","Color Selector":"Selettore dei Colori","Details":"Dettagli","HSB":"TSL","Hex":"Hex","Last month":"Mese precedente","Last year":"Anno precedente","Next month":"Mese successivo","Next year":"Anno successivo","OK":"OK","Open ColorSelector":"Apri il Selettore dei Colori","Presets":"Predefiniti","Preview (Old/New)":"Anteprima (Vecchio/Nuovo)","RGB":"RGB","Reset column widths":"Ripristina le larghezze delle colonne","This field is required":"Questo campo è obbligatorio","Visual":"Selezione visuale","key_full_Alt":"Alt","key_full_Apps":"Tasto Menu","key_full_Backspace":"Backspace","key_full_CapsLock":"Blocca Maiuscole","key_full_Control":"Control","key_full_Delete":"Cancella","key_full_Down":"Freccia Giù","key_full_End":"Fine","key_full_Enter":"Invio","key_full_Escape":"Escape","key_full_Home":"Inizio","key_full_Insert":"Inserisci","key_full_Left":"Freccia Sinistra","key_full_Meta":"Meta","key_full_NumLock":"Blocca Numeri","key_full_PageDown":"Pagina Giù","key_full_PageUp":"Pagina Su","key_full_Pause":"Pausa","key_full_PrintScreen":"Stampa Schermo","key_full_Right":"Freccia Destra","key_full_Scroll":"Blocca Scorrimento","key_full_Shift":"Maiuscole","key_full_Space":"Spazio","key_full_Tab":"Tabulazione","key_full_Up":"Freccia Su","key_full_Win":"Tasto Windows","key_short_Alt":"Alt","key_short_Apps":"Menu","key_short_Backspace":"Backspace","key_short_CapsLock":"Bloc Maiusc","key_short_Control":"Ctrl","key_short_Delete":"Canc","key_short_Down":"Giù","key_short_End":"Fine","key_short_Enter":"Invio","key_short_Escape":"Esc","key_short_Home":"Inizio","key_short_Insert":"Ins","key_short_Left":"Sinistra","key_short_Meta":"Meta","key_short_NumLock":"Bloc Num","key_short_PageDown":"Pag Giù","key_short_PageUp":"Pag Su","key_short_Pause":"Pausa","key_short_PrintScreen":"Stamp","key_short_Right":"Destra","key_short_Scroll":"Bloc Scorr","key_short_Shift":"Maiusc","key_short_Space":"Spazio","key_short_Tab":"Tab","key_short_Up":"Su","key_short_Win":"Win","one of one row":"una di una riga","one row":"una riga"},"nb":{"%1 does not fit %2.":"%1 passer ikke inn %2.","%1 is not a color! %2":"%1 er ikke en farge! %2","%1 is not a number.":"%1 er ikke et tall.","%1 is not a string.":"%1 er ikke en streng.","%1 is not an url.":"%1 er ikke en internettadresse (URL).","%1 is not in %2":"%1 er ikke i %2","%1 is not in the range from [%2, %3].":"%1 er ikke i området fra [%2, %3].","%1 of %2 rows":"%1 av %2 rader","%1 rows":"%1 rader","'%1' is not an email address.":"'%1' er ikke en e-postadresse.","Automatic":"Automatisk","Cancel":"Avbryt","Color Selector":"fargevelger","Details":"Detaljer","HSB":"HSB","Hex":"Hex","Last month":"Siste måned","Last year":"Siste år","Next month":"Neste måned","Next year":"Neste år","OK":"Ok","Open ColorSelector":"Åpne fargevelger","Presets":"Forhåndssatte","Preview (Old/New)":"Forhåndsvisning (gammel/ny)","RGB":"RGB","Reset column widths":"Nullstill kolonnebreddene","This field is required":"Dette feltet er påkrevd","Visual":"Visuell","key_full_Alt":"Alt","key_full_Apps":"Apps","key_full_Backspace":"Backspace","key_full_CapsLock":"CapsLock","key_full_Control":"Control","key_full_Delete":"Delete","key_full_Down":"Ned","key_full_End":"End","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Home","key_full_Insert":"Insert","key_full_Left":"Venstre","key_full_Meta":"Meta","key_full_NumLock":"NumLock","key_full_PageDown":"PageDown","key_full_PageUp":"PageUp","key_full_Pause":"Pause","key_full_PrintScreen":"PrintScreen","key_full_Right":"Høyre","key_full_Scroll":"Scroll","key_full_Shift":"Shift","key_full_Space":"Space","key_full_Tab":"Tab","key_full_Up":"Opp","key_full_Win":"Win","key_short_Alt":"Alt","key_short_Apps":"Apps","key_short_Backspace":"BS","key_short_CapsLock":"CapsLock","key_short_Control":"Ctrl","key_short_Delete":"Del","key_short_Down":"Ned","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"Venstre","key_short_Meta":"Meta","key_short_NumLock":"Num","key_short_PageDown":"PgDn","key_short_PageUp":"PgUp","key_short_Pause":"Pause","key_short_PrintScreen":"PrnScn","key_short_Right":"Høyre","key_short_Scroll":"Scroll","key_short_Shift":"Shift","key_short_Space":"Space","key_short_Tab":"Tab","key_short_Up":"Opp","key_short_Win":"Win","one of one row":"En av en rad","one row":"en rad"},"nl":{"%1 does not fit %2.":"%1 past niet %2.","%1 is not a color! %2":"%1 is geen kleur! %2","%1 is not a number.":"%1 is geen nummer.","%1 is not a string.":"%1 is geen string.","%1 is not an url.":"%1 is geen url.","%1 is not in %2":"%1 is niet in %2","%1 is not in the range from [%2, %3].":"%1 is niet in het bereik van [%2, %3].","%1 of %2 rows":"%1 van %2 rijen","%1 rows":"%1 rijen","'%1' is not an email address.":"'%1' is geen email adres.","Automatic":"Automatisch","Cancel":"Annuleer","Color Selector":"Kleur-instelling","Details":"Details","HSB":"HSB","Hex":"Hex","Last month":"Laatste maand","Last year":"Laatste jaar","Next month":"Volgende maand","Next year":"Volgend jaar","OK":"OK","Open ColorSelector":"Open Kleurkiezer","Presets":"Voorkeuren","Preview (Old/New)":"Voorbeeld (Oud/Nieuw)","RGB":"RGB","Reset column widths":"Kolombreedte herstellen","This field is required":"Dit veld is verplicht","Visual":"Visueel","key_full_Alt":"Alt","key_full_Apps":"Contextmenu","key_full_Backspace":"Backspace","key_full_CapsLock":"Caps Lock","key_full_Control":"Control","key_full_Delete":"Verwijderen","key_full_Down":"Pijl omlaag","key_full_End":"End","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Positie 1","key_full_Insert":"Invoegen","key_full_Left":"Pijl links","key_full_Meta":"Meta","key_full_NumLock":"Num Lock","key_full_PageDown":"Volgende pagina","key_full_PageUp":"Vorige pagina","key_full_Pause":"Pauze","key_full_PrintScreen":"Schermafbeelding","key_full_Right":"Pijl rechts","key_full_Scroll":"Scroll Lock","key_full_Shift":"Shift","key_full_Space":"Spatiebalk","key_full_Tab":"Tabulator","key_full_Up":"Pijl omhoog","key_full_Win":"Windowstoets","key_short_Alt":"Alt","key_short_Apps":"Apps","key_short_Backspace":"Backspace","key_short_CapsLock":"Caps Lock","key_short_Control":"Ctrl","key_short_Delete":"Del","key_short_Down":"Omlaag","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"Links","key_short_Meta":"Meta","key_short_NumLock":"Num Lock","key_short_PageDown":"PgDn","key_short_PageUp":"PgUp","key_short_Pause":"Pause","key_short_PrintScreen":"PrtSc","key_short_Right":"Rechts","key_short_Scroll":"Scroll Lock","key_short_Shift":"Shift","key_short_Space":"Spatie","key_short_Tab":"Tab","key_short_Up":"Omhoog","key_short_Win":"Win","one of one row":"Een van een rij","one row":"een rij"},"pl":{"%1 does not fit %2.":"%1 nie pasuje do %2.","%1 is not a color! %2":"%1 nie jest kolorem! %2","%1 is not a number.":"%1 nie jest liczbą.","%1 is not a string.":"%1 nie jest ciągiem znaków.","%1 is not an url.":"%1 nie jest URL.","%1 is not in %2":"%1 nie jest w %2","%1 is not in the range from [%2, %3].":"%1 nie leży w przedziale [%2, %3].","%1 of %2 rows":"%1 z %2 wierszy","%1 rows":"%1 wierszy","'%1' is not an email address.":"'%1' nie jest adresem e-mail.","Automatic":"Automatycznie","Cancel":"Anuluj","Color Selector":"Wybór kolorów","Details":"Szczegóły","HSB":"HSB","Hex":"hex","Last month":"Poprzedni miesiąc","Last year":"Poprzedni rok","Next month":"Następny miesiąc","Next year":"Następny rok","OK":"OK","Open ColorSelector":"Otwórz wybór kolorów","Presets":"Ustawienia wstępne","Preview (Old/New)":"Podgląd (stary/nowy)","RGB":"RGB","Reset column widths":"Zresetuj szerokość kolumny","This field is required":"To pole jest obowiązkowe","Visual":"Wizualny","key_full_Alt":"Alt","key_full_Apps":"Menu kontekstowe","key_full_Backspace":"Backspace","key_full_CapsLock":"Caps Lock","key_full_Control":"Control","key_full_Control_Mac":"key_full_Control_Mac","key_full_Delete":"Delete","key_full_Down":"Strzałka w dół","key_full_End":"End","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Home","key_full_Insert":"Insert","key_full_Left":"Strzałka w lewo","key_full_Meta":"Klawisz meta","key_full_NumLock":"Num Lock","key_full_PageDown":"Page Down","key_full_PageUp":"Page Up","key_full_Pause":"Break","key_full_PrintScreen":"Print Screen","key_full_Right":"Strzałka w prawo","key_full_Scroll":"Scroll Lock","key_full_Shift":"Shift","key_full_Space":"Spacja","key_full_Tab":"Tabulator","key_full_Up":"Strzałka w górę","key_full_Win":"Klawisz Windows","key_short_Alt":"Alt","key_short_Apps":"Kontekst","key_short_Backspace":"Backspace","key_short_CapsLock":"Caps Lock","key_short_Control":"Ctrl","key_short_Control_Mac":"key_short_Control_Mac","key_short_Delete":"Del","key_short_Down":"W dół","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"W lewo","key_short_Meta":"Klawisz meta","key_short_NumLock":"Num","key_short_PageDown":"Page Down","key_short_PageUp":"Page Up","key_short_Pause":"Brk","key_short_PrintScreen":"PtSc","key_short_Right":"W prawo","key_short_Scroll":"ScLk","key_short_Shift":"Shift","key_short_Space":"Spacja","key_short_Tab":"Tab","key_short_Up":"W górę","key_short_Win":"Win Key","one of one row":"z wierszy","one row":"Wiersz"},"pt":{"%1 does not fit %2.":"%1 não condiz com %2.","%1 is not a color! %2":"%1 não é uma cor! %2","%1 is not a number.":"%1 não é um número.","%1 is not a string.":"%1 não é uma cadeia de carateres.","%1 is not an url.":"%1 não é um endereço.","%1 is not in %2":"%1 não está em %2","%1 is not in the range from [%2, %3].":"%1 não está no intervalo [%2, %3].","%1 of %2 rows":"%1 de %2 linhas","%1 rows":"%1 linhas","'%1' is not an email address.":"'%1' não é um endereço de correio eletrónico.","Automatic":"Automático","Cancel":"Cancelar","Color Selector":"Selector de Cor","Details":"Detalhes","HSB":"HSB","Hex":"Hex","Last month":"Mês anterior","Last year":"Ano anterior","Next month":"Próximo mês","Next year":"Próximo ano","OK":"OK","Open ColorSelector":"Abrir Seletor de Cor","Presets":"Predefinições","Preview (Old/New)":"Pré-visualização (Anterior/Novo)","RGB":"RGB","Reset column widths":"Repor a largura das colunas","This field is required":"Este campo é obrigatório","Visual":"Visual","key_full_Alt":"Alt","key_full_Apps":"Tecla Apps","key_full_Backspace":"Tecla de retrocesso","key_full_CapsLock":"Caps Lock","key_full_Control":"Ctrl","key_full_Delete":"Eliminar","key_full_Down":"Seta para baixo","key_full_End":"Fim","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Início","key_full_Insert":"Inserir","key_full_Left":"Seta para esquerda","key_full_Meta":"Tecla Meta","key_full_NumLock":"Num Lock","key_full_PageDown":"Página abaixo","key_full_PageUp":"Página acima","key_full_Pause":"Pause","key_full_PrintScreen":"Print Screen","key_full_Right":"Seta para direita","key_full_Scroll":"Scroll Lock","key_full_Shift":"Shift","key_full_Space":"Barra de espaços","key_full_Tab":"Tabulação","key_full_Up":"Seta para cima","key_full_Win":"Tecla do Windows","key_short_Alt":"Alt","key_short_Apps":"Apps","key_short_Backspace":"Apagar","key_short_CapsLock":"Caps Lock","key_short_Control":"Ctrl","key_short_Delete":"Del","key_short_Down":"Baixo","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"Esquerda","key_short_Meta":"Meta","key_short_NumLock":"Num Lock","key_short_PageDown":"Page Dn","key_short_PageUp":"Page Up","key_short_Pause":"Pause","key_short_PrintScreen":"Print Screen","key_short_Right":"Direita","key_short_Scroll":"Scroll Lock","key_short_Shift":"Shift","key_short_Space":"Espaço","key_short_Tab":"Tab","key_short_Up":"Cima","key_short_Win":"Win","one of one row":"uma de uma linha","one row":"uma linha"},"ro":{"%1 does not fit %2.":"%1 nu încape în %2","%1 is not a color! %2":"%1 nu este o culoare! %2","%1 is not a number.":"%1 nu este un număr","%1 is not a string.":"%1 nu este un șir de caractere","%1 is not an url.":"%1 nu este un URL.","%1 is not in %2":"%1 nu este în %2","%1 is not in the range from [%2, %3].":"%1 nu este în intervalul [%2,%3]","%1 of %2 rows":"%1 din %2 rânduri","%1 rows":"%1 rânduri","'%1' is not an email address.":"'%1' nu este o adresă de email","Automatic":"Automat","Cancel":"Anulează","Color Selector":"Selector de culori","Details":"Detalii","Last month":"Luna trecută","Last year":"Anul trecut","Next month":"Luna următoare","Next year":"Anul următor","OK":"OK","Open ColorSelector":"Deschide selectorul de culori","Presets":"Predefiniri","Preview (Old/New)":"Previzualizare (Vechi/Nou)","Reset column widths":"Resetează lățimea coloanei","This field is required":"Acest câmp este obligatoriu","Visual":"Vizual","one of one row":"unul din un rând","one row":"un rând"},"ru":{"%1 does not fit %2.":"%1 не соответствует %2.","%1 is not a color! %2":"%1 не является цветом! %2","%1 is not a number.":"%1 не является числом.","%1 is not a string.":"%1 не является строкой.","%1 is not an url.":"%1 не является веб-ссылкой.","%1 is not in %2":"%1 не входит в %2","%1 is not in the range from [%2, %3].":"%1 не входит в диапазон [%2, %3].","%1 of %2 rows":"%1 из %2 строк","%1 rows":"%1 строк","'%1' is not an email address.":"'%1' неверный адрес эл. почты.","Automatic":"Автоматический","Cancel":"Отмена","Color Selector":"Выбор цвета","Details":"Детали","HSB":"HSB","Hex":"Hex","Last month":"Последний месяц","Last year":"Последний год","Next month":"Следующий год","Next year":"Следующий месяц","OK":"ОК","Open ColorSelector":"Открыть выбор цвета","Presets":"Предустановки","Preview (Old/New)":"Просмотр (Старый/Новый)","RGB":"RGB","Reset column widths":"Сбросить ширину столбца","This field is required":"Обязательно для заполнения","Visual":"Визуальный","key_full_Alt":"Alt","key_full_Apps":"Контекстное меню","key_full_Backspace":"Backspace","key_full_CapsLock":"Caps Lock","key_full_Control":"Control","key_full_Control_Mac":"Mac cmd","key_full_Delete":"Delete","key_full_Down":"Клавиша Вниз","key_full_End":"End","key_full_Enter":"Ввод","key_full_Escape":"Escape","key_full_Home":"Home","key_full_Insert":"Insert","key_full_Left":"Клавиша Влево","key_full_Meta":"Meta","key_full_NumLock":"NumLock","key_full_PageDown":"Page Down","key_full_PageUp":"Page Up","key_full_Pause":"Pause","key_full_PrintScreen":"Print Screen","key_full_Right":"Клавиша Вправо","key_full_Scroll":"Scroll Lock","key_full_Shift":"Shift","key_full_Space":"Пробел","key_full_Tab":"Табуляция","key_full_Up":"Клавиша Вверх","key_full_Win":"Win","key_short_Alt":"Alt","key_short_Apps":"Конт","key_short_Backspace":"Backspace","key_short_CapsLock":"CapsLock","key_short_Control":"Ctrl","key_short_Control_Mac":"Mac fn","key_short_Delete":"Delete","key_short_Down":"Вниз","key_short_End":"End","key_short_Enter":"Ввод","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Insert","key_short_Left":"Влево","key_short_Meta":"Meta","key_short_NumLock":"NumLock","key_short_PageDown":"PageDown","key_short_PageUp":"PageUp","key_short_Pause":"Pause","key_short_PrintScreen":"PrtScr","key_short_Right":"Вправо","key_short_Scroll":"ScrLck","key_short_Shift":"Shift","key_short_Space":"Пробел","key_short_Tab":"Табуляция","key_short_Up":"Вверх","key_short_Win":"Win","one of one row":"одна из одной строки","one row":"одна строка"},"sl":{"%1 does not fit %2.":"%1 se ne ujema z %2.","%1 is not a color! %2":"%1 ni barva! %2","%1 is not a number.":"%1 ni število.","%1 is not a string.":"%1 ni niz.","%1 is not an url.":"%1 ni url.","%1 is not in %2":"%1 ni v %2","%1 is not in the range from [%2, %3].":"%1 ni v intervalu od [%2, %3].","%1 of %2 rows":"%1 od %2 vrstic","%1 rows":"%1 vrstic","'%1' is not an email address.":"'%1' ni email adresa.","Automatic":"Automatičen","Cancel":"Prekliči","Color Selector":"Izbor barve","Details":"Detajli","HSB":"HSB","Hex":"Hex","Last month":"Prejšnji mesec","Last year":"Lansko leto","Next month":"Naslednji mesec","Next year":"Naslednje leto","OK":"Da","Open ColorSelector":"Odpri izbor barve","Presets":"Nastavitve","Preview (Old/New)":"Predogled (Star/Nov)","RGB":"RGB","Reset column widths":"Resetiraj širino stolpca","This field is required":"Obvezno polje","Visual":"Vizualen","key_full_Alt":"Alt","key_full_CapsLock":"CapsLock","key_full_Control":"Control","key_full_Delete":"Delete","key_full_Down":"Dol","key_full_End":"End","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Home","key_full_Insert":"Insert","key_full_Left":"Levo","key_full_Meta":"Meta","key_full_NumLock":"NumLock","key_full_PageDown":"PageDown","key_full_PageUp":"PageUp","key_full_Pause":"Pause","key_full_PrintScreen":"PrintScreen","key_full_Right":"Desno","key_full_Scroll":"Scroll","key_full_Shift":"Shift","key_full_Space":"Presledek","key_full_Tab":"Tab","key_full_Up":"Gor","key_full_Win":"Win","key_short_Alt":"Alt","key_short_Apps":"Apps","key_short_Backspace":"Vračalka","key_short_CapsLock":"CapsLock","key_short_Control":"Ctrl","key_short_Delete":"Del","key_short_Down":"Dol","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"Levo","key_short_Meta":"Meta","key_short_NumLock":"NumLock","key_short_PageDown":"PgDwn","key_short_PageUp":"PgUp","key_short_Pause":"Pause","key_short_PrintScreen":"PrnScr","key_short_Right":"Desno","key_short_Scroll":"Scroll","key_short_Shift":"Shift","key_short_Space":"Presledek","key_short_Tab":"Tab","key_short_Up":"Gor","key_short_Win":"Win","one of one row":"ena od ene vrstice","one row":"ena vrstica"},"sv":{"%1 does not fit %2.":"%1 passar inte %2.","%1 is not a color! %2":"%1 är inte en färg! %2","%1 is not a number.":"%1 är inget nummer.","%1 is not a string.":"%1 är inte en sträng.","%1 is not an url.":"%1 är inte en webbplatsadress (URL)","%1 is not in %2":"%1 finns inte i %2","%1 is not in the range from [%2, %3].":"%1 är inte i intervallet mellan [%2, %3].","%1 of %2 rows":"%1 av %2 rader","%1 rows":"%1 rader","'%1' is not an email address.":"'%1' är inte en e-postadress.","Automatic":"Automatiskt","Cancel":"Avbryt","Color Selector":"Färgväljare","Details":"Detaljer","HSB":"HSB","Hex":"Hex","Last month":"Föregående månad","Last year":"Föregående år","Next month":"Nästa månad","Next year":"Nästa år","OK":"Ok","Open ColorSelector":"Öppna färgväljare","Presets":"Förinställningar","Preview (Old/New)":"Förhandsgranska (Gammal/Ny)","RGB":"RGB","Reset column widths":"Återställ kolumnbredder","This field is required":"Det här fältet måste fyllas i","Visual":"Visuell","key_full_Alt":"Alt","key_full_Apps":"Apps","key_full_Backspace":"Backspace","key_full_CapsLock":"CapsLock","key_full_Control":"Control","key_full_Delete":"Delete","key_full_Down":"Ner","key_full_End":"End","key_full_Enter":"Enter","key_full_Escape":"Escape","key_full_Home":"Home","key_full_Insert":"Insert","key_full_Left":"Vänster","key_full_Meta":"Meta","key_full_NumLock":"NumLock","key_full_PageDown":"PageDown","key_full_PageUp":"PageUp","key_full_Pause":"Pause","key_full_PrintScreen":"PrintScreen","key_full_Right":"Höger","key_full_Scroll":"Scroll","key_full_Shift":"Shift","key_full_Space":"Blanksteg","key_full_Tab":"Tab","key_full_Up":"Upp","key_full_Win":"Win","key_short_Alt":"Alt","key_short_Apps":"Apps","key_short_Backspace":"BS","key_short_CapsLock":"Caps","key_short_Control":"Ctrl","key_short_Delete":"Del","key_short_Down":"Ner","key_short_End":"End","key_short_Enter":"Enter","key_short_Escape":"Esc","key_short_Home":"Home","key_short_Insert":"Ins","key_short_Left":"Vänster","key_short_Meta":"Meta","key_short_NumLock":"Num","key_short_PageDown":"PgDn","key_short_PageUp":"PgUp","key_short_Pause":"Pause","key_short_PrintScreen":"PrnScn","key_short_Right":"Höger","key_short_Scroll":"Scroll","key_short_Shift":"Shift","key_short_Space":"Space","key_short_Tab":"Tab","key_short_Up":"Upp","key_short_Win":"Win","one of one row":"en av en rad","one row":"En rad"}}};

if(!window.qx){

  window.qx = {
  };
};
qx.Bootstrap = {
  genericToString : function(){

    return "[Class " + this.classname + "]";
  },
  createNamespace : function(name, object){

    var splits = name.split(".");
    var part = splits[0];
    var parent = qx.$$namespaceRoot && qx.$$namespaceRoot[part] ? qx.$$namespaceRoot : window;
    for(var i = 0,len = splits.length - 1;i < len;i++,part = splits[i]){

      if(!parent[part]){

        parent = parent[part] = {
        };
      } else {

        parent = parent[part];
      };
    };
    parent[part] = object;
    return part;
  },
  setDisplayName : function(fcn, classname, name){

    fcn.displayName = classname + "." + name + "()";
  },
  setDisplayNames : function(functionMap, classname){

    for(var name in functionMap){

      var value = functionMap[name];
      if(value instanceof Function){

        value.displayName = classname + "." + name + "()";
      };
    };
  },
  base : function(args, varargs){

    if(qx.Bootstrap.DEBUG){

      if(!qx.Bootstrap.isFunction(args.callee.base)){

        throw new Error("Cannot call super class. Method is not derived: " + args.callee.displayName);
      };
    };
    if(arguments.length === 1){

      return args.callee.base.call(this);
    } else {

      return args.callee.base.apply(this, Array.prototype.slice.call(arguments, 1));
    };
  },
  define : function(name, config){

    if(!config){

      config = {
        statics : {
        }
      };
    };
    var clazz;
    var proto = null;
    qx.Bootstrap.setDisplayNames(config.statics, name);
    if(config.members || config.extend){

      qx.Bootstrap.setDisplayNames(config.members, name + ".prototype");
      clazz = config.construct || new Function;
      if(config.extend){

        this.extendClass(clazz, clazz, config.extend, name, basename);
      };
      var statics = config.statics || {
      };
      for(var i = 0,keys = qx.Bootstrap.keys(statics),l = keys.length;i < l;i++){

        var key = keys[i];
        clazz[key] = statics[key];
      };
      proto = clazz.prototype;
      proto.base = qx.Bootstrap.base;
      proto.name = proto.classname = name;
      var members = config.members || {
      };
      var key,member;
      for(var i = 0,keys = qx.Bootstrap.keys(members),l = keys.length;i < l;i++){

        key = keys[i];
        member = members[key];
        if(member instanceof Function && proto[key]){

          member.base = proto[key];
        };
        proto[key] = member;
      };
    } else {

      clazz = config.statics || {
      };
      if(qx.Bootstrap.$$registry && qx.Bootstrap.$$registry[name]){

        var formerClass = qx.Bootstrap.$$registry[name];
        if(this.keys(clazz).length !== 0){

          if(config.defer){

            config.defer(clazz, proto);
          };
          for(var curProp in clazz){

            formerClass[curProp] = clazz[curProp];
          };
          return formerClass;
        };
      };
    };
    clazz.$$type = "Class";
    if(!clazz.hasOwnProperty("toString")){

      clazz.toString = this.genericToString;
    };
    var basename = name ? this.createNamespace(name, clazz) : "";
    clazz.name = clazz.classname = name;
    clazz.basename = basename;
    clazz.$$events = config.events;
    if(config.defer){

      config.defer(clazz, proto);
    };
    if(name != null){

      qx.Bootstrap.$$registry[name] = clazz;
    };
    return clazz;
  }
};
qx.Bootstrap.define("qx.Bootstrap", {
  statics : {
    LOADSTART : qx.$$start || new Date(),
    DEBUG : (function(){

      var debug = true;
      if(qx.$$environment && qx.$$environment["qx.debug"] === false){

        debug = false;
      };
      return debug;
    })(),
    getEnvironmentSetting : function(key){

      if(qx.$$environment){

        return qx.$$environment[key];
      };
    },
    setEnvironmentSetting : function(key, value){

      if(!qx.$$environment){

        qx.$$environment = {
        };
      };
      if(qx.$$environment[key] === undefined){

        qx.$$environment[key] = value;
      };
    },
    createNamespace : qx.Bootstrap.createNamespace,
    setRoot : function(root){

      qx.$$namespaceRoot = root;
    },
    base : qx.Bootstrap.base,
    define : qx.Bootstrap.define,
    setDisplayName : qx.Bootstrap.setDisplayName,
    setDisplayNames : qx.Bootstrap.setDisplayNames,
    genericToString : qx.Bootstrap.genericToString,
    extendClass : function(clazz, construct, superClass, name, basename){

      var superproto = superClass.prototype;
      var helper = new Function();
      helper.prototype = superproto;
      var proto = new helper();
      clazz.prototype = proto;
      proto.name = proto.classname = name;
      proto.basename = basename;
      construct.base = superClass;
      clazz.superclass = superClass;
      construct.self = clazz.constructor = proto.constructor = clazz;
    },
    getByName : function(name){

      return qx.Bootstrap.$$registry[name];
    },
    $$registry : {
    },
    objectGetLength : function(map){

      return qx.Bootstrap.keys(map).length;
    },
    objectMergeWith : function(target, source, overwrite){

      if(overwrite === undefined){

        overwrite = true;
      };
      for(var key in source){

        if(overwrite || target[key] === undefined){

          target[key] = source[key];
        };
      };
      return target;
    },
    __shadowedKeys : ["isPrototypeOf", "hasOwnProperty", "toLocaleString", "toString", "valueOf", "propertyIsEnumerable", "constructor"],
    keys : ({
      "ES5" : Object.keys,
      "BROKEN_IE" : function(map){

        if(map === null || (typeof map != "object" && typeof map != "function")){

          throw new TypeError("Object.keys requires an object as argument.");
        };
        var arr = [];
        var hasOwnProperty = Object.prototype.hasOwnProperty;
        for(var key in map){

          if(hasOwnProperty.call(map, key)){

            arr.push(key);
          };
        };
        var shadowedKeys = qx.Bootstrap.__shadowedKeys;
        for(var i = 0,a = shadowedKeys,l = a.length;i < l;i++){

          if(hasOwnProperty.call(map, a[i])){

            arr.push(a[i]);
          };
        };
        return arr;
      },
      "default" : function(map){

        if(map === null || (typeof map != "object" && typeof map != "function")){

          throw new TypeError("Object.keys requires an object as argument.");
        };
        var arr = [];
        var hasOwnProperty = Object.prototype.hasOwnProperty;
        for(var key in map){

          if(hasOwnProperty.call(map, key)){

            arr.push(key);
          };
        };
        return arr;
      }
    })[typeof (Object.keys) == "function" ? "ES5" : (function(){

      for(var key in {
        toString : 1
      }){

        return key;
      };
    })() !== "toString" ? "BROKEN_IE" : "default"],
    __classToTypeMap : {
      "[object String]" : "String",
      "[object Array]" : "Array",
      "[object Object]" : "Object",
      "[object RegExp]" : "RegExp",
      "[object Number]" : "Number",
      "[object Boolean]" : "Boolean",
      "[object Date]" : "Date",
      "[object Function]" : "Function",
      "[object Error]" : "Error"
    },
    bind : function(func, self, varargs){

      var fixedArgs = Array.prototype.slice.call(arguments, 2, arguments.length);
      return function(){

        var args = Array.prototype.slice.call(arguments, 0, arguments.length);
        return func.apply(self, fixedArgs.concat(args));
      };
    },
    firstUp : function(str){

      return str.charAt(0).toUpperCase() + str.substr(1);
    },
    firstLow : function(str){

      return str.charAt(0).toLowerCase() + str.substr(1);
    },
    getClass : function(value){

      var classString = Object.prototype.toString.call(value);
      return (qx.Bootstrap.__classToTypeMap[classString] || classString.slice(8, -1));
    },
    isString : function(value){

      return (value !== null && (typeof value === "string" || qx.Bootstrap.getClass(value) == "String" || value instanceof String || (!!value && !!value.$$isString)));
    },
    isArray : function(value){

      return (value !== null && (value instanceof Array || (value && qx.data && qx.data.IListData && qx.util.OOUtil.hasInterface(value.constructor, qx.data.IListData)) || qx.Bootstrap.getClass(value) == "Array" || (!!value && !!value.$$isArray)));
    },
    isObject : function(value){

      return (value !== undefined && value !== null && qx.Bootstrap.getClass(value) == "Object");
    },
    isFunction : function(value){

      return qx.Bootstrap.getClass(value) == "Function";
    },
    $$logs : [],
    debug : function(object, message){

      qx.Bootstrap.$$logs.push(["debug", arguments]);
    },
    info : function(object, message){

      qx.Bootstrap.$$logs.push(["info", arguments]);
    },
    warn : function(object, message){

      qx.Bootstrap.$$logs.push(["warn", arguments]);
    },
    error : function(object, message){

      qx.Bootstrap.$$logs.push(["error", arguments]);
    },
    trace : function(object){
    }
  }
});

qx.Bootstrap.define("qx.util.OOUtil", {
  statics : {
    classIsDefined : function(name){

      return qx.Bootstrap.getByName(name) !== undefined;
    },
    getPropertyDefinition : function(clazz, name){

      while(clazz){

        if(clazz.$$properties && clazz.$$properties[name]){

          return clazz.$$properties[name];
        };
        clazz = clazz.superclass;
      };
      return null;
    },
    hasProperty : function(clazz, name){

      return !!qx.util.OOUtil.getPropertyDefinition(clazz, name);
    },
    getEventType : function(clazz, name){

      var clazz = clazz.constructor;
      while(clazz.superclass){

        if(clazz.$$events && clazz.$$events[name] !== undefined){

          return clazz.$$events[name];
        };
        clazz = clazz.superclass;
      };
      return null;
    },
    supportsEvent : function(clazz, name){

      return !!qx.util.OOUtil.getEventType(clazz, name);
    },
    getByInterface : function(clazz, iface){

      var list,i,l;
      while(clazz){

        if(clazz.$$implements){

          list = clazz.$$flatImplements;
          for(i = 0,l = list.length;i < l;i++){

            if(list[i] === iface){

              return clazz;
            };
          };
        };
        clazz = clazz.superclass;
      };
      return null;
    },
    hasInterface : function(clazz, iface){

      return !!qx.util.OOUtil.getByInterface(clazz, iface);
    },
    getMixins : function(clazz){

      var list = [];
      while(clazz){

        if(clazz.$$includes){

          list.push.apply(list, clazz.$$flatIncludes);
        };
        clazz = clazz.superclass;
      };
      return list;
    }
  }
});

qx.Bootstrap.define("qx.core.Environment", {
  statics : {
    _checks : {
    },
    _asyncChecks : {
    },
    __cache : {
    },
    _checksMap : {
      "engine.version" : "qx.bom.client.Engine.getVersion",
      "engine.name" : "qx.bom.client.Engine.getName",
      "browser.name" : "qx.bom.client.Browser.getName",
      "browser.version" : "qx.bom.client.Browser.getVersion",
      "browser.documentmode" : "qx.bom.client.Browser.getDocumentMode",
      "browser.quirksmode" : "qx.bom.client.Browser.getQuirksMode",
      "runtime.name" : "qx.bom.client.Runtime.getName",
      "device.name" : "qx.bom.client.Device.getName",
      "device.type" : "qx.bom.client.Device.getType",
      "device.pixelRatio" : "qx.bom.client.Device.getPixelRatio",
      "device.touch" : "qx.bom.client.Device.getTouch",
      "locale" : "qx.bom.client.Locale.getLocale",
      "locale.variant" : "qx.bom.client.Locale.getVariant",
      "os.name" : "qx.bom.client.OperatingSystem.getName",
      "os.version" : "qx.bom.client.OperatingSystem.getVersion",
      "os.scrollBarOverlayed" : "qx.bom.client.Scroll.scrollBarOverlayed",
      "plugin.gears" : "qx.bom.client.Plugin.getGears",
      "plugin.activex" : "qx.bom.client.Plugin.getActiveX",
      "plugin.skype" : "qx.bom.client.Plugin.getSkype",
      "plugin.quicktime" : "qx.bom.client.Plugin.getQuicktime",
      "plugin.quicktime.version" : "qx.bom.client.Plugin.getQuicktimeVersion",
      "plugin.windowsmedia" : "qx.bom.client.Plugin.getWindowsMedia",
      "plugin.windowsmedia.version" : "qx.bom.client.Plugin.getWindowsMediaVersion",
      "plugin.divx" : "qx.bom.client.Plugin.getDivX",
      "plugin.divx.version" : "qx.bom.client.Plugin.getDivXVersion",
      "plugin.silverlight" : "qx.bom.client.Plugin.getSilverlight",
      "plugin.silverlight.version" : "qx.bom.client.Plugin.getSilverlightVersion",
      "plugin.flash" : "qx.bom.client.Flash.isAvailable",
      "plugin.flash.version" : "qx.bom.client.Flash.getVersion",
      "plugin.flash.express" : "qx.bom.client.Flash.getExpressInstall",
      "plugin.flash.strictsecurity" : "qx.bom.client.Flash.getStrictSecurityModel",
      "plugin.pdf" : "qx.bom.client.Plugin.getPdf",
      "plugin.pdf.version" : "qx.bom.client.Plugin.getPdfVersion",
      "plugin.pdfjs" : "qx.bom.client.Pdfjs.getPdfjs",
      "io.maxrequests" : "qx.bom.client.Transport.getMaxConcurrentRequestCount",
      "io.ssl" : "qx.bom.client.Transport.getSsl",
      "io.xhr" : "qx.bom.client.Transport.getXmlHttpRequest",
      "event.touch" : "qx.bom.client.Event.getTouch",
      "event.mspointer" : "qx.bom.client.Event.getMsPointer",
      "event.help" : "qx.bom.client.Event.getHelp",
      "event.hashchange" : "qx.bom.client.Event.getHashChange",
      "event.dispatchevent" : "qx.bom.client.Event.getDispatchEvent",
      "event.customevent" : "qx.bom.client.Event.getCustomEvent",
      "event.mouseevent" : "qx.bom.client.Event.getMouseEvent",
      "event.mousewheel" : "qx.bom.client.Event.getMouseWheel",
      "ecmascript.error.stacktrace" : "qx.bom.client.EcmaScript.getStackTrace",
      "ecmascript.array.indexof" : "qx.bom.client.EcmaScript.getArrayIndexOf",
      "ecmascript.array.lastindexof" : "qx.bom.client.EcmaScript.getArrayLastIndexOf",
      "ecmascript.array.foreach" : "qx.bom.client.EcmaScript.getArrayForEach",
      "ecmascript.array.filter" : "qx.bom.client.EcmaScript.getArrayFilter",
      "ecmascript.array.map" : "qx.bom.client.EcmaScript.getArrayMap",
      "ecmascript.array.some" : "qx.bom.client.EcmaScript.getArraySome",
      "ecmascript.array.every" : "qx.bom.client.EcmaScript.getArrayEvery",
      "ecmascript.array.reduce" : "qx.bom.client.EcmaScript.getArrayReduce",
      "ecmascript.array.reduceright" : "qx.bom.client.EcmaScript.getArrayReduceRight",
      "ecmascript.function.bind" : "qx.bom.client.EcmaScript.getFunctionBind",
      "ecmascript.object.keys" : "qx.bom.client.EcmaScript.getObjectKeys",
      "ecmascript.date.now" : "qx.bom.client.EcmaScript.getDateNow",
      "ecmascript.error.toString" : "qx.bom.client.EcmaScript.getErrorToString",
      "ecmascript.string.trim" : "qx.bom.client.EcmaScript.getStringTrim",
      "html.webworker" : "qx.bom.client.Html.getWebWorker",
      "html.filereader" : "qx.bom.client.Html.getFileReader",
      "html.geolocation" : "qx.bom.client.Html.getGeoLocation",
      "html.audio" : "qx.bom.client.Html.getAudio",
      "html.audio.ogg" : "qx.bom.client.Html.getAudioOgg",
      "html.audio.mp3" : "qx.bom.client.Html.getAudioMp3",
      "html.audio.wav" : "qx.bom.client.Html.getAudioWav",
      "html.audio.au" : "qx.bom.client.Html.getAudioAu",
      "html.audio.aif" : "qx.bom.client.Html.getAudioAif",
      "html.video" : "qx.bom.client.Html.getVideo",
      "html.video.ogg" : "qx.bom.client.Html.getVideoOgg",
      "html.video.h264" : "qx.bom.client.Html.getVideoH264",
      "html.video.webm" : "qx.bom.client.Html.getVideoWebm",
      "html.storage.local" : "qx.bom.client.Html.getLocalStorage",
      "html.storage.session" : "qx.bom.client.Html.getSessionStorage",
      "html.storage.userdata" : "qx.bom.client.Html.getUserDataStorage",
      "html.classlist" : "qx.bom.client.Html.getClassList",
      "html.xpath" : "qx.bom.client.Html.getXPath",
      "html.xul" : "qx.bom.client.Html.getXul",
      "html.canvas" : "qx.bom.client.Html.getCanvas",
      "html.svg" : "qx.bom.client.Html.getSvg",
      "html.vml" : "qx.bom.client.Html.getVml",
      "html.dataset" : "qx.bom.client.Html.getDataset",
      "html.dataurl" : "qx.bom.client.Html.getDataUrl",
      "html.console" : "qx.bom.client.Html.getConsole",
      "html.stylesheet.createstylesheet" : "qx.bom.client.Stylesheet.getCreateStyleSheet",
      "html.stylesheet.insertrule" : "qx.bom.client.Stylesheet.getInsertRule",
      "html.stylesheet.deleterule" : "qx.bom.client.Stylesheet.getDeleteRule",
      "html.stylesheet.addimport" : "qx.bom.client.Stylesheet.getAddImport",
      "html.stylesheet.removeimport" : "qx.bom.client.Stylesheet.getRemoveImport",
      "html.element.contains" : "qx.bom.client.Html.getContains",
      "html.element.compareDocumentPosition" : "qx.bom.client.Html.getCompareDocumentPosition",
      "html.element.textcontent" : "qx.bom.client.Html.getTextContent",
      "html.image.naturaldimensions" : "qx.bom.client.Html.getNaturalDimensions",
      "html.history.state" : "qx.bom.client.Html.getHistoryState",
      "html.selection" : "qx.bom.client.Html.getSelection",
      "html.node.isequalnode" : "qx.bom.client.Html.getIsEqualNode",
      "json" : "qx.bom.client.Json.getJson",
      "css.textoverflow" : "qx.bom.client.Css.getTextOverflow",
      "css.placeholder" : "qx.bom.client.Css.getPlaceholder",
      "css.borderradius" : "qx.bom.client.Css.getBorderRadius",
      "css.borderimage" : "qx.bom.client.Css.getBorderImage",
      "css.borderimage.standardsyntax" : "qx.bom.client.Css.getBorderImageSyntax",
      "css.boxshadow" : "qx.bom.client.Css.getBoxShadow",
      "css.gradient.linear" : "qx.bom.client.Css.getLinearGradient",
      "css.gradient.filter" : "qx.bom.client.Css.getFilterGradient",
      "css.gradient.radial" : "qx.bom.client.Css.getRadialGradient",
      "css.gradient.legacywebkit" : "qx.bom.client.Css.getLegacyWebkitGradient",
      "css.boxmodel" : "qx.bom.client.Css.getBoxModel",
      "css.rgba" : "qx.bom.client.Css.getRgba",
      "css.userselect" : "qx.bom.client.Css.getUserSelect",
      "css.userselect.none" : "qx.bom.client.Css.getUserSelectNone",
      "css.usermodify" : "qx.bom.client.Css.getUserModify",
      "css.appearance" : "qx.bom.client.Css.getAppearance",
      "css.float" : "qx.bom.client.Css.getFloat",
      "css.boxsizing" : "qx.bom.client.Css.getBoxSizing",
      "css.animation" : "qx.bom.client.CssAnimation.getSupport",
      "css.animation.requestframe" : "qx.bom.client.CssAnimation.getRequestAnimationFrame",
      "css.transform" : "qx.bom.client.CssTransform.getSupport",
      "css.transform.3d" : "qx.bom.client.CssTransform.get3D",
      "css.transition" : "qx.bom.client.CssTransition.getSupport",
      "css.inlineblock" : "qx.bom.client.Css.getInlineBlock",
      "css.opacity" : "qx.bom.client.Css.getOpacity",
      "css.textShadow" : "qx.bom.client.Css.getTextShadow",
      "css.textShadow.filter" : "qx.bom.client.Css.getFilterTextShadow",
      "css.alphaimageloaderneeded" : "qx.bom.client.Css.getAlphaImageLoaderNeeded",
      "css.pointerevents" : "qx.bom.client.Css.getPointerEvents",
      "phonegap" : "qx.bom.client.PhoneGap.getPhoneGap",
      "phonegap.notification" : "qx.bom.client.PhoneGap.getNotification",
      "xml.implementation" : "qx.bom.client.Xml.getImplementation",
      "xml.domparser" : "qx.bom.client.Xml.getDomParser",
      "xml.selectsinglenode" : "qx.bom.client.Xml.getSelectSingleNode",
      "xml.selectnodes" : "qx.bom.client.Xml.getSelectNodes",
      "xml.getelementsbytagnamens" : "qx.bom.client.Xml.getElementsByTagNameNS",
      "xml.domproperties" : "qx.bom.client.Xml.getDomProperties",
      "xml.attributens" : "qx.bom.client.Xml.getAttributeNS",
      "xml.createnode" : "qx.bom.client.Xml.getCreateNode",
      "xml.getqualifieditem" : "qx.bom.client.Xml.getQualifiedItem",
      "xml.createelementns" : "qx.bom.client.Xml.getCreateElementNS",
      "qx.mobile.nativescroll" : "qx.bom.client.Scroll.getNativeScroll"
    },
    get : function(key){

      if(qx.Bootstrap.DEBUG){

        if(key === "json"){

          qx.Bootstrap.warn("The environment key 'json' is deprecated " + "and will eventually be removed.");
        };
        if(key === "qx.emulatemouse"){

          qx.Bootstrap.warn("The environment key 'qx.emulatemouse' has been removed. " + "See the release notes for more details.");
        };
        if(key === "qx.mobile.emulatetouch"){

          qx.Bootstrap.warn("The environment key 'qx.mobile.emulatetouch' has been removed. " + "See the release notes for more details.");
        };
      };
      if(this.__cache[key] != undefined){

        return this.__cache[key];
      };
      var check = this._checks[key];
      if(check){

        var value = check();
        this.__cache[key] = value;
        return value;
      };
      var classAndMethod = this._getClassNameFromEnvKey(key);
      if(classAndMethod[0] != undefined){

        var clazz = classAndMethod[0];
        var method = classAndMethod[1];
        var value = clazz[method]();
        this.__cache[key] = value;
        return value;
      };
      if(qx.Bootstrap.DEBUG){

        qx.Bootstrap.warn(key + " is not a valid key. Please see the API-doc of " + "qx.core.Environment for a list of predefined keys.");
        qx.Bootstrap.trace(this);
      };
    },
    _getClassNameFromEnvKey : function(key){

      var envmappings = this._checksMap;
      if(envmappings[key] != undefined){

        var implementation = envmappings[key];
        var lastdot = implementation.lastIndexOf(".");
        if(lastdot > -1){

          var classname = implementation.slice(0, lastdot);
          var methodname = implementation.slice(lastdot + 1);
          var clazz = qx.Bootstrap.getByName(classname);
          if(clazz != undefined){

            return [clazz, methodname];
          };
        };
      };
      return [undefined, undefined];
    },
    getAsync : function(key, callback, self){

      var env = this;
      if(this.__cache[key] != undefined){

        window.setTimeout(function(){

          callback.call(self, env.__cache[key]);
        }, 0);
        return;
      };
      var check = this._asyncChecks[key];
      if(check){

        check(function(result){

          env.__cache[key] = result;
          callback.call(self, result);
        });
        return;
      };
      var classAndMethod = this._getClassNameFromEnvKey(key);
      if(classAndMethod[0] != undefined){

        var clazz = classAndMethod[0];
        var method = classAndMethod[1];
        clazz[method](function(result){

          env.__cache[key] = result;
          callback.call(self, result);
        });
        return;
      };
      if(qx.Bootstrap.DEBUG){

        qx.Bootstrap.warn(key + " is not a valid key. Please see the API-doc of " + "qx.core.Environment for a list of predefined keys.");
        qx.Bootstrap.trace(this);
      };
    },
    select : function(key, values){

      return this.__pickFromValues(this.get(key), values);
    },
    selectAsync : function(key, values, self){

      this.getAsync(key, function(result){

        var value = this.__pickFromValues(key, values);
        value.call(self, result);
      }, this);
    },
    __pickFromValues : function(key, values){

      var value = values[key];
      if(values.hasOwnProperty(key)){

        return value;
      };
      for(var id in values){

        if(id.indexOf("|") != -1){

          var ids = id.split("|");
          for(var i = 0;i < ids.length;i++){

            if(ids[i] == key){

              return values[id];
            };
          };
        };
      };
      if(values["default"] !== undefined){

        return values["default"];
      };
      if(qx.Bootstrap.DEBUG){

        throw new Error('No match for variant "' + key + '" (' + (typeof key) + ' type)' + ' in variants [' + qx.Bootstrap.keys(values) + '] found, and no default ("default") given');
      };
    },
    filter : function(map){

      var returnArray = [];
      for(var check in map){

        if(this.get(check)){

          returnArray.push(map[check]);
        };
      };
      return returnArray;
    },
    invalidateCacheKey : function(key){

      delete this.__cache[key];
    },
    add : function(key, check){

      if(this._checks[key] == undefined){

        if(check instanceof Function){

          this._checks[key] = check;
        } else {

          this._checks[key] = this.__createCheck(check);
        };
      };
    },
    addAsync : function(key, check){

      if(this._checks[key] == undefined){

        this._asyncChecks[key] = check;
      };
    },
    getChecks : function(){

      return this._checks;
    },
    getAsyncChecks : function(){

      return this._asyncChecks;
    },
    _initDefaultQxValues : function(){

      this.add("true", function(){

        return true;
      });
      this.add("qx.allowUrlSettings", function(){

        return false;
      });
      this.add("qx.allowUrlVariants", function(){

        return false;
      });
      this.add("qx.debug.property.level", function(){

        return 0;
      });
      this.add("qx.debug", function(){

        return true;
      });
      this.add("qx.debug.ui.queue", function(){

        return true;
      });
      this.add("qx.aspects", function(){

        return false;
      });
      this.add("qx.dynlocale", function(){

        return true;
      });
      this.add("qx.dyntheme", function(){

        return true;
      });
      this.add("qx.mobile.emulatetouch", function(){

        return false;
      });
      this.add("qx.emulatemouse", function(){

        return false;
      });
      this.add("qx.blankpage", function(){

        return "qx/static/blank.html";
      });
      this.add("qx.debug.databinding", function(){

        return false;
      });
      this.add("qx.debug.dispose", function(){

        return false;
      });
      this.add("qx.optimization.basecalls", function(){

        return false;
      });
      this.add("qx.optimization.comments", function(){

        return false;
      });
      this.add("qx.optimization.privates", function(){

        return false;
      });
      this.add("qx.optimization.strings", function(){

        return false;
      });
      this.add("qx.optimization.variables", function(){

        return false;
      });
      this.add("qx.optimization.variants", function(){

        return false;
      });
      this.add("module.databinding", function(){

        return true;
      });
      this.add("module.logger", function(){

        return true;
      });
      this.add("module.property", function(){

        return true;
      });
      this.add("module.events", function(){

        return true;
      });
      this.add("qx.nativeScrollBars", function(){

        return false;
      });
    },
    __importFromGenerator : function(){

      if(qx && qx.$$environment){

        for(var key in qx.$$environment){

          var value = qx.$$environment[key];
          this._checks[key] = this.__createCheck(value);
        };
      };
    },
    __importFromUrl : function(){

      if(window.document && window.document.location){

        var urlChecks = window.document.location.search.slice(1).split("&");
        for(var i = 0;i < urlChecks.length;i++){

          var check = urlChecks[i].split(":");
          if(check.length != 3 || check[0] != "qxenv"){

            continue;
          };
          var key = check[1];
          var value = decodeURIComponent(check[2]);
          if(value == "true"){

            value = true;
          } else if(value == "false"){

            value = false;
          } else if(/^(\d|\.)+$/.test(value)){

            value = parseFloat(value);
          };;
          this._checks[key] = this.__createCheck(value);
        };
      };
    },
    __createCheck : function(value){

      return qx.Bootstrap.bind(function(value){

        return value;
      }, null, value);
    }
  },
  defer : function(statics){

    statics._initDefaultQxValues();
    statics.__importFromGenerator();
    if(statics.get("qx.allowUrlSettings") === true){

      statics.__importFromUrl();
    };
  }
});

qx.Bootstrap.define("qx.bom.client.Engine", {
  statics : {
    getVersion : function(){

      var agent = window.navigator.userAgent;
      var version = "";
      if(qx.bom.client.Engine.__isOpera()){

        if(/Opera[\s\/]([0-9]+)\.([0-9])([0-9]*)/.test(agent)){

          if(agent.indexOf("Version/") != -1){

            var match = agent.match(/Version\/(\d+)\.(\d+)/);
            version = match[1] + "." + match[2].charAt(0) + "." + match[2].substring(1, match[2].length);
          } else {

            version = RegExp.$1 + "." + RegExp.$2;
            if(RegExp.$3 != ""){

              version += "." + RegExp.$3;
            };
          };
        };
      } else if(qx.bom.client.Engine.__isWebkit()){

        if(/AppleWebKit\/([^ ]+)/.test(agent)){

          version = RegExp.$1;
          var invalidCharacter = RegExp("[^\\.0-9]").exec(version);
          if(invalidCharacter){

            version = version.slice(0, invalidCharacter.index);
          };
        };
      } else if(qx.bom.client.Engine.__isGecko() || qx.bom.client.Engine.__isMaple()){

        if(/rv\:([^\);]+)(\)|;)/.test(agent)){

          version = RegExp.$1;
        };
      } else if(qx.bom.client.Engine.__isMshtml()){

        var isTrident = /Trident\/([^\);]+)(\)|;)/.test(agent);
        if(/MSIE\s+([^\);]+)(\)|;)/.test(agent)){

          version = RegExp.$1;
          if(version < 8 && isTrident){

            if(RegExp.$1 == "4.0"){

              version = "8.0";
            } else if(RegExp.$1 == "5.0"){

              version = "9.0";
            };
          };
        } else if(isTrident){

          var match = /\brv\:(\d+?\.\d+?)\b/.exec(agent);
          if(match){

            version = match[1];
          };
        };
      } else {

        var failFunction = window.qxFail;
        if(failFunction && typeof failFunction === "function"){

          version = failFunction().FULLVERSION;
        } else {

          version = "1.9.0.0";
          qx.Bootstrap.warn("Unsupported client: " + agent + "! Assumed gecko version 1.9.0.0 (Firefox 3.0).");
        };
      };;;
      return version;
    },
    getName : function(){

      var name;
      if(qx.bom.client.Engine.__isOpera()){

        name = "opera";
      } else if(qx.bom.client.Engine.__isWebkit()){

        name = "webkit";
      } else if(qx.bom.client.Engine.__isGecko() || qx.bom.client.Engine.__isMaple()){

        name = "gecko";
      } else if(qx.bom.client.Engine.__isMshtml()){

        name = "mshtml";
      } else {

        var failFunction = window.qxFail;
        if(failFunction && typeof failFunction === "function"){

          name = failFunction().NAME;
        } else {

          name = "gecko";
          qx.Bootstrap.warn("Unsupported client: " + window.navigator.userAgent + "! Assumed gecko version 1.9.0.0 (Firefox 3.0).");
        };
      };;;
      return name;
    },
    __isOpera : function(){

      return window.opera && Object.prototype.toString.call(window.opera) == "[object Opera]";
    },
    __isWebkit : function(){

      return window.navigator.userAgent.indexOf("AppleWebKit/") != -1;
    },
    __isMaple : function(){

      return window.navigator.userAgent.indexOf("Maple") != -1;
    },
    __isGecko : function(){

      return (window.controllers || window.navigator.mozApps) && window.navigator.product === "Gecko" && window.navigator.userAgent.indexOf("Maple") == -1 && window.navigator.userAgent.indexOf("Trident") == -1;
    },
    __isMshtml : function(){

      return window.navigator.cpuClass && (/MSIE\s+([^\);]+)(\)|;)/.test(window.navigator.userAgent) || /Trident\/\d+?\.\d+?/.test(window.navigator.userAgent));
    }
  },
  defer : function(statics){

    qx.core.Environment.add("engine.version", statics.getVersion);
    qx.core.Environment.add("engine.name", statics.getName);
  }
});

qx.Bootstrap.define("qx.bom.client.EcmaScript", {
  statics : {
    getStackTrace : function(){

      var propName;
      var e = new Error("e");
      propName = e.stack ? "stack" : e.stacktrace ? "stacktrace" : null;
      if(!propName){

        try{

          throw e;
        } catch(ex) {

          e = ex;
        };
      };
      return e.stacktrace ? "stacktrace" : e.stack ? "stack" : null;
    },
    getArrayIndexOf : function(){

      return !!Array.prototype.indexOf;
    },
    getArrayLastIndexOf : function(){

      return !!Array.prototype.lastIndexOf;
    },
    getArrayForEach : function(){

      return !!Array.prototype.forEach;
    },
    getArrayFilter : function(){

      return !!Array.prototype.filter;
    },
    getArrayMap : function(){

      return !!Array.prototype.map;
    },
    getArraySome : function(){

      return !!Array.prototype.some;
    },
    getArrayEvery : function(){

      return !!Array.prototype.every;
    },
    getArrayReduce : function(){

      return !!Array.prototype.reduce;
    },
    getArrayReduceRight : function(){

      return !!Array.prototype.reduceRight;
    },
    getErrorToString : function(){

      return typeof Error.prototype.toString == "function" && Error.prototype.toString() !== "[object Error]";
    },
    getFunctionBind : function(){

      return typeof Function.prototype.bind === "function";
    },
    getObjectKeys : function(){

      return !!Object.keys;
    },
    getDateNow : function(){

      return !!Date.now;
    },
    getStringTrim : function(){

      return typeof String.prototype.trim === "function";
    }
  },
  defer : function(statics){

    qx.core.Environment.add("ecmascript.array.indexof", statics.getArrayIndexOf);
    qx.core.Environment.add("ecmascript.array.lastindexof", statics.getArrayLastIndexOf);
    qx.core.Environment.add("ecmascript.array.foreach", statics.getArrayForEach);
    qx.core.Environment.add("ecmascript.array.filter", statics.getArrayFilter);
    qx.core.Environment.add("ecmascript.array.map", statics.getArrayMap);
    qx.core.Environment.add("ecmascript.array.some", statics.getArraySome);
    qx.core.Environment.add("ecmascript.array.every", statics.getArrayEvery);
    qx.core.Environment.add("ecmascript.array.reduce", statics.getArrayReduce);
    qx.core.Environment.add("ecmascript.array.reduceright", statics.getArrayReduceRight);
    qx.core.Environment.add("ecmascript.date.now", statics.getDateNow);
    qx.core.Environment.add("ecmascript.error.toString", statics.getErrorToString);
    qx.core.Environment.add("ecmascript.error.stacktrace", statics.getStackTrace);
    qx.core.Environment.add("ecmascript.function.bind", statics.getFunctionBind);
    qx.core.Environment.add("ecmascript.object.keys", statics.getObjectKeys);
    qx.core.Environment.add("ecmascript.string.trim", statics.getStringTrim);
  }
});

qx.Bootstrap.define("qx.lang.normalize.Array", {
  statics : {
    indexOf : function(searchElement, fromIndex){

      if(fromIndex == null){

        fromIndex = 0;
      } else if(fromIndex < 0){

        fromIndex = Math.max(0, this.length + fromIndex);
      };
      for(var i = fromIndex;i < this.length;i++){

        if(this[i] === searchElement){

          return i;
        };
      };
      return -1;
    },
    lastIndexOf : function(searchElement, fromIndex){

      if(fromIndex == null){

        fromIndex = this.length - 1;
      } else if(fromIndex < 0){

        fromIndex = Math.max(0, this.length + fromIndex);
      };
      for(var i = fromIndex;i >= 0;i--){

        if(this[i] === searchElement){

          return i;
        };
      };
      return -1;
    },
    forEach : function(callback, obj){

      var l = this.length;
      for(var i = 0;i < l;i++){

        var value = this[i];
        if(value !== undefined){

          callback.call(obj || window, value, i, this);
        };
      };
    },
    filter : function(callback, obj){

      var res = [];
      var l = this.length;
      for(var i = 0;i < l;i++){

        var value = this[i];
        if(value !== undefined){

          if(callback.call(obj || window, value, i, this)){

            res.push(this[i]);
          };
        };
      };
      return res;
    },
    map : function(callback, obj){

      var res = [];
      var l = this.length;
      for(var i = 0;i < l;i++){

        var value = this[i];
        if(value !== undefined){

          res[i] = callback.call(obj || window, value, i, this);
        };
      };
      return res;
    },
    some : function(callback, obj){

      var l = this.length;
      for(var i = 0;i < l;i++){

        var value = this[i];
        if(value !== undefined){

          if(callback.call(obj || window, value, i, this)){

            return true;
          };
        };
      };
      return false;
    },
    every : function(callback, obj){

      var l = this.length;
      for(var i = 0;i < l;i++){

        var value = this[i];
        if(value !== undefined){

          if(!callback.call(obj || window, value, i, this)){

            return false;
          };
        };
      };
      return true;
    },
    reduce : function(callback, init){

      if(typeof callback !== "function"){

        throw new TypeError("First argument is not callable");
      };
      if(init === undefined && this.length === 0){

        throw new TypeError("Length is 0 and no second argument given");
      };
      var ret = init === undefined ? this[0] : init;
      for(var i = init === undefined ? 1 : 0;i < this.length;i++){

        if(i in this){

          ret = callback.call(undefined, ret, this[i], i, this);
        };
      };
      return ret;
    },
    reduceRight : function(callback, init){

      if(typeof callback !== "function"){

        throw new TypeError("First argument is not callable");
      };
      if(init === undefined && this.length === 0){

        throw new TypeError("Length is 0 and no second argument given");
      };
      var ret = init === undefined ? this[this.length - 1] : init;
      for(var i = init === undefined ? this.length - 2 : this.length - 1;i >= 0;i--){

        if(i in this){

          ret = callback.call(undefined, ret, this[i], i, this);
        };
      };
      return ret;
    }
  },
  defer : function(statics){

    if(!qx.core.Environment.get("ecmascript.array.indexof")){

      Array.prototype.indexOf = statics.indexOf;
    };
    if(!qx.core.Environment.get("ecmascript.array.lastindexof")){

      Array.prototype.lastIndexOf = statics.lastIndexOf;
    };
    if(!qx.core.Environment.get("ecmascript.array.foreach")){

      Array.prototype.forEach = statics.forEach;
    };
    if(!qx.core.Environment.get("ecmascript.array.filter")){

      Array.prototype.filter = statics.filter;
    };
    if(!qx.core.Environment.get("ecmascript.array.map")){

      Array.prototype.map = statics.map;
    };
    if(!qx.core.Environment.get("ecmascript.array.some")){

      Array.prototype.some = statics.some;
    };
    if(!qx.core.Environment.get("ecmascript.array.every")){

      Array.prototype.every = statics.every;
    };
    if(!qx.core.Environment.get("ecmascript.array.reduce")){

      Array.prototype.reduce = statics.reduce;
    };
    if(!qx.core.Environment.get("ecmascript.array.reduceright")){

      Array.prototype.reduceRight = statics.reduceRight;
    };
  }
});

qx.Bootstrap.define("qx.type.BaseArray", {
  extend : Array,
  construct : function(length_or_items){
  },
  members : {
    toArray : null,
    valueOf : null,
    pop : null,
    push : null,
    reverse : null,
    shift : null,
    sort : null,
    splice : null,
    unshift : null,
    concat : null,
    join : null,
    slice : null,
    toString : null,
    indexOf : null,
    lastIndexOf : null,
    forEach : null,
    filter : null,
    map : null,
    some : null,
    every : null
  }
});
(function(){

  function createStackConstructor(stack){

    if((qx.core.Environment.get("engine.name") == "mshtml")){

      Stack.prototype = {
        length : 0,
        $$isArray : true
      };
      var args = "pop.push.reverse.shift.sort.splice.unshift.join.slice".split(".");
      for(var length = args.length;length;){

        Stack.prototype[args[--length]] = Array.prototype[args[length]];
      };
    };
    var slice = Array.prototype.slice;
    Stack.prototype.concat = function(){

      var constructor = this.slice(0);
      for(var i = 0,length = arguments.length;i < length;i++){

        var copy;
        if(arguments[i] instanceof Stack){

          copy = slice.call(arguments[i], 0);
        } else if(arguments[i] instanceof Array){

          copy = arguments[i];
        } else {

          copy = [arguments[i]];
        };
        constructor.push.apply(constructor, copy);
      };
      return constructor;
    };
    Stack.prototype.toString = function(){

      return slice.call(this, 0).toString();
    };
    Stack.prototype.toLocaleString = function(){

      return slice.call(this, 0).toLocaleString();
    };
    Stack.prototype.constructor = Stack;
    Stack.prototype.indexOf = Array.prototype.indexOf;
    Stack.prototype.lastIndexOf = Array.prototype.lastIndexOf;
    Stack.prototype.forEach = Array.prototype.forEach;
    Stack.prototype.some = Array.prototype.some;
    Stack.prototype.every = Array.prototype.every;
    var filter = Array.prototype.filter;
    var map = Array.prototype.map;
    Stack.prototype.filter = function(){

      var ret = new this.constructor;
      ret.push.apply(ret, filter.apply(this, arguments));
      return ret;
    };
    Stack.prototype.map = function(){

      var ret = new this.constructor;
      ret.push.apply(ret, map.apply(this, arguments));
      return ret;
    };
    Stack.prototype.slice = function(){

      var ret = new this.constructor;
      ret.push.apply(ret, Array.prototype.slice.apply(this, arguments));
      return ret;
    };
    Stack.prototype.splice = function(){

      var ret = new this.constructor;
      ret.push.apply(ret, Array.prototype.splice.apply(this, arguments));
      return ret;
    };
    Stack.prototype.toArray = function(){

      return Array.prototype.slice.call(this, 0);
    };
    Stack.prototype.valueOf = function(){

      return this.length;
    };
    return Stack;
  };
  function Stack(length){

    if(arguments.length === 1 && typeof length === "number"){

      this.length = -1 < length && length === length >> .5 ? length : this.push(length);
    } else if(arguments.length){

      this.push.apply(this, arguments);
    };
  };
  function PseudoArray(){
  };
  PseudoArray.prototype = [];
  Stack.prototype = new PseudoArray;
  Stack.prototype.length = 0;
  qx.type.BaseArray = createStackConstructor(Stack);
})();

qx.Bootstrap.define("qxWeb", {
  extend : qx.type.BaseArray,
  statics : {
    __init : [],
    $$qx : qx,
    $init : function(arg, clazz){

      var clean = [];
      for(var i = 0;i < arg.length;i++){

        var isNode = !!(arg[i] && (arg[i].nodeType === 1 || arg[i].nodeType === 9 || arg[i].nodeType === 11));
        if(isNode){

          clean.push(arg[i]);
          continue;
        };
        var isWindow = !!(arg[i] && arg[i].history && arg[i].location && arg[i].document);
        if(isWindow){

          clean.push(arg[i]);
        };
      };
      if(arg[0] && arg[0].getAttribute && arg[0].getAttribute("data-qx-class")){

        clazz = qx.Bootstrap.getByName(arg[0].getAttribute("data-qx-class")) || clazz;
      };
      var col = qx.lang.Array.cast(clean, clazz);
      for(var i = 0;i < qxWeb.__init.length;i++){

        qxWeb.__init[i].call(col);
      };
      return col;
    },
    $attach : function(module){

      for(var name in module){

        if(qx.core.Environment.get("qx.debug")){

          if(qxWeb.prototype[name] != undefined && Array.prototype[name] == undefined){

            throw new Error("Method '" + name + "' already available.");
          };
        };
        qxWeb.prototype[name] = module[name];
      };
    },
    $attachStatic : function(module){

      for(var name in module){

        if(qx.core.Environment.get("qx.debug")){

          if(qxWeb[name] != undefined){

            throw new Error("Method '" + name + "' already available as static method.");
          };
        };
        qxWeb[name] = module[name];
      };
    },
    $attachInit : function(init){

      this.__init.push(init);
    },
    define : function(name, config){

      if(config == undefined){

        config = name;
        name = null;
      };
      return qx.Bootstrap.define.call(qx.Bootstrap, name, config);
    }
  },
  construct : function(selector, context){

    if(!selector && this instanceof qxWeb){

      return this;
    };
    if(!selector){

      selector = [];
    } else if(qx.Bootstrap.isString(selector)){

      if(context instanceof qxWeb){

        context = context[0];
      };
      selector = qx.bom.Selector.query(selector, context);
    } else if((selector.nodeType === 1 || selector.nodeType === 9 || selector.nodeType === 11) || (selector.history && selector.location && selector.document)){

      selector = [selector];
    };;
    return qxWeb.$init(selector, qxWeb);
  },
  members : {
    filter : function(selector){

      if(qx.lang.Type.isFunction(selector)){

        return qxWeb.$init(Array.prototype.filter.call(this, selector), this.constructor);
      };
      return qxWeb.$init(qx.bom.Selector.matches(selector, this), this.constructor);
    },
    unique : function(){

      var unique = qx.lang.Array.unique(this);
      return qxWeb.$init(unique, this.constructor);
    },
    slice : function(begin, end){

      if(end !== undefined){

        return qxWeb.$init(Array.prototype.slice.call(this, begin, end), this.constructor);
      };
      return qxWeb.$init(Array.prototype.slice.call(this, begin), this.constructor);
    },
    splice : function(index, howMany, varargs){

      return qxWeb.$init(Array.prototype.splice.apply(this, arguments), this.constructor);
    },
    map : function(callback, thisarg){

      return qxWeb.$init(Array.prototype.map.apply(this, arguments), qxWeb);
    },
    concat : function(varargs){

      var clone = Array.prototype.slice.call(this, 0);
      for(var i = 0;i < arguments.length;i++){

        if(arguments[i] instanceof qxWeb){

          clone = clone.concat(Array.prototype.slice.call(arguments[i], 0));
        } else {

          clone.push(arguments[i]);
        };
      };
      return qxWeb.$init(clone, this.constructor);
    },
    indexOf : function(elem){

      if(!elem){

        return -1;
      };
      if(qx.Bootstrap.isArray(elem)){

        elem = elem[0];
      };
      for(var i = 0,l = this.length;i < l;i++){

        if(this[i] === elem){

          return i;
        };
      };
      return -1;
    },
    debug : function(){

      debugger;
      return this;
    },
    _forEachElement : function(func, ctx){

      for(var i = 0,l = this.length;i < l;i++){

        if(this[i] && (this[i].nodeType === 1 || this[i].nodeType === 11)){

          func.apply(ctx || this, [this[i], i, this]);
        };
      };
      return this;
    },
    _forEachElementWrapped : function(func, ctx){

      this._forEachElement(function(item, idx, arr){

        func.apply(this, [qxWeb(item), idx, arr]);
      }, ctx);
      return this;
    }
  },
  defer : function(statics){

    if(window.q == undefined){

      q = statics;
    };
  }
});

qx.Bootstrap.define("qx.lang.normalize.Date", {
  statics : {
    now : function(){

      return +new Date();
    }
  },
  defer : function(statics){

    if(!qx.core.Environment.get("ecmascript.date.now")){

      Date.now = statics.now;
    };
  }
});

qx.Bootstrap.define("qx.lang.Array", {
  statics : {
    cast : function(object, constructor, offset){

      if(object.constructor === constructor){

        return object;
      };
      if(qx.data && qx.data.IListData){

        if(qx.Class && qx.Class.hasInterface(object, qx.data.IListData)){

          var object = object.toArray();
        };
      };
      var ret = new constructor;
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        if(object.item){

          for(var i = offset || 0,l = object.length;i < l;i++){

            ret.push(object[i]);
          };
          return ret;
        };
      };
      if(Object.prototype.toString.call(object) === "[object Array]" && offset == null){

        ret.push.apply(ret, object);
      } else {

        ret.push.apply(ret, Array.prototype.slice.call(object, offset || 0));
      };
      return ret;
    },
    fromArguments : function(args, offset){

      return Array.prototype.slice.call(args, offset || 0);
    },
    fromCollection : function(coll){

      if((qx.core.Environment.get("engine.name") == "mshtml")){

        if(coll.item){

          var arr = [];
          for(var i = 0,l = coll.length;i < l;i++){

            arr[i] = coll[i];
          };
          return arr;
        };
      };
      return Array.prototype.slice.call(coll, 0);
    },
    fromShortHand : function(input){

      var len = input.length;
      var result = qx.lang.Array.clone(input);
      switch(len){case 1:
      result[1] = result[2] = result[3] = result[0];
      break;case 2:
      result[2] = result[0];case 3:
      result[3] = result[1];};
      return result;
    },
    clone : function(arr){

      return arr.concat();
    },
    insertAt : function(arr, obj, i){

      arr.splice(i, 0, obj);
      return arr;
    },
    insertBefore : function(arr, obj, obj2){

      var i = arr.indexOf(obj2);
      if(i == -1){

        arr.push(obj);
      } else {

        arr.splice(i, 0, obj);
      };
      return arr;
    },
    insertAfter : function(arr, obj, obj2){

      var i = arr.indexOf(obj2);
      if(i == -1 || i == (arr.length - 1)){

        arr.push(obj);
      } else {

        arr.splice(i + 1, 0, obj);
      };
      return arr;
    },
    removeAt : function(arr, i){

      return arr.splice(i, 1)[0];
    },
    removeAll : function(arr){

      arr.length = 0;
      return this;
    },
    append : function(arr1, arr2){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertArray(arr1, "The first parameter must be an array.");
        qx.core.Assert && qx.core.Assert.assertArray(arr2, "The second parameter must be an array.");
      };
      Array.prototype.push.apply(arr1, arr2);
      return arr1;
    },
    exclude : function(arr1, arr2){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertArray(arr1, "The first parameter must be an array.");
        qx.core.Assert && qx.core.Assert.assertArray(arr2, "The second parameter must be an array.");
      };
      for(var i = 0,il = arr2.length,index;i < il;i++){

        index = arr1.indexOf(arr2[i]);
        if(index != -1){

          arr1.splice(index, 1);
        };
      };
      return arr1;
    },
    remove : function(arr, obj){

      var i = arr.indexOf(obj);
      if(i != -1){

        arr.splice(i, 1);
        return obj;
      };
    },
    contains : function(arr, obj){

      return arr.indexOf(obj) !== -1;
    },
    equals : function(arr1, arr2){

      var length = arr1.length;
      if(length !== arr2.length){

        return false;
      };
      for(var i = 0;i < length;i++){

        if(arr1[i] !== arr2[i]){

          return false;
        };
      };
      return true;
    },
    sum : function(arr){

      var result = 0;
      for(var i = 0,l = arr.length;i < l;i++){

        if(arr[i] != undefined){

          result += arr[i];
        };
      };
      return result;
    },
    max : function(arr){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertArray(arr, "Parameter must be an array.");
      };
      var i,len = arr.length,result = arr[0];
      for(i = 1;i < len;i++){

        if(arr[i] > result){

          result = arr[i];
        };
      };
      return result === undefined ? null : result;
    },
    min : function(arr){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertArray(arr, "Parameter must be an array.");
      };
      var i,len = arr.length,result = arr[0];
      for(i = 1;i < len;i++){

        if(arr[i] < result){

          result = arr[i];
        };
      };
      return result === undefined ? null : result;
    },
    unique : function(arr){

      var ret = [],doneStrings = {
      },doneNumbers = {
      },doneObjects = {
      };
      var value,count = 0;
      var key = "qx" + Date.now();
      var hasNull = false,hasFalse = false,hasTrue = false;
      for(var i = 0,len = arr.length;i < len;i++){

        value = arr[i];
        if(value === null){

          if(!hasNull){

            hasNull = true;
            ret.push(value);
          };
        } else if(value === undefined){
        } else if(value === false){

          if(!hasFalse){

            hasFalse = true;
            ret.push(value);
          };
        } else if(value === true){

          if(!hasTrue){

            hasTrue = true;
            ret.push(value);
          };
        } else if(typeof value === "string"){

          if(!doneStrings[value]){

            doneStrings[value] = 1;
            ret.push(value);
          };
        } else if(typeof value === "number"){

          if(!doneNumbers[value]){

            doneNumbers[value] = 1;
            ret.push(value);
          };
        } else {

          var hash = value[key];
          if(hash == null){

            hash = value[key] = count++;
          };
          if(!doneObjects[hash]){

            doneObjects[hash] = value;
            ret.push(value);
          };
        };;;;;
      };
      for(var hash in doneObjects){

        try{

          delete doneObjects[hash][key];
        } catch(ex) {

          try{

            doneObjects[hash][key] = null;
          } catch(ex1) {

            throw new Error("Cannot clean-up map entry doneObjects[" + hash + "][" + key + "]");
          };
        };
      };
      return ret;
    }
  }
});

qx.Bootstrap.define("qx.lang.normalize.Function", {
  statics : {
    bind : function(that){

      var slice = Array.prototype.slice;
      var target = this;
      if(typeof target != "function"){

        throw new TypeError("Function.prototype.bind called on incompatible " + target);
      };
      var args = slice.call(arguments, 1);
      var bound = function(){

        if(this instanceof bound){

          var F = function(){
          };
          F.prototype = target.prototype;
          var self = new F;
          var result = target.apply(self, args.concat(slice.call(arguments)));
          if(Object(result) === result){

            return result;
          };
          return self;
        } else {

          return target.apply(that, args.concat(slice.call(arguments)));
        };
      };
      return bound;
    }
  },
  defer : function(statics){

    if(!qx.core.Environment.get("ecmascript.function.bind")){

      Function.prototype.bind = statics.bind;
    };
  }
});

qx.Bootstrap.define("qx.Mixin", {
  statics : {
    define : function(name, config){

      if(config){

        if(config.include && !(qx.Bootstrap.getClass(config.include) === "Array")){

          config.include = [config.include];
        };
        if(qx.core.Environment.get("qx.debug")){

          this.__validateConfig(name, config);
        };
        var mixin = config.statics ? config.statics : {
        };
        qx.Bootstrap.setDisplayNames(mixin, name);
        for(var key in mixin){

          if(mixin[key] instanceof Function){

            mixin[key].$$mixin = mixin;
          };
        };
        if(config.construct){

          mixin.$$constructor = config.construct;
          qx.Bootstrap.setDisplayName(config.construct, name, "constructor");
        };
        if(config.include){

          mixin.$$includes = config.include;
        };
        if(config.properties){

          mixin.$$properties = config.properties;
        };
        if(config.members){

          mixin.$$members = config.members;
          qx.Bootstrap.setDisplayNames(config.members, name + ".prototype");
        };
        for(var key in mixin.$$members){

          if(mixin.$$members[key] instanceof Function){

            mixin.$$members[key].$$mixin = mixin;
          };
        };
        if(config.events){

          mixin.$$events = config.events;
        };
        if(config.destruct){

          mixin.$$destructor = config.destruct;
          qx.Bootstrap.setDisplayName(config.destruct, name, "destruct");
        };
      } else {

        var mixin = {
        };
      };
      mixin.$$type = "Mixin";
      mixin.name = name;
      mixin.toString = this.genericToString;
      mixin.basename = qx.Bootstrap.createNamespace(name, mixin);
      this.$$registry[name] = mixin;
      return mixin;
    },
    checkCompatibility : function(mixins){

      var list = this.flatten(mixins);
      var len = list.length;
      if(len < 2){

        return true;
      };
      var properties = {
      };
      var members = {
      };
      var events = {
      };
      var mixin;
      for(var i = 0;i < len;i++){

        mixin = list[i];
        for(var key in mixin.events){

          if(events[key]){

            throw new Error('Conflict between mixin "' + mixin.name + '" and "' + events[key] + '" in member "' + key + '"!');
          };
          events[key] = mixin.name;
        };
        for(var key in mixin.properties){

          if(properties[key]){

            throw new Error('Conflict between mixin "' + mixin.name + '" and "' + properties[key] + '" in property "' + key + '"!');
          };
          properties[key] = mixin.name;
        };
        for(var key in mixin.members){

          if(members[key]){

            throw new Error('Conflict between mixin "' + mixin.name + '" and "' + members[key] + '" in member "' + key + '"!');
          };
          members[key] = mixin.name;
        };
      };
      return true;
    },
    isCompatible : function(mixin, clazz){

      var list = qx.util.OOUtil.getMixins(clazz);
      list.push(mixin);
      return qx.Mixin.checkCompatibility(list);
    },
    getByName : function(name){

      return this.$$registry[name];
    },
    isDefined : function(name){

      return this.getByName(name) !== undefined;
    },
    getTotalNumber : function(){

      return qx.Bootstrap.objectGetLength(this.$$registry);
    },
    flatten : function(mixins){

      if(!mixins){

        return [];
      };
      var list = mixins.concat();
      for(var i = 0,l = mixins.length;i < l;i++){

        if(mixins[i].$$includes){

          list.push.apply(list, this.flatten(mixins[i].$$includes));
        };
      };
      return list;
    },
    genericToString : function(){

      return "[Mixin " + this.name + "]";
    },
    $$registry : {
    },
    __allowedKeys : qx.core.Environment.select("qx.debug", {
      "true" : {
        "include" : "object",
        "statics" : "object",
        "members" : "object",
        "properties" : "object",
        "events" : "object",
        "destruct" : "function",
        "construct" : "function"
      },
      "default" : null
    }),
    __validateConfig : qx.core.Environment.select("qx.debug", {
      "true" : function(name, config){

        var allowed = this.__allowedKeys;
        for(var key in config){

          if(!allowed[key]){

            throw new Error('The configuration key "' + key + '" in mixin "' + name + '" is not allowed!');
          };
          if(config[key] == null){

            throw new Error('Invalid key "' + key + '" in mixin "' + name + '"! The value is undefined/null!');
          };
          if(allowed[key] !== null && typeof config[key] !== allowed[key]){

            throw new Error('Invalid type of key "' + key + '" in mixin "' + name + '"! The type of the key must be "' + allowed[key] + '"!');
          };
        };
        var maps = ["statics", "members", "properties", "events"];
        for(var i = 0,l = maps.length;i < l;i++){

          var key = maps[i];
          if(config[key] !== undefined && (["Array", "RegExp", "Date"].indexOf(qx.Bootstrap.getClass(config[key])) != -1 || config[key].classname !== undefined)){

            throw new Error('Invalid key "' + key + '" in mixin "' + name + '"! The value needs to be a map!');
          };
        };
        if(config.include){

          for(var i = 0,a = config.include,l = a.length;i < l;i++){

            if(a[i] == null){

              throw new Error("Includes of mixins must be mixins. The include number '" + (i + 1) + "' in mixin '" + name + "'is undefined/null!");
            };
            if(a[i].$$type !== "Mixin"){

              throw new Error("Includes of mixins must be mixins. The include number '" + (i + 1) + "' in mixin '" + name + "'is not a mixin!");
            };
          };
          this.checkCompatibility(config.include);
        };
      },
      "default" : function(name, config){
      }
    })
  }
});

qx.Bootstrap.define("qx.core.Aspect", {
  statics : {
    __registry : [],
    wrap : function(fullName, fcn, type){

      var before = [];
      var after = [];
      var reg = this.__registry;
      var entry;
      for(var i = 0;i < reg.length;i++){

        entry = reg[i];
        if((entry.type == null || type == entry.type || entry.type == "*") && (entry.name == null || fullName.match(entry.name))){

          entry.pos == -1 ? before.push(entry.fcn) : after.push(entry.fcn);
        };
      };
      if(before.length === 0 && after.length === 0){

        return fcn;
      };
      var wrapper = function(){

        for(var i = 0;i < before.length;i++){

          before[i].call(this, fullName, fcn, type, arguments);
        };
        var ret = fcn.apply(this, arguments);
        for(var i = 0;i < after.length;i++){

          after[i].call(this, fullName, fcn, type, arguments, ret);
        };
        return ret;
      };
      if(type !== "static"){

        wrapper.self = fcn.self;
        wrapper.base = fcn.base;
      };
      fcn.wrapper = wrapper;
      wrapper.original = fcn;
      return wrapper;
    },
    addAdvice : function(fcn, position, type, name){

      this.__registry.push({
        fcn : fcn,
        pos : position === "before" ? -1 : 1,
        type : type,
        name : name
      });
    }
  }
});

qx.Bootstrap.define("qx.lang.normalize.String", {
  statics : {
    trim : function(){

      return this.replace(/^\s+|\s+$/g, '');
    }
  },
  defer : function(statics){

    if(!qx.core.Environment.get("ecmascript.string.trim")){

      String.prototype.trim = statics.trim;
    };
  }
});

qx.Bootstrap.define("qx.lang.normalize.Object", {
  statics : {
    keys : qx.Bootstrap.keys
  },
  defer : function(statics){

    if(!qx.core.Environment.get("ecmascript.object.keys")){

      Object.keys = statics.keys;
    };
  }
});

qx.Bootstrap.define("qx.Interface", {
  statics : {
    define : function(name, config){

      if(config){

        if(config.extend && !(qx.Bootstrap.getClass(config.extend) === "Array")){

          config.extend = [config.extend];
        };
        if(qx.core.Environment.get("qx.debug")){

          this.__validateConfig(name, config);
        };
        var iface = config.statics ? config.statics : {
        };
        if(config.extend){

          iface.$$extends = config.extend;
        };
        if(config.properties){

          iface.$$properties = config.properties;
        };
        if(config.members){

          iface.$$members = config.members;
        };
        if(config.events){

          iface.$$events = config.events;
        };
      } else {

        var iface = {
        };
      };
      iface.$$type = "Interface";
      iface.name = name;
      iface.toString = this.genericToString;
      iface.basename = qx.Bootstrap.createNamespace(name, iface);
      qx.Interface.$$registry[name] = iface;
      return iface;
    },
    getByName : function(name){

      return this.$$registry[name];
    },
    isDefined : function(name){

      return this.getByName(name) !== undefined;
    },
    getTotalNumber : function(){

      return qx.Bootstrap.objectGetLength(this.$$registry);
    },
    flatten : function(ifaces){

      if(!ifaces){

        return [];
      };
      var list = ifaces.concat();
      for(var i = 0,l = ifaces.length;i < l;i++){

        if(ifaces[i].$$extends){

          list.push.apply(list, this.flatten(ifaces[i].$$extends));
        };
      };
      return list;
    },
    __checkMembers : function(object, clazz, iface, wrap, shouldThrow){

      var members = iface.$$members;
      if(members){

        for(var key in members){

          if(qx.Bootstrap.isFunction(members[key])){

            var isPropertyMethod = this.__isPropertyMethod(clazz, key);
            var hasMemberFunction = isPropertyMethod || qx.Bootstrap.isFunction(object[key]);
            if(!hasMemberFunction){

              if(shouldThrow){

                throw new Error('Implementation of method "' + key + '" is missing in class "' + clazz.classname + '" required by interface "' + iface.name + '"');
              } else {

                return false;
              };
            };
            var shouldWrapFunction = wrap === true && !isPropertyMethod && !qx.util.OOUtil.hasInterface(clazz, iface);
            if(shouldWrapFunction){

              object[key] = this.__wrapInterfaceMember(iface, object[key], key, members[key]);
            };
          } else {

            if(typeof object[key] === undefined){

              if(typeof object[key] !== "function"){

                if(shouldThrow){

                  throw new Error('Implementation of member "' + key + '" is missing in class "' + clazz.classname + '" required by interface "' + iface.name + '"');
                } else {

                  return false;
                };
              };
            };
          };
        };
      };
      if(!shouldThrow){

        return true;
      };
    },
    __isPropertyMethod : function(clazz, methodName){

      var match = methodName.match(/^(is|toggle|get|set|reset)(.*)$/);
      if(!match){

        return false;
      };
      var propertyName = qx.Bootstrap.firstLow(match[2]);
      var isPropertyMethod = qx.util.OOUtil.getPropertyDefinition(clazz, propertyName);
      if(!isPropertyMethod){

        return false;
      };
      var isBoolean = match[0] == "is" || match[0] == "toggle";
      if(isBoolean){

        return qx.util.OOUtil.getPropertyDefinition(clazz, propertyName).check == "Boolean";
      };
      return true;
    },
    __checkProperties : function(clazz, iface, shouldThrow){

      if(iface.$$properties){

        for(var key in iface.$$properties){

          if(!qx.util.OOUtil.getPropertyDefinition(clazz, key)){

            if(shouldThrow){

              throw new Error('The property "' + key + '" is not supported by Class "' + clazz.classname + '"!');
            } else {

              return false;
            };
          };
        };
      };
      if(!shouldThrow){

        return true;
      };
    },
    __checkEvents : function(clazz, iface, shouldThrow){

      if(iface.$$events){

        for(var key in iface.$$events){

          if(!qx.util.OOUtil.supportsEvent(clazz, key)){

            if(shouldThrow){

              throw new Error('The event "' + key + '" is not supported by Class "' + clazz.classname + '"!');
            } else {

              return false;
            };
          };
        };
      };
      if(!shouldThrow){

        return true;
      };
    },
    assertObject : function(object, iface){

      var clazz = object.constructor;
      this.__checkMembers(object, clazz, iface, false, true);
      this.__checkProperties(clazz, iface, true);
      this.__checkEvents(clazz, iface, true);
      var extend = iface.$$extends;
      if(extend){

        for(var i = 0,l = extend.length;i < l;i++){

          this.assertObject(object, extend[i]);
        };
      };
    },
    assert : function(clazz, iface, wrap){

      this.__checkMembers(clazz.prototype, clazz, iface, wrap, true);
      this.__checkProperties(clazz, iface, true);
      this.__checkEvents(clazz, iface, true);
      var extend = iface.$$extends;
      if(extend){

        for(var i = 0,l = extend.length;i < l;i++){

          this.assert(clazz, extend[i], wrap);
        };
      };
    },
    objectImplements : function(object, iface){

      var clazz = object.constructor;
      if(!this.__checkMembers(object, clazz, iface) || !this.__checkProperties(clazz, iface) || !this.__checkEvents(clazz, iface)){

        return false;
      };
      var extend = iface.$$extends;
      if(extend){

        for(var i = 0,l = extend.length;i < l;i++){

          if(!this.objectImplements(object, extend[i])){

            return false;
          };
        };
      };
      return true;
    },
    classImplements : function(clazz, iface){

      if(!this.__checkMembers(clazz.prototype, clazz, iface) || !this.__checkProperties(clazz, iface) || !this.__checkEvents(clazz, iface)){

        return false;
      };
      var extend = iface.$$extends;
      if(extend){

        for(var i = 0,l = extend.length;i < l;i++){

          if(!this.has(clazz, extend[i])){

            return false;
          };
        };
      };
      return true;
    },
    genericToString : function(){

      return "[Interface " + this.name + "]";
    },
    $$registry : {
    },
    __wrapInterfaceMember : qx.core.Environment.select("qx.debug", {
      "true" : function(iface, origFunction, functionName, preCondition){

        function wrappedFunction(){

          preCondition.apply(this, arguments);
          return origFunction.apply(this, arguments);
        };
        origFunction.wrapper = wrappedFunction;
        return wrappedFunction;
      },
      "default" : function(iface, origFunction, functionName, preCondition){
      }
    }),
    __allowedKeys : qx.core.Environment.select("qx.debug", {
      "true" : {
        "extend" : "object",
        "statics" : "object",
        "members" : "object",
        "properties" : "object",
        "events" : "object"
      },
      "default" : null
    }),
    __validateConfig : qx.core.Environment.select("qx.debug", {
      "true" : function(name, config){

        if(qx.core.Environment.get("qx.debug")){

          var allowed = this.__allowedKeys;
          for(var key in config){

            if(allowed[key] === undefined){

              throw new Error('The configuration key "' + key + '" in class "' + name + '" is not allowed!');
            };
            if(config[key] == null){

              throw new Error("Invalid key '" + key + "' in interface '" + name + "'! The value is undefined/null!");
            };
            if(allowed[key] !== null && typeof config[key] !== allowed[key]){

              throw new Error('Invalid type of key "' + key + '" in interface "' + name + '"! The type of the key must be "' + allowed[key] + '"!');
            };
          };
          var maps = ["statics", "members", "properties", "events"];
          for(var i = 0,l = maps.length;i < l;i++){

            var key = maps[i];
            if(config[key] !== undefined && (["Array", "RegExp", "Date"].indexOf(qx.Bootstrap.getClass(config[key])) != -1 || config[key].classname !== undefined)){

              throw new Error('Invalid key "' + key + '" in interface "' + name + '"! The value needs to be a map!');
            };
          };
          if(config.extend){

            for(var i = 0,a = config.extend,l = a.length;i < l;i++){

              if(a[i] == null){

                throw new Error("Extends of interfaces must be interfaces. The extend number '" + i + 1 + "' in interface '" + name + "' is undefined/null!");
              };
              if(a[i].$$type !== "Interface"){

                throw new Error("Extends of interfaces must be interfaces. The extend number '" + i + 1 + "' in interface '" + name + "' is not an interface!");
              };
            };
          };
          if(config.statics){

            for(var key in config.statics){

              if(key.toUpperCase() !== key){

                throw new Error('Invalid key "' + key + '" in interface "' + name + '"! Static constants must be all uppercase.');
              };
              switch(typeof config.statics[key]){case "boolean":case "string":case "number":
              break;default:
              throw new Error('Invalid key "' + key + '" in interface "' + name + '"! Static constants must be all of a primitive type.');};
            };
          };
        };
      },
      "default" : function(name, config){
      }
    })
  }
});

qx.Bootstrap.define("qx.lang.normalize.Error", {
  statics : {
    toString : function(){

      var name = this.name || "Error";
      var message = this.message || "";
      if(name === "" && message === ""){

        return "Error";
      };
      if(name === ""){

        return message;
      };
      if(message === ""){

        return name;
      };
      return name + ": " + message;
    }
  },
  defer : function(statics){

    if(!qx.core.Environment.get("ecmascript.error.toString")){

      Error.prototype.toString = statics.toString;
    };
  }
});

qx.Bootstrap.define("qx.core.Property", {
  statics : {
    __gatherDependency : function(){

      if(qx.core.Environment.get("module.events")){

        qx.event.type.Data;
        qx.event.dispatch.Direct;
      };
    },
    __checks : {
      "Boolean" : 'qx.core.Assert.assertBoolean(value, msg) || true',
      "String" : 'qx.core.Assert.assertString(value, msg) || true',
      "Number" : 'qx.core.Assert.assertNumber(value, msg) || true',
      "Integer" : 'qx.core.Assert.assertInteger(value, msg) || true',
      "PositiveNumber" : 'qx.core.Assert.assertPositiveNumber(value, msg) || true',
      "PositiveInteger" : 'qx.core.Assert.assertPositiveInteger(value, msg) || true',
      "Error" : 'qx.core.Assert.assertInstance(value, Error, msg) || true',
      "RegExp" : 'qx.core.Assert.assertInstance(value, RegExp, msg) || true',
      "Object" : 'qx.core.Assert.assertObject(value, msg) || true',
      "Array" : 'qx.core.Assert.assertArray(value, msg) || true',
      "Map" : 'qx.core.Assert.assertMap(value, msg) || true',
      "Function" : 'qx.core.Assert.assertFunction(value, msg) || true',
      "Date" : 'qx.core.Assert.assertInstance(value, Date, msg) || true',
      "Node" : 'value !== null && value.nodeType !== undefined',
      "Element" : 'value !== null && value.nodeType === 1 && value.attributes',
      "Document" : 'value !== null && value.nodeType === 9 && value.documentElement',
      "Window" : 'value !== null && value.document',
      "Event" : 'value !== null && value.type !== undefined',
      "Class" : 'value !== null && value.$$type === "Class"',
      "Mixin" : 'value !== null && value.$$type === "Mixin"',
      "Interface" : 'value !== null && value.$$type === "Interface"',
      "Theme" : 'value !== null && value.$$type === "Theme"',
      "Color" : 'qx.lang.Type.isString(value) && qx.util.ColorUtil.isValidPropertyValue(value)',
      "Decorator" : 'value !== null && qx.theme.manager.Decoration.getInstance().isValidPropertyValue(value)',
      "Font" : 'value !== null && qx.theme.manager.Font.getInstance().isDynamic(value)'
    },
    __dereference : {
      "Node" : true,
      "Element" : true,
      "Document" : true,
      "Window" : true,
      "Event" : true
    },
    $$inherit : "inherit",
    $$store : {
      runtime : {
      },
      user : {
      },
      theme : {
      },
      inherit : {
      },
      init : {
      },
      useinit : {
      }
    },
    $$method : {
      get : {
      },
      set : {
      },
      reset : {
      },
      init : {
      },
      refresh : {
      },
      setRuntime : {
      },
      resetRuntime : {
      },
      setThemed : {
      },
      resetThemed : {
      }
    },
    $$allowedKeys : {
      name : "string",
      dereference : "boolean",
      inheritable : "boolean",
      nullable : "boolean",
      themeable : "boolean",
      refine : "boolean",
      init : null,
      apply : "string",
      event : "string",
      check : null,
      transform : "string",
      deferredInit : "boolean",
      validate : null
    },
    $$allowedGroupKeys : {
      name : "string",
      group : "object",
      mode : "string",
      themeable : "boolean"
    },
    $$inheritable : {
    },
    __executeOptimizedRefresh : function(clazz){

      var inheritables = this.__getInheritablesOfClass(clazz);
      if(!inheritables.length){

        var refresher = function(){
        };
      } else {

        refresher = this.__createRefresher(inheritables);
      };
      clazz.prototype.$$refreshInheritables = refresher;
    },
    __getInheritablesOfClass : function(clazz){

      var inheritable = [];
      while(clazz){

        var properties = clazz.$$properties;
        if(properties){

          for(var name in this.$$inheritable){

            if(properties[name] && properties[name].inheritable){

              inheritable.push(name);
            };
          };
        };
        clazz = clazz.superclass;
      };
      return inheritable;
    },
    __createRefresher : function(inheritables){

      var inherit = this.$$store.inherit;
      var init = this.$$store.init;
      var refresh = this.$$method.refresh;
      var code = ["var parent = this.getLayoutParent();", "if (!parent) return;"];
      for(var i = 0,l = inheritables.length;i < l;i++){

        var name = inheritables[i];
        code.push("var value = parent.", inherit[name], ";", "if (value===undefined) value = parent.", init[name], ";", "this.", refresh[name], "(value);");
      };
      return new Function(code.join(""));
    },
    attachRefreshInheritables : function(clazz){

      clazz.prototype.$$refreshInheritables = function(){

        qx.core.Property.__executeOptimizedRefresh(clazz);
        return this.$$refreshInheritables();
      };
    },
    attachMethods : function(clazz, name, config){

      config.group ? this.__attachGroupMethods(clazz, config, name) : this.__attachPropertyMethods(clazz, config, name);
    },
    __attachGroupMethods : function(clazz, config, name){

      var upname = qx.Bootstrap.firstUp(name);
      var members = clazz.prototype;
      var themeable = config.themeable === true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.property.level") > 1){

          qx.Bootstrap.debug("Generating property group: " + name);
        };
      };
      var setter = [];
      var resetter = [];
      if(themeable){

        var styler = [];
        var unstyler = [];
      };
      var argHandler = "var a=arguments[0] instanceof Array?arguments[0]:arguments;";
      setter.push(argHandler);
      if(themeable){

        styler.push(argHandler);
      };
      if(config.mode == "shorthand"){

        var shorthand = "a=qx.lang.Array.fromShortHand(qx.lang.Array.fromArguments(a));";
        setter.push(shorthand);
        if(themeable){

          styler.push(shorthand);
        };
      };
      for(var i = 0,a = config.group,l = a.length;i < l;i++){

        if(qx.core.Environment.get("qx.debug")){

          if(!this.$$method.set[a[i]] || !this.$$method.reset[a[i]]){

            throw new Error("Cannot create property group '" + name + "' including non-existing property '" + a[i] + "'!");
          };
        };
        setter.push("this.", this.$$method.set[a[i]], "(a[", i, "]);");
        resetter.push("this.", this.$$method.reset[a[i]], "();");
        if(themeable){

          if(qx.core.Environment.get("qx.debug")){

            if(!this.$$method.setThemed[a[i]]){

              throw new Error("Cannot add the non themable property '" + a[i] + "' to the themable property group '" + name + "'");
            };
          };
          styler.push("this.", this.$$method.setThemed[a[i]], "(a[", i, "]);");
          unstyler.push("this.", this.$$method.resetThemed[a[i]], "();");
        };
      };
      this.$$method.set[name] = "set" + upname;
      members[this.$$method.set[name]] = new Function(setter.join(""));
      this.$$method.reset[name] = "reset" + upname;
      members[this.$$method.reset[name]] = new Function(resetter.join(""));
      if(themeable){

        this.$$method.setThemed[name] = "setThemed" + upname;
        members[this.$$method.setThemed[name]] = new Function(styler.join(""));
        this.$$method.resetThemed[name] = "resetThemed" + upname;
        members[this.$$method.resetThemed[name]] = new Function(unstyler.join(""));
      };
    },
    __attachPropertyMethods : function(clazz, config, name){

      var upname = qx.Bootstrap.firstUp(name);
      var members = clazz.prototype;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.property.level") > 1){

          qx.Bootstrap.debug("Generating property wrappers: " + name);
        };
      };
      if(config.dereference === undefined && typeof config.check === "string"){

        config.dereference = this.__shouldBeDereferenced(config.check);
      };
      var method = this.$$method;
      var store = this.$$store;
      store.runtime[name] = "$$runtime_" + name;
      store.user[name] = "$$user_" + name;
      store.theme[name] = "$$theme_" + name;
      store.init[name] = "$$init_" + name;
      store.inherit[name] = "$$inherit_" + name;
      store.useinit[name] = "$$useinit_" + name;
      method.get[name] = "get" + upname;
      members[method.get[name]] = function(){

        return qx.core.Property.executeOptimizedGetter(this, clazz, name, "get");
      };
      method.set[name] = "set" + upname;
      members[method.set[name]] = function(value){

        return qx.core.Property.executeOptimizedSetter(this, clazz, name, "set", arguments);
      };
      method.reset[name] = "reset" + upname;
      members[method.reset[name]] = function(){

        return qx.core.Property.executeOptimizedSetter(this, clazz, name, "reset");
      };
      if(config.inheritable || config.apply || config.event || config.deferredInit){

        method.init[name] = "init" + upname;
        members[method.init[name]] = function(value){

          return qx.core.Property.executeOptimizedSetter(this, clazz, name, "init", arguments);
        };
        if(qx.core.Environment.get("qx.debug")){

          members[method.init[name]].$$propertyMethod = true;
        };
      };
      if(config.inheritable){

        method.refresh[name] = "refresh" + upname;
        members[method.refresh[name]] = function(value){

          return qx.core.Property.executeOptimizedSetter(this, clazz, name, "refresh", arguments);
        };
        if(qx.core.Environment.get("qx.debug")){

          members[method.refresh[name]].$$propertyMethod = true;
        };
      };
      method.setRuntime[name] = "setRuntime" + upname;
      members[method.setRuntime[name]] = function(value){

        return qx.core.Property.executeOptimizedSetter(this, clazz, name, "setRuntime", arguments);
      };
      method.resetRuntime[name] = "resetRuntime" + upname;
      members[method.resetRuntime[name]] = function(){

        return qx.core.Property.executeOptimizedSetter(this, clazz, name, "resetRuntime");
      };
      if(config.themeable){

        method.setThemed[name] = "setThemed" + upname;
        members[method.setThemed[name]] = function(value){

          return qx.core.Property.executeOptimizedSetter(this, clazz, name, "setThemed", arguments);
        };
        method.resetThemed[name] = "resetThemed" + upname;
        members[method.resetThemed[name]] = function(){

          return qx.core.Property.executeOptimizedSetter(this, clazz, name, "resetThemed");
        };
        if(qx.core.Environment.get("qx.debug")){

          members[method.setThemed[name]].$$propertyMethod = true;
          members[method.resetThemed[name]].$$propertyMethod = true;
        };
      };
      if(config.check === "Boolean"){

        members["toggle" + upname] = new Function("return this." + method.set[name] + "(!this." + method.get[name] + "())");
        members["is" + upname] = new Function("return this." + method.get[name] + "()");
        if(qx.core.Environment.get("qx.debug")){

          members["toggle" + upname].$$propertyMethod = true;
          members["is" + upname].$$propertyMethod = true;
        };
      };
      if(qx.core.Environment.get("qx.debug")){

        members[method.get[name]].$$propertyMethod = true;
        members[method.set[name]].$$propertyMethod = true;
        members[method.reset[name]].$$propertyMethod = true;
        members[method.setRuntime[name]].$$propertyMethod = true;
        members[method.resetRuntime[name]].$$propertyMethod = true;
      };
    },
    __shouldBeDereferenced : function(check){

      return !!this.__dereference[check];
    },
    __errors : {
      '0' : 'Could not change or apply init value after constructing phase!',
      '1' : 'Requires exactly one argument!',
      '2' : 'Undefined value is not allowed!',
      '3' : 'Does not allow any arguments!',
      '4' : 'Null value is not allowed!',
      '5' : 'Is invalid!'
    },
    error : function(obj, id, property, variant, value){

      var classname = obj.constructor.classname;
      var msg = "Error in property " + property + " of class " + classname + " in method " + this.$$method[variant][property] + " with incoming value '" + value + "': ";
      throw new Error(msg + (this.__errors[id] || "Unknown reason: " + id));
    },
    __unwrapFunctionFromCode : function(instance, members, name, variant, code, args){

      var store = this.$$method[variant][name];
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.property.level") > 1){

          qx.Bootstrap.debug("Code[" + this.$$method[variant][name] + "]: " + code.join(""));
        };
        try{

          members[store] = new Function("value", code.join(""));
        } catch(ex) {

          throw new Error("Malformed generated code to unwrap method: " + this.$$method[variant][name] + "\n" + code.join(""));
        };
      } else {

        members[store] = new Function("value", code.join(""));
      };
      if(qx.core.Environment.get("qx.aspects")){

        members[store] = qx.core.Aspect.wrap(instance.classname + "." + store, members[store], "property");
      };
      qx.Bootstrap.setDisplayName(members[store], instance.classname + ".prototype", store);
      if(args === undefined){

        return instance[store]();
      } else if(qx.core.Environment.get("qx.debug")){

        return instance[store].apply(instance, args);
      } else {

        return instance[store](args[0]);
      };
    },
    executeOptimizedGetter : function(instance, clazz, name, variant){

      var config = clazz.$$properties[name];
      var members = clazz.prototype;
      var code = [];
      var store = this.$$store;
      code.push('if(this.', store.runtime[name], '!==undefined)');
      code.push('return this.', store.runtime[name], ';');
      if(config.inheritable){

        code.push('else if(this.', store.inherit[name], '!==undefined)');
        code.push('return this.', store.inherit[name], ';');
        code.push('else ');
      };
      code.push('if(this.', store.user[name], '!==undefined)');
      code.push('return this.', store.user[name], ';');
      if(config.themeable){

        code.push('else if(this.', store.theme[name], '!==undefined)');
        code.push('return this.', store.theme[name], ';');
      };
      if(config.deferredInit && config.init === undefined){

        code.push('else if(this.', store.init[name], '!==undefined)');
        code.push('return this.', store.init[name], ';');
      };
      code.push('else ');
      if(config.init !== undefined){

        if(config.inheritable){

          code.push('var init=this.', store.init[name], ';');
          if(config.nullable){

            code.push('if(init==qx.core.Property.$$inherit)init=null;');
          } else if(config.init !== undefined){

            code.push('return this.', store.init[name], ';');
          } else {

            code.push('if(init==qx.core.Property.$$inherit)throw new Error("Inheritable property ', name, ' of an instance of ', clazz.classname, ' is not (yet) ready!");');
          };
          code.push('return init;');
        } else {

          code.push('return this.', store.init[name], ';');
        };
      } else if(config.inheritable || config.nullable){

        code.push('return null;');
      } else {

        code.push('throw new Error("Property ', name, ' of an instance of ', clazz.classname, ' is not (yet) ready!");');
      };
      return this.__unwrapFunctionFromCode(instance, members, name, variant, code);
    },
    executeOptimizedSetter : function(instance, clazz, name, variant, args){

      var config = clazz.$$properties[name];
      var members = clazz.prototype;
      var code = [];
      var incomingValue = variant === "set" || variant === "setThemed" || variant === "setRuntime" || (variant === "init" && config.init === undefined);
      var hasCallback = config.apply || config.event || config.inheritable;
      var store = this.__getStore(variant, name);
      this.__emitSetterPreConditions(code, config, name, variant, incomingValue);
      if(incomingValue){

        this.__emitIncomingValueTransformation(code, clazz, config, name);
      };
      if(hasCallback){

        this.__emitOldNewComparison(code, incomingValue, store, variant);
      };
      if(config.inheritable){

        code.push('var inherit=prop.$$inherit;');
      };
      if(qx.core.Environment.get("qx.debug")){

        if(incomingValue){

          this.__emitIncomingValueValidation(code, config, clazz, name, variant);
        };
      };
      if(!hasCallback){

        this.__emitStoreValue(code, name, variant, incomingValue);
      } else {

        this.__emitStoreComputedAndOldValue(code, config, name, variant, incomingValue);
      };
      if(config.inheritable){

        this.__emitStoreInheritedPropertyValue(code, config, name, variant);
      } else if(hasCallback){

        this.__emitNormalizeUndefinedValues(code, config, name, variant);
      };
      if(hasCallback){

        this.__emitCallCallback(code, config, name, variant);
        if(config.inheritable && members._getChildren){

          this.__emitRefreshChildrenValue(code, name);
        };
      };
      if(incomingValue){

        code.push('return value;');
      };
      return this.__unwrapFunctionFromCode(instance, members, name, variant, code, args);
    },
    __getStore : function(variant, name){

      if(variant === "setRuntime" || variant === "resetRuntime"){

        var store = this.$$store.runtime[name];
      } else if(variant === "setThemed" || variant === "resetThemed"){

        store = this.$$store.theme[name];
      } else if(variant === "init"){

        store = this.$$store.init[name];
      } else {

        store = this.$$store.user[name];
      };;
      return store;
    },
    __emitSetterPreConditions : function(code, config, name, variant, incomingValue){

      if(qx.core.Environment.get("qx.debug")){

        code.push('var prop=qx.core.Property;');
        if(variant === "init"){

          code.push('if(this.$$initialized)prop.error(this,0,"', name, '","', variant, '",value);');
        };
        if(variant === "refresh"){
        } else if(incomingValue){

          code.push('if(arguments.length!==1)prop.error(this,1,"', name, '","', variant, '",value);');
          code.push('if(value===undefined)prop.error(this,2,"', name, '","', variant, '",value);');
        } else {

          code.push('if(arguments.length!==0)prop.error(this,3,"', name, '","', variant, '",value);');
        };
      } else {

        if(!config.nullable || config.check || config.inheritable){

          code.push('var prop=qx.core.Property;');
        };
        if(variant === "set"){

          code.push('if(value===undefined)prop.error(this,2,"', name, '","', variant, '",value);');
        };
      };
    },
    __emitIncomingValueTransformation : function(code, clazz, config, name){

      if(config.transform){

        code.push('value=this.', config.transform, '(value);');
      };
      if(config.validate){

        if(typeof config.validate === "string"){

          code.push('this.', config.validate, '(value);');
        } else if(config.validate instanceof Function){

          code.push(clazz.classname, '.$$properties.', name);
          code.push('.validate.call(this, value);');
        };
      };
    },
    __emitOldNewComparison : function(code, incomingValue, store, variant){

      var resetValue = (variant === "reset" || variant === "resetThemed" || variant === "resetRuntime");
      if(incomingValue){

        code.push('if(this.', store, '===value)return value;');
      } else if(resetValue){

        code.push('if(this.', store, '===undefined)return;');
      };
    },
    __emitIncomingValueValidation : qx.core.Environment.select("qx.debug", {
      "true" : function(code, config, clazz, name, variant){

        if(!config.nullable){

          code.push('if(value===null)prop.error(this,4,"', name, '","', variant, '",value);');
        };
        if(config.check !== undefined){

          code.push('var msg = "Invalid incoming value for property \'' + name + '\' of class \'' + clazz.classname + '\'";');
          if(config.nullable){

            code.push('if(value!==null)');
          };
          if(config.inheritable){

            code.push('if(value!==inherit)');
          };
          code.push('if(');
          if(this.__checks[config.check] !== undefined){

            code.push('!(', this.__checks[config.check], ')');
          } else if(qx.Class.isDefined(config.check)){

            code.push('qx.core.Assert.assertInstance(value, qx.Class.getByName("', config.check, '"), msg)');
          } else if(qx.Interface && qx.Interface.isDefined(config.check)){

            code.push('qx.core.Assert.assertInterface(value, qx.Interface.getByName("', config.check, '"), msg)');
          } else if(typeof config.check === "function"){

            code.push('!', clazz.classname, '.$$properties.', name);
            code.push('.check.call(this, value)');
          } else if(typeof config.check === "string"){

            code.push('!(', config.check, ')');
          } else if(config.check instanceof Array){

            code.push('qx.core.Assert.assertInArray(value, ', clazz.classname, '.$$properties.', name, '.check, msg)');
          } else {

            throw new Error("Could not add check to property " + name + " of class " + clazz.classname);
          };;;;;
          code.push(')prop.error(this,5,"', name, '","', variant, '",value);');
        };
      },
      "false" : undefined
    }),
    __emitStoreValue : function(code, name, variant, incomingValue){

      if(variant === "setRuntime"){

        code.push('this.', this.$$store.runtime[name], '=value;');
      } else if(variant === "resetRuntime"){

        code.push('if(this.', this.$$store.runtime[name], '!==undefined)');
        code.push('delete this.', this.$$store.runtime[name], ';');
      } else if(variant === "set"){

        code.push('this.', this.$$store.user[name], '=value;');
      } else if(variant === "reset"){

        code.push('if(this.', this.$$store.user[name], '!==undefined)');
        code.push('delete this.', this.$$store.user[name], ';');
      } else if(variant === "setThemed"){

        code.push('this.', this.$$store.theme[name], '=value;');
      } else if(variant === "resetThemed"){

        code.push('if(this.', this.$$store.theme[name], '!==undefined)');
        code.push('delete this.', this.$$store.theme[name], ';');
      } else if(variant === "init" && incomingValue){

        code.push('this.', this.$$store.init[name], '=value;');
      };;;;;;
    },
    __emitStoreComputedAndOldValue : function(code, config, name, variant, incomingValue){

      if(config.inheritable){

        code.push('var computed, old=this.', this.$$store.inherit[name], ';');
      } else {

        code.push('var computed, old;');
      };
      code.push('if(this.', this.$$store.runtime[name], '!==undefined){');
      if(variant === "setRuntime"){

        code.push('computed=this.', this.$$store.runtime[name], '=value;');
      } else if(variant === "resetRuntime"){

        code.push('delete this.', this.$$store.runtime[name], ';');
        code.push('if(this.', this.$$store.user[name], '!==undefined)');
        code.push('computed=this.', this.$$store.user[name], ';');
        code.push('else if(this.', this.$$store.theme[name], '!==undefined)');
        code.push('computed=this.', this.$$store.theme[name], ';');
        code.push('else if(this.', this.$$store.init[name], '!==undefined){');
        code.push('computed=this.', this.$$store.init[name], ';');
        code.push('this.', this.$$store.useinit[name], '=true;');
        code.push('}');
      } else {

        code.push('old=computed=this.', this.$$store.runtime[name], ';');
        if(variant === "set"){

          code.push('this.', this.$$store.user[name], '=value;');
        } else if(variant === "reset"){

          code.push('delete this.', this.$$store.user[name], ';');
        } else if(variant === "setThemed"){

          code.push('this.', this.$$store.theme[name], '=value;');
        } else if(variant === "resetThemed"){

          code.push('delete this.', this.$$store.theme[name], ';');
        } else if(variant === "init" && incomingValue){

          code.push('this.', this.$$store.init[name], '=value;');
        };;;;
      };
      code.push('}');
      code.push('else if(this.', this.$$store.user[name], '!==undefined){');
      if(variant === "set"){

        if(!config.inheritable){

          code.push('old=this.', this.$$store.user[name], ';');
        };
        code.push('computed=this.', this.$$store.user[name], '=value;');
      } else if(variant === "reset"){

        if(!config.inheritable){

          code.push('old=this.', this.$$store.user[name], ';');
        };
        code.push('delete this.', this.$$store.user[name], ';');
        code.push('if(this.', this.$$store.runtime[name], '!==undefined)');
        code.push('computed=this.', this.$$store.runtime[name], ';');
        code.push('if(this.', this.$$store.theme[name], '!==undefined)');
        code.push('computed=this.', this.$$store.theme[name], ';');
        code.push('else if(this.', this.$$store.init[name], '!==undefined){');
        code.push('computed=this.', this.$$store.init[name], ';');
        code.push('this.', this.$$store.useinit[name], '=true;');
        code.push('}');
      } else {

        if(variant === "setRuntime"){

          code.push('computed=this.', this.$$store.runtime[name], '=value;');
        } else if(config.inheritable){

          code.push('computed=this.', this.$$store.user[name], ';');
        } else {

          code.push('old=computed=this.', this.$$store.user[name], ';');
        };
        if(variant === "setThemed"){

          code.push('this.', this.$$store.theme[name], '=value;');
        } else if(variant === "resetThemed"){

          code.push('delete this.', this.$$store.theme[name], ';');
        } else if(variant === "init" && incomingValue){

          code.push('this.', this.$$store.init[name], '=value;');
        };;
      };
      code.push('}');
      if(config.themeable){

        code.push('else if(this.', this.$$store.theme[name], '!==undefined){');
        if(!config.inheritable){

          code.push('old=this.', this.$$store.theme[name], ';');
        };
        if(variant === "setRuntime"){

          code.push('computed=this.', this.$$store.runtime[name], '=value;');
        } else if(variant === "set"){

          code.push('computed=this.', this.$$store.user[name], '=value;');
        } else if(variant === "setThemed"){

          code.push('computed=this.', this.$$store.theme[name], '=value;');
        } else if(variant === "resetThemed"){

          code.push('delete this.', this.$$store.theme[name], ';');
          code.push('if(this.', this.$$store.init[name], '!==undefined){');
          code.push('computed=this.', this.$$store.init[name], ';');
          code.push('this.', this.$$store.useinit[name], '=true;');
          code.push('}');
        } else if(variant === "init"){

          if(incomingValue){

            code.push('this.', this.$$store.init[name], '=value;');
          };
          code.push('computed=this.', this.$$store.theme[name], ';');
        } else if(variant === "refresh"){

          code.push('computed=this.', this.$$store.theme[name], ';');
        };;;;;
        code.push('}');
      };
      code.push('else if(this.', this.$$store.useinit[name], '){');
      if(!config.inheritable){

        code.push('old=this.', this.$$store.init[name], ';');
      };
      if(variant === "init"){

        if(incomingValue){

          code.push('computed=this.', this.$$store.init[name], '=value;');
        } else {

          code.push('computed=this.', this.$$store.init[name], ';');
        };
      } else if(variant === "set" || variant === "setRuntime" || variant === "setThemed" || variant === "refresh"){

        code.push('delete this.', this.$$store.useinit[name], ';');
        if(variant === "setRuntime"){

          code.push('computed=this.', this.$$store.runtime[name], '=value;');
        } else if(variant === "set"){

          code.push('computed=this.', this.$$store.user[name], '=value;');
        } else if(variant === "setThemed"){

          code.push('computed=this.', this.$$store.theme[name], '=value;');
        } else if(variant === "refresh"){

          code.push('computed=this.', this.$$store.init[name], ';');
        };;;
      };
      code.push('}');
      if(variant === "set" || variant === "setRuntime" || variant === "setThemed" || variant === "init"){

        code.push('else{');
        if(variant === "setRuntime"){

          code.push('computed=this.', this.$$store.runtime[name], '=value;');
        } else if(variant === "set"){

          code.push('computed=this.', this.$$store.user[name], '=value;');
        } else if(variant === "setThemed"){

          code.push('computed=this.', this.$$store.theme[name], '=value;');
        } else if(variant === "init"){

          if(incomingValue){

            code.push('computed=this.', this.$$store.init[name], '=value;');
          } else {

            code.push('computed=this.', this.$$store.init[name], ';');
          };
          code.push('this.', this.$$store.useinit[name], '=true;');
        };;;
        code.push('}');
      };
    },
    __emitStoreInheritedPropertyValue : function(code, config, name, variant){

      code.push('if(computed===undefined||computed===inherit){');
      if(variant === "refresh"){

        code.push('computed=value;');
      } else {

        code.push('var pa=this.getLayoutParent();if(pa)computed=pa.', this.$$store.inherit[name], ';');
      };
      code.push('if((computed===undefined||computed===inherit)&&');
      code.push('this.', this.$$store.init[name], '!==undefined&&');
      code.push('this.', this.$$store.init[name], '!==inherit){');
      code.push('computed=this.', this.$$store.init[name], ';');
      code.push('this.', this.$$store.useinit[name], '=true;');
      code.push('}else{');
      code.push('delete this.', this.$$store.useinit[name], ';}');
      code.push('}');
      code.push('if(old===computed)return value;');
      code.push('if(computed===inherit){');
      code.push('computed=undefined;delete this.', this.$$store.inherit[name], ';');
      code.push('}');
      code.push('else if(computed===undefined)');
      code.push('delete this.', this.$$store.inherit[name], ';');
      code.push('else this.', this.$$store.inherit[name], '=computed;');
      code.push('var backup=computed;');
      if(config.init !== undefined && variant !== "init"){

        code.push('if(old===undefined)old=this.', this.$$store.init[name], ";");
      } else {

        code.push('if(old===undefined)old=null;');
      };
      code.push('if(computed===undefined||computed==inherit)computed=null;');
    },
    __emitNormalizeUndefinedValues : function(code, config, name, variant){

      if(variant !== "set" && variant !== "setRuntime" && variant !== "setThemed"){

        code.push('if(computed===undefined)computed=null;');
      };
      code.push('if(old===computed)return value;');
      if(config.init !== undefined && variant !== "init"){

        code.push('if(old===undefined)old=this.', this.$$store.init[name], ";");
      } else {

        code.push('if(old===undefined)old=null;');
      };
    },
    __emitCallCallback : function(code, config, name, variant){

      if(config.apply){

        code.push('this.', config.apply, '(computed, old, "', name, '", "', variant, '");');
      };
      if(config.event){

        code.push("var reg=qx.event.Registration;", "if(reg.hasListener(this, '", config.event, "')){", "reg.fireEvent(this, '", config.event, "', qx.event.type.Data, [computed, old]", ")}");
      };
    },
    __emitRefreshChildrenValue : function(code, name){

      code.push('var a=this._getChildren();if(a)for(var i=0,l=a.length;i<l;i++){');
      code.push('if(a[i].', this.$$method.refresh[name], ')a[i].', this.$$method.refresh[name], '(backup);');
      code.push('}');
    }
  }
});

qx.Bootstrap.define("qx.Class", {
  statics : {
    __Property : qx.core.Environment.get("module.property") ? qx.core.Property : null,
    define : function(name, config){

      if(!config){

        config = {
        };
      };
      if(config.include && !(qx.Bootstrap.getClass(config.include) === "Array")){

        config.include = [config.include];
      };
      if(config.implement && !(qx.Bootstrap.getClass(config.implement) === "Array")){

        config.implement = [config.implement];
      };
      var implicitType = false;
      if(!config.hasOwnProperty("extend") && !config.type){

        config.type = "static";
        implicitType = true;
      };
      if(qx.core.Environment.get("qx.debug")){

        try{

          this.__validateConfig(name, config);
        } catch(ex) {

          if(implicitType){

            ex.message = 'Assumed static class because no "extend" key was found. ' + ex.message;
          };
          throw ex;
        };
      };
      var clazz = this.__createClass(name, config.type, config.extend, config.statics, config.construct, config.destruct, config.include);
      if(config.extend){

        if(config.properties){

          this.__addProperties(clazz, config.properties, true);
        };
        if(config.members){

          this.__addMembers(clazz, config.members, true, true, false);
        };
        if(config.events){

          this.__addEvents(clazz, config.events, true);
        };
        if(config.include){

          for(var i = 0,l = config.include.length;i < l;i++){

            this.__addMixin(clazz, config.include[i], false);
          };
        };
      } else if(config.hasOwnProperty('extend') && qx.core.Environment.get("qx.debug")){

        throw new Error('"extend" parameter is null or undefined');
      };
      if(config.environment){

        for(var key in config.environment){

          qx.core.Environment.add(key, config.environment[key]);
        };
      };
      if(config.implement){

        for(var i = 0,l = config.implement.length;i < l;i++){

          this.__addInterface(clazz, config.implement[i]);
        };
      };
      if(qx.core.Environment.get("qx.debug")){

        this.__validateAbstractInterfaces(clazz);
      };
      if(config.defer){

        config.defer.self = clazz;
        config.defer(clazz, clazz.prototype, {
          add : function(name, config){

            var properties = {
            };
            properties[name] = config;
            qx.Class.__addProperties(clazz, properties, true);
          }
        });
      };
      return clazz;
    },
    undefine : function(name){

      delete this.$$registry[name];
      var ns = name.split(".");
      var objects = [window];
      for(var i = 0;i < ns.length;i++){

        objects.push(objects[i][ns[i]]);
      };
      for(var i = objects.length - 1;i >= 1;i--){

        var last = objects[i];
        var parent = objects[i - 1];
        if(qx.Bootstrap.isFunction(last) || qx.Bootstrap.objectGetLength(last) === 0){

          delete parent[ns[i - 1]];
        } else {

          break;
        };
      };
    },
    isDefined : qx.util.OOUtil.classIsDefined,
    getTotalNumber : function(){

      return qx.Bootstrap.objectGetLength(this.$$registry);
    },
    getByName : qx.Bootstrap.getByName,
    include : function(clazz, mixin){

      if(qx.core.Environment.get("qx.debug")){

        if(!mixin){

          throw new Error("The mixin to include into class '" + clazz.classname + "' is undefined/null!");
        };
        qx.Mixin.isCompatible(mixin, clazz);
      };
      qx.Class.__addMixin(clazz, mixin, false);
    },
    patch : function(clazz, mixin){

      if(qx.core.Environment.get("qx.debug")){

        if(!mixin){

          throw new Error("The mixin to patch class '" + clazz.classname + "' is undefined/null!");
        };
        qx.Mixin.isCompatible(mixin, clazz);
      };
      qx.Class.__addMixin(clazz, mixin, true);
    },
    isSubClassOf : function(clazz, superClass){

      if(!clazz){

        return false;
      };
      if(clazz == superClass){

        return true;
      };
      if(clazz.prototype instanceof superClass){

        return true;
      };
      return false;
    },
    getPropertyDefinition : qx.util.OOUtil.getPropertyDefinition,
    getProperties : function(clazz){

      var list = [];
      while(clazz){

        if(clazz.$$properties){

          list.push.apply(list, Object.keys(clazz.$$properties));
        };
        clazz = clazz.superclass;
      };
      return list;
    },
    getByProperty : function(clazz, name){

      while(clazz){

        if(clazz.$$properties && clazz.$$properties[name]){

          return clazz;
        };
        clazz = clazz.superclass;
      };
      return null;
    },
    hasProperty : qx.util.OOUtil.hasProperty,
    getEventType : qx.util.OOUtil.getEventType,
    supportsEvent : qx.util.OOUtil.supportsEvent,
    hasOwnMixin : function(clazz, mixin){

      return clazz.$$includes && clazz.$$includes.indexOf(mixin) !== -1;
    },
    getByMixin : function(clazz, mixin){

      var list,i,l;
      while(clazz){

        if(clazz.$$includes){

          list = clazz.$$flatIncludes;
          for(i = 0,l = list.length;i < l;i++){

            if(list[i] === mixin){

              return clazz;
            };
          };
        };
        clazz = clazz.superclass;
      };
      return null;
    },
    getMixins : qx.util.OOUtil.getMixins,
    hasMixin : function(clazz, mixin){

      return !!this.getByMixin(clazz, mixin);
    },
    hasOwnInterface : function(clazz, iface){

      return clazz.$$implements && clazz.$$implements.indexOf(iface) !== -1;
    },
    getByInterface : qx.util.OOUtil.getByInterface,
    getInterfaces : function(clazz){

      var list = [];
      while(clazz){

        if(clazz.$$implements){

          list.push.apply(list, clazz.$$flatImplements);
        };
        clazz = clazz.superclass;
      };
      return list;
    },
    hasInterface : qx.util.OOUtil.hasInterface,
    implementsInterface : function(obj, iface){

      var clazz = obj.constructor;
      if(this.hasInterface(clazz, iface)){

        return true;
      };
      if(qx.Interface.objectImplements(obj, iface)){

        return true;
      };
      if(qx.Interface.classImplements(clazz, iface)){

        return true;
      };
      return false;
    },
    getInstance : function(){

      if(!this.$$instance){

        this.$$allowconstruct = true;
        this.$$instance = new this();
        delete this.$$allowconstruct;
      };
      return this.$$instance;
    },
    genericToString : function(){

      return "[Class " + this.classname + "]";
    },
    $$registry : qx.Bootstrap.$$registry,
    __allowedKeys : qx.core.Environment.select("qx.debug", {
      "true" : {
        "type" : "string",
        "extend" : "function",
        "implement" : "object",
        "include" : "object",
        "construct" : "function",
        "statics" : "object",
        "properties" : "object",
        "members" : "object",
        "environment" : "object",
        "events" : "object",
        "defer" : "function",
        "destruct" : "function"
      },
      "default" : null
    }),
    __staticAllowedKeys : qx.core.Environment.select("qx.debug", {
      "true" : {
        "type" : "string",
        "statics" : "object",
        "environment" : "object",
        "defer" : "function"
      },
      "default" : null
    }),
    __validateConfig : qx.core.Environment.select("qx.debug", {
      "true" : function(name, config){

        if(config.type && !(config.type === "static" || config.type === "abstract" || config.type === "singleton")){

          throw new Error('Invalid type "' + config.type + '" definition for class "' + name + '"!');
        };
        if(config.type && config.type !== "static" && !config.extend){

          throw new Error('Invalid config in class "' + name + '"! Every non-static class has to extend at least the "qx.core.Object" class.');
        };
        var allowed = config.type === "static" ? this.__staticAllowedKeys : this.__allowedKeys;
        for(var key in config){

          if(!allowed[key]){

            throw new Error('The configuration key "' + key + '" in class "' + name + '" is not allowed!');
          };
          if(config[key] == null){

            throw new Error('Invalid key "' + key + '" in class "' + name + '"! The value is undefined/null!');
          };
          if(typeof config[key] !== allowed[key]){

            throw new Error('Invalid type of key "' + key + '" in class "' + name + '"! The type of the key must be "' + allowed[key] + '"!');
          };
        };
        var maps = ["statics", "properties", "members", "environment", "settings", "variants", "events"];
        for(var i = 0,l = maps.length;i < l;i++){

          var key = maps[i];
          if(config[key] !== undefined && (config[key].$$hash !== undefined || !qx.Bootstrap.isObject(config[key]))){

            throw new Error('Invalid key "' + key + '" in class "' + name + '"! The value needs to be a map!');
          };
        };
        if(config.include){

          if(qx.Bootstrap.getClass(config.include) === "Array"){

            for(var i = 0,a = config.include,l = a.length;i < l;i++){

              if(a[i] == null || a[i].$$type !== "Mixin"){

                throw new Error('The include definition in class "' + name + '" contains an invalid mixin at position ' + i + ': ' + a[i]);
              };
            };
          } else {

            throw new Error('Invalid include definition in class "' + name + '"! Only mixins and arrays of mixins are allowed!');
          };
        };
        if(config.implement){

          if(qx.Bootstrap.getClass(config.implement) === "Array"){

            for(var i = 0,a = config.implement,l = a.length;i < l;i++){

              if(a[i] == null || a[i].$$type !== "Interface"){

                throw new Error('The implement definition in class "' + name + '" contains an invalid interface at position ' + i + ': ' + a[i]);
              };
            };
          } else {

            throw new Error('Invalid implement definition in class "' + name + '"! Only interfaces and arrays of interfaces are allowed!');
          };
        };
        if(config.include){

          try{

            qx.Mixin.checkCompatibility(config.include);
          } catch(ex) {

            throw new Error('Error in include definition of class "' + name + '"! ' + ex.message);
          };
        };
        if(config.environment){

          for(var key in config.environment){

            if(key.substr(0, key.indexOf(".")) != name.substr(0, name.indexOf("."))){

              throw new Error('Forbidden environment setting "' + key + '" found in "' + name + '". It is forbidden to define a ' + 'environment setting for an external namespace!');
            };
          };
        };
        if(config.settings){

          for(var key in config.settings){

            if(key.substr(0, key.indexOf(".")) != name.substr(0, name.indexOf("."))){

              throw new Error('Forbidden setting "' + key + '" found in "' + name + '". It is forbidden to define a default setting for an external namespace!');
            };
          };
        };
        if(config.variants){

          for(var key in config.variants){

            if(key.substr(0, key.indexOf(".")) != name.substr(0, name.indexOf("."))){

              throw new Error('Forbidden variant "' + key + '" found in "' + name + '". It is forbidden to define a variant for an external namespace!');
            };
          };
        };
      },
      "default" : function(name, config){
      }
    }),
    __validateAbstractInterfaces : qx.core.Environment.select("qx.debug", {
      "true" : function(clazz){

        var superclass = clazz.superclass;
        while(superclass){

          if(superclass.$$classtype !== "abstract"){

            break;
          };
          var interfaces = superclass.$$implements;
          if(interfaces){

            for(var i = 0;i < interfaces.length;i++){

              qx.Interface.assert(clazz, interfaces[i], true);
            };
          };
          superclass = superclass.superclass;
        };
      },
      "default" : function(clazz){
      }
    }),
    __createClass : function(name, type, extend, statics, construct, destruct, mixins){

      var clazz;
      if(!extend && qx.core.Environment.get("qx.aspects") == false){

        clazz = statics || {
        };
        qx.Bootstrap.setDisplayNames(clazz, name);
      } else {

        clazz = {
        };
        if(extend){

          if(!construct){

            construct = this.__createDefaultConstructor();
          };
          if(this.__needsConstructorWrapper(extend, mixins)){

            clazz = this.__wrapConstructor(construct, name, type);
          } else {

            clazz = construct;
          };
          if(type === "singleton"){

            clazz.getInstance = this.getInstance;
          };
          qx.Bootstrap.setDisplayName(construct, name, "constructor");
        };
        if(statics){

          qx.Bootstrap.setDisplayNames(statics, name);
          var key;
          for(var i = 0,a = Object.keys(statics),l = a.length;i < l;i++){

            key = a[i];
            var staticValue = statics[key];
            if(qx.core.Environment.get("qx.aspects")){

              if(staticValue instanceof Function){

                staticValue = qx.core.Aspect.wrap(name + "." + key, staticValue, "static");
              };
              clazz[key] = staticValue;
            } else {

              clazz[key] = staticValue;
            };
          };
        };
      };
      var basename = name ? qx.Bootstrap.createNamespace(name, clazz) : "";
      clazz.name = clazz.classname = name;
      clazz.basename = basename;
      clazz.$$type = "Class";
      if(type){

        clazz.$$classtype = type;
      };
      if(!clazz.hasOwnProperty("toString")){

        clazz.toString = this.genericToString;
      };
      if(extend){

        qx.Bootstrap.extendClass(clazz, construct, extend, name, basename);
        if(destruct){

          if(qx.core.Environment.get("qx.aspects")){

            destruct = qx.core.Aspect.wrap(name, destruct, "destructor");
          };
          clazz.$$destructor = destruct;
          qx.Bootstrap.setDisplayName(destruct, name, "destruct");
        };
      };
      this.$$registry[name] = clazz;
      return clazz;
    },
    __addEvents : function(clazz, events, patch){

      if(qx.core.Environment.get("qx.debug")){

        if(typeof events !== "object" || qx.Bootstrap.getClass(events) === "Array"){

          throw new Error(clazz.classname + ": the events must be defined as map!");
        };
        for(var key in events){

          if(typeof events[key] !== "string"){

            throw new Error(clazz.classname + "/" + key + ": the event value needs to be a string with the class name of the event object which will be fired.");
          };
        };
        if(clazz.$$events && patch !== true){

          for(var key in events){

            if(clazz.$$events[key] !== undefined && clazz.$$events[key] !== events[key]){

              throw new Error(clazz.classname + "/" + key + ": the event value/type cannot be changed from " + clazz.$$events[key] + " to " + events[key]);
            };
          };
        };
      };
      if(clazz.$$events){

        for(var key in events){

          clazz.$$events[key] = events[key];
        };
      } else {

        clazz.$$events = events;
      };
    },
    __addProperties : function(clazz, properties, patch){

      if(!qx.core.Environment.get("module.property")){

        throw new Error("Property module disabled.");
      };
      var config;
      if(patch === undefined){

        patch = false;
      };
      var proto = clazz.prototype;
      for(var name in properties){

        config = properties[name];
        if(qx.core.Environment.get("qx.debug")){

          this.__validateProperty(clazz, name, config, patch);
        };
        config.name = name;
        if(!config.refine){

          if(clazz.$$properties === undefined){

            clazz.$$properties = {
            };
          };
          clazz.$$properties[name] = config;
        };
        if(config.init !== undefined){

          clazz.prototype["$$init_" + name] = config.init;
        };
        if(config.event !== undefined){

          if(!qx.core.Environment.get("module.events")){

            throw new Error("Events module not enabled.");
          };
          var event = {
          };
          event[config.event] = "qx.event.type.Data";
          this.__addEvents(clazz, event, patch);
        };
        if(config.inheritable){

          this.__Property.$$inheritable[name] = true;
          if(!proto.$$refreshInheritables){

            this.__Property.attachRefreshInheritables(clazz);
          };
        };
        if(!config.refine){

          this.__Property.attachMethods(clazz, name, config);
        };
      };
    },
    __validateProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(clazz, name, config, patch){

        if(!qx.core.Environment.get("module.property")){

          throw new Error("Property module disabled.");
        };
        var has = this.hasProperty(clazz, name);
        if(has){

          var existingProperty = this.getPropertyDefinition(clazz, name);
          if(config.refine && existingProperty.init === undefined){

            throw new Error("Could not refine an init value if there was previously no init value defined. Property '" + name + "' of class '" + clazz.classname + "'.");
          };
        };
        if(!has && config.refine){

          throw new Error("Could not refine non-existent property: '" + name + "' of class: '" + clazz.classname + "'!");
        };
        if(has && !patch){

          throw new Error("Class " + clazz.classname + " already has a property: " + name + "!");
        };
        if(has && patch){

          if(!config.refine){

            throw new Error('Could not refine property "' + name + '" without a "refine" flag in the property definition! This class: ' + clazz.classname + ', original class: ' + this.getByProperty(clazz, name).classname + '.');
          };
          for(var key in config){

            if(key !== "init" && key !== "refine"){

              throw new Error("Class " + clazz.classname + " could not refine property: " + name + "! Key: " + key + " could not be refined!");
            };
          };
        };
        var allowed = config.group ? this.__Property.$$allowedGroupKeys : this.__Property.$$allowedKeys;
        for(var key in config){

          if(allowed[key] === undefined){

            throw new Error('The configuration key "' + key + '" of property "' + name + '" in class "' + clazz.classname + '" is not allowed!');
          };
          if(config[key] === undefined){

            throw new Error('Invalid key "' + key + '" of property "' + name + '" in class "' + clazz.classname + '"! The value is undefined: ' + config[key]);
          };
          if(allowed[key] !== null && typeof config[key] !== allowed[key]){

            throw new Error('Invalid type of key "' + key + '" of property "' + name + '" in class "' + clazz.classname + '"! The type of the key must be "' + allowed[key] + '"!');
          };
        };
        if(config.transform != null){

          if(!(typeof config.transform == "string")){

            throw new Error('Invalid transform definition of property "' + name + '" in class "' + clazz.classname + '"! Needs to be a String.');
          };
        };
        if(config.check != null){

          if(!qx.Bootstrap.isString(config.check) && !qx.Bootstrap.isArray(config.check) && !qx.Bootstrap.isFunction(config.check)){

            throw new Error('Invalid check definition of property "' + name + '" in class "' + clazz.classname + '"! Needs to be a String, Array or Function.');
          };
        };
      },
      "default" : null
    }),
    __addMembers : function(clazz, members, patch, base, wrap){

      var proto = clazz.prototype;
      var key,member;
      qx.Bootstrap.setDisplayNames(members, clazz.classname + ".prototype");
      for(var i = 0,a = Object.keys(members),l = a.length;i < l;i++){

        key = a[i];
        member = members[key];
        if(qx.core.Environment.get("qx.debug")){

          if(proto[key] !== undefined && key.charAt(0) == "_" && key.charAt(1) == "_"){

            throw new Error('Overwriting private member "' + key + '" of Class "' + clazz.classname + '" is not allowed!');
          };
          if(patch !== true && proto.hasOwnProperty(key)){

            throw new Error('Overwriting member "' + key + '" of Class "' + clazz.classname + '" is not allowed!');
          };
          if(proto[key] != undefined && proto[key].$$propertyMethod){

            throw new Error('Overwriting generated property method "' + key + '" of Class "' + clazz.classname + '" is not allowed!');
          };
        };
        if(base !== false && member instanceof Function && member.$$type == null){

          if(wrap == true){

            member = this.__mixinMemberWrapper(member, proto[key]);
          } else {

            if(proto[key]){

              member.base = proto[key];
            };
            member.self = clazz;
          };
          if(qx.core.Environment.get("qx.aspects")){

            member = qx.core.Aspect.wrap(clazz.classname + "." + key, member, "member");
          };
        };
        proto[key] = member;
      };
    },
    __mixinMemberWrapper : function(member, base){

      if(base){

        return function(){

          var oldBase = member.base;
          member.base = base;
          var retval = member.apply(this, arguments);
          member.base = oldBase;
          return retval;
        };
      } else {

        return member;
      };
    },
    __addInterface : function(clazz, iface){

      if(qx.core.Environment.get("qx.debug")){

        if(!clazz || !iface){

          throw new Error("Incomplete parameters!");
        };
        if(this.hasOwnInterface(clazz, iface)){

          throw new Error('Interface "' + iface.name + '" is already used by Class "' + clazz.classname + '!');
        };
        if(clazz.$$classtype !== "abstract"){

          qx.Interface.assert(clazz, iface, true);
        };
      };
      var list = qx.Interface.flatten([iface]);
      if(clazz.$$implements){

        clazz.$$implements.push(iface);
        clazz.$$flatImplements.push.apply(clazz.$$flatImplements, list);
      } else {

        clazz.$$implements = [iface];
        clazz.$$flatImplements = list;
      };
    },
    __retrospectWrapConstruct : function(clazz){

      var name = clazz.classname;
      var wrapper = this.__wrapConstructor(clazz, name, clazz.$$classtype);
      for(var i = 0,a = Object.keys(clazz),l = a.length;i < l;i++){

        key = a[i];
        wrapper[key] = clazz[key];
      };
      wrapper.prototype = clazz.prototype;
      var members = clazz.prototype;
      for(var i = 0,a = Object.keys(members),l = a.length;i < l;i++){

        key = a[i];
        var method = members[key];
        if(method && method.self == clazz){

          method.self = wrapper;
        };
      };
      for(var key in this.$$registry){

        var construct = this.$$registry[key];
        if(!construct){

          continue;
        };
        if(construct.base == clazz){

          construct.base = wrapper;
        };
        if(construct.superclass == clazz){

          construct.superclass = wrapper;
        };
        if(construct.$$original){

          if(construct.$$original.base == clazz){

            construct.$$original.base = wrapper;
          };
          if(construct.$$original.superclass == clazz){

            construct.$$original.superclass = wrapper;
          };
        };
      };
      qx.Bootstrap.createNamespace(name, wrapper);
      this.$$registry[name] = wrapper;
      return wrapper;
    },
    __addMixin : function(clazz, mixin, patch){

      if(qx.core.Environment.get("qx.debug")){

        if(!clazz || !mixin){

          throw new Error("Incomplete parameters!");
        };
      };
      if(this.hasMixin(clazz, mixin)){

        return;
      };
      var isConstructorWrapped = clazz.$$original;
      if(mixin.$$constructor && !isConstructorWrapped){

        clazz = this.__retrospectWrapConstruct(clazz);
      };
      var list = qx.Mixin.flatten([mixin]);
      var entry;
      for(var i = 0,l = list.length;i < l;i++){

        entry = list[i];
        if(entry.$$events){

          this.__addEvents(clazz, entry.$$events, patch);
        };
        if(entry.$$properties){

          this.__addProperties(clazz, entry.$$properties, patch);
        };
        if(entry.$$members){

          this.__addMembers(clazz, entry.$$members, patch, patch, patch);
        };
      };
      if(clazz.$$includes){

        clazz.$$includes.push(mixin);
        clazz.$$flatIncludes.push.apply(clazz.$$flatIncludes, list);
      } else {

        clazz.$$includes = [mixin];
        clazz.$$flatIncludes = list;
      };
    },
    __createDefaultConstructor : function(){

      function defaultConstructor(){

        defaultConstructor.base.apply(this, arguments);
      };
      return defaultConstructor;
    },
    __createEmptyFunction : function(){

      return function(){
      };
    },
    __needsConstructorWrapper : function(base, mixins){

      if(qx.core.Environment.get("qx.debug")){

        return true;
      };
      if(base && base.$$includes){

        var baseMixins = base.$$flatIncludes;
        for(var i = 0,l = baseMixins.length;i < l;i++){

          if(baseMixins[i].$$constructor){

            return true;
          };
        };
      };
      if(mixins){

        var flatMixins = qx.Mixin.flatten(mixins);
        for(var i = 0,l = flatMixins.length;i < l;i++){

          if(flatMixins[i].$$constructor){

            return true;
          };
        };
      };
      return false;
    },
    __wrapConstructor : function(construct, name, type){

      var wrapper = function(){

        var clazz = wrapper;
        if(qx.core.Environment.get("qx.debug")){

          if(!(this instanceof clazz)){

            throw new Error("Please initialize '" + name + "' objects using the new keyword!");
          };
          if(type === "abstract"){

            if(this.classname === name){

              throw new Error("The class '," + name + "' is abstract! It is not possible to instantiate it.");
            };
          } else if(type === "singleton"){

            if(!clazz.$$allowconstruct){

              throw new Error("The class '" + name + "' is a singleton! It is not possible to instantiate it directly. Use the static getInstance() method instead.");
            };
          };
        };
        var retval = clazz.$$original.apply(this, arguments);
        if(clazz.$$includes){

          var mixins = clazz.$$flatIncludes;
          for(var i = 0,l = mixins.length;i < l;i++){

            if(mixins[i].$$constructor){

              mixins[i].$$constructor.apply(this, arguments);
            };
          };
        };
        if(qx.core.Environment.get("qx.debug")){

          if(this.classname === name){

            this.$$initialized = true;
          };
        };
        return retval;
      };
      if(qx.core.Environment.get("qx.aspects")){

        var aspectWrapper = qx.core.Aspect.wrap(name, wrapper, "constructor");
        wrapper.$$original = construct;
        wrapper.constructor = aspectWrapper;
        wrapper = aspectWrapper;
      };
      wrapper.$$original = construct;
      construct.wrapper = wrapper;
      return wrapper;
    }
  },
  defer : function(){

    if(qx.core.Environment.get("qx.aspects")){

      for(var classname in qx.Bootstrap.$$registry){

        var statics = qx.Bootstrap.$$registry[classname];
        for(var key in statics){

          if(statics[key] instanceof Function){

            statics[key] = qx.core.Aspect.wrap(classname + "." + key, statics[key], "static");
          };
        };
      };
    };
  }
});

qx.Mixin.define("qx.data.MBinding", {
  members : {
    bind : function(sourcePropertyChain, targetObject, targetProperty, options){

      return qx.data.SingleValueBinding.bind(this, sourcePropertyChain, targetObject, targetProperty, options);
    },
    removeBinding : function(id){

      qx.data.SingleValueBinding.removeBindingFromObject(this, id);
    },
    removeAllBindings : function(){

      qx.data.SingleValueBinding.removeAllBindingsForObject(this);
    },
    getBindings : function(){

      return qx.data.SingleValueBinding.getAllBindingsForObject(this);
    }
  }
});

qx.Class.define("qx.data.SingleValueBinding", {
  statics : {
    __bindings : {
    },
    bind : function(sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertObject(sourceObject, "sourceObject");
        qx.core.Assert.assertString(sourcePropertyChain, "sourcePropertyChain");
        qx.core.Assert.assertObject(targetObject, "targetObject");
        qx.core.Assert.assertString(targetPropertyChain, "targetPropertyChain");
      };
      var targetListenerMap = this.__setUpTargetBinding(sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options);
      var propertyNames = sourcePropertyChain.split(".");
      var arrayIndexValues = this.__checkForArrayInPropertyChain(propertyNames);
      var sources = [];
      var listeners = [];
      var listenerIds = [];
      var eventNames = [];
      var source = sourceObject;
      try{

        for(var i = 0;i < propertyNames.length;i++){

          if(arrayIndexValues[i] !== ""){

            eventNames.push("change");
          } else {

            eventNames.push(this.__getEventNameForProperty(source, propertyNames[i]));
          };
          sources[i] = source;
          if(i == propertyNames.length - 1){

            if(arrayIndexValues[i] !== ""){

              var itemIndex = arrayIndexValues[i] === "last" ? source.length - 1 : arrayIndexValues[i];
              var currentValue = source.getItem(itemIndex);
              this.__setInitialValue(currentValue, targetObject, targetPropertyChain, options, sourceObject);
              listenerIds[i] = this.__bindEventToProperty(source, eventNames[i], targetObject, targetPropertyChain, options, arrayIndexValues[i]);
            } else {

              if(propertyNames[i] != null && source["get" + qx.lang.String.firstUp(propertyNames[i])] != null){

                var currentValue = source["get" + qx.lang.String.firstUp(propertyNames[i])]();
                this.__setInitialValue(currentValue, targetObject, targetPropertyChain, options, sourceObject);
              };
              listenerIds[i] = this.__bindEventToProperty(source, eventNames[i], targetObject, targetPropertyChain, options);
            };
          } else {

            var context = {
              index : i,
              propertyNames : propertyNames,
              sources : sources,
              listenerIds : listenerIds,
              arrayIndexValues : arrayIndexValues,
              targetObject : targetObject,
              targetPropertyChain : targetPropertyChain,
              options : options,
              listeners : listeners
            };
            var listener = qx.lang.Function.bind(this.__chainListener, this, context);
            listeners.push(listener);
            listenerIds[i] = source.addListener(eventNames[i], listener);
          };
          if(source["get" + qx.lang.String.firstUp(propertyNames[i])] == null){

            source = undefined;
          } else if(arrayIndexValues[i] !== ""){

            var itemIndex = arrayIndexValues[i] === "last" ? source.length - 1 : arrayIndexValues[i];
            source = source["get" + qx.lang.String.firstUp(propertyNames[i])](itemIndex);
          } else {

            source = source["get" + qx.lang.String.firstUp(propertyNames[i])]();
            if(source === null && (propertyNames.length - 1) != i){

              source = undefined;
            };
          };
          if(!source){

            this.__setInitialValue(source, targetObject, targetPropertyChain, options, sourceObject);
            break;
          };
        };
      } catch(ex) {

        for(var i = 0;i < sources.length;i++){

          if(sources[i] && listenerIds[i]){

            sources[i].removeListenerById(listenerIds[i]);
          };
        };
        var targets = targetListenerMap.targets;
        var targetIds = targetListenerMap.listenerIds;
        for(var i = 0;i < targets.length;i++){

          if(targets[i] && targetIds[i]){

            targets[i].removeListenerById(targetIds[i]);
          };
        };
        throw ex;
      };
      var id = {
        type : "deepBinding",
        listenerIds : listenerIds,
        sources : sources,
        targetListenerIds : targetListenerMap.listenerIds,
        targets : targetListenerMap.targets
      };
      this.__storeBinding(id, sourceObject, sourcePropertyChain, targetObject, targetPropertyChain);
      return id;
    },
    __chainListener : function(context){

      if(context.options && context.options.onUpdate){

        context.options.onUpdate(context.sources[context.index], context.targetObject);
      };
      for(var j = context.index + 1;j < context.propertyNames.length;j++){

        var source = context.sources[j];
        context.sources[j] = null;
        if(!source){

          continue;
        };
        source.removeListenerById(context.listenerIds[j]);
      };
      var source = context.sources[context.index];
      for(var j = context.index + 1;j < context.propertyNames.length;j++){

        if(context.arrayIndexValues[j - 1] !== ""){

          source = source["get" + qx.lang.String.firstUp(context.propertyNames[j - 1])](context.arrayIndexValues[j - 1]);
        } else {

          source = source["get" + qx.lang.String.firstUp(context.propertyNames[j - 1])]();
        };
        context.sources[j] = source;
        if(!source){

          if(context.options && context.options.converter){

            var ignoreConverter = false;
            if(context.options.ignoreConverter){

              var currentSourceChain = context.propertyNames.slice(0, j).join(".");
              var match = currentSourceChain.match(new RegExp("^" + context.options.ignoreConverter));
              ignoreConverter = match ? match.length > 0 : false;
            };
            if(!ignoreConverter){

              this.__setTargetValue(context.targetObject, context.targetPropertyChain, context.options.converter());
            } else {

              this.__resetTargetValue(context.targetObject, context.targetPropertyChain);
            };
          } else {

            this.__resetTargetValue(context.targetObject, context.targetPropertyChain);
          };
          break;
        };
        if(j == context.propertyNames.length - 1){

          if(qx.Class.implementsInterface(source, qx.data.IListData)){

            var itemIndex = context.arrayIndexValues[j] === "last" ? source.length - 1 : context.arrayIndexValues[j];
            var currentValue = source.getItem(itemIndex);
            this.__setInitialValue(currentValue, context.targetObject, context.targetPropertyChain, context.options, context.sources[context.index]);
            context.listenerIds[j] = this.__bindEventToProperty(source, "change", context.targetObject, context.targetPropertyChain, context.options, context.arrayIndexValues[j]);
          } else {

            if(context.propertyNames[j] != null && source["get" + qx.lang.String.firstUp(context.propertyNames[j])] != null){

              var currentValue = source["get" + qx.lang.String.firstUp(context.propertyNames[j])]();
              this.__setInitialValue(currentValue, context.targetObject, context.targetPropertyChain, context.options, context.sources[context.index]);
            };
            var eventName = this.__getEventNameForProperty(source, context.propertyNames[j]);
            context.listenerIds[j] = this.__bindEventToProperty(source, eventName, context.targetObject, context.targetPropertyChain, context.options);
          };
        } else {

          if(context.listeners[j] == null){

            var listener = qx.lang.Function.bind(this.__chainListener, this, context);
            context.listeners.push(listener);
          };
          if(qx.Class.implementsInterface(source, qx.data.IListData)){

            var eventName = "change";
          } else {

            var eventName = this.__getEventNameForProperty(source, context.propertyNames[j]);
          };
          context.listenerIds[j] = source.addListener(eventName, context.listeners[j]);
        };
      };
    },
    __setUpTargetBinding : function(sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options){

      var propertyNames = targetPropertyChain.split(".");
      var arrayIndexValues = this.__checkForArrayInPropertyChain(propertyNames);
      var targets = [];
      var listeners = [];
      var listenerIds = [];
      var eventNames = [];
      var target = targetObject;
      for(var i = 0;i < propertyNames.length - 1;i++){

        if(arrayIndexValues[i] !== ""){

          eventNames.push("change");
        } else {

          try{

            eventNames.push(this.__getEventNameForProperty(target, propertyNames[i]));
          } catch(e) {

            break;
          };
        };
        targets[i] = target;
        var listener = function(){

          for(var j = i + 1;j < propertyNames.length - 1;j++){

            var target = targets[j];
            targets[j] = null;
            if(!target){

              continue;
            };
            target.removeListenerById(listenerIds[j]);
          };
          var target = targets[i];
          for(var j = i + 1;j < propertyNames.length - 1;j++){

            var firstUpPropName = qx.lang.String.firstUp(propertyNames[j - 1]);
            if(arrayIndexValues[j - 1] !== ""){

              var currentIndex = arrayIndexValues[j - 1] === "last" ? target.getLength() - 1 : arrayIndexValues[j - 1];
              target = target["get" + firstUpPropName](currentIndex);
            } else {

              target = target["get" + firstUpPropName]();
            };
            targets[j] = target;
            if(listeners[j] == null){

              listeners.push(listener);
            };
            if(qx.Class.implementsInterface(target, qx.data.IListData)){

              var eventName = "change";
            } else {

              try{

                var eventName = qx.data.SingleValueBinding.__getEventNameForProperty(target, propertyNames[j]);
              } catch(e) {

                break;
              };
            };
            listenerIds[j] = target.addListener(eventName, listeners[j]);
          };
          qx.data.SingleValueBinding.updateTarget(sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options);
        };
        listeners.push(listener);
        listenerIds[i] = target.addListener(eventNames[i], listener);
        var firstUpPropName = qx.lang.String.firstUp(propertyNames[i]);
        if(target["get" + firstUpPropName] == null){

          target = null;
        } else if(arrayIndexValues[i] !== ""){

          target = target["get" + firstUpPropName](arrayIndexValues[i]);
        } else {

          target = target["get" + firstUpPropName]();
        };
        if(!target){

          break;
        };
      };
      return {
        listenerIds : listenerIds,
        targets : targets
      };
    },
    updateTarget : function(sourceObject, sourcePropertyChain, targetObject, targetPropertyChain, options){

      var value = this.resolvePropertyChain(sourceObject, sourcePropertyChain);
      value = qx.data.SingleValueBinding.__convertValue(value, targetObject, targetPropertyChain, options, sourceObject);
      this.__setTargetValue(targetObject, targetPropertyChain, value);
    },
    resolvePropertyChain : function(o, propertyChain){

      var source = this.__getTargetFromChain(o, propertyChain);
      var value;
      if(source != null){

        var lastProperty = propertyChain.substring(propertyChain.lastIndexOf(".") + 1, propertyChain.length);
        if(lastProperty.charAt(lastProperty.length - 1) == "]"){

          var index = lastProperty.substring(lastProperty.lastIndexOf("[") + 1, lastProperty.length - 1);
          var prop = lastProperty.substring(0, lastProperty.lastIndexOf("["));
          var sourceArray = source["get" + qx.lang.String.firstUp(prop)]();
          if(index == "last"){

            index = sourceArray.length - 1;
          };
          if(sourceArray != null){

            value = sourceArray.getItem(index);
          };
        } else {

          value = source["get" + qx.lang.String.firstUp(lastProperty)]();
        };
      };
      return value;
    },
    __getEventNameForProperty : function(source, propertyname){

      var eventName = this.__getEventForProperty(source, propertyname);
      if(eventName == null){

        if(qx.Class.supportsEvent(source.constructor, propertyname)){

          eventName = propertyname;
        } else if(qx.Class.supportsEvent(source.constructor, "change" + qx.lang.String.firstUp(propertyname))){

          eventName = "change" + qx.lang.String.firstUp(propertyname);
        } else {

          throw new qx.core.AssertionError("Binding property " + propertyname + " of object " + source + " not possible: No event available. ");
        };
      };
      return eventName;
    },
    __resetTargetValue : function(targetObject, targetPropertyChain){

      var target = this.__getTargetFromChain(targetObject, targetPropertyChain);
      if(target != null){

        var lastProperty = targetPropertyChain.substring(targetPropertyChain.lastIndexOf(".") + 1, targetPropertyChain.length);
        if(lastProperty.charAt(lastProperty.length - 1) == "]"){

          this.__setTargetValue(targetObject, targetPropertyChain, null);
          return;
        };
        if(target["reset" + qx.lang.String.firstUp(lastProperty)] != undefined){

          target["reset" + qx.lang.String.firstUp(lastProperty)]();
        } else {

          target["set" + qx.lang.String.firstUp(lastProperty)](null);
        };
      };
    },
    __setTargetValue : function(targetObject, targetPropertyChain, value){

      var target = this.__getTargetFromChain(targetObject, targetPropertyChain);
      if(target != null){

        var lastProperty = targetPropertyChain.substring(targetPropertyChain.lastIndexOf(".") + 1, targetPropertyChain.length);
        if(lastProperty.charAt(lastProperty.length - 1) == "]"){

          var index = lastProperty.substring(lastProperty.lastIndexOf("[") + 1, lastProperty.length - 1);
          var prop = lastProperty.substring(0, lastProperty.lastIndexOf("["));
          var targetArray = targetObject;
          if(!qx.Class.implementsInterface(targetArray, qx.data.IListData)){

            targetArray = target["get" + qx.lang.String.firstUp(prop)]();
          };
          if(index == "last"){

            index = targetArray.length - 1;
          };
          if(targetArray != null){

            targetArray.setItem(index, value);
          };
        } else {

          target["set" + qx.lang.String.firstUp(lastProperty)](value);
        };
      };
    },
    __getTargetFromChain : function(targetObject, targetPropertyChain){

      var properties = targetPropertyChain.split(".");
      var target = targetObject;
      for(var i = 0;i < properties.length - 1;i++){

        try{

          var property = properties[i];
          if(property.indexOf("]") == property.length - 1){

            var index = property.substring(property.indexOf("[") + 1, property.length - 1);
            property = property.substring(0, property.indexOf("["));
          };
          if(property != ""){

            target = target["get" + qx.lang.String.firstUp(property)]();
          };
          if(index != null){

            if(index == "last"){

              index = target.length - 1;
            };
            target = target.getItem(index);
            index = null;
          };
        } catch(ex) {

          return null;
        };
      };
      return target;
    },
    __setInitialValue : function(value, targetObject, targetPropertyChain, options, sourceObject){

      value = this.__convertValue(value, targetObject, targetPropertyChain, options, sourceObject);
      if(value === undefined){

        this.__resetTargetValue(targetObject, targetPropertyChain);
      };
      if(value !== undefined){

        try{

          this.__setTargetValue(targetObject, targetPropertyChain, value);
          if(options && options.onUpdate){

            options.onUpdate(sourceObject, targetObject, value);
          };
        } catch(e) {

          if(!(e instanceof qx.core.ValidationError)){

            throw e;
          };
          if(options && options.onSetFail){

            options.onSetFail(e);
          } else {

            qx.log.Logger.warn("Failed so set value " + value + " on " + targetObject + ". Error message: " + e);
          };
        };
      };
    },
    __checkForArrayInPropertyChain : function(propertyNames){

      var arrayIndexValues = [];
      for(var i = 0;i < propertyNames.length;i++){

        var name = propertyNames[i];
        if(qx.lang.String.endsWith(name, "]")){

          var arrayIndex = name.substring(name.indexOf("[") + 1, name.indexOf("]"));
          if(name.indexOf("]") != name.length - 1){

            throw new Error("Please use only one array at a time: " + name + " does not work.");
          };
          if(arrayIndex !== "last"){

            if(arrayIndex == "" || isNaN(parseInt(arrayIndex, 10))){

              throw new Error("No number or 'last' value hast been given" + " in an array binding: " + name + " does not work.");
            };
          };
          if(name.indexOf("[") != 0){

            propertyNames[i] = name.substring(0, name.indexOf("["));
            arrayIndexValues[i] = "";
            arrayIndexValues[i + 1] = arrayIndex;
            propertyNames.splice(i + 1, 0, "item");
            i++;
          } else {

            arrayIndexValues[i] = arrayIndex;
            propertyNames.splice(i, 1, "item");
          };
        } else {

          arrayIndexValues[i] = "";
        };
      };
      return arrayIndexValues;
    },
    __bindEventToProperty : function(sourceObject, sourceEvent, targetObject, targetProperty, options, arrayIndex){

      if(qx.core.Environment.get("qx.debug")){

        var eventType = qx.Class.getEventType(sourceObject.constructor, sourceEvent);
        qx.core.Assert.assertEquals("qx.event.type.Data", eventType, sourceEvent + " is not an data (qx.event.type.Data) event on " + sourceObject + ".");
      };
      var bindListener = function(arrayIndex, e){

        if(arrayIndex !== ""){

          if(arrayIndex === "last"){

            arrayIndex = sourceObject.length - 1;
          };
          var data = sourceObject.getItem(arrayIndex);
          if(data === undefined){

            qx.data.SingleValueBinding.__resetTargetValue(targetObject, targetProperty);
          };
          var start = e.getData().start;
          var end = e.getData().end;
          if(arrayIndex < start || arrayIndex > end){

            return;
          };
        } else {

          var data = e.getData();
        };
        if(qx.core.Environment.get("qx.debug.databinding")){

          qx.log.Logger.debug("Binding executed from " + sourceObject + " by " + sourceEvent + " to " + targetObject + " (" + targetProperty + ")");
          qx.log.Logger.debug("Data before conversion: " + data);
        };
        data = qx.data.SingleValueBinding.__convertValue(data, targetObject, targetProperty, options, sourceObject);
        if(qx.core.Environment.get("qx.debug.databinding")){

          qx.log.Logger.debug("Data after conversion: " + data);
        };
        try{

          if(data !== undefined){

            qx.data.SingleValueBinding.__setTargetValue(targetObject, targetProperty, data);
          } else {

            qx.data.SingleValueBinding.__resetTargetValue(targetObject, targetProperty);
          };
          if(options && options.onUpdate){

            options.onUpdate(sourceObject, targetObject, data);
          };
        } catch(ex) {

          if(!(ex instanceof qx.core.ValidationError)){

            throw ex;
          };
          if(options && options.onSetFail){

            options.onSetFail(ex);
          } else {

            qx.log.Logger.warn("Failed so set value " + data + " on " + targetObject + ". Error message: " + ex);
          };
        };
      };
      if(!arrayIndex){

        arrayIndex = "";
      };
      bindListener = qx.lang.Function.bind(bindListener, sourceObject, arrayIndex);
      var id = sourceObject.addListener(sourceEvent, bindListener);
      return id;
    },
    __storeBinding : function(id, sourceObject, sourceEvent, targetObject, targetProperty){

      if(this.__bindings[sourceObject.toHashCode()] === undefined){

        this.__bindings[sourceObject.toHashCode()] = [];
      };
      this.__bindings[sourceObject.toHashCode()].push([id, sourceObject, sourceEvent, targetObject, targetProperty]);
    },
    __convertValue : function(value, targetObject, targetPropertyChain, options, sourceObject){

      if(options && options.converter){

        var model;
        if(targetObject.getModel){

          model = targetObject.getModel();
        };
        return options.converter(value, model, sourceObject, targetObject);
      } else {

        var target = this.__getTargetFromChain(targetObject, targetPropertyChain);
        var lastProperty = targetPropertyChain.substring(targetPropertyChain.lastIndexOf(".") + 1, targetPropertyChain.length);
        if(target == null){

          return value;
        };
        var propertieDefinition = qx.Class.getPropertyDefinition(target.constructor, lastProperty);
        var check = propertieDefinition == null ? "" : propertieDefinition.check;
        return this.__defaultConversion(value, check);
      };
    },
    __getEventForProperty : function(sourceObject, sourceProperty){

      var propertieDefinition = qx.Class.getPropertyDefinition(sourceObject.constructor, sourceProperty);
      if(propertieDefinition == null){

        return null;
      };
      return propertieDefinition.event;
    },
    __defaultConversion : function(data, targetCheck){

      var dataType = qx.lang.Type.getClass(data);
      if((dataType == "Number" || dataType == "String") && (targetCheck == "Integer" || targetCheck == "PositiveInteger")){

        data = parseInt(data, 10);
      };
      if((dataType == "Boolean" || dataType == "Number" || dataType == "Date") && targetCheck == "String"){

        data = data + "";
      };
      if((dataType == "Number" || dataType == "String") && (targetCheck == "Number" || targetCheck == "PositiveNumber")){

        data = parseFloat(data);
      };
      return data;
    },
    removeBindingFromObject : function(sourceObject, id){

      if(id.type == "deepBinding"){

        for(var i = 0;i < id.sources.length;i++){

          if(id.sources[i]){

            id.sources[i].removeListenerById(id.listenerIds[i]);
          };
        };
        for(var i = 0;i < id.targets.length;i++){

          if(id.targets[i]){

            id.targets[i].removeListenerById(id.targetListenerIds[i]);
          };
        };
      } else {

        sourceObject.removeListenerById(id);
      };
      var bindings = this.__bindings[sourceObject.toHashCode()];
      if(bindings != undefined){

        for(var i = 0;i < bindings.length;i++){

          if(bindings[i][0] == id){

            qx.lang.Array.remove(bindings, bindings[i]);
            return;
          };
        };
      };
      throw new Error("Binding could not be found!");
    },
    removeAllBindingsForObject : function(object){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertNotNull(object, "Can not remove the bindings for null object!");
      };
      var bindings = this.__bindings[object.toHashCode()];
      if(bindings != undefined){

        for(var i = bindings.length - 1;i >= 0;i--){

          this.removeBindingFromObject(object, bindings[i][0]);
        };
      };
    },
    getAllBindingsForObject : function(object){

      if(this.__bindings[object.toHashCode()] === undefined){

        this.__bindings[object.toHashCode()] = [];
      };
      return this.__bindings[object.toHashCode()];
    },
    removeAllBindings : function(){

      for(var hash in this.__bindings){

        var object = qx.core.ObjectRegistry.fromHashCode(hash);
        if(object == null){

          delete this.__bindings[hash];
          continue;
        };
        this.removeAllBindingsForObject(object);
      };
      this.__bindings = {
      };
    },
    getAllBindings : function(){

      return this.__bindings;
    },
    showBindingInLog : function(object, id){

      var binding;
      for(var i = 0;i < this.__bindings[object.toHashCode()].length;i++){

        if(this.__bindings[object.toHashCode()][i][0] == id){

          binding = this.__bindings[object.toHashCode()][i];
          break;
        };
      };
      if(binding === undefined){

        var message = "Binding does not exist!";
      } else {

        var message = "Binding from '" + binding[1] + "' (" + binding[2] + ") to the object '" + binding[3] + "' (" + binding[4] + ").";
      };
      qx.log.Logger.debug(message);
    },
    showAllBindingsInLog : function(){

      for(var hash in this.__bindings){

        var object = qx.core.ObjectRegistry.fromHashCode(hash);
        for(var i = 0;i < this.__bindings[hash].length;i++){

          this.showBindingInLog(object, this.__bindings[hash][i][0]);
        };
      };
    }
  }
});

qx.Bootstrap.define("qx.lang.Type", {
  statics : {
    getClass : qx.Bootstrap.getClass,
    isString : qx.Bootstrap.isString,
    isArray : qx.Bootstrap.isArray,
    isObject : qx.Bootstrap.isObject,
    isFunction : qx.Bootstrap.isFunction,
    isRegExp : function(value){

      return this.getClass(value) == "RegExp";
    },
    isNumber : function(value){

      return (value !== null && (this.getClass(value) == "Number" || value instanceof Number));
    },
    isBoolean : function(value){

      return (value !== null && (this.getClass(value) == "Boolean" || value instanceof Boolean));
    },
    isDate : function(value){

      return (value !== null && (this.getClass(value) == "Date" || value instanceof Date));
    },
    isError : function(value){

      return (value !== null && (this.getClass(value) == "Error" || value instanceof Error));
    }
  }
});

qx.Class.define("qx.core.Assert", {
  statics : {
    __logError : true,
    __fail : function(comment, msgvarargs){

      var msg = "";
      for(var i = 1,l = arguments.length;i < l;i++){

        msg = msg + this.__toString(arguments[i] === undefined ? "'undefined'" : arguments[i]);
      };
      var fullComment = "";
      if(msg){

        fullComment = comment + ": " + msg;
      } else {

        fullComment = comment;
      };
      var errorMsg = "Assertion error! " + fullComment;
      if(qx.Class.isDefined("qx.core.AssertionError")){

        var err = new qx.core.AssertionError(comment, msg);
        if(this.__logError){

          qx.Bootstrap.error(errorMsg + "\n Stack trace: \n" + err.getStackTrace());
        };
        throw err;
      } else {

        if(this.__logError){

          qx.Bootstrap.error(errorMsg);
        };
        throw new Error(errorMsg);
      };
    },
    __toString : function(value){

      var stringValue;
      if(value === null){

        stringValue = "null";
      } else if(qx.lang.Type.isArray(value) && value.length > 10){

        stringValue = "Array[" + value.length + "]";
      } else if((value instanceof Object) && (value.toString == null)){

        stringValue = qx.lang.Json.stringify(value, null, 2);
      } else {

        try{

          stringValue = value.toString();
        } catch(e) {

          stringValue = "";
        };
      };;
      return stringValue;
    },
    assert : function(condition, msg){

      condition == true || this.__fail(msg || "", "Called assert with 'false'");
    },
    fail : function(msg, compact){

      var msgvarargs = compact ? "" : "Called fail().";
      this.__fail(msg || "", msgvarargs);
    },
    assertTrue : function(value, msg){

      (value === true) || this.__fail(msg || "", "Called assertTrue with '", value, "'");
    },
    assertFalse : function(value, msg){

      (value === false) || this.__fail(msg || "", "Called assertFalse with '", value, "'");
    },
    assertEquals : function(expected, found, msg){

      expected == found || this.__fail(msg || "", "Expected '", expected, "' but found '", found, "'!");
    },
    assertNotEquals : function(expected, found, msg){

      expected != found || this.__fail(msg || "", "Expected '", expected, "' to be not equal with '", found, "'!");
    },
    assertIdentical : function(expected, found, msg){

      expected === found || this.__fail(msg || "", "Expected '", expected, "' (identical) but found '", found, "'!");
    },
    assertNotIdentical : function(expected, found, msg){

      expected !== found || this.__fail(msg || "", "Expected '", expected, "' to be not identical with '", found, "'!");
    },
    assertNotUndefined : function(value, msg){

      value !== undefined || this.__fail(msg || "", "Expected value not to be undefined but found undefined!");
    },
    assertUndefined : function(value, msg){

      value === undefined || this.__fail(msg || "", "Expected value to be undefined but found ", value, "!");
    },
    assertNotNull : function(value, msg){

      value !== null || this.__fail(msg || "", "Expected value not to be null but found null!");
    },
    assertNull : function(value, msg){

      value === null || this.__fail(msg || "", "Expected value to be null but found ", value, "!");
    },
    assertJsonEquals : function(expected, found, msg){

      this.assertEquals(qx.lang.Json.stringify(expected), qx.lang.Json.stringify(found), msg);
    },
    assertMatch : function(str, re, msg){

      this.assertString(str);
      this.assert(qx.lang.Type.isRegExp(re) || qx.lang.Type.isString(re), "The parameter 're' must be a string or a regular expression.");
      str.search(re) >= 0 || this.__fail(msg || "", "The String '", str, "' does not match the regular expression '", re.toString(), "'!");
    },
    assertArgumentsCount : function(args, minCount, maxCount, msg){

      var argCount = args.length;
      (argCount >= minCount && argCount <= maxCount) || this.__fail(msg || "", "Wrong number of arguments given. Expected '", minCount, "' to '", maxCount, "' arguments but found '", argCount, "' arguments.");
    },
    assertEventFired : function(obj, event, invokeFunc, listenerFunc, msg){

      var called = false;
      var listener = function(e){

        if(listenerFunc){

          listenerFunc.call(obj, e);
        };
        called = true;
      };
      var id;
      try{

        id = obj.addListener(event, listener, obj);
        invokeFunc.call(obj);
      } catch(ex) {

        throw ex;
      }finally{

        try{

          obj.removeListenerById(id);
        } catch(ex) {
        };
      };
      called === true || this.__fail(msg || "", "Event (", event, ") not fired.");
    },
    assertEventNotFired : function(obj, event, invokeFunc, msg){

      var called = false;
      var listener = function(e){

        called = true;
      };
      var id = obj.addListener(event, listener, obj);
      invokeFunc.call();
      called === false || this.__fail(msg || "", "Event (", event, ") was fired.");
      obj.removeListenerById(id);
    },
    assertException : function(callback, exception, re, msg){

      var exception = exception || Error;
      var error;
      try{

        this.__logError = false;
        callback();
      } catch(ex) {

        error = ex;
      }finally{

        this.__logError = true;
      };
      if(error == null){

        this.__fail(msg || "", "The function did not raise an exception!");
      };
      error instanceof exception || this.__fail(msg || "", "The raised exception does not have the expected type! ", exception, " != ", error);
      if(re){

        this.assertMatch(error.toString(), re, msg);
      };
    },
    assertInArray : function(value, array, msg){

      array.indexOf(value) !== -1 || this.__fail(msg || "", "The value '", value, "' must have any of the values defined in the array '", array, "'");
    },
    assertArrayEquals : function(expected, found, msg){

      this.assertArray(expected, msg);
      this.assertArray(found, msg);
      msg = msg || "Expected [" + expected.join(", ") + "], but found [" + found.join(", ") + "]";
      if(expected.length !== found.length){

        this.fail(msg, true);
      };
      for(var i = 0;i < expected.length;i++){

        if(expected[i] !== found[i]){

          this.fail(msg, true);
        };
      };
    },
    assertKeyInMap : function(value, map, msg){

      map[value] !== undefined || this.__fail(msg || "", "The value '", value, "' must must be a key of the map '", map, "'");
    },
    assertFunction : function(value, msg){

      qx.lang.Type.isFunction(value) || this.__fail(msg || "", "Expected value to be typeof function but found ", value, "!");
    },
    assertString : function(value, msg){

      qx.lang.Type.isString(value) || this.__fail(msg || "", "Expected value to be a string but found ", value, "!");
    },
    assertBoolean : function(value, msg){

      qx.lang.Type.isBoolean(value) || this.__fail(msg || "", "Expected value to be a boolean but found ", value, "!");
    },
    assertNumber : function(value, msg){

      (qx.lang.Type.isNumber(value) && isFinite(value)) || this.__fail(msg || "", "Expected value to be a number but found ", value, "!");
    },
    assertPositiveNumber : function(value, msg){

      (qx.lang.Type.isNumber(value) && isFinite(value) && value >= 0) || this.__fail(msg || "", "Expected value to be a number >= 0 but found ", value, "!");
    },
    assertInteger : function(value, msg){

      (qx.lang.Type.isNumber(value) && isFinite(value) && value % 1 === 0) || this.__fail(msg || "", "Expected value to be an integer but found ", value, "!");
    },
    assertPositiveInteger : function(value, msg){

      var condition = (qx.lang.Type.isNumber(value) && isFinite(value) && value % 1 === 0 && value >= 0);
      condition || this.__fail(msg || "", "Expected value to be an integer >= 0 but found ", value, "!");
    },
    assertInRange : function(value, min, max, msg){

      (value >= min && value <= max) || this.__fail(msg || "", qx.lang.String.format("Expected value '%1' to be in the range '%2'..'%3'!", [value, min, max]));
    },
    assertObject : function(value, msg){

      var condition = value !== null && (qx.lang.Type.isObject(value) || typeof value === "object");
      condition || this.__fail(msg || "", "Expected value to be typeof object but found ", (value), "!");
    },
    assertArray : function(value, msg){

      qx.lang.Type.isArray(value) || this.__fail(msg || "", "Expected value to be an array but found ", value, "!");
    },
    assertMap : function(value, msg){

      qx.lang.Type.isObject(value) || this.__fail(msg || "", "Expected value to be a map but found ", value, "!");
    },
    assertRegExp : function(value, msg){

      qx.lang.Type.isRegExp(value) || this.__fail(msg || "", "Expected value to be a regular expression but found ", value, "!");
    },
    assertType : function(value, type, msg){

      this.assertString(type, "Invalid argument 'type'");
      typeof (value) === type || this.__fail(msg || "", "Expected value to be typeof '", type, "' but found ", value, "!");
    },
    assertInstance : function(value, clazz, msg){

      var className = clazz.classname || clazz + "";
      value instanceof clazz || this.__fail(msg || "", "Expected value to be instanceof '", className, "' but found ", value, "!");
    },
    assertInterface : function(value, iface, msg){

      qx.Class.implementsInterface(value, iface) || this.__fail(msg || "", "Expected object '", value, "' to implement the interface '", iface, "'!");
    },
    assertCssColor : function(expected, value, msg){

      var ColorUtil = qx.Class.getByName("qx.util.ColorUtil");
      if(!ColorUtil){

        throw new Error("qx.util.ColorUtil not available! Your code must have a dependency on 'qx.util.ColorUtil'");
      };
      var expectedRgb = ColorUtil.stringToRgb(expected);
      try{

        var valueRgb = ColorUtil.stringToRgb(value);
      } catch(ex) {

        this.__fail(msg || "", "Expected value to be the CSS color '", expected, "' (rgb(", expectedRgb.join(","), ")), but found value '", value, "', which cannot be converted to a CSS color!");
      };
      var condition = expectedRgb[0] == valueRgb[0] && expectedRgb[1] == valueRgb[1] && expectedRgb[2] == valueRgb[2];
      condition || this.__fail(msg || "", "Expected value to be the CSS color '", expectedRgb, "' (rgb(", expectedRgb.join(","), ")), but found value '", value, "' (rgb(", valueRgb.join(","), "))!");
    },
    assertElement : function(value, msg){

      !!(value && value.nodeType === 1) || this.__fail(msg || "", "Expected value to be a DOM element but found  '", value, "'!");
    },
    assertQxObject : function(value, msg){

      this.__isQxInstance(value, "qx.core.Object") || this.__fail(msg || "", "Expected value to be a qooxdoo object but found ", value, "!");
    },
    assertQxWidget : function(value, msg){

      this.__isQxInstance(value, "qx.ui.core.Widget") || this.__fail(msg || "", "Expected value to be a qooxdoo widget but found ", value, "!");
    },
    __isQxInstance : function(object, classname){

      if(!object){

        return false;
      };
      var clazz = object.constructor;
      while(clazz){

        if(clazz.classname === classname){

          return true;
        };
        clazz = clazz.superclass;
      };
      return false;
    }
  }
});

qx.Class.define("qx.type.BaseError", {
  extend : Error,
  construct : function(comment, failMessage){

    var inst = Error.call(this, failMessage);
    if(inst.stack){

      this.stack = inst.stack;
    };
    if(inst.stacktrace){

      this.stacktrace = inst.stacktrace;
    };
    this.__comment = comment || "";
    this.message = failMessage || qx.type.BaseError.DEFAULTMESSAGE;
  },
  statics : {
    DEFAULTMESSAGE : "error"
  },
  members : {
    __sTrace : null,
    __comment : null,
    message : null,
    getComment : function(){

      return this.__comment;
    },
    toString : function(){

      return this.__comment + (this.message ? ": " + this.message : "");
    }
  }
});

qx.Class.define("qx.core.AssertionError", {
  extend : qx.type.BaseError,
  construct : function(comment, failMessage){

    qx.type.BaseError.call(this, comment, failMessage);
    this.__trace = qx.dev.StackTrace.getStackTrace();
  },
  members : {
    __trace : null,
    getStackTrace : function(){

      return this.__trace;
    }
  }
});

qx.Bootstrap.define("qx.dev.StackTrace", {
  statics : {
    FILENAME_TO_CLASSNAME : null,
    FORMAT_STACKTRACE : null,
    getStackTrace : function(){

      var trace = [];
      try{

        throw new Error();
      } catch(ex) {

        if(qx.dev.StackTrace.hasEnvironmentCheck && qx.core.Environment.get("ecmascript.error.stacktrace")){

          var errorTrace = qx.dev.StackTrace.getStackTraceFromError(ex);
          var callerTrace = qx.dev.StackTrace.getStackTraceFromCaller(arguments);
          qx.lang.Array.removeAt(errorTrace, 0);
          trace = callerTrace.length > errorTrace.length ? callerTrace : errorTrace;
          for(var i = 0;i < Math.min(callerTrace.length, errorTrace.length);i++){

            var callerCall = callerTrace[i];
            if(callerCall.indexOf("anonymous") >= 0){

              continue;
            };
            var methodName = null;
            var callerArr = callerCall.split(".");
            var mO = /(.*?)\(/.exec(callerArr[callerArr.length - 1]);
            if(mO && mO.length == 2){

              methodName = mO[1];
              callerArr.pop();
            };
            if(callerArr[callerArr.length - 1] == "prototype"){

              callerArr.pop();
            };
            var callerClassName = callerArr.join(".");
            var errorCall = errorTrace[i];
            var errorArr = errorCall.split(":");
            var errorClassName = errorArr[0];
            var lineNumber = errorArr[1];
            var columnNumber;
            if(errorArr[2]){

              columnNumber = errorArr[2];
            };
            var className = null;
            if(qx.Class && qx.Class.getByName(errorClassName)){

              className = errorClassName;
            } else {

              className = callerClassName;
            };
            var line = className;
            if(methodName){

              line += "." + methodName;
            };
            line += ":" + lineNumber;
            if(columnNumber){

              line += ":" + columnNumber;
            };
            trace[i] = line;
          };
        } else {

          trace = this.getStackTraceFromCaller(arguments);
        };
      };
      return trace;
    },
    getStackTraceFromCaller : function(args){

      var trace = [];
      var fcn = qx.lang.Function.getCaller(args);
      var knownFunction = {
      };
      while(fcn){

        var fcnName = qx.lang.Function.getName(fcn);
        trace.push(fcnName);
        try{

          fcn = fcn.caller;
        } catch(ex) {

          break;
        };
        if(!fcn){

          break;
        };
        var hash = qx.core.ObjectRegistry.toHashCode(fcn);
        if(knownFunction[hash]){

          trace.push("...");
          break;
        };
        knownFunction[hash] = fcn;
      };
      return trace;
    },
    getStackTraceFromError : function(error){

      var trace = [];
      var lineRe,hit,className,lineNumber,columnNumber,fileName,url;
      var traceProp = qx.dev.StackTrace.hasEnvironmentCheck ? qx.core.Environment.get("ecmascript.error.stacktrace") : null;
      if(traceProp === "stack"){

        if(!error.stack){

          return trace;
        };
        lineRe = /@(.+):(\d+)$/gm;
        while((hit = lineRe.exec(error.stack)) != null){

          url = hit[1];
          lineNumber = hit[2];
          className = this.__fileNameToClassName(url);
          trace.push(className + ":" + lineNumber);
        };
        if(trace.length > 0){

          return this.__formatStackTrace(trace);
        };
        lineRe = /at (.*)/gm;
        var fileReParens = /\((.*?)(:[^\/].*)\)/;
        var fileRe = /(.*?)(:[^\/].*)/;
        while((hit = lineRe.exec(error.stack)) != null){

          var fileMatch = fileReParens.exec(hit[1]);
          if(!fileMatch){

            fileMatch = fileRe.exec(hit[1]);
          };
          if(fileMatch){

            className = this.__fileNameToClassName(fileMatch[1]);
            trace.push(className + fileMatch[2]);
          } else {

            trace.push(hit[1]);
          };
        };
      } else if(traceProp === "stacktrace"){

        var stacktrace = error.stacktrace;
        if(!stacktrace){

          return trace;
        };
        if(stacktrace.indexOf("Error created at") >= 0){

          stacktrace = stacktrace.split("Error created at")[0];
        };
        lineRe = /line\ (\d+?),\ column\ (\d+?)\ in\ (?:.*?)\ in\ (.*?):[^\/]/gm;
        while((hit = lineRe.exec(stacktrace)) != null){

          lineNumber = hit[1];
          columnNumber = hit[2];
          url = hit[3];
          className = this.__fileNameToClassName(url);
          trace.push(className + ":" + lineNumber + ":" + columnNumber);
        };
        if(trace.length > 0){

          return this.__formatStackTrace(trace);
        };
        lineRe = /Line\ (\d+?)\ of\ linked\ script\ (.*?)$/gm;
        while((hit = lineRe.exec(stacktrace)) != null){

          lineNumber = hit[1];
          url = hit[2];
          className = this.__fileNameToClassName(url);
          trace.push(className + ":" + lineNumber);
        };
      } else if(error.message && error.message.indexOf("Backtrace:") >= 0){

        var traceString = error.message.split("Backtrace:")[1].trim();
        var lines = traceString.split("\n");
        for(var i = 0;i < lines.length;i++){

          var reResult = lines[i].match(/\s*Line ([0-9]+) of.* (\S.*)/);
          if(reResult && reResult.length >= 2){

            lineNumber = reResult[1];
            fileName = this.__fileNameToClassName(reResult[2]);
            trace.push(fileName + ":" + lineNumber);
          };
        };
      } else if(error.sourceURL && error.line){

        trace.push(this.__fileNameToClassName(error.sourceURL) + ":" + error.line);
      };;;
      return this.__formatStackTrace(trace);
    },
    __fileNameToClassName : function(fileName){

      if(typeof qx.dev.StackTrace.FILENAME_TO_CLASSNAME == "function"){

        var convertedName = qx.dev.StackTrace.FILENAME_TO_CLASSNAME(fileName);
        if(qx.core.Environment.get("qx.debug") && !qx.lang.Type.isString(convertedName)){

          throw new Error("FILENAME_TO_CLASSNAME must return a string!");
        };
        return convertedName;
      };
      return qx.dev.StackTrace.__fileNameToClassNameDefault(fileName);
    },
    __fileNameToClassNameDefault : function(fileName){

      var scriptDir = "/source/class/";
      var jsPos = fileName.indexOf(scriptDir);
      var paramPos = fileName.indexOf("?");
      if(paramPos >= 0){

        fileName = fileName.substring(0, paramPos);
      };
      var className = (jsPos == -1) ? fileName : fileName.substring(jsPos + scriptDir.length).replace(/\//g, ".").replace(/\.js$/, "");
      return className;
    },
    __formatStackTrace : function(trace){

      if(typeof qx.dev.StackTrace.FORMAT_STACKTRACE == "function"){

        trace = qx.dev.StackTrace.FORMAT_STACKTRACE(trace);
        if(qx.core.Environment.get("qx.debug") && !qx.lang.Type.isArray(trace)){

          throw new Error("FORMAT_STACKTRACE must return an array of strings!");
        };
      };
      return trace;
    }
  },
  defer : function(statics){

    statics.hasEnvironmentCheck = qx.bom.client.EcmaScript && qx.bom.client.EcmaScript.getStackTrace;
  }
});

qx.Bootstrap.define("qx.lang.Function", {
  statics : {
    getCaller : function(args){

      return args.caller ? args.caller.callee : args.callee.caller;
    },
    getName : function(fcn){

      if(fcn.displayName){

        return fcn.displayName;
      };
      if(fcn.$$original || fcn.wrapper || fcn.classname){

        return fcn.classname + ".constructor()";
      };
      if(fcn.$$mixin){

        for(var key in fcn.$$mixin.$$members){

          if(fcn.$$mixin.$$members[key] == fcn){

            return fcn.$$mixin.name + ".prototype." + key + "()";
          };
        };
        for(var key in fcn.$$mixin){

          if(fcn.$$mixin[key] == fcn){

            return fcn.$$mixin.name + "." + key + "()";
          };
        };
      };
      if(fcn.self){

        var clazz = fcn.self.constructor;
        if(clazz){

          for(var key in clazz.prototype){

            if(clazz.prototype[key] == fcn){

              return clazz.classname + ".prototype." + key + "()";
            };
          };
          for(var key in clazz){

            if(clazz[key] == fcn){

              return clazz.classname + "." + key + "()";
            };
          };
        };
      };
      var fcnReResult = fcn.toString().match(/function\s*(\w*)\s*\(.*/);
      if(fcnReResult && fcnReResult.length >= 1 && fcnReResult[1]){

        return fcnReResult[1] + "()";
      };
      return 'anonymous()';
    },
    globalEval : function(data){

      if(window.execScript){

        return window.execScript(data);
      } else {

        return eval.call(window, data);
      };
    },
    create : function(func, options){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertFunction(func, "Invalid parameter 'func'.");
      };
      if(!options){

        return func;
      };
      if(!(options.self || options.args || options.delay != null || options.periodical != null || options.attempt)){

        return func;
      };
      return function(event){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Object && options.self && qx.Bootstrap.isObject(options.self) && options.self.isDisposed && qx.Bootstrap.isFunction(options.self.isDisposed)){

            qx.core.Assert && qx.core.Assert.assertFalse(options.self.isDisposed(), "Trying to call a bound function with a disposed object as context: " + options.self.toString() + " :: " + qx.lang.Function.getName(func));
          };
        };
        var args = qx.lang.Array.fromArguments(arguments);
        if(options.args){

          args = options.args.concat(args);
        };
        if(options.delay || options.periodical){

          var returns = function(){

            return func.apply(options.self || this, args);
          };
          if(qx.core.Environment.get("qx.globalErrorHandling")){

            returns = qx.event.GlobalError.observeMethod(returns);
          };
          if(options.delay){

            return window.setTimeout(returns, options.delay);
          };
          if(options.periodical){

            return window.setInterval(returns, options.periodical);
          };
        } else if(options.attempt){

          var ret = false;
          try{

            ret = func.apply(options.self || this, args);
          } catch(ex) {
          };
          return ret;
        } else {

          return func.apply(options.self || this, args);
        };
      };
    },
    bind : function(func, self, varargs){

      return this.create(func, {
        self : self,
        args : arguments.length > 2 ? qx.lang.Array.fromArguments(arguments, 2) : null
      });
    },
    curry : function(func, varargs){

      return this.create(func, {
        args : arguments.length > 1 ? qx.lang.Array.fromArguments(arguments, 1) : null
      });
    },
    listener : function(func, self, varargs){

      if(arguments.length < 3){

        return function(event){

          return func.call(self || this, event || window.event);
        };
      } else {

        var optargs = qx.lang.Array.fromArguments(arguments, 2);
        return function(event){

          var args = [event || window.event];
          args.push.apply(args, optargs);
          func.apply(self || this, args);
        };
      };
    },
    attempt : function(func, self, varargs){

      return this.create(func, {
        self : self,
        attempt : true,
        args : arguments.length > 2 ? qx.lang.Array.fromArguments(arguments, 2) : null
      })();
    },
    delay : function(func, delay, self, varargs){

      return this.create(func, {
        delay : delay,
        self : self,
        args : arguments.length > 3 ? qx.lang.Array.fromArguments(arguments, 3) : null
      })();
    },
    periodical : function(func, interval, self, varargs){

      return this.create(func, {
        periodical : interval,
        self : self,
        args : arguments.length > 3 ? qx.lang.Array.fromArguments(arguments, 3) : null
      })();
    }
  }
});

qx.Bootstrap.define("qx.event.GlobalError", {
  statics : {
    __callback : null,
    __originalOnError : null,
    __context : null,
    __isGlobaErrorHandlingEnabled : function(){

      if(qx.core && qx.core.Environment){

        return qx.core.Environment.get("qx.globalErrorHandling");
      } else {

        return !!qx.Bootstrap.getEnvironmentSetting("qx.globalErrorHandling");
      };
    },
    setErrorHandler : function(callback, context){

      this.__callback = callback || null;
      this.__context = context || window;
      if(this.__isGlobaErrorHandlingEnabled()){

        if(callback && window.onerror){

          var wrappedHandler = qx.Bootstrap.bind(this.__onErrorWindow, this);
          if(this.__originalOnError == null){

            this.__originalOnError = window.onerror;
          };
          var self = this;
          window.onerror = function(msg, uri, lineNumber){

            self.__originalOnError(msg, uri, lineNumber);
            wrappedHandler(msg, uri, lineNumber);
          };
        };
        if(callback && !window.onerror){

          window.onerror = qx.Bootstrap.bind(this.__onErrorWindow, this);
        };
        if(this.__callback == null){

          if(this.__originalOnError != null){

            window.onerror = this.__originalOnError;
            this.__originalOnError = null;
          } else {

            window.onerror = null;
          };
        };
      };
    },
    __onErrorWindow : function(msg, uri, lineNumber){

      if(this.__callback){

        this.handleError(new qx.core.WindowError(msg, uri, lineNumber));
      };
    },
    observeMethod : function(method){

      if(this.__isGlobaErrorHandlingEnabled()){

        var self = this;
        return function(){

          if(!self.__callback){

            return method.apply(this, arguments);
          };
          try{

            return method.apply(this, arguments);
          } catch(ex) {

            self.handleError(new qx.core.GlobalError(ex, arguments));
          };
        };
      } else {

        return method;
      };
    },
    handleError : function(ex){

      if(this.__callback){

        this.__callback.call(this.__context, ex);
      };
    }
  },
  defer : function(statics){

    if(qx.core && qx.core.Environment){

      qx.core.Environment.add("qx.globalErrorHandling", true);
    } else {

      qx.Bootstrap.setEnvironmentSetting("qx.globalErrorHandling", true);
    };
    statics.setErrorHandler(null, null);
  }
});

qx.Bootstrap.define("qx.core.WindowError", {
  extend : Error,
  construct : function(failMessage, uri, lineNumber){

    var inst = Error.call(this, failMessage);
    if(inst.stack){

      this.stack = inst.stack;
    };
    if(inst.stacktrace){

      this.stacktrace = inst.stacktrace;
    };
    this.__failMessage = failMessage;
    this.__uri = uri || "";
    this.__lineNumber = lineNumber === undefined ? -1 : lineNumber;
  },
  members : {
    __failMessage : null,
    __uri : null,
    __lineNumber : null,
    toString : function(){

      return this.__failMessage;
    },
    getUri : function(){

      return this.__uri;
    },
    getLineNumber : function(){

      return this.__lineNumber;
    }
  }
});

qx.Bootstrap.define("qx.core.GlobalError", {
  extend : Error,
  construct : function(exc, args){

    if(qx.Bootstrap.DEBUG){

      qx.core.Assert.assertNotUndefined(exc);
    };
    this.__failMessage = "GlobalError: " + (exc && exc.message ? exc.message : exc);
    var inst = Error.call(this, this.__failMessage);
    if(inst.stack){

      this.stack = inst.stack;
    };
    if(inst.stacktrace){

      this.stacktrace = inst.stacktrace;
    };
    this.__arguments = args;
    this.__exc = exc;
  },
  members : {
    __exc : null,
    __arguments : null,
    __failMessage : null,
    toString : function(){

      return this.__failMessage;
    },
    getArguments : function(){

      return this.__arguments;
    },
    getSourceException : function(){

      return this.__exc;
    }
  },
  destruct : function(){

    this.__exc = null;
    this.__arguments = null;
    this.__failMessage = null;
  }
});

qx.Bootstrap.define("qx.core.ObjectRegistry", {
  statics : {
    inShutDown : false,
    __registry : {
    },
    __nextHash : 0,
    __freeHashes : [],
    __postId : "",
    __stackTraces : {
    },
    register : function(obj){

      var registry = this.__registry;
      if(!registry){

        return;
      };
      var hash = obj.$$hash;
      if(hash == null){

        var cache = this.__freeHashes;
        if(cache.length > 0 && !qx.core.Environment.get("qx.debug.dispose")){

          hash = cache.pop();
        } else {

          hash = (this.__nextHash++) + this.__postId;
        };
        obj.$$hash = hash;
        if(qx.core.Environment.get("qx.debug.dispose")){

          if(qx.dev && qx.dev.Debug && qx.dev.Debug.disposeProfilingActive){

            this.__stackTraces[hash] = qx.dev.StackTrace.getStackTrace();
          };
        };
      };
      if(qx.core.Environment.get("qx.debug")){

        if(!obj.dispose){

          throw new Error("Invalid object: " + obj);
        };
      };
      registry[hash] = obj;
    },
    unregister : function(obj){

      var hash = obj.$$hash;
      if(hash == null){

        return;
      };
      var registry = this.__registry;
      if(registry && registry[hash]){

        delete registry[hash];
        this.__freeHashes.push(hash);
      };
      try{

        delete obj.$$hash;
      } catch(ex) {

        if(obj.removeAttribute){

          obj.removeAttribute("$$hash");
        };
      };
    },
    toHashCode : function(obj){

      if(qx.core.Environment.get("qx.debug")){

        if(obj == null){

          throw new Error("Invalid object: " + obj);
        };
      };
      var hash = obj.$$hash;
      if(hash != null){

        return hash;
      };
      var cache = this.__freeHashes;
      if(cache.length > 0){

        hash = cache.pop();
      } else {

        hash = (this.__nextHash++) + this.__postId;
      };
      return obj.$$hash = hash;
    },
    clearHashCode : function(obj){

      if(qx.core.Environment.get("qx.debug")){

        if(obj == null){

          throw new Error("Invalid object: " + obj);
        };
      };
      var hash = obj.$$hash;
      if(hash != null){

        this.__freeHashes.push(hash);
        try{

          delete obj.$$hash;
        } catch(ex) {

          if(obj.removeAttribute){

            obj.removeAttribute("$$hash");
          };
        };
      };
    },
    fromHashCode : function(hash){

      return this.__registry[hash] || null;
    },
    shutdown : function(){

      this.inShutDown = true;
      var registry = this.__registry;
      var hashes = [];
      for(var hash in registry){

        hashes.push(hash);
      };
      hashes.sort(function(a, b){

        return parseInt(b, 10) - parseInt(a, 10);
      });
      var obj,i = 0,l = hashes.length;
      while(true){

        try{

          for(;i < l;i++){

            hash = hashes[i];
            obj = registry[hash];
            if(obj && obj.dispose){

              obj.dispose();
            };
          };
        } catch(ex) {

          qx.Bootstrap.error(this, "Could not dispose object " + obj.toString() + ": " + ex, ex);
          if(i !== l){

            i++;
            continue;
          };
        };
        break;
      };
      qx.Bootstrap.debug(this, "Disposed " + l + " objects");
      delete this.__registry;
    },
    getRegistry : function(){

      return this.__registry;
    },
    getNextHash : function(){

      return this.__nextHash;
    },
    getPostId : function(){

      return this.__postId;
    },
    getStackTraces : function(){

      return this.__stackTraces;
    }
  },
  defer : function(statics){

    if(window && window.top){

      var frames = window.top.frames;
      for(var i = 0;i < frames.length;i++){

        if(frames[i] === window){

          statics.__postId = "-" + (i + 1);
          return;
        };
      };
    };
    statics.__postId = "-0";
  }
});

qx.Bootstrap.define("qx.lang.Json", {
  statics : {
    stringify : null,
    parse : null
  }
});
(function(){

  var JSON3;
  var exports;
  var define;
  (function(window){

    var getClass = {
    }.toString,isProperty,forEach,undef;
    var isLoader = typeof define === "function" && define.amd,JSON3 = typeof exports == "object" && exports;
    if(JSON3 || isLoader){

      if(typeof JSON == "object" && JSON){

        if(JSON3){

          JSON3.stringify = JSON.stringify;
          JSON3.parse = JSON.parse;
        } else {

          JSON3 = JSON;
        };
      } else if(isLoader){

        JSON3 = window.JSON = {
        };
      };
    } else {

      JSON3 = window.JSON || (window.JSON = {
      });
    };
    var isExtended = new Date(-3509827334573292);
    try{

      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 && isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;
    } catch(exception) {
    };
    function has(name){

      if(name == "bug-string-char-index"){

        return "a"[0] != "a";
      };
      var value,serialized = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',isAll = name == "json";
      if(isAll || name == "json-stringify" || name == "json-parse"){

        if(name == "json-stringify" || isAll){

          var stringify = JSON3.stringify,stringifySupported = typeof stringify == "function" && isExtended;
          if(stringifySupported){

            (value = function(){

              return 1;
            }).toJSON = value;
            try{

              stringifySupported = stringify(0) === "0" && stringify(new Number()) === "0" && stringify(new String()) == '""' && stringify(getClass) === undef && stringify(undef) === undef && stringify() === undef && stringify(value) === "1" && stringify([value]) == "[1]" && stringify([undef]) == "[null]" && stringify(null) == "null" && stringify([undef, getClass, null]) == "[null,null,null]" && stringify({
                "a" : [value, true, false, null, "\x00\b\n\f\r\t"]
              }) == serialized && stringify(null, value) === "1" && stringify([1, 2], null, 1) == "[\n 1,\n 2\n]" && stringify(new Date(-8.64e15)) == '"-271821-04-20T00:00:00.000Z"' && stringify(new Date(8.64e15)) == '"+275760-09-13T00:00:00.000Z"' && stringify(new Date(-621987552e5)) == '"-000001-01-01T00:00:00.000Z"' && stringify(new Date(-1)) == '"1969-12-31T23:59:59.999Z"';
            } catch(exception) {

              stringifySupported = false;
            };
          };
          if(!isAll){

            return stringifySupported;
          };
        };
        if(name == "json-parse" || isAll){

          var parse = JSON3.parse;
          if(typeof parse == "function"){

            try{

              if(parse("0") === 0 && !parse(false)){

                value = parse(serialized);
                var parseSupported = value["a"].length == 5 && value["a"][0] === 1;
                if(parseSupported){

                  try{

                    parseSupported = !parse('"\t"');
                  } catch(exception) {
                  };
                  if(parseSupported){

                    try{

                      parseSupported = parse("01") !== 1;
                    } catch(exception) {
                    };
                  };
                };
              };
            } catch(exception) {

              parseSupported = false;
            };
          };
          if(!isAll){

            return parseSupported;
          };
        };
        return stringifySupported && parseSupported;
      };
    };
    if(!has("json")){

      var functionClass = "[object Function]";
      var dateClass = "[object Date]";
      var numberClass = "[object Number]";
      var stringClass = "[object String]";
      var arrayClass = "[object Array]";
      var booleanClass = "[object Boolean]";
      var charIndexBuggy = has("bug-string-char-index");
      if(!isExtended){

        var floor = Math.floor;
        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
        var getDay = function(year, month){

          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);
        };
      };
      if(!(isProperty = {
      }.hasOwnProperty)){

        isProperty = function(property){

          var members = {
          },constructor;
          if((members.__proto__ = null, members.__proto__ = {
            "toString" : 1
          }, members).toString != getClass){

            isProperty = function(property){

              var original = this.__proto__,result = property in (this.__proto__ = null, this);
              this.__proto__ = original;
              return result;
            };
          } else {

            constructor = members.constructor;
            isProperty = function(property){

              var parent = (this.constructor || constructor).prototype;
              return property in this && !(property in parent && this[property] === parent[property]);
            };
          };
          members = null;
          return isProperty.call(this, property);
        };
      };
      var PrimitiveTypes = {
        'boolean' : 1,
        'number' : 1,
        'string' : 1,
        'undefined' : 1
      };
      var isHostType = function(object, property){

        var type = typeof object[property];
        return type == 'object' ? !!object[property] : !PrimitiveTypes[type];
      };
      forEach = function(object, callback){

        var size = 0,Properties,members,property,forEach;
        (Properties = function(){

          this.valueOf = 0;
        }).prototype.valueOf = 0;
        members = new Properties();
        for(property in members){

          if(isProperty.call(members, property)){

            size++;
          };
        };
        Properties = members = null;
        if(!size){

          members = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"];
          forEach = function(object, callback){

            var isFunction = getClass.call(object) == functionClass,property,length;
            var hasProperty = !isFunction && typeof object.constructor != 'function' && isHostType(object, 'hasOwnProperty') ? object.hasOwnProperty : isProperty;
            for(property in object){

              if(!(isFunction && property == "prototype") && hasProperty.call(object, property)){

                callback(property);
              };
            };
            for(length = members.length;property = members[--length];hasProperty.call(object, property) && callback(property));
          };
        } else if(size == 2){

          forEach = function(object, callback){

            var members = {
            },isFunction = getClass.call(object) == functionClass,property;
            for(property in object){

              if(!(isFunction && property == "prototype") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)){

                callback(property);
              };
            };
          };
        } else {

          forEach = function(object, callback){

            var isFunction = getClass.call(object) == functionClass,property,isConstructor;
            for(property in object){

              if(!(isFunction && property == "prototype") && isProperty.call(object, property) && !(isConstructor = property === "constructor")){

                callback(property);
              };
            };
            if(isConstructor || isProperty.call(object, (property = "constructor"))){

              callback(property);
            };
          };
        };
        return forEach(object, callback);
      };
      if(!has("json-stringify")){

        var Escapes = {
          '92' : "\\\\",
          '34' : '\\"',
          '8' : "\\b",
          '12' : "\\f",
          '10' : "\\n",
          '13' : "\\r",
          '9' : "\\t"
        };
        var leadingZeroes = "000000";
        var toPaddedString = function(width, value){

          return (leadingZeroes + (value || 0)).slice(-width);
        };
        var unicodePrefix = "\\u00";
        var quote = function(value){

          var result = '"',index = 0,length = value.length,isLarge = length > 10 && charIndexBuggy,symbols;
          if(isLarge){

            symbols = value.split("");
          };
          for(;index < length;index++){

            var charCode = value.charCodeAt(index);
            switch(charCode){case 8:case 9:case 10:case 12:case 13:case 34:case 92:
            result += Escapes[charCode];
            break;default:
            if(charCode < 32){

              result += unicodePrefix + toPaddedString(2, charCode.toString(16));
              break;
            };
            result += isLarge ? symbols[index] : charIndexBuggy ? value.charAt(index) : value[index];};
          };
          return result + '"';
        };
        var serialize = function(property, object, callback, properties, whitespace, indentation, stack){

          var value = object[property],className,year,month,date,time,hours,minutes,seconds,milliseconds,results,element,index,length,prefix,hasMembers,result;
          try{

            value = object[property];
          } catch(exception) {
          };
          if(typeof value == "object" && value){

            className = getClass.call(value);
            if(className == dateClass && !isProperty.call(value, "toJSON")){

              if(value > -1 / 0 && value < 1 / 0){

                if(getDay){

                  date = floor(value / 864e5);
                  for(year = floor(date / 365.2425) + 1970 - 1;getDay(year + 1, 0) <= date;year++);
                  for(month = floor((date - getDay(year, 0)) / 30.42);getDay(year, month + 1) <= date;month++);
                  date = 1 + date - getDay(year, month);
                  time = (value % 864e5 + 864e5) % 864e5;
                  hours = floor(time / 36e5) % 24;
                  minutes = floor(time / 6e4) % 60;
                  seconds = floor(time / 1e3) % 60;
                  milliseconds = time % 1e3;
                } else {

                  year = value.getUTCFullYear();
                  month = value.getUTCMonth();
                  date = value.getUTCDate();
                  hours = value.getUTCHours();
                  minutes = value.getUTCMinutes();
                  seconds = value.getUTCSeconds();
                  milliseconds = value.getUTCMilliseconds();
                };
                value = (year <= 0 || year >= 1e4 ? (year < 0 ? "-" : "+") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) + "-" + toPaddedString(2, month + 1) + "-" + toPaddedString(2, date) + "T" + toPaddedString(2, hours) + ":" + toPaddedString(2, minutes) + ":" + toPaddedString(2, seconds) + "." + toPaddedString(3, milliseconds) + "Z";
              } else {

                value = null;
              };
            } else if(typeof value.toJSON == "function" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, "toJSON"))){

              value = value.toJSON(property);
            };
          };
          if(callback){

            value = callback.call(object, property, value);
          };
          if(value === null){

            return "null";
          };
          className = getClass.call(value);
          if(className == booleanClass){

            return "" + value;
          } else if(className == numberClass){

            return value > -1 / 0 && value < 1 / 0 ? "" + value : "null";
          } else if(className == stringClass){

            return quote("" + value);
          };;
          if(typeof value == "object"){

            for(length = stack.length;length--;){

              if(stack[length] === value){

                throw TypeError();
              };
            };
            stack.push(value);
            results = [];
            prefix = indentation;
            indentation += whitespace;
            if(className == arrayClass){

              for(index = 0,length = value.length;index < length;hasMembers || (hasMembers = true),index++){

                element = serialize(index, value, callback, properties, whitespace, indentation, stack);
                results.push(element === undef ? "null" : element);
              };
              result = hasMembers ? (whitespace ? "[\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "]" : ("[" + results.join(",") + "]")) : "[]";
            } else {

              forEach(properties || value, function(property){

                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);
                if(element !== undef){

                  results.push(quote(property) + ":" + (whitespace ? " " : "") + element);
                };
                hasMembers || (hasMembers = true);
              });
              result = hasMembers ? (whitespace ? "{\n" + indentation + results.join(",\n" + indentation) + "\n" + prefix + "}" : ("{" + results.join(",") + "}")) : "{}";
            };
            stack.pop();
            return result;
          };
        };
        JSON3.stringify = function(source, filter, width){

          var whitespace,callback,properties;
          if(typeof filter == "function" || typeof filter == "object" && filter){

            if(getClass.call(filter) == functionClass){

              callback = filter;
            } else if(getClass.call(filter) == arrayClass){

              properties = {
              };
              for(var index = 0,length = filter.length,value;index < length;value = filter[index++],((getClass.call(value) == stringClass || getClass.call(value) == numberClass) && (properties[value] = 1)));
            };
          };
          if(width){

            if(getClass.call(width) == numberClass){

              if((width -= width % 1) > 0){

                for(whitespace = "",width > 10 && (width = 10);whitespace.length < width;whitespace += " ");
              };
            } else if(getClass.call(width) == stringClass){

              whitespace = width.length <= 10 ? width : width.slice(0, 10);
            };
          };
          return serialize("", (value = {
          }, value[""] = source, value), callback, properties, whitespace, "", []);
        };
      };
      if(!has("json-parse")){

        var fromCharCode = String.fromCharCode;
        var Unescapes = {
          '92' : "\\",
          '34' : '"',
          '47' : "/",
          '98' : "\b",
          '116' : "\t",
          '110' : "\n",
          '102' : "\f",
          '114' : "\r"
        };
        var Index,Source;
        var abort = function(){

          Index = Source = null;
          throw SyntaxError();
        };
        var lex = function(){

          var source = Source,length = source.length,value,begin,position,isSigned,charCode;
          while(Index < length){

            charCode = source.charCodeAt(Index);
            switch(charCode){case 9:case 10:case 13:case 32:
            Index++;
            break;case 123:case 125:case 91:case 93:case 58:case 44:
            value = charIndexBuggy ? source.charAt(Index) : source[Index];
            Index++;
            return value;case 34:
            for(value = "@",Index++;Index < length;){

              charCode = source.charCodeAt(Index);
              if(charCode < 32){

                abort();
              } else if(charCode == 92){

                charCode = source.charCodeAt(++Index);
                switch(charCode){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:
                value += Unescapes[charCode];
                Index++;
                break;case 117:
                begin = ++Index;
                for(position = Index + 4;Index < position;Index++){

                  charCode = source.charCodeAt(Index);
                  if(!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)){

                    abort();
                  };
                };
                value += fromCharCode("0x" + source.slice(begin, Index));
                break;default:
                abort();};
              } else {

                if(charCode == 34){

                  break;
                };
                charCode = source.charCodeAt(Index);
                begin = Index;
                while(charCode >= 32 && charCode != 92 && charCode != 34){

                  charCode = source.charCodeAt(++Index);
                };
                value += source.slice(begin, Index);
              };
            };
            if(source.charCodeAt(Index) == 34){

              Index++;
              return value;
            };
            abort();default:
            begin = Index;
            if(charCode == 45){

              isSigned = true;
              charCode = source.charCodeAt(++Index);
            };
            if(charCode >= 48 && charCode <= 57){

              if(charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)){

                abort();
              };
              isSigned = false;
              for(;Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57);Index++);
              if(source.charCodeAt(Index) == 46){

                position = ++Index;
                for(;position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57);position++);
                if(position == Index){

                  abort();
                };
                Index = position;
              };
              charCode = source.charCodeAt(Index);
              if(charCode == 101 || charCode == 69){

                charCode = source.charCodeAt(++Index);
                if(charCode == 43 || charCode == 45){

                  Index++;
                };
                for(position = Index;position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57);position++);
                if(position == Index){

                  abort();
                };
                Index = position;
              };
              return +source.slice(begin, Index);
            };
            if(isSigned){

              abort();
            };
            if(source.slice(Index, Index + 4) == "true"){

              Index += 4;
              return true;
            } else if(source.slice(Index, Index + 5) == "false"){

              Index += 5;
              return false;
            } else if(source.slice(Index, Index + 4) == "null"){

              Index += 4;
              return null;
            };;
            abort();};
          };
          return "$";
        };
        var get = function(value){

          var results,hasMembers;
          if(value == "$"){

            abort();
          };
          if(typeof value == "string"){

            if((charIndexBuggy ? value.charAt(0) : value[0]) == "@"){

              return value.slice(1);
            };
            if(value == "["){

              results = [];
              for(;;hasMembers || (hasMembers = true)){

                value = lex();
                if(value == "]"){

                  break;
                };
                if(hasMembers){

                  if(value == ","){

                    value = lex();
                    if(value == "]"){

                      abort();
                    };
                  } else {

                    abort();
                  };
                };
                if(value == ","){

                  abort();
                };
                results.push(get(value));
              };
              return results;
            } else if(value == "{"){

              results = {
              };
              for(;;hasMembers || (hasMembers = true)){

                value = lex();
                if(value == "}"){

                  break;
                };
                if(hasMembers){

                  if(value == ","){

                    value = lex();
                    if(value == "}"){

                      abort();
                    };
                  } else {

                    abort();
                  };
                };
                if(value == "," || typeof value != "string" || (charIndexBuggy ? value.charAt(0) : value[0]) != "@" || lex() != ":"){

                  abort();
                };
                results[value.slice(1)] = get(lex());
              };
              return results;
            };
            abort();
          };
          return value;
        };
        var update = function(source, property, callback){

          var element = walk(source, property, callback);
          if(element === undef){

            delete source[property];
          } else {

            source[property] = element;
          };
        };
        var walk = function(source, property, callback){

          var value = source[property],length;
          if(typeof value == "object" && value){

            if(getClass.call(value) == arrayClass){

              for(length = value.length;length--;){

                update(value, length, callback);
              };
            } else {

              forEach(value, function(property){

                update(value, property, callback);
              });
            };
          };
          return callback.call(source, property, value);
        };
        JSON3.parse = function(source, callback){

          var result,value;
          Index = 0;
          Source = "" + source;
          result = get(lex());
          if(lex() != "$"){

            abort();
          };
          Index = Source = null;
          return callback && getClass.call(callback) == functionClass ? walk((value = {
          }, value[""] = result, value), "", callback) : result;
        };
      };
    };
    if(isLoader){

      define(function(){

        return JSON3;
      });
    };
  }(this));
}());
qx.lang.Json.stringify = window.JSON.stringify;
qx.lang.Json.parse = window.JSON.parse;

qx.Bootstrap.define("qx.lang.String", {
  statics : {
    __unicodeLetters : "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    __unicodeFirstLetterInWordRegexp : null,
    __stringsMap : {
    },
    camelCase : function(str){

      var result = this.__stringsMap[str];
      if(!result){

        result = str.replace(/\-([a-z])/g, function(match, chr){

          return chr.toUpperCase();
        });
        if(str.indexOf("-") >= 0){

          this.__stringsMap[str] = result;
        };
      };
      return result;
    },
    hyphenate : function(str){

      var result = this.__stringsMap[str];
      if(!result){

        result = str.replace(/[A-Z]/g, function(match){

          return ('-' + match.charAt(0).toLowerCase());
        });
        if(str.indexOf("-") == -1){

          this.__stringsMap[str] = result;
        };
      };
      return result;
    },
    capitalize : function(str){

      if(this.__unicodeFirstLetterInWordRegexp === null){

        var unicodeEscapePrefix = '\\u';
        this.__unicodeFirstLetterInWordRegexp = new RegExp("(^|[^" + this.__unicodeLetters.replace(/[0-9A-F]{4}/g, function(match){

          return unicodeEscapePrefix + match;
        }) + "])[" + this.__unicodeLetters.replace(/[0-9A-F]{4}/g, function(match){

          return unicodeEscapePrefix + match;
        }) + "]", "g");
      };
      return str.replace(this.__unicodeFirstLetterInWordRegexp, function(match){

        return match.toUpperCase();
      });
    },
    clean : function(str){

      return str.replace(/\s+/g, ' ').trim();
    },
    trimLeft : function(str){

      return str.replace(/^\s+/, "");
    },
    trimRight : function(str){

      return str.replace(/\s+$/, "");
    },
    startsWith : function(fullstr, substr){

      return fullstr.indexOf(substr) === 0;
    },
    endsWith : function(fullstr, substr){

      return fullstr.substring(fullstr.length - substr.length, fullstr.length) === substr;
    },
    repeat : function(str, times){

      return str.length > 0 ? new Array(times + 1).join(str) : "";
    },
    pad : function(str, length, ch){

      var padLength = length - str.length;
      if(padLength > 0){

        if(typeof ch === "undefined"){

          ch = "0";
        };
        return this.repeat(ch, padLength) + str;
      } else {

        return str;
      };
    },
    firstUp : qx.Bootstrap.firstUp,
    firstLow : qx.Bootstrap.firstLow,
    contains : function(str, substring){

      return str.indexOf(substring) != -1;
    },
    format : function(pattern, args){

      var str = pattern;
      var i = args.length;
      while(i--){

        str = str.replace(new RegExp("%" + (i + 1), "g"), args[i] + "");
      };
      return str;
    },
    escapeRegexpChars : function(str){

      return str.replace(/([.*+?^${}()|[\]\/\\])/g, '\\$1');
    },
    toArray : function(str){

      return str.split(/\B|\b/g);
    },
    stripTags : function(str){

      return str.replace(/<\/?[^>]+>/gi, "");
    },
    stripScripts : function(str, exec){

      var scripts = "";
      var text = str.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, function(){

        scripts += arguments[1] + '\n';
        return "";
      });
      if(exec === true){

        qx.lang.Function.globalEval(scripts);
      };
      return text;
    },
    quote : function(str){

      return '"' + str.replace(/\\/g, "\\\\").replace(/\"/g, "\\\"") + '"';
    }
  }
});

qx.Interface.define("qx.data.IListData", {
  events : {
    "change" : "qx.event.type.Data",
    "changeLength" : "qx.event.type.Event"
  },
  members : {
    getItem : function(index){
    },
    setItem : function(index, item){
    },
    splice : function(startIndex, amount, varargs){
    },
    contains : function(item){
    },
    getLength : function(){
    },
    toArray : function(){
    }
  }
});

qx.Class.define("qx.core.ValidationError", {
  extend : qx.type.BaseError
});

qx.Bootstrap.define("qx.util.RingBuffer", {
  extend : Object,
  construct : function(maxEntries){

    this.setMaxEntries(maxEntries || 50);
  },
  members : {
    __nextIndexToStoreTo : 0,
    __entriesStored : 0,
    __isMarkActive : false,
    __entriesStoredSinceMark : 0,
    __entries : null,
    __maxEntries : null,
    setMaxEntries : function(maxEntries){

      this.__maxEntries = maxEntries;
      this.clear();
    },
    getMaxEntries : function(){

      return this.__maxEntries;
    },
    addEntry : function(entry){

      this.__entries[this.__nextIndexToStoreTo] = entry;
      this.__nextIndexToStoreTo = this.__addToIndex(this.__nextIndexToStoreTo, 1);
      var max = this.getMaxEntries();
      if(this.__entriesStored < max){

        this.__entriesStored++;
      };
      if(this.__isMarkActive && (this.__entriesStoredSinceMark < max)){

        this.__entriesStoredSinceMark++;
      };
    },
    mark : function(){

      this.__isMarkActive = true;
      this.__entriesStoredSinceMark = 0;
    },
    clearMark : function(){

      this.__isMarkActive = false;
    },
    getAllEntries : function(){

      return this.getEntries(this.getMaxEntries(), false);
    },
    getEntries : function(count, startingFromMark){

      if(count > this.__entriesStored){

        count = this.__entriesStored;
      };
      if(startingFromMark && this.__isMarkActive && (count > this.__entriesStoredSinceMark)){

        count = this.__entriesStoredSinceMark;
      };
      if(count > 0){

        var indexOfYoungestElementInHistory = this.__addToIndex(this.__nextIndexToStoreTo, -1);
        var startIndex = this.__addToIndex(indexOfYoungestElementInHistory, -count + 1);
        var result;
        if(startIndex <= indexOfYoungestElementInHistory){

          result = this.__entries.slice(startIndex, indexOfYoungestElementInHistory + 1);
        } else {

          result = this.__entries.slice(startIndex, this.__entriesStored).concat(this.__entries.slice(0, indexOfYoungestElementInHistory + 1));
        };
      } else {

        result = [];
      };
      return result;
    },
    clear : function(){

      this.__entries = new Array(this.getMaxEntries());
      this.__entriesStored = 0;
      this.__entriesStoredSinceMark = 0;
      this.__nextIndexToStoreTo = 0;
    },
    __addToIndex : function(idx, addMe){

      var max = this.getMaxEntries();
      var result = (idx + addMe) % max;
      if(result < 0){

        result += max;
      };
      return result;
    }
  }
});

qx.Bootstrap.define("qx.log.appender.RingBuffer", {
  extend : qx.util.RingBuffer,
  construct : function(maxMessages){

    this.setMaxMessages(maxMessages || 50);
  },
  members : {
    setMaxMessages : function(maxMessages){

      this.setMaxEntries(maxMessages);
    },
    getMaxMessages : function(){

      return this.getMaxEntries();
    },
    process : function(entry){

      this.addEntry(entry);
    },
    getAllLogEvents : function(){

      return this.getAllEntries();
    },
    retrieveLogEvents : function(count, startingFromMark){

      return this.getEntries(count, startingFromMark);
    },
    clearHistory : function(){

      this.clear();
    }
  }
});

qx.Bootstrap.define("qx.log.Logger", {
  statics : {
    __level : "debug",
    setLevel : function(value){

      this.__level = value;
    },
    getLevel : function(){

      return this.__level;
    },
    setTreshold : function(value){

      this.__buffer.setMaxMessages(value);
    },
    getTreshold : function(){

      return this.__buffer.getMaxMessages();
    },
    __appender : {
    },
    __id : 0,
    register : function(appender){

      if(appender.$$id){

        return;
      };
      var id = this.__id++;
      this.__appender[id] = appender;
      appender.$$id = id;
      var levels = this.__levels;
      var entries = this.__buffer.getAllLogEvents();
      for(var i = 0,l = entries.length;i < l;i++){

        if(levels[entries[i].level] >= levels[this.__level]){

          appender.process(entries[i]);
        };
      };
    },
    unregister : function(appender){

      var id = appender.$$id;
      if(id == null){

        return;
      };
      delete this.__appender[id];
      delete appender.$$id;
    },
    debug : function(object, message){

      qx.log.Logger.__log("debug", arguments);
    },
    info : function(object, message){

      qx.log.Logger.__log("info", arguments);
    },
    warn : function(object, message){

      qx.log.Logger.__log("warn", arguments);
    },
    error : function(object, message){

      qx.log.Logger.__log("error", arguments);
    },
    trace : function(object){

      var trace = qx.dev.StackTrace.getStackTrace();
      qx.log.Logger.__log("info", [(typeof object !== "undefined" ? [object].concat(trace) : trace).join("\n")]);
    },
    deprecatedMethodWarning : function(fcn, msg){

      if(qx.core.Environment.get("qx.debug")){

        var functionName = qx.lang.Function.getName(fcn);
        this.warn("The method '" + functionName + "' is deprecated: " + (msg || "Please consult the API documentation of this method for alternatives."));
        this.trace();
      };
    },
    deprecatedClassWarning : function(clazz, msg){

      if(qx.core.Environment.get("qx.debug")){

        var className = clazz.classname || "unknown";
        this.warn("The class '" + className + "' is deprecated: " + (msg || "Please consult the API documentation of this class for alternatives."));
        this.trace();
      };
    },
    deprecatedEventWarning : function(clazz, event, msg){

      if(qx.core.Environment.get("qx.debug")){

        var className = clazz.self ? clazz.self.classname : "unknown";
        this.warn("The event '" + (event || "unknown") + "' from class '" + className + "' is deprecated: " + (msg || "Please consult the API documentation of this class for alternatives."));
        this.trace();
      };
    },
    deprecatedMixinWarning : function(clazz, msg){

      if(qx.core.Environment.get("qx.debug")){

        var mixinName = clazz ? clazz.name : "unknown";
        this.warn("The mixin '" + mixinName + "' is deprecated: " + (msg || "Please consult the API documentation of this class for alternatives."));
        this.trace();
      };
    },
    deprecatedConstantWarning : function(clazz, constant, msg){

      if(qx.core.Environment.get("qx.debug")){

        if(clazz.__defineGetter__){

          var self = this;
          var constantValue = clazz[constant];
          clazz.__defineGetter__(constant, function(){

            self.warn("The constant '" + constant + "' is deprecated: " + (msg || "Please consult the API documentation for alternatives."));
            self.trace();
            return constantValue;
          });
        };
      };
    },
    deprecateMethodOverriding : function(object, baseclass, methodName, msg){

      if(qx.core.Environment.get("qx.debug")){

        var clazz = object.constructor;
        while(clazz.classname !== baseclass.classname){

          if(clazz.prototype.hasOwnProperty(methodName)){

            this.warn("The method '" + qx.lang.Function.getName(object[methodName]) + "' overrides a deprecated method: " + (msg || "Please consult the API documentation for alternatives."));
            this.trace();
            break;
          };
          clazz = clazz.superclass;
        };
      };
    },
    clear : function(){

      this.__buffer.clearHistory();
    },
    __buffer : new qx.log.appender.RingBuffer(50),
    __levels : {
      debug : 0,
      info : 1,
      warn : 2,
      error : 3
    },
    __log : function(level, args){

      var levels = this.__levels;
      if(levels[level] < levels[this.__level]){

        return;
      };
      var object = args.length < 2 ? null : args[0];
      var start = object ? 1 : 0;
      var items = [];
      for(var i = start,l = args.length;i < l;i++){

        items.push(this.__serialize(args[i], true));
      };
      var time = new Date;
      var entry = {
        time : time,
        offset : time - qx.Bootstrap.LOADSTART,
        level : level,
        items : items,
        win : window
      };
      if(object){

        if(object.$$hash !== undefined){

          entry.object = object.$$hash;
        } else if(object.$$type){

          entry.clazz = object;
        } else if(object.constructor){

          entry.clazz = object.constructor;
        };;
      };
      this.__buffer.process(entry);
      var appender = this.__appender;
      for(var id in appender){

        appender[id].process(entry);
      };
    },
    __detect : function(value){

      if(value === undefined){

        return "undefined";
      } else if(value === null){

        return "null";
      };
      if(value.$$type){

        return "class";
      };
      var type = typeof value;
      if(type === "function" || type == "string" || type === "number" || type === "boolean"){

        return type;
      } else if(type === "object"){

        if(value.nodeType){

          return "node";
        } else if(value instanceof Error || (value.name && value.message)){

          return "error";
        } else if(value.classname){

          return "instance";
        } else if(value instanceof Array){

          return "array";
        } else if(value instanceof Date){

          return "date";
        } else {

          return "map";
        };;;;
      };
      if(value.toString){

        return "stringify";
      };
      return "unknown";
    },
    __serialize : function(value, deep){

      var type = this.__detect(value);
      var text = "unknown";
      var trace = [];
      switch(type){case "null":case "undefined":
      text = type;
      break;case "string":case "number":case "boolean":case "date":
      text = value;
      break;case "node":
      if(value.nodeType === 9){

        text = "document";
      } else if(value.nodeType === 3){

        text = "text[" + value.nodeValue + "]";
      } else if(value.nodeType === 1){

        text = value.nodeName.toLowerCase();
        if(value.id){

          text += "#" + value.id;
        };
      } else {

        text = "node";
      };;
      break;case "function":
      text = qx.lang.Function.getName(value) || type;
      break;case "instance":
      text = value.basename + "[" + value.$$hash + "]";
      break;case "class":case "stringify":
      text = value.toString();
      break;case "error":
      trace = qx.dev.StackTrace.getStackTraceFromError(value);
      text = (value.basename ? value.basename + ": " : "") + value.toString();
      break;case "array":
      if(deep){

        text = [];
        for(var i = 0,l = value.length;i < l;i++){

          if(text.length > 20){

            text.push("...(+" + (l - i) + ")");
            break;
          };
          text.push(this.__serialize(value[i], false));
        };
      } else {

        text = "[...(" + value.length + ")]";
      };
      break;case "map":
      if(deep){

        var temp;
        var sorted = [];
        for(var key in value){

          sorted.push(key);
        };
        sorted.sort();
        text = [];
        for(var i = 0,l = sorted.length;i < l;i++){

          if(text.length > 20){

            text.push("...(+" + (l - i) + ")");
            break;
          };
          key = sorted[i];
          temp = this.__serialize(value[key], false);
          temp.key = key;
          text.push(temp);
        };
      } else {

        var number = 0;
        for(var key in value){

          number++;
        };
        text = "{...(" + number + ")}";
      };
      break;};
      return {
        type : type,
        text : text,
        trace : trace
      };
    }
  },
  defer : function(statics){

    var logs = qx.Bootstrap.$$logs;
    for(var i = 0;i < logs.length;i++){

      statics.__log(logs[i][0], logs[i][1]);
    };
    qx.Bootstrap.debug = statics.debug;
    qx.Bootstrap.info = statics.info;
    qx.Bootstrap.warn = statics.warn;
    qx.Bootstrap.error = statics.error;
    qx.Bootstrap.trace = statics.trace;
  }
});

qx.Mixin.define("qx.core.MLogging", {
  members : {
    __Logger : qx.log.Logger,
    debug : function(varargs){

      this.__logMessage("debug", arguments);
    },
    info : function(varargs){

      this.__logMessage("info", arguments);
    },
    warn : function(varargs){

      this.__logMessage("warn", arguments);
    },
    error : function(varargs){

      this.__logMessage("error", arguments);
    },
    trace : function(){

      this.__Logger.trace(this);
    },
    __logMessage : function(level, varargs){

      var argumentsArray = qx.lang.Array.fromArguments(varargs);
      argumentsArray.unshift(this);
      this.__Logger[level].apply(this.__Logger, argumentsArray);
    }
  }
});

qx.Bootstrap.define("qx.dom.Node", {
  statics : {
    ELEMENT : 1,
    ATTRIBUTE : 2,
    TEXT : 3,
    CDATA_SECTION : 4,
    ENTITY_REFERENCE : 5,
    ENTITY : 6,
    PROCESSING_INSTRUCTION : 7,
    COMMENT : 8,
    DOCUMENT : 9,
    DOCUMENT_TYPE : 10,
    DOCUMENT_FRAGMENT : 11,
    NOTATION : 12,
    getDocument : function(node){

      return node.nodeType === this.DOCUMENT ? node : node.ownerDocument || node.document;
    },
    getWindow : function(node){

      if(node.nodeType == null){

        return node;
      };
      if(node.nodeType !== this.DOCUMENT){

        node = node.ownerDocument;
      };
      return node.defaultView || node.parentWindow;
    },
    getDocumentElement : function(node){

      return this.getDocument(node).documentElement;
    },
    getBodyElement : function(node){

      return this.getDocument(node).body;
    },
    isNode : function(node){

      return !!(node && node.nodeType != null);
    },
    isElement : function(node){

      return !!(node && node.nodeType === this.ELEMENT);
    },
    isDocument : function(node){

      return !!(node && node.nodeType === this.DOCUMENT);
    },
    isDocumentFragment : function(node){

      return !!(node && node.nodeType === this.DOCUMENT_FRAGMENT);
    },
    isText : function(node){

      return !!(node && node.nodeType === this.TEXT);
    },
    isWindow : function(obj){

      return !!(obj && obj.history && obj.location && obj.document);
    },
    isNodeName : function(node, nodeName){

      if(!nodeName || !node || !node.nodeName){

        return false;
      };
      return nodeName.toLowerCase() == qx.dom.Node.getName(node);
    },
    getName : function(node){

      if(!node || !node.nodeName){

        return null;
      };
      return node.nodeName.toLowerCase();
    },
    getText : function(node){

      if(!node || !node.nodeType){

        return null;
      };
      switch(node.nodeType){case 1:
      var i,a = [],nodes = node.childNodes,length = nodes.length;
      for(i = 0;i < length;i++){

        a[i] = this.getText(nodes[i]);
      };
      return a.join("");case 2:case 3:case 4:
      return node.nodeValue;};
      return null;
    },
    isBlockNode : function(node){

      if(!qx.dom.Node.isElement(node)){

        return false;
      };
      node = qx.dom.Node.getName(node);
      return /^(body|form|textarea|fieldset|ul|ol|dl|dt|dd|li|div|hr|p|h[1-6]|quote|pre|table|thead|tbody|tfoot|tr|td|th|iframe|address|blockquote)$/.test(node);
    }
  }
});

qx.Bootstrap.define("qx.bom.Event", {
  statics : {
    addNativeListener : function(target, type, listener, useCapture){

      if(target.addEventListener){

        target.addEventListener(type, listener, !!useCapture);
      } else if(target.attachEvent){

        target.attachEvent("on" + type, listener);
      } else if(typeof target["on" + type] != "undefined"){

        target["on" + type] = listener;
      } else {

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.warn("No method available to add native listener to " + target);
        };
      };;
    },
    removeNativeListener : function(target, type, listener, useCapture){

      if(target.removeEventListener){

        target.removeEventListener(type, listener, !!useCapture);
      } else if(target.detachEvent){

        try{

          target.detachEvent("on" + type, listener);
        } catch(e) {

          if(e.number !== -2146828218){

            throw e;
          };
        };
      } else if(typeof target["on" + type] != "undefined"){

        target["on" + type] = null;
      } else {

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.warn("No method available to remove native listener from " + target);
        };
      };;
    },
    getTarget : function(e){

      return e.target || e.srcElement;
    },
    getRelatedTarget : function(e){

      if(e.relatedTarget !== undefined){

        if((qx.core.Environment.get("engine.name") == "gecko")){

          try{

            e.relatedTarget && e.relatedTarget.nodeType;
          } catch(ex) {

            return null;
          };
        };
        return e.relatedTarget;
      } else if(e.fromElement !== undefined && (e.type === "mouseover" || e.type === "pointerover")){

        return e.fromElement;
      } else if(e.toElement !== undefined){

        return e.toElement;
      } else {

        return null;
      };;
    },
    preventDefault : function(e){

      if(e.preventDefault){

        e.preventDefault();
      } else {

        try{

          e.keyCode = 0;
        } catch(ex) {
        };
        e.returnValue = false;
      };
    },
    stopPropagation : function(e){

      if(e.stopPropagation){

        e.stopPropagation();
      } else {

        e.cancelBubble = true;
      };
    },
    fire : function(target, type){

      if(document.createEvent){

        var evt = document.createEvent("HTMLEvents");
        evt.initEvent(type, true, true);
        return !target.dispatchEvent(evt);
      } else {

        var evt = document.createEventObject();
        return target.fireEvent("on" + type, evt);
      };
    },
    supportsEvent : function(target, type){

      if(type.toLowerCase().indexOf("transitionend") != -1 && qx.core.Environment.get("engine.name") === "mshtml" && qx.core.Environment.get("browser.documentmode") > 9){

        return true;
      };
      if(target != window && type.toLowerCase().indexOf("transitionend") != -1){

        var transitionSupport = qx.core.Environment.get("css.transition");
        return (transitionSupport && transitionSupport["end-event"] == type);
      };
      var eventName = "on" + type.toLowerCase();
      var supportsEvent = (eventName in target);
      if(!supportsEvent){

        supportsEvent = typeof target[eventName] == "function";
        if(!supportsEvent && target.setAttribute){

          target.setAttribute(eventName, "return;");
          supportsEvent = typeof target[eventName] == "function";
          target.removeAttribute(eventName);
        };
      };
      return supportsEvent;
    },
    getEventName : function(target, type){

      var pref = [""].concat(qx.bom.Style.VENDOR_PREFIXES);
      for(var i = 0,l = pref.length;i < l;i++){

        var prefix = pref[i].toLowerCase();
        if(qx.bom.Event.supportsEvent(target, prefix + type)){

          return prefix ? prefix + qx.lang.String.firstUp(type) : type;
        };
      };
      return null;
    }
  }
});

qx.Bootstrap.define("qx.bom.Style", {
  statics : {
    VENDOR_PREFIXES : ["Webkit", "Moz", "O", "ms", "Khtml"],
    __cssName : {
    },
    __supports : null,
    getPropertyName : function(propertyName){

      var style = document.documentElement.style;
      if(style[propertyName] !== undefined){

        return propertyName;
      };
      for(var i = 0,l = this.VENDOR_PREFIXES.length;i < l;i++){

        var prefixedProp = this.VENDOR_PREFIXES[i] + qx.lang.String.firstUp(propertyName);
        if(style[prefixedProp] !== undefined){

          return prefixedProp;
        };
      };
      return null;
    },
    getCssName : function(propertyName){

      var cssName = this.__cssName[propertyName];
      if(!cssName){

        cssName = propertyName.replace(/[A-Z]/g, function(match){

          return ('-' + match.charAt(0).toLowerCase());
        });
        if((/^ms/.test(cssName))){

          cssName = "-" + cssName;
        };
        this.__cssName[propertyName] = cssName;
      };
      return cssName;
    },
    getAppliedStyle : function(element, propertyName, value, prefixed){

      var cssProperty = qx.bom.Style.getCssName(propertyName);
      var win = qx.dom.Node.getWindow(element);
      var vendorPrefixes = (prefixed !== false) ? [null].concat(this.VENDOR_PREFIXES) : [null];
      for(var i = 0,l = vendorPrefixes.length;i < l;i++){

        var supported = false;
        var prefixedVal = vendorPrefixes[i] ? "-" + vendorPrefixes[i].toLowerCase() + "-" + value : value;
        if(qx.bom.Style.__supports){

          supported = qx.bom.Style.__supports.call(win, cssProperty, prefixedVal);
        } else {

          element.style.cssText += cssProperty + ":" + prefixedVal + ";";
          supported = (typeof element.style[propertyName] == "string" && element.style[propertyName] !== "");
        };
        if(supported){

          return prefixedVal;
        };
      };
      return null;
    }
  },
  defer : function(statics){

    if(window.CSS && window.CSS.supports){

      qx.bom.Style.__supports = window.CSS.supports.bind(window.CSS);
    } else if(window.supportsCSS){

      qx.bom.Style.__supports = window.supportsCSS.bind(window);
    };
  }
});

qx.Bootstrap.define("qx.bom.client.OperatingSystem", {
  statics : {
    getName : function(){

      if(!navigator){

        return "";
      };
      var input = navigator.platform || "";
      var agent = navigator.userAgent || "";
      if(input.indexOf("Windows") != -1 || input.indexOf("Win32") != -1 || input.indexOf("Win64") != -1){

        return "win";
      } else if(input.indexOf("Macintosh") != -1 || input.indexOf("MacPPC") != -1 || input.indexOf("MacIntel") != -1 || input.indexOf("Mac OS X") != -1){

        return "osx";
      } else if(agent.indexOf("RIM Tablet OS") != -1){

        return "rim_tabletos";
      } else if(agent.indexOf("webOS") != -1){

        return "webos";
      } else if(input.indexOf("iPod") != -1 || input.indexOf("iPhone") != -1 || input.indexOf("iPad") != -1){

        return "ios";
      } else if(agent.indexOf("Android") != -1){

        return "android";
      } else if(input.indexOf("Linux") != -1){

        return "linux";
      } else if(input.indexOf("X11") != -1 || input.indexOf("BSD") != -1 || input.indexOf("Darwin") != -1){

        return "unix";
      } else if(input.indexOf("SymbianOS") != -1){

        return "symbian";
      } else if(input.indexOf("BlackBerry") != -1){

        return "blackberry";
      };;;;;;;;;
      return "";
    },
    __ids : {
      "Windows NT 6.3" : "8.1",
      "Windows NT 6.2" : "8",
      "Windows NT 6.1" : "7",
      "Windows NT 6.0" : "vista",
      "Windows NT 5.2" : "2003",
      "Windows NT 5.1" : "xp",
      "Windows NT 5.0" : "2000",
      "Windows 2000" : "2000",
      "Windows NT 4.0" : "nt4",
      "Win 9x 4.90" : "me",
      "Windows CE" : "ce",
      "Windows 98" : "98",
      "Win98" : "98",
      "Windows 95" : "95",
      "Win95" : "95",
      "Mac OS X 10_9" : "10.9",
      "Mac OS X 10.9" : "10.9",
      "Mac OS X 10_8" : "10.8",
      "Mac OS X 10.8" : "10.8",
      "Mac OS X 10_7" : "10.7",
      "Mac OS X 10.7" : "10.7",
      "Mac OS X 10_6" : "10.6",
      "Mac OS X 10.6" : "10.6",
      "Mac OS X 10_5" : "10.5",
      "Mac OS X 10.5" : "10.5",
      "Mac OS X 10_4" : "10.4",
      "Mac OS X 10.4" : "10.4",
      "Mac OS X 10_3" : "10.3",
      "Mac OS X 10.3" : "10.3",
      "Mac OS X 10_2" : "10.2",
      "Mac OS X 10.2" : "10.2",
      "Mac OS X 10_1" : "10.1",
      "Mac OS X 10.1" : "10.1",
      "Mac OS X 10_0" : "10.0",
      "Mac OS X 10.0" : "10.0"
    },
    getVersion : function(){

      var version = qx.bom.client.OperatingSystem.__getVersionForDesktopOs(navigator.userAgent);
      if(version == null){

        version = qx.bom.client.OperatingSystem.__getVersionForMobileOs(navigator.userAgent);
      };
      if(version != null){

        return version;
      } else {

        return "";
      };
    },
    __getVersionForDesktopOs : function(userAgent){

      var str = [];
      for(var key in qx.bom.client.OperatingSystem.__ids){

        str.push(key);
      };
      var reg = new RegExp("(" + str.join("|").replace(/\./g, "\.") + ")", "g");
      var match = reg.exec(userAgent);
      if(match && match[1]){

        return qx.bom.client.OperatingSystem.__ids[match[1]];
      };
      return null;
    },
    __getVersionForMobileOs : function(userAgent){

      var android = userAgent.indexOf("Android") != -1;
      var iOs = userAgent.match(/(iPad|iPhone|iPod)/i) ? true : false;
      if(android){

        var androidVersionRegExp = new RegExp(/ Android (\d+(?:\.\d+)+)/i);
        var androidMatch = androidVersionRegExp.exec(userAgent);
        if(androidMatch && androidMatch[1]){

          return androidMatch[1];
        };
      } else if(iOs){

        var iOsVersionRegExp = new RegExp(/(CPU|iPhone|iPod) OS (\d+)_(\d+)(?:_(\d+))*\s+/);
        var iOsMatch = iOsVersionRegExp.exec(userAgent);
        if(iOsMatch && iOsMatch[2] && iOsMatch[3]){

          if(iOsMatch[4]){

            return iOsMatch[2] + "." + iOsMatch[3] + "." + iOsMatch[4];
          } else {

            return iOsMatch[2] + "." + iOsMatch[3];
          };
        };
      };
      return null;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("os.name", statics.getName);
    qx.core.Environment.add("os.version", statics.getVersion);
  }
});

qx.Bootstrap.define("qx.bom.client.Browser", {
  statics : {
    getName : function(){

      var agent = navigator.userAgent;
      var reg = new RegExp("(" + qx.bom.client.Browser.__agents + ")(/|)?([0-9]+\.[0-9])?");
      var match = agent.match(reg);
      if(!match){

        return "";
      };
      var name = match[1].toLowerCase();
      var engine = qx.bom.client.Engine.getName();
      if(engine === "webkit"){

        if(name === "android"){

          name = "mobile chrome";
        } else if(agent.indexOf("Mobile Safari") !== -1 || agent.indexOf("Mobile/") !== -1){

          name = "mobile safari";
        } else if(agent.indexOf(" OPR/") != -1){

          name = "opera";
        };;
      } else if(engine === "mshtml"){

        if(name === "msie" || name === "trident"){

          name = "ie";
          if(qx.bom.client.OperatingSystem.getVersion() === "ce"){

            name = "iemobile";
          };
          var reg = new RegExp("IEMobile");
          if(agent.match(reg)){

            name = "iemobile";
          };
        };
      } else if(engine === "opera"){

        if(name === "opera mobi"){

          name = "operamobile";
        } else if(name === "opera mini"){

          name = "operamini";
        };
      } else if(engine === "gecko"){

        if(agent.indexOf("Maple") !== -1){

          name = "maple";
        };
      };;;
      return name;
    },
    getVersion : function(){

      var agent = navigator.userAgent;
      var reg = new RegExp("(" + qx.bom.client.Browser.__agents + ")(/| )([0-9]+\.[0-9])");
      var match = agent.match(reg);
      if(!match){

        return "";
      };
      var name = match[1].toLowerCase();
      var version = match[3];
      if(agent.match(/Version(\/| )([0-9]+\.[0-9])/)){

        version = RegExp.$2;
      };
      if(qx.bom.client.Engine.getName() == "mshtml"){

        version = qx.bom.client.Engine.getVersion();
        if(name === "msie" && qx.bom.client.OperatingSystem.getVersion() == "ce"){

          version = "5.0";
        };
      };
      if(qx.bom.client.Browser.getName() == "maple"){

        reg = new RegExp("(Maple )([0-9]+\.[0-9]+\.[0-9]*)");
        match = agent.match(reg);
        if(!match){

          return "";
        };
        version = match[2];
      };
      if(qx.bom.client.Engine.getName() == "webkit" || qx.bom.client.Browser.getName() == "opera"){

        if(agent.match(/OPR(\/| )([0-9]+\.[0-9])/)){

          version = RegExp.$2;
        };
      };
      return version;
    },
    getDocumentMode : function(){

      if(document.documentMode){

        return document.documentMode;
      };
      return 0;
    },
    getQuirksMode : function(){

      if(qx.bom.client.Engine.getName() == "mshtml" && parseFloat(qx.bom.client.Engine.getVersion()) >= 8){

        return qx.bom.client.Engine.DOCUMENT_MODE === 5;
      } else {

        return document.compatMode !== "CSS1Compat";
      };
    },
    __agents : {
      "webkit" : "AdobeAIR|Titanium|Fluid|Chrome|Android|Epiphany|Konqueror|iCab|iPad|iPhone|OmniWeb|Maxthon|Pre|PhantomJS|Mobile Safari|Safari",
      "gecko" : "prism|Fennec|Camino|Kmeleon|Galeon|Netscape|SeaMonkey|Namoroka|Firefox",
      "mshtml" : "IEMobile|Maxthon|MSIE|Trident",
      "opera" : "Opera Mini|Opera Mobi|Opera"
    }[qx.bom.client.Engine.getName()]
  },
  defer : function(statics){

    qx.core.Environment.add("browser.name", statics.getName);
    qx.core.Environment.add("browser.version", statics.getVersion);
    qx.core.Environment.add("browser.documentmode", statics.getDocumentMode);
    qx.core.Environment.add("browser.quirksmode", statics.getQuirksMode);
  }
});

qx.Bootstrap.define("qx.bom.client.CssTransition", {
  statics : {
    getTransitionName : function(){

      return qx.bom.Style.getPropertyName("transition");
    },
    getSupport : function(){

      var name = qx.bom.client.CssTransition.getTransitionName();
      if(!name){

        return null;
      };
      var eventName = qx.bom.Event.getEventName(window, "transitionEnd");
      eventName = eventName == "transitionEnd" ? eventName.toLowerCase() : eventName;
      if(!eventName){

        eventName = name + (name.indexOf("Trans") > 0 ? "E" : "e") + "nd";
      };
      return {
        name : name,
        "end-event" : eventName
      };
    }
  },
  defer : function(statics){

    qx.core.Environment.add("css.transition", statics.getSupport);
  }
});

qx.Class.define("qx.event.Manager", {
  extend : Object,
  construct : function(win, registration){

    this.__window = win;
    this.__windowId = qx.core.ObjectRegistry.toHashCode(win);
    this.__registration = registration;
    if(win.qx !== qx){

      var self = this;
      qx.bom.Event.addNativeListener(win, "unload", qx.event.GlobalError.observeMethod(function(){

        qx.bom.Event.removeNativeListener(win, "unload", arguments.callee);
        self.dispose();
      }));
    };
    this.__listeners = {
    };
    this.__handlers = {
    };
    this.__dispatchers = {
    };
    this.__handlerCache = {
    };
  },
  statics : {
    __lastUnique : 0,
    getNextUniqueId : function(){

      return (this.__lastUnique++) + "";
    }
  },
  members : {
    __registration : null,
    __listeners : null,
    __dispatchers : null,
    __disposeWrapper : null,
    __handlers : null,
    __handlerCache : null,
    __window : null,
    __windowId : null,
    getWindow : function(){

      return this.__window;
    },
    getWindowId : function(){

      return this.__windowId;
    },
    getHandler : function(clazz){

      var handler = this.__handlers[clazz.classname];
      if(handler){

        return handler;
      };
      return this.__handlers[clazz.classname] = new clazz(this);
    },
    getDispatcher : function(clazz){

      var dispatcher = this.__dispatchers[clazz.classname];
      if(dispatcher){

        return dispatcher;
      };
      return this.__dispatchers[clazz.classname] = new clazz(this, this.__registration);
    },
    getListeners : function(target, type, capture){

      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(!targetMap){

        return null;
      };
      var entryKey = type + (capture ? "|capture" : "|bubble");
      var entryList = targetMap[entryKey];
      return entryList ? entryList.concat() : null;
    },
    getAllListeners : function(){

      return this.__listeners;
    },
    serializeListeners : function(target){

      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      var result = [];
      if(targetMap){

        var indexOf,type,capture,entryList,entry;
        for(var entryKey in targetMap){

          indexOf = entryKey.indexOf("|");
          type = entryKey.substring(0, indexOf);
          capture = entryKey.charAt(indexOf + 1) == "c";
          entryList = targetMap[entryKey];
          for(var i = 0,l = entryList.length;i < l;i++){

            entry = entryList[i];
            result.push({
              self : entry.context,
              handler : entry.handler,
              type : type,
              capture : capture
            });
          };
        };
      };
      return result;
    },
    toggleAttachedEvents : function(target, enable){

      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(targetMap){

        var indexOf,type,capture,entryList;
        for(var entryKey in targetMap){

          indexOf = entryKey.indexOf("|");
          type = entryKey.substring(0, indexOf);
          capture = entryKey.charCodeAt(indexOf + 1) === 99;
          entryList = targetMap[entryKey];
          if(enable){

            this.__registerAtHandler(target, type, capture);
          } else {

            this.__unregisterAtHandler(target, type, capture);
          };
        };
      };
    },
    hasListener : function(target, type, capture){

      if(qx.core.Environment.get("qx.debug")){

        if(target == null){

          qx.log.Logger.trace(this);
          throw new Error("Invalid object: " + target);
        };
      };
      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(!targetMap){

        return false;
      };
      var entryKey = type + (capture ? "|capture" : "|bubble");
      var entryList = targetMap[entryKey];
      return !!(entryList && entryList.length > 0);
    },
    importListeners : function(target, list){

      if(qx.core.Environment.get("qx.debug")){

        if(target == null){

          qx.log.Logger.trace(this);
          throw new Error("Invalid object: " + target);
        };
      };
      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey] = {
      };
      var clazz = qx.event.Manager;
      for(var listKey in list){

        var item = list[listKey];
        var entryKey = item.type + (item.capture ? "|capture" : "|bubble");
        var entryList = targetMap[entryKey];
        if(!entryList){

          entryList = targetMap[entryKey] = [];
          this.__registerAtHandler(target, item.type, item.capture);
        };
        entryList.push({
          handler : item.listener,
          context : item.self,
          unique : item.unique || (clazz.__lastUnique++) + ""
        });
      };
    },
    addListener : function(target, type, listener, self, capture){

      if(qx.core.Environment.get("qx.debug")){

        var msg = "Failed to add event listener for type '" + type + "'" + " to the target '" + target.classname + "': ";
        qx.core.Assert.assertObject(target, msg + "Invalid Target.");
        qx.core.Assert.assertString(type, msg + "Invalid event type.");
        qx.core.Assert.assertFunction(listener, msg + "Invalid callback function");
        if(capture !== undefined){

          qx.core.Assert.assertBoolean(capture, "Invalid capture flag.");
        };
      };
      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(!targetMap){

        targetMap = this.__listeners[targetKey] = {
        };
      };
      var entryKey = type + (capture ? "|capture" : "|bubble");
      var entryList = targetMap[entryKey];
      if(!entryList){

        entryList = targetMap[entryKey] = [];
      };
      if(entryList.length === 0){

        this.__registerAtHandler(target, type, capture);
      };
      var unique = (qx.event.Manager.__lastUnique++) + "";
      var entry = {
        handler : listener,
        context : self,
        unique : unique
      };
      entryList.push(entry);
      return entryKey + "|" + unique;
    },
    findHandler : function(target, type){

      var isDomNode = false,isWindow = false,isObject = false,isDocument = false;
      var key;
      if(target.nodeType === 1){

        isDomNode = true;
        key = "DOM_" + target.tagName.toLowerCase() + "_" + type;
      } else if(target.nodeType === 9){

        isDocument = true;
        key = "DOCUMENT_" + type;
      } else if(target == this.__window){

        isWindow = true;
        key = "WIN_" + type;
      } else if(target.classname){

        isObject = true;
        key = "QX_" + target.classname + "_" + type;
      } else {

        key = "UNKNOWN_" + target + "_" + type;
      };;;
      var cache = this.__handlerCache;
      if(cache[key]){

        return cache[key];
      };
      var classes = this.__registration.getHandlers();
      var IEventHandler = qx.event.IEventHandler;
      var clazz,instance,supportedTypes,targetCheck;
      for(var i = 0,l = classes.length;i < l;i++){

        clazz = classes[i];
        supportedTypes = clazz.SUPPORTED_TYPES;
        if(supportedTypes && !supportedTypes[type]){

          continue;
        };
        targetCheck = clazz.TARGET_CHECK;
        if(targetCheck){

          var found = false;
          if(isDomNode && ((targetCheck & IEventHandler.TARGET_DOMNODE) != 0)){

            found = true;
          } else if(isWindow && ((targetCheck & IEventHandler.TARGET_WINDOW) != 0)){

            found = true;
          } else if(isObject && ((targetCheck & IEventHandler.TARGET_OBJECT) != 0)){

            found = true;
          } else if(isDocument && ((targetCheck & IEventHandler.TARGET_DOCUMENT) != 0)){

            found = true;
          };;;
          if(!found){

            continue;
          };
        };
        instance = this.getHandler(classes[i]);
        if(clazz.IGNORE_CAN_HANDLE || instance.canHandleEvent(target, type)){

          cache[key] = instance;
          return instance;
        };
      };
      return null;
    },
    __registerAtHandler : function(target, type, capture){

      var handler = this.findHandler(target, type);
      if(handler){

        handler.registerEvent(target, type, capture);
        return;
      };
      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.warn(this, "There is no event handler for the event '" + type + "' on target '" + target + "'!");
      };
    },
    removeListener : function(target, type, listener, self, capture){

      if(qx.core.Environment.get("qx.debug")){

        var msg = "Failed to remove event listener for type '" + type + "'" + " from the target '" + target.classname + "': ";
        qx.core.Assert.assertObject(target, msg + "Invalid Target.");
        qx.core.Assert.assertString(type, msg + "Invalid event type.");
        qx.core.Assert.assertFunction(listener, msg + "Invalid callback function");
        if(self !== undefined){

          qx.core.Assert.assertObject(self, "Invalid context for callback.");
        };
        if(capture !== undefined){

          qx.core.Assert.assertBoolean(capture, "Invalid capture flag.");
        };
      };
      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(!targetMap){

        return false;
      };
      var entryKey = type + (capture ? "|capture" : "|bubble");
      var entryList = targetMap[entryKey];
      if(!entryList){

        return false;
      };
      var entry;
      for(var i = 0,l = entryList.length;i < l;i++){

        entry = entryList[i];
        if(entry.handler === listener && entry.context === self){

          qx.lang.Array.removeAt(entryList, i);
          if(entryList.length == 0){

            this.__unregisterAtHandler(target, type, capture);
          };
          return true;
        };
      };
      return false;
    },
    removeListenerById : function(target, id){

      if(qx.core.Environment.get("qx.debug")){

        var msg = "Failed to remove event listener for id '" + id + "'" + " from the target '" + target.classname + "': ";
        qx.core.Assert.assertObject(target, msg + "Invalid Target.");
        qx.core.Assert.assertString(id, msg + "Invalid id type.");
      };
      var split = id.split("|");
      var type = split[0];
      var capture = split[1].charCodeAt(0) == 99;
      var unique = split[2];
      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(!targetMap){

        return false;
      };
      var entryKey = type + (capture ? "|capture" : "|bubble");
      var entryList = targetMap[entryKey];
      if(!entryList){

        return false;
      };
      var entry;
      for(var i = 0,l = entryList.length;i < l;i++){

        entry = entryList[i];
        if(entry.unique === unique){

          qx.lang.Array.removeAt(entryList, i);
          if(entryList.length == 0){

            this.__unregisterAtHandler(target, type, capture);
          };
          return true;
        };
      };
      return false;
    },
    removeAllListeners : function(target){

      var targetKey = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var targetMap = this.__listeners[targetKey];
      if(!targetMap){

        return false;
      };
      var split,type,capture;
      for(var entryKey in targetMap){

        if(targetMap[entryKey].length > 0){

          split = entryKey.split("|");
          type = split[0];
          capture = split[1] === "capture";
          this.__unregisterAtHandler(target, type, capture);
        };
      };
      delete this.__listeners[targetKey];
      return true;
    },
    deleteAllListeners : function(targetKey){

      delete this.__listeners[targetKey];
    },
    __unregisterAtHandler : function(target, type, capture){

      var handler = this.findHandler(target, type);
      if(handler){

        handler.unregisterEvent(target, type, capture);
        return;
      };
      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.warn(this, "There is no event handler for the event '" + type + "' on target '" + target + "'!");
      };
    },
    dispatchEvent : function(target, event){

      if(qx.core.Environment.get("qx.debug")){

        var msg = "Could not dispatch event '" + event + "' on target '" + target.classname + "': ";
        qx.core.Assert.assertNotUndefined(target, msg + "Invalid event target.");
        qx.core.Assert.assertNotNull(target, msg + "Invalid event target.");
        qx.core.Assert.assertInstance(event, qx.event.type.Event, msg + "Invalid event object.");
      };
      var type = event.getType();
      if(!event.getBubbles() && !this.hasListener(target, type)){

        qx.event.Pool.getInstance().poolObject(event);
        return true;
      };
      if(!event.getTarget()){

        event.setTarget(target);
      };
      var classes = this.__registration.getDispatchers();
      var instance;
      var dispatched = false;
      for(var i = 0,l = classes.length;i < l;i++){

        instance = this.getDispatcher(classes[i]);
        if(instance.canDispatchEvent(target, event, type)){

          instance.dispatchEvent(target, event, type);
          dispatched = true;
          break;
        };
      };
      if(!dispatched){

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.error(this, "No dispatcher can handle event of type " + type + " on " + target);
        };
        return true;
      };
      var preventDefault = event.getDefaultPrevented();
      qx.event.Pool.getInstance().poolObject(event);
      return !preventDefault;
    },
    dispose : function(){

      this.__registration.removeManager(this);
      qx.util.DisposeUtil.disposeMap(this, "__handlers");
      qx.util.DisposeUtil.disposeMap(this, "__dispatchers");
      this.__listeners = this.__window = this.__disposeWrapper = null;
      this.__registration = this.__handlerCache = null;
    }
  }
});

qx.Interface.define("qx.event.IEventHandler", {
  statics : {
    TARGET_DOMNODE : 1,
    TARGET_WINDOW : 2,
    TARGET_OBJECT : 4,
    TARGET_DOCUMENT : 8
  },
  members : {
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    }
  }
});

qx.Class.define("qx.event.Registration", {
  statics : {
    __managers : {
    },
    getManager : function(target){

      if(target == null){

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.error("qx.event.Registration.getManager(null) was called!");
          qx.log.Logger.trace(this);
        };
        target = window;
      } else if(target.nodeType){

        target = qx.dom.Node.getWindow(target);
      } else if(!qx.dom.Node.isWindow(target)){

        target = window;
      };;
      var hash = target.$$hash || qx.core.ObjectRegistry.toHashCode(target);
      var manager = this.__managers[hash];
      if(!manager){

        manager = new qx.event.Manager(target, this);
        this.__managers[hash] = manager;
      };
      return manager;
    },
    removeManager : function(mgr){

      var id = mgr.getWindowId();
      delete this.__managers[id];
    },
    addListener : function(target, type, listener, self, capture){

      return this.getManager(target).addListener(target, type, listener, self, capture);
    },
    removeListener : function(target, type, listener, self, capture){

      return this.getManager(target).removeListener(target, type, listener, self, capture);
    },
    removeListenerById : function(target, id){

      return this.getManager(target).removeListenerById(target, id);
    },
    removeAllListeners : function(target){

      return this.getManager(target).removeAllListeners(target);
    },
    deleteAllListeners : function(target){

      var targetKey = target.$$hash;
      if(targetKey){

        this.getManager(target).deleteAllListeners(targetKey);
      };
    },
    hasListener : function(target, type, capture){

      return this.getManager(target).hasListener(target, type, capture);
    },
    serializeListeners : function(target){

      return this.getManager(target).serializeListeners(target);
    },
    createEvent : function(type, clazz, args){

      if(qx.core.Environment.get("qx.debug")){

        if(arguments.length > 1 && clazz === undefined){

          throw new Error("Create event of type " + type + " with undefined class. Please use null to explicit fallback to default event type!");
        };
      };
      if(clazz == null){

        clazz = qx.event.type.Event;
      };
      var obj = qx.event.Pool.getInstance().getObject(clazz);
      args ? obj.init.apply(obj, args) : obj.init();
      if(type){

        obj.setType(type);
      };
      return obj;
    },
    dispatchEvent : function(target, event){

      return this.getManager(target).dispatchEvent(target, event);
    },
    fireEvent : function(target, type, clazz, args){

      if(qx.core.Environment.get("qx.debug")){

        if(arguments.length > 2 && clazz === undefined && args !== undefined){

          throw new Error("Create event of type " + type + " with undefined class. Please use null to explicit fallback to default event type!");
        };
        var msg = "Could not fire event '" + type + "' on target '" + (target ? target.classname : "undefined") + "': ";
        qx.core.Assert.assertNotUndefined(target, msg + "Invalid event target.");
        qx.core.Assert.assertNotNull(target, msg + "Invalid event target.");
      };
      var evt = this.createEvent(type, clazz || null, args);
      return this.getManager(target).dispatchEvent(target, evt);
    },
    fireNonBubblingEvent : function(target, type, clazz, args){

      if(qx.core.Environment.get("qx.debug")){

        if(arguments.length > 2 && clazz === undefined && args !== undefined){

          throw new Error("Create event of type " + type + " with undefined class. Please use null to explicit fallback to default event type!");
        };
      };
      var mgr = this.getManager(target);
      if(!mgr.hasListener(target, type, false)){

        return true;
      };
      var evt = this.createEvent(type, clazz || null, args);
      return mgr.dispatchEvent(target, evt);
    },
    PRIORITY_FIRST : -32000,
    PRIORITY_NORMAL : 0,
    PRIORITY_LAST : 32000,
    __handlers : [],
    addHandler : function(handler){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInterface(handler, qx.event.IEventHandler, "Invalid event handler.");
      };
      this.__handlers.push(handler);
      this.__handlers.sort(function(a, b){

        return a.PRIORITY - b.PRIORITY;
      });
    },
    getHandlers : function(){

      return this.__handlers;
    },
    __dispatchers : [],
    addDispatcher : function(dispatcher, priority){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInterface(dispatcher, qx.event.IEventDispatcher, "Invalid event dispatcher!");
      };
      this.__dispatchers.push(dispatcher);
      this.__dispatchers.sort(function(a, b){

        return a.PRIORITY - b.PRIORITY;
      });
    },
    getDispatchers : function(){

      return this.__dispatchers;
    }
  }
});

qx.Mixin.define("qx.core.MEvent", {
  members : {
    __Registration : qx.event.Registration,
    addListener : function(type, listener, self, capture){

      if(!this.$$disposed){

        return this.__Registration.addListener(this, type, listener, self, capture);
      };
      return null;
    },
    addListenerOnce : function(type, listener, self, capture){

      var callback = function(e){

        this.removeListener(type, listener, this, capture);
        listener.call(self || this, e);
      };
      if(!listener.$$wrapped_callback){

        listener.$$wrapped_callback = {
        };
      };
      listener.$$wrapped_callback[type + this.$$hash] = callback;
      return this.addListener(type, callback, this, capture);
    },
    removeListener : function(type, listener, self, capture){

      if(!this.$$disposed){

        if(listener.$$wrapped_callback && listener.$$wrapped_callback[type + this.$$hash]){

          var callback = listener.$$wrapped_callback[type + this.$$hash];
          delete listener.$$wrapped_callback[type + this.$$hash];
          listener = callback;
        };
        return this.__Registration.removeListener(this, type, listener, self, capture);
      };
      return false;
    },
    removeListenerById : function(id){

      if(!this.$$disposed){

        return this.__Registration.removeListenerById(this, id);
      };
      return false;
    },
    hasListener : function(type, capture){

      return this.__Registration.hasListener(this, type, capture);
    },
    dispatchEvent : function(evt){

      if(!this.$$disposed){

        return this.__Registration.dispatchEvent(this, evt);
      };
      return true;
    },
    fireEvent : function(type, clazz, args){

      if(!this.$$disposed){

        return this.__Registration.fireEvent(this, type, clazz, args);
      };
      return true;
    },
    fireNonBubblingEvent : function(type, clazz, args){

      if(!this.$$disposed){

        return this.__Registration.fireNonBubblingEvent(this, type, clazz, args);
      };
      return true;
    },
    fireDataEvent : function(type, data, oldData, cancelable){

      if(!this.$$disposed){

        if(oldData === undefined){

          oldData = null;
        };
        return this.__Registration.fireNonBubblingEvent(this, type, qx.event.type.Data, [data, oldData, !!cancelable]);
      };
      return true;
    }
  }
});

qx.Mixin.define("qx.core.MProperty", {
  members : {
    set : function(data, value){

      var setter = qx.core.Property.$$method.set;
      if(qx.Bootstrap.isString(data)){

        if(!this[setter[data]]){

          if(this["set" + qx.Bootstrap.firstUp(data)] != undefined){

            this["set" + qx.Bootstrap.firstUp(data)](value);
            return this;
          };
          throw new Error("No such property: " + data);
        };
        return this[setter[data]](value);
      } else {

        for(var prop in data){

          if(!this[setter[prop]]){

            if(this["set" + qx.Bootstrap.firstUp(prop)] != undefined){

              this["set" + qx.Bootstrap.firstUp(prop)](data[prop]);
              continue;
            };
            throw new Error("No such property: " + prop);
          };
          this[setter[prop]](data[prop]);
        };
        return this;
      };
    },
    get : function(prop){

      var getter = qx.core.Property.$$method.get;
      if(!this[getter[prop]]){

        if(this["get" + qx.Bootstrap.firstUp(prop)] != undefined){

          return this["get" + qx.Bootstrap.firstUp(prop)]();
        };
        throw new Error("No such property: " + prop);
      };
      return this[getter[prop]]();
    },
    reset : function(prop){

      var resetter = qx.core.Property.$$method.reset;
      if(!this[resetter[prop]]){

        if(this["reset" + qx.Bootstrap.firstUp(prop)] != undefined){

          this["reset" + qx.Bootstrap.firstUp(prop)]();
          return;
        };
        throw new Error("No such property: " + prop);
      };
      this[resetter[prop]]();
    }
  }
});

qx.Mixin.define("qx.core.MAssert", {
  members : {
    assert : function(condition, msg){

      qx.core.Assert.assert(condition, msg);
    },
    fail : function(msg, compact){

      qx.core.Assert.fail(msg, compact);
    },
    assertTrue : function(value, msg){

      qx.core.Assert.assertTrue(value, msg);
    },
    assertFalse : function(value, msg){

      qx.core.Assert.assertFalse(value, msg);
    },
    assertEquals : function(expected, found, msg){

      qx.core.Assert.assertEquals(expected, found, msg);
    },
    assertNotEquals : function(expected, found, msg){

      qx.core.Assert.assertNotEquals(expected, found, msg);
    },
    assertIdentical : function(expected, found, msg){

      qx.core.Assert.assertIdentical(expected, found, msg);
    },
    assertNotIdentical : function(expected, found, msg){

      qx.core.Assert.assertNotIdentical(expected, found, msg);
    },
    assertNotUndefined : function(value, msg){

      qx.core.Assert.assertNotUndefined(value, msg);
    },
    assertUndefined : function(value, msg){

      qx.core.Assert.assertUndefined(value, msg);
    },
    assertNotNull : function(value, msg){

      qx.core.Assert.assertNotNull(value, msg);
    },
    assertNull : function(value, msg){

      qx.core.Assert.assertNull(value, msg);
    },
    assertJsonEquals : function(expected, found, msg){

      qx.core.Assert.assertJsonEquals(expected, found, msg);
    },
    assertMatch : function(str, re, msg){

      qx.core.Assert.assertMatch(str, re, msg);
    },
    assertArgumentsCount : function(args, minCount, maxCount, msg){

      qx.core.Assert.assertArgumentsCount(args, minCount, maxCount, msg);
    },
    assertEventFired : function(obj, event, invokeFunc, listener, msg){

      qx.core.Assert.assertEventFired(obj, event, invokeFunc, listener, msg);
    },
    assertEventNotFired : function(obj, event, invokeFunc, msg){

      qx.core.Assert.assertEventNotFired(obj, event, invokeFunc, msg);
    },
    assertException : function(callback, exception, re, msg){

      qx.core.Assert.assertException(callback, exception, re, msg);
    },
    assertInArray : function(value, array, msg){

      qx.core.Assert.assertInArray(value, array, msg);
    },
    assertArrayEquals : function(expected, found, msg){

      qx.core.Assert.assertArrayEquals(expected, found, msg);
    },
    assertKeyInMap : function(value, map, msg){

      qx.core.Assert.assertKeyInMap(value, map, msg);
    },
    assertFunction : function(value, msg){

      qx.core.Assert.assertFunction(value, msg);
    },
    assertString : function(value, msg){

      qx.core.Assert.assertString(value, msg);
    },
    assertBoolean : function(value, msg){

      qx.core.Assert.assertBoolean(value, msg);
    },
    assertNumber : function(value, msg){

      qx.core.Assert.assertNumber(value, msg);
    },
    assertPositiveNumber : function(value, msg){

      qx.core.Assert.assertPositiveNumber(value, msg);
    },
    assertInteger : function(value, msg){

      qx.core.Assert.assertInteger(value, msg);
    },
    assertPositiveInteger : function(value, msg){

      qx.core.Assert.assertPositiveInteger(value, msg);
    },
    assertInRange : function(value, min, max, msg){

      qx.core.Assert.assertInRange(value, min, max, msg);
    },
    assertObject : function(value, msg){

      qx.core.Assert.assertObject(value, msg);
    },
    assertArray : function(value, msg){

      qx.core.Assert.assertArray(value, msg);
    },
    assertMap : function(value, msg){

      qx.core.Assert.assertMap(value, msg);
    },
    assertRegExp : function(value, msg){

      qx.core.Assert.assertRegExp(value, msg);
    },
    assertType : function(value, type, msg){

      qx.core.Assert.assertType(value, type, msg);
    },
    assertInstance : function(value, clazz, msg){

      qx.core.Assert.assertInstance(value, clazz, msg);
    },
    assertInterface : function(value, iface, msg){

      qx.core.Assert.assertInterface(value, iface, msg);
    },
    assertCssColor : function(expected, value, msg){

      qx.core.Assert.assertCssColor(expected, value, msg);
    },
    assertElement : function(value, msg){

      qx.core.Assert.assertElement(value, msg);
    },
    assertQxObject : function(value, msg){

      qx.core.Assert.assertQxObject(value, msg);
    },
    assertQxWidget : function(value, msg){

      qx.core.Assert.assertQxWidget(value, msg);
    }
  }
});

qx.Class.define("qx.core.Object", {
  extend : Object,
  include : qx.core.Environment.filter({
    "module.databinding" : qx.data.MBinding,
    "module.logger" : qx.core.MLogging,
    "module.events" : qx.core.MEvent,
    "module.property" : qx.core.MProperty,
    "qx.debug" : qx.core.MAssert
  }),
  construct : function(){

    qx.core.ObjectRegistry.register(this);
  },
  statics : {
    $$type : "Object"
  },
  members : {
    __Property : qx.core.Environment.get("module.property") ? qx.core.Property : null,
    toHashCode : function(){

      return this.$$hash;
    },
    toString : function(){

      return this.classname + "[" + this.$$hash + "]";
    },
    base : function(args, varargs){

      if(qx.core.Environment.get("qx.debug")){

        if(!qx.Bootstrap.isFunction(args.callee.base)){

          throw new Error("Cannot call super class. Method is not derived: " + args.callee.displayName);
        };
      };
      if(arguments.length === 1){

        return args.callee.base.call(this);
      } else {

        return args.callee.base.apply(this, Array.prototype.slice.call(arguments, 1));
      };
    },
    self : function(args){

      return args.callee.self;
    },
    clone : function(){

      if(!qx.core.Environment.get("module.property")){

        throw new Error("Cloning only possible with properties.");
      };
      var clazz = this.constructor;
      var clone = new clazz;
      var props = qx.Class.getProperties(clazz);
      var user = this.__Property.$$store.user;
      var setter = this.__Property.$$method.set;
      var name;
      for(var i = 0,l = props.length;i < l;i++){

        name = props[i];
        if(this.hasOwnProperty(user[name])){

          clone[setter[name]](this[user[name]]);
        };
      };
      return clone;
    },
    __userData : null,
    setUserData : function(key, value){

      if(!this.__userData){

        this.__userData = {
        };
      };
      this.__userData[key] = value;
    },
    getUserData : function(key){

      if(!this.__userData){

        return null;
      };
      var data = this.__userData[key];
      return data === undefined ? null : data;
    },
    isDisposed : function(){

      return this.$$disposed || false;
    },
    dispose : function(){

      if(this.$$disposed){

        return;
      };
      this.$$disposed = true;
      this.$$instance = null;
      this.$$allowconstruct = null;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.dispose.level") > 2){

          qx.Bootstrap.debug(this, "Disposing " + this.classname + "[" + this.toHashCode() + "]");
        };
      };
      var clazz = this.constructor;
      var mixins;
      while(clazz.superclass){

        if(clazz.$$destructor){

          clazz.$$destructor.call(this);
        };
        if(clazz.$$includes){

          mixins = clazz.$$flatIncludes;
          for(var i = 0,l = mixins.length;i < l;i++){

            if(mixins[i].$$destructor){

              mixins[i].$$destructor.call(this);
            };
          };
        };
        clazz = clazz.superclass;
      };
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.dispose.level") > 0){

          var key,value;
          for(key in this){

            value = this[key];
            if(value !== null && typeof value === "object" && !(qx.Bootstrap.isString(value))){

              if(this.constructor.prototype[key] != null){

                continue;
              };
              if(qx.core.Environment.get("qx.debug.dispose.level") > 1){

                qx.Bootstrap.warn(this, "Missing destruct definition for '" + key + "' in " + this.classname + "[" + this.toHashCode() + "]: " + value);
                delete this[key];
              };
            };
          };
        };
      };
    },
    _disposeObjects : function(varargs){

      qx.util.DisposeUtil.disposeObjects(this, arguments);
    },
    _disposeSingletonObjects : function(varargs){

      qx.util.DisposeUtil.disposeObjects(this, arguments, true);
    },
    _disposeArray : function(field){

      qx.util.DisposeUtil.disposeArray(this, field);
    },
    _disposeMap : function(field){

      qx.util.DisposeUtil.disposeMap(this, field);
    }
  },
  environment : {
    "qx.debug.dispose.level" : 0
  },
  destruct : function(){

    if(qx.core.Environment.get("module.events")){

      if(!qx.core.ObjectRegistry.inShutDown){

        qx.event.Registration.removeAllListeners(this);
      } else {

        qx.event.Registration.deleteAllListeners(this);
      };
    };
    qx.core.ObjectRegistry.unregister(this);
    this.__userData = null;
    if(qx.core.Environment.get("module.property")){

      var clazz = this.constructor;
      var properties;
      var store = this.__Property.$$store;
      var storeUser = store.user;
      var storeTheme = store.theme;
      var storeInherit = store.inherit;
      var storeUseinit = store.useinit;
      var storeInit = store.init;
      while(clazz){

        properties = clazz.$$properties;
        if(properties){

          for(var name in properties){

            if(properties[name].dereference){

              this[storeUser[name]] = this[storeTheme[name]] = this[storeInherit[name]] = this[storeUseinit[name]] = this[storeInit[name]] = undefined;
            };
          };
        };
        clazz = clazz.superclass;
      };
    };
  }
});

qx.Class.define("qx.util.DisposeUtil", {
  statics : {
    disposeObjects : function(obj, arr, disposeSingletons){

      var name;
      for(var i = 0,l = arr.length;i < l;i++){

        name = arr[i];
        if(obj[name] == null || !obj.hasOwnProperty(name)){

          continue;
        };
        if(!qx.core.ObjectRegistry.inShutDown){

          if(obj[name].dispose){

            if(!disposeSingletons && obj[name].constructor.$$instance){

              throw new Error("The object stored in key " + name + " is a singleton! Please use disposeSingleton instead.");
            } else {

              obj[name].dispose();
            };
          } else {

            throw new Error("Has no disposable object under key: " + name + "!");
          };
        };
        obj[name] = null;
      };
    },
    disposeArray : function(obj, field){

      var data = obj[field];
      if(!data){

        return;
      };
      if(qx.core.ObjectRegistry.inShutDown){

        obj[field] = null;
        return;
      };
      try{

        var entry;
        for(var i = data.length - 1;i >= 0;i--){

          entry = data[i];
          if(entry){

            entry.dispose();
          };
        };
      } catch(ex) {

        throw new Error("The array field: " + field + " of object: " + obj + " has non disposable entries: " + ex);
      };
      data.length = 0;
      obj[field] = null;
    },
    disposeMap : function(obj, field){

      var data = obj[field];
      if(!data){

        return;
      };
      if(qx.core.ObjectRegistry.inShutDown){

        obj[field] = null;
        return;
      };
      try{

        var entry;
        for(var key in data){

          entry = data[key];
          if(data.hasOwnProperty(key) && entry){

            entry.dispose();
          };
        };
      } catch(ex) {

        throw new Error("The map field: " + field + " of object: " + obj + " has non disposable entries: " + ex);
      };
      obj[field] = null;
    },
    disposeTriggeredBy : function(disposeMe, trigger){

      var triggerDispose = trigger.dispose;
      trigger.dispose = function(){

        triggerDispose.call(trigger);
        disposeMe.dispose();
      };
    },
    destroyContainer : function(container){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.ui.mobile && container instanceof qx.ui.mobile.core.Widget){

          qx.core.Assert.assertTrue(this.__isChildrenContainer(container), "Container must be an instance of qx.ui.mobile.container.Composite.");
        } else {

          qx.core.Assert.assertQxWidget(container, "First argument must be a container widget!");
          qx.core.Assert.assertTrue(this.__isChildrenContainer(container), "Container must be an instance of qx.ui.container.Composite or " + "qx.ui.container.Scroll or qx.ui.container.Resizer or " + "qx.ui.container.SlideBar or qx.ui.container.Stack!");
        };
      };
      var arr = [];
      this._collectContainerChildren(container, arr);
      var len = arr.length;
      for(var i = len - 1;i >= 0;i--){

        arr[i].destroy();
      };
      container.destroy();
    },
    _collectContainerChildren : function(container, arr){

      var children = container.getChildren();
      for(var i = 0;i < children.length;i++){

        var item = children[i];
        arr.push(item);
        if(this.__isChildrenContainer(item)){

          this._collectContainerChildren(item, arr);
        };
      };
    },
    __isChildrenContainer : function(obj){

      var classes = [];
      if(qx.ui.mobile && obj instanceof qx.ui.mobile.core.Widget){

        classes = [qx.ui.mobile.container.Composite];
      } else {

        classes = [qx.ui.container.Composite, qx.ui.container.Scroll, qx.ui.container.SlideBar, qx.ui.container.Stack];
      };
      for(var i = 0,l = classes.length;i < l;i++){

        if(typeof classes[i] !== "undefined" && qx.Class.isSubClassOf(obj.constructor, classes[i])){

          return true;
        };
      };
      return false;
    }
  }
});

qx.Class.define("qx.event.handler.Object", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_LAST,
    SUPPORTED_TYPES : null,
    TARGET_CHECK : qx.event.IEventHandler.TARGET_OBJECT,
    IGNORE_CAN_HANDLE : false
  },
  members : {
    canHandleEvent : function(target, type){

      return qx.Class.supportsEvent(target.constructor, type);
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    }
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Interface.define("qx.event.IEventDispatcher", {
  members : {
    canDispatchEvent : function(target, event, type){

      this.assertInstance(event, qx.event.type.Event);
      this.assertString(type);
    },
    dispatchEvent : function(target, event, type){

      this.assertInstance(event, qx.event.type.Event);
      this.assertString(type);
    }
  }
});

qx.Class.define("qx.event.type.Event", {
  extend : qx.core.Object,
  statics : {
    CAPTURING_PHASE : 1,
    AT_TARGET : 2,
    BUBBLING_PHASE : 3
  },
  members : {
    init : function(canBubble, cancelable){

      if(qx.core.Environment.get("qx.debug")){

        if(canBubble !== undefined){

          qx.core.Assert.assertBoolean(canBubble, "Invalid argument value 'canBubble'.");
        };
        if(cancelable !== undefined){

          qx.core.Assert.assertBoolean(cancelable, "Invalid argument value 'cancelable'.");
        };
      };
      this._type = null;
      this._target = null;
      this._currentTarget = null;
      this._relatedTarget = null;
      this._originalTarget = null;
      this._stopPropagation = false;
      this._preventDefault = false;
      this._bubbles = !!canBubble;
      this._cancelable = !!cancelable;
      this._timeStamp = (new Date()).getTime();
      this._eventPhase = null;
      return this;
    },
    clone : function(embryo){

      if(embryo){

        var clone = embryo;
      } else {

        var clone = qx.event.Pool.getInstance().getObject(this.constructor);
      };
      clone._type = this._type;
      clone._target = this._target;
      clone._currentTarget = this._currentTarget;
      clone._relatedTarget = this._relatedTarget;
      clone._originalTarget = this._originalTarget;
      clone._stopPropagation = this._stopPropagation;
      clone._bubbles = this._bubbles;
      clone._preventDefault = this._preventDefault;
      clone._cancelable = this._cancelable;
      return clone;
    },
    stop : function(){

      if(this._bubbles){

        this.stopPropagation();
      };
      if(this._cancelable){

        this.preventDefault();
      };
    },
    stopPropagation : function(){

      if(qx.core.Environment.get("qx.debug")){

        this.assertTrue(this._bubbles, "Cannot stop propagation on a non bubbling event: " + this.getType());
      };
      this._stopPropagation = true;
    },
    getPropagationStopped : function(){

      return !!this._stopPropagation;
    },
    preventDefault : function(){

      if(qx.core.Environment.get("qx.debug")){

        this.assertTrue(this._cancelable, "Cannot prevent default action on a non cancelable event: " + this.getType());
      };
      this._preventDefault = true;
    },
    getDefaultPrevented : function(){

      return !!this._preventDefault;
    },
    getType : function(){

      return this._type;
    },
    setType : function(type){

      this._type = type;
    },
    getEventPhase : function(){

      return this._eventPhase;
    },
    setEventPhase : function(eventPhase){

      this._eventPhase = eventPhase;
    },
    getTimeStamp : function(){

      return this._timeStamp;
    },
    getTarget : function(){

      return this._target;
    },
    setTarget : function(target){

      this._target = target;
    },
    getCurrentTarget : function(){

      return this._currentTarget || this._target;
    },
    setCurrentTarget : function(currentTarget){

      this._currentTarget = currentTarget;
    },
    getRelatedTarget : function(){

      return this._relatedTarget;
    },
    setRelatedTarget : function(relatedTarget){

      this._relatedTarget = relatedTarget;
    },
    getOriginalTarget : function(){

      return this._originalTarget;
    },
    setOriginalTarget : function(originalTarget){

      this._originalTarget = originalTarget;
    },
    getBubbles : function(){

      return this._bubbles;
    },
    setBubbles : function(bubbles){

      this._bubbles = bubbles;
    },
    isCancelable : function(){

      return this._cancelable;
    },
    setCancelable : function(cancelable){

      this._cancelable = cancelable;
    }
  },
  destruct : function(){

    this._target = this._currentTarget = this._relatedTarget = this._originalTarget = null;
  }
});

qx.Class.define("qx.util.ObjectPool", {
  extend : qx.core.Object,
  construct : function(size){

    this.base(arguments);
    this.__pool = {
    };
    if(size != null){

      this.setSize(size);
    };
  },
  properties : {
    size : {
      check : "Integer",
      init : Infinity
    }
  },
  members : {
    __pool : null,
    getObject : function(clazz){

      if(this.$$disposed){

        return new clazz;
      };
      if(!clazz){

        throw new Error("Class needs to be defined!");
      };
      var obj = null;
      var pool = this.__pool[clazz.classname];
      if(pool){

        obj = pool.pop();
      };
      if(obj){

        obj.$$pooled = false;
      } else {

        obj = new clazz;
      };
      return obj;
    },
    poolObject : function(obj){

      if(!this.__pool){

        return;
      };
      var classname = obj.classname;
      var pool = this.__pool[classname];
      if(obj.$$pooled){

        throw new Error("Object is already pooled: " + obj);
      };
      if(!pool){

        this.__pool[classname] = pool = [];
      };
      if(pool.length > this.getSize()){

        if(obj.destroy){

          obj.destroy();
        } else {

          obj.dispose();
        };
        return;
      };
      obj.$$pooled = true;
      pool.push(obj);
    }
  },
  destruct : function(){

    var pool = this.__pool;
    var classname,list,i,l;
    for(classname in pool){

      list = pool[classname];
      for(i = 0,l = list.length;i < l;i++){

        list[i].dispose();
      };
    };
    delete this.__pool;
  }
});

qx.Class.define("qx.event.Pool", {
  extend : qx.util.ObjectPool,
  type : "singleton",
  construct : function(){

    this.base(arguments, 30);
  }
});

qx.Class.define("qx.event.dispatch.Direct", {
  extend : qx.core.Object,
  implement : qx.event.IEventDispatcher,
  construct : function(manager){

    this._manager = manager;
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_LAST
  },
  members : {
    canDispatchEvent : function(target, event, type){

      return !event.getBubbles();
    },
    dispatchEvent : function(target, event, type){

      if(qx.core.Environment.get("qx.debug")){

        if(target instanceof qx.core.Object){

          var expectedEventClassName = qx.Class.getEventType(target.constructor, type);
          var expectedEventClass = qx.Class.getByName(expectedEventClassName);
          if(!expectedEventClass){

            this.error("The event type '" + type + "' declared in the class '" + target.constructor + " is not an available class': " + expectedEventClassName);
          } else if(!(event instanceof expectedEventClass)){

            this.error("Expected event type to be instanceof '" + expectedEventClassName + "' but found '" + event.classname + "'");
          };
        };
      };
      event.setEventPhase(qx.event.type.Event.AT_TARGET);
      var listeners = this._manager.getListeners(target, type, false);
      if(listeners){

        for(var i = 0,l = listeners.length;i < l;i++){

          var context = listeners[i].context || target;
          if(qx.core.Environment.get("qx.debug")){

            if(context && context.isDisposed && context.isDisposed()){

              this.warn("The context object '" + context + "' for the event '" + type + "' of '" + target + "'is already disposed.");
            };
          };
          listeners[i].handler.call(context, event);
        };
      };
    }
  },
  defer : function(statics){

    qx.event.Registration.addDispatcher(statics);
  }
});

qx.Class.define("qx.event.type.Data", {
  extend : qx.event.type.Event,
  members : {
    __data : null,
    __old : null,
    init : function(data, old, cancelable){

      this.base(arguments, false, cancelable);
      this.__data = data;
      this.__old = old;
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone.__data = this.__data;
      clone.__old = this.__old;
      return clone;
    },
    getData : function(){

      return this.__data;
    },
    getOldData : function(){

      return this.__old;
    }
  },
  destruct : function(){

    this.__data = this.__old = null;
  }
});

qx.Bootstrap.define("qx.bom.Selector", {
  statics : {
    query : null,
    matches : null
  }
});
(function(window){

  var i,support,Expr,getText,isXML,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando = "sizzle" + -(new Date()),preferredDoc = window.document,dirruns = 0,done = 0,classCache = createCache(),tokenCache = createCache(),compilerCache = createCache(),sortOrder = function(a, b){

    if(a === b){

      hasDuplicate = true;
    };
    return 0;
  },strundefined = typeof undefined,MAX_NEGATIVE = 1 << 31,hasOwn = ({
  }).hasOwnProperty,arr = [],pop = arr.pop,push_native = arr.push,push = arr.push,slice = arr.slice,indexOf = arr.indexOf || function(elem){

    var i = 0,len = this.length;
    for(;i < len;i++){

      if(this[i] === elem){

        return i;
      };
    };
    return -1;
  },booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace = "[\\x20\\t\\r\\n\\f]",characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier = characterEncoding.replace("w", "w#"),attributes = "\\[" + whitespace + "*(" + characterEncoding + ")" + whitespace + "*(?:([*^$|!~]?=)" + whitespace + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + identifier + ")|)|)" + whitespace + "*\\]",pseudos = ":(" + characterEncoding + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + attributes.replace(3, 8) + ")*)|.*)\\)|)",rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"),rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"),rpseudo = new RegExp(pseudos),ridentifier = new RegExp("^" + identifier + "$"),matchExpr = {
    "ID" : new RegExp("^#(" + characterEncoding + ")"),
    "CLASS" : new RegExp("^\\.(" + characterEncoding + ")"),
    "TAG" : new RegExp("^(" + characterEncoding.replace("w", "w*") + ")"),
    "ATTR" : new RegExp("^" + attributes),
    "PSEUDO" : new RegExp("^" + pseudos),
    "CHILD" : new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
    "bool" : new RegExp("^(?:" + booleans + ")$", "i"),
    "needsContext" : new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
  },rinputs = /^(?:input|select|textarea|button)$/i,rheader = /^h\d$/i,rnative = /^[^{]+\{\s*\[native \w/,rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling = /[+~]/,rescape = /'|\\/g,runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"),funescape = function(_, escaped, escapedWhitespace){

    var high = "0x" + escaped - 0x10000;
    return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 0x10000) : String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
  };
  try{

    push.apply((arr = slice.call(preferredDoc.childNodes)), preferredDoc.childNodes);
    arr[preferredDoc.childNodes.length].nodeType;
  } catch(e) {

    push = {
      apply : arr.length ? function(target, els){

        push_native.apply(target, slice.call(els));
      } : function(target, els){

        var j = target.length,i = 0;
        while((target[j++] = els[i++])){
        };
        target.length = j - 1;
      }
    };
  };
  function Sizzle(selector, context, results, seed){

    var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;
    if((context ? context.ownerDocument || context : preferredDoc) !== document){

      setDocument(context);
    };
    context = context || document;
    results = results || [];
    if(!selector || typeof selector !== "string"){

      return results;
    };
    if((nodeType = context.nodeType) !== 1 && nodeType !== 9){

      return [];
    };
    if(documentIsHTML && !seed){

      if((match = rquickExpr.exec(selector))){

        if((m = match[1])){

          if(nodeType === 9){

            elem = context.getElementById(m);
            if(elem && elem.parentNode){

              if(elem.id === m){

                results.push(elem);
                return results;
              };
            } else {

              return results;
            };
          } else {

            if(context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m){

              results.push(elem);
              return results;
            };
          };
        } else if(match[2]){

          push.apply(results, context.getElementsByTagName(selector));
          return results;
        } else if((m = match[3]) && support.getElementsByClassName && context.getElementsByClassName){

          push.apply(results, context.getElementsByClassName(m));
          return results;
        };;
      };
      if(support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))){

        nid = old = expando;
        newContext = context;
        newSelector = nodeType === 9 && selector;
        if(nodeType === 1 && context.nodeName.toLowerCase() !== "object"){

          groups = tokenize(selector);
          if((old = context.getAttribute("id"))){

            nid = old.replace(rescape, "\\$&");
          } else {

            context.setAttribute("id", nid);
          };
          nid = "[id='" + nid + "'] ";
          i = groups.length;
          while(i--){

            groups[i] = nid + toSelector(groups[i]);
          };
          newContext = rsibling.test(selector) && testContext(context.parentNode) || context;
          newSelector = groups.join(",");
        };
        if(newSelector){

          try{

            push.apply(results, newContext.querySelectorAll(newSelector));
            return results;
          } catch(qsaError) {
          }finally{

            if(!old){

              context.removeAttribute("id");
            };
          };
        };
      };
    };
    return select(selector.replace(rtrim, "$1"), context, results, seed);
  };
  function createCache(){

    var keys = [];
    function cache(key, value){

      if(keys.push(key + " ") > Expr.cacheLength){

        delete cache[keys.shift()];
      };
      return (cache[key + " "] = value);
    };
    return cache;
  };
  function markFunction(fn){

    fn[expando] = true;
    return fn;
  };
  function assert(fn){

    var div = document.createElement("div");
    try{

      return !!fn(div);
    } catch(e) {

      return false;
    }finally{

      if(div.parentNode){

        div.parentNode.removeChild(div);
      };
      div = null;
    };
  };
  function addHandle(attrs, handler){

    var arr = attrs.split("|"),i = attrs.length;
    while(i--){

      Expr.attrHandle[arr[i]] = handler;
    };
  };
  function siblingCheck(a, b){

    var cur = b && a,diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);
    if(diff){

      return diff;
    };
    if(cur){

      while((cur = cur.nextSibling)){

        if(cur === b){

          return -1;
        };
      };
    };
    return a ? 1 : -1;
  };
  function createInputPseudo(type){

    return function(elem){

      var name = elem.nodeName.toLowerCase();
      return name === "input" && elem.type === type;
    };
  };
  function createButtonPseudo(type){

    return function(elem){

      var name = elem.nodeName.toLowerCase();
      return (name === "input" || name === "button") && elem.type === type;
    };
  };
  function createPositionalPseudo(fn){

    return markFunction(function(argument){

      argument = +argument;
      return markFunction(function(seed, matches){

        var j,matchIndexes = fn([], seed.length, argument),i = matchIndexes.length;
        while(i--){

          if(seed[(j = matchIndexes[i])]){

            seed[j] = !(matches[j] = seed[j]);
          };
        };
      });
    });
  };
  function testContext(context){

    return context && typeof context.getElementsByTagName !== strundefined && context;
  };
  support = Sizzle.support = {
  };
  isXML = Sizzle.isXML = function(elem){

    var documentElement = elem && (elem.ownerDocument || elem).documentElement;
    return documentElement ? documentElement.nodeName !== "HTML" : false;
  };
  setDocument = Sizzle.setDocument = function(node){

    var hasCompare,doc = node ? node.ownerDocument || node : preferredDoc,parent = doc.defaultView;
    if(doc === document || doc.nodeType !== 9 || !doc.documentElement){

      return document;
    };
    document = doc;
    docElem = doc.documentElement;
    documentIsHTML = !isXML(doc);
    if(parent && parent !== parent.top){

      if(parent.addEventListener){

        parent.addEventListener("unload", function(){

          setDocument();
        }, false);
      } else if(parent.attachEvent){

        parent.attachEvent("onunload", function(){

          setDocument();
        });
      };
    };
    support.attributes = assert(function(div){

      div.className = "i";
      return !div.getAttribute("className");
    });
    support.getElementsByTagName = assert(function(div){

      div.appendChild(doc.createComment(""));
      return !div.getElementsByTagName("*").length;
    });
    support.getElementsByClassName = rnative.test(doc.getElementsByClassName) && assert(function(div){

      div.innerHTML = "<div class='a'></div><div class='a i'></div>";
      div.firstChild.className = "i";
      return div.getElementsByClassName("i").length === 2;
    });
    support.getById = assert(function(div){

      docElem.appendChild(div).id = expando;
      return !doc.getElementsByName || !doc.getElementsByName(expando).length;
    });
    if(support.getById){

      Expr.find["ID"] = function(id, context){

        if(typeof context.getElementById !== strundefined && documentIsHTML){

          var m = context.getElementById(id);
          return m && m.parentNode ? [m] : [];
        };
      };
      Expr.filter["ID"] = function(id){

        var attrId = id.replace(runescape, funescape);
        return function(elem){

          return elem.getAttribute("id") === attrId;
        };
      };
    } else {

      delete Expr.find["ID"];
      Expr.filter["ID"] = function(id){

        var attrId = id.replace(runescape, funescape);
        return function(elem){

          var node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode("id");
          return node && node.value === attrId;
        };
      };
    };
    Expr.find["TAG"] = support.getElementsByTagName ? function(tag, context){

      if(typeof context.getElementsByTagName !== strundefined){

        return context.getElementsByTagName(tag);
      };
    } : function(tag, context){

      var elem,tmp = [],i = 0,results = context.getElementsByTagName(tag);
      if(tag === "*"){

        while((elem = results[i++])){

          if(elem.nodeType === 1){

            tmp.push(elem);
          };
        };
        return tmp;
      };
      return results;
    };
    Expr.find["CLASS"] = support.getElementsByClassName && function(className, context){

      if(typeof context.getElementsByClassName !== strundefined && documentIsHTML){

        return context.getElementsByClassName(className);
      };
    };
    rbuggyMatches = [];
    rbuggyQSA = [];
    if((support.qsa = rnative.test(doc.querySelectorAll))){

      assert(function(div){

        div.innerHTML = "<select t=''><option selected=''></option></select>";
        if(div.querySelectorAll("[t^='']").length){

          rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")");
        };
        if(!div.querySelectorAll("[selected]").length){

          rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")");
        };
        if(!div.querySelectorAll(":checked").length){

          rbuggyQSA.push(":checked");
        };
      });
      assert(function(div){

        var input = doc.createElement("input");
        input.setAttribute("type", "hidden");
        div.appendChild(input).setAttribute("name", "D");
        if(div.querySelectorAll("[name=d]").length){

          rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=");
        };
        if(!div.querySelectorAll(":enabled").length){

          rbuggyQSA.push(":enabled", ":disabled");
        };
        div.querySelectorAll("*,:x");
        rbuggyQSA.push(",.*:");
      });
    };
    if((support.matchesSelector = rnative.test((matches = docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)))){

      assert(function(div){

        support.disconnectedMatch = matches.call(div, "div");
        matches.call(div, "[s!='']:x");
        rbuggyMatches.push("!=", pseudos);
      });
    };
    rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
    rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|"));
    hasCompare = rnative.test(docElem.compareDocumentPosition);
    contains = hasCompare || rnative.test(docElem.contains) ? function(a, b){

      var adown = a.nodeType === 9 ? a.documentElement : a,bup = b && b.parentNode;
      return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
    } : function(a, b){

      if(b){

        while((b = b.parentNode)){

          if(b === a){

            return true;
          };
        };
      };
      return false;
    };
    sortOrder = hasCompare ? function(a, b){

      if(a === b){

        hasDuplicate = true;
        return 0;
      };
      var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
      if(compare){

        return compare;
      };
      compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;
      if(compare & 1 || (!support.sortDetached && b.compareDocumentPosition(a) === compare)){

        if(a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a)){

          return -1;
        };
        if(b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b)){

          return 1;
        };
        return sortInput ? (indexOf.call(sortInput, a) - indexOf.call(sortInput, b)) : 0;
      };
      return compare & 4 ? -1 : 1;
    } : function(a, b){

      if(a === b){

        hasDuplicate = true;
        return 0;
      };
      var cur,i = 0,aup = a.parentNode,bup = b.parentNode,ap = [a],bp = [b];
      if(!aup || !bup){

        return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? (indexOf.call(sortInput, a) - indexOf.call(sortInput, b)) : 0;
      } else if(aup === bup){

        return siblingCheck(a, b);
      };
      cur = a;
      while((cur = cur.parentNode)){

        ap.unshift(cur);
      };
      cur = b;
      while((cur = cur.parentNode)){

        bp.unshift(cur);
      };
      while(ap[i] === bp[i]){

        i++;
      };
      return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;
    };
    return doc;
  };
  Sizzle.matches = function(expr, elements){

    return Sizzle(expr, null, null, elements);
  };
  Sizzle.matchesSelector = function(elem, expr){

    if((elem.ownerDocument || elem) !== document){

      setDocument(elem);
    };
    expr = expr.replace(rattributeQuotes, "='$1']");
    if(support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))){

      try{

        var ret = matches.call(elem, expr);
        if(ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11){

          return ret;
        };
      } catch(e) {
      };
    };
    return Sizzle(expr, document, null, [elem]).length > 0;
  };
  Sizzle.contains = function(context, elem){

    if((context.ownerDocument || context) !== document){

      setDocument(context);
    };
    return contains(context, elem);
  };
  Sizzle.attr = function(elem, name){

    if((elem.ownerDocument || elem) !== document){

      setDocument(elem);
    };
    var fn = Expr.attrHandle[name.toLowerCase()],val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;
    return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
  };
  Sizzle.error = function(msg){

    throw new Error("Syntax error, unrecognized expression: " + msg);
  };
  Sizzle.uniqueSort = function(results){

    var elem,duplicates = [],j = 0,i = 0;
    hasDuplicate = !support.detectDuplicates;
    sortInput = !support.sortStable && results.slice(0);
    results.sort(sortOrder);
    if(hasDuplicate){

      while((elem = results[i++])){

        if(elem === results[i]){

          j = duplicates.push(i);
        };
      };
      while(j--){

        results.splice(duplicates[j], 1);
      };
    };
    sortInput = null;
    return results;
  };
  getText = Sizzle.getText = function(elem){

    var node,ret = "",i = 0,nodeType = elem.nodeType;
    if(!nodeType){

      while((node = elem[i++])){

        ret += getText(node);
      };
    } else if(nodeType === 1 || nodeType === 9 || nodeType === 11){

      if(typeof elem.textContent === "string"){

        return elem.textContent;
      } else {

        for(elem = elem.firstChild;elem;elem = elem.nextSibling){

          ret += getText(elem);
        };
      };
    } else if(nodeType === 3 || nodeType === 4){

      return elem.nodeValue;
    };;
    return ret;
  };
  Expr = Sizzle.selectors = {
    cacheLength : 50,
    createPseudo : markFunction,
    match : matchExpr,
    attrHandle : {
    },
    find : {
    },
    relative : {
      ">" : {
        dir : "parentNode",
        first : true
      },
      " " : {
        dir : "parentNode"
      },
      "+" : {
        dir : "previousSibling",
        first : true
      },
      "~" : {
        dir : "previousSibling"
      }
    },
    preFilter : {
      "ATTR" : function(match){

        match[1] = match[1].replace(runescape, funescape);
        match[3] = (match[4] || match[5] || "").replace(runescape, funescape);
        if(match[2] === "~="){

          match[3] = " " + match[3] + " ";
        };
        return match.slice(0, 4);
      },
      "CHILD" : function(match){

        match[1] = match[1].toLowerCase();
        if(match[1].slice(0, 3) === "nth"){

          if(!match[3]){

            Sizzle.error(match[0]);
          };
          match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
          match[5] = +((match[7] + match[8]) || match[3] === "odd");
        } else if(match[3]){

          Sizzle.error(match[0]);
        };
        return match;
      },
      "PSEUDO" : function(match){

        var excess,unquoted = !match[5] && match[2];
        if(matchExpr["CHILD"].test(match[0])){

          return null;
        };
        if(match[3] && match[4] !== undefined){

          match[2] = match[4];
        } else if(unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)){

          match[0] = match[0].slice(0, excess);
          match[2] = unquoted.slice(0, excess);
        };
        return match.slice(0, 3);
      }
    },
    filter : {
      "TAG" : function(nodeNameSelector){

        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
        return nodeNameSelector === "*" ? function(){

          return true;
        } : function(elem){

          return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
        };
      },
      "CLASS" : function(className){

        var pattern = classCache[className + " "];
        return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function(elem){

          return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute("class") || "");
        });
      },
      "ATTR" : function(name, operator, check){

        return function(elem){

          var result = Sizzle.attr(elem, name);
          if(result == null){

            return operator === "!=";
          };
          if(!operator){

            return true;
          };
          result += "";
          return operator === "=" ? result === check : operator === "!=" ? result !== check : operator === "^=" ? check && result.indexOf(check) === 0 : operator === "*=" ? check && result.indexOf(check) > -1 : operator === "$=" ? check && result.slice(-check.length) === check : operator === "~=" ? (" " + result + " ").indexOf(check) > -1 : operator === "|=" ? result === check || result.slice(0, check.length + 1) === check + "-" : false;
        };
      },
      "CHILD" : function(type, what, argument, first, last){

        var simple = type.slice(0, 3) !== "nth",forward = type.slice(-4) !== "last",ofType = what === "of-type";
        return first === 1 && last === 0 ? function(elem){

          return !!elem.parentNode;
        } : function(elem, context, xml){

          var cache,outerCache,node,diff,nodeIndex,start,dir = simple !== forward ? "nextSibling" : "previousSibling",parent = elem.parentNode,name = ofType && elem.nodeName.toLowerCase(),useCache = !xml && !ofType;
          if(parent){

            if(simple){

              while(dir){

                node = elem;
                while((node = node[dir])){

                  if(ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1){

                    return false;
                  };
                };
                start = dir = type === "only" && !start && "nextSibling";
              };
              return true;
            };
            start = [forward ? parent.firstChild : parent.lastChild];
            if(forward && useCache){

              outerCache = parent[expando] || (parent[expando] = {
              });
              cache = outerCache[type] || [];
              nodeIndex = cache[0] === dirruns && cache[1];
              diff = cache[0] === dirruns && cache[2];
              node = nodeIndex && parent.childNodes[nodeIndex];
              while((node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop())){

                if(node.nodeType === 1 && ++diff && node === elem){

                  outerCache[type] = [dirruns, nodeIndex, diff];
                  break;
                };
              };
            } else if(useCache && (cache = (elem[expando] || (elem[expando] = {
            }))[type]) && cache[0] === dirruns){

              diff = cache[1];
            } else {

              while((node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop())){

                if((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff){

                  if(useCache){

                    (node[expando] || (node[expando] = {
                    }))[type] = [dirruns, diff];
                  };
                  if(node === elem){

                    break;
                  };
                };
              };
            };
            diff -= last;
            return diff === first || (diff % first === 0 && diff / first >= 0);
          };
        };
      },
      "PSEUDO" : function(pseudo, argument){

        var args,fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
        if(fn[expando]){

          return fn(argument);
        };
        if(fn.length > 1){

          args = [pseudo, pseudo, "", argument];
          return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function(seed, matches){

            var idx,matched = fn(seed, argument),i = matched.length;
            while(i--){

              idx = indexOf.call(seed, matched[i]);
              seed[idx] = !(matches[idx] = matched[i]);
            };
          }) : function(elem){

            return fn(elem, 0, args);
          };
        };
        return fn;
      }
    },
    pseudos : {
      "not" : markFunction(function(selector){

        var input = [],results = [],matcher = compile(selector.replace(rtrim, "$1"));
        return matcher[expando] ? markFunction(function(seed, matches, context, xml){

          var elem,unmatched = matcher(seed, null, xml, []),i = seed.length;
          while(i--){

            if((elem = unmatched[i])){

              seed[i] = !(matches[i] = elem);
            };
          };
        }) : function(elem, context, xml){

          input[0] = elem;
          matcher(input, null, xml, results);
          return !results.pop();
        };
      }),
      "has" : markFunction(function(selector){

        return function(elem){

          return Sizzle(selector, elem).length > 0;
        };
      }),
      "contains" : markFunction(function(text){

        return function(elem){

          return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;
        };
      }),
      "lang" : markFunction(function(lang){

        if(!ridentifier.test(lang || "")){

          Sizzle.error("unsupported lang: " + lang);
        };
        lang = lang.replace(runescape, funescape).toLowerCase();
        return function(elem){

          var elemLang;
          do {

            if((elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang"))){

              elemLang = elemLang.toLowerCase();
              return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
            };
          }while(((elem = elem.parentNode) && elem.nodeType === 1));
          return false;
        };
      }),
      "target" : function(elem){

        var hash = window.location && window.location.hash;
        return hash && hash.slice(1) === elem.id;
      },
      "root" : function(elem){

        return elem === docElem;
      },
      "focus" : function(elem){

        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
      },
      "enabled" : function(elem){

        return elem.disabled === false;
      },
      "disabled" : function(elem){

        return elem.disabled === true;
      },
      "checked" : function(elem){

        var nodeName = elem.nodeName.toLowerCase();
        return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
      },
      "selected" : function(elem){

        if(elem.parentNode){

          elem.parentNode.selectedIndex;
        };
        return elem.selected === true;
      },
      "empty" : function(elem){

        for(elem = elem.firstChild;elem;elem = elem.nextSibling){

          if(elem.nodeType < 6){

            return false;
          };
        };
        return true;
      },
      "parent" : function(elem){

        return !Expr.pseudos["empty"](elem);
      },
      "header" : function(elem){

        return rheader.test(elem.nodeName);
      },
      "input" : function(elem){

        return rinputs.test(elem.nodeName);
      },
      "button" : function(elem){

        var name = elem.nodeName.toLowerCase();
        return name === "input" && elem.type === "button" || name === "button";
      },
      "text" : function(elem){

        var attr;
        return elem.nodeName.toLowerCase() === "input" && elem.type === "text" && ((attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text");
      },
      "first" : createPositionalPseudo(function(){

        return [0];
      }),
      "last" : createPositionalPseudo(function(matchIndexes, length){

        return [length - 1];
      }),
      "eq" : createPositionalPseudo(function(matchIndexes, length, argument){

        return [argument < 0 ? argument + length : argument];
      }),
      "even" : createPositionalPseudo(function(matchIndexes, length){

        var i = 0;
        for(;i < length;i += 2){

          matchIndexes.push(i);
        };
        return matchIndexes;
      }),
      "odd" : createPositionalPseudo(function(matchIndexes, length){

        var i = 1;
        for(;i < length;i += 2){

          matchIndexes.push(i);
        };
        return matchIndexes;
      }),
      "lt" : createPositionalPseudo(function(matchIndexes, length, argument){

        var i = argument < 0 ? argument + length : argument;
        for(;--i >= 0;){

          matchIndexes.push(i);
        };
        return matchIndexes;
      }),
      "gt" : createPositionalPseudo(function(matchIndexes, length, argument){

        var i = argument < 0 ? argument + length : argument;
        for(;++i < length;){

          matchIndexes.push(i);
        };
        return matchIndexes;
      })
    }
  };
  Expr.pseudos["nth"] = Expr.pseudos["eq"];
  for(i in {
    radio : true,
    checkbox : true,
    file : true,
    password : true,
    image : true
  }){

    Expr.pseudos[i] = createInputPseudo(i);
  };
  for(i in {
    submit : true,
    reset : true
  }){

    Expr.pseudos[i] = createButtonPseudo(i);
  };
  function setFilters(){
  };
  setFilters.prototype = Expr.filters = Expr.pseudos;
  Expr.setFilters = new setFilters();
  function tokenize(selector, parseOnly){

    var matched,match,tokens,type,soFar,groups,preFilters,cached = tokenCache[selector + " "];
    if(cached){

      return parseOnly ? 0 : cached.slice(0);
    };
    soFar = selector;
    groups = [];
    preFilters = Expr.preFilter;
    while(soFar){

      if(!matched || (match = rcomma.exec(soFar))){

        if(match){

          soFar = soFar.slice(match[0].length) || soFar;
        };
        groups.push((tokens = []));
      };
      matched = false;
      if((match = rcombinators.exec(soFar))){

        matched = match.shift();
        tokens.push({
          value : matched,
          type : match[0].replace(rtrim, " ")
        });
        soFar = soFar.slice(matched.length);
      };
      for(type in Expr.filter){

        if((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))){

          matched = match.shift();
          tokens.push({
            value : matched,
            type : type,
            matches : match
          });
          soFar = soFar.slice(matched.length);
        };
      };
      if(!matched){

        break;
      };
    };
    return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);
  };
  function toSelector(tokens){

    var i = 0,len = tokens.length,selector = "";
    for(;i < len;i++){

      selector += tokens[i].value;
    };
    return selector;
  };
  function addCombinator(matcher, combinator, base){

    var dir = combinator.dir,checkNonElements = base && dir === "parentNode",doneName = done++;
    return combinator.first ? function(elem, context, xml){

      while((elem = elem[dir])){

        if(elem.nodeType === 1 || checkNonElements){

          return matcher(elem, context, xml);
        };
      };
    } : function(elem, context, xml){

      var oldCache,outerCache,newCache = [dirruns, doneName];
      if(xml){

        while((elem = elem[dir])){

          if(elem.nodeType === 1 || checkNonElements){

            if(matcher(elem, context, xml)){

              return true;
            };
          };
        };
      } else {

        while((elem = elem[dir])){

          if(elem.nodeType === 1 || checkNonElements){

            outerCache = elem[expando] || (elem[expando] = {
            });
            if((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName){

              return (newCache[2] = oldCache[2]);
            } else {

              outerCache[dir] = newCache;
              if((newCache[2] = matcher(elem, context, xml))){

                return true;
              };
            };
          };
        };
      };
    };
  };
  function elementMatcher(matchers){

    return matchers.length > 1 ? function(elem, context, xml){

      var i = matchers.length;
      while(i--){

        if(!matchers[i](elem, context, xml)){

          return false;
        };
      };
      return true;
    } : matchers[0];
  };
  function multipleContexts(selector, contexts, results){

    var i = 0,len = contexts.length;
    for(;i < len;i++){

      Sizzle(selector, contexts[i], results);
    };
    return results;
  };
  function condense(unmatched, map, filter, context, xml){

    var elem,newUnmatched = [],i = 0,len = unmatched.length,mapped = map != null;
    for(;i < len;i++){

      if((elem = unmatched[i])){

        if(!filter || filter(elem, context, xml)){

          newUnmatched.push(elem);
          if(mapped){

            map.push(i);
          };
        };
      };
    };
    return newUnmatched;
  };
  function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector){

    if(postFilter && !postFilter[expando]){

      postFilter = setMatcher(postFilter);
    };
    if(postFinder && !postFinder[expando]){

      postFinder = setMatcher(postFinder, postSelector);
    };
    return markFunction(function(seed, results, context, xml){

      var temp,i,elem,preMap = [],postMap = [],preexisting = results.length,elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []),matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems,matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
      if(matcher){

        matcher(matcherIn, matcherOut, context, xml);
      };
      if(postFilter){

        temp = condense(matcherOut, postMap);
        postFilter(temp, [], context, xml);
        i = temp.length;
        while(i--){

          if((elem = temp[i])){

            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
          };
        };
      };
      if(seed){

        if(postFinder || preFilter){

          if(postFinder){

            temp = [];
            i = matcherOut.length;
            while(i--){

              if((elem = matcherOut[i])){

                temp.push((matcherIn[i] = elem));
              };
            };
            postFinder(null, (matcherOut = []), temp, xml);
          };
          i = matcherOut.length;
          while(i--){

            if((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1){

              seed[temp] = !(results[temp] = elem);
            };
          };
        };
      } else {

        matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);
        if(postFinder){

          postFinder(null, results, matcherOut, xml);
        } else {

          push.apply(results, matcherOut);
        };
      };
    });
  };
  function matcherFromTokens(tokens){

    var checkContext,matcher,j,len = tokens.length,leadingRelative = Expr.relative[tokens[0].type],implicitRelative = leadingRelative || Expr.relative[" "],i = leadingRelative ? 1 : 0,matchContext = addCombinator(function(elem){

      return elem === checkContext;
    }, implicitRelative, true),matchAnyContext = addCombinator(function(elem){

      return indexOf.call(checkContext, elem) > -1;
    }, implicitRelative, true),matchers = [function(elem, context, xml){

      return (!leadingRelative && (xml || context !== outermostContext)) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
    }];
    for(;i < len;i++){

      if((matcher = Expr.relative[tokens[i].type])){

        matchers = [addCombinator(elementMatcher(matchers), matcher)];
      } else {

        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);
        if(matcher[expando]){

          j = ++i;
          for(;j < len;j++){

            if(Expr.relative[tokens[j].type]){

              break;
            };
          };
          return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({
            value : tokens[i - 2].type === " " ? "*" : ""
          })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens((tokens = tokens.slice(j))), j < len && toSelector(tokens));
        };
        matchers.push(matcher);
      };
    };
    return elementMatcher(matchers);
  };
  function matcherFromGroupMatchers(elementMatchers, setMatchers){

    var bySet = setMatchers.length > 0,byElement = elementMatchers.length > 0,superMatcher = function(seed, context, xml, results, outermost){

      var elem,j,matcher,matchedCount = 0,i = "0",unmatched = seed && [],setMatched = [],contextBackup = outermostContext,elems = seed || byElement && Expr.find["TAG"]("*", outermost),dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),len = elems.length;
      if(outermost){

        outermostContext = context !== document && context;
      };
      for(;i !== len && (elem = elems[i]) != null;i++){

        if(byElement && elem){

          j = 0;
          while((matcher = elementMatchers[j++])){

            if(matcher(elem, context, xml)){

              results.push(elem);
              break;
            };
          };
          if(outermost){

            dirruns = dirrunsUnique;
          };
        };
        if(bySet){

          if((elem = !matcher && elem)){

            matchedCount--;
          };
          if(seed){

            unmatched.push(elem);
          };
        };
      };
      matchedCount += i;
      if(bySet && i !== matchedCount){

        j = 0;
        while((matcher = setMatchers[j++])){

          matcher(unmatched, setMatched, context, xml);
        };
        if(seed){

          if(matchedCount > 0){

            while(i--){

              if(!(unmatched[i] || setMatched[i])){

                setMatched[i] = pop.call(results);
              };
            };
          };
          setMatched = condense(setMatched);
        };
        push.apply(results, setMatched);
        if(outermost && !seed && setMatched.length > 0 && (matchedCount + setMatchers.length) > 1){

          Sizzle.uniqueSort(results);
        };
      };
      if(outermost){

        dirruns = dirrunsUnique;
        outermostContext = contextBackup;
      };
      return unmatched;
    };
    return bySet ? markFunction(superMatcher) : superMatcher;
  };
  compile = Sizzle.compile = function(selector, match){

    var i,setMatchers = [],elementMatchers = [],cached = compilerCache[selector + " "];
    if(!cached){

      if(!match){

        match = tokenize(selector);
      };
      i = match.length;
      while(i--){

        cached = matcherFromTokens(match[i]);
        if(cached[expando]){

          setMatchers.push(cached);
        } else {

          elementMatchers.push(cached);
        };
      };
      cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
      cached.selector = selector;
    };
    return cached;
  };
  select = Sizzle.select = function(selector, context, results, seed){

    var i,tokens,token,type,find,compiled = typeof selector === "function" && selector,match = !seed && tokenize((selector = compiled.selector || selector));
    results = results || [];
    if(match.length === 1){

      tokens = match[0] = match[0].slice(0);
      if(tokens.length > 2 && (token = tokens[0]).type === "ID" && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]){

        context = (Expr.find["ID"](token.matches[0].replace(runescape, funescape), context) || [])[0];
        if(!context){

          return results;
        } else if(compiled){

          context = context.parentNode;
        };
        selector = selector.slice(tokens.shift().value.length);
      };
      i = matchExpr["needsContext"].test(selector) ? 0 : tokens.length;
      while(i--){

        token = tokens[i];
        if(Expr.relative[(type = token.type)]){

          break;
        };
        if((find = Expr.find[type])){

          if((seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))){

            tokens.splice(i, 1);
            selector = seed.length && toSelector(tokens);
            if(!selector){

              push.apply(results, seed);
              return results;
            };
            break;
          };
        };
      };
    };
    (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);
    return results;
  };
  support.sortStable = expando.split("").sort(sortOrder).join("") === expando;
  support.detectDuplicates = !!hasDuplicate;
  setDocument();
  support.sortDetached = assert(function(div1){

    return div1.compareDocumentPosition(document.createElement("div")) & 1;
  });
  if(!assert(function(div){

    div.innerHTML = "<a href='#'></a>";
    return div.firstChild.getAttribute("href") === "#";
  })){

    addHandle("type|href|height|width", function(elem, name, isXML){

      if(!isXML){

        return elem.getAttribute(name, name.toLowerCase() === "type" ? 1 : 2);
      };
    });
  };
  if(!support.attributes || !assert(function(div){

    div.innerHTML = "<input/>";
    div.firstChild.setAttribute("value", "");
    return div.firstChild.getAttribute("value") === "";
  })){

    addHandle("value", function(elem, name, isXML){

      if(!isXML && elem.nodeName.toLowerCase() === "input"){

        return elem.defaultValue;
      };
    });
  };
  if(!assert(function(div){

    return div.getAttribute("disabled") == null;
  })){

    addHandle(booleans, function(elem, name, isXML){

      var val;
      if(!isXML){

        return elem[name] === true ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
      };
    });
  };
  qx.bom.Selector.query = function(selector, context){

    return Sizzle(selector, context);
  };
  qx.bom.Selector.matches = function(selector, set){

    return Sizzle(selector, null, null, set);
  };
})(window);

qx.Bootstrap.define("q", {
  extend : qxWeb
});
q = qxWeb;

qx.Class.define("qx.ui.progressive.State", {
  extend : qx.core.Object,
  construct : function(initialState){

    this.base(arguments);
    this.setProgressive(initialState.progressive);
    this.setModel(initialState.model);
    this.setPane(initialState.pane);
    this.setBatchSize(initialState.batchSize);
    this.setRendererData(initialState.rendererData);
    this.setUserData(initialState.userData);
  },
  properties : {
    progressive : {
      nullable : true
    },
    model : {
      nullable : true
    },
    pane : {
      nullable : true
    },
    batchSize : {
    },
    rendererData : {
    },
    userData : {
    }
  },
  destruct : function(){

    this.setProgressive(null);
    this.setModel(null);
    this.setPane(null);
  }
});

qx.Class.define("qx.data.Conversion", {
  statics : {
    toString : function(value){

      return value + "";
    },
    TOSTRINGOPTIONS : {
      converter : null
    },
    toNumber : function(value){

      return parseFloat(value);
    },
    TONUMBEROPTIONS : {
      converter : null
    },
    toBoolean : function(value){

      return !!value;
    },
    TOBOOLEANOPTIONS : {
      converter : null
    }
  },
  defer : function(){

    qx.data.Conversion.TOSTRINGOPTIONS.converter = qx.data.Conversion.toString;
    qx.data.Conversion.TONUMBEROPTIONS.converter = qx.data.Conversion.toNumber;
    qx.data.Conversion.TOBOOLEANOPTIONS.converter = qx.data.Conversion.toBoolean;
  }
});

qx.Mixin.define("qx.ui.core.MSingleSelectionHandling", {
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    __manager : null,
    getSelection : function(){

      var selected = this.__getManager().getSelected();
      if(selected){

        return [selected];
      } else {

        return [];
      };
    },
    setSelection : function(items){

      switch(items.length){case 0:
      this.resetSelection();
      break;case 1:
      this.__getManager().setSelected(items[0]);
      break;default:
      throw new Error("Could only select one item, but the selection" + " array contains " + items.length + " items!");};
    },
    resetSelection : function(){

      this.__getManager().resetSelected();
    },
    isSelected : function(item){

      return this.__getManager().isSelected(item);
    },
    isSelectionEmpty : function(){

      return this.__getManager().isSelectionEmpty();
    },
    getSelectables : function(all){

      return this.__getManager().getSelectables(all);
    },
    _onChangeSelected : function(e){

      var newValue = e.getData();
      var oldVlaue = e.getOldData();
      newValue == null ? newValue = [] : newValue = [newValue];
      oldVlaue == null ? oldVlaue = [] : oldVlaue = [oldVlaue];
      this.fireDataEvent("changeSelection", newValue, oldVlaue);
    },
    __getManager : function(){

      if(this.__manager == null){

        var that = this;
        this.__manager = new qx.ui.core.SingleSelectionManager({
          getItems : function(){

            return that._getItems();
          },
          isItemSelectable : function(item){

            if(that._isItemSelectable){

              return that._isItemSelectable(item);
            } else {

              return item.isVisible();
            };
          }
        });
        this.__manager.addListener("changeSelected", this._onChangeSelected, this);
      };
      this.__manager.setAllowEmptySelection(this._isAllowEmptySelection());
      return this.__manager;
    }
  },
  destruct : function(){

    this._disposeObjects("__manager");
  }
});

qx.Class.define("qx.ui.core.SingleSelectionManager", {
  extend : qx.core.Object,
  construct : function(selectionProvider){

    this.base(arguments);
    if(qx.core.Environment.get("qx.debug")){

      qx.core.Assert.assertInterface(selectionProvider, qx.ui.core.ISingleSelectionProvider, "Invalid selectionProvider!");
    };
    this.__selectionProvider = selectionProvider;
  },
  events : {
    "changeSelected" : "qx.event.type.Data"
  },
  properties : {
    allowEmptySelection : {
      check : "Boolean",
      init : true,
      apply : "__applyAllowEmptySelection"
    }
  },
  members : {
    __selected : null,
    __selectionProvider : null,
    getSelected : function(){

      return this.__selected;
    },
    setSelected : function(item){

      if(!this.__isChildElement(item)){

        throw new Error("Could not select " + item + ", because it is not a child element!");
      };
      this.__setSelected(item);
    },
    resetSelected : function(){

      this.__setSelected(null);
    },
    isSelected : function(item){

      if(!this.__isChildElement(item)){

        throw new Error("Could not check if " + item + " is selected," + " because it is not a child element!");
      };
      return this.__selected === item;
    },
    isSelectionEmpty : function(){

      return this.__selected == null;
    },
    getSelectables : function(all){

      var items = this.__selectionProvider.getItems();
      var result = [];
      for(var i = 0;i < items.length;i++){

        if(this.__selectionProvider.isItemSelectable(items[i])){

          result.push(items[i]);
        };
      };
      if(!all){

        for(var i = result.length - 1;i >= 0;i--){

          if(!result[i].getEnabled()){

            result.splice(i, 1);
          };
        };
      };
      return result;
    },
    __applyAllowEmptySelection : function(value, old){

      if(!value){

        this.__setSelected(this.__selected);
      };
    },
    __setSelected : function(item){

      var oldSelected = this.__selected;
      var newSelected = item;
      if(newSelected != null && oldSelected === newSelected){

        return;
      };
      if(!this.isAllowEmptySelection() && newSelected == null){

        var firstElement = this.getSelectables(true)[0];
        if(firstElement){

          newSelected = firstElement;
        };
      };
      this.__selected = newSelected;
      this.fireDataEvent("changeSelected", newSelected, oldSelected);
    },
    __isChildElement : function(item){

      var items = this.__selectionProvider.getItems();
      for(var i = 0;i < items.length;i++){

        if(items[i] === item){

          return true;
        };
      };
      return false;
    }
  },
  destruct : function(){

    if(this.__selectionProvider.toHashCode){

      this._disposeObjects("__selectionProvider");
    } else {

      this.__selectionProvider = null;
    };
    this._disposeObjects("__selected");
  }
});

qx.Interface.define("qx.ui.core.ISingleSelectionProvider", {
  members : {
    getItems : function(){
    },
    isItemSelectable : function(item){
    }
  }
});

qx.Interface.define("qx.ui.form.IForm", {
  events : {
    "changeEnabled" : "qx.event.type.Data",
    "changeValid" : "qx.event.type.Data",
    "changeInvalidMessage" : "qx.event.type.Data",
    "changeRequired" : "qx.event.type.Data"
  },
  members : {
    setEnabled : function(enabled){

      return arguments.length == 1;
    },
    getEnabled : function(){
    },
    setRequired : function(required){

      return arguments.length == 1;
    },
    getRequired : function(){
    },
    setValid : function(valid){

      return arguments.length == 1;
    },
    getValid : function(){
    },
    setInvalidMessage : function(message){

      return arguments.length == 1;
    },
    getInvalidMessage : function(){
    },
    setRequiredInvalidMessage : function(message){

      return arguments.length == 1;
    },
    getRequiredInvalidMessage : function(){
    }
  }
});

qx.Mixin.define("qx.ui.form.MModelSelection", {
  construct : function(){

    this.__modelSelection = new qx.data.Array();
    this.__modelSelection.addListener("change", this.__onModelSelectionArrayChange, this);
    this.addListener("changeSelection", this.__onModelSelectionChange, this);
  },
  events : {
    changeModelSelection : "qx.event.type.Data"
  },
  members : {
    __modelSelection : null,
    __inSelectionChange : false,
    __onModelSelectionChange : function(){

      if(this.__inSelectionChange){

        return;
      };
      var data = this.getSelection();
      var modelSelection = [];
      for(var i = 0;i < data.length;i++){

        var item = data[i];
        var model = item.getModel ? item.getModel() : null;
        if(model !== null){

          modelSelection.push(model);
        };
      };
      if(modelSelection.length === data.length){

        try{

          this.setModelSelection(modelSelection);
        } catch(e) {

          throw new Error("Could not set the model selection. Maybe your models are not unique? " + e);
        };
      };
    },
    __onModelSelectionArrayChange : function(){

      this.__inSelectionChange = true;
      var selectables = this.getSelectables(true);
      var itemSelection = [];
      var modelSelection = this.__modelSelection.toArray();
      for(var i = 0;i < modelSelection.length;i++){

        var model = modelSelection[i];
        for(var j = 0;j < selectables.length;j++){

          var selectable = selectables[j];
          var selectableModel = selectable.getModel ? selectable.getModel() : null;
          if(model === selectableModel){

            itemSelection.push(selectable);
            break;
          };
        };
      };
      this.setSelection(itemSelection);
      this.__inSelectionChange = false;
      var currentSelection = this.getSelection();
      if(!qx.lang.Array.equals(currentSelection, itemSelection)){

        this.__onModelSelectionChange();
      };
    },
    getModelSelection : function(){

      return this.__modelSelection;
    },
    setModelSelection : function(modelSelection){

      if(!modelSelection){

        this.__modelSelection.removeAll();
        return;
      };
      if(qx.core.Environment.get("qx.debug")){

        this.assertArray(modelSelection, "Please use an array as parameter.");
      };
      modelSelection.unshift(this.__modelSelection.getLength());
      modelSelection.unshift(0);
      var returnArray = this.__modelSelection.splice.apply(this.__modelSelection, modelSelection);
      returnArray.dispose();
    }
  },
  destruct : function(){

    this._disposeObjects("__modelSelection");
  }
});

qx.Mixin.define("qx.data.marshal.MEventBubbling", {
  events : {
    "changeBubble" : "qx.event.type.Data"
  },
  members : {
    _applyEventPropagation : function(value, old, name){

      this.fireDataEvent("changeBubble", {
        value : value,
        name : name,
        old : old,
        item : this
      });
      this._registerEventChaining(value, old, name);
    },
    _registerEventChaining : function(value, old, name){

      if(old != null && old.getUserData && old.getUserData("idBubble-" + this.$$hash) != null){

        var listeners = old.getUserData("idBubble-" + this.$$hash);
        for(var i = 0;i < listeners.length;i++){

          old.removeListenerById(listeners[i]);
        };
        old.setUserData("idBubble-" + this.$$hash, null);
      };
      if((value instanceof qx.core.Object) && qx.Class.hasMixin(value.constructor, qx.data.marshal.MEventBubbling)){

        var listener = qx.lang.Function.bind(this.__changePropertyListener, this, name);
        var id = value.addListener("changeBubble", listener, this);
        var listeners = value.getUserData("idBubble-" + this.$$hash);
        if(listeners == null){

          listeners = [];
          value.setUserData("idBubble-" + this.$$hash, listeners);
        };
        listeners.push(id);
      };
    },
    __changePropertyListener : function(name, e){

      var data = e.getData();
      var value = data.value;
      var old = data.old;
      if(qx.Class.hasInterface(e.getTarget().constructor, qx.data.IListData)){

        if(data.name.indexOf){

          var dotIndex = data.name.indexOf(".") != -1 ? data.name.indexOf(".") : data.name.length;
          var bracketIndex = data.name.indexOf("[") != -1 ? data.name.indexOf("[") : data.name.length;
          if(bracketIndex == 0){

            var newName = name + data.name;
          } else if(dotIndex < bracketIndex){

            var index = data.name.substring(0, dotIndex);
            var rest = data.name.substring(dotIndex + 1, data.name.length);
            if(rest[0] != "["){

              rest = "." + rest;
            };
            var newName = name + "[" + index + "]" + rest;
          } else if(bracketIndex < dotIndex){

            var index = data.name.substring(0, bracketIndex);
            var rest = data.name.substring(bracketIndex, data.name.length);
            var newName = name + "[" + index + "]" + rest;
          } else {

            var newName = name + "[" + data.name + "]";
          };;
        } else {

          var newName = name + "[" + data.name + "]";
        };
      } else {

        if(parseInt(name) == name && name !== ""){

          name = "[" + name + "]";
        };
        var newName = name + "." + data.name;
      };
      this.fireDataEvent("changeBubble", {
        value : value,
        name : newName,
        old : old,
        item : data.item || e.getTarget()
      });
    }
  }
});

qx.Class.define("qx.data.Array", {
  extend : qx.core.Object,
  include : qx.data.marshal.MEventBubbling,
  implement : [qx.data.IListData],
  construct : function(param){

    this.base(arguments);
    if(param == undefined){

      this.__array = [];
    } else if(arguments.length > 1){

      this.__array = [];
      for(var i = 0;i < arguments.length;i++){

        this.__array.push(arguments[i]);
      };
    } else if(typeof param == "number"){

      this.__array = new Array(param);
    } else if(param instanceof Array){

      this.__array = qx.lang.Array.clone(param);
    } else {

      this.__array = [];
      this.dispose();
      throw new Error("Type of the parameter not supported!");
    };;;
    for(var i = 0;i < this.__array.length;i++){

      this._applyEventPropagation(this.__array[i], null, i);
    };
    this.__updateLength();
    if(qx.core.Environment.get("qx.debug")){

      this[0] = "Please use 'toArray()' to see the content.";
    };
  },
  properties : {
    autoDisposeItems : {
      check : "Boolean",
      init : false
    }
  },
  events : {
    "change" : "qx.event.type.Data",
    "changeLength" : "qx.event.type.Data"
  },
  members : {
    __array : null,
    concat : function(array){

      if(array){

        var newArray = this.__array.concat(array);
      } else {

        var newArray = this.__array.concat();
      };
      return new qx.data.Array(newArray);
    },
    join : function(connector){

      return this.__array.join(connector);
    },
    pop : function(){

      var item = this.__array.pop();
      this.__updateLength();
      this._registerEventChaining(null, item, this.length - 1);
      this.fireDataEvent("changeBubble", {
        value : [],
        name : this.length + "",
        old : [item],
        item : this
      });
      this.fireDataEvent("change", {
        start : this.length - 1,
        end : this.length - 1,
        type : "remove",
        removed : [item],
        added : []
      }, null);
      return item;
    },
    push : function(varargs){

      for(var i = 0;i < arguments.length;i++){

        this.__array.push(arguments[i]);
        this.__updateLength();
        this._registerEventChaining(arguments[i], null, this.length - 1);
        this.fireDataEvent("changeBubble", {
          value : [arguments[i]],
          name : (this.length - 1) + "",
          old : [],
          item : this
        });
        this.fireDataEvent("change", {
          start : this.length - 1,
          end : this.length - 1,
          type : "add",
          added : [arguments[i]],
          removed : []
        }, null);
      };
      return this.length;
    },
    reverse : function(){

      if(this.length == 0){

        return;
      };
      var oldArray = this.__array.concat();
      this.__array.reverse();
      this.__updateEventPropagation(0, this.length);
      this.fireDataEvent("change", {
        start : 0,
        end : this.length - 1,
        type : "order",
        added : [],
        removed : []
      }, null);
      this.fireDataEvent("changeBubble", {
        value : this.__array,
        name : "0-" + (this.__array.length - 1),
        old : oldArray,
        item : this
      });
    },
    shift : function(){

      if(this.length == 0){

        return;
      };
      var item = this.__array.shift();
      this.__updateLength();
      this._registerEventChaining(null, item, this.length - 1);
      this.__updateEventPropagation(0, this.length);
      this.fireDataEvent("changeBubble", {
        value : [],
        name : "0",
        old : [item],
        item : this
      });
      this.fireDataEvent("change", {
        start : 0,
        end : this.length - 1,
        type : "remove",
        removed : [item],
        added : []
      }, null);
      return item;
    },
    slice : function(from, to){

      return new qx.data.Array(this.__array.slice(from, to));
    },
    splice : function(startIndex, amount, varargs){

      var oldLength = this.__array.length;
      var returnArray = this.__array.splice.apply(this.__array, arguments);
      if(this.__array.length != oldLength){

        this.__updateLength();
      } else if(amount == arguments.length - 2){

        var addedItems = qx.lang.Array.fromArguments(arguments, 2);
        for(var i = 0;i < addedItems.length;i++){

          if(addedItems[i] !== returnArray[i]){

            break;
          };
          if(i == addedItems.length - 1){

            return new qx.data.Array();
          };
        };
      };
      var removed = amount > 0;
      var added = arguments.length > 2;
      if(removed || added){

        var addedItems = qx.lang.Array.fromArguments(arguments, 2);
        if(returnArray.length == 0){

          var type = "add";
          var end = startIndex + addedItems.length;
        } else if(addedItems.length == 0){

          var type = "remove";
          var end = this.length - 1;
        } else {

          var type = "add/remove";
          var end = startIndex + Math.abs(addedItems.length - returnArray.length);
        };
        this.fireDataEvent("change", {
          start : startIndex,
          end : end,
          type : type,
          added : addedItems,
          removed : returnArray
        }, null);
      };
      for(var i = 0;i < returnArray.length;i++){

        this._registerEventChaining(null, returnArray[i], i);
      };
      for(var i = 2;i < arguments.length;i++){

        this._registerEventChaining(arguments[i], null, startIndex + (i - 2));
      };
      this.__updateEventPropagation(startIndex + (arguments.length - 2) - amount, this.length);
      var value = [];
      for(var i = 2;i < arguments.length;i++){

        value[i - 2] = arguments[i];
      };
      var endIndex = (startIndex + Math.max(arguments.length - 3, amount - 1));
      var name = startIndex == endIndex ? endIndex : startIndex + "-" + endIndex;
      this.fireDataEvent("changeBubble", {
        value : value,
        name : name + "",
        old : returnArray,
        item : this
      });
      return (new qx.data.Array(returnArray));
    },
    sort : function(func){

      if(this.length == 0){

        return;
      };
      var oldArray = this.__array.concat();
      this.__array.sort.apply(this.__array, arguments);
      if(qx.lang.Array.equals(this.__array, oldArray) === true){

        return;
      };
      this.__updateEventPropagation(0, this.length);
      this.fireDataEvent("change", {
        start : 0,
        end : this.length - 1,
        type : "order",
        added : [],
        removed : []
      }, null);
      this.fireDataEvent("changeBubble", {
        value : this.__array,
        name : "0-" + (this.length - 1),
        old : oldArray,
        item : this
      });
    },
    unshift : function(varargs){

      for(var i = arguments.length - 1;i >= 0;i--){

        this.__array.unshift(arguments[i]);
        this.__updateLength();
        this.__updateEventPropagation(0, this.length);
        this.fireDataEvent("changeBubble", {
          value : [this.__array[0]],
          name : "0",
          old : [this.__array[1]],
          item : this
        });
        this.fireDataEvent("change", {
          start : 0,
          end : this.length - 1,
          type : "add",
          added : [arguments[i]],
          removed : []
        }, null);
      };
      return this.length;
    },
    toArray : function(){

      return this.__array;
    },
    getItem : function(index){

      return this.__array[index];
    },
    setItem : function(index, item){

      var oldItem = this.__array[index];
      if(oldItem === item){

        return;
      };
      this.__array[index] = item;
      this._registerEventChaining(item, oldItem, index);
      if(this.length != this.__array.length){

        this.__updateLength();
      };
      this.fireDataEvent("changeBubble", {
        value : [item],
        name : index + "",
        old : [oldItem],
        item : this
      });
      this.fireDataEvent("change", {
        start : index,
        end : index,
        type : "add/remove",
        added : [item],
        removed : [oldItem]
      }, null);
    },
    getLength : function(){

      return this.length;
    },
    indexOf : function(item){

      return this.__array.indexOf(item);
    },
    lastIndexOf : function(item){

      return this.__array.lastIndexOf(item);
    },
    toString : function(){

      if(this.__array != null){

        return this.__array.toString();
      };
      return "";
    },
    contains : function(item){

      return this.__array.indexOf(item) !== -1;
    },
    copy : function(){

      return this.concat();
    },
    insertAt : function(index, item){

      this.splice(index, 0, item).dispose();
    },
    insertBefore : function(before, item){

      var index = this.indexOf(before);
      if(index == -1){

        this.push(item);
      } else {

        this.splice(index, 0, item).dispose();
      };
    },
    insertAfter : function(after, item){

      var index = this.indexOf(after);
      if(index == -1 || index == (this.length - 1)){

        this.push(item);
      } else {

        this.splice(index + 1, 0, item).dispose();
      };
    },
    removeAt : function(index){

      var returnArray = this.splice(index, 1);
      var item = returnArray.getItem(0);
      returnArray.dispose();
      return item;
    },
    removeAll : function(){

      for(var i = 0;i < this.__array.length;i++){

        this._registerEventChaining(null, this.__array[i], i);
      };
      if(this.getLength() == 0){

        return [];
      };
      var oldLength = this.getLength();
      var items = this.__array.concat();
      this.__array.length = 0;
      this.__updateLength();
      this.fireDataEvent("changeBubble", {
        value : [],
        name : "0-" + (oldLength - 1),
        old : items,
        item : this
      });
      this.fireDataEvent("change", {
        start : 0,
        end : oldLength - 1,
        type : "remove",
        removed : items,
        added : []
      }, null);
      return items;
    },
    append : function(array){

      if(array instanceof qx.data.Array){

        array = array.toArray();
      };
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertArray(array, "The parameter must be an array.");
      };
      Array.prototype.push.apply(this.__array, array);
      for(var i = 0;i < array.length;i++){

        this._registerEventChaining(array[i], null, this.__array.length + i);
      };
      var oldLength = this.length;
      this.__updateLength();
      var name = oldLength == (this.length - 1) ? oldLength : oldLength + "-" + (this.length - 1);
      this.fireDataEvent("changeBubble", {
        value : array,
        name : name + "",
        old : [],
        item : this
      });
      this.fireDataEvent("change", {
        start : oldLength,
        end : this.length - 1,
        type : "add",
        added : array,
        removed : []
      }, null);
    },
    remove : function(item){

      var index = this.indexOf(item);
      if(index != -1){

        this.splice(index, 1).dispose();
        return item;
      };
    },
    equals : function(array){

      if(this.length !== array.length){

        return false;
      };
      for(var i = 0;i < this.length;i++){

        if(this.getItem(i) !== array.getItem(i)){

          return false;
        };
      };
      return true;
    },
    sum : function(){

      var result = 0;
      for(var i = 0;i < this.length;i++){

        result += this.getItem(i);
      };
      return result;
    },
    max : function(){

      var result = this.getItem(0);
      for(var i = 1;i < this.length;i++){

        if(this.getItem(i) > result){

          result = this.getItem(i);
        };
      };
      return result === undefined ? null : result;
    },
    min : function(){

      var result = this.getItem(0);
      for(var i = 1;i < this.length;i++){

        if(this.getItem(i) < result){

          result = this.getItem(i);
        };
      };
      return result === undefined ? null : result;
    },
    forEach : function(callback, context){

      for(var i = 0;i < this.__array.length;i++){

        callback.call(context, this.__array[i], i, this);
      };
    },
    filter : function(callback, self){

      return new qx.data.Array(this.__array.filter(callback, self));
    },
    map : function(callback, self){

      return new qx.data.Array(this.__array.map(callback, self));
    },
    some : function(callback, self){

      return this.__array.some(callback, self);
    },
    every : function(callback, self){

      return this.__array.every(callback, self);
    },
    reduce : function(callback, initValue){

      return this.__array.reduce(callback, initValue);
    },
    reduceRight : function(callback, initValue){

      return this.__array.reduceRight(callback, initValue);
    },
    __updateLength : function(){

      var oldLength = this.length;
      this.length = this.__array.length;
      this.fireDataEvent("changeLength", this.length, oldLength);
    },
    __updateEventPropagation : function(from, to){

      for(var i = from;i < to;i++){

        this._registerEventChaining(this.__array[i], this.__array[i], i);
      };
    }
  },
  destruct : function(){

    for(var i = 0;i < this.__array.length;i++){

      var item = this.__array[i];
      this._applyEventPropagation(null, item, i);
      if(this.isAutoDisposeItems() && item && item instanceof qx.core.Object){

        item.dispose();
      };
    };
    this.__array = null;
  }
});

qx.Interface.define("qx.ui.core.ISingleSelection", {
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    getSelection : function(){

      return true;
    },
    setSelection : function(items){

      return arguments.length == 1;
    },
    resetSelection : function(){

      return true;
    },
    isSelected : function(item){

      return arguments.length == 1;
    },
    isSelectionEmpty : function(){

      return true;
    },
    getSelectables : function(all){

      return arguments.length == 1;
    }
  }
});

qx.Interface.define("qx.ui.form.IModelSelection", {
  members : {
    setModelSelection : function(value){
    },
    getModelSelection : function(){
    }
  }
});

qx.Class.define("qx.ui.form.RadioGroup", {
  extend : qx.core.Object,
  implement : [qx.ui.core.ISingleSelection, qx.ui.form.IForm, qx.ui.form.IModelSelection],
  include : [qx.ui.core.MSingleSelectionHandling, qx.ui.form.MModelSelection],
  construct : function(varargs){

    this.base(arguments);
    this.__items = [];
    this.addListener("changeSelection", this.__onChangeSelection, this);
    if(varargs != null){

      this.add.apply(this, arguments);
    };
  },
  properties : {
    enabled : {
      check : "Boolean",
      apply : "_applyEnabled",
      event : "changeEnabled",
      init : true
    },
    wrap : {
      check : "Boolean",
      init : true
    },
    allowEmptySelection : {
      check : "Boolean",
      init : false,
      apply : "_applyAllowEmptySelection"
    },
    valid : {
      check : "Boolean",
      init : true,
      apply : "_applyValid",
      event : "changeValid"
    },
    required : {
      check : "Boolean",
      init : false,
      event : "changeRequired"
    },
    invalidMessage : {
      check : "String",
      init : "",
      event : "changeInvalidMessage",
      apply : "_applyInvalidMessage"
    },
    requiredInvalidMessage : {
      check : "String",
      nullable : true,
      event : "changeInvalidMessage"
    }
  },
  members : {
    __items : null,
    getItems : function(){

      return this.__items;
    },
    add : function(varargs){

      var items = this.__items;
      var item;
      for(var i = 0,l = arguments.length;i < l;i++){

        item = arguments[i];
        if(qx.lang.Array.contains(items, item)){

          continue;
        };
        item.addListener("changeValue", this._onItemChangeChecked, this);
        items.push(item);
        item.setGroup(this);
        if(item.getValue()){

          this.setSelection([item]);
        };
      };
      if(!this.isAllowEmptySelection() && items.length > 0 && !this.getSelection()[0]){

        this.setSelection([items[0]]);
      };
    },
    remove : function(item){

      var items = this.__items;
      if(qx.lang.Array.contains(items, item)){

        qx.lang.Array.remove(items, item);
        if(item.getGroup() === this){

          item.resetGroup();
        };
        item.removeListener("changeValue", this._onItemChangeChecked, this);
        if(item.getValue()){

          this.resetSelection();
        };
      };
    },
    getChildren : function(){

      return this.__items;
    },
    _onItemChangeChecked : function(e){

      var item = e.getTarget();
      if(item.getValue()){

        this.setSelection([item]);
      } else if(this.getSelection()[0] == item){

        this.resetSelection();
      };
    },
    _applyInvalidMessage : function(value, old){

      for(var i = 0;i < this.__items.length;i++){

        this.__items[i].setInvalidMessage(value);
      };
    },
    _applyValid : function(value, old){

      for(var i = 0;i < this.__items.length;i++){

        this.__items[i].setValid(value);
      };
    },
    _applyEnabled : function(value, old){

      var items = this.__items;
      if(value == null){

        for(var i = 0,l = items.length;i < l;i++){

          items[i].resetEnabled();
        };
      } else {

        for(var i = 0,l = items.length;i < l;i++){

          items[i].setEnabled(value);
        };
      };
    },
    _applyAllowEmptySelection : function(value, old){

      if(!value && this.isSelectionEmpty()){

        this.resetSelection();
      };
    },
    selectNext : function(){

      var item = this.getSelection()[0];
      var items = this.__items;
      var index = items.indexOf(item);
      if(index == -1){

        return;
      };
      var i = 0;
      var length = items.length;
      if(this.getWrap()){

        index = (index + 1) % length;
      } else {

        index = Math.min(index + 1, length - 1);
      };
      while(i < length && !items[index].getEnabled()){

        index = (index + 1) % length;
        i++;
      };
      this.setSelection([items[index]]);
    },
    selectPrevious : function(){

      var item = this.getSelection()[0];
      var items = this.__items;
      var index = items.indexOf(item);
      if(index == -1){

        return;
      };
      var i = 0;
      var length = items.length;
      if(this.getWrap()){

        index = (index - 1 + length) % length;
      } else {

        index = Math.max(index - 1, 0);
      };
      while(i < length && !items[index].getEnabled()){

        index = (index - 1 + length) % length;
        i++;
      };
      this.setSelection([items[index]]);
    },
    _getItems : function(){

      return this.getItems();
    },
    _isAllowEmptySelection : function(){

      return this.isAllowEmptySelection();
    },
    _isItemSelectable : function(item){

      return this.__items.indexOf(item) != -1;
    },
    __onChangeSelection : function(e){

      var value = e.getData()[0];
      var old = e.getOldData()[0];
      if(old){

        old.setValue(false);
      };
      if(value){

        value.setValue(true);
      };
    }
  },
  destruct : function(){

    this._disposeArray("__items");
  }
});

qx.Class.define("qx.io.PartLoader", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    var loader = this._loader = qx.Part.getInstance();
    var self = this;
    loader.onpart = function(part){

      if(part.getReadyState() == "complete"){

        self.fireDataEvent("partLoaded", part);
      } else {

        self.fireDataEvent("partLoadingError", part.getName());
      };
    };
  },
  events : {
    "partLoaded" : "qx.event.type.Data",
    "partLoadingError" : "qx.event.type.Data"
  },
  statics : {
    require : function(partNames, callback, self){

      this.getInstance().require(partNames, callback, self);
    }
  },
  members : {
    require : function(partNames, callback, self){

      this._loader.require(partNames, callback, self);
    },
    getPart : function(name){

      return this.getParts()[name];
    },
    hasPart : function(name){

      return this.getPart(name) !== undefined;
    },
    getParts : function(){

      return this._loader.getParts();
    }
  }
});

qx.Bootstrap.define("qx.Part", {
  construct : function(loader){

    var bootPackageKey = loader.parts[loader.boot][0];
    this.__loader = loader;
    this.__partListners = {
    };
    this.__packageListeners = {
    };
    this.__packageClosureListeners = {
    };
    this.__packages = {
    };
    for(var key in loader.packages){

      var pkg = new qx.io.part.Package(this.__decodeUris(loader.packages[key].uris), key, key == bootPackageKey);
      this.__packages[key] = pkg;
    };
    this.__parts = {
    };
    var parts = loader.parts;
    var closureParts = loader.closureParts || {
    };
    for(var name in parts){

      var pkgKeys = parts[name];
      var packages = [];
      for(var i = 0;i < pkgKeys.length;i++){

        packages.push(this.__packages[pkgKeys[i]]);
      };
      if(closureParts[name]){

        var part = new qx.io.part.ClosurePart(name, packages, this);
      } else {

        var part = new qx.io.part.Part(name, packages, this);
      };
      this.__parts[name] = part;
    };
  },
  statics : {
    TIMEOUT : 7500,
    getInstance : function(){

      if(!this.$$instance){

        this.$$instance = new this(qx.$$loader);
      };
      return this.$$instance;
    },
    require : function(partNames, callback, self){

      this.getInstance().require(partNames, callback, self);
    },
    preload : function(partNames){

      this.getInstance().preload(partNames);
    },
    $$notifyLoad : function(id, closure){

      this.getInstance().saveClosure(id, closure);
    }
  },
  members : {
    __loader : null,
    __packages : null,
    __parts : null,
    __packageClosureListeners : null,
    addToPackage : function(pkg){

      this.__packages[pkg.getId()] = pkg;
    },
    saveClosure : function(id, closure){

      var pkg = this.__packages[id];
      if(!pkg){

        throw new Error("Package not available: " + id);
      };
      pkg.saveClosure(closure);
      var listeners = this.__packageClosureListeners[id];
      if(!listeners){

        return;
      };
      for(var i = 0;i < listeners.length;i++){

        listeners[i]("complete", id);
      };
      this.__packageClosureListeners[id] = [];
    },
    getParts : function(){

      return this.__parts;
    },
    require : function(partNames, callback, self){

      var callback = callback || function(){
      };
      var self = self || window;
      if(qx.Bootstrap.isString(partNames)){

        partNames = [partNames];
      };
      var parts = [];
      for(var i = 0;i < partNames.length;i++){

        var part = this.__parts[partNames[i]];
        if(part === undefined){

          var registeredPartNames = qx.Bootstrap.keys(this.getParts());
          throw new Error('Part "' + partNames[i] + '" not found in parts (' + registeredPartNames.join(', ') + ')');
        } else {

          parts.push(part);
        };
      };
      var partsLoaded = 0;
      var onLoad = function(){

        partsLoaded += 1;
        if(partsLoaded >= parts.length){

          var states = [];
          for(var i = 0;i < parts.length;i++){

            states.push(parts[i].getReadyState());
          };
          callback.call(self, states);
        };
      };
      for(var i = 0;i < parts.length;i++){

        parts[i].load(onLoad, this);
      };
    },
    preload : function(partNames, callback, self){

      if(qx.Bootstrap.isString(partNames)){

        partNames = [partNames];
      };
      var partsPreloaded = 0;
      for(var i = 0;i < partNames.length;i++){

        this.__parts[partNames[i]].preload(function(){

          partsPreloaded++;
          if(partsPreloaded >= partNames.length){

            var states = [];
            for(var i = 0;i < partNames.length;i++){

              states.push(this.__parts[partNames[i]].getReadyState());
            };
            if(callback){

              callback.call(self, states);
            };
          };
        }, this);
      };
    },
    __getUris : function(){

      var packages = this.__loader.packages;
      var uris = [];
      for(var key in packages){

        uris.push(this.__decodeUris(packages[key].uris));
      };
      return uris;
    },
    __decodeUris : qx.$$loader.decodeUris,
    __partListners : null,
    addPartListener : function(part, callback){

      var key = part.getName();
      if(!this.__partListners[key]){

        this.__partListners[key] = [];
      };
      this.__partListners[key].push(callback);
    },
    onpart : null,
    notifyPartResult : function(part){

      var key = part.getName();
      var listeners = this.__partListners[key];
      if(listeners){

        for(var i = 0;i < listeners.length;i++){

          listeners[i](part.getReadyState());
        };
        this.__partListners[key] = [];
      };
      if(typeof this.onpart == "function"){

        this.onpart(part);
      };
    },
    __packageListeners : null,
    addPackageListener : function(pkg, callback){

      var key = pkg.getId();
      if(!this.__packageListeners[key]){

        this.__packageListeners[key] = [];
      };
      this.__packageListeners[key].push(callback);
    },
    notifyPackageResult : function(pkg){

      var key = pkg.getId();
      var listeners = this.__packageListeners[key];
      if(!listeners){

        return;
      };
      for(var i = 0;i < listeners.length;i++){

        listeners[i](pkg.getReadyState());
      };
      this.__packageListeners[key] = [];
    }
  }
});

qx.Bootstrap.define("qx.io.part.Package", {
  construct : function(urls, id, loaded){

    this.__readyState = loaded ? "complete" : "initialized";
    this.__urls = urls;
    this.__id = id;
  },
  members : {
    __readyState : null,
    __urls : null,
    __id : null,
    __closure : null,
    __loadWithClosure : null,
    __timeoutId : null,
    __notifyPackageResult : null,
    getId : function(){

      return this.__id;
    },
    getReadyState : function(){

      return this.__readyState;
    },
    getUrls : function(){

      return this.__urls;
    },
    saveClosure : function(closure){

      if(this.__readyState == "error"){

        return;
      };
      this.__closure = closure;
      if(!this.__loadWithClosure){

        this.execute();
      } else {

        clearTimeout(this.__timeoutId);
        this.__readyState = "cached";
        this.__notifyPackageResult(this);
      };
    },
    execute : function(){

      if(this.__closure){

        this.__closure();
        delete this.__closure;
      };
      if(qx.$$packageData[this.__id]){

        this.__importPackageData(qx.$$packageData[this.__id]);
        delete qx.$$packageData[this.__id];
      };
      this.__readyState = "complete";
    },
    loadClosure : function(notifyPackageResult, self){

      if(this.__readyState !== "initialized"){

        return;
      };
      this.__loadWithClosure = true;
      this.__readyState = "loading";
      this.__notifyPackageResult = qx.Bootstrap.bind(notifyPackageResult, self);
      this.__loadScriptList(this.__urls, function(){
      }, function(){

        this.__readyState = "error";
        notifyPackageResult.call(self, this);
      }, this);
      var pkg = this;
      this.__timeoutId = setTimeout(function(){

        pkg.__readyState = "error";
        notifyPackageResult.call(self, pkg);
      }, qx.Part.TIMEOUT);
    },
    load : function(notifyPackageResult, self){

      if(this.__readyState !== "initialized"){

        return;
      };
      this.__loadWithClosure = false;
      this.__readyState = "loading";
      this.__loadScriptList(this.__urls, function(){

        this.__readyState = "complete";
        this.execute();
        notifyPackageResult.call(self, this);
      }, function(){

        this.__readyState = "error";
        notifyPackageResult.call(self, this);
      }, this);
    },
    __loadScriptList : function(urlList, callback, errBack, self){

      if(urlList.length == 0){

        callback.call(self);
        return;
      };
      var urlsLoaded = 0;
      var self = this;
      var loadScripts = function(urls){

        if(urlsLoaded >= urlList.length){

          callback.call(self);
          return;
        };
        var loader = new qx.bom.request.Script();
        loader.open("GET", urls.shift());
        loader.onload = function(){

          urlsLoaded += 1;
          loader.dispose();
          if((qx.bom.client.Engine.getName() == "webkit")){

            setTimeout(function(){

              loadScripts.call(self, urls, callback, self);
            }, 0);
          } else {

            loadScripts.call(self, urls, callback, self);
          };
        };
        loader.onerror = function(){

          if(self.__readyState == "loading"){

            clearTimeout(self.__timeoutId);
            loader.dispose();
            return errBack.call(self);
          };
        };
        window.setTimeout(function(){

          loader.send();
        });
      };
      loadScripts(urlList.concat());
    },
    __importPackageData : qx.$$loader.importPackageData
  }
});

qx.Bootstrap.define("qx.bom.request.Script", {
  construct : function(){

    this.__initXhrProperties();
    this.__onNativeLoadBound = qx.Bootstrap.bind(this._onNativeLoad, this);
    this.__onNativeErrorBound = qx.Bootstrap.bind(this._onNativeError, this);
    this.__onTimeoutBound = qx.Bootstrap.bind(this._onTimeout, this);
    this.__headElement = document.head || document.getElementsByTagName("head")[0] || document.documentElement;
    this._emitter = new qx.event.Emitter();
    this.timeout = this.__supportsErrorHandler() ? 0 : 15000;
  },
  events : {
    "readystatechange" : "qx.bom.request.Script",
    "error" : "qx.bom.request.Script",
    "loadend" : "qx.bom.request.Script",
    "timeout" : "qx.bom.request.Script",
    "abort" : "qx.bom.request.Script",
    "load" : "qx.bom.request.Script"
  },
  members : {
    readyState : null,
    status : null,
    statusText : null,
    timeout : null,
    __determineSuccess : null,
    on : function(name, listener, ctx){

      this._emitter.on(name, listener, ctx);
      return this;
    },
    open : function(method, url){

      if(this.__disposed){

        return;
      };
      this.__initXhrProperties();
      this.__abort = null;
      this.__url = url;
      if(this.__environmentGet("qx.debug.io")){

        qx.Bootstrap.debug(qx.bom.request.Script, "Open native request with " + "url: " + url);
      };
      this._readyStateChange(1);
    },
    setRequestHeader : function(key, value){

      if(this.__disposed){

        return null;
      };
      var param = {
      };
      if(this.readyState !== 1){

        throw new Error("Invalid state");
      };
      param[key] = value;
      this.__url = qx.util.Uri.appendParamsToUrl(this.__url, param);
      return this;
    },
    send : function(){

      if(this.__disposed){

        return null;
      };
      var script = this.__createScriptElement(),head = this.__headElement,that = this;
      if(this.timeout > 0){

        this.__timeoutId = window.setTimeout(this.__onTimeoutBound, this.timeout);
      };
      if(this.__environmentGet("qx.debug.io")){

        qx.Bootstrap.debug(qx.bom.request.Script, "Send native request");
      };
      head.insertBefore(script, head.firstChild);
      window.setTimeout(function(){

        that._readyStateChange(2);
        that._readyStateChange(3);
      });
      return this;
    },
    abort : function(){

      if(this.__disposed){

        return null;
      };
      this.__abort = true;
      this.__disposeScriptElement();
      this._emit("abort");
      return this;
    },
    _emit : function(event){

      this["on" + event]();
      this._emitter.emit(event, this);
    },
    onreadystatechange : function(){
    },
    onload : function(){
    },
    onloadend : function(){
    },
    onerror : function(){
    },
    onabort : function(){
    },
    ontimeout : function(){
    },
    getResponseHeader : function(key){

      if(this.__disposed){

        return null;
      };
      if(this.__environmentGet("qx.debug")){

        qx.Bootstrap.debug("Response header cannot be determined for " + "requests made with script transport.");
      };
      return "unknown";
    },
    getAllResponseHeaders : function(){

      if(this.__disposed){

        return null;
      };
      if(this.__environmentGet("qx.debug")){

        qx.Bootstrap.debug("Response headers cannot be determined for" + "requests made with script transport.");
      };
      return "Unknown response headers";
    },
    setDetermineSuccess : function(check){

      this.__determineSuccess = check;
    },
    dispose : function(){

      var script = this.__scriptElement;
      if(!this.__disposed){

        if(script){

          script.onload = script.onreadystatechange = null;
          this.__disposeScriptElement();
        };
        if(this.__timeoutId){

          window.clearTimeout(this.__timeoutId);
        };
        this.__disposed = true;
      };
    },
    isDisposed : function(){

      return !!this.__disposed;
    },
    _getUrl : function(){

      return this.__url;
    },
    _getScriptElement : function(){

      return this.__scriptElement;
    },
    _onTimeout : function(){

      this.__failure();
      if(!this.__supportsErrorHandler()){

        this._emit("error");
      };
      this._emit("timeout");
      if(!this.__supportsErrorHandler()){

        this._emit("loadend");
      };
    },
    _onNativeLoad : function(){

      var script = this.__scriptElement,determineSuccess = this.__determineSuccess,that = this;
      if(this.__abort){

        return;
      };
      if(this.__environmentGet("engine.name") === "mshtml" && this.__environmentGet("browser.documentmode") < 9){

        if(!(/loaded|complete/).test(script.readyState)){

          return;
        } else {

          if(this.__environmentGet("qx.debug.io")){

            qx.Bootstrap.debug(qx.bom.request.Script, "Received native readyState: loaded");
          };
        };
      };
      if(this.__environmentGet("qx.debug.io")){

        qx.Bootstrap.debug(qx.bom.request.Script, "Received native load");
      };
      if(determineSuccess){

        if(!this.status){

          this.status = determineSuccess() ? 200 : 500;
        };
      };
      if(this.status === 500){

        if(this.__environmentGet("qx.debug.io")){

          qx.Bootstrap.debug(qx.bom.request.Script, "Detected error");
        };
      };
      if(this.__timeoutId){

        window.clearTimeout(this.__timeoutId);
      };
      window.setTimeout(function(){

        that._success();
        that._readyStateChange(4);
        that._emit("load");
        that._emit("loadend");
      });
    },
    _onNativeError : function(){

      this.__failure();
      this._emit("error");
      this._emit("loadend");
    },
    __scriptElement : null,
    __headElement : null,
    __url : "",
    __onNativeLoadBound : null,
    __onNativeErrorBound : null,
    __onTimeoutBound : null,
    __timeoutId : null,
    __abort : null,
    __disposed : null,
    __initXhrProperties : function(){

      this.readyState = 0;
      this.status = 0;
      this.statusText = "";
    },
    _readyStateChange : function(readyState){

      this.readyState = readyState;
      this._emit("readystatechange");
    },
    _success : function(){

      this.__disposeScriptElement();
      this.readyState = 4;
      if(!this.status){

        this.status = 200;
      };
      this.statusText = "" + this.status;
    },
    __failure : function(){

      this.__disposeScriptElement();
      this.readyState = 4;
      this.status = 0;
      this.statusText = null;
    },
    __supportsErrorHandler : function(){

      var isLegacyIe = this.__environmentGet("engine.name") === "mshtml" && this.__environmentGet("browser.documentmode") < 9;
      var isOpera = this.__environmentGet("engine.name") === "opera";
      return !(isLegacyIe || isOpera);
    },
    __createScriptElement : function(){

      var script = this.__scriptElement = document.createElement("script");
      script.src = this.__url;
      script.onerror = this.__onNativeErrorBound;
      script.onload = this.__onNativeLoadBound;
      if(this.__environmentGet("engine.name") === "mshtml" && this.__environmentGet("browser.documentmode") < 9){

        script.onreadystatechange = this.__onNativeLoadBound;
      };
      return script;
    },
    __disposeScriptElement : function(){

      var script = this.__scriptElement;
      if(script && script.parentNode){

        this.__headElement.removeChild(script);
      };
    },
    __environmentGet : function(key){

      if(qx && qx.core && qx.core.Environment){

        return qx.core.Environment.get(key);
      } else {

        if(key === "engine.name"){

          return qx.bom.client.Engine.getName();
        };
        if(key === "browser.documentmode"){

          return qx.bom.client.Browser.getDocumentMode();
        };
        if(key == "qx.debug.io"){

          return false;
        };
        throw new Error("Unknown environment key at this phase");
      };
    }
  },
  defer : function(){

    if(qx && qx.core && qx.core.Environment){

      qx.core.Environment.add("qx.debug.io", false);
    };
  }
});

qx.Bootstrap.define("qx.event.Emitter", {
  extend : Object,
  statics : {
    __storage : []
  },
  members : {
    __listener : null,
    __any : null,
    on : function(name, listener, ctx){

      var id = qx.event.Emitter.__storage.length;
      this.__getStorage(name).push({
        listener : listener,
        ctx : ctx,
        id : id
      });
      qx.event.Emitter.__storage.push({
        name : name,
        listener : listener,
        ctx : ctx
      });
      return id;
    },
    once : function(name, listener, ctx){

      var id = qx.event.Emitter.__storage.length;
      this.__getStorage(name).push({
        listener : listener,
        ctx : ctx,
        once : true,
        id : id
      });
      qx.event.Emitter.__storage.push({
        name : name,
        listener : listener,
        ctx : ctx
      });
      return id;
    },
    off : function(name, listener, ctx){

      var storage = this.__getStorage(name);
      for(var i = storage.length - 1;i >= 0;i--){

        var entry = storage[i];
        if(entry.listener == listener && entry.ctx == ctx){

          storage.splice(i, 1);
          qx.event.Emitter.__storage[entry.id] = null;
          return entry.id;
        };
      };
      return null;
    },
    offById : function(id){

      var entry = qx.event.Emitter.__storage[id];
      if(entry){

        this.off(entry.name, entry.listener, entry.ctx);
      };
      return null;
    },
    addListener : function(name, listener, ctx){

      return this.on(name, listener, ctx);
    },
    addListenerOnce : function(name, listener, ctx){

      return this.once(name, listener, ctx);
    },
    removeListener : function(name, listener, ctx){

      this.off(name, listener, ctx);
    },
    removeListenerById : function(id){

      this.offById(id);
    },
    emit : function(name, data){

      var storage = this.__getStorage(name);
      for(var i = 0;i < storage.length;i++){

        var entry = storage[i];
        entry.listener.call(entry.ctx, data);
        if(entry.once){

          storage.splice(i, 1);
          i--;
        };
      };
      storage = this.__getStorage("*");
      for(var i = storage.length - 1;i >= 0;i--){

        var entry = storage[i];
        entry.listener.call(entry.ctx, data);
      };
    },
    getListeners : function(){

      return this.__listener;
    },
    __getStorage : function(name){

      if(this.__listener == null){

        this.__listener = {
        };
      };
      if(this.__listener[name] == null){

        this.__listener[name] = [];
      };
      return this.__listener[name];
    }
  }
});

qx.Bootstrap.define("qx.util.Uri", {
  statics : {
    parseUri : function(str, strict){

      var options = {
        key : ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
        q : {
          name : "queryKey",
          parser : /(?:^|&)([^&=]*)=?([^&]*)/g
        },
        parser : {
          strict : /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
          loose : /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
        }
      };
      var o = options,m = options.parser[strict ? "strict" : "loose"].exec(str),uri = {
      },i = 14;
      while(i--){

        uri[o.key[i]] = m[i] || "";
      };
      uri[o.q.name] = {
      };
      uri[o.key[12]].replace(o.q.parser, function($0, $1, $2){

        if($1){

          uri[o.q.name][$1] = $2;
        };
      });
      return uri;
    },
    appendParamsToUrl : function(url, params){

      if(params === undefined){

        return url;
      };
      if(qx.core.Environment.get("qx.debug")){

        if(!(qx.lang.Type.isString(params) || qx.lang.Type.isObject(params))){

          throw new Error("params must be either string or object");
        };
      };
      if(qx.lang.Type.isObject(params)){

        params = qx.util.Uri.toParameter(params);
      };
      if(!params){

        return url;
      };
      return url += (/\?/).test(url) ? "&" + params : "?" + params;
    },
    toParameter : function(obj, post){

      var key,parts = [];
      for(key in obj){

        if(obj.hasOwnProperty(key)){

          var value = obj[key];
          if(value instanceof Array){

            for(var i = 0;i < value.length;i++){

              this.__toParameterPair(key, value[i], parts, post);
            };
          } else {

            this.__toParameterPair(key, value, parts, post);
          };
        };
      };
      return parts.join("&");
    },
    __toParameterPair : function(key, value, parts, post){

      var encode = window.encodeURIComponent;
      if(post){

        parts.push(encode(key).replace(/%20/g, "+") + "=" + encode(value).replace(/%20/g, "+"));
      } else {

        parts.push(encode(key) + "=" + encode(value));
      };
    },
    getAbsolute : function(uri){

      var div = document.createElement("div");
      div.innerHTML = '<a href="' + uri + '">0</a>';
      return div.firstChild.href;
    }
  }
});

qx.Bootstrap.define("qx.io.part.Part", {
  construct : function(name, packages, loader){

    this.__name = name;
    this._readyState = "complete";
    this._packages = packages;
    this._loader = loader;
    for(var i = 0;i < packages.length;i++){

      if(packages[i].getReadyState() !== "complete"){

        this._readyState = "initialized";
        break;
      };
    };
  },
  members : {
    _readyState : null,
    _loader : null,
    _packages : null,
    __name : null,
    getReadyState : function(){

      return this._readyState;
    },
    getName : function(){

      return this.__name;
    },
    getPackages : function(){

      return this._packages;
    },
    preload : function(callback, self){

      if(callback){

        window.setTimeout(function(){

          callback.call(self, this);
        }, 0);
      };
    },
    load : function(callback, self){

      if(this._checkCompleteLoading(callback, self)){

        return;
      };
      this._readyState = "loading";
      if(callback){

        this._appendPartListener(callback, self, this);
      };
      var part = this;
      var onLoad = function(){

        part.load();
      };
      for(var i = 0;i < this._packages.length;i++){

        var pkg = this._packages[i];
        switch(pkg.getReadyState()){case "initialized":
        this._loader.addPackageListener(pkg, onLoad);
        pkg.load(this._loader.notifyPackageResult, this._loader);
        return;case "loading":
        this._loader.addPackageListener(pkg, onLoad);
        return;case "complete":
        break;case "error":
        this._markAsCompleted("error");
        return;default:
        throw new Error("Invalid case! " + pkg.getReadyState());};
      };
      this._markAsCompleted("complete");
    },
    _appendPartListener : function(callback, self, part){

      var that = this;
      this._loader.addPartListener(this, function(){

        that._signalStartup();
        callback.call(self, part._readyState);
      });
    },
    _markAsCompleted : function(readyState){

      this._readyState = readyState;
      this._loader.notifyPartResult(this);
    },
    _signalStartup : function(){

      if(!qx.$$loader.applicationHandlerReady){

        qx.$$loader.signalStartup();
      };
    },
    _checkCompleteLoading : function(callback, self){

      var readyState = this._readyState;
      if(readyState == "complete" || readyState == "error"){

        if(callback){

          var that = this;
          setTimeout(function(){

            that._signalStartup();
            callback.call(self, readyState);
          }, 0);
        };
        return true;
      } else if(readyState == "loading" && callback){

        this._appendPartListener(callback, self, this);
        return true;
      };
    }
  }
});

qx.Bootstrap.define("qx.io.part.ClosurePart", {
  extend : qx.io.part.Part,
  construct : function(name, packages, loader){

    qx.io.part.Part.call(this, name, packages, loader);
  },
  members : {
    __packagesToLoad : 0,
    preload : function(callback, self){

      var packagesLoaded = 0;
      var that = this;
      for(var i = 0;i < this._packages.length;i++){

        var pkg = this._packages[i];
        if(pkg.getReadyState() == "initialized"){

          pkg.loadClosure(function(pkg){

            packagesLoaded++;
            that._loader.notifyPackageResult(pkg);
            if(packagesLoaded >= that._packages.length && callback){

              callback.call(self);
            };
          }, this._loader);
        };
      };
    },
    load : function(callback, self){

      if(this._checkCompleteLoading(callback, self)){

        return;
      };
      this._readyState = "loading";
      if(callback){

        this._appendPartListener(callback, self, this);
      };
      this.__packagesToLoad = this._packages.length;
      for(var i = 0;i < this._packages.length;i++){

        var pkg = this._packages[i];
        var pkgReadyState = pkg.getReadyState();
        if(pkgReadyState == "initialized"){

          pkg.loadClosure(this._loader.notifyPackageResult, this._loader);
        };
        if(pkgReadyState == "initialized" || pkgReadyState == "loading"){

          this._loader.addPackageListener(pkg, qx.Bootstrap.bind(this._onPackageLoad, this, pkg));
        } else if(pkgReadyState == "error"){

          this._markAsCompleted("error");
          return;
        } else {

          this.__packagesToLoad--;
        };
      };
      if(this.__packagesToLoad <= 0){

        this.__executePackages();
      };
    },
    __executePackages : function(){

      for(var i = 0;i < this._packages.length;i++){

        this._packages[i].execute();
      };
      this._markAsCompleted("complete");
    },
    _onPackageLoad : function(pkg){

      if(this._readyState == "error"){

        return;
      };
      if(pkg.getReadyState() == "error"){

        this._markAsCompleted("error");
        return;
      };
      this.__packagesToLoad--;
      if(this.__packagesToLoad <= 0){

        this.__executePackages();
      };
    }
  }
});

qx.Mixin.define("qx.ui.treevirtual.MTreePrimitive", {
  statics : {
    Type : {
      LEAF : 1,
      BRANCH : 2
    },
    _addNode : function(nodeArr, parentNodeId, label, bOpened, bHideOpenCloseButton, type, icon, iconSelected, nodeId){

      var parentNode;
      if(parentNodeId){

        parentNode = nodeArr[parentNodeId];
        if(!parentNode){

          throw new Error("Request to add a child to a non-existent parent");
        };
        if(parentNode.type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF){

          throw new Error("Sorry, a LEAF may not have children.");
        };
      } else {

        parentNode = nodeArr[0];
        parentNodeId = 0;
      };
      if(type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF){

        bOpened = false;
        bHideOpenCloseButton = false;
      };
      if(nodeId === undefined){

        nodeId = nodeArr.length;
      };
      var node = {
        type : type,
        nodeId : nodeId,
        parentNodeId : parentNodeId,
        label : label,
        bSelected : false,
        bOpened : bOpened,
        bHideOpenClose : bHideOpenCloseButton,
        icon : icon,
        iconSelected : iconSelected,
        children : [],
        columnData : []
      };
      nodeArr[nodeId] = node;
      parentNode.children.push(nodeId);
      return nodeId;
    },
    _getEmptyTree : function(){

      return {
        label : "<virtual root>",
        nodeId : 0,
        bOpened : true,
        children : []
      };
    }
  }
});

qx.Class.define("qx.ui.layout.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  members : {
    __sizeHint : null,
    _invalidChildrenCache : null,
    __widget : null,
    invalidateLayoutCache : function(){

      this.__sizeHint = null;
    },
    renderLayout : function(availWidth, availHeight, padding){

      this.warn("Missing renderLayout() implementation!");
    },
    getSizeHint : function(){

      if(this.__sizeHint){

        return this.__sizeHint;
      };
      return this.__sizeHint = this._computeSizeHint();
    },
    hasHeightForWidth : function(){

      return false;
    },
    getHeightForWidth : function(width){

      this.warn("Missing getHeightForWidth() implementation!");
      return null;
    },
    _computeSizeHint : function(){

      return null;
    },
    invalidateChildrenCache : function(){

      this._invalidChildrenCache = true;
    },
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){
      },
      "false" : null
    }),
    _clearSeparators : function(){

      var widget = this.__widget;
      if(widget instanceof qx.ui.core.LayoutItem){

        widget.clearSeparators();
      };
    },
    _renderSeparator : function(separator, bounds){

      this.__widget.renderSeparator(separator, bounds);
    },
    connectToWidget : function(widget){

      if(widget && this.__widget){

        throw new Error("It is not possible to manually set the connected widget.");
      };
      this.__widget = widget;
      this.invalidateChildrenCache();
    },
    _getWidget : function(){

      return this.__widget;
    },
    _applyLayoutChange : function(){

      if(this.__widget){

        this.__widget.scheduleLayoutUpdate();
      };
    },
    _getLayoutChildren : function(){

      return this.__widget.getLayoutChildren();
    }
  },
  destruct : function(){

    this.__widget = this.__sizeHint = null;
  }
});

qx.Class.define("qx.ui.core.LayoutItem", {
  type : "abstract",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Appearance.getInstance().addListener("changeTheme", this._onChangeTheme, this);
      qx.theme.manager.Color.getInstance().addListener("changeTheme", this._onChangeTheme, this);
    };
  },
  properties : {
    minWidth : {
      check : "Integer",
      nullable : true,
      apply : "_applyDimension",
      init : null,
      themeable : true
    },
    width : {
      check : "Integer",
      event : "changeWidth",
      nullable : true,
      apply : "_applyDimension",
      init : null,
      themeable : true
    },
    maxWidth : {
      check : "Integer",
      nullable : true,
      apply : "_applyDimension",
      init : null,
      themeable : true
    },
    minHeight : {
      check : "Integer",
      nullable : true,
      apply : "_applyDimension",
      init : null,
      themeable : true
    },
    height : {
      check : "Integer",
      event : "changeHeight",
      nullable : true,
      apply : "_applyDimension",
      init : null,
      themeable : true
    },
    maxHeight : {
      check : "Integer",
      nullable : true,
      apply : "_applyDimension",
      init : null,
      themeable : true
    },
    allowGrowX : {
      check : "Boolean",
      apply : "_applyStretching",
      init : true,
      themeable : true
    },
    allowShrinkX : {
      check : "Boolean",
      apply : "_applyStretching",
      init : true,
      themeable : true
    },
    allowGrowY : {
      check : "Boolean",
      apply : "_applyStretching",
      init : true,
      themeable : true
    },
    allowShrinkY : {
      check : "Boolean",
      apply : "_applyStretching",
      init : true,
      themeable : true
    },
    allowStretchX : {
      group : ["allowGrowX", "allowShrinkX"],
      mode : "shorthand",
      themeable : true
    },
    allowStretchY : {
      group : ["allowGrowY", "allowShrinkY"],
      mode : "shorthand",
      themeable : true
    },
    marginTop : {
      check : "Integer",
      init : 0,
      apply : "_applyMargin",
      themeable : true
    },
    marginRight : {
      check : "Integer",
      init : 0,
      apply : "_applyMargin",
      themeable : true
    },
    marginBottom : {
      check : "Integer",
      init : 0,
      apply : "_applyMargin",
      themeable : true
    },
    marginLeft : {
      check : "Integer",
      init : 0,
      apply : "_applyMargin",
      themeable : true
    },
    margin : {
      group : ["marginTop", "marginRight", "marginBottom", "marginLeft"],
      mode : "shorthand",
      themeable : true
    },
    alignX : {
      check : ["left", "center", "right"],
      nullable : true,
      apply : "_applyAlign",
      themeable : true
    },
    alignY : {
      check : ["top", "middle", "bottom", "baseline"],
      nullable : true,
      apply : "_applyAlign",
      themeable : true
    }
  },
  members : {
    _onChangeTheme : qx.core.Environment.select("qx.dyntheme", {
      "true" : function(){

        var props = qx.util.PropertyUtil.getAllProperties(this.constructor);
        for(var name in props){

          var desc = props[name];
          if(desc.themeable){

            var userValue = qx.util.PropertyUtil.getUserValue(this, name);
            if(userValue == null){

              qx.util.PropertyUtil.resetThemed(this, name);
            };
          };
        };
      },
      "false" : null
    }),
    __computedHeightForWidth : null,
    __computedLayout : null,
    __hasInvalidLayout : null,
    __sizeHint : null,
    __updateMargin : null,
    __userBounds : null,
    __layoutProperties : null,
    getBounds : function(){

      return this.__userBounds || this.__computedLayout || null;
    },
    clearSeparators : function(){
    },
    renderSeparator : function(separator, bounds){
    },
    renderLayout : function(left, top, width, height){

      if(qx.core.Environment.get("qx.debug")){

        var msg = "Something went wrong with the layout of " + this.toString() + "!";
        this.assertInteger(left, "Wrong 'left' argument. " + msg);
        this.assertInteger(top, "Wrong 'top' argument. " + msg);
        this.assertInteger(width, "Wrong 'width' argument. " + msg);
        this.assertInteger(height, "Wrong 'height' argument. " + msg);
      };
      var flowHeight = null;
      if(this.getHeight() == null && this._hasHeightForWidth()){

        var flowHeight = this._getHeightForWidth(width);
      };
      if(flowHeight != null && flowHeight !== this.__computedHeightForWidth){

        this.__computedHeightForWidth = flowHeight;
        qx.ui.core.queue.Layout.add(this);
        return null;
      };
      var computed = this.__computedLayout;
      if(!computed){

        computed = this.__computedLayout = {
        };
      };
      var changes = {
      };
      if(left !== computed.left || top !== computed.top){

        changes.position = true;
        computed.left = left;
        computed.top = top;
      };
      if(width !== computed.width || height !== computed.height){

        changes.size = true;
        computed.width = width;
        computed.height = height;
      };
      if(this.__hasInvalidLayout){

        changes.local = true;
        delete this.__hasInvalidLayout;
      };
      if(this.__updateMargin){

        changes.margin = true;
        delete this.__updateMargin;
      };
      return changes;
    },
    isExcluded : function(){

      return false;
    },
    hasValidLayout : function(){

      return !this.__hasInvalidLayout;
    },
    scheduleLayoutUpdate : function(){

      qx.ui.core.queue.Layout.add(this);
    },
    invalidateLayoutCache : function(){

      this.__hasInvalidLayout = true;
      this.__sizeHint = null;
    },
    getSizeHint : function(compute){

      var hint = this.__sizeHint;
      if(hint){

        return hint;
      };
      if(compute === false){

        return null;
      };
      hint = this.__sizeHint = this._computeSizeHint();
      if(this._hasHeightForWidth() && this.__computedHeightForWidth && this.getHeight() == null){

        hint.height = this.__computedHeightForWidth;
      };
      if(hint.minWidth > hint.width){

        hint.width = hint.minWidth;
      };
      if(hint.maxWidth < hint.width){

        hint.width = hint.maxWidth;
      };
      if(!this.getAllowGrowX()){

        hint.maxWidth = hint.width;
      };
      if(!this.getAllowShrinkX()){

        hint.minWidth = hint.width;
      };
      if(hint.minHeight > hint.height){

        hint.height = hint.minHeight;
      };
      if(hint.maxHeight < hint.height){

        hint.height = hint.maxHeight;
      };
      if(!this.getAllowGrowY()){

        hint.maxHeight = hint.height;
      };
      if(!this.getAllowShrinkY()){

        hint.minHeight = hint.height;
      };
      return hint;
    },
    _computeSizeHint : function(){

      var minWidth = this.getMinWidth() || 0;
      var minHeight = this.getMinHeight() || 0;
      var width = this.getWidth() || minWidth;
      var height = this.getHeight() || minHeight;
      var maxWidth = this.getMaxWidth() || Infinity;
      var maxHeight = this.getMaxHeight() || Infinity;
      return {
        minWidth : minWidth,
        width : width,
        maxWidth : maxWidth,
        minHeight : minHeight,
        height : height,
        maxHeight : maxHeight
      };
    },
    _hasHeightForWidth : function(){

      var layout = this._getLayout();
      if(layout){

        return layout.hasHeightForWidth();
      };
      return false;
    },
    _getHeightForWidth : function(width){

      var layout = this._getLayout();
      if(layout && layout.hasHeightForWidth()){

        return layout.getHeightForWidth(width);
      };
      return null;
    },
    _getLayout : function(){

      return null;
    },
    _applyMargin : function(){

      this.__updateMargin = true;
      var parent = this.$$parent;
      if(parent){

        parent.updateLayoutProperties();
      };
    },
    _applyAlign : function(){

      var parent = this.$$parent;
      if(parent){

        parent.updateLayoutProperties();
      };
    },
    _applyDimension : function(){

      qx.ui.core.queue.Layout.add(this);
    },
    _applyStretching : function(){

      qx.ui.core.queue.Layout.add(this);
    },
    hasUserBounds : function(){

      return !!this.__userBounds;
    },
    setUserBounds : function(left, top, width, height){

      this.__userBounds = {
        left : left,
        top : top,
        width : width,
        height : height
      };
      qx.ui.core.queue.Layout.add(this);
    },
    resetUserBounds : function(){

      delete this.__userBounds;
      qx.ui.core.queue.Layout.add(this);
    },
    __emptyProperties : {
    },
    setLayoutProperties : function(props){

      if(props == null){

        return;
      };
      var storage = this.__layoutProperties;
      if(!storage){

        storage = this.__layoutProperties = {
        };
      };
      var parent = this.getLayoutParent();
      if(parent){

        parent.updateLayoutProperties(props);
      };
      for(var key in props){

        if(props[key] == null){

          delete storage[key];
        } else {

          storage[key] = props[key];
        };
      };
    },
    getLayoutProperties : function(){

      return this.__layoutProperties || this.__emptyProperties;
    },
    clearLayoutProperties : function(){

      delete this.__layoutProperties;
    },
    updateLayoutProperties : function(props){

      var layout = this._getLayout();
      if(layout){

        if(qx.core.Environment.get("qx.debug")){

          if(props){

            for(var key in props){

              if(props[key] !== null){

                layout.verifyLayoutProperty(this, key, props[key]);
              };
            };
          };
        };
        layout.invalidateChildrenCache();
      };
      qx.ui.core.queue.Layout.add(this);
    },
    getApplicationRoot : function(){

      return qx.core.Init.getApplication().getRoot();
    },
    getLayoutParent : function(){

      return this.$$parent || null;
    },
    setLayoutParent : function(parent){

      if(this.$$parent === parent){

        return;
      };
      this.$$parent = parent || null;
      qx.ui.core.queue.Visibility.add(this);
    },
    isRootWidget : function(){

      return false;
    },
    _getRoot : function(){

      var parent = this;
      while(parent){

        if(parent.isRootWidget()){

          return parent;
        };
        parent = parent.$$parent;
      };
      return null;
    },
    clone : function(){

      var clone = this.base(arguments);
      var props = this.__layoutProperties;
      if(props){

        clone.__layoutProperties = qx.lang.Object.clone(props);
      };
      return clone;
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Appearance.getInstance().removeListener("changeTheme", this._onChangeTheme, this);
      qx.theme.manager.Color.getInstance().removeListener("changeTheme", this._onChangeTheme, this);
    };
    this.$$parent = this.$$subparent = this.__layoutProperties = this.__computedLayout = this.__userBounds = this.__sizeHint = null;
  }
});

qx.Class.define("qx.theme.manager.Appearance", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__styleCache = {
    };
    this.__aliasMap = {
    };
  },
  properties : {
    theme : {
      check : "Theme",
      nullable : true,
      event : "changeTheme",
      apply : "_applyTheme"
    }
  },
  members : {
    __defaultStates : {
    },
    __styleCache : null,
    __aliasMap : null,
    _applyTheme : function(){

      this.__aliasMap = {
      };
      this.__styleCache = {
      };
    },
    __resolveId : function(id, theme, defaultId, chain){

      var db = theme.appearances;
      var entry = db[id];
      if(!entry){

        var divider = "/";
        var end = [];
        var splitted = id.split(divider);
        var chainCopy = qx.lang.Array.clone(splitted);
        var alias;
        while(!entry && splitted.length > 0){

          end.unshift(splitted.pop());
          var baseid = splitted.join(divider);
          entry = db[baseid];
          if(entry){

            alias = entry.alias || entry;
            if(typeof alias === "string"){

              var mapped = alias + divider + end.join(divider);
              return this.__resolveId(mapped, theme, defaultId, chainCopy);
            };
          };
        };
        for(var i = 0;i < end.length - 1;i++){

          end.shift();
          var subId = end.join(divider);
          var resolved = this.__resolveId(subId, theme, null, chainCopy);
          if(resolved){

            return resolved;
          };
        };
        if(defaultId != null){

          return this.__resolveId(defaultId, theme, null, chainCopy);
        };
        if(qx.core.Environment.get("qx.debug")){

          if(typeof chain !== "undefined"){

            this.debug("Cannot find a matching appearance for '" + chain.join("/") + "'.");
            if(chain.length > 1){

              this.info("Hint: This may be an issue with nested child controls and a missing alias definition in the appearance theme.");
            };
          };
        };
        return null;
      } else if(typeof entry === "string"){

        return this.__resolveId(entry, theme, defaultId, chainCopy);
      } else if(entry.include && !entry.style){

        return this.__resolveId(entry.include, theme, defaultId, chainCopy);
      };;
      return id;
    },
    styleFrom : function(id, states, theme, defaultId){

      if(!theme){

        theme = this.getTheme();
      };
      var aliasMap = this.__aliasMap;
      var resolved = aliasMap[id];
      if(!resolved){

        resolved = aliasMap[id] = this.__resolveId(id, theme, defaultId);
      };
      var entry = theme.appearances[resolved];
      if(!entry){

        this.warn("Missing appearance: " + id);
        return null;
      };
      if(!entry.style){

        return null;
      };
      var unique = resolved;
      if(states){

        var bits = entry.$$bits;
        if(!bits){

          bits = entry.$$bits = {
          };
          entry.$$length = 0;
        };
        var sum = 0;
        for(var state in states){

          if(!states[state]){

            continue;
          };
          if(bits[state] == null){

            bits[state] = 1 << entry.$$length++;
          };
          sum += bits[state];
        };
        if(sum > 0){

          unique += ":" + sum;
        };
      };
      var cache = this.__styleCache;
      if(cache[unique] !== undefined){

        return cache[unique];
      };
      if(!states){

        states = this.__defaultStates;
      };
      var result;
      if(entry.include || entry.base){

        var incl;
        if(entry.include){

          incl = this.styleFrom(entry.include, states, theme, defaultId);
        };
        var local = entry.style(states, incl);
        result = {
        };
        if(entry.base){

          var base = this.styleFrom(resolved, states, entry.base, defaultId);
          if(entry.include){

            for(var baseIncludeKey in base){

              if(!incl.hasOwnProperty(baseIncludeKey) && !local.hasOwnProperty(baseIncludeKey)){

                result[baseIncludeKey] = base[baseIncludeKey];
              };
            };
          } else {

            for(var baseKey in base){

              if(!local.hasOwnProperty(baseKey)){

                result[baseKey] = base[baseKey];
              };
            };
          };
        };
        if(entry.include){

          for(var includeKey in incl){

            if(!local.hasOwnProperty(includeKey)){

              result[includeKey] = incl[includeKey];
            };
          };
        };
        for(var localKey in local){

          result[localKey] = local[localKey];
        };
      } else {

        result = entry.style(states);
      };
      return cache[unique] = result || null;
    }
  },
  destruct : function(){

    this.__styleCache = this.__aliasMap = null;
  }
});

qx.Class.define("qx.util.ValueManager", {
  type : "abstract",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this._dynamic = {
    };
  },
  members : {
    _dynamic : null,
    resolveDynamic : function(value){

      return this._dynamic[value];
    },
    isDynamic : function(value){

      return !!this._dynamic[value];
    },
    resolve : function(value){

      if(value && this._dynamic[value]){

        return this._dynamic[value];
      };
      return value;
    },
    _setDynamic : function(value){

      this._dynamic = value;
    },
    _getDynamic : function(){

      return this._dynamic;
    }
  },
  destruct : function(){

    this._dynamic = null;
  }
});

qx.Class.define("qx.theme.manager.Color", {
  type : "singleton",
  extend : qx.util.ValueManager,
  properties : {
    theme : {
      check : "Theme",
      nullable : true,
      apply : "_applyTheme",
      event : "changeTheme"
    }
  },
  members : {
    _applyTheme : function(value){

      var dest = {
      };
      if(value){

        var colors = value.colors;
        for(var name in colors){

          dest[name] = this.__parseColor(colors, name);
        };
      };
      this._setDynamic(dest);
    },
    __parseColor : function(colors, name){

      var color = colors[name];
      if(typeof color === "string"){

        if(!qx.util.ColorUtil.isCssString(color)){

          if(colors[color] != undefined){

            return this.__parseColor(colors, color);
          };
          throw new Error("Could not parse color: " + color);
        };
        return color;
      } else if(color instanceof Array){

        return qx.util.ColorUtil.rgbToRgbString(color);
      };
      throw new Error("Could not parse color: " + color);
    },
    resolve : function(value){

      var cache = this._dynamic;
      var resolved = cache[value];
      if(resolved){

        return resolved;
      };
      var theme = this.getTheme();
      if(theme !== null && theme.colors[value]){

        return cache[value] = theme.colors[value];
      };
      return value;
    },
    isDynamic : function(value){

      var cache = this._dynamic;
      if(value && (cache[value] !== undefined)){

        return true;
      };
      var theme = this.getTheme();
      if(theme !== null && value && (theme.colors[value] !== undefined)){

        cache[value] = theme.colors[value];
        return true;
      };
      return false;
    }
  }
});

qx.Bootstrap.define("qx.util.ColorUtil", {
  statics : {
    REGEXP : {
      hex3 : /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      hex6 : /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      rgb : /^rgb\(\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*\)$/,
      rgba : /^rgba\(\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*,\s*([0-9]{1,3}\.{0,1}[0-9]*)\s*\)$/
    },
    SYSTEM : {
      activeborder : true,
      activecaption : true,
      appworkspace : true,
      background : true,
      buttonface : true,
      buttonhighlight : true,
      buttonshadow : true,
      buttontext : true,
      captiontext : true,
      graytext : true,
      highlight : true,
      highlighttext : true,
      inactiveborder : true,
      inactivecaption : true,
      inactivecaptiontext : true,
      infobackground : true,
      infotext : true,
      menu : true,
      menutext : true,
      scrollbar : true,
      threeddarkshadow : true,
      threedface : true,
      threedhighlight : true,
      threedlightshadow : true,
      threedshadow : true,
      window : true,
      windowframe : true,
      windowtext : true
    },
    NAMED : {
      black : [0, 0, 0],
      silver : [192, 192, 192],
      gray : [128, 128, 128],
      white : [255, 255, 255],
      maroon : [128, 0, 0],
      red : [255, 0, 0],
      purple : [128, 0, 128],
      fuchsia : [255, 0, 255],
      green : [0, 128, 0],
      lime : [0, 255, 0],
      olive : [128, 128, 0],
      yellow : [255, 255, 0],
      navy : [0, 0, 128],
      blue : [0, 0, 255],
      teal : [0, 128, 128],
      aqua : [0, 255, 255],
      transparent : [-1, -1, -1],
      magenta : [255, 0, 255],
      orange : [255, 165, 0],
      brown : [165, 42, 42]
    },
    isNamedColor : function(value){

      return this.NAMED[value] !== undefined;
    },
    isSystemColor : function(value){

      return this.SYSTEM[value] !== undefined;
    },
    supportsThemes : function(){

      if(qx.Class){

        return qx.Class.isDefined("qx.theme.manager.Color");
      };
      return false;
    },
    isThemedColor : function(value){

      if(!this.supportsThemes()){

        return false;
      };
      if(qx.theme && qx.theme.manager && qx.theme.manager.Color){

        return qx.theme.manager.Color.getInstance().isDynamic(value);
      };
      return false;
    },
    stringToRgb : function(str){

      if(this.supportsThemes() && this.isThemedColor(str)){

        str = qx.theme.manager.Color.getInstance().resolveDynamic(str);
      };
      if(this.isNamedColor(str)){

        return this.NAMED[str].concat();
      } else if(this.isSystemColor(str)){

        throw new Error("Could not convert system colors to RGB: " + str);
      } else if(this.isRgbaString(str)){

        return this.__rgbaStringToRgb(str);
      } else if(this.isRgbString(str)){

        return this.__rgbStringToRgb();
      } else if(this.isHex3String(str)){

        return this.__hex3StringToRgb();
      } else if(this.isHex6String(str)){

        return this.__hex6StringToRgb();
      };;;;;
      throw new Error("Could not parse color: " + str);
    },
    cssStringToRgb : function(str){

      if(this.isNamedColor(str)){

        return this.NAMED[str];
      } else if(this.isSystemColor(str)){

        throw new Error("Could not convert system colors to RGB: " + str);
      } else if(this.isRgbString(str)){

        return this.__rgbStringToRgb();
      } else if(this.isRgbaString(str)){

        return this.__rgbaStringToRgb();
      } else if(this.isHex3String(str)){

        return this.__hex3StringToRgb();
      } else if(this.isHex6String(str)){

        return this.__hex6StringToRgb();
      };;;;;
      throw new Error("Could not parse color: " + str);
    },
    stringToRgbString : function(str){

      return this.rgbToRgbString(this.stringToRgb(str));
    },
    rgbToRgbString : function(rgb){

      return "rgb" + (rgb[3] !== undefined ? "a" : "") + "(" + rgb.join(",") + ")";
    },
    rgbToHexString : function(rgb){

      return ("#" + qx.lang.String.pad(rgb[0].toString(16).toUpperCase(), 2) + qx.lang.String.pad(rgb[1].toString(16).toUpperCase(), 2) + qx.lang.String.pad(rgb[2].toString(16).toUpperCase(), 2));
    },
    isValidPropertyValue : function(str){

      return (this.isThemedColor(str) || this.isNamedColor(str) || this.isHex3String(str) || this.isHex6String(str) || this.isRgbString(str) || this.isRgbaString(str));
    },
    isCssString : function(str){

      return (this.isSystemColor(str) || this.isNamedColor(str) || this.isHex3String(str) || this.isHex6String(str) || this.isRgbString(str) || this.isRgbaString(str));
    },
    isHex3String : function(str){

      return this.REGEXP.hex3.test(str);
    },
    isHex6String : function(str){

      return this.REGEXP.hex6.test(str);
    },
    isRgbString : function(str){

      return this.REGEXP.rgb.test(str);
    },
    isRgbaString : function(str){

      return this.REGEXP.rgba.test(str);
    },
    __rgbStringToRgb : function(){

      var red = parseInt(RegExp.$1, 10);
      var green = parseInt(RegExp.$2, 10);
      var blue = parseInt(RegExp.$3, 10);
      return [red, green, blue];
    },
    __rgbaStringToRgb : function(){

      var red = parseInt(RegExp.$1, 10);
      var green = parseInt(RegExp.$2, 10);
      var blue = parseInt(RegExp.$3, 10);
      var alpha = parseInt(RegExp.$4, 10);
      if(red === 0 && green === 0 & blue === 0 && alpha === 0){

        return [-1, -1, -1];
      };
      return [red, green, blue];
    },
    __hex3StringToRgb : function(){

      var red = parseInt(RegExp.$1, 16) * 17;
      var green = parseInt(RegExp.$2, 16) * 17;
      var blue = parseInt(RegExp.$3, 16) * 17;
      return [red, green, blue];
    },
    __hex6StringToRgb : function(){

      var red = (parseInt(RegExp.$1, 16) * 16) + parseInt(RegExp.$2, 16);
      var green = (parseInt(RegExp.$3, 16) * 16) + parseInt(RegExp.$4, 16);
      var blue = (parseInt(RegExp.$5, 16) * 16) + parseInt(RegExp.$6, 16);
      return [red, green, blue];
    },
    hex3StringToRgb : function(value){

      if(this.isHex3String(value)){

        return this.__hex3StringToRgb(value);
      };
      throw new Error("Invalid hex3 value: " + value);
    },
    hex3StringToHex6String : function(value){

      if(this.isHex3String(value)){

        return this.rgbToHexString(this.hex3StringToRgb(value));
      };
      return value;
    },
    hex6StringToRgb : function(value){

      if(this.isHex6String(value)){

        return this.__hex6StringToRgb(value);
      };
      throw new Error("Invalid hex6 value: " + value);
    },
    hexStringToRgb : function(value){

      if(this.isHex3String(value)){

        return this.__hex3StringToRgb(value);
      };
      if(this.isHex6String(value)){

        return this.__hex6StringToRgb(value);
      };
      throw new Error("Invalid hex value: " + value);
    },
    rgbToHsb : function(rgb){

      var hue,saturation,brightness;
      var red = rgb[0];
      var green = rgb[1];
      var blue = rgb[2];
      var cmax = (red > green) ? red : green;
      if(blue > cmax){

        cmax = blue;
      };
      var cmin = (red < green) ? red : green;
      if(blue < cmin){

        cmin = blue;
      };
      brightness = cmax / 255.0;
      if(cmax != 0){

        saturation = (cmax - cmin) / cmax;
      } else {

        saturation = 0;
      };
      if(saturation == 0){

        hue = 0;
      } else {

        var redc = (cmax - red) / (cmax - cmin);
        var greenc = (cmax - green) / (cmax - cmin);
        var bluec = (cmax - blue) / (cmax - cmin);
        if(red == cmax){

          hue = bluec - greenc;
        } else if(green == cmax){

          hue = 2.0 + redc - bluec;
        } else {

          hue = 4.0 + greenc - redc;
        };
        hue = hue / 6.0;
        if(hue < 0){

          hue = hue + 1.0;
        };
      };
      return [Math.round(hue * 360), Math.round(saturation * 100), Math.round(brightness * 100)];
    },
    hsbToRgb : function(hsb){

      var i,f,p,r,t;
      var hue = hsb[0] / 360;
      var saturation = hsb[1] / 100;
      var brightness = hsb[2] / 100;
      if(hue >= 1.0){

        hue %= 1.0;
      };
      if(saturation > 1.0){

        saturation = 1.0;
      };
      if(brightness > 1.0){

        brightness = 1.0;
      };
      var tov = Math.floor(255 * brightness);
      var rgb = {
      };
      if(saturation == 0.0){

        rgb.red = rgb.green = rgb.blue = tov;
      } else {

        hue *= 6.0;
        i = Math.floor(hue);
        f = hue - i;
        p = Math.floor(tov * (1.0 - saturation));
        r = Math.floor(tov * (1.0 - (saturation * f)));
        t = Math.floor(tov * (1.0 - (saturation * (1.0 - f))));
        switch(i){case 0:
        rgb.red = tov;
        rgb.green = t;
        rgb.blue = p;
        break;case 1:
        rgb.red = r;
        rgb.green = tov;
        rgb.blue = p;
        break;case 2:
        rgb.red = p;
        rgb.green = tov;
        rgb.blue = t;
        break;case 3:
        rgb.red = p;
        rgb.green = r;
        rgb.blue = tov;
        break;case 4:
        rgb.red = t;
        rgb.green = p;
        rgb.blue = tov;
        break;case 5:
        rgb.red = tov;
        rgb.green = p;
        rgb.blue = r;
        break;};
      };
      return [rgb.red, rgb.green, rgb.blue];
    },
    randomColor : function(){

      var r = Math.round(Math.random() * 255);
      var g = Math.round(Math.random() * 255);
      var b = Math.round(Math.random() * 255);
      return this.rgbToRgbString([r, g, b]);
    }
  }
});

qx.Class.define("qx.util.PropertyUtil", {
  statics : {
    getProperties : function(clazz){

      return clazz.$$properties;
    },
    getAllProperties : function(clazz){

      var properties = {
      };
      var superclass = clazz;
      while(superclass != qx.core.Object){

        var currentProperties = this.getProperties(superclass);
        for(var property in currentProperties){

          properties[property] = currentProperties[property];
        };
        superclass = superclass.superclass;
      };
      return properties;
    },
    getUserValue : function(object, propertyName){

      return object["$$user_" + propertyName];
    },
    setUserValue : function(object, propertyName, value){

      object["$$user_" + propertyName] = value;
    },
    deleteUserValue : function(object, propertyName){

      delete (object["$$user_" + propertyName]);
    },
    getInitValue : function(object, propertyName){

      return object["$$init_" + propertyName];
    },
    setInitValue : function(object, propertyName, value){

      object["$$init_" + propertyName] = value;
    },
    deleteInitValue : function(object, propertyName){

      delete (object["$$init_" + propertyName]);
    },
    getThemeValue : function(object, propertyName){

      return object["$$theme_" + propertyName];
    },
    setThemeValue : function(object, propertyName, value){

      object["$$theme_" + propertyName] = value;
    },
    deleteThemeValue : function(object, propertyName){

      delete (object["$$theme_" + propertyName]);
    },
    setThemed : function(object, propertyName, value){

      var styler = qx.core.Property.$$method.setThemed;
      object[styler[propertyName]](value);
    },
    resetThemed : function(object, propertyName){

      var unstyler = qx.core.Property.$$method.resetThemed;
      object[unstyler[propertyName]]();
    }
  }
});

qx.Class.define("qx.ui.core.queue.Layout", {
  statics : {
    __queue : {
    },
    __nesting : {
    },
    remove : function(widget){

      delete this.__queue[widget.$$hash];
    },
    add : function(widget){

      this.__queue[widget.$$hash] = widget;
      qx.ui.core.queue.Manager.scheduleFlush("layout");
    },
    isScheduled : function(widget){

      return !!this.__queue[widget.$$hash];
    },
    flush : function(){

      var queue = this.__getSortedQueue();
      for(var i = queue.length - 1;i >= 0;i--){

        var widget = queue[i];
        if(widget.hasValidLayout()){

          continue;
        };
        if(widget.isRootWidget() && !widget.hasUserBounds()){

          var hint = widget.getSizeHint();
          widget.renderLayout(0, 0, hint.width, hint.height);
        } else {

          var bounds = widget.getBounds();
          widget.renderLayout(bounds.left, bounds.top, bounds.width, bounds.height);
        };
      };
    },
    getNestingLevel : function(widget){

      var cache = this.__nesting;
      var level = 0;
      var parent = widget;
      while(true){

        if(cache[parent.$$hash] != null){

          level += cache[parent.$$hash];
          break;
        };
        if(!parent.$$parent){

          break;
        };
        parent = parent.$$parent;
        level += 1;
      };
      var leveldown = level;
      while(widget && widget !== parent){

        cache[widget.$$hash] = leveldown--;
        widget = widget.$$parent;
      };
      return level;
    },
    __getLevelGroupedWidgets : function(){

      var VisibilityQueue = qx.ui.core.queue.Visibility;
      this.__nesting = {
      };
      var levels = [];
      var queue = this.__queue;
      var widget,level;
      for(var hash in queue){

        widget = queue[hash];
        if(VisibilityQueue.isVisible(widget)){

          level = this.getNestingLevel(widget);
          if(!levels[level]){

            levels[level] = {
            };
          };
          levels[level][hash] = widget;
          delete queue[hash];
        };
      };
      return levels;
    },
    __getSortedQueue : function(){

      var sortedQueue = [];
      var levels = this.__getLevelGroupedWidgets();
      for(var level = levels.length - 1;level >= 0;level--){

        if(!levels[level]){

          continue;
        };
        for(var hash in levels[level]){

          var widget = levels[level][hash];
          if(level == 0 || widget.isRootWidget() || widget.hasUserBounds()){

            sortedQueue.push(widget);
            widget.invalidateLayoutCache();
            continue;
          };
          var oldSizeHint = widget.getSizeHint(false);
          if(oldSizeHint){

            widget.invalidateLayoutCache();
            var newSizeHint = widget.getSizeHint();
            var hintChanged = (!widget.getBounds() || oldSizeHint.minWidth !== newSizeHint.minWidth || oldSizeHint.width !== newSizeHint.width || oldSizeHint.maxWidth !== newSizeHint.maxWidth || oldSizeHint.minHeight !== newSizeHint.minHeight || oldSizeHint.height !== newSizeHint.height || oldSizeHint.maxHeight !== newSizeHint.maxHeight);
          } else {

            hintChanged = true;
          };
          if(hintChanged){

            var parent = widget.getLayoutParent();
            if(!levels[level - 1]){

              levels[level - 1] = {
              };
            };
            levels[level - 1][parent.$$hash] = parent;
          } else {

            sortedQueue.push(widget);
          };
        };
      };
      return sortedQueue;
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Event", {
  statics : {
    getTouch : function(){

      return ("ontouchstart" in window);
    },
    getMsPointer : function(){

      if("pointerEnabled" in window.navigator){

        return window.navigator.pointerEnabled;
      } else if("msPointerEnabled" in window.navigator){

        return window.navigator.msPointerEnabled;
      };
      return false;
    },
    getHelp : function(){

      return ("onhelp" in document);
    },
    getHashChange : function(){

      var engine = qx.bom.client.Engine.getName();
      var hashchange = "onhashchange" in window;
      return (engine !== "mshtml" && hashchange) || (engine === "mshtml" && "documentMode" in document && document.documentMode >= 8 && hashchange);
    },
    getDispatchEvent : function(){

      return typeof document.dispatchEvent == "function";
    },
    getCustomEvent : function(){

      if(!window.CustomEvent){

        return false;
      };
      try{

        new window.CustomEvent("foo");
        return true;
      } catch(ex) {

        return false;
      };
    },
    getMouseEvent : function(){

      if(!window.MouseEvent){

        return false;
      };
      try{

        new window.MouseEvent("foo");
        return true;
      } catch(ex) {

        return false;
      };
    },
    getMouseWheel : function(win){

      if(!win){

        win = window;
      };
      var targets = [win, win.document, win.document.body];
      var target = win;
      var type = "DOMMouseScroll";
      for(var i = 0;i < targets.length;i++){

        if(qx.bom.Event.supportsEvent(targets[i], "wheel")){

          type = "wheel";
          target = targets[i];
          break;
        };
        if(qx.bom.Event.supportsEvent(targets[i], "mousewheel")){

          type = "mousewheel";
          target = targets[i];
          break;
        };
      };
      return {
        type : type,
        target : target
      };
    }
  },
  defer : function(statics){

    qx.core.Environment.add("event.touch", statics.getTouch);
    qx.core.Environment.add("event.mspointer", statics.getMsPointer);
    qx.core.Environment.add("event.help", statics.getHelp);
    qx.core.Environment.add("event.hashchange", statics.getHashChange);
    qx.core.Environment.add("event.mousewheel", statics.getMouseWheel);
  }
});

qx.Bootstrap.define("qx.bom.client.Device", {
  statics : {
    __ids : {
      "iPod" : "ipod",
      "iPad" : "ipad",
      "iPhone" : "iphone",
      "PSP" : "psp",
      "PLAYSTATION 3" : "ps3",
      "Nintendo Wii" : "wii",
      "Nintendo DS" : "ds",
      "XBOX" : "xbox",
      "Xbox" : "xbox"
    },
    getName : function(){

      var str = [];
      for(var key in qx.bom.client.Device.__ids){

        str.push(key);
      };
      var reg = new RegExp("(" + str.join("|").replace(/\./g, "\.") + ")", "g");
      var match = reg.exec(navigator.userAgent);
      if(match && match[1]){

        return qx.bom.client.Device.__ids[match[1]];
      };
      return "pc";
    },
    getType : function(){

      return qx.bom.client.Device.detectDeviceType(navigator.userAgent);
    },
    detectDeviceType : function(userAgentString){

      if(qx.bom.client.Device.detectTabletDevice(userAgentString)){

        return "tablet";
      } else if(qx.bom.client.Device.detectMobileDevice(userAgentString)){

        return "mobile";
      };
      return "desktop";
    },
    detectMobileDevice : function(userAgentString){

      return /android.+mobile|ip(hone|od)|bada\/|blackberry|BB10|maemo|opera m(ob|in)i|fennec|NetFront|phone|psp|symbian|IEMobile|windows (ce|phone)|xda/i.test(userAgentString);
    },
    detectTabletDevice : function(userAgentString){

      var isIE10Tablet = (/MSIE 10/i.test(userAgentString)) && (/ARM/i.test(userAgentString)) && !(/windows phone/i.test(userAgentString));
      var isCommonTablet = (!(/android.+mobile|Tablet PC/i.test(userAgentString)) && (/Android|ipad|tablet|playbook|silk|kindle|psp/i.test(userAgentString)));
      return isIE10Tablet || isCommonTablet;
    },
    getDevicePixelRatio : function(){

      if(typeof window.devicePixelRatio !== "undefined"){

        return window.devicePixelRatio;
      };
      return 1;
    },
    getTouch : function(){

      return (("ontouchstart" in window) || window.navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0);
    }
  },
  defer : function(statics){

    qx.core.Environment.add("device.name", statics.getName);
    qx.core.Environment.add("device.touch", statics.getTouch);
    qx.core.Environment.add("device.type", statics.getType);
    qx.core.Environment.add("device.pixelRatio", statics.getDevicePixelRatio);
  }
});

qx.Bootstrap.define("qx.module.Environment", {
  statics : {
    get : function(key){

      return qx.core.Environment.get(key);
    },
    add : function(key, value){

      qx.core.Environment.add(key, value);
      return this;
    }
  },
  defer : function(statics){

    qx.core.Environment.get("browser.name");
    qx.core.Environment.get("browser.version");
    qx.core.Environment.get("browser.quirksmode");
    qx.core.Environment.get("browser.documentmode");
    qx.core.Environment.get("engine.name");
    qx.core.Environment.get("engine.version");
    qx.core.Environment.get("device.name");
    qx.core.Environment.get("device.type");
    qx.core.Environment.get("event.touch");
    qx.core.Environment.get("event.mspointer");
    qxWeb.$attachStatic({
      "env" : {
        get : statics.get,
        add : statics.add
      }
    });
  }
});

qx.Bootstrap.define("qx.module.Css", {
  statics : {
    setStyle : function(name, value){

      if(/\w-\w/.test(name)){

        name = qx.lang.String.camelCase(name);
      };
      this._forEachElement(function(item){

        qx.bom.element.Style.set(item, name, value);
      });
      return this;
    },
    getStyle : function(name){

      if(this[0] && qx.dom.Node.isElement(this[0])){

        if(/\w-\w/.test(name)){

          name = qx.lang.String.camelCase(name);
        };
        return qx.bom.element.Style.get(this[0], name);
      };
      return null;
    },
    setStyles : function(styles){

      for(var name in styles){

        this.setStyle(name, styles[name]);
      };
      return this;
    },
    getStyles : function(names){

      var styles = {
      };
      for(var i = 0;i < names.length;i++){

        styles[names[i]] = this.getStyle(names[i]);
      };
      return styles;
    },
    addClass : function(name){

      this._forEachElement(function(item){

        qx.bom.element.Class.add(item, name);
      });
      return this;
    },
    addClasses : function(names){

      this._forEachElement(function(item){

        qx.bom.element.Class.addClasses(item, names);
      });
      return this;
    },
    removeClass : function(name){

      this._forEachElement(function(item){

        qx.bom.element.Class.remove(item, name);
      });
      return this;
    },
    removeClasses : function(names){

      this._forEachElement(function(item){

        qx.bom.element.Class.removeClasses(item, names);
      });
      return this;
    },
    hasClass : function(name){

      if(!this[0] || !qx.dom.Node.isElement(this[0])){

        return false;
      };
      return qx.bom.element.Class.has(this[0], name);
    },
    getClass : function(){

      if(!this[0] || !qx.dom.Node.isElement(this[0])){

        return "";
      };
      return qx.bom.element.Class.get(this[0]);
    },
    toggleClass : function(name){

      var bCls = qx.bom.element.Class;
      this._forEachElement(function(item){

        bCls.has(item, name) ? bCls.remove(item, name) : bCls.add(item, name);
      });
      return this;
    },
    toggleClasses : function(names){

      for(var i = 0,l = names.length;i < l;i++){

        this.toggleClass(names[i]);
      };
      return this;
    },
    replaceClass : function(oldName, newName){

      this._forEachElement(function(item){

        qx.bom.element.Class.replace(item, oldName, newName);
      });
      return this;
    },
    getHeight : function(force){

      var elem = this[0];
      if(elem){

        if(qx.dom.Node.isElement(elem)){

          var elementHeight;
          if(force){

            var stylesToSwap = {
              display : "block",
              position : "absolute",
              visibility : "hidden"
            };
            elementHeight = qx.module.Css.__swap(elem, stylesToSwap, qx.module.Css.getHeight, this);
          } else {

            elementHeight = qx.bom.element.Dimension.getHeight(elem);
          };
          return elementHeight;
        } else if(qx.dom.Node.isDocument(elem)){

          return qx.bom.Document.getHeight(qx.dom.Node.getWindow(elem));
        } else if(qx.dom.Node.isWindow(elem)){

          return qx.bom.Viewport.getHeight(elem);
        };;
      };
      return null;
    },
    getWidth : function(force){

      var elem = this[0];
      if(elem){

        if(qx.dom.Node.isElement(elem)){

          var elementWidth;
          if(force){

            var stylesToSwap = {
              display : "block",
              position : "absolute",
              visibility : "hidden"
            };
            elementWidth = qx.module.Css.__swap(elem, stylesToSwap, qx.module.Css.getWidth, this);
          } else {

            elementWidth = qx.bom.element.Dimension.getWidth(elem);
          };
          return elementWidth;
        } else if(qx.dom.Node.isDocument(elem)){

          return qx.bom.Document.getWidth(qx.dom.Node.getWindow(elem));
        } else if(qx.dom.Node.isWindow(elem)){

          return qx.bom.Viewport.getWidth(elem);
        };;
      };
      return null;
    },
    getOffset : function(mode){

      var elem = this[0];
      if(elem && qx.dom.Node.isElement(elem)){

        return qx.bom.element.Location.get(elem, mode);
      };
      return null;
    },
    getContentHeight : function(force){

      var obj = this[0];
      if(qx.dom.Node.isElement(obj)){

        var contentHeight;
        if(force){

          var stylesToSwap = {
            position : "absolute",
            visibility : "hidden",
            display : "block"
          };
          contentHeight = qx.module.Css.__swap(obj, stylesToSwap, qx.module.Css.getContentHeight, this);
        } else {

          contentHeight = qx.bom.element.Dimension.getContentHeight(obj);
        };
        return contentHeight;
      };
      return null;
    },
    getContentWidth : function(force){

      var obj = this[0];
      if(qx.dom.Node.isElement(obj)){

        var contentWidth;
        if(force){

          var stylesToSwap = {
            position : "absolute",
            visibility : "hidden",
            display : "block"
          };
          contentWidth = qx.module.Css.__swap(obj, stylesToSwap, qx.module.Css.getContentWidth, this);
        } else {

          contentWidth = qx.bom.element.Dimension.getContentWidth(obj);
        };
        return contentWidth;
      };
      return null;
    },
    getPosition : function(){

      var obj = this[0];
      if(qx.dom.Node.isElement(obj)){

        return qx.bom.element.Location.getPosition(obj);
      };
      return null;
    },
    includeStylesheet : function(uri, doc){

      qx.bom.Stylesheet.includeFile(uri, doc);
    },
    hide : function(){

      this._forEachElementWrapped(function(item){

        var prevStyle = item.getStyle("display");
        if(prevStyle !== "none"){

          item[0].$$qPrevDisp = prevStyle;
          item.setStyle("display", "none");
        };
      });
      return this;
    },
    show : function(){

      this._forEachElementWrapped(function(item){

        var currentVal = item.getStyle("display");
        var prevVal = item[0].$$qPrevDisp;
        var newVal;
        if(currentVal == "none"){

          if(prevVal && prevVal != "none"){

            newVal = prevVal;
          } else {

            var doc = qxWeb.getDocument(item[0]);
            newVal = qx.module.Css.__getDisplayDefault(item[0].tagName, doc);
          };
          item.setStyle("display", newVal);
          item[0].$$qPrevDisp = "none";
        };
      });
      return this;
    },
    __displayDefaults : {
    },
    __getDisplayDefault : function(tagName, doc){

      var defaults = qx.module.Css.__displayDefaults;
      if(!defaults[tagName]){

        var docu = doc || document;
        var tempEl = qxWeb(docu.createElement(tagName)).appendTo(doc.body);
        defaults[tagName] = tempEl.getStyle("display");
        tempEl.remove();
      };
      return defaults[tagName] || "";
    },
    __swap : function(element, styles, callback, context){

      var currentValues = {
      };
      for(var styleProperty in styles){

        currentValues[styleProperty] = element.style[styleProperty];
        element.style[styleProperty] = styles[styleProperty];
      };
      var value = callback.call(context);
      for(var styleProperty in currentValues){

        element.style[styleProperty] = currentValues[styleProperty];
      };
      return value;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "setStyle" : statics.setStyle,
      "getStyle" : statics.getStyle,
      "setStyles" : statics.setStyles,
      "getStyles" : statics.getStyles,
      "addClass" : statics.addClass,
      "addClasses" : statics.addClasses,
      "removeClass" : statics.removeClass,
      "removeClasses" : statics.removeClasses,
      "hasClass" : statics.hasClass,
      "getClass" : statics.getClass,
      "toggleClass" : statics.toggleClass,
      "toggleClasses" : statics.toggleClasses,
      "replaceClass" : statics.replaceClass,
      "getHeight" : statics.getHeight,
      "getWidth" : statics.getWidth,
      "getOffset" : statics.getOffset,
      "getContentHeight" : statics.getContentHeight,
      "getContentWidth" : statics.getContentWidth,
      "getPosition" : statics.getPosition,
      "hide" : statics.hide,
      "show" : statics.show
    });
    qxWeb.$attachStatic({
      "includeStylesheet" : statics.includeStylesheet
    });
  }
});

qx.Bootstrap.define("qx.bom.element.Opacity", {
  statics : {
    compile : qx.core.Environment.select("engine.name", {
      "mshtml" : function(opacity){

        if(opacity >= 1){

          opacity = 1;
        };
        if(opacity < 0.00001){

          opacity = 0;
        };
        if(qx.core.Environment.get("css.opacity")){

          return "opacity:" + opacity + ";";
        } else {

          return "zoom:1;filter:alpha(opacity=" + (opacity * 100) + ");";
        };
      },
      "default" : function(opacity){

        if(opacity >= 1){

          return "";
        };
        return "opacity:" + opacity + ";";
      }
    }),
    set : qx.core.Environment.select("engine.name", {
      "mshtml" : function(element, opacity){

        if(qx.core.Environment.get("css.opacity")){

          if(opacity >= 1){

            opacity = "";
          };
          element.style.opacity = opacity;
        } else {

          var filter = qx.bom.element.Style.get(element, "filter", qx.bom.element.Style.COMPUTED_MODE, false);
          if(opacity >= 1){

            opacity = 1;
          };
          if(opacity < 0.00001){

            opacity = 0;
          };
          if(!element.currentStyle || !element.currentStyle.hasLayout){

            element.style.zoom = 1;
          };
          element.style.filter = filter.replace(/alpha\([^\)]*\)/gi, "") + "alpha(opacity=" + opacity * 100 + ")";
        };
      },
      "default" : function(element, opacity){

        if(opacity >= 1){

          opacity = "";
        };
        element.style.opacity = opacity;
      }
    }),
    reset : qx.core.Environment.select("engine.name", {
      "mshtml" : function(element){

        if(qx.core.Environment.get("css.opacity")){

          element.style.opacity = "";
        } else {

          var filter = qx.bom.element.Style.get(element, "filter", qx.bom.element.Style.COMPUTED_MODE, false);
          element.style.filter = filter.replace(/alpha\([^\)]*\)/gi, "");
        };
      },
      "default" : function(element){

        element.style.opacity = "";
      }
    }),
    get : qx.core.Environment.select("engine.name", {
      "mshtml" : function(element, mode){

        if(qx.core.Environment.get("css.opacity")){

          var opacity = qx.bom.element.Style.get(element, "opacity", mode, false);
          if(opacity != null){

            return parseFloat(opacity);
          };
          return 1.0;
        } else {

          var filter = qx.bom.element.Style.get(element, "filter", mode, false);
          if(filter){

            var opacity = filter.match(/alpha\(opacity=(.*)\)/);
            if(opacity && opacity[1]){

              return parseFloat(opacity[1]) / 100;
            };
          };
          return 1.0;
        };
      },
      "default" : function(element, mode){

        var opacity = qx.bom.element.Style.get(element, "opacity", mode, false);
        if(opacity != null){

          return parseFloat(opacity);
        };
        return 1.0;
      }
    })
  }
});

qx.Bootstrap.define("qx.bom.element.Cursor", {
  statics : {
    __map : {
    },
    compile : function(cursor){

      return "cursor:" + (this.__map[cursor] || cursor) + ";";
    },
    get : function(element, mode){

      return qx.bom.element.Style.get(element, "cursor", mode, false);
    },
    set : function(element, value){

      element.style.cursor = this.__map[value] || value;
    },
    reset : function(element){

      element.style.cursor = "";
    }
  },
  defer : function(statics){

    if(qx.core.Environment.get("engine.name") == "mshtml" && ((parseFloat(qx.core.Environment.get("engine.version")) < 9 || qx.core.Environment.get("browser.documentmode") < 9) && !qx.core.Environment.get("browser.quirksmode"))){

      statics.__map["nesw-resize"] = "ne-resize";
      statics.__map["nwse-resize"] = "nw-resize";
      if(((parseFloat(qx.core.Environment.get("engine.version")) < 8 || qx.core.Environment.get("browser.documentmode") < 8) && !qx.core.Environment.get("browser.quirksmode"))){

        statics.__map["ew-resize"] = "e-resize";
        statics.__map["ns-resize"] = "n-resize";
      };
    } else if(qx.core.Environment.get("engine.name") == "opera" && parseInt(qx.core.Environment.get("engine.version")) < 12){

      statics.__map["nesw-resize"] = "ne-resize";
      statics.__map["nwse-resize"] = "nw-resize";
    };
  }
});

qx.Bootstrap.define("qx.bom.element.BoxSizing", {
  statics : {
    __nativeBorderBox : {
      tags : {
        button : true,
        select : true
      },
      types : {
        search : true,
        button : true,
        submit : true,
        reset : true,
        checkbox : true,
        radio : true
      }
    },
    __usesNativeBorderBox : function(element){

      var map = this.__nativeBorderBox;
      return map.tags[element.tagName.toLowerCase()] || map.types[element.type];
    },
    compile : function(value){

      if(qx.core.Environment.get("css.boxsizing")){

        var prop = qx.bom.Style.getCssName(qx.core.Environment.get("css.boxsizing"));
        return prop + ":" + value + ";";
      } else {

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.warn(this, "This client does not support dynamic modification of the boxSizing property.");
          qx.log.Logger.trace();
        };
      };
    },
    get : function(element){

      if(qx.core.Environment.get("css.boxsizing")){

        return qx.bom.element.Style.get(element, "boxSizing", null, false) || "";
      };
      if(qx.bom.Document.isStandardMode(qx.dom.Node.getWindow(element))){

        if(!this.__usesNativeBorderBox(element)){

          return "content-box";
        };
      };
      return "border-box";
    },
    set : function(element, value){

      if(qx.core.Environment.get("css.boxsizing")){

        try{

          element.style[qx.core.Environment.get("css.boxsizing")] = value;
        } catch(ex) {

          if(qx.core.Environment.get("qx.debug")){

            qx.log.Logger.warn(this, "This client does not support the boxSizing value", value);
          };
        };
      } else {

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.warn(this, "This client does not support dynamic modification of the boxSizing property.");
        };
      };
    },
    reset : function(element){

      this.set(element, "");
    }
  }
});

qx.Bootstrap.define("qx.bom.element.Clip", {
  statics : {
    compile : function(map){

      if(!map){

        return "clip:auto;";
      };
      var left = map.left;
      var top = map.top;
      var width = map.width;
      var height = map.height;
      var right,bottom;
      if(left == null){

        right = (width == null ? "auto" : width + "px");
        left = "auto";
      } else {

        right = (width == null ? "auto" : left + width + "px");
        left = left + "px";
      };
      if(top == null){

        bottom = (height == null ? "auto" : height + "px");
        top = "auto";
      } else {

        bottom = (height == null ? "auto" : top + height + "px");
        top = top + "px";
      };
      return "clip:rect(" + top + "," + right + "," + bottom + "," + left + ");";
    },
    get : function(element, mode){

      var clip = qx.bom.element.Style.get(element, "clip", mode, false);
      var left,top,width,height;
      var right,bottom;
      if(typeof clip === "string" && clip !== "auto" && clip !== ""){

        clip = clip.trim();
        if(/\((.*)\)/.test(clip)){

          var result = RegExp.$1;
          if(/,/.test(result)){

            var split = result.split(",");
          } else {

            var split = result.split(" ");
          };
          top = split[0].trim();
          right = split[1].trim();
          bottom = split[2].trim();
          left = split[3].trim();
          if(left === "auto"){

            left = null;
          };
          if(top === "auto"){

            top = null;
          };
          if(right === "auto"){

            right = null;
          };
          if(bottom === "auto"){

            bottom = null;
          };
          if(top != null){

            top = parseInt(top, 10);
          };
          if(right != null){

            right = parseInt(right, 10);
          };
          if(bottom != null){

            bottom = parseInt(bottom, 10);
          };
          if(left != null){

            left = parseInt(left, 10);
          };
          if(right != null && left != null){

            width = right - left;
          } else if(right != null){

            width = right;
          };
          if(bottom != null && top != null){

            height = bottom - top;
          } else if(bottom != null){

            height = bottom;
          };
        } else {

          throw new Error("Could not parse clip string: " + clip);
        };
      };
      return {
        left : left || null,
        top : top || null,
        width : width || null,
        height : height || null
      };
    },
    set : function(element, map){

      if(!map){

        element.style.clip = "rect(auto,auto,auto,auto)";
        return;
      };
      var left = map.left;
      var top = map.top;
      var width = map.width;
      var height = map.height;
      var right,bottom;
      if(left == null){

        right = (width == null ? "auto" : width + "px");
        left = "auto";
      } else {

        right = (width == null ? "auto" : left + width + "px");
        left = left + "px";
      };
      if(top == null){

        bottom = (height == null ? "auto" : height + "px");
        top = "auto";
      } else {

        bottom = (height == null ? "auto" : top + height + "px");
        top = top + "px";
      };
      element.style.clip = "rect(" + top + "," + right + "," + bottom + "," + left + ")";
    },
    reset : function(element){

      element.style.clip = "rect(auto, auto, auto, auto)";
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Css", {
  statics : {
    __WEBKIT_LEGACY_GRADIENT : null,
    getBoxModel : function(){

      var content = qx.bom.client.Engine.getName() !== "mshtml" || !qx.bom.client.Browser.getQuirksMode();
      return content ? "content" : "border";
    },
    getTextOverflow : function(){

      return qx.bom.Style.getPropertyName("textOverflow");
    },
    getPlaceholder : function(){

      var i = document.createElement("input");
      return "placeholder" in i;
    },
    getAppearance : function(){

      return qx.bom.Style.getPropertyName("appearance");
    },
    getBorderRadius : function(){

      return qx.bom.Style.getPropertyName("borderRadius");
    },
    getBoxShadow : function(){

      return qx.bom.Style.getPropertyName("boxShadow");
    },
    getBorderImage : function(){

      return qx.bom.Style.getPropertyName("borderImage");
    },
    getBorderImageSyntax : function(){

      var styleName = qx.bom.client.Css.getBorderImage();
      if(!styleName){

        return null;
      };
      var el = document.createElement("div");
      if(styleName === "borderImage"){

        el.style[styleName] = 'url("foo.png") 4 4 4 4 fill stretch';
        if(el.style.borderImageSource.indexOf("foo.png") >= 0 && el.style.borderImageSlice.indexOf("4 fill") >= 0 && el.style.borderImageRepeat.indexOf("stretch") >= 0){

          return true;
        };
      } else {

        el.style[styleName] = 'url("foo.png") 4 4 4 4 stretch';
        if(el.style[styleName].indexOf("foo.png") >= 0){

          return false;
        };
      };
      return null;
    },
    getUserSelect : function(){

      return qx.bom.Style.getPropertyName("userSelect");
    },
    getUserSelectNone : function(){

      var styleProperty = qx.bom.client.Css.getUserSelect();
      if(styleProperty){

        var el = document.createElement("span");
        el.style[styleProperty] = "-moz-none";
        return el.style[styleProperty] === "-moz-none" ? "-moz-none" : "none";
      };
      return null;
    },
    getUserModify : function(){

      return qx.bom.Style.getPropertyName("userModify");
    },
    getFloat : function(){

      var style = document.documentElement.style;
      return style.cssFloat !== undefined ? "cssFloat" : style.styleFloat !== undefined ? "styleFloat" : null;
    },
    getTranslate3d : function(){

      return 'WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix();
    },
    getLinearGradient : function(){

      qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT = false;
      var value = "linear-gradient(0deg, #fff, #000)";
      var el = document.createElement("div");
      var style = qx.bom.Style.getAppliedStyle(el, "backgroundImage", value);
      if(!style){

        value = "-webkit-gradient(linear,0% 0%,100% 100%,from(white), to(red))";
        var style = qx.bom.Style.getAppliedStyle(el, "backgroundImage", value, false);
        if(style){

          qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT = true;
        };
      };
      if(!style){

        return null;
      };
      var match = /(.*?)\(/.exec(style);
      return match ? match[1] : null;
    },
    getFilterGradient : function(){

      return qx.bom.client.Css.__isFilterSupported("DXImageTransform.Microsoft.Gradient", "startColorStr=#550000FF, endColorStr=#55FFFF00");
    },
    getRadialGradient : function(){

      var value = "radial-gradient(0px 0px, cover, red 50%, blue 100%)";
      var el = document.createElement("div");
      var style = qx.bom.Style.getAppliedStyle(el, "backgroundImage", value);
      if(!style){

        return null;
      };
      var match = /(.*?)\(/.exec(style);
      return match ? match[1] : null;
    },
    getLegacyWebkitGradient : function(){

      if(qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT === null){

        qx.bom.client.Css.getLinearGradient();
      };
      return qx.bom.client.Css.__WEBKIT_LEGACY_GRADIENT;
    },
    getRgba : function(){

      var el;
      try{

        el = document.createElement("div");
      } catch(ex) {

        el = document.createElement();
      };
      try{

        el.style["color"] = "rgba(1, 2, 3, 0.5)";
        if(el.style["color"].indexOf("rgba") != -1){

          return true;
        };
      } catch(ex) {
      };
      return false;
    },
    getBoxSizing : function(){

      return qx.bom.Style.getPropertyName("boxSizing");
    },
    getInlineBlock : function(){

      var el = document.createElement("span");
      el.style.display = "inline-block";
      if(el.style.display == "inline-block"){

        return "inline-block";
      };
      el.style.display = "-moz-inline-box";
      if(el.style.display !== "-moz-inline-box"){

        return "-moz-inline-box";
      };
      return null;
    },
    getOpacity : function(){

      return (typeof document.documentElement.style.opacity == "string");
    },
    getTextShadow : function(){

      return !!qx.bom.Style.getPropertyName("textShadow");
    },
    getFilterTextShadow : function(){

      return qx.bom.client.Css.__isFilterSupported("DXImageTransform.Microsoft.Shadow", "color=#666666,direction=45");
    },
    __isFilterSupported : function(filterClass, initParams){

      var supported = false;
      var value = "progid:" + filterClass + "(" + initParams + ");";
      var el = document.createElement("div");
      document.body.appendChild(el);
      el.style.filter = value;
      if(el.filters && el.filters.length > 0 && el.filters.item(filterClass).enabled == true){

        supported = true;
      };
      document.body.removeChild(el);
      return supported;
    },
    getAlphaImageLoaderNeeded : function(){

      return qx.bom.client.Engine.getName() == "mshtml" && qx.bom.client.Browser.getDocumentMode() < 9;
    },
    getPointerEvents : function(){

      var el = document.documentElement;
      if("pointerEvents" in el.style){

        var initial = el.style.pointerEvents;
        el.style.pointerEvents = "auto";
        el.style.pointerEvents = "foo";
        var supported = el.style.pointerEvents == "auto";
        el.style.pointerEvents = initial;
        return supported;
      };
      return false;
    },
    getFlexboxSyntax : function(){

      var detectedSyntax = null;
      var detector = document.createElement("detect");
      var flexSyntax = [{
        value : "flex",
        syntax : "flex"
      }, {
        value : "-ms-flexbox",
        syntax : "flexbox"
      }, {
        value : "-webkit-flex",
        syntax : "flex"
      }];
      for(var i = 0;i < flexSyntax.length;i++){

        try{

          detector.style.display = flexSyntax[i].value;
        } catch(ex) {

          return null;
        };
        if(detector.style.display === flexSyntax[i].value){

          detectedSyntax = flexSyntax[i].syntax;
          break;
        };
      };
      detector = null;
      return detectedSyntax;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("css.textoverflow", statics.getTextOverflow);
    qx.core.Environment.add("css.placeholder", statics.getPlaceholder);
    qx.core.Environment.add("css.borderradius", statics.getBorderRadius);
    qx.core.Environment.add("css.boxshadow", statics.getBoxShadow);
    qx.core.Environment.add("css.gradient.linear", statics.getLinearGradient);
    qx.core.Environment.add("css.gradient.filter", statics.getFilterGradient);
    qx.core.Environment.add("css.gradient.radial", statics.getRadialGradient);
    qx.core.Environment.add("css.gradient.legacywebkit", statics.getLegacyWebkitGradient);
    qx.core.Environment.add("css.boxmodel", statics.getBoxModel);
    qx.core.Environment.add("css.rgba", statics.getRgba);
    qx.core.Environment.add("css.borderimage", statics.getBorderImage);
    qx.core.Environment.add("css.borderimage.standardsyntax", statics.getBorderImageSyntax);
    qx.core.Environment.add("css.usermodify", statics.getUserModify);
    qx.core.Environment.add("css.userselect", statics.getUserSelect);
    qx.core.Environment.add("css.userselect.none", statics.getUserSelectNone);
    qx.core.Environment.add("css.appearance", statics.getAppearance);
    qx.core.Environment.add("css.float", statics.getFloat);
    qx.core.Environment.add("css.boxsizing", statics.getBoxSizing);
    qx.core.Environment.add("css.inlineblock", statics.getInlineBlock);
    qx.core.Environment.add("css.opacity", statics.getOpacity);
    qx.core.Environment.add("css.textShadow", statics.getTextShadow);
    qx.core.Environment.add("css.textShadow.filter", statics.getFilterTextShadow);
    qx.core.Environment.add("css.alphaimageloaderneeded", statics.getAlphaImageLoaderNeeded);
    qx.core.Environment.add("css.pointerevents", statics.getPointerEvents);
    qx.core.Environment.add("css.flexboxSyntax", statics.getFlexboxSyntax);
  }
});

qx.Bootstrap.define("qx.lang.Object", {
  statics : {
    empty : function(map){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertMap(map, "Invalid argument 'map'");
      };
      for(var key in map){

        if(map.hasOwnProperty(key)){

          delete map[key];
        };
      };
    },
    isEmpty : function(map){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertMap(map, "Invalid argument 'map'");
      };
      for(var key in map){

        return false;
      };
      return true;
    },
    getLength : qx.Bootstrap.objectGetLength,
    getValues : function(map){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertMap(map, "Invalid argument 'map'");
      };
      var arr = [];
      var keys = Object.keys(map);
      for(var i = 0,l = keys.length;i < l;i++){

        arr.push(map[keys[i]]);
      };
      return arr;
    },
    mergeWith : qx.Bootstrap.objectMergeWith,
    clone : function(source, deep){

      if(qx.lang.Type.isObject(source)){

        var clone = {
        };
        for(var key in source){

          if(deep){

            clone[key] = qx.lang.Object.clone(source[key], deep);
          } else {

            clone[key] = source[key];
          };
        };
        return clone;
      } else if(qx.lang.Type.isArray(source)){

        var clone = [];
        for(var i = 0;i < source.length;i++){

          if(deep){

            clone[i] = qx.lang.Object.clone(source[i]);
          } else {

            clone[i] = source[i];
          };
        };
        return clone;
      };
      return source;
    },
    equals : function(object1, object2){

      return qx.lang.Object.__equals(object1, object2, [], []);
    },
    __equals : function(object1, object2, aStack, bStack){

      if(object1 === object2){

        return object1 !== 0 || 1 / object1 == 1 / object2;
      };
      if(object1 == null || object2 == null){

        return object1 === object2;
      };
      var className = Object.prototype.toString.call(object1);
      if(className != Object.prototype.toString.call(object2)){

        return false;
      };
      switch(className){case '[object String]':
      return object1 == String(object2);case '[object Number]':
      return object1 != +object1 ? object2 != +object2 : (object1 == 0 ? 1 / object1 == 1 / object2 : object1 == +object2);case '[object Date]':case '[object Boolean]':
      return +object1 == +object2;case '[object RegExp]':
      return object1.source == object2.source && object1.global == object2.global && object1.multiline == object2.multiline && object1.ignoreCase == object2.ignoreCase;};
      if(typeof object1 != 'object' || typeof object2 != 'object'){

        return false;
      };
      var length = aStack.length;
      while(length--){

        if(aStack[length] == object1){

          return bStack[length] == object2;
        };
      };
      var aCtor = object1.constructor,bCtor = object2.constructor;
      if(aCtor !== bCtor && !(qx.Bootstrap.isFunction(aCtor) && (aCtor instanceof aCtor) && qx.Bootstrap.isFunction(bCtor) && (bCtor instanceof bCtor)) && ('constructor' in object1 && 'constructor' in object2)){

        return false;
      };
      aStack.push(object1);
      bStack.push(object2);
      var size = 0,result = true;
      if(className == '[object Array]'){

        size = object1.length;
        result = size == object2.length;
        if(result){

          while(size--){

            if(!(result = qx.lang.Object.__equals(object1[size], object2[size], aStack, bStack))){

              break;
            };
          };
        };
      } else {

        for(var key in object1){

          if(Object.prototype.hasOwnProperty.call(object1, key)){

            size++;
            if(!(result = Object.prototype.hasOwnProperty.call(object2, key) && qx.lang.Object.__equals(object1[key], object2[key], aStack, bStack))){

              break;
            };
          };
        };
        if(result){

          for(key in object2){

            if(Object.prototype.hasOwnProperty.call(object2, key) && !(size--)){

              break;
            };
          };
          result = !size;
        };
      };
      aStack.pop();
      bStack.pop();
      return result;
    },
    invert : function(map){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertMap(map, "Invalid argument 'map'");
      };
      var result = {
      };
      for(var key in map){

        result[map[key].toString()] = key;
      };
      return result;
    },
    getKeyFromValue : function(map, value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertMap(map, "Invalid argument 'map'");
      };
      for(var key in map){

        if(map.hasOwnProperty(key) && map[key] === value){

          return key;
        };
      };
      return null;
    },
    contains : function(map, value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertMap(map, "Invalid argument 'map'");
      };
      return this.getKeyFromValue(map, value) !== null;
    },
    fromArray : function(array){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert && qx.core.Assert.assertArray(array, "Invalid argument 'array'");
      };
      var obj = {
      };
      for(var i = 0,l = array.length;i < l;i++){

        if(qx.core.Environment.get("qx.debug")){

          switch(typeof array[i]){case "object":case "function":case "undefined":
          throw new Error("Could not convert complex objects like " + array[i] + " at array index " + i + " to map syntax");};
        };
        obj[array[i].toString()] = true;
      };
      return obj;
    }
  }
});

qx.Bootstrap.define("qx.bom.element.Style", {
  statics : {
    __styleNames : null,
    __cssNames : null,
    __detectVendorProperties : function(){

      var styleNames = {
        "appearance" : qx.core.Environment.get("css.appearance"),
        "userSelect" : qx.core.Environment.get("css.userselect"),
        "textOverflow" : qx.core.Environment.get("css.textoverflow"),
        "borderImage" : qx.core.Environment.get("css.borderimage"),
        "float" : qx.core.Environment.get("css.float"),
        "userModify" : qx.core.Environment.get("css.usermodify"),
        "boxSizing" : qx.core.Environment.get("css.boxsizing")
      };
      this.__cssNames = {
      };
      for(var key in qx.lang.Object.clone(styleNames)){

        if(!styleNames[key]){

          delete styleNames[key];
        } else {

          this.__cssNames[key] = key == "float" ? "float" : qx.bom.Style.getCssName(styleNames[key]);
        };
      };
      this.__styleNames = styleNames;
    },
    __getStyleName : function(name){

      var styleName = qx.bom.Style.getPropertyName(name);
      if(styleName){

        this.__styleNames[name] = styleName;
      };
      return styleName;
    },
    __mshtmlPixel : {
      width : "pixelWidth",
      height : "pixelHeight",
      left : "pixelLeft",
      right : "pixelRight",
      top : "pixelTop",
      bottom : "pixelBottom"
    },
    __special : {
      clip : qx.bom.element.Clip,
      cursor : qx.bom.element.Cursor,
      opacity : qx.bom.element.Opacity,
      boxSizing : qx.bom.element.BoxSizing
    },
    compile : function(map){

      var html = [];
      var special = this.__special;
      var cssNames = this.__cssNames;
      var name,value;
      for(name in map){

        value = map[name];
        if(value == null){

          continue;
        };
        name = this.__styleNames[name] || this.__getStyleName(name) || name;
        if(special[name]){

          html.push(special[name].compile(value));
        } else {

          if(!cssNames[name]){

            cssNames[name] = qx.bom.Style.getCssName(name);
          };
          html.push(cssNames[name], ":", value, ";");
        };
      };
      return html.join("");
    },
    setCss : function(element, value){

      if(qx.core.Environment.get("engine.name") === "mshtml" && parseInt(qx.core.Environment.get("browser.documentmode"), 10) < 8){

        element.style.cssText = value;
      } else {

        element.setAttribute("style", value);
      };
    },
    getCss : function(element){

      if(qx.core.Environment.get("engine.name") === "mshtml" && parseInt(qx.core.Environment.get("browser.documentmode"), 10) < 8){

        return element.style.cssText.toLowerCase();
      } else {

        return element.getAttribute("style");
      };
    },
    isPropertySupported : function(propertyName){

      return (this.__special[propertyName] || this.__styleNames[propertyName] || propertyName in document.documentElement.style);
    },
    COMPUTED_MODE : 1,
    CASCADED_MODE : 2,
    LOCAL_MODE : 3,
    set : function(element, name, value, smart){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertElement(element, "Invalid argument 'element'");
        qx.core.Assert.assertString(name, "Invalid argument 'name'");
        if(smart !== undefined){

          qx.core.Assert.assertBoolean(smart, "Invalid argument 'smart'");
        };
      };
      name = this.__styleNames[name] || this.__getStyleName(name) || name;
      if(smart !== false && this.__special[name]){

        this.__special[name].set(element, value);
      } else {

        element.style[name] = value !== null ? value : "";
      };
    },
    setStyles : function(element, styles, smart){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertElement(element, "Invalid argument 'element'");
        qx.core.Assert.assertMap(styles, "Invalid argument 'styles'");
        if(smart !== undefined){

          qx.core.Assert.assertBoolean(smart, "Invalid argument 'smart'");
        };
      };
      var styleNames = this.__styleNames;
      var special = this.__special;
      var style = element.style;
      for(var key in styles){

        var value = styles[key];
        var name = styleNames[key] || this.__getStyleName(key) || key;
        if(value === undefined){

          if(smart !== false && special[name]){

            special[name].reset(element);
          } else {

            style[name] = "";
          };
        } else {

          if(smart !== false && special[name]){

            special[name].set(element, value);
          } else {

            style[name] = value !== null ? value : "";
          };
        };
      };
    },
    reset : function(element, name, smart){

      name = this.__styleNames[name] || this.__getStyleName(name) || name;
      if(smart !== false && this.__special[name]){

        this.__special[name].reset(element);
      } else {

        element.style[name] = "";
      };
    },
    get : function(element, name, mode, smart){

      name = this.__styleNames[name] || this.__getStyleName(name) || name;
      if(smart !== false && this.__special[name]){

        return this.__special[name].get(element, mode);
      };
      switch(mode){case this.LOCAL_MODE:
      return element.style[name] || "";case this.CASCADED_MODE:
      if(element.currentStyle){

        return element.currentStyle[name] || "";
      };
      throw new Error("Cascaded styles are not supported in this browser!");default:
      var doc = qx.dom.Node.getDocument(element);
      var getStyle = doc.defaultView ? doc.defaultView.getComputedStyle : undefined;
      if(getStyle !== undefined){

        var computed = getStyle(element, null);
        if(computed && computed[name]){

          return computed[name];
        };
      } else {

        if(!element.currentStyle){

          return element.style[name] || "";
        };
        var currentStyle = element.currentStyle[name] || element.style[name] || "";
        if(/^-?[\.\d]+(px)?$/i.test(currentStyle)){

          return currentStyle;
        };
        var pixel = this.__mshtmlPixel[name];
        if(pixel && (pixel in element.style)){

          var localStyle = element.style[name];
          element.style[name] = currentStyle || 0;
          var value = element.style[pixel] + "px";
          element.style[name] = localStyle;
          return value;
        };
        return currentStyle;
      };
      return element.style[name] || "";};
    }
  },
  defer : function(statics){

    statics.__detectVendorProperties();
  }
});

qx.Bootstrap.define("qx.bom.Document", {
  statics : {
    isQuirksMode : qx.core.Environment.select("engine.name", {
      "mshtml" : function(win){

        if(qx.core.Environment.get("engine.version") >= 8){

          return (win || window).document.documentMode === 5;
        } else {

          return (win || window).document.compatMode !== "CSS1Compat";
        };
      },
      "webkit" : function(win){

        if(document.compatMode === undefined){

          var el = (win || window).document.createElement("div");
          el.style.cssText = "position:absolute;width:0;height:0;width:1";
          return el.style.width === "1px" ? true : false;
        } else {

          return (win || window).document.compatMode !== "CSS1Compat";
        };
      },
      "default" : function(win){

        return (win || window).document.compatMode !== "CSS1Compat";
      }
    }),
    isStandardMode : function(win){

      return !this.isQuirksMode(win);
    },
    getWidth : function(win){

      var doc = (win || window).document;
      var view = qx.bom.Viewport.getWidth(win);
      var scroll = this.isStandardMode(win) ? doc.documentElement.scrollWidth : doc.body.scrollWidth;
      return Math.max(scroll, view);
    },
    getHeight : function(win){

      var doc = (win || window).document;
      var view = qx.bom.Viewport.getHeight(win);
      var scroll = this.isStandardMode(win) ? doc.documentElement.scrollHeight : doc.body.scrollHeight;
      return Math.max(scroll, view);
    }
  }
});

qx.Bootstrap.define("qx.bom.Viewport", {
  statics : {
    getWidth : function(win){

      var win = win || window;
      var doc = win.document;
      return qx.bom.Document.isStandardMode(win) ? doc.documentElement.clientWidth : doc.body.clientWidth;
    },
    getHeight : function(win){

      var win = win || window;
      var doc = win.document;
      if(qx.core.Environment.get("os.name") == "ios" && window.innerHeight != doc.documentElement.clientHeight){

        return window.innerHeight;
      };
      return qx.bom.Document.isStandardMode(win) ? doc.documentElement.clientHeight : doc.body.clientHeight;
    },
    getScrollLeft : function(win){

      var win = win ? win : window;
      if(typeof win.pageXOffset !== "undefined"){

        return win.pageXOffset;
      };
      var doc = win.document;
      return doc.documentElement.scrollLeft || doc.body.scrollLeft;
    },
    getScrollTop : function(win){

      var win = win ? win : window;
      if(typeof win.pageYOffset !== "undefined"){

        return win.pageYOffset;
      };
      var doc = win.document;
      return doc.documentElement.scrollTop || doc.body.scrollTop;
    },
    __getOrientationNormalizer : function(win){

      var currentOrientation = this.getWidth(win) > this.getHeight(win) ? 90 : 0;
      var deviceOrientation = win.orientation;
      if(deviceOrientation == null || Math.abs(deviceOrientation % 180) == currentOrientation){

        return {
          "-270" : 90,
          "-180" : 180,
          "-90" : -90,
          "0" : 0,
          "90" : 90,
          "180" : 180,
          "270" : -90
        };
      } else {

        return {
          "-270" : 180,
          "-180" : -90,
          "-90" : 0,
          "0" : 90,
          "90" : 180,
          "180" : -90,
          "270" : 0
        };
      };
    },
    __orientationNormalizer : null,
    getOrientation : function(win){

      var win = win || window.top;
      var orientation = win.orientation;
      if(orientation == null){

        orientation = this.getWidth(win) > this.getHeight(win) ? 90 : 0;
      } else {

        if(this.__orientationNormalizer == null){

          this.__orientationNormalizer = this.__getOrientationNormalizer(win);
        };
        orientation = this.__orientationNormalizer[orientation];
      };
      return orientation;
    },
    isLandscape : function(win){

      return this.getWidth(win) >= this.getHeight(win);
    },
    isPortrait : function(win){

      return this.getWidth(win) < this.getHeight(win);
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Html", {
  statics : {
    getWebWorker : function(){

      return window.Worker != null;
    },
    getFileReader : function(){

      return window.FileReader != null;
    },
    getGeoLocation : function(){

      return "geolocation" in navigator;
    },
    getAudio : function(){

      return !!document.createElement('audio').canPlayType;
    },
    getAudioOgg : function(){

      if(!qx.bom.client.Html.getAudio()){

        return "";
      };
      var a = document.createElement("audio");
      return a.canPlayType("audio/ogg");
    },
    getAudioMp3 : function(){

      if(!qx.bom.client.Html.getAudio()){

        return "";
      };
      var a = document.createElement("audio");
      return a.canPlayType("audio/mpeg");
    },
    getAudioWav : function(){

      if(!qx.bom.client.Html.getAudio()){

        return "";
      };
      var a = document.createElement("audio");
      return a.canPlayType("audio/x-wav");
    },
    getAudioAu : function(){

      if(!qx.bom.client.Html.getAudio()){

        return "";
      };
      var a = document.createElement("audio");
      return a.canPlayType("audio/basic");
    },
    getAudioAif : function(){

      if(!qx.bom.client.Html.getAudio()){

        return "";
      };
      var a = document.createElement("audio");
      return a.canPlayType("audio/x-aiff");
    },
    getVideo : function(){

      return !!document.createElement('video').canPlayType;
    },
    getVideoOgg : function(){

      if(!qx.bom.client.Html.getVideo()){

        return "";
      };
      var v = document.createElement("video");
      return v.canPlayType('video/ogg; codecs="theora, vorbis"');
    },
    getVideoH264 : function(){

      if(!qx.bom.client.Html.getVideo()){

        return "";
      };
      var v = document.createElement("video");
      return v.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');
    },
    getVideoWebm : function(){

      if(!qx.bom.client.Html.getVideo()){

        return "";
      };
      var v = document.createElement("video");
      return v.canPlayType('video/webm; codecs="vp8, vorbis"');
    },
    getLocalStorage : function(){

      try{

        var has = window.localStorage != null;
        if(has){

          window.sessionStorage.setItem("$qx_check", "test");
          window.sessionStorage.removeItem("$qx_check");
        };
        return has;
      } catch(exc) {

        return false;
      };
    },
    getSessionStorage : function(){

      try{

        var has = window.sessionStorage != null;
        if(has){

          window.sessionStorage.setItem("$qx_check", "test");
          window.sessionStorage.removeItem("$qx_check");
        };
        return has;
      } catch(exc) {

        return false;
      };
    },
    getUserDataStorage : function(){

      var el = document.createElement("div");
      el.style["display"] = "none";
      document.getElementsByTagName("head")[0].appendChild(el);
      var supported = false;
      try{

        el.addBehavior("#default#userdata");
        el.load("qxtest");
        supported = true;
      } catch(e) {
      };
      document.getElementsByTagName("head")[0].removeChild(el);
      return supported;
    },
    getClassList : function(){

      return !!(document.documentElement.classList && qx.Bootstrap.getClass(document.documentElement.classList) === "DOMTokenList");
    },
    getXPath : function(){

      return !!document.evaluate;
    },
    getXul : function(){

      try{

        document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul", "label");
        return true;
      } catch(e) {

        return false;
      };
    },
    getSvg : function(){

      return document.implementation && document.implementation.hasFeature && (document.implementation.hasFeature("org.w3c.dom.svg", "1.0") || document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"));
    },
    getVml : function(){

      var el = document.createElement("div");
      document.body.appendChild(el);
      el.innerHTML = '<v:shape id="vml_flag1" adj="1" />';
      el.firstChild.style.behavior = "url(#default#VML)";
      var hasVml = typeof el.firstChild.adj == "object";
      document.body.removeChild(el);
      return hasVml;
    },
    getCanvas : function(){

      return !!window.CanvasRenderingContext2D;
    },
    getDataUrl : function(callback){

      var data = new Image();
      data.onload = data.onerror = function(){

        window.setTimeout(function(){

          callback.call(null, (data.width == 1 && data.height == 1));
        }, 0);
      };
      data.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
    },
    getDataset : function(){

      return !!document.documentElement.dataset;
    },
    getContains : function(){

      return (typeof document.documentElement.contains !== "undefined");
    },
    getCompareDocumentPosition : function(){

      return (typeof document.documentElement.compareDocumentPosition === "function");
    },
    getTextContent : function(){

      var el = document.createElement("span");
      return (typeof el.textContent !== "undefined");
    },
    getConsole : function(){

      return typeof window.console !== "undefined";
    },
    getNaturalDimensions : function(){

      var img = document.createElement("img");
      return typeof img.naturalHeight === "number" && typeof img.naturalWidth === "number";
    },
    getHistoryState : function(){

      return (typeof window.onpopstate !== "undefined" && typeof window.history.replaceState !== "undefined" && typeof window.history.pushState !== "undefined");
    },
    getSelection : function(){

      if(typeof window.getSelection === "function"){

        return "getSelection";
      };
      if(typeof document.selection === "object"){

        return "selection";
      };
      return null;
    },
    getIsEqualNode : function(){

      return typeof document.documentElement.isEqualNode === "function";
    }
  },
  defer : function(statics){

    qx.core.Environment.add("html.webworker", statics.getWebWorker);
    qx.core.Environment.add("html.filereader", statics.getFileReader);
    qx.core.Environment.add("html.geolocation", statics.getGeoLocation);
    qx.core.Environment.add("html.audio", statics.getAudio);
    qx.core.Environment.add("html.audio.ogg", statics.getAudioOgg);
    qx.core.Environment.add("html.audio.mp3", statics.getAudioMp3);
    qx.core.Environment.add("html.audio.wav", statics.getAudioWav);
    qx.core.Environment.add("html.audio.au", statics.getAudioAu);
    qx.core.Environment.add("html.audio.aif", statics.getAudioAif);
    qx.core.Environment.add("html.video", statics.getVideo);
    qx.core.Environment.add("html.video.ogg", statics.getVideoOgg);
    qx.core.Environment.add("html.video.h264", statics.getVideoH264);
    qx.core.Environment.add("html.video.webm", statics.getVideoWebm);
    qx.core.Environment.add("html.storage.local", statics.getLocalStorage);
    qx.core.Environment.add("html.storage.session", statics.getSessionStorage);
    qx.core.Environment.add("html.storage.userdata", statics.getUserDataStorage);
    qx.core.Environment.add("html.classlist", statics.getClassList);
    qx.core.Environment.add("html.xpath", statics.getXPath);
    qx.core.Environment.add("html.xul", statics.getXul);
    qx.core.Environment.add("html.canvas", statics.getCanvas);
    qx.core.Environment.add("html.svg", statics.getSvg);
    qx.core.Environment.add("html.vml", statics.getVml);
    qx.core.Environment.add("html.dataset", statics.getDataset);
    qx.core.Environment.addAsync("html.dataurl", statics.getDataUrl);
    qx.core.Environment.add("html.element.contains", statics.getContains);
    qx.core.Environment.add("html.element.compareDocumentPosition", statics.getCompareDocumentPosition);
    qx.core.Environment.add("html.element.textcontent", statics.getTextContent);
    qx.core.Environment.add("html.console", statics.getConsole);
    qx.core.Environment.add("html.image.naturaldimensions", statics.getNaturalDimensions);
    qx.core.Environment.add("html.history.state", statics.getHistoryState);
    qx.core.Environment.add("html.selection", statics.getSelection);
    qx.core.Environment.add("html.node.isequalnode", statics.getIsEqualNode);
  }
});

qx.Bootstrap.define("qx.bom.element.Class", {
  statics : {
    __splitter : /\s+/g,
    __trim : /^\s+|\s+$/g,
    add : {
      "native" : function(element, name){

        element.classList.add(name);
        return name;
      },
      "default" : function(element, name){

        if(!this.has(element, name)){

          element.className += (element.className ? " " : "") + name;
        };
        return name;
      }
    }[qx.core.Environment.get("html.classlist") ? "native" : "default"],
    addClasses : {
      "native" : function(element, classes){

        for(var i = 0;i < classes.length;i++){

          element.classList.add(classes[i]);
        };
        return element.className;
      },
      "default" : function(element, classes){

        var keys = {
        };
        var result;
        var old = element.className;
        if(old){

          result = old.split(this.__splitter);
          for(var i = 0,l = result.length;i < l;i++){

            keys[result[i]] = true;
          };
          for(var i = 0,l = classes.length;i < l;i++){

            if(!keys[classes[i]]){

              result.push(classes[i]);
            };
          };
        } else {

          result = classes;
        };
        return element.className = result.join(" ");
      }
    }[qx.core.Environment.get("html.classlist") ? "native" : "default"],
    get : function(element){

      var className = element.className;
      if(typeof className.split !== 'function'){

        if(typeof className === 'object'){

          if(qx.Bootstrap.getClass(className) == 'SVGAnimatedString'){

            className = className.baseVal;
          } else {

            if(qx.core.Environment.get("qx.debug")){

              qx.log.Logger.warn(this, "className for element " + element + " cannot be determined");
            };
            className = '';
          };
        };
        if(typeof className === 'undefined'){

          if(qx.core.Environment.get("qx.debug")){

            qx.log.Logger.warn(this, "className for element " + element + " is undefined");
          };
          className = '';
        };
      };
      return className;
    },
    has : {
      "native" : function(element, name){

        return element.classList.contains(name);
      },
      "default" : function(element, name){

        var regexp = new RegExp("(^|\\s)" + name + "(\\s|$)");
        return regexp.test(element.className);
      }
    }[qx.core.Environment.get("html.classlist") ? "native" : "default"],
    remove : {
      "native" : function(element, name){

        element.classList.remove(name);
        return name;
      },
      "default" : function(element, name){

        var regexp = new RegExp("(^|\\s)" + name + "(\\s|$)");
        element.className = element.className.replace(regexp, "$2");
        return name;
      }
    }[qx.core.Environment.get("html.classlist") ? "native" : "default"],
    removeClasses : {
      "native" : function(element, classes){

        for(var i = 0;i < classes.length;i++){

          element.classList.remove(classes[i]);
        };
        return element.className;
      },
      "default" : function(element, classes){

        var reg = new RegExp("\\b" + classes.join("\\b|\\b") + "\\b", "g");
        return element.className = element.className.replace(reg, "").replace(this.__trim, "").replace(this.__splitter, " ");
      }
    }[qx.core.Environment.get("html.classlist") ? "native" : "default"],
    replace : function(element, oldName, newName){

      if(!this.has(element, oldName)){

        return "";
      };
      this.remove(element, oldName);
      return this.add(element, newName);
    },
    toggle : {
      "native" : function(element, name, toggle){

        if(toggle === undefined){

          element.classList.toggle(name);
        } else {

          toggle ? this.add(element, name) : this.remove(element, name);
        };
        return name;
      },
      "default" : function(element, name, toggle){

        if(toggle == null){

          toggle = !this.has(element, name);
        };
        toggle ? this.add(element, name) : this.remove(element, name);
        return name;
      }
    }[qx.core.Environment.get("html.classlist") ? "native" : "default"]
  }
});

qx.Bootstrap.define("qx.bom.element.Dimension", {
  statics : {
    getWidth : function(element){

      var rect = element.getBoundingClientRect();
      return Math.round(rect.right - rect.left);
    },
    getHeight : function(element){

      var rect = element.getBoundingClientRect();
      return Math.round(rect.bottom - rect.top);
    },
    getSize : function(element){

      return {
        width : this.getWidth(element),
        height : this.getHeight(element)
      };
    },
    __hiddenScrollbars : {
      visible : true,
      hidden : true
    },
    getContentWidth : function(element){

      var Style = qx.bom.element.Style;
      var overflowX = qx.bom.element.Style.get(element, "overflowX");
      var paddingLeft = parseInt(Style.get(element, "paddingLeft") || "0px", 10);
      var paddingRight = parseInt(Style.get(element, "paddingRight") || "0px", 10);
      if(this.__hiddenScrollbars[overflowX]){

        var contentWidth = element.clientWidth;
        if((qx.core.Environment.get("engine.name") == "opera") || qx.dom.Node.isBlockNode(element)){

          contentWidth = contentWidth - paddingLeft - paddingRight;
        };
        if(qx.core.Environment.get("engine.name") == "mshtml"){

          if(contentWidth === 0 && element.offsetHeight === 0){

            return element.offsetWidth;
          };
        };
        return contentWidth;
      } else {

        if(element.clientWidth >= element.scrollWidth){

          return Math.max(element.clientWidth, element.scrollWidth) - paddingLeft - paddingRight;
        } else {

          var width = element.scrollWidth - paddingLeft;
          if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("engine.version") >= 6){

            width -= paddingRight;
          };
          return width;
        };
      };
    },
    getContentHeight : function(element){

      var Style = qx.bom.element.Style;
      var overflowY = qx.bom.element.Style.get(element, "overflowY");
      var paddingTop = parseInt(Style.get(element, "paddingTop") || "0px", 10);
      var paddingBottom = parseInt(Style.get(element, "paddingBottom") || "0px", 10);
      if(this.__hiddenScrollbars[overflowY]){

        return element.clientHeight - paddingTop - paddingBottom;
      } else {

        if(element.clientHeight >= element.scrollHeight){

          return Math.max(element.clientHeight, element.scrollHeight) - paddingTop - paddingBottom;
        } else {

          var height = element.scrollHeight - paddingTop;
          if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("engine.version") == 6){

            height -= paddingBottom;
          };
          return height;
        };
      };
    },
    getContentSize : function(element){

      return {
        width : this.getContentWidth(element),
        height : this.getContentHeight(element)
      };
    }
  }
});

qx.Bootstrap.define("qx.bom.element.Location", {
  statics : {
    __style : function(elem, style){

      return qx.bom.element.Style.get(elem, style, qx.bom.element.Style.COMPUTED_MODE, false);
    },
    __num : function(elem, style){

      return parseInt(qx.bom.element.Style.get(elem, style, qx.bom.element.Style.COMPUTED_MODE, false), 10) || 0;
    },
    __computeScroll : function(elem){

      var left = 0,top = 0;
      var win = qx.dom.Node.getWindow(elem);
      left -= qx.bom.Viewport.getScrollLeft(win);
      top -= qx.bom.Viewport.getScrollTop(win);
      return {
        left : left,
        top : top
      };
    },
    __computeBody : qx.core.Environment.select("engine.name", {
      "mshtml" : function(elem){

        var doc = qx.dom.Node.getDocument(elem);
        var body = doc.body;
        var left = 0;
        var top = 0;
        left -= body.clientLeft + doc.documentElement.clientLeft;
        top -= body.clientTop + doc.documentElement.clientTop;
        if(!qx.core.Environment.get("browser.quirksmode")){

          left += this.__num(body, "borderLeftWidth");
          top += this.__num(body, "borderTopWidth");
        };
        return {
          left : left,
          top : top
        };
      },
      "webkit" : function(elem){

        var doc = qx.dom.Node.getDocument(elem);
        var body = doc.body;
        var left = body.offsetLeft;
        var top = body.offsetTop;
        if(parseFloat(qx.core.Environment.get("engine.version")) < 530.17){

          left += this.__num(body, "borderLeftWidth");
          top += this.__num(body, "borderTopWidth");
        };
        return {
          left : left,
          top : top
        };
      },
      "gecko" : function(elem){

        var body = qx.dom.Node.getDocument(elem).body;
        var left = body.offsetLeft;
        var top = body.offsetTop;
        if(parseFloat(qx.core.Environment.get("engine.version")) < 1.9){

          left += this.__num(body, "marginLeft");
          top += this.__num(body, "marginTop");
        };
        if(qx.bom.element.BoxSizing.get(body) !== "border-box"){

          left += this.__num(body, "borderLeftWidth");
          top += this.__num(body, "borderTopWidth");
        };
        return {
          left : left,
          top : top
        };
      },
      "default" : function(elem){

        var body = qx.dom.Node.getDocument(elem).body;
        var left = body.offsetLeft;
        var top = body.offsetTop;
        return {
          left : left,
          top : top
        };
      }
    }),
    __computeOffset : function(elem){

      var rect = elem.getBoundingClientRect();
      return {
        left : Math.round(rect.left),
        top : Math.round(rect.top)
      };
    },
    get : function(elem, mode){

      if(elem.tagName == "BODY"){

        var location = this.__getBodyLocation(elem);
        var left = location.left;
        var top = location.top;
      } else {

        var body = this.__computeBody(elem);
        var offset = this.__computeOffset(elem);
        var scroll = this.__computeScroll(elem);
        var left = offset.left + body.left - scroll.left;
        var top = offset.top + body.top - scroll.top;
      };
      var right = left + elem.offsetWidth;
      var bottom = top + elem.offsetHeight;
      if(mode){

        if(mode == "padding" || mode == "scroll"){

          var overX = qx.bom.element.Style.get(elem, "overflowX");
          if(overX == "scroll" || overX == "auto"){

            right += elem.scrollWidth - elem.offsetWidth + this.__num(elem, "borderLeftWidth") + this.__num(elem, "borderRightWidth");
          };
          var overY = qx.bom.element.Style.get(elem, "overflowY");
          if(overY == "scroll" || overY == "auto"){

            bottom += elem.scrollHeight - elem.offsetHeight + this.__num(elem, "borderTopWidth") + this.__num(elem, "borderBottomWidth");
          };
        };
        switch(mode){case "padding":
        left += this.__num(elem, "paddingLeft");
        top += this.__num(elem, "paddingTop");
        right -= this.__num(elem, "paddingRight");
        bottom -= this.__num(elem, "paddingBottom");case "scroll":
        left -= elem.scrollLeft;
        top -= elem.scrollTop;
        right -= elem.scrollLeft;
        bottom -= elem.scrollTop;case "border":
        left += this.__num(elem, "borderLeftWidth");
        top += this.__num(elem, "borderTopWidth");
        right -= this.__num(elem, "borderRightWidth");
        bottom -= this.__num(elem, "borderBottomWidth");
        break;case "margin":
        left -= this.__num(elem, "marginLeft");
        top -= this.__num(elem, "marginTop");
        right += this.__num(elem, "marginRight");
        bottom += this.__num(elem, "marginBottom");
        break;};
      };
      return {
        left : left,
        top : top,
        right : right,
        bottom : bottom
      };
    },
    __getBodyLocation : function(body){

      var top = body.offsetTop;
      var left = body.offsetLeft;
      if(qx.core.Environment.get("engine.name") !== "mshtml" || !((parseFloat(qx.core.Environment.get("engine.version")) < 8 || qx.core.Environment.get("browser.documentmode") < 8) && !qx.core.Environment.get("browser.quirksmode"))){

        top += this.__num(body, "marginTop");
        left += this.__num(body, "marginLeft");
      };
      if(qx.core.Environment.get("engine.name") === "gecko"){

        top += this.__num(body, "borderLeftWidth");
        left += this.__num(body, "borderTopWidth");
      };
      return {
        left : left,
        top : top
      };
    },
    getLeft : function(elem, mode){

      return this.get(elem, mode).left;
    },
    getTop : function(elem, mode){

      return this.get(elem, mode).top;
    },
    getRight : function(elem, mode){

      return this.get(elem, mode).right;
    },
    getBottom : function(elem, mode){

      return this.get(elem, mode).bottom;
    },
    getRelative : function(elem1, elem2, mode1, mode2){

      var loc1 = this.get(elem1, mode1);
      var loc2 = this.get(elem2, mode2);
      return {
        left : loc1.left - loc2.left,
        top : loc1.top - loc2.top,
        right : loc1.right - loc2.right,
        bottom : loc1.bottom - loc2.bottom
      };
    },
    getPosition : function(elem){

      return this.getRelative(elem, this.getOffsetParent(elem));
    },
    getOffsetParent : function(element){

      var offsetParent = element.offsetParent || document.body;
      var Style = qx.bom.element.Style;
      while(offsetParent && (!/^body|html$/i.test(offsetParent.tagName) && Style.get(offsetParent, "position") === "static")){

        offsetParent = offsetParent.offsetParent;
      };
      return offsetParent;
    }
  }
});

qx.Bootstrap.define("qx.bom.Stylesheet", {
  statics : {
    includeFile : function(href, doc){

      if(!doc){

        doc = document;
      };
      var el = doc.createElement("link");
      el.type = "text/css";
      el.rel = "stylesheet";
      el.href = href;
      var head = doc.getElementsByTagName("head")[0];
      head.appendChild(el);
    },
    createElement : function(text){

      if(qx.core.Environment.get("html.stylesheet.createstylesheet")){

        var sheet = document.createStyleSheet();
        if(text){

          sheet.cssText = text;
        };
        return sheet;
      } else {

        var elem = document.createElement("style");
        elem.type = "text/css";
        if(text){

          elem.appendChild(document.createTextNode(text));
        };
        document.getElementsByTagName("head")[0].appendChild(elem);
        return elem.sheet;
      };
    },
    addRule : function(sheet, selector, entry){

      if(qx.core.Environment.get('qx.debug')){

        var msg = "qx.bom.Stylesheet.addRule: The rule '" + entry + "' for the selector '" + selector + "' must not be enclosed in braces";
        qx.core.Assert.assertFalse(/^\s*?\{.*?\}\s*?$/.test(entry), msg);
      };
      if(qx.core.Environment.get("html.stylesheet.insertrule")){

        sheet.insertRule(selector + "{" + entry + "}", sheet.cssRules.length);
      } else {

        sheet.addRule(selector, entry);
      };
    },
    removeRule : function(sheet, selector){

      if(qx.core.Environment.get("html.stylesheet.deleterule")){

        var rules = sheet.cssRules;
        var len = rules.length;
        for(var i = len - 1;i >= 0;--i){

          if(rules[i].selectorText == selector){

            sheet.deleteRule(i);
          };
        };
      } else {

        var rules = sheet.rules;
        var len = rules.length;
        for(var i = len - 1;i >= 0;--i){

          if(rules[i].selectorText == selector){

            sheet.removeRule(i);
          };
        };
      };
    },
    removeSheet : function(sheet){

      var owner = sheet.ownerNode ? sheet.ownerNode : sheet.owningElement;
      qx.dom.Element.removeChild(owner, owner.parentNode);
    },
    removeAllRules : function(sheet){

      if(qx.core.Environment.get("html.stylesheet.deleterule")){

        var rules = sheet.cssRules;
        var len = rules.length;
        for(var i = len - 1;i >= 0;i--){

          sheet.deleteRule(i);
        };
      } else {

        var rules = sheet.rules;
        var len = rules.length;
        for(var i = len - 1;i >= 0;i--){

          sheet.removeRule(i);
        };
      };
    },
    addImport : function(sheet, url){

      if(qx.core.Environment.get("html.stylesheet.addimport")){

        sheet.addImport(url);
      } else {

        sheet.insertRule('@import "' + url + '";', sheet.cssRules.length);
      };
    },
    removeImport : function(sheet, url){

      if(qx.core.Environment.get("html.stylesheet.removeimport")){

        var imports = sheet.imports;
        var len = imports.length;
        for(var i = len - 1;i >= 0;i--){

          if(imports[i].href == url || imports[i].href == qx.util.Uri.getAbsolute(url)){

            sheet.removeImport(i);
          };
        };
      } else {

        var rules = sheet.cssRules;
        var len = rules.length;
        for(var i = len - 1;i >= 0;i--){

          if(rules[i].href == url){

            sheet.deleteRule(i);
          };
        };
      };
    },
    removeAllImports : function(sheet){

      if(qx.core.Environment.get("html.stylesheet.removeimport")){

        var imports = sheet.imports;
        var len = imports.length;
        for(var i = len - 1;i >= 0;i--){

          sheet.removeImport(i);
        };
      } else {

        var rules = sheet.cssRules;
        var len = rules.length;
        for(var i = len - 1;i >= 0;i--){

          if(rules[i].type == rules[i].IMPORT_RULE){

            sheet.deleteRule(i);
          };
        };
      };
    }
  }
});

qx.Bootstrap.define("qx.dom.Element", {
  statics : {
    hasChild : function(parent, child){

      return child.parentNode === parent;
    },
    hasChildren : function(element){

      return !!element.firstChild;
    },
    hasChildElements : function(element){

      element = element.firstChild;
      while(element){

        if(element.nodeType === 1){

          return true;
        };
        element = element.nextSibling;
      };
      return false;
    },
    getParentElement : function(element){

      return element.parentNode;
    },
    isInDom : function(element, win){

      if(!win){

        win = window;
      };
      var domElements = win.document.getElementsByTagName(element.nodeName);
      for(var i = 0,l = domElements.length;i < l;i++){

        if(domElements[i] === element){

          return true;
        };
      };
      return false;
    },
    insertAt : function(node, parent, index){

      var ref = parent.childNodes[index];
      if(ref){

        parent.insertBefore(node, ref);
      } else {

        parent.appendChild(node);
      };
      return true;
    },
    insertBegin : function(node, parent){

      if(parent.firstChild){

        this.insertBefore(node, parent.firstChild);
      } else {

        parent.appendChild(node);
      };
      return true;
    },
    insertEnd : function(node, parent){

      parent.appendChild(node);
      return true;
    },
    insertBefore : function(node, ref){

      ref.parentNode.insertBefore(node, ref);
      return true;
    },
    insertAfter : function(node, ref){

      var parent = ref.parentNode;
      if(ref == parent.lastChild){

        parent.appendChild(node);
      } else {

        return this.insertBefore(node, ref.nextSibling);
      };
      return true;
    },
    remove : function(node){

      if(!node.parentNode){

        return false;
      };
      node.parentNode.removeChild(node);
      return true;
    },
    removeChild : function(node, parent){

      if(node.parentNode !== parent){

        return false;
      };
      parent.removeChild(node);
      return true;
    },
    removeChildAt : function(index, parent){

      var child = parent.childNodes[index];
      if(!child){

        return false;
      };
      parent.removeChild(child);
      return true;
    },
    replaceChild : function(newNode, oldNode){

      if(!oldNode.parentNode){

        return false;
      };
      oldNode.parentNode.replaceChild(newNode, oldNode);
      return true;
    },
    replaceAt : function(newNode, index, parent){

      var oldNode = parent.childNodes[index];
      if(!oldNode){

        return false;
      };
      parent.replaceChild(newNode, oldNode);
      return true;
    },
    __helperElement : {
    },
    getHelperElement : function(win){

      if(!win){

        win = window;
      };
      var key = win.location.href;
      if(!qx.dom.Element.__helperElement[key]){

        var helper = qx.dom.Element.__helperElement[key] = win.document.createElement("div");
        if(qx.core.Environment.get("engine.name") == "webkit"){

          helper.style.display = "none";
          win.document.body.appendChild(helper);
        };
      };
      return qx.dom.Element.__helperElement[key];
    },
    create : function(name, attributes, win){

      if(!win){

        win = window;
      };
      if(!name){

        throw new Error("The tag name is missing!");
      };
      var element = win.document.createElement(name);
      for(var key in attributes){

        qx.bom.element.Attribute.set(element, key, attributes[key]);
      };
      return element;
    },
    empty : function(element){

      return element.innerHTML = "";
    }
  }
});

qx.Bootstrap.define("qx.bom.element.Attribute", {
  statics : {
    __hints : {
      names : {
        "class" : "className",
        "for" : "htmlFor",
        html : "innerHTML",
        text : qx.core.Environment.get("html.element.textcontent") ? "textContent" : "innerText",
        colspan : "colSpan",
        rowspan : "rowSpan",
        valign : "vAlign",
        datetime : "dateTime",
        accesskey : "accessKey",
        tabindex : "tabIndex",
        maxlength : "maxLength",
        readonly : "readOnly",
        longdesc : "longDesc",
        cellpadding : "cellPadding",
        cellspacing : "cellSpacing",
        frameborder : "frameBorder",
        usemap : "useMap"
      },
      runtime : {
        "html" : 1,
        "text" : 1
      },
      bools : {
        compact : 1,
        nowrap : 1,
        ismap : 1,
        declare : 1,
        noshade : 1,
        checked : 1,
        disabled : 1,
        readOnly : 1,
        multiple : 1,
        selected : 1,
        noresize : 1,
        defer : 1,
        allowTransparency : 1
      },
      property : {
        $$html : 1,
        $$widget : 1,
        checked : 1,
        readOnly : 1,
        multiple : 1,
        selected : 1,
        value : 1,
        maxLength : 1,
        className : 1,
        innerHTML : 1,
        innerText : 1,
        textContent : 1,
        htmlFor : 1,
        tabIndex : 1
      },
      qxProperties : {
        $$widget : 1,
        $$html : 1
      },
      propertyDefault : {
        disabled : false,
        checked : false,
        readOnly : false,
        multiple : false,
        selected : false,
        value : "",
        className : "",
        innerHTML : "",
        innerText : "",
        textContent : "",
        htmlFor : "",
        tabIndex : 0,
        maxLength : qx.core.Environment.select("engine.name", {
          "mshtml" : 2147483647,
          "webkit" : 524288,
          "default" : -1
        })
      },
      removeableProperties : {
        disabled : 1,
        multiple : 1,
        maxLength : 1
      }
    },
    compile : function(map){

      var html = [];
      var runtime = this.__hints.runtime;
      for(var key in map){

        if(!runtime[key]){

          html.push(key, "='", map[key], "'");
        };
      };
      return html.join("");
    },
    get : function(element, name){

      var hints = this.__hints;
      var value;
      name = hints.names[name] || name;
      if(hints.property[name]){

        value = element[name];
        if(typeof hints.propertyDefault[name] !== "undefined" && value == hints.propertyDefault[name]){

          if(typeof hints.bools[name] === "undefined"){

            return null;
          } else {

            return value;
          };
        };
      } else {

        value = element.getAttribute(name);
        if(hints.bools[name] && !(qx.core.Environment.get("engine.name") == "mshtml" && parseInt(qx.core.Environment.get("browser.documentmode"), 10) <= 8)){

          return qx.Bootstrap.isString(value);
        };
      };
      if(hints.bools[name]){

        return !!value;
      };
      return value;
    },
    set : function(element, name, value){

      if(typeof value === "undefined"){

        return;
      };
      var hints = this.__hints;
      name = hints.names[name] || name;
      if(hints.bools[name] && !qx.lang.Type.isBoolean(value)){

        value = qx.lang.Type.isString(value);
      };
      if(hints.property[name] && (!(element[name] === undefined) || hints.qxProperties[name])){

        if(value == null){

          if(hints.removeableProperties[name]){

            element.removeAttribute(name);
            return;
          } else if(typeof hints.propertyDefault[name] !== "undefined"){

            value = hints.propertyDefault[name];
          };
        };
        element[name] = value;
      } else {

        if(value === true){

          element.setAttribute(name, name);
        } else if(value === false || value === null){

          element.removeAttribute(name);
        } else {

          element.setAttribute(name, value);
        };
      };
    },
    reset : function(element, name){

      this.set(element, name, null);
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Stylesheet", {
  statics : {
    __getStylesheet : function(){

      if(!qx.bom.client.Stylesheet.__stylesheet){

        qx.bom.client.Stylesheet.__stylesheet = qx.bom.Stylesheet.createElement();
      };
      return qx.bom.client.Stylesheet.__stylesheet;
    },
    getCreateStyleSheet : function(){

      return typeof document.createStyleSheet === "object";
    },
    getInsertRule : function(){

      return typeof qx.bom.client.Stylesheet.__getStylesheet().insertRule === "function";
    },
    getDeleteRule : function(){

      return typeof qx.bom.client.Stylesheet.__getStylesheet().deleteRule === "function";
    },
    getAddImport : function(){

      return (typeof qx.bom.client.Stylesheet.__getStylesheet().addImport === "object");
    },
    getRemoveImport : function(){

      return (typeof qx.bom.client.Stylesheet.__getStylesheet().removeImport === "object");
    }
  },
  defer : function(statics){

    qx.core.Environment.add("html.stylesheet.createstylesheet", statics.getCreateStyleSheet);
    qx.core.Environment.add("html.stylesheet.insertrule", statics.getInsertRule);
    qx.core.Environment.add("html.stylesheet.deleterule", statics.getDeleteRule);
    qx.core.Environment.add("html.stylesheet.addimport", statics.getAddImport);
    qx.core.Environment.add("html.stylesheet.removeimport", statics.getRemoveImport);
  }
});

qx.Bootstrap.define("qx.module.Polyfill", {
});

qx.Bootstrap.define("qx.module.Event", {
  statics : {
    __normalizations : {
    },
    __hooks : {
      on : {
      },
      off : {
      }
    },
    on : function(type, listener, context, useCapture){

      for(var i = 0;i < this.length;i++){

        var el = this[i];
        var ctx = context || qxWeb(el);
        var hooks = qx.module.Event.__hooks.on;
        var typeHooks = hooks["*"] || [];
        if(hooks[type]){

          typeHooks = typeHooks.concat(hooks[type]);
        };
        for(var j = 0,m = typeHooks.length;j < m;j++){

          typeHooks[j](el, type, listener, context);
        };
        var bound = function(event){

          var registry = qx.module.Event.__normalizations;
          var normalizations = registry["*"] || [];
          if(registry[type]){

            normalizations = normalizations.concat(registry[type]);
          };
          for(var x = 0,y = normalizations.length;x < y;x++){

            event = normalizations[x](event, el, type);
          };
          listener.apply(this, [event]);
        }.bind(ctx);
        bound.original = listener;
        if(qx.bom.Event.supportsEvent(el, type)){

          qx.bom.Event.addNativeListener(el, type, bound, useCapture);
        };
        if(!el.$$emitter){

          el.$$emitter = new qx.event.Emitter();
        };
        var id = el.$$emitter.on(type, bound, ctx);
        if(!el.__listener){

          el.__listener = {
          };
        };
        if(!el.__listener[type]){

          el.__listener[type] = {
          };
        };
        el.__listener[type][id] = bound;
        if(!context){

          if(!el.__ctx){

            el.__ctx = {
            };
          };
          el.__ctx[id] = ctx;
        };
      };
      return this;
    },
    off : function(type, listener, context, useCapture){

      var removeAll = (listener === null && context === null);
      for(var j = 0;j < this.length;j++){

        var el = this[j];
        if(!el.__listener){

          continue;
        };
        var types = [];
        if(type !== null){

          types.push(type);
        } else {

          for(var listenerType in el.__listener){

            types.push(listenerType);
          };
        };
        for(var i = 0,l = types.length;i < l;i++){

          for(var id in el.__listener[types[i]]){

            var storedListener = el.__listener[types[i]][id];
            if(removeAll || storedListener == listener || storedListener.original == listener){

              var hasStoredContext = typeof el.__ctx !== "undefined" && el.__ctx[id];
              var storedContext;
              if(!context && hasStoredContext){

                storedContext = el.__ctx[id];
              };
              el.$$emitter.off(types[i], storedListener, storedContext || context);
              if(removeAll || storedListener.original == listener){

                qx.bom.Event.removeNativeListener(el, types[i], storedListener, useCapture);
              };
              delete el.__listener[types[i]][id];
              if(hasStoredContext){

                delete el.__ctx[id];
              };
            };
          };
          var hooks = qx.module.Event.__hooks.off;
          var typeHooks = hooks["*"] || [];
          if(hooks[type]){

            typeHooks = typeHooks.concat(hooks[type]);
          };
          for(var k = 0,m = typeHooks.length;k < m;k++){

            typeHooks[k](el, type, listener, context);
          };
        };
      };
      return this;
    },
    allOff : function(type){

      return this.off(type || null, null, null);
    },
    emit : function(type, data){

      for(var j = 0;j < this.length;j++){

        var el = this[j];
        if(el.$$emitter){

          el.$$emitter.emit(type, data);
        };
      };
      return this;
    },
    once : function(type, listener, context){

      var self = this;
      var wrappedListener = function(data){

        self.off(type, wrappedListener, context);
        listener.call(this, data);
      };
      this.on(type, wrappedListener, context);
      return this;
    },
    hasListener : function(type, listener, context){

      if(!this[0] || !this[0].$$emitter || !this[0].$$emitter.getListeners()[type]){

        return false;
      };
      if(listener){

        var attachedListeners = this[0].$$emitter.getListeners()[type];
        for(var i = 0;i < attachedListeners.length;i++){

          var hasListener = false;
          if(attachedListeners[i].listener == listener){

            hasListener = true;
          };
          if(attachedListeners[i].listener.original && attachedListeners[i].listener.original == listener){

            hasListener = true;
          };
          if(hasListener){

            if(context !== undefined){

              if(attachedListeners[i].ctx === context){

                return true;
              };
            } else {

              return true;
            };
          };
        };
        return false;
      };
      return this[0].$$emitter.getListeners()[type].length > 0;
    },
    copyEventsTo : function(target){

      var source = this.concat();
      var targetCopy = target.concat();
      for(var i = source.length - 1;i >= 0;i--){

        var descendants = source[i].getElementsByTagName("*");
        for(var j = 0;j < descendants.length;j++){

          source.push(descendants[j]);
        };
      };
      for(var i = targetCopy.length - 1;i >= 0;i--){

        var descendants = targetCopy[i].getElementsByTagName("*");
        for(var j = 0;j < descendants.length;j++){

          targetCopy.push(descendants[j]);
        };
      };
      targetCopy.forEach(function(el){

        el.$$emitter = null;
      });
      for(var i = 0;i < source.length;i++){

        var el = source[i];
        if(!el.$$emitter){

          continue;
        };
        var storage = el.$$emitter.getListeners();
        for(var name in storage){

          for(var j = storage[name].length - 1;j >= 0;j--){

            var listener = storage[name][j].listener;
            if(listener.original){

              listener = listener.original;
            };
            qxWeb(targetCopy[i]).on(name, listener, storage[name][j].ctx);
          };
        };
      };
    },
    __isReady : false,
    ready : function(callback){

      if(document.readyState === "complete"){

        window.setTimeout(callback, 1);
        return;
      };
      var onWindowLoad = function(){

        qx.module.Event.__isReady = true;
        callback();
      };
      qxWeb(window).on("load", onWindowLoad);
      var wrappedCallback = function(){

        qxWeb(window).off("load", onWindowLoad);
        callback();
      };
      if(qxWeb.env.get("engine.name") !== "mshtml" || qxWeb.env.get("browser.documentmode") > 8){

        qx.bom.Event.addNativeListener(document, "DOMContentLoaded", wrappedCallback);
      } else {

        var timer = function(){

          if(qx.module.Event.__isReady){

            return;
          };
          try{

            document.documentElement.doScroll("left");
            if(document.body){

              wrappedCallback();
            };
          } catch(error) {

            window.setTimeout(timer, 100);
          };
        };
        timer();
      };
    },
    hover : function(callbackIn, callbackOut){

      this.on("pointerover", callbackIn, this);
      if(qx.lang.Type.isFunction(callbackOut)){

        this.on("pointerout", callbackOut, this);
      };
      return this;
    },
    $registerNormalization : function(types, normalizer){

      if(!qx.lang.Type.isArray(types)){

        types = [types];
      };
      var registry = qx.module.Event.__normalizations;
      for(var i = 0,l = types.length;i < l;i++){

        var type = types[i];
        if(qx.lang.Type.isFunction(normalizer)){

          if(!registry[type]){

            registry[type] = [];
          };
          registry[type].push(normalizer);
        };
      };
    },
    $unregisterNormalization : function(types, normalizer){

      if(!qx.lang.Type.isArray(types)){

        types = [types];
      };
      var registry = qx.module.Event.__normalizations;
      for(var i = 0,l = types.length;i < l;i++){

        var type = types[i];
        if(registry[type]){

          qx.lang.Array.remove(registry[type], normalizer);
        };
      };
    },
    $getRegistry : function(){

      return qx.module.Event.__normalizations;
    },
    $registerEventHook : function(types, registerHook, unregisterHook){

      if(!qx.lang.Type.isArray(types)){

        types = [types];
      };
      var onHooks = qx.module.Event.__hooks.on;
      for(var i = 0,l = types.length;i < l;i++){

        var type = types[i];
        if(qx.lang.Type.isFunction(registerHook)){

          if(!onHooks[type]){

            onHooks[type] = [];
          };
          onHooks[type].push(registerHook);
        };
      };
      if(!unregisterHook){

        return;
      };
      var offHooks = qx.module.Event.__hooks.off;
      for(var i = 0,l = types.length;i < l;i++){

        var type = types[i];
        if(qx.lang.Type.isFunction(unregisterHook)){

          if(!offHooks[type]){

            offHooks[type] = [];
          };
          offHooks[type].push(unregisterHook);
        };
      };
    },
    $unregisterEventHook : function(types, registerHook, unregisterHook){

      if(!qx.lang.Type.isArray(types)){

        types = [types];
      };
      var onHooks = qx.module.Event.__hooks.on;
      for(var i = 0,l = types.length;i < l;i++){

        var type = types[i];
        if(onHooks[type]){

          qx.lang.Array.remove(onHooks[type], registerHook);
        };
      };
      if(!unregisterHook){

        return;
      };
      var offHooks = qx.module.Event.__hooks.off;
      for(var i = 0,l = types.length;i < l;i++){

        var type = types[i];
        if(offHooks[type]){

          qx.lang.Array.remove(offHooks[type], unregisterHook);
        };
      };
    },
    $getHookRegistry : function(){

      return qx.module.Event.__hooks;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "on" : statics.on,
      "off" : statics.off,
      "allOff" : statics.allOff,
      "once" : statics.once,
      "emit" : statics.emit,
      "hasListener" : statics.hasListener,
      "copyEventsTo" : statics.copyEventsTo,
      "hover" : statics.hover
    });
    qxWeb.$attachStatic({
      "ready" : statics.ready,
      "$registerEventNormalization" : statics.$registerNormalization,
      "$unregisterEventNormalization" : statics.$unregisterNormalization,
      "$getEventNormalizationRegistry" : statics.$getRegistry,
      "$registerEventHook" : statics.$registerEventHook,
      "$unregisterEventHook" : statics.$unregisterEventHook,
      "$getEventHookRegistry" : statics.$getHookRegistry
    });
  }
});

qx.Bootstrap.define("qx.module.event.PointerHandler", {
  statics : {
    TYPES : ["pointermove", "pointerover", "pointerout", "pointerdown", "pointerup", "pointercancel", "gesturebegin", "gesturemove", "gesturefinish", "gesturecancel"],
    register : function(element, type){

      if(!element["on" + type]){

        element["on" + type] = true;
      };
      if(!element.__pointerListeners){

        element.__pointerListeners = 0;
      };
      if(!element.$$pointerHandler){

        if(!qx.core.Environment.get("event.dispatchevent")){

          if(!element.$$emitter){

            element.$$emitter = new qx.event.Emitter();
          };
        };
        element.$$pointerHandler = new qx.event.handler.PointerCore(element, element.$$emitter);
      };
      element.__pointerListeners++;
    },
    unregister : function(element){

      if(element.$$pointerHandler){

        element.__pointerListeners--;
        if(element.__pointerListeners === 0){

          element.$$pointerHandler.dispose();
          element.$$pointerHandler = null;
        };
      };
    }
  },
  defer : function(statics){

    qxWeb.$registerEventHook(statics.TYPES, statics.register, statics.unregister);
  }
});

qx.Bootstrap.define("qx.event.handler.PointerCore", {
  extend : Object,
  statics : {
    MOUSE_TO_POINTER_MAPPING : {
      mousedown : "pointerdown",
      mouseup : "pointerup",
      mousemove : "pointermove",
      mouseout : "pointerout",
      mouseover : "pointerover"
    },
    TOUCH_TO_POINTER_MAPPING : {
      touchstart : "pointerdown",
      touchend : "pointerup",
      touchmove : "pointermove",
      touchcancel : "pointercancel"
    },
    MSPOINTER_TO_POINTER_MAPPING : {
      MSPointerDown : "pointerdown",
      MSPointerMove : "pointermove",
      MSPointerUp : "pointerup",
      MSPointerCancel : "pointercancel",
      MSPointerLeave : "pointerleave",
      MSPointerEnter : "pointerenter",
      MSPointerOver : "pointerover",
      MSPointerOut : "pointerout"
    },
    POINTER_TO_GESTURE_MAPPING : {
      pointerdown : "gesturebegin",
      pointerup : "gesturefinish",
      pointercancel : "gesturecancel",
      pointermove : "gesturemove"
    },
    SIM_MOUSE_DISTANCE : 25,
    SIM_MOUSE_DELAY : 2500,
    __lastTouch : null
  },
  construct : function(target, emitter){

    this.__defaultTarget = target;
    this.__emitter = emitter;
    this.__eventNames = [];
    this.__buttonStates = [];
    var engineName = qx.core.Environment.get("engine.name");
    var docMode = parseInt(qx.core.Environment.get("browser.documentmode"), 10);
    if(engineName == "mshtml" && docMode == 10){

      this.__eventNames = ["MSPointerDown", "MSPointerMove", "MSPointerUp", "MSPointerCancel", "MSPointerOver", "MSPointerOut"];
      this._initPointerObserver();
    } else {

      if(qx.core.Environment.get("event.mspointer")){

        this.__nativePointerEvents = true;
      };
      this.__eventNames = ["pointerdown", "pointermove", "pointerup", "pointercancel", "pointerover", "pointerout"];
      this._initPointerObserver();
    };
    if(!qx.core.Environment.get("event.mspointer")){

      if(qx.core.Environment.get("device.touch")){

        this.__eventNames = ["touchstart", "touchend", "touchmove", "touchcancel"];
        this._initObserver(this._onTouchEvent);
      };
      this.__eventNames = ["mousedown", "mouseup", "mousemove", "mouseover", "mouseout", "contextmenu"];
      this._initObserver(this._onMouseEvent);
    };
  },
  members : {
    __defaultTarget : null,
    __emitter : null,
    __eventNames : null,
    __nativePointerEvents : false,
    __wrappedListener : null,
    __lastButtonState : 0,
    __buttonStates : null,
    __primaryIdentifier : null,
    _initPointerObserver : function(){

      this._initObserver(this._onPointerEvent);
    },
    _initObserver : function(callback, useEmitter){

      this.__wrappedListener = qx.lang.Function.listener(callback, this);
      this.__eventNames.forEach(function(type){

        if(useEmitter && qx.dom.Node.isDocument(this.__defaultTarget)){

          if(!this.__defaultTarget.$$emitter){

            this.__defaultTarget.$$emitter = new qx.event.Emitter();
          };
          this.__defaultTarget.$$emitter.on(type, this.__wrappedListener);
        } else {

          qx.bom.Event.addNativeListener(this.__defaultTarget, type, this.__wrappedListener);
        };
      }.bind(this));
    },
    _onPointerEvent : function(domEvent){

      if(!qx.core.Environment.get("event.mspointer")){

        return;
      };
      if(!this.__nativePointerEvents){

        domEvent.stopPropagation();
      };
      var type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[domEvent.type] || domEvent.type;
      var target = qx.bom.Event.getTarget(domEvent);
      var evt = new qx.event.type.dom.Pointer(type, domEvent);
      this._fireEvent(evt, type, target);
    },
    _onTouchEvent : function(domEvent){

      var type = qx.event.handler.PointerCore.TOUCH_TO_POINTER_MAPPING[domEvent.type];
      var changedTouches = domEvent.changedTouches;
      domEvent.stopPropagation();
      if(domEvent.type == "touchstart" && this.__primaryIdentifier === null){

        this.__primaryIdentifier = changedTouches[0].identifier;
      };
      for(var i = 0,l = changedTouches.length;i < l;i++){

        var touch = changedTouches[i];
        var touchProps = {
          clientX : touch.clientX,
          clientY : touch.clientY,
          pageX : touch.pageX,
          pageY : touch.pageY,
          identifier : touch.identifier,
          screenX : touch.screenX,
          screenY : touch.screenY,
          target : document.elementFromPoint(touch.clientX, touch.clientY),
          pointerType : "touch",
          pointerId : touch.identifier + 2
        };
        if(domEvent.type == "touchstart"){

          var overEvt = new qx.event.type.dom.Pointer("pointerover", domEvent, touchProps);
          this._fireEvent(overEvt, "pointerover", touchProps.target);
        };
        var evt = new qx.event.type.dom.Pointer(type, domEvent, touchProps);
        if(touch.identifier == this.__primaryIdentifier){

          evt.isPrimary = true;
          evt.button = 0;
          evt.buttons = 1;
          qx.event.handler.PointerCore.__lastTouch = {
            "x" : touch.clientX,
            "y" : touch.clientY,
            "time" : new Date().getTime()
          };
        };
        this._fireEvent(evt, type, touchProps.target);
        if(domEvent.type == "touchend" || domEvent.type == "touchcancel"){

          var outEvt = new qx.event.type.dom.Pointer("pointerout", domEvent, touchProps);
          this._fireEvent(outEvt, "pointerout", domEvent.target);
          if(this.__primaryIdentifier == touch.identifier){

            this.__primaryIdentifier = null;
          };
        };
      };
    },
    _onMouseEvent : function(domEvent){

      qx.bom.Event.stopPropagation(domEvent);
      if(this._isSimulatedMouseEvent(domEvent.clientX, domEvent.clientY)){

        return;
      };
      if(domEvent.type == "mousedown"){

        this.__buttonStates[domEvent.which] = 1;
      } else if(domEvent.type == "mouseup"){

        this.__buttonStates[domEvent.which] = 0;
      };
      var type = qx.event.handler.PointerCore.MOUSE_TO_POINTER_MAPPING[domEvent.type];
      var target = qx.bom.Event.getTarget(domEvent);
      var buttonsPressed = qx.lang.Array.sum(this.__buttonStates);
      var mouseProps = {
        pointerType : "mouse",
        pointerId : 1
      };
      if(this.__lastButtonState != buttonsPressed && buttonsPressed !== 0 && this.__lastButtonState !== 0){

        var moveEvt = new qx.event.type.dom.Pointer("pointermove", domEvent, mouseProps);
        this._fireEvent(moveEvt, "pointermove", target);
      };
      this.__lastButtonState = buttonsPressed;
      if(domEvent.type == "mousedown" && buttonsPressed > 1){

        return;
      };
      if(domEvent.type == "mouseup" && buttonsPressed > 0){

        return;
      };
      if(domEvent.type == "contextmenu"){

        this.__buttonStates[domEvent.which] = 0;
        return;
      };
      var evt = new qx.event.type.dom.Pointer(type, domEvent, mouseProps);
      this._fireEvent(evt, type, target);
    },
    _isSimulatedMouseEvent : function(x, y){

      var touch = qx.event.handler.PointerCore.__lastTouch;
      if(touch){

        var timeSinceTouch = new Date().getTime() - touch.time;
        var dist = qx.event.handler.PointerCore.SIM_MOUSE_DISTANCE;
        var distX = Math.abs(x - qx.event.handler.PointerCore.__lastTouch.x);
        var distY = Math.abs(y - qx.event.handler.PointerCore.__lastTouch.y);
        if(timeSinceTouch < qx.event.handler.PointerCore.SIM_MOUSE_DELAY){

          if(distX < dist || distY < dist){

            return true;
          };
        };
      };
      return false;
    },
    _stopObserver : function(){

      for(var i = 0;i < this.__eventNames.length;i++){

        qx.bom.Event.removeNativeListener(this.__defaultTarget, this.__eventNames[i], this.__wrappedListener);
      };
    },
    _fireEvent : function(domEvent, type, target){

      target = target || domEvent.target;
      type = type || domEvent.type;
      var gestureEvent;
      if(type == "pointerdown" || type == "pointerup" || type == "pointermove"){

        gestureEvent = new qx.event.type.dom.Pointer(qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type], domEvent);
        qx.event.type.dom.Pointer.normalize(gestureEvent);
        gestureEvent.srcElement = target;
      };
      if(qx.core.Environment.get("event.dispatchevent")){

        if(!this.__nativePointerEvents){

          target.dispatchEvent(domEvent);
        };
        if(gestureEvent){

          target.dispatchEvent(gestureEvent);
        };
      } else {

        domEvent.srcElement = target;
        while(target){

          if(target.$$emitter){

            domEvent.currentTarget = target;
            if(!domEvent._stopped){

              target.$$emitter.emit(type, domEvent);
            };
            if(gestureEvent && !gestureEvent._stopped){

              gestureEvent.currentTarget = target;
              target.$$emitter.emit(gestureEvent.type, gestureEvent);
            };
          };
          target = target.parentNode;
        };
      };
    },
    dispose : function(){

      this._stopObserver();
      this.__defaultTarget = this.__emitter = null;
    }
  }
});

qx.Bootstrap.define("qx.event.type.dom.Custom", {
  extend : Object,
  statics : {
    PROPERTIES : {
      bubbles : false,
      cancelable : true
    }
  },
  construct : function(type, domEvent, customProps){

    this._type = type;
    this._event = this._createEvent();
    this._initEvent(domEvent, customProps);
    this._event._original = domEvent;
    this._event.preventDefault = function(){

      if(this._original.preventDefault){

        this._original.preventDefault();
      } else {

        try{

          this._original.returnValue = false;
        } catch(ex) {
        };
      };
    };
    if(this._event.stopPropagation){

      this._event._nativeStopPropagation = this._event.stopPropagation;
    };
    this._event.stopPropagation = function(){

      this._stopped = true;
      if(this._nativeStopPropagation){

        this._original.stopPropagation();
        this._nativeStopPropagation();
      } else {

        this._original.cancelBubble = true;
      };
    };
    return this._event;
  },
  members : {
    _type : null,
    _event : null,
    _createEvent : function(){

      var evt;
      if(qx.core.Environment.get("event.customevent")){

        evt = new window.CustomEvent(this._type);
      } else if(typeof document.createEvent == "function"){

        evt = document.createEvent("UIEvents");
      } else if(typeof document.createEventObject == "object"){

        evt = {
        };
        evt.type = this._type;
      };;
      return evt;
    },
    _initEvent : function(domEvent, customProps){

      var properties = qx.lang.Object.clone(qx.event.type.dom.Custom.PROPERTIES);
      for(var prop in customProps){

        properties[prop] = customProps[prop];
      };
      if(this._event.initEvent){

        this._event.initEvent(this._type, properties.bubbles, properties.cancelable);
      };
      for(var prop in properties){

        this._event[prop] = properties[prop];
      };
    }
  }
});

qx.Bootstrap.define("qx.event.type.dom.Pointer", {
  extend : qx.event.type.dom.Custom,
  statics : {
    MOUSE_PROPERTIES : ["bubbles", "cancelable", "view", "detail", "screenX", "screenY", "clientX", "clientY", "pageX", "pageY", "ctrlKey", "altKey", "shiftKey", "metaKey", "button", "which", "relatedTarget", "fromElement", "toElement"],
    POINTER_PROPERTIES : {
      pointerId : 1,
      width : 0,
      height : 0,
      pressure : 0.5,
      tiltX : 0,
      tiltY : 0,
      pointerType : "",
      isPrimary : false
    },
    BIND_METHODS : ["getPointerType", "getViewportLeft", "getViewportTop", "getDocumentLeft", "getDocumentTop", "getScreenLeft", "getScreenTop"],
    getPointerType : function(){

      if(typeof this.pointerType == "string"){

        return this.pointerType;
      };
      if(typeof this.pointerType == "number"){

        if(this.pointerType == this.MSPOINTER_TYPE_MOUSE){

          return "mouse";
        };
        if(this.pointerType == this.MSPOINTER_TYPE_PEN){

          return "pen";
        };
        if(this.pointerType == this.MSPOINTER_TYPE_TOUCH){

          return "touch";
        };
      };
      return "";
    },
    getViewportLeft : function(){

      return this.clientX;
    },
    getViewportTop : function(){

      return this.clientY;
    },
    getDocumentLeft : function(){

      if(this.pageX !== undefined){

        return this.pageX;
      } else {

        var win = qx.dom.Node.getWindow(this.srcElement);
        return this.clientX + qx.bom.Viewport.getScrollLeft(win);
      };
    },
    getDocumentTop : function(){

      if(this.pageY !== undefined){

        return this.pageY;
      } else {

        var win = qx.dom.Node.getWindow(this.srcElement);
        return this.clientY + qx.bom.Viewport.getScrollTop(win);
      };
    },
    getScreenLeft : function(){

      return this.screenX;
    },
    getScreenTop : function(){

      return this.screenY;
    },
    normalize : function(event){

      var bindMethods = qx.event.type.dom.Pointer.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.event.type.dom.Pointer[bindMethods[i]].bind(event);
        };
      };
    }
  },
  construct : function(type, domEvent, customProps){

    return this.base(arguments, type, domEvent, customProps);
  },
  members : {
    _createEvent : function(){

      var evt;
      if(qx.core.Environment.get("event.mouseevent")){

        evt = new window.MouseEvent(this._type);
      } else if(typeof document.createEvent == "function"){

        evt = document.createEvent("UIEvents");
      } else if(typeof document.createEventObject == "object"){

        evt = {
        };
        evt.type = this._type;
      };;
      return evt;
    },
    _initEvent : function(domEvent, customProps){

      var evt = this._event;
      qx.event.type.dom.Pointer.normalize(domEvent);
      var properties = {
      };
      var mousePropNames = qx.event.type.dom.Pointer.MOUSE_PROPERTIES;
      for(var i = 0;i < mousePropNames.length;i++){

        var propName = mousePropNames[i];
        if(propName in domEvent){

          properties[propName] = domEvent[propName];
        };
        if(customProps && customProps[propName] !== undefined){

          properties[propName] = customProps[propName];
        };
      };
      for(var pointerPropName in qx.event.type.dom.Pointer.POINTER_PROPERTIES){

        properties[pointerPropName] = qx.event.type.dom.Pointer.POINTER_PROPERTIES[pointerPropName];
        if(pointerPropName in domEvent){

          properties[pointerPropName] = domEvent[pointerPropName];
        };
        if(customProps && customProps[pointerPropName] !== undefined){

          properties[pointerPropName] = customProps[pointerPropName];
        };
      };
      var buttons;
      switch(domEvent.which){case 1:
      buttons = 1;
      break;case 2:
      buttons = 4;
      break;case 3:
      buttons = 2;
      break;default:
      buttons = 0;};
      if(buttons){

        properties.buttons = buttons;
        properties.pressure = buttons ? 0.5 : 0;
      };
      if(domEvent.pressure){

        properties.pressure = domEvent.pressure;
      };
      if(evt.initMouseEvent){

        evt.initMouseEvent(this._type, properties.bubbles, properties.cancelable, properties.view, properties.detail, properties.screenX, properties.screenY, properties.clientX, properties.clientY, properties.ctrlKey, properties.altKey, properties.shiftKey, properties.metaKey, properties.button, properties.relatedTarget);
      } else if(evt.initUIEvent){

        evt.initUIEvent(this._type, properties.bubbles, properties.cancelable, properties.view, properties.detail);
      };
      for(var prop in properties){

        evt[prop] = properties[prop];
      };
      switch(evt.pointerType){case domEvent.MSPOINTER_TYPE_MOUSE:
      evt.pointerType = "mouse";
      break;case domEvent.MSPOINTER_TYPE_PEN:
      evt.pointerType = "pen";
      break;case domEvent.MSPOINTER_TYPE_TOUCH:
      evt.pointerType = "touch";
      break;};
      if(evt.pointerType == "mouse"){

        evt.isPrimary = true;
      };
    }
  }
});

qx.Bootstrap.define("qx.module.Animation", {
  events : {
    "animationStart" : undefined,
    "animationIteration" : undefined,
    "animationEnd" : undefined
  },
  statics : {
    getAnimationHandles : function(){

      var animationHandles = [];
      for(var i = 0;i < this.length;i++){

        animationHandles[i] = this[i].$$animation;
      };
      return animationHandles;
    },
    _fadeOut : {
      duration : 700,
      timing : "ease-out",
      keep : 100,
      keyFrames : {
        '0' : {
          opacity : 1
        },
        '100' : {
          opacity : 0,
          display : "none"
        }
      }
    },
    _fadeIn : {
      duration : 700,
      timing : "ease-in",
      keep : 100,
      keyFrames : {
        '0' : {
          opacity : 0
        },
        '100' : {
          opacity : 1
        }
      }
    },
    animate : function(desc, duration){

      qx.module.Animation._animate.bind(this)(desc, duration, false);
      return this;
    },
    animateReverse : function(desc, duration){

      qx.module.Animation._animate.bind(this)(desc, duration, true);
      return this;
    },
    _animate : function(desc, duration, reverse){

      this._forEachElement(function(el, i){

        if(el.$$animation){

          el.$$animation.stop();
        };
        var handle;
        if(reverse){

          handle = qx.bom.element.Animation.animateReverse(el, desc, duration);
        } else {

          handle = qx.bom.element.Animation.animate(el, desc, duration);
        };
        var self = this;
        if(i == 0){

          handle.on("start", function(){

            self.emit("animationStart");
          }, handle);
          handle.on("iteration", function(){

            self.emit("animationIteration");
          }, handle);
        };
        handle.on("end", function(){

          for(var i = 0;i < self.length;i++){

            if(self[i].$$animation){

              return;
            };
          };
          self.emit("animationEnd");
        }, el);
      });
    },
    play : function(){

      for(var i = 0;i < this.length;i++){

        var handle = this[i].$$animation;
        if(handle){

          handle.play();
        };
      };
      return this;
    },
    pause : function(){

      for(var i = 0;i < this.length;i++){

        var handle = this[i].$$animation;
        if(handle){

          handle.pause();
        };
      };
      return this;
    },
    stop : function(){

      for(var i = 0;i < this.length;i++){

        var handle = this[i].$$animation;
        if(handle){

          handle.stop();
        };
      };
      return this;
    },
    isPlaying : function(){

      for(var i = 0;i < this.length;i++){

        var handle = this[i].$$animation;
        if(handle && handle.isPlaying()){

          return true;
        };
      };
      return false;
    },
    isEnded : function(){

      for(var i = 0;i < this.length;i++){

        var handle = this[i].$$animation;
        if(handle && !handle.isEnded()){

          return false;
        };
      };
      return true;
    },
    fadeIn : function(duration){

      this.setStyle("display", "");
      return this.animate(qx.module.Animation._fadeIn, duration);
    },
    fadeOut : function(duration){

      return this.animate(qx.module.Animation._fadeOut, duration);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "animate" : statics.animate,
      "animateReverse" : statics.animateReverse,
      "fadeIn" : statics.fadeIn,
      "fadeOut" : statics.fadeOut,
      "play" : statics.play,
      "pause" : statics.pause,
      "stop" : statics.stop,
      "isEnded" : statics.isEnded,
      "isPlaying" : statics.isPlaying,
      "getAnimationHandles" : statics.getAnimationHandles
    });
    if(qxWeb.env.get("browser.name") === "ie" && qxWeb.env.get("browser.version") <= 9){

      statics._fadeIn.keyFrames[100].opacity = 0.99;
    };
  }
});

qx.Bootstrap.define("qx.bom.element.Animation", {
  statics : {
    animate : function(el, desc, duration){

      var onlyCssKeys = qx.bom.element.Animation.__hasOnlyCssKeys(el, desc.keyFrames);
      if(qx.core.Environment.get("css.animation") && onlyCssKeys){

        return qx.bom.element.AnimationCss.animate(el, desc, duration);
      } else {

        return qx.bom.element.AnimationJs.animate(el, desc, duration);
      };
    },
    animateReverse : function(el, desc, duration){

      var onlyCssKeys = qx.bom.element.Animation.__hasOnlyCssKeys(el, desc.keyFrames);
      if(qx.core.Environment.get("css.animation") && onlyCssKeys){

        return qx.bom.element.AnimationCss.animateReverse(el, desc, duration);
      } else {

        return qx.bom.element.AnimationJs.animateReverse(el, desc, duration);
      };
    },
    __hasOnlyCssKeys : function(el, keyFrames){

      var keys = [];
      for(var nr in keyFrames){

        var frame = keyFrames[nr];
        for(var key in frame){

          if(keys.indexOf(key) == -1){

            keys.push(key);
          };
        };
      };
      var transformKeys = ["scale", "rotate", "skew", "translate"];
      for(var i = 0;i < keys.length;i++){

        var key = qx.lang.String.camelCase(keys[i]);
        if(!(key in el.style)){

          if(transformKeys.indexOf(keys[i]) != -1){

            continue;
          };
          if(qx.bom.Style.getPropertyName(key)){

            continue;
          };
          return false;
        };
      };
      return true;
    }
  }
});

qx.Bootstrap.define("qx.bom.client.CssAnimation", {
  statics : {
    getSupport : function(){

      var name = qx.bom.client.CssAnimation.getName();
      if(name != null){

        return {
          "name" : name,
          "play-state" : qx.bom.client.CssAnimation.getPlayState(),
          "start-event" : qx.bom.client.CssAnimation.getAnimationStart(),
          "iteration-event" : qx.bom.client.CssAnimation.getAnimationIteration(),
          "end-event" : qx.bom.client.CssAnimation.getAnimationEnd(),
          "fill-mode" : qx.bom.client.CssAnimation.getFillMode(),
          "keyframes" : qx.bom.client.CssAnimation.getKeyFrames()
        };
      };
      return null;
    },
    getFillMode : function(){

      return qx.bom.Style.getPropertyName("AnimationFillMode");
    },
    getPlayState : function(){

      return qx.bom.Style.getPropertyName("AnimationPlayState");
    },
    getName : function(){

      return qx.bom.Style.getPropertyName("animation");
    },
    getAnimationStart : function(){

      var mapping = {
        "msAnimation" : "MSAnimationStart",
        "WebkitAnimation" : "webkitAnimationStart",
        "MozAnimation" : "animationstart",
        "OAnimation" : "oAnimationStart",
        "animation" : "animationstart"
      };
      return mapping[this.getName()];
    },
    getAnimationIteration : function(){

      var mapping = {
        "msAnimation" : "MSAnimationIteration",
        "WebkitAnimation" : "webkitAnimationIteration",
        "MozAnimation" : "animationiteration",
        "OAnimation" : "oAnimationIteration",
        "animation" : "animationiteration"
      };
      return mapping[this.getName()];
    },
    getAnimationEnd : function(){

      var mapping = {
        "msAnimation" : "MSAnimationEnd",
        "WebkitAnimation" : "webkitAnimationEnd",
        "MozAnimation" : "animationend",
        "OAnimation" : "oAnimationEnd",
        "animation" : "animationend"
      };
      return mapping[this.getName()];
    },
    getKeyFrames : function(){

      var prefixes = qx.bom.Style.VENDOR_PREFIXES;
      var keyFrames = [];
      for(var i = 0;i < prefixes.length;i++){

        var key = "@" + qx.bom.Style.getCssName(prefixes[i]) + "-keyframes";
        keyFrames.push(key);
      };
      keyFrames.unshift("@keyframes");
      var sheet = qx.bom.Stylesheet.createElement();
      for(var i = 0;i < keyFrames.length;i++){

        try{

          qx.bom.Stylesheet.addRule(sheet, keyFrames[i] + " name", "");
          return keyFrames[i];
        } catch(e) {
        };
      };
      return null;
    },
    getRequestAnimationFrame : function(){

      var choices = ["requestAnimationFrame", "msRequestAnimationFrame", "webkitRequestAnimationFrame", "mozRequestAnimationFrame", "oRequestAnimationFrame"];
      for(var i = 0;i < choices.length;i++){

        if(window[choices[i]] != undefined){

          return choices[i];
        };
      };
      return null;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("css.animation", statics.getSupport);
    qx.core.Environment.add("css.animation.requestframe", statics.getRequestAnimationFrame);
  }
});

qx.Bootstrap.define("qx.bom.element.AnimationCss", {
  statics : {
    __sheet : null,
    __rulePrefix : "Anni",
    __id : 0,
    __rules : {
    },
    __transitionKeys : {
      "scale" : true,
      "rotate" : true,
      "skew" : true,
      "translate" : true
    },
    __cssAnimationKeys : qx.core.Environment.get("css.animation"),
    animateReverse : function(el, desc, duration){

      return this._animate(el, desc, duration, true);
    },
    animate : function(el, desc, duration){

      return this._animate(el, desc, duration, false);
    },
    _animate : function(el, desc, duration, reverse){

      this.__normalizeDesc(desc);
      if(qx.core.Environment.get("qx.debug")){

        this.__validateDesc(desc);
      };
      var keep = desc.keep;
      if(keep != null && (reverse || (desc.alternate && desc.repeat % 2 == 0))){

        keep = 100 - keep;
      };
      if(!this.__sheet){

        this.__sheet = qx.bom.Stylesheet.createElement();
      };
      var keyFrames = desc.keyFrames;
      if(duration == undefined){

        duration = desc.duration;
      };
      if(this.__cssAnimationKeys != null){

        var name = this.__addKeyFrames(keyFrames, reverse);
        var style = name + " " + duration + "ms " + desc.timing + " " + (desc.delay ? desc.delay + "ms " : "") + desc.repeat + " " + (desc.alternate ? "alternate" : "");
        qx.bom.Event.addNativeListener(el, this.__cssAnimationKeys["start-event"], this.__onAnimationStart);
        qx.bom.Event.addNativeListener(el, this.__cssAnimationKeys["iteration-event"], this.__onAnimationIteration);
        qx.bom.Event.addNativeListener(el, this.__cssAnimationKeys["end-event"], this.__onAnimationEnd);
        if(qx.core.Environment.get("qx.debug")){

          if(qx.bom.element.Style.get(el, "display") == "none"){

            qx.log.Logger.warn("Some browsers will not animate elements with display==none", el);
          };
        };
        el.style[qx.lang.String.camelCase(this.__cssAnimationKeys["name"])] = style;
        if(keep && keep == 100 && this.__cssAnimationKeys["fill-mode"]){

          el.style[this.__cssAnimationKeys["fill-mode"]] = "forwards";
        };
      };
      var animation = new qx.bom.element.AnimationHandle();
      animation.desc = desc;
      animation.el = el;
      animation.keep = keep;
      el.$$animation = animation;
      if(desc.origin != null){

        qx.bom.element.Transform.setOrigin(el, desc.origin);
      };
      if(this.__cssAnimationKeys == null){

        window.setTimeout(function(){

          qx.bom.element.AnimationCss.__onAnimationEnd({
            target : el
          });
        }, 0);
      };
      return animation;
    },
    __onAnimationStart : function(e){

      e.target.$$animation.emit("start", e.target);
    },
    __onAnimationIteration : function(e){

      if(e.target != null && e.target.$$animation != null){

        e.target.$$animation.emit("iteration", e.target);
      };
    },
    __onAnimationEnd : function(e){

      var el = e.target;
      var animation = el.$$animation;
      if(!animation){

        return;
      };
      var desc = animation.desc;
      if(qx.bom.element.AnimationCss.__cssAnimationKeys != null){

        var key = qx.lang.String.camelCase(qx.bom.element.AnimationCss.__cssAnimationKeys["name"]);
        el.style[key] = "";
        qx.bom.Event.removeNativeListener(el, qx.bom.element.AnimationCss.__cssAnimationKeys["name"], qx.bom.element.AnimationCss.__onAnimationEnd);
      };
      if(desc.origin != null){

        qx.bom.element.Transform.setOrigin(el, "");
      };
      qx.bom.element.AnimationCss.__keepFrame(el, desc.keyFrames[animation.keep]);
      el.$$animation = null;
      animation.el = null;
      animation.ended = true;
      animation.emit("end", el);
    },
    __keepFrame : function(el, endFrame){

      var transforms;
      for(var style in endFrame){

        if(style in qx.bom.element.AnimationCss.__transitionKeys){

          if(!transforms){

            transforms = {
            };
          };
          transforms[style] = endFrame[style];
        } else {

          el.style[qx.lang.String.camelCase(style)] = endFrame[style];
        };
      };
      if(transforms){

        qx.bom.element.Transform.transform(el, transforms);
      };
    },
    __normalizeDesc : function(desc){

      if(!desc.hasOwnProperty("alternate")){

        desc.alternate = false;
      };
      if(!desc.hasOwnProperty("keep")){

        desc.keep = null;
      };
      if(!desc.hasOwnProperty("repeat")){

        desc.repeat = 1;
      };
      if(!desc.hasOwnProperty("timing")){

        desc.timing = "linear";
      };
      if(!desc.hasOwnProperty("origin")){

        desc.origin = null;
      };
    },
    __validateDesc : qx.core.Environment.select("qx.debug", {
      "true" : function(desc){

        var possibleKeys = ["origin", "duration", "keep", "keyFrames", "delay", "repeat", "timing", "alternate"];
        for(var name in desc){

          if(!(possibleKeys.indexOf(name) != -1)){

            qx.Bootstrap.warn("Unknown key '" + name + "' in the animation description.");
          };
        };
        if(desc.keyFrames == null){

          qx.Bootstrap.warn("No 'keyFrames' given > 0");
        } else {

          for(var pos in desc.keyFrames){

            if(pos < 0 || pos > 100){

              qx.Bootstrap.warn("Keyframe position needs to be between 0 and 100");
            };
          };
        };
      },
      "default" : null
    }),
    __addKeyFrames : function(frames, reverse){

      var rule = "";
      for(var position in frames){

        rule += (reverse ? -(position - 100) : position) + "% {";
        var frame = frames[position];
        var transforms;
        for(var style in frame){

          if(style in this.__transitionKeys){

            if(!transforms){

              transforms = {
              };
            };
            transforms[style] = frame[style];
          } else {

            var propName = qx.bom.Style.getPropertyName(style);
            var prefixed = (propName !== null) ? qx.bom.Style.getCssName(propName) : "";
            rule += (prefixed || style) + ":" + frame[style] + ";";
          };
        };
        if(transforms){

          rule += qx.bom.element.Transform.getCss(transforms);
        };
        rule += "} ";
      };
      if(this.__rules[rule]){

        return this.__rules[rule];
      };
      var name = this.__rulePrefix + this.__id++;
      var selector = this.__cssAnimationKeys["keyframes"] + " " + name;
      qx.bom.Stylesheet.addRule(this.__sheet, selector, rule);
      this.__rules[rule] = name;
      return name;
    }
  }
});

qx.Bootstrap.define("qx.bom.element.AnimationHandle", {
  extend : qx.event.Emitter,
  construct : function(){

    var css = qx.core.Environment.get("css.animation");
    this.__playState = css && css["play-state"];
    this.__playing = true;
  },
  events : {
    "start" : "Element",
    "end" : "Element",
    "iteration" : "Element"
  },
  members : {
    __playState : null,
    __playing : false,
    __ended : false,
    isPlaying : function(){

      return this.__playing;
    },
    isEnded : function(){

      return this.__ended;
    },
    isPaused : function(){

      return this.el.style[this.__playState] == "paused";
    },
    pause : function(){

      if(this.el){

        this.el.style[this.__playState] = "paused";
        this.el.$$animation.__playing = false;
        if(this.animationId && qx.bom.element.AnimationJs){

          qx.bom.element.AnimationJs.pause(this);
        };
      };
    },
    play : function(){

      if(this.el){

        this.el.style[this.__playState] = "running";
        this.el.$$animation.__playing = true;
        if(this.i != undefined && qx.bom.element.AnimationJs){

          qx.bom.element.AnimationJs.play(this);
        };
      };
    },
    stop : function(){

      if(this.el && qx.core.Environment.get("css.animation") && !this.jsAnimation){

        this.el.style[this.__playState] = "";
        this.el.style[qx.core.Environment.get("css.animation").name] = "";
        this.el.$$animation.__playing = false;
        this.el.$$animation.__ended = true;
      } else if(this.jsAnimation){

        this.stopped = true;
        qx.bom.element.AnimationJs.stop(this);
      };
    }
  }
});

qx.Bootstrap.define("qx.bom.element.AnimationJs", {
  statics : {
    __maxStepTime : 30,
    __units : ["%", "in", "cm", "mm", "em", "ex", "pt", "pc", "px"],
    __transitionKeys : {
      "scale" : true,
      "rotate" : true,
      "skew" : true,
      "translate" : true
    },
    animate : function(el, desc, duration){

      return this._animate(el, desc, duration, false);
    },
    animateReverse : function(el, desc, duration){

      return this._animate(el, desc, duration, true);
    },
    _animate : function(el, desc, duration, reverse){

      if(el.$$animation){

        return el.$$animation;
      };
      desc = qx.lang.Object.clone(desc, true);
      if(duration == undefined){

        duration = desc.duration;
      };
      var keyFrames = desc.keyFrames;
      var keys = this.__getOrderedKeys(keyFrames);
      var stepTime = this.__getStepTime(duration, keys);
      var steps = parseInt(duration / stepTime, 10);
      this.__normalizeKeyFrames(keyFrames, el);
      var delta = this.__calculateDelta(steps, stepTime, keys, keyFrames, duration, desc.timing);
      var handle = new qx.bom.element.AnimationHandle();
      handle.jsAnimation = true;
      if(reverse){

        delta.reverse();
        handle.reverse = true;
      };
      handle.desc = desc;
      handle.el = el;
      handle.delta = delta;
      handle.stepTime = stepTime;
      handle.steps = steps;
      el.$$animation = handle;
      handle.i = 0;
      handle.initValues = {
      };
      handle.repeatSteps = this.__applyRepeat(steps, desc.repeat);
      var delay = desc.delay || 0;
      var self = this;
      handle.delayId = window.setTimeout(function(){

        handle.delayId = null;
        self.play(handle);
      }, delay);
      return handle;
    },
    __normalizeKeyFrames : function(keyFrames, el){

      var units = {
      };
      for(var percent in keyFrames){

        for(var name in keyFrames[percent]){

          var prefixed = qx.bom.Style.getPropertyName(name);
          if(prefixed && prefixed != name){

            var prefixedName = qx.bom.Style.getCssName(prefixed);
            keyFrames[percent][prefixedName] = keyFrames[percent][name];
            delete keyFrames[percent][name];
            name = prefixedName;
          };
          if(units[name] == undefined){

            var item = keyFrames[percent][name];
            if(typeof item == "string"){

              units[name] = this.__getUnit(item);
            } else {

              units[name] = "";
            };
          };
        };
      };
      for(var percent in keyFrames){

        var frame = keyFrames[percent];
        for(var name in units){

          if(frame[name] == undefined){

            if(name in el.style){

              if(window.getComputedStyle){

                frame[name] = getComputedStyle(el, null)[name];
              } else {

                frame[name] = el.style[name];
              };
            } else {

              frame[name] = el[name];
            };
            if(frame[name] === "" && this.__units.indexOf(units[name]) != -1){

              frame[name] = "0" + units[name];
            };
          };
        };
      };
    },
    __normalizeKeyFrameTransforms : function(frame){

      frame = qx.lang.Object.clone(frame);
      var transforms;
      for(var name in frame){

        if(name in this.__transitionKeys){

          if(!transforms){

            transforms = {
            };
          };
          transforms[name] = frame[name];
          delete frame[name];
        };
      };
      if(transforms){

        var transformStyle = qx.bom.element.Transform.getCss(transforms).split(":");
        if(transformStyle.length > 1){

          frame[transformStyle[0]] = transformStyle[1].replace(";", "");
        };
      };
      return frame;
    },
    __calculateDelta : function(steps, stepTime, keys, keyFrames, duration, timing){

      var delta = new Array(steps);
      var keyIndex = 1;
      delta[0] = this.__normalizeKeyFrameTransforms(keyFrames[0]);
      var last = keyFrames[0];
      var next = keyFrames[keys[keyIndex]];
      var stepsToNext = Math.floor(keys[keyIndex] / (stepTime / duration * 100));
      var calculationIndex = 1;
      for(var i = 1;i < delta.length;i++){

        if(i * stepTime / duration * 100 > keys[keyIndex]){

          last = next;
          keyIndex++;
          next = keyFrames[keys[keyIndex]];
          stepsToNext = Math.floor(keys[keyIndex] / (stepTime / duration * 100)) - stepsToNext;
          calculationIndex = 1;
        };
        delta[i] = {
        };
        var transforms;
        for(var name in next){

          var nItem = next[name] + "";
          if(name in this.__transitionKeys){

            if(!transforms){

              transforms = {
              };
            };
            if(qx.Bootstrap.isArray(last[name])){

              if(!qx.Bootstrap.isArray(next[name])){

                next[name] = [next[name]];
              };
              transforms[name] = [];
              for(var j = 0;j < next[name].length;j++){

                var item = next[name][j] + "";
                var x = calculationIndex / stepsToNext;
                transforms[name][j] = this.__getNextValue(item, last[name], timing, x);
              };
            } else {

              var x = calculationIndex / stepsToNext;
              transforms[name] = this.__getNextValue(nItem, last[name], timing, x);
            };
          } else if(nItem.charAt(0) == "#"){

            var value0 = qx.util.ColorUtil.cssStringToRgb(last[name]);
            var value1 = qx.util.ColorUtil.cssStringToRgb(nItem);
            var stepValue = [];
            for(var j = 0;j < value0.length;j++){

              var range = value0[j] - value1[j];
              var x = calculationIndex / stepsToNext;
              var timingX = qx.bom.AnimationFrame.calculateTiming(timing, x);
              stepValue[j] = parseInt(value0[j] - range * timingX, 10);
            };
            delta[i][name] = qx.util.ColorUtil.rgbToHexString(stepValue);
          } else if(!isNaN(parseFloat(nItem))){

            var x = calculationIndex / stepsToNext;
            delta[i][name] = this.__getNextValue(nItem, last[name], timing, x);
          } else {

            delta[i][name] = last[name] + "";
          };;
        };
        if(transforms){

          var transformStyle = qx.bom.element.Transform.getCss(transforms).split(":");
          if(transformStyle.length > 1){

            delta[i][transformStyle[0]] = transformStyle[1].replace(";", "");
          };
        };
        calculationIndex++;
      };
      delta[delta.length - 1] = this.__normalizeKeyFrameTransforms(keyFrames[100]);
      return delta;
    },
    __getUnit : function(item){

      return item.substring((parseFloat(item) + "").length, item.length);
    },
    __getNextValue : function(nextItem, lastItem, timing, x){

      var range = parseFloat(nextItem) - parseFloat(lastItem);
      return (parseFloat(lastItem) + range * qx.bom.AnimationFrame.calculateTiming(timing, x)) + this.__getUnit(nextItem);
    },
    play : function(handle){

      handle.emit("start", handle.el);
      var id = window.setInterval(function(){

        handle.repeatSteps--;
        var values = handle.delta[handle.i % handle.steps];
        if(handle.i === 0){

          for(var name in values){

            if(handle.initValues[name] === undefined){

              if(handle.el[name] !== undefined){

                handle.initValues[name] = handle.el[name];
              } else if(qx.bom.element.Style){

                handle.initValues[name] = qx.bom.element.Style.get(handle.el, qx.lang.String.camelCase(name));
              } else {

                handle.initValues[name] = handle.el.style[qx.lang.String.camelCase(name)];
              };
            };
          };
        };
        qx.bom.element.AnimationJs.__applyStyles(handle.el, values);
        handle.i++;
        if(handle.i % handle.steps == 0){

          handle.emit("iteration", handle.el);
          if(handle.desc.alternate){

            handle.delta.reverse();
          };
        };
        if(handle.repeatSteps < 0){

          qx.bom.element.AnimationJs.stop(handle);
        };
      }, handle.stepTime);
      handle.animationId = id;
      return handle;
    },
    pause : function(handle){

      window.clearInterval(handle.animationId);
      handle.animationId = null;
      return handle;
    },
    stop : function(handle){

      var desc = handle.desc;
      var el = handle.el;
      var initValues = handle.initValues;
      if(handle.animationId){

        window.clearInterval(handle.animationId);
      };
      if(handle.delayId){

        window.clearTimeout(handle.delayId);
      };
      if(el == undefined){

        return handle;
      };
      var keep = desc.keep;
      if(keep != undefined && !handle.stopped){

        if(handle.reverse || (desc.alternate && desc.repeat && desc.repeat % 2 == 0)){

          keep = 100 - keep;
        };
        this.__applyStyles(el, desc.keyFrames[keep]);
      } else {

        this.__applyStyles(el, initValues);
      };
      el.$$animation = null;
      handle.el = null;
      handle.ended = true;
      handle.animationId = null;
      handle.emit("end", el);
      return handle;
    },
    __applyRepeat : function(steps, repeat){

      if(repeat == undefined){

        return steps;
      };
      if(repeat == "infinite"){

        return Number.MAX_VALUE;
      };
      return steps * repeat;
    },
    __applyStyles : function(el, styles){

      for(var key in styles){

        if(styles[key] === undefined){

          continue;
        };
        if(typeof el.style[key] === "undefined" && key in el){

          el[key] = styles[key];
          continue;
        };
        var name = qx.bom.Style.getPropertyName(key) || key;
        if(qx.bom.element.Style){

          qx.bom.element.Style.set(el, name, styles[key]);
        } else {

          el.style[name] = styles[key];
        };
      };
    },
    __getStepTime : function(duration, keys){

      var minDiff = 100;
      for(var i = 0;i < keys.length - 1;i++){

        minDiff = Math.min(minDiff, keys[i + 1] - keys[i]);
      };
      var stepTime = duration * minDiff / 100;
      while(stepTime > this.__maxStepTime){

        stepTime = stepTime / 2;
      };
      return Math.round(stepTime);
    },
    __getOrderedKeys : function(keyFrames){

      var keys = Object.keys(keyFrames);
      for(var i = 0;i < keys.length;i++){

        keys[i] = parseInt(keys[i], 10);
      };
      keys.sort(function(a, b){

        return a - b;
      });
      return keys;
    }
  }
});

qx.Bootstrap.define("qx.bom.client.CssTransform", {
  statics : {
    getSupport : function(){

      var name = qx.bom.client.CssTransform.getName();
      if(name != null){

        return {
          "name" : name,
          "style" : qx.bom.client.CssTransform.getStyle(),
          "origin" : qx.bom.client.CssTransform.getOrigin(),
          "3d" : qx.bom.client.CssTransform.get3D(),
          "perspective" : qx.bom.client.CssTransform.getPerspective(),
          "perspective-origin" : qx.bom.client.CssTransform.getPerspectiveOrigin(),
          "backface-visibility" : qx.bom.client.CssTransform.getBackFaceVisibility()
        };
      };
      return null;
    },
    getStyle : function(){

      return qx.bom.Style.getPropertyName("transformStyle");
    },
    getPerspective : function(){

      return qx.bom.Style.getPropertyName("perspective");
    },
    getPerspectiveOrigin : function(){

      return qx.bom.Style.getPropertyName("perspectiveOrigin");
    },
    getBackFaceVisibility : function(){

      return qx.bom.Style.getPropertyName("backfaceVisibility");
    },
    getOrigin : function(){

      return qx.bom.Style.getPropertyName("transformOrigin");
    },
    getName : function(){

      return qx.bom.Style.getPropertyName("transform");
    },
    get3D : function(){

      return qx.bom.client.CssTransform.getPerspective() != null;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("css.transform", statics.getSupport);
    qx.core.Environment.add("css.transform.3d", statics.get3D);
  }
});

qx.Bootstrap.define("qx.bom.element.Transform", {
  statics : {
    __dimensions : ["X", "Y", "Z"],
    __cssKeys : qx.core.Environment.get("css.transform"),
    transform : function(el, transforms){

      var transformCss = this.__mapToCss(transforms);
      if(this.__cssKeys != null){

        var style = this.__cssKeys["name"];
        el.style[style] = transformCss;
      };
    },
    translate : function(el, value){

      this.transform(el, {
        translate : value
      });
    },
    scale : function(el, value){

      this.transform(el, {
        scale : value
      });
    },
    rotate : function(el, value){

      this.transform(el, {
        rotate : value
      });
    },
    skew : function(el, value){

      this.transform(el, {
        skew : value
      });
    },
    getCss : function(transforms){

      var transformCss = this.__mapToCss(transforms);
      if(this.__cssKeys != null){

        var style = this.__cssKeys["name"];
        return qx.bom.Style.getCssName(style) + ":" + transformCss + ";";
      };
      return "";
    },
    setOrigin : function(el, value){

      if(this.__cssKeys != null){

        el.style[this.__cssKeys["origin"]] = value;
      };
    },
    getOrigin : function(el){

      if(this.__cssKeys != null){

        return el.style[this.__cssKeys["origin"]];
      };
      return "";
    },
    setStyle : function(el, value){

      if(this.__cssKeys != null){

        el.style[this.__cssKeys["style"]] = value;
      };
    },
    getStyle : function(el){

      if(this.__cssKeys != null){

        return el.style[this.__cssKeys["style"]];
      };
      return "";
    },
    setPerspective : function(el, value){

      if(this.__cssKeys != null){

        el.style[this.__cssKeys["perspective"]] = value + "px";
      };
    },
    getPerspective : function(el){

      if(this.__cssKeys != null){

        return el.style[this.__cssKeys["perspective"]];
      };
      return "";
    },
    setPerspectiveOrigin : function(el, value){

      if(this.__cssKeys != null){

        el.style[this.__cssKeys["perspective-origin"]] = value;
      };
    },
    getPerspectiveOrigin : function(el){

      if(this.__cssKeys != null){

        var value = el.style[this.__cssKeys["perspective-origin"]];
        if(value != ""){

          return value;
        } else {

          var valueX = el.style[this.__cssKeys["perspective-origin"] + "X"];
          var valueY = el.style[this.__cssKeys["perspective-origin"] + "Y"];
          if(valueX != ""){

            return valueX + " " + valueY;
          };
        };
      };
      return "";
    },
    setBackfaceVisibility : function(el, value){

      if(this.__cssKeys != null){

        el.style[this.__cssKeys["backface-visibility"]] = value ? "visible" : "hidden";
      };
    },
    getBackfaceVisibility : function(el){

      if(this.__cssKeys != null){

        return el.style[this.__cssKeys["backface-visibility"]] == "visible";
      };
      return true;
    },
    __mapToCss : function(transforms){

      var value = "";
      for(var func in transforms){

        var params = transforms[func];
        if(qx.Bootstrap.isArray(params)){

          for(var i = 0;i < params.length;i++){

            if(params[i] == undefined || (i == 2 && !qx.core.Environment.get("css.transform.3d"))){

              continue;
            };
            value += func + this.__dimensions[i] + "(";
            value += params[i];
            value += ") ";
          };
        } else {

          value += func + "(" + transforms[func] + ") ";
        };
      };
      return value;
    }
  }
});

qx.Bootstrap.define("qx.bom.AnimationFrame", {
  extend : qx.event.Emitter,
  events : {
    "end" : undefined,
    "frame" : "Number"
  },
  members : {
    __canceled : false,
    startSequence : function(duration){

      this.__canceled = false;
      var start = +(new Date());
      var clb = function(time){

        if(this.__canceled){

          this.id = null;
          return;
        };
        if(time >= start + duration){

          this.emit("end");
          this.id = null;
        } else {

          var timePassed = Math.max(time - start, 0);
          this.emit("frame", timePassed);
          this.id = qx.bom.AnimationFrame.request(clb, this);
        };
      };
      this.id = qx.bom.AnimationFrame.request(clb, this);
    },
    cancelSequence : function(){

      this.__canceled = true;
    }
  },
  statics : {
    TIMEOUT : 30,
    calculateTiming : function(func, x){

      if(func == "ease-in"){

        var a = [3.1223e-7, 0.0757, 1.2646, -0.167, -0.4387, 0.2654];
      } else if(func == "ease-out"){

        var a = [-7.0198e-8, 1.652, -0.551, -0.0458, 0.1255, -0.1807];
      } else if(func == "linear"){

        return x;
      } else if(func == "ease-in-out"){

        var a = [2.482e-7, -0.2289, 3.3466, -1.0857, -1.7354, 0.7034];
      } else {

        var a = [-0.0021, 0.2472, 9.8054, -21.6869, 17.7611, -5.1226];
      };;;
      var y = 0;
      for(var i = 0;i < a.length;i++){

        y += a[i] * Math.pow(x, i);
      };
      return y;
    },
    request : function(callback, context){

      var req = qx.core.Environment.get("css.animation.requestframe");
      var clb = function(time){

        if(time < 1e10){

          time = this.__start + time;
        };
        time = time || +(new Date());
        callback.call(context, time);
      };
      if(req){

        return window[req](clb);
      } else {

        return window.setTimeout(function(){

          clb();
        }, qx.bom.AnimationFrame.TIMEOUT);
      };
    }
  },
  defer : function(statics){

    statics.__start = window.performance && performance.timing && performance.timing.navigationStart;
    if(!statics.__start){

      statics.__start = Date.now();
    };
  }
});

qx.Class.define("qx.util.DeferredCallManager", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this.__calls = {
    };
    this.__timeoutWrapper = qx.lang.Function.bind(this.__timeout, this);
    this.__hasCalls = false;
  },
  members : {
    __timeoutId : null,
    __currentQueue : null,
    __calls : null,
    __hasCalls : null,
    __timeoutWrapper : null,
    schedule : function(deferredCall){

      if(this.__timeoutId == null){

        this.__timeoutId = window.setTimeout(this.__timeoutWrapper, 0);
      };
      var callKey = deferredCall.toHashCode();
      if(this.__currentQueue && this.__currentQueue[callKey]){

        return;
      };
      this.__calls[callKey] = deferredCall;
      this.__hasCalls = true;
    },
    cancel : function(deferredCall){

      var callKey = deferredCall.toHashCode();
      if(this.__currentQueue && this.__currentQueue[callKey]){

        this.__currentQueue[callKey] = null;
        return;
      };
      delete this.__calls[callKey];
      if(qx.lang.Object.isEmpty(this.__calls) && this.__timeoutId != null){

        window.clearTimeout(this.__timeoutId);
        this.__timeoutId = null;
      };
    },
    __timeout : qx.event.GlobalError.observeMethod(function(){

      this.__timeoutId = null;
      while(this.__hasCalls){

        this.__currentQueue = qx.lang.Object.clone(this.__calls);
        this.__calls = {
        };
        this.__hasCalls = false;
        for(var key in this.__currentQueue){

          var call = this.__currentQueue[key];
          if(call){

            this.__currentQueue[key] = null;
            call.call();
          };
        };
      };
      this.__currentQueue = null;
    })
  },
  destruct : function(){

    if(this.__timeoutId != null){

      window.clearTimeout(this.__timeoutId);
    };
    this.__timeoutWrapper = this.__calls = null;
  }
});

qx.Class.define("qx.util.DeferredCall", {
  extend : qx.core.Object,
  construct : function(callback, context){

    this.base(arguments);
    this.__callback = callback;
    this.__context = context || null;
    this.__manager = qx.util.DeferredCallManager.getInstance();
  },
  members : {
    __callback : null,
    __context : null,
    __manager : null,
    cancel : function(){

      this.__manager.cancel(this);
    },
    schedule : function(){

      this.__manager.schedule(this);
    },
    call : function(){

      if(qx.core.Environment.get("qx.debug")){

        var context = this.__context;
        if(context && context.isDisposed && context.isDisposed()){

          this.warn("The context object '" + context + "' of the defered call '" + this + "'is already disposed.");
        };
      };
      this.__context ? this.__callback.apply(this.__context) : this.__callback();
    }
  },
  destruct : function(){

    this.cancel();
    this.__context = this.__callback = this.__manager = null;
  }
});

qx.Class.define("qx.html.Element", {
  extend : qx.core.Object,
  construct : function(tagName, styles, attributes){

    this.base(arguments);
    this.__nodeName = tagName || "div";
    this.__styleValues = styles || null;
    this.__attribValues = attributes || null;
  },
  statics : {
    DEBUG : false,
    _modified : {
    },
    _visibility : {
    },
    _scroll : {
    },
    _actions : [],
    __selection : {
    },
    __focusHandler : null,
    __mouseCapture : null,
    _scheduleFlush : function(job){

      qx.html.Element.__deferredCall.schedule();
    },
    flush : function(){

      var obj;
      if(qx.core.Environment.get("qx.debug")){

        if(this.DEBUG){

          qx.log.Logger.debug(this, "Flushing elements...");
        };
      };
      var focusHandler = this.__getFocusHandler();
      var focusedDomElement = focusHandler.getFocus();
      if(focusedDomElement && this.__willBecomeInvisible(focusedDomElement)){

        focusHandler.blur(focusedDomElement);
      };
      var activeDomElement = focusHandler.getActive();
      if(activeDomElement && this.__willBecomeInvisible(activeDomElement)){

        qx.bom.Element.deactivate(activeDomElement);
      };
      var captureDomElement = this.__getCaptureElement();
      if(captureDomElement && this.__willBecomeInvisible(captureDomElement)){

        qx.bom.Element.releaseCapture(captureDomElement);
      };
      var later = [];
      var modified = this._modified;
      for(var hc in modified){

        obj = modified[hc];
        if(obj.__willBeSeeable() || obj.classname == "qx.html.Iframe"){

          if(obj.__element && qx.dom.Hierarchy.isRendered(obj.__element)){

            later.push(obj);
          } else {

            if(qx.core.Environment.get("qx.debug")){

              if(this.DEBUG){

                obj.debug("Flush invisible element");
              };
            };
            obj.__flush();
          };
          delete modified[hc];
        };
      };
      for(var i = 0,l = later.length;i < l;i++){

        obj = later[i];
        if(qx.core.Environment.get("qx.debug")){

          if(this.DEBUG){

            obj.debug("Flush rendered element");
          };
        };
        obj.__flush();
      };
      var visibility = this._visibility;
      for(var hc in visibility){

        obj = visibility[hc];
        var element = obj.__element;
        if(!element){

          delete visibility[hc];
          continue;
        };
        if(qx.core.Environment.get("qx.debug")){

          if(this.DEBUG){

            qx.log.Logger.debug(this, "Switching visibility to: " + obj.__visible);
          };
        };
        if(!obj.$$disposed){

          element.style.display = obj.__visible ? "" : "none";
          if((qx.core.Environment.get("engine.name") == "mshtml")){

            if(!(document.documentMode >= 8)){

              element.style.visibility = obj.__visible ? "visible" : "hidden";
            };
          };
        };
        delete visibility[hc];
      };
      var scroll = this._scroll;
      for(var hc in scroll){

        obj = scroll[hc];
        var elem = obj.__element;
        if(elem && elem.offsetWidth){

          var done = true;
          if(obj.__lazyScrollX != null){

            obj.__element.scrollLeft = obj.__lazyScrollX;
            delete obj.__lazyScrollX;
          };
          if(obj.__lazyScrollY != null){

            obj.__element.scrollTop = obj.__lazyScrollY;
            delete obj.__lazyScrollY;
          };
          var intoViewX = obj.__lazyScrollIntoViewX;
          if(intoViewX != null){

            var child = intoViewX.element.getDomElement();
            if(child && child.offsetWidth){

              qx.bom.element.Scroll.intoViewX(child, elem, intoViewX.align);
              delete obj.__lazyScrollIntoViewX;
            } else {

              done = false;
            };
          };
          var intoViewY = obj.__lazyScrollIntoViewY;
          if(intoViewY != null){

            var child = intoViewY.element.getDomElement();
            if(child && child.offsetWidth){

              qx.bom.element.Scroll.intoViewY(child, elem, intoViewY.align);
              delete obj.__lazyScrollIntoViewY;
            } else {

              done = false;
            };
          };
          if(done){

            delete scroll[hc];
          };
        };
      };
      var activityEndActions = {
        "releaseCapture" : 1,
        "blur" : 1,
        "deactivate" : 1
      };
      for(var i = 0;i < this._actions.length;i++){

        var action = this._actions[i];
        var element = action.element.__element;
        if(!element || !activityEndActions[action.type] && !action.element.__willBeSeeable()){

          continue;
        };
        var args = action.args;
        args.unshift(element);
        qx.bom.Element[action.type].apply(qx.bom.Element, args);
      };
      this._actions = [];
      for(var hc in this.__selection){

        var selection = this.__selection[hc];
        var elem = selection.element.__element;
        if(elem){

          qx.bom.Selection.set(elem, selection.start, selection.end);
          delete this.__selection[hc];
        };
      };
      qx.event.handler.Appear.refresh();
    },
    __getFocusHandler : function(){

      if(!this.__focusHandler){

        var eventManager = qx.event.Registration.getManager(window);
        this.__focusHandler = eventManager.getHandler(qx.event.handler.Focus);
      };
      return this.__focusHandler;
    },
    __getCaptureElement : function(){

      if(!this.__mouseCapture){

        var eventManager = qx.event.Registration.getManager(window);
        this.__mouseCapture = eventManager.getDispatcher(qx.event.dispatch.MouseCapture);
      };
      return this.__mouseCapture.getCaptureElement();
    },
    __willBecomeInvisible : function(domElement){

      var element = qx.core.ObjectRegistry.fromHashCode(domElement.$$element);
      return element && !element.__willBeSeeable();
    }
  },
  members : {
    __nodeName : null,
    __element : null,
    __root : false,
    __included : true,
    __visible : true,
    __lazyScrollIntoViewX : null,
    __lazyScrollIntoViewY : null,
    __lazyScrollX : null,
    __lazyScrollY : null,
    __styleJobs : null,
    __attribJobs : null,
    __propertyJobs : null,
    __styleValues : null,
    __attribValues : null,
    __propertyValues : null,
    __eventValues : null,
    __children : null,
    __modifiedChildren : null,
    __parent : null,
    _scheduleChildrenUpdate : function(){

      if(this.__modifiedChildren){

        return;
      };
      this.__modifiedChildren = true;
      qx.html.Element._modified[this.$$hash] = this;
      qx.html.Element._scheduleFlush("element");
    },
    _createDomElement : function(){

      return qx.dom.Element.create(this.__nodeName);
    },
    __flush : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this.DEBUG){

          this.debug("Flush: " + this.getAttribute("id"));
        };
      };
      var length;
      var children = this.__children;
      if(children){

        length = children.length;
        var child;
        for(var i = 0;i < length;i++){

          child = children[i];
          if(child.__visible && child.__included && !child.__element){

            child.__flush();
          };
        };
      };
      if(!this.__element){

        this.__element = this._createDomElement();
        this.__element.$$element = this.$$hash;
        this._copyData(false);
        if(children && length > 0){

          this._insertChildren();
        };
      } else {

        this._syncData();
        if(this.__modifiedChildren){

          this._syncChildren();
        };
      };
      delete this.__modifiedChildren;
    },
    _insertChildren : function(){

      var children = this.__children;
      var length = children.length;
      var child;
      if(length > 2){

        var domElement = document.createDocumentFragment();
        for(var i = 0;i < length;i++){

          child = children[i];
          if(child.__element && child.__included){

            domElement.appendChild(child.__element);
          };
        };
        this.__element.appendChild(domElement);
      } else {

        var domElement = this.__element;
        for(var i = 0;i < length;i++){

          child = children[i];
          if(child.__element && child.__included){

            domElement.appendChild(child.__element);
          };
        };
      };
    },
    _syncChildren : function(){

      var ObjectRegistry = qx.core.ObjectRegistry;
      var dataChildren = this.__children;
      var dataLength = dataChildren.length;
      var dataChild;
      var dataEl;
      var domParent = this.__element;
      var domChildren = domParent.childNodes;
      var domPos = 0;
      var domEl;
      if(qx.core.Environment.get("qx.debug")){

        var domOperations = 0;
      };
      for(var i = domChildren.length - 1;i >= 0;i--){

        domEl = domChildren[i];
        dataEl = ObjectRegistry.fromHashCode(domEl.$$element);
        if(!dataEl || !dataEl.__included || dataEl.__parent !== this){

          domParent.removeChild(domEl);
          if(qx.core.Environment.get("qx.debug")){

            domOperations++;
          };
        };
      };
      for(var i = 0;i < dataLength;i++){

        dataChild = dataChildren[i];
        if(dataChild.__included){

          dataEl = dataChild.__element;
          domEl = domChildren[domPos];
          if(!dataEl){

            continue;
          };
          if(dataEl != domEl){

            if(domEl){

              domParent.insertBefore(dataEl, domEl);
            } else {

              domParent.appendChild(dataEl);
            };
            if(qx.core.Environment.get("qx.debug")){

              domOperations++;
            };
          };
          domPos++;
        };
      };
      if(qx.core.Environment.get("qx.debug")){

        if(qx.html.Element.DEBUG){

          this.debug("Synced DOM with " + domOperations + " operations");
        };
      };
    },
    _copyData : function(fromMarkup){

      var elem = this.__element;
      var data = this.__attribValues;
      if(data){

        var Attribute = qx.bom.element.Attribute;
        for(var key in data){

          Attribute.set(elem, key, data[key]);
        };
      };
      var data = this.__styleValues;
      if(data){

        var Style = qx.bom.element.Style;
        if(fromMarkup){

          Style.setStyles(elem, data);
        } else {

          Style.setCss(elem, Style.compile(data));
        };
      };
      var data = this.__propertyValues;
      if(data){

        for(var key in data){

          this._applyProperty(key, data[key]);
        };
      };
      var data = this.__eventValues;
      if(data){

        qx.event.Registration.getManager(elem).importListeners(elem, data);
        delete this.__eventValues;
      };
    },
    _syncData : function(){

      var elem = this.__element;
      var Attribute = qx.bom.element.Attribute;
      var Style = qx.bom.element.Style;
      var jobs = this.__attribJobs;
      if(jobs){

        var data = this.__attribValues;
        if(data){

          var value;
          for(var key in jobs){

            value = data[key];
            if(value !== undefined){

              Attribute.set(elem, key, value);
            } else {

              Attribute.reset(elem, key);
            };
          };
        };
        this.__attribJobs = null;
      };
      var jobs = this.__styleJobs;
      if(jobs){

        var data = this.__styleValues;
        if(data){

          var styles = {
          };
          for(var key in jobs){

            styles[key] = data[key];
          };
          Style.setStyles(elem, styles);
        };
        this.__styleJobs = null;
      };
      var jobs = this.__propertyJobs;
      if(jobs){

        var data = this.__propertyValues;
        if(data){

          var value;
          for(var key in jobs){

            this._applyProperty(key, data[key]);
          };
        };
        this.__propertyJobs = null;
      };
    },
    __willBeSeeable : function(){

      var pa = this;
      while(pa){

        if(pa.__root){

          return true;
        };
        if(!pa.__included || !pa.__visible){

          return false;
        };
        pa = pa.__parent;
      };
      return false;
    },
    __addChildHelper : function(child){

      if(child.__parent === this){

        throw new Error("Child is already in: " + child);
      };
      if(child.__root){

        throw new Error("Root elements could not be inserted into other ones.");
      };
      if(child.__parent){

        child.__parent.remove(child);
      };
      child.__parent = this;
      if(!this.__children){

        this.__children = [];
      };
      if(this.__element){

        this._scheduleChildrenUpdate();
      };
    },
    __removeChildHelper : function(child){

      if(child.__parent !== this){

        throw new Error("Has no child: " + child);
      };
      if(this.__element){

        this._scheduleChildrenUpdate();
      };
      delete child.__parent;
    },
    __moveChildHelper : function(child){

      if(child.__parent !== this){

        throw new Error("Has no child: " + child);
      };
      if(this.__element){

        this._scheduleChildrenUpdate();
      };
    },
    getChildren : function(){

      return this.__children || null;
    },
    getChild : function(index){

      var children = this.__children;
      return children && children[index] || null;
    },
    hasChildren : function(){

      var children = this.__children;
      return children && children[0] !== undefined;
    },
    indexOf : function(child){

      var children = this.__children;
      return children ? children.indexOf(child) : -1;
    },
    hasChild : function(child){

      var children = this.__children;
      return children && children.indexOf(child) !== -1;
    },
    add : function(varargs){

      if(arguments[1]){

        for(var i = 0,l = arguments.length;i < l;i++){

          this.__addChildHelper(arguments[i]);
        };
        this.__children.push.apply(this.__children, arguments);
      } else {

        this.__addChildHelper(varargs);
        this.__children.push(varargs);
      };
      return this;
    },
    addAt : function(child, index){

      this.__addChildHelper(child);
      qx.lang.Array.insertAt(this.__children, child, index);
      return this;
    },
    remove : function(childs){

      var children = this.__children;
      if(!children){

        return this;
      };
      if(arguments[1]){

        var child;
        for(var i = 0,l = arguments.length;i < l;i++){

          child = arguments[i];
          this.__removeChildHelper(child);
          qx.lang.Array.remove(children, child);
        };
      } else {

        this.__removeChildHelper(childs);
        qx.lang.Array.remove(children, childs);
      };
      return this;
    },
    removeAt : function(index){

      var children = this.__children;
      if(!children){

        throw new Error("Has no children!");
      };
      var child = children[index];
      if(!child){

        throw new Error("Has no child at this position!");
      };
      this.__removeChildHelper(child);
      qx.lang.Array.removeAt(this.__children, index);
      return this;
    },
    removeAll : function(){

      var children = this.__children;
      if(children){

        for(var i = 0,l = children.length;i < l;i++){

          this.__removeChildHelper(children[i]);
        };
        children.length = 0;
      };
      return this;
    },
    getParent : function(){

      return this.__parent || null;
    },
    insertInto : function(parent, index){

      parent.__addChildHelper(this);
      if(index == null){

        parent.__children.push(this);
      } else {

        qx.lang.Array.insertAt(this.__children, this, index);
      };
      return this;
    },
    insertBefore : function(rel){

      var parent = rel.__parent;
      parent.__addChildHelper(this);
      qx.lang.Array.insertBefore(parent.__children, this, rel);
      return this;
    },
    insertAfter : function(rel){

      var parent = rel.__parent;
      parent.__addChildHelper(this);
      qx.lang.Array.insertAfter(parent.__children, this, rel);
      return this;
    },
    moveTo : function(index){

      var parent = this.__parent;
      parent.__moveChildHelper(this);
      var oldIndex = parent.__children.indexOf(this);
      if(oldIndex === index){

        throw new Error("Could not move to same index!");
      } else if(oldIndex < index){

        index--;
      };
      qx.lang.Array.removeAt(parent.__children, oldIndex);
      qx.lang.Array.insertAt(parent.__children, this, index);
      return this;
    },
    moveBefore : function(rel){

      var parent = this.__parent;
      return this.moveTo(parent.__children.indexOf(rel));
    },
    moveAfter : function(rel){

      var parent = this.__parent;
      return this.moveTo(parent.__children.indexOf(rel) + 1);
    },
    free : function(){

      var parent = this.__parent;
      if(!parent){

        throw new Error("Has no parent to remove from.");
      };
      if(!parent.__children){

        return this;
      };
      parent.__removeChildHelper(this);
      qx.lang.Array.remove(parent.__children, this);
      return this;
    },
    getDomElement : function(){

      return this.__element || null;
    },
    getNodeName : function(){

      return this.__nodeName;
    },
    setNodeName : function(name){

      this.__nodeName = name;
    },
    setRoot : function(root){

      this.__root = root;
    },
    useMarkup : function(html){

      if(this.__element){

        throw new Error("Could not overwrite existing element!");
      };
      if(qx.core.Environment.get("engine.name") == "mshtml"){

        var helper = document.createElement("div");
      } else {

        var helper = qx.dom.Element.getHelperElement();
      };
      helper.innerHTML = html;
      this.useElement(helper.firstChild);
      return this.__element;
    },
    useElement : function(elem){

      if(this.__element){

        throw new Error("Could not overwrite existing element!");
      };
      this.__element = elem;
      this.__element.$$element = this.$$hash;
      this._copyData(true);
    },
    isFocusable : function(){

      var tabIndex = this.getAttribute("tabIndex");
      if(tabIndex >= 1){

        return true;
      };
      var focusable = qx.event.handler.Focus.FOCUSABLE_ELEMENTS;
      if(tabIndex >= 0 && focusable[this.__nodeName]){

        return true;
      };
      return false;
    },
    setSelectable : function(value){

      this.setAttribute("qxSelectable", value ? "on" : "off");
      var userSelect = qx.core.Environment.get("css.userselect");
      if(userSelect){

        this.setStyle(userSelect, value ? "text" : qx.core.Environment.get("css.userselect.none"));
      };
    },
    isNativelyFocusable : function(){

      return !!qx.event.handler.Focus.FOCUSABLE_ELEMENTS[this.__nodeName];
    },
    include : function(){

      if(this.__included){

        return this;
      };
      delete this.__included;
      if(this.__parent){

        this.__parent._scheduleChildrenUpdate();
      };
      return this;
    },
    exclude : function(){

      if(!this.__included){

        return this;
      };
      this.__included = false;
      if(this.__parent){

        this.__parent._scheduleChildrenUpdate();
      };
      return this;
    },
    isIncluded : function(){

      return this.__included === true;
    },
    fadeIn : function(duration){

      var col = qxWeb(this.__element);
      if(col.isPlaying()){

        col.stop();
      };
      if(!this.__element){

        this.__flush();
        col.push(this.__element);
      };
      if(this.__element){

        col.fadeIn(duration);
        return col.getAnimationHandles()[0];
      };
    },
    fadeOut : function(duration){

      var col = qxWeb(this.__element);
      if(col.isPlaying()){

        col.stop();
      };
      if(this.__element){

        col.fadeOut(duration).once("animationEnd", function(){

          this.hide();
          qx.html.Element.flush();
        }, this);
        return col.getAnimationHandles()[0];
      };
    },
    show : function(){

      if(this.__visible){

        return this;
      };
      if(this.__element){

        qx.html.Element._visibility[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      if(this.__parent){

        this.__parent._scheduleChildrenUpdate();
      };
      delete this.__visible;
      return this;
    },
    hide : function(){

      if(!this.__visible){

        return this;
      };
      if(this.__element){

        qx.html.Element._visibility[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      this.__visible = false;
      return this;
    },
    isVisible : function(){

      return this.__visible === true;
    },
    scrollChildIntoViewX : function(elem, align, direct){

      var thisEl = this.__element;
      var childEl = elem.getDomElement();
      if(direct !== false && thisEl && thisEl.offsetWidth && childEl && childEl.offsetWidth){

        qx.bom.element.Scroll.intoViewX(childEl, thisEl, align);
      } else {

        this.__lazyScrollIntoViewX = {
          element : elem,
          align : align
        };
        qx.html.Element._scroll[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      delete this.__lazyScrollX;
    },
    scrollChildIntoViewY : function(elem, align, direct){

      var thisEl = this.__element;
      var childEl = elem.getDomElement();
      if(direct !== false && thisEl && thisEl.offsetWidth && childEl && childEl.offsetWidth){

        qx.bom.element.Scroll.intoViewY(childEl, thisEl, align);
      } else {

        this.__lazyScrollIntoViewY = {
          element : elem,
          align : align
        };
        qx.html.Element._scroll[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      delete this.__lazyScrollY;
    },
    scrollToX : function(x, lazy){

      var thisEl = this.__element;
      if(lazy !== true && thisEl && thisEl.offsetWidth){

        thisEl.scrollLeft = x;
        delete this.__lazyScrollX;
      } else {

        this.__lazyScrollX = x;
        qx.html.Element._scroll[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      delete this.__lazyScrollIntoViewX;
    },
    getScrollX : function(){

      var thisEl = this.__element;
      if(thisEl){

        return thisEl.scrollLeft;
      };
      return this.__lazyScrollX || 0;
    },
    scrollToY : function(y, lazy){

      var thisEl = this.__element;
      if(lazy !== true && thisEl && thisEl.offsetWidth){

        thisEl.scrollTop = y;
        delete this.__lazyScrollY;
      } else {

        this.__lazyScrollY = y;
        qx.html.Element._scroll[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      delete this.__lazyScrollIntoViewY;
    },
    getScrollY : function(){

      var thisEl = this.__element;
      if(thisEl){

        return thisEl.scrollTop;
      };
      return this.__lazyScrollY || 0;
    },
    disableScrolling : function(){

      this.enableScrolling();
      this.scrollToX(0);
      this.scrollToY(0);
      this.addListener("scroll", this.__onScroll, this);
    },
    enableScrolling : function(){

      this.removeListener("scroll", this.__onScroll, this);
    },
    __inScroll : null,
    __onScroll : function(e){

      if(!this.__inScroll){

        this.__inScroll = true;
        this.__element.scrollTop = 0;
        this.__element.scrollLeft = 0;
        delete this.__inScroll;
      };
    },
    getTextSelection : function(){

      var el = this.__element;
      if(el){

        return qx.bom.Selection.get(el);
      };
      return null;
    },
    getTextSelectionLength : function(){

      var el = this.__element;
      if(el){

        return qx.bom.Selection.getLength(el);
      };
      return null;
    },
    getTextSelectionStart : function(){

      var el = this.__element;
      if(el){

        return qx.bom.Selection.getStart(el);
      };
      return null;
    },
    getTextSelectionEnd : function(){

      var el = this.__element;
      if(el){

        return qx.bom.Selection.getEnd(el);
      };
      return null;
    },
    setTextSelection : function(start, end){

      var el = this.__element;
      if(el){

        qx.bom.Selection.set(el, start, end);
        return;
      };
      qx.html.Element.__selection[this.toHashCode()] = {
        element : this,
        start : start,
        end : end
      };
      qx.html.Element._scheduleFlush("element");
    },
    clearTextSelection : function(){

      var el = this.__element;
      if(el){

        qx.bom.Selection.clear(el);
      };
      delete qx.html.Element.__selection[this.toHashCode()];
    },
    __performAction : function(action, args){

      var actions = qx.html.Element._actions;
      actions.push({
        type : action,
        element : this,
        args : args || []
      });
      qx.html.Element._scheduleFlush("element");
    },
    focus : function(){

      this.__performAction("focus");
    },
    blur : function(){

      this.__performAction("blur");
    },
    activate : function(){

      this.__performAction("activate");
    },
    deactivate : function(){

      this.__performAction("deactivate");
    },
    capture : function(containerCapture){

      this.__performAction("capture", [containerCapture !== false]);
    },
    releaseCapture : function(){

      this.__performAction("releaseCapture");
    },
    setStyle : function(key, value, direct){

      if(!this.__styleValues){

        this.__styleValues = {
        };
      };
      if(this.__styleValues[key] == value){

        return this;
      };
      if(value == null){

        delete this.__styleValues[key];
      } else {

        this.__styleValues[key] = value;
      };
      if(this.__element){

        if(direct){

          qx.bom.element.Style.set(this.__element, key, value);
          return this;
        };
        if(!this.__styleJobs){

          this.__styleJobs = {
          };
        };
        this.__styleJobs[key] = true;
        qx.html.Element._modified[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      return this;
    },
    setStyles : function(map, direct){

      var Style = qx.bom.element.Style;
      if(!this.__styleValues){

        this.__styleValues = {
        };
      };
      if(this.__element){

        if(!this.__styleJobs){

          this.__styleJobs = {
          };
        };
        for(var key in map){

          var value = map[key];
          if(this.__styleValues[key] == value){

            continue;
          };
          if(value == null){

            delete this.__styleValues[key];
          } else {

            this.__styleValues[key] = value;
          };
          if(direct){

            Style.set(this.__element, key, value);
            continue;
          };
          this.__styleJobs[key] = true;
        };
        qx.html.Element._modified[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      } else {

        for(var key in map){

          var value = map[key];
          if(this.__styleValues[key] == value){

            continue;
          };
          if(value == null){

            delete this.__styleValues[key];
          } else {

            this.__styleValues[key] = value;
          };
        };
      };
      return this;
    },
    removeStyle : function(key, direct){

      this.setStyle(key, null, direct);
      return this;
    },
    getStyle : function(key){

      return this.__styleValues ? this.__styleValues[key] : null;
    },
    getAllStyles : function(){

      return this.__styleValues || null;
    },
    setAttribute : function(key, value, direct){

      if(!this.__attribValues){

        this.__attribValues = {
        };
      };
      if(this.__attribValues[key] == value){

        return this;
      };
      if(value == null){

        delete this.__attribValues[key];
      } else {

        this.__attribValues[key] = value;
      };
      if(this.__element){

        if(direct){

          qx.bom.element.Attribute.set(this.__element, key, value);
          return this;
        };
        if(!this.__attribJobs){

          this.__attribJobs = {
          };
        };
        this.__attribJobs[key] = true;
        qx.html.Element._modified[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      return this;
    },
    setAttributes : function(map, direct){

      for(var key in map){

        this.setAttribute(key, map[key], direct);
      };
      return this;
    },
    removeAttribute : function(key, direct){

      return this.setAttribute(key, null, direct);
    },
    getAttribute : function(key){

      return this.__attribValues ? this.__attribValues[key] : null;
    },
    addClass : function(name){

      var value = ((this.getAttribute("class") || "") + " " + name).trim();
      this.setAttribute("class", value);
    },
    removeClass : function(name){

      var currentClass = this.getAttribute("class");
      if(currentClass){

        this.setAttribute("class", (currentClass.replace(name, "")).trim());
      };
    },
    _applyProperty : function(name, value){
    },
    _setProperty : function(key, value, direct){

      if(!this.__propertyValues){

        this.__propertyValues = {
        };
      };
      if(this.__propertyValues[key] == value){

        return this;
      };
      if(value == null){

        delete this.__propertyValues[key];
      } else {

        this.__propertyValues[key] = value;
      };
      if(this.__element){

        if(direct){

          this._applyProperty(key, value);
          return this;
        };
        if(!this.__propertyJobs){

          this.__propertyJobs = {
          };
        };
        this.__propertyJobs[key] = true;
        qx.html.Element._modified[this.$$hash] = this;
        qx.html.Element._scheduleFlush("element");
      };
      return this;
    },
    _removeProperty : function(key, direct){

      return this._setProperty(key, null, direct);
    },
    _getProperty : function(key){

      var db = this.__propertyValues;
      if(!db){

        return null;
      };
      var value = db[key];
      return value == null ? null : value;
    },
    addListener : function(type, listener, self, capture){

      if(this.$$disposed){

        return null;
      };
      if(qx.core.Environment.get("qx.debug")){

        var msg = "Failed to add event listener for type '" + type + "'" + " to the target '" + this + "': ";
        this.assertString(type, msg + "Invalid event type.");
        this.assertFunction(listener, msg + "Invalid callback function");
        if(self !== undefined){

          this.assertObject(self, "Invalid context for callback.");
        };
        if(capture !== undefined){

          this.assertBoolean(capture, "Invalid capture flag.");
        };
      };
      if(this.__element){

        return qx.event.Registration.addListener(this.__element, type, listener, self, capture);
      };
      if(!this.__eventValues){

        this.__eventValues = {
        };
      };
      if(capture == null){

        capture = false;
      };
      var unique = qx.event.Manager.getNextUniqueId();
      var id = type + (capture ? "|capture|" : "|bubble|") + unique;
      this.__eventValues[id] = {
        type : type,
        listener : listener,
        self : self,
        capture : capture,
        unique : unique
      };
      return id;
    },
    removeListener : function(type, listener, self, capture){

      if(this.$$disposed){

        return null;
      };
      if(qx.core.Environment.get("qx.debug")){

        var msg = "Failed to remove event listener for type '" + type + "'" + " from the target '" + this + "': ";
        this.assertString(type, msg + "Invalid event type.");
        this.assertFunction(listener, msg + "Invalid callback function");
        if(self !== undefined){

          this.assertObject(self, "Invalid context for callback.");
        };
        if(capture !== undefined){

          this.assertBoolean(capture, "Invalid capture flag.");
        };
      };
      if(this.__element){

        qx.event.Registration.removeListener(this.__element, type, listener, self, capture);
      } else {

        var values = this.__eventValues;
        var entry;
        if(capture == null){

          capture = false;
        };
        for(var key in values){

          entry = values[key];
          if(entry.listener === listener && entry.self === self && entry.capture === capture && entry.type === type){

            delete values[key];
            break;
          };
        };
      };
      return this;
    },
    removeListenerById : function(id){

      if(this.$$disposed){

        return null;
      };
      if(this.__element){

        qx.event.Registration.removeListenerById(this.__element, id);
      } else {

        delete this.__eventValues[id];
      };
      return this;
    },
    hasListener : function(type, capture){

      if(this.$$disposed){

        return false;
      };
      if(this.__element){

        return qx.event.Registration.hasListener(this.__element, type, capture);
      };
      var values = this.__eventValues;
      var entry;
      if(capture == null){

        capture = false;
      };
      for(var key in values){

        entry = values[key];
        if(entry.capture === capture && entry.type === type){

          return true;
        };
      };
      return false;
    },
    getListeners : function(){

      if(this.$$disposed){

        return null;
      };
      if(this.__element){

        return qx.event.Registration.getManager(this.__element).serializeListeners(this.__element);
      };
      var listeners = [];
      for(var id in this.__eventValues){

        var listenerData = this.__eventValues[id];
        listeners.push({
          type : listenerData.type,
          handler : listenerData.listener,
          self : listenerData.self,
          capture : listenerData.capture
        });
      };
      return listeners;
    }
  },
  defer : function(statics){

    statics.__deferredCall = new qx.util.DeferredCall(statics.flush, statics);
  },
  destruct : function(){

    var el = this.__element;
    if(el){

      qx.event.Registration.getManager(el).removeAllListeners(el);
      el.$$element = "";
    };
    if(!qx.core.ObjectRegistry.inShutDown){

      var parent = this.__parent;
      if(parent && !parent.$$disposed){

        parent.remove(this);
      };
    };
    this._disposeArray("__children");
    this.__attribValues = this.__styleValues = this.__eventValues = this.__propertyValues = this.__attribJobs = this.__styleJobs = this.__propertyJobs = this.__element = this.__parent = this.__lazyScrollIntoViewX = this.__lazyScrollIntoViewY = null;
  }
});

qx.Class.define("qx.event.handler.Appear", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__targets = {
    };
    qx.event.handler.Appear.__instances[this.$$hash] = this;
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      appear : true,
      disappear : true
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : true,
    __instances : {
    },
    refresh : function(){

      var all = this.__instances;
      for(var hash in all){

        all[hash].refresh();
      };
    }
  },
  members : {
    __manager : null,
    __targets : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){

      var hash = qx.core.ObjectRegistry.toHashCode(target) + type;
      var targets = this.__targets;
      if(targets && !targets[hash]){

        targets[hash] = target;
        target.$$displayed = target.offsetWidth > 0;
      };
    },
    unregisterEvent : function(target, type, capture){

      var hash = qx.core.ObjectRegistry.toHashCode(target) + type;
      var targets = this.__targets;
      if(!targets){

        return;
      };
      if(targets[hash]){

        delete targets[hash];
      };
    },
    refresh : function(){

      var targets = this.__targets;
      var elem;
      var legacyIe = qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9;
      for(var hash in targets){

        elem = targets[hash];
        var displayed = elem.offsetWidth > 0;
        if(!displayed && legacyIe){

          displayed = elem.offsetWidth > 0;
        };
        if((!!elem.$$displayed) !== displayed){

          elem.$$displayed = displayed;
          var evt = qx.event.Registration.createEvent(displayed ? "appear" : "disappear");
          this.__manager.dispatchEvent(elem, evt);
        };
      };
    }
  },
  destruct : function(){

    this.__manager = this.__targets = null;
    delete qx.event.handler.Appear.__instances[this.$$hash];
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.dispatch.AbstractBubbling", {
  extend : qx.core.Object,
  implement : qx.event.IEventDispatcher,
  type : "abstract",
  construct : function(manager){

    this._manager = manager;
  },
  members : {
    _getParent : function(target){

      throw new Error("Missing implementation");
    },
    canDispatchEvent : function(target, event, type){

      return event.getBubbles();
    },
    dispatchEvent : function(target, event, type){

      var parent = target;
      var manager = this._manager;
      var captureListeners,bubbleListeners;
      var localList;
      var listener,context;
      var currentTarget;
      var targetList = [];
      captureListeners = manager.getListeners(target, type, true);
      bubbleListeners = manager.getListeners(target, type, false);
      if(captureListeners){

        targetList.push(captureListeners);
      };
      if(bubbleListeners){

        targetList.push(bubbleListeners);
      };
      var parent = this._getParent(target);
      var bubbleList = [];
      var bubbleTargets = [];
      var captureList = [];
      var captureTargets = [];
      while(parent != null){

        captureListeners = manager.getListeners(parent, type, true);
        if(captureListeners){

          captureList.push(captureListeners);
          captureTargets.push(parent);
        };
        bubbleListeners = manager.getListeners(parent, type, false);
        if(bubbleListeners){

          bubbleList.push(bubbleListeners);
          bubbleTargets.push(parent);
        };
        parent = this._getParent(parent);
      };
      event.setEventPhase(qx.event.type.Event.CAPTURING_PHASE);
      for(var i = captureList.length - 1;i >= 0;i--){

        currentTarget = captureTargets[i];
        event.setCurrentTarget(currentTarget);
        localList = captureList[i];
        for(var j = 0,jl = localList.length;j < jl;j++){

          listener = localList[j];
          context = listener.context || currentTarget;
          if(qx.core.Environment.get("qx.debug")){

            if(context && context.isDisposed && context.isDisposed()){

              this.warn("The context object '" + context + "' for the event '" + type + "' of '" + currentTarget + "'is already disposed.");
            };
          };
          listener.handler.call(context, event);
        };
        if(event.getPropagationStopped()){

          return;
        };
      };
      event.setEventPhase(qx.event.type.Event.AT_TARGET);
      event.setCurrentTarget(target);
      for(var i = 0,il = targetList.length;i < il;i++){

        localList = targetList[i];
        for(var j = 0,jl = localList.length;j < jl;j++){

          listener = localList[j];
          context = listener.context || target;
          if(qx.core.Environment.get("qx.debug")){

            if(context && context.isDisposed && context.isDisposed()){

              this.warn("The context object '" + context + "' for the event '" + type + "' of '" + target + "'is already disposed.");
            };
          };
          listener.handler.call(context, event);
        };
        if(event.getPropagationStopped()){

          return;
        };
      };
      event.setEventPhase(qx.event.type.Event.BUBBLING_PHASE);
      for(var i = 0,il = bubbleList.length;i < il;i++){

        currentTarget = bubbleTargets[i];
        event.setCurrentTarget(currentTarget);
        localList = bubbleList[i];
        for(var j = 0,jl = localList.length;j < jl;j++){

          listener = localList[j];
          context = listener.context || currentTarget;
          if(qx.core.Environment.get("qx.debug")){

            if(context && context.isDisposed && context.isDisposed()){

              this.warn("The context object '" + context + "' for the event '" + type + "' of '" + currentTarget + "'is already disposed.");
            };
          };
          listener.handler.call(context, event);
        };
        if(event.getPropagationStopped()){

          return;
        };
      };
    }
  }
});

qx.Class.define("qx.event.dispatch.DomBubbling", {
  extend : qx.event.dispatch.AbstractBubbling,
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL
  },
  members : {
    _getParent : function(target){

      return target.parentNode;
    },
    canDispatchEvent : function(target, event, type){

      return target.nodeType !== undefined && event.getBubbles();
    }
  },
  defer : function(statics){

    qx.event.Registration.addDispatcher(statics);
  }
});

qx.Class.define("qx.event.type.Native", {
  extend : qx.event.type.Event,
  members : {
    init : function(nativeEvent, target, relatedTarget, canBubble, cancelable){

      this.base(arguments, canBubble, cancelable);
      this._target = target || qx.bom.Event.getTarget(nativeEvent);
      this._relatedTarget = relatedTarget || qx.bom.Event.getRelatedTarget(nativeEvent);
      if(nativeEvent.timeStamp){

        this._timeStamp = nativeEvent.timeStamp;
      };
      this._native = nativeEvent;
      this._returnValue = null;
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      var nativeClone = {
      };
      clone._native = this._cloneNativeEvent(this._native, nativeClone);
      clone._returnValue = this._returnValue;
      return clone;
    },
    _cloneNativeEvent : function(nativeEvent, clone){

      clone.preventDefault = (function(){
      });
      return clone;
    },
    preventDefault : function(){

      this.base(arguments);
      qx.bom.Event.preventDefault(this._native);
    },
    getNativeEvent : function(){

      return this._native;
    },
    setReturnValue : function(returnValue){

      this._returnValue = returnValue;
    },
    getReturnValue : function(){

      return this._returnValue;
    }
  },
  destruct : function(){

    this._native = this._returnValue = null;
  }
});

qx.Class.define("qx.event.type.Dom", {
  extend : qx.event.type.Native,
  statics : {
    SHIFT_MASK : 1,
    CTRL_MASK : 2,
    ALT_MASK : 4,
    META_MASK : 8
  },
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.shiftKey = nativeEvent.shiftKey;
      clone.ctrlKey = nativeEvent.ctrlKey;
      clone.altKey = nativeEvent.altKey;
      clone.metaKey = nativeEvent.metaKey;
      return clone;
    },
    getModifiers : function(){

      var mask = 0;
      var evt = this._native;
      if(evt.shiftKey){

        mask |= qx.event.type.Dom.SHIFT_MASK;
      };
      if(evt.ctrlKey){

        mask |= qx.event.type.Dom.CTRL_MASK;
      };
      if(evt.altKey){

        mask |= qx.event.type.Dom.ALT_MASK;
      };
      if(evt.metaKey){

        mask |= qx.event.type.Dom.META_MASK;
      };
      return mask;
    },
    isCtrlPressed : function(){

      return this._native.ctrlKey;
    },
    isShiftPressed : function(){

      return this._native.shiftKey;
    },
    isAltPressed : function(){

      return this._native.altKey;
    },
    isMetaPressed : function(){

      return this._native.metaKey;
    },
    isCtrlOrCommandPressed : function(){

      if(qx.core.Environment.get("os.name") == "osx" && qx.core.Environment.get("engine.name") != "opera"){

        return this._native.metaKey;
      } else {

        return this._native.ctrlKey;
      };
    }
  }
});

qx.Class.define("qx.event.type.Mouse", {
  extend : qx.event.type.Dom,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.button = nativeEvent.button;
      clone.clientX = Math.round(nativeEvent.clientX);
      clone.clientY = Math.round(nativeEvent.clientY);
      clone.pageX = nativeEvent.pageX ? Math.round(nativeEvent.pageX) : undefined;
      clone.pageY = nativeEvent.pageY ? Math.round(nativeEvent.pageY) : undefined;
      clone.screenX = Math.round(nativeEvent.screenX);
      clone.screenY = Math.round(nativeEvent.screenY);
      clone.wheelDelta = nativeEvent.wheelDelta;
      clone.wheelDeltaX = nativeEvent.wheelDeltaX;
      clone.wheelDeltaY = nativeEvent.wheelDeltaY;
      clone.delta = nativeEvent.delta;
      clone.deltaX = nativeEvent.deltaX;
      clone.deltaY = nativeEvent.deltaY;
      clone.deltaZ = nativeEvent.deltaZ;
      clone.detail = nativeEvent.detail;
      clone.axis = nativeEvent.axis;
      clone.wheelX = nativeEvent.wheelX;
      clone.wheelY = nativeEvent.wheelY;
      clone.HORIZONTAL_AXIS = nativeEvent.HORIZONTAL_AXIS;
      clone.srcElement = nativeEvent.srcElement;
      clone.target = nativeEvent.target;
      return clone;
    },
    __buttonsDom2EventModel : {
      '0' : "left",
      '2' : "right",
      '1' : "middle"
    },
    __buttonsDom3EventModel : {
      '0' : "none",
      '1' : "left",
      '2' : "right",
      '4' : "middle"
    },
    __buttonsMshtmlEventModel : {
      '1' : "left",
      '2' : "right",
      '4' : "middle"
    },
    stop : function(){

      this.stopPropagation();
    },
    getButton : function(){

      switch(this._type){case "contextmenu":
      return "right";case "click":
      if(qx.core.Environment.get("browser.name") === "ie" && qx.core.Environment.get("browser.documentmode") < 9){

        return "left";
      };default:
      if(!(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") <= 8)){

        if(this._native.button === -1){

          return this.__buttonsDom3EventModel[this._native.buttons] || "none";
        };
        return this.__buttonsDom2EventModel[this._native.button] || "none";
      } else {

        return this.__buttonsMshtmlEventModel[this._native.button] || "none";
      };};
    },
    isLeftPressed : function(){

      return this.getButton() === "left";
    },
    isMiddlePressed : function(){

      return this.getButton() === "middle";
    },
    isRightPressed : function(){

      return this.getButton() === "right";
    },
    getRelatedTarget : function(){

      return this._relatedTarget;
    },
    getViewportLeft : function(){

      return Math.round(this._native.clientX);
    },
    getViewportTop : function(){

      return Math.round(this._native.clientY);
    },
    getDocumentLeft : function(){

      if(this._native.pageX !== undefined){

        return Math.round(this._native.pageX);
      } else if(this._native.srcElement){

        var win = qx.dom.Node.getWindow(this._native.srcElement);
        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(win);
      } else {

        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(window);
      };
    },
    getDocumentTop : function(){

      if(this._native.pageY !== undefined){

        return Math.round(this._native.pageY);
      } else if(this._native.srcElement){

        var win = qx.dom.Node.getWindow(this._native.srcElement);
        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(win);
      } else {

        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(window);
      };
    },
    getScreenLeft : function(){

      return Math.round(this._native.screenX);
    },
    getScreenTop : function(){

      return Math.round(this._native.screenY);
    }
  }
});

qx.Class.define("qx.event.type.Pointer", {
  extend : qx.event.type.Mouse,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      clone = this.base(arguments, nativeEvent, clone);
      clone.pointerId = nativeEvent.pointerId;
      clone.width = nativeEvent.width;
      clone.height = nativeEvent.height;
      clone.pressure = nativeEvent.pressure;
      clone.tiltX = nativeEvent.tiltX;
      clone.tiltY = nativeEvent.tiltY;
      clone.pointerType = nativeEvent.pointerType;
      clone.isPrimary = nativeEvent.isPrimary;
      clone._original = nativeEvent._original;
      clone.MSPOINTER_TYPE_MOUSE = nativeEvent.MSPOINTER_TYPE_MOUSE;
      clone.MSPOINTER_TYPE_PEN = nativeEvent.MSPOINTER_TYPE_PEN;
      clone.MSPOINTER_TYPE_TOUCH = nativeEvent.MSPOINTER_TYPE_TOUCH;
      return clone;
    },
    getDocumentLeft : function(){

      var x = this.base(arguments);
      if(x == 0 && this.getPointerType() == "touch"){

        x = Math.round(this._native._original.changedTouches[0].pageX) || 0;
      };
      return x;
    },
    getDocumentTop : function(){

      var y = this.base(arguments);
      if(y == 0 && this.getPointerType() == "touch"){

        y = Math.round(this._native._original.changedTouches[0].pageY) || 0;
      };
      return y;
    },
    getPointerId : function(){

      return this._native.pointerId || 0;
    },
    getWidth : function(){

      return this._native.width || 0;
    },
    getHeight : function(){

      return this._native.height || 0;
    },
    getPressure : function(){

      return this._native.pressure || 0;
    },
    getTiltX : function(){

      return this._native.tiltX || 0;
    },
    getTiltY : function(){

      return this._native.tiltY || 0;
    },
    getOriginalTarget : function(){

      if(this._native && this._native._original){

        var orig = this._native._original;
        try{

          if(orig.type.indexOf("touch") == 0){

            if(orig.changedTouches[0]){

              return document.elementFromPoint(orig.changedTouches[0].clientX, orig.changedTouches[0].clientY);
            };
          };
        } catch(ex) {

          return qx.bom.Event.getTarget(this._native);
        };
        return qx.bom.Event.getTarget(orig);
      } else if(this._native){

        return qx.bom.Event.getTarget(this._native);
      };
      return this.base(arguments);
    },
    getPointerType : function(){

      if(typeof this._native.pointerType == "string"){

        return this._native.pointerType;
      };
      if(typeof this._native.pointerType == "number"){

        if(this._native.pointerType == this._native.MSPOINTER_TYPE_MOUSE){

          return "mouse";
        };
        if(this._native.pointerType == this._native.MSPOINTER_TYPE_PEN){

          return "pen";
        };
        if(this._native.pointerType == this._native.MSPOINTER_TYPE_TOUCH){

          return "touch";
        };
      };
      return "";
    },
    isPrimary : function(){

      return !!this._native.isPrimary;
    }
  }
});

qx.Class.define("qx.event.handler.Pointer", {
  extend : qx.event.handler.PointerCore,
  implement : qx.event.IEventHandler,
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      pointermove : 1,
      pointerover : 1,
      pointerout : 1,
      pointerdown : 1,
      pointerup : 1,
      pointercancel : 1,
      gesturebegin : 1,
      gesturemove : 1,
      gesturefinish : 1,
      gesturecancel : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,
    IGNORE_CAN_HANDLE : true
  },
  construct : function(manager){

    this.__manager = manager;
    this.__window = manager.getWindow();
    this.__root = this.__window.document;
    qx.event.handler.PointerCore.apply(this, [this.__root]);
    this.__root.$$pointerHandler = this;
  },
  members : {
    __manager : null,
    __window : null,
    __root : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _initPointerObserver : function(){

      var useEmitter = false;
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

        useEmitter = true;
      };
      this._initObserver(this._onPointerEvent, useEmitter);
    },
    _fireEvent : function(domEvent, type, target){

      if(!target){

        target = qx.bom.Event.getTarget(domEvent);
      };
      if(!type){

        type = domEvent.type;
      };
      type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[type] || type;
      if(target && target.nodeType){

        qx.event.type.dom.Pointer.normalize(domEvent);
        domEvent.srcElement = target;
        qx.event.Registration.fireEvent(target, type, qx.event.type.Pointer, [domEvent, target, null, true, true]);
        if(type == "pointerdown" || type == "pointerup" || type == "pointermove" || type == "pointercancel"){

          qx.event.Registration.fireEvent(this.__root, qx.event.handler.PointerCore.POINTER_TO_GESTURE_MAPPING[type], qx.event.type.Pointer, [domEvent, target, null, false, false]);
        };
        qx.event.Registration.fireEvent(this.__window, "useraction", qx.event.type.Data, [type]);
      };
    },
    _onPointerEvent : function(domEvent){

      var type = qx.event.handler.PointerCore.MSPOINTER_TO_POINTER_MAPPING[domEvent.type] || domEvent.type;
      this._fireEvent(domEvent, type, qx.bom.Event.getTarget(domEvent));
    },
    dispose : function(){

      this.__callBase("dispose");
      this.__manager = this.__window = this.__root = null;
    },
    __callBase : function(method, args){

      qx.event.handler.PointerCore.prototype[method].apply(this, args || []);
    }
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
    qx.event.Registration.getManager(document).getHandler(statics);
  }
});

qx.Class.define("qx.event.type.Tap", {
  extend : qx.event.type.Pointer
});

qx.Class.define("qx.event.type.Track", {
  extend : qx.event.type.Pointer,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.delta = nativeEvent.delta;
      return clone;
    },
    getDelta : function(){

      return this._native.delta;
    }
  }
});

qx.Class.define("qx.event.type.Swipe", {
  extend : qx.event.type.Pointer,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.swipe = nativeEvent.swipe;
      return clone;
    },
    getStartTime : function(){

      return this._native.swipe.startTime;
    },
    getDuration : function(){

      return this._native.swipe.duration;
    },
    getAxis : function(){

      return this._native.swipe.axis;
    },
    getDirection : function(){

      return this._native.swipe.direction;
    },
    getVelocity : function(){

      return this._native.swipe.velocity;
    },
    getDistance : function(){

      return this._native.swipe.distance;
    }
  }
});

qx.Class.define("qx.event.type.Rotate", {
  extend : qx.event.type.Pointer,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.angle = nativeEvent.angle;
      return clone;
    },
    getAngle : function(){

      return this._native.angle;
    }
  }
});

qx.Class.define("qx.event.type.Roll", {
  extend : qx.event.type.Pointer,
  members : {
    stop : function(){

      this.stopPropagation();
      this.preventDefault();
    },
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.delta = nativeEvent.delta;
      clone.momentum = nativeEvent.momentum;
      clone.timeoutId = nativeEvent.timeoutId;
      return clone;
    },
    getMomentum : function(){

      return this._native.momentum;
    },
    stopMomentum : function(){

      if(this._native.timeoutId){

        qx.event.Registration.getManager(this._originalTarget).getHandler(qx.event.handler.Gesture).stopMomentum(this._native.timeoutId);
      };
    },
    getDelta : function(){

      return this._native.delta;
    }
  }
});

qx.Class.define("qx.event.type.Pinch", {
  extend : qx.event.type.Pointer,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.scale = nativeEvent.scale;
      return clone;
    },
    getScale : function(){

      return this._native.scale;
    }
  }
});

qx.Bootstrap.define("qx.event.handler.GestureCore", {
  extend : Object,
  statics : {
    TYPES : ["tap", "swipe", "longtap", "dbltap", "track", "trackstart", "trackend", "rotate", "pinch", "roll"],
    GESTURE_EVENTS : ["gesturebegin", "gesturefinish", "gesturemove", "gesturecancel"],
    TAP_MAX_DISTANCE : {
      "touch" : 40,
      "mouse" : 50,
      "pen" : 20
    },
    SWIPE_DIRECTION : {
      x : ["left", "right"],
      y : ["up", "down"]
    },
    LONGTAP_TIME : 500,
    DOUBLETAP_TIME : 500,
    ROLL_FACTOR : 18
  },
  construct : function(target, emitter){

    this.__defaultTarget = target;
    this.__emitter = emitter;
    this.__gesture = {
    };
    this.__lastTap = {
    };
    this.__stopMomentum = {
    };
    this._initObserver();
  },
  members : {
    __defaultTarget : null,
    __emitter : null,
    __gesture : null,
    __eventName : null,
    __primaryTarget : null,
    __isMultiPointerGesture : null,
    __initialAngle : null,
    __lastTap : null,
    __rollImpulseId : null,
    __stopMomentum : null,
    __initialDistance : null,
    _initObserver : function(){

      qx.event.handler.GestureCore.TYPES.forEach(function(type){

        if(!this.__defaultTarget["on" + type]){

          this.__defaultTarget["on" + type] = true;
        };
      }.bind(this));
      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(gestureType){

        qxWeb(this.__defaultTarget).on(gestureType, this.checkAndFireGesture, this);
      }.bind(this));
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

        qxWeb(this.__defaultTarget).on("dblclick", this._onDblClick, this);
      };
      var data = qx.core.Environment.get("event.mousewheel");
      qxWeb(data.target).on(data.type, this._fireRoll, this);
    },
    _stopObserver : function(){

      qx.event.handler.GestureCore.GESTURE_EVENTS.forEach(function(pointerType){

        qxWeb(this.__defaultTarget).off(pointerType, this.checkAndFireGesture, this);
      }.bind(this));
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

        qxWeb(this.__defaultTarget).off("dblclick", this._onDblClick, this);
      };
      var data = qx.core.Environment.get("event.mousewheel");
      qxWeb(data.target).off(data.type, this._fireRoll, this);
    },
    checkAndFireGesture : function(domEvent, type, target){

      if(!type){

        type = domEvent.type;
      };
      if(!target){

        target = qx.bom.Event.getTarget(domEvent);
      };
      if(type == "gesturebegin"){

        this.gestureBegin(domEvent, target);
      } else if(type == "gesturemove"){

        this.gestureMove(domEvent, target);
      } else if(type == "gesturefinish"){

        this.gestureFinish(domEvent, target);
      } else if(type == "gesturecancel"){

        this.gestureCancel(domEvent.pointerId);
      };;;
    },
    gestureBegin : function(domEvent, target){

      if(this.__gesture[domEvent.pointerId]){

        this.__stopLongTapTimer(this.__gesture[domEvent.pointerId]);
        delete this.__gesture[domEvent.pointerId];
      };
      this.__gesture[domEvent.pointerId] = {
        "startTime" : new Date().getTime(),
        "lastEventTime" : new Date().getTime(),
        "startX" : domEvent.clientX,
        "startY" : domEvent.clientY,
        "clientX" : domEvent.clientX,
        "clientY" : domEvent.clientY,
        "velocityX" : 0,
        "velocityY" : 0,
        "target" : target,
        "isTap" : true,
        "isPrimary" : domEvent.isPrimary,
        "longTapTimer" : window.setTimeout(this.__fireLongTap.bind(this, domEvent, target), qx.event.handler.GestureCore.LONGTAP_TIME)
      };
      if(domEvent.isPrimary){

        this.__isMultiPointerGesture = false;
        this.__primaryTarget = target;
        this.__fireTrack("trackstart", domEvent, target);
      } else {

        this.__isMultiPointerGesture = true;
        if(Object.keys(this.__gesture).length === 2){

          this.__initialAngle = this._calcAngle();
          this.__initialDistance = this._calcDistance();
        };
      };
    },
    gestureMove : function(domEvent, target){

      var gesture = this.__gesture[domEvent.pointerId];
      if(gesture){

        var oldClientX = gesture.clientX;
        var oldClientY = gesture.clientY;
        gesture.clientX = domEvent.clientX;
        gesture.clientY = domEvent.clientY;
        gesture.lastEventTime = new Date().getTime();
        if(oldClientX){

          gesture.velocityX = gesture.clientX - oldClientX;
        };
        if(oldClientY){

          gesture.velocityY = gesture.clientY - oldClientY;
        };
        if(Object.keys(this.__gesture).length === 2){

          this.__fireRotate(domEvent, gesture.target);
          this.__firePinch(domEvent, gesture.target);
        };
        if(!this.__isMultiPointerGesture){

          this.__fireTrack("track", domEvent, gesture.target);
          this._fireRoll(domEvent, "touch", gesture.target);
        };
        if(gesture.isTap){

          gesture.isTap = this._isBelowTapMaxDistance(domEvent);
          if(!gesture.isTap){

            this.__stopLongTapTimer(gesture);
          };
        };
      };
    },
    _hasIntermediaryHandler : function(target){

      while(target && target !== this.__defaultTarget){

        if(target.$$gestureHandler){

          return true;
        };
        target = target.parentNode;
      };
      return false;
    },
    gestureFinish : function(domEvent, target){

      if(!this.__gesture[domEvent.pointerId]){

        return;
      };
      var gesture = this.__gesture[domEvent.pointerId];
      this.__stopLongTapTimer(gesture);
      if(this._hasIntermediaryHandler(target)){

        return;
      };
      this.__handleRollImpulse(gesture.velocityX, gesture.velocityY, domEvent, gesture.target);
      this.__fireTrack("trackend", domEvent, gesture.target);
      if(gesture.isTap){

        if(target !== gesture.target){

          delete this.__gesture[domEvent.pointerId];
          return;
        };
        this._fireEvent(domEvent, "tap", domEvent.target || target);
        if(Object.keys(this.__lastTap).length > 0){

          var limit = Date.now() - qx.event.handler.GestureCore.DOUBLETAP_TIME;
          for(var time in this.__lastTap){

            if(time < limit){

              delete this.__lastTap[time];
            } else {

              if(this.__isBelowDoubleTapDistance(this.__lastTap[time].x, this.__lastTap[time].y, domEvent.clientX, domEvent.clientY, domEvent.getPointerType())){

                this._fireEvent(domEvent, "dbltap", domEvent.target || target);
              };
            };
          };
        };
        this.__lastTap[Date.now()] = {
          x : domEvent.clientX,
          y : domEvent.clientY
        };
      } else if(!this._isBelowTapMaxDistance(domEvent)){

        var swipe = this.__getSwipeGesture(domEvent, target);
        if(swipe){

          domEvent.swipe = swipe;
          this._fireEvent(domEvent, "swipe", domEvent.target || target);
        };
      };
      delete this.__gesture[domEvent.pointerId];
    },
    stopMomentum : function(id){

      this.__stopMomentum[id] = true;
    },
    gestureCancel : function(id){

      if(this.__gesture[id]){

        this.__stopLongTapTimer(this.__gesture[id]);
        delete this.__gesture[id];
      };
    },
    updateGestureTarget : function(id, target){

      this.__gesture[id].target = target;
    },
    __handleRollImpulse : function(deltaX, deltaY, domEvent, target, time){

      var oldTimeoutId = domEvent.timeoutId;
      if((Math.abs(deltaY) < 1 && Math.abs(deltaX) < 1) || this.__stopMomentum[oldTimeoutId]){

        delete this.__stopMomentum[oldTimeoutId];
        return;
      };
      if(!time){

        time = 1;
        var startFactor = 2.8;
        deltaY = deltaY / startFactor;
        deltaX = deltaX / startFactor;
      };
      time += 0.0006;
      deltaY = deltaY / time;
      deltaX = deltaX / time;
      var timeoutId = qx.bom.AnimationFrame.request(qx.lang.Function.bind(function(deltaX, deltaY, domEvent, target, time){

        this.__handleRollImpulse(deltaX, deltaY, domEvent, target, time);
      }, this, deltaX, deltaY, domEvent, target, time));
      deltaX = Math.round(deltaX * 100) / 100;
      deltaY = Math.round(deltaY * 100) / 100;
      domEvent.delta = {
        x : -deltaX,
        y : -deltaY
      };
      domEvent.momentum = true;
      domEvent.timeoutId = timeoutId;
      this._fireEvent(domEvent, "roll", domEvent.target || target);
    },
    _calcAngle : function(){

      var pointerA = null;
      var pointerB = null;
      for(var pointerId in this.__gesture){

        var gesture = this.__gesture[pointerId];
        if(pointerA === null){

          pointerA = gesture;
        } else {

          pointerB = gesture;
        };
      };
      var x = pointerA.clientX - pointerB.clientX;
      var y = pointerA.clientY - pointerB.clientY;
      return (360 + Math.atan2(y, x) * (180 / Math.PI)) % 360;
    },
    _calcDistance : function(){

      var pointerA = null;
      var pointerB = null;
      for(var pointerId in this.__gesture){

        var gesture = this.__gesture[pointerId];
        if(pointerA === null){

          pointerA = gesture;
        } else {

          pointerB = gesture;
        };
      };
      var scale = Math.sqrt(Math.pow(pointerA.clientX - pointerB.clientX, 2) + Math.pow(pointerA.clientY - pointerB.clientY, 2));
      return scale;
    },
    _isBelowTapMaxDistance : function(domEvent){

      var delta = this._getDeltaCoordinates(domEvent);
      var maxDistance = qx.event.handler.GestureCore.TAP_MAX_DISTANCE[domEvent.getPointerType()];
      if(!delta){

        return null;
      };
      return (Math.abs(delta.x) <= maxDistance && Math.abs(delta.y) <= maxDistance);
    },
    __isBelowDoubleTapDistance : function(x1, y1, x2, y2, type){

      var clazz = qx.event.handler.GestureCore;
      var inX = Math.abs(x1 - x2) < clazz.TAP_MAX_DISTANCE[type];
      var inY = Math.abs(y1 - y2) < clazz.TAP_MAX_DISTANCE[type];
      return inX && inY;
    },
    _getDeltaCoordinates : function(domEvent){

      var gesture = this.__gesture[domEvent.pointerId];
      if(!gesture){

        return null;
      };
      var deltaX = domEvent.clientX - gesture.startX;
      var deltaY = domEvent.clientY - gesture.startY;
      var axis = "x";
      if(Math.abs(deltaX / deltaY) < 1){

        axis = "y";
      };
      return {
        "x" : deltaX,
        "y" : deltaY,
        "axis" : axis
      };
    },
    _fireEvent : function(domEvent, type, target){

      if(!this.__defaultTarget){

        return;
      };
      var evt;
      if(qx.core.Environment.get("event.dispatchevent")){

        evt = new qx.event.type.dom.Custom(type, domEvent, {
          bubbles : true,
          swipe : domEvent.swipe,
          scale : domEvent.scale,
          angle : domEvent.angle,
          delta : domEvent.delta,
          pointerType : domEvent.pointerType,
          momentum : domEvent.momentum
        });
        target.dispatchEvent(evt);
      } else if(this.__emitter){

        evt = new qx.event.type.dom.Custom(type, domEvent, {
          target : this.__defaultTarget,
          currentTarget : this.__defaultTarget,
          srcElement : this.__defaultTarget,
          swipe : domEvent.swipe,
          scale : domEvent.scale,
          angle : domEvent.angle,
          delta : domEvent.delta,
          pointerType : domEvent.pointerType,
          momentum : domEvent.momentum
        });
        this.__emitter.emit(type, domEvent);
      };
    },
    _onDblClick : function(domEvent){

      var target = qx.bom.Event.getTarget(domEvent);
      this._fireEvent(domEvent, "tap", target);
      this._fireEvent(domEvent, "dbltap", target);
    },
    __getSwipeGesture : function(domEvent, target){

      var gesture = this.__gesture[domEvent.pointerId];
      if(!gesture){

        return null;
      };
      var clazz = qx.event.handler.GestureCore;
      var deltaCoordinates = this._getDeltaCoordinates(domEvent);
      var duration = new Date().getTime() - gesture.startTime;
      var axis = (Math.abs(deltaCoordinates.x) >= Math.abs(deltaCoordinates.y)) ? "x" : "y";
      var distance = deltaCoordinates[axis];
      var direction = clazz.SWIPE_DIRECTION[axis][distance < 0 ? 0 : 1];
      var velocity = (duration !== 0) ? distance / duration : 0;
      var swipe = {
        startTime : gesture.startTime,
        duration : duration,
        axis : axis,
        direction : direction,
        distance : distance,
        velocity : velocity
      };
      return swipe;
    },
    __fireTrack : function(type, domEvent, target){

      domEvent.delta = this._getDeltaCoordinates(domEvent);
      this._fireEvent(domEvent, type, domEvent.target || target);
    },
    _fireRoll : function(domEvent, type, target){

      if(domEvent.type === qx.core.Environment.get("event.mousewheel").type){

        domEvent.delta = {
          x : qx.util.Wheel.getDelta(domEvent, "x") * qx.event.handler.GestureCore.ROLL_FACTOR,
          y : qx.util.Wheel.getDelta(domEvent, "y") * qx.event.handler.GestureCore.ROLL_FACTOR
        };
        domEvent.delta.axis = Math.abs(domEvent.delta.x / domEvent.delta.y) < 1 ? "y" : "x";
        domEvent.pointerType = "wheel";
      } else {

        var gesture = this.__gesture[domEvent.pointerId];
        domEvent.delta = {
          x : -gesture.velocityX,
          y : -gesture.velocityY,
          axis : Math.abs(gesture.velocityX / gesture.velocityY) < 1 ? "y" : "x"
        };
      };
      this._fireEvent(domEvent, "roll", domEvent.target || target);
    },
    __fireRotate : function(domEvent, target){

      if(!domEvent.isPrimary){

        var angle = this._calcAngle();
        domEvent.angle = Math.round((angle - this.__initialAngle) % 360);
        this._fireEvent(domEvent, "rotate", this.__primaryTarget);
      };
    },
    __firePinch : function(domEvent, target){

      if(!domEvent.isPrimary){

        var distance = this._calcDistance();
        var scale = distance / this.__initialDistance;
        domEvent.scale = (Math.round(scale * 100) / 100);
        this._fireEvent(domEvent, "pinch", this.__primaryTarget);
      };
    },
    __fireLongTap : function(domEvent, target){

      var gesture = this.__gesture[domEvent.pointerId];
      if(gesture){

        this._fireEvent(domEvent, "longtap", domEvent.target || target);
        gesture.longTapTimer = null;
        gesture.isTap = false;
      };
    },
    __stopLongTapTimer : function(gesture){

      if(gesture.longTapTimer){

        window.clearTimeout(gesture.longTapTimer);
        gesture.longTapTimer = null;
      };
    },
    isBelowTapMaxDistance : function(event){

      var deltaCoordinates = this._calcDelta(event);
      var clazz = qx.event.handler.GestureCore;
      return (Math.abs(deltaCoordinates.x) <= clazz.TAP_MAX_DISTANCE && Math.abs(deltaCoordinates.y) <= clazz.TAP_MAX_DISTANCE);
    },
    dispose : function(){

      for(var gesture in this.__gesture){

        this.__stopLongTapTimer(gesture);
      };
      this._stopObserver();
      this.__defaultTarget = this.__emitter = null;
    }
  }
});

qx.Bootstrap.define("qx.util.Wheel", {
  statics : {
    MAXSCROLL : null,
    MINSCROLL : null,
    FACTOR : 1,
    getDelta : function(domEvent, axis){

      if(axis === undefined){

        var delta = 0;
        if(domEvent.wheelDelta !== undefined){

          delta = -domEvent.wheelDelta;
        } else if(domEvent.detail !== 0){

          delta = domEvent.detail;
        } else if(domEvent.deltaY !== undefined){

          delta = domEvent.deltaY;
        };;
        return this.__normalize(delta);
      };
      if(axis === "x"){

        var x = 0;
        if(domEvent.wheelDelta !== undefined){

          if(domEvent.wheelDeltaX !== undefined){

            x = domEvent.wheelDeltaX ? this.__normalize(-domEvent.wheelDeltaX) : 0;
          };
        } else {

          if(domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS){

            if((domEvent.detail !== undefined) && (domEvent.detail > 0)){

              x = this.__normalize(domEvent.detail);
            } else if(domEvent.deltaX !== undefined){

              x = this.__normalize(domEvent.deltaX);
            };
          };
        };
        return x;
      };
      if(axis === "y"){

        var y = 0;
        if(domEvent.wheelDelta !== undefined){

          if(domEvent.wheelDeltaY !== undefined){

            y = domEvent.wheelDeltaY ? this.__normalize(-domEvent.wheelDeltaY) : 0;
          } else {

            y = this.__normalize(-domEvent.wheelDelta);
          };
        } else {

          if(!(domEvent.axis && domEvent.axis == domEvent.HORIZONTAL_AXIS)){

            if((domEvent.detail !== undefined) && (domEvent.detail > 0)){

              y = this.__normalize(domEvent.detail);
            } else if(domEvent.deltaY !== undefined){

              y = this.__normalize(domEvent.deltaY);
            };
          };
        };
        return y;
      };
      return 0;
    },
    __normalize : function(delta){

      var absDelta = Math.abs(delta);
      if(qx.util.Wheel.MINSCROLL == null || qx.util.Wheel.MINSCROLL > absDelta){

        qx.util.Wheel.MINSCROLL = absDelta;
        this.__recalculateMultiplicator();
      };
      if(qx.util.Wheel.MAXSCROLL == null || qx.util.Wheel.MAXSCROLL < absDelta){

        qx.util.Wheel.MAXSCROLL = absDelta;
        this.__recalculateMultiplicator();
      };
      if(qx.util.Wheel.MAXSCROLL === absDelta && qx.util.Wheel.MINSCROLL === absDelta){

        return 2 * (delta / absDelta);
      };
      var range = qx.util.Wheel.MAXSCROLL - qx.util.Wheel.MINSCROLL;
      var ret = (delta / range) * Math.log(range) * qx.util.Wheel.FACTOR;
      return ret < 0 ? Math.min(ret, -1) : Math.max(ret, 1);
    },
    __recalculateMultiplicator : function(){

      var max = qx.util.Wheel.MAXSCROLL || 0;
      var min = qx.util.Wheel.MINSCROLL || max;
      if(max <= min){

        return;
      };
      var range = max - min;
      var maxRet = (max / range) * Math.log(range);
      if(maxRet == 0){

        maxRet = 1;
      };
      qx.util.Wheel.FACTOR = 6 / maxRet;
    }
  }
});

qx.Class.define("qx.event.handler.Gesture", {
  extend : qx.event.handler.GestureCore,
  implement : qx.event.IEventHandler,
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      tap : 1,
      swipe : 1,
      longtap : 1,
      dbltap : 1,
      rotate : 1,
      pinch : 1,
      track : 1,
      trackstart : 1,
      trackend : 1,
      roll : 1
    },
    GESTURE_EVENTS : ["gesturebegin", "gesturefinish", "gesturemove", "gesturecancel"],
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,
    IGNORE_CAN_HANDLE : true,
    EVENT_CLASSES : {
      "tap" : qx.event.type.Tap,
      "longtap" : qx.event.type.Tap,
      "dbltap" : qx.event.type.Tap,
      "swipe" : qx.event.type.Swipe,
      "rotate" : qx.event.type.Rotate,
      "pinch" : qx.event.type.Pinch,
      "track" : qx.event.type.Track,
      "trackstart" : qx.event.type.Track,
      "trackend" : qx.event.type.Track,
      "roll" : qx.event.type.Roll
    }
  },
  construct : function(manager){

    this.__manager = manager;
    this.__window = manager.getWindow();
    this.__root = this.__window.document;
    qx.event.handler.GestureCore.apply(this, [this.__root]);
  },
  members : {
    __manager : null,
    __window : null,
    __root : null,
    __listener : null,
    __onDblClickWrapped : null,
    __fireRollWrapped : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _initObserver : function(){

      this.__listener = qx.lang.Function.listener(this.checkAndFireGesture, this);
      qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(type){

        qx.event.Registration.addListener(this.__root, type, this.__listener, this);
      }.bind(this));
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

        this.__onDblClickWrapped = qx.lang.Function.listener(this._onDblClick, this);
        qx.bom.Event.addNativeListener(this.__root, "dblclick", this.__onDblClickWrapped);
      };
      var data = qx.bom.client.Event.getMouseWheel(this.__window);
      this.__fireRollWrapped = qx.lang.Function.listener(this._fireRoll, this);
      qx.bom.Event.addNativeListener(data.target, data.type, this.__fireRollWrapped, this);
    },
    checkAndFireGesture : function(pointerEvent, type, target){

      this.__callBase("checkAndFireGesture", [pointerEvent.getNativeEvent(), pointerEvent.getType(), pointerEvent.getTarget()]);
    },
    _stopObserver : function(){

      qx.event.handler.Gesture.GESTURE_EVENTS.forEach(function(type){

        qx.event.Registration.removeListener(this.__root, type, this.__listener);
      }.bind(this));
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

        qx.bom.Event.removeNativeListener(this.__root, "dblclick", this.__onDblClickWrapped);
      };
      var data = qx.bom.client.Event.getMouseWheel(this.__window);
      qx.bom.Event.removeNativeListener(data.target, data.type, this.__fireRollWrapped);
    },
    _hasIntermediaryHandler : function(target){

      return false;
    },
    _fireEvent : function(domEvent, type, target){

      if(!target){

        target = qx.bom.Event.getTarget(domEvent);
      };
      if(!type){

        type = domEvent.type;
      };
      var eventTypeClass = qx.event.handler.Gesture.EVENT_CLASSES[type] || qx.event.type.Pointer;
      if(target && target.nodeType){

        qx.event.Registration.fireEvent(target, type, eventTypeClass, [domEvent, target, null, true, true]);
      };
      qx.event.Registration.fireEvent(this.__window, "useraction", qx.event.type.Data, [type]);
    },
    dispose : function(){

      this._stopObserver();
      this.__callBase("dispose");
      this.__manager = this.__window = this.__root = this.__onDblClickWrapped = null;
    },
    __callBase : function(method, args){

      qx.event.handler.GestureCore.prototype[method].apply(this, args || []);
    }
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
    qx.event.Registration.getManager(document).getHandler(statics);
  }
});

qx.Class.define("qx.event.handler.Element", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this._manager = manager;
    this._registeredEvents = {
    };
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      abort : true,
      load : true,
      scroll : true,
      select : true,
      reset : true,
      submit : true
    },
    CANCELABLE : {
      selectstart : true
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : false
  },
  members : {
    canHandleEvent : function(target, type){

      if(type === "load"){

        return target.tagName.toLowerCase() !== "iframe";
      } else {

        return true;
      };
    },
    registerEvent : function(target, type, capture){

      var elementId = qx.core.ObjectRegistry.toHashCode(target);
      var eventId = elementId + "-" + type;
      var listener = qx.lang.Function.listener(this._onNative, this, eventId);
      qx.bom.Event.addNativeListener(target, type, listener);
      this._registeredEvents[eventId] = {
        element : target,
        type : type,
        listener : listener
      };
    },
    unregisterEvent : function(target, type, capture){

      var events = this._registeredEvents;
      if(!events){

        return;
      };
      var elementId = qx.core.ObjectRegistry.toHashCode(target);
      var eventId = elementId + "-" + type;
      var eventData = this._registeredEvents[eventId];
      if(eventData){

        qx.bom.Event.removeNativeListener(target, type, eventData.listener);
      };
      delete this._registeredEvents[eventId];
    },
    _onNative : qx.event.GlobalError.observeMethod(function(nativeEvent, eventId){

      var events = this._registeredEvents;
      if(!events){

        return;
      };
      var eventData = events[eventId];
      var isCancelable = this.constructor.CANCELABLE[eventData.type];
      qx.event.Registration.fireNonBubblingEvent(eventData.element, eventData.type, qx.event.type.Native, [nativeEvent, undefined, undefined, undefined, isCancelable]);
    })
  },
  destruct : function(){

    var entry;
    var events = this._registeredEvents;
    for(var id in events){

      entry = events[id];
      qx.bom.Event.removeNativeListener(entry.element, entry.type, entry.listener);
    };
    this._manager = this._registeredEvents = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.handler.UserAction", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__window = manager.getWindow();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      useraction : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    __manager : null,
    __window : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    }
  },
  destruct : function(){

    this.__manager = this.__window = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.handler.Mouse", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__window = manager.getWindow();
    this.__root = this.__window.document;
    this._initButtonObserver();
    this._initMoveObserver();
    this._initWheelObserver();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      mousemove : 1,
      mouseover : 1,
      mouseout : 1,
      mousedown : 1,
      mouseup : 1,
      click : 1,
      dblclick : 1,
      contextmenu : 1,
      mousewheel : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT + qx.event.IEventHandler.TARGET_WINDOW,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    __onButtonEventWrapper : null,
    __onMoveEventWrapper : null,
    __onWheelEventWrapper : null,
    __lastEventType : null,
    __lastMouseDownTarget : null,
    __manager : null,
    __window : null,
    __root : null,
    __preventNextClick : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : qx.core.Environment.get("os.name") === "ios" ? function(target, type, capture){

      target["on" + type] = (function(){

        return null;
      });
    } : (function(){

      return null;
    }),
    unregisterEvent : qx.core.Environment.get("os.name") === "ios" ? function(target, type, capture){

      target["on" + type] = undefined;
    } : (function(){

      return null;
    }),
    __fireEvent : function(domEvent, type, target){

      if(!target){

        target = qx.bom.Event.getTarget(domEvent);
      };
      if(target && target.nodeType){

        qx.event.Registration.fireEvent(target, type || domEvent.type, type == "mousewheel" ? qx.event.type.MouseWheel : qx.event.type.Mouse, [domEvent, target, null, true, true]);
      };
      qx.event.Registration.fireEvent(this.__window, "useraction", qx.event.type.Data, [type || domEvent.type]);
    },
    preventNextClick : function(){

      this.__preventNextClick = true;
    },
    _initButtonObserver : function(){

      this.__onButtonEventWrapper = qx.lang.Function.listener(this._onButtonEvent, this);
      var Event = qx.bom.Event;
      Event.addNativeListener(this.__root, "mousedown", this.__onButtonEventWrapper);
      Event.addNativeListener(this.__root, "mouseup", this.__onButtonEventWrapper);
      Event.addNativeListener(this.__root, "click", this.__onButtonEventWrapper);
      Event.addNativeListener(this.__root, "dblclick", this.__onButtonEventWrapper);
      Event.addNativeListener(this.__root, "contextmenu", this.__onButtonEventWrapper);
    },
    _initMoveObserver : function(){

      this.__onMoveEventWrapper = qx.lang.Function.listener(this._onMoveEvent, this);
      var Event = qx.bom.Event;
      Event.addNativeListener(this.__root, "mousemove", this.__onMoveEventWrapper);
      Event.addNativeListener(this.__root, "mouseover", this.__onMoveEventWrapper);
      Event.addNativeListener(this.__root, "mouseout", this.__onMoveEventWrapper);
    },
    _initWheelObserver : function(){

      this.__onWheelEventWrapper = qx.lang.Function.listener(this._onWheelEvent, this);
      var data = qx.bom.client.Event.getMouseWheel(this.__window);
      qx.bom.Event.addNativeListener(data.target, data.type, this.__onWheelEventWrapper);
    },
    _stopButtonObserver : function(){

      var Event = qx.bom.Event;
      Event.removeNativeListener(this.__root, "mousedown", this.__onButtonEventWrapper);
      Event.removeNativeListener(this.__root, "mouseup", this.__onButtonEventWrapper);
      Event.removeNativeListener(this.__root, "click", this.__onButtonEventWrapper);
      Event.removeNativeListener(this.__root, "dblclick", this.__onButtonEventWrapper);
      Event.removeNativeListener(this.__root, "contextmenu", this.__onButtonEventWrapper);
    },
    _stopMoveObserver : function(){

      var Event = qx.bom.Event;
      Event.removeNativeListener(this.__root, "mousemove", this.__onMoveEventWrapper);
      Event.removeNativeListener(this.__root, "mouseover", this.__onMoveEventWrapper);
      Event.removeNativeListener(this.__root, "mouseout", this.__onMoveEventWrapper);
    },
    _stopWheelObserver : function(){

      var data = qx.bom.client.Event.getMouseWheel(this.__window);
      qx.bom.Event.removeNativeListener(data.target, data.type, this.__onWheelEventWrapper);
    },
    _onMoveEvent : qx.event.GlobalError.observeMethod(function(domEvent){

      this.__fireEvent(domEvent);
    }),
    _onButtonEvent : qx.event.GlobalError.observeMethod(function(domEvent){

      var type = domEvent.type;
      var target = qx.bom.Event.getTarget(domEvent);
      if(type == "click" && this.__preventNextClick){

        delete this.__preventNextClick;
        return;
      };
      if(qx.core.Environment.get("engine.name") == "gecko" || qx.core.Environment.get("engine.name") == "webkit"){

        if(target && target.nodeType == 3){

          target = target.parentNode;
        };
      };
      var isDrag = qx.event.handler.DragDrop && this.__manager.getHandler(qx.event.handler.DragDrop).isSessionActive();
      if(isDrag && type == "click"){

        return;
      };
      if(this.__rightClickFixPre){

        this.__rightClickFixPre(domEvent, type, target);
      };
      if(this.__doubleClickFixPre){

        this.__doubleClickFixPre(domEvent, type, target);
      };
      this.__fireEvent(domEvent, type, target);
      if(this.__rightClickFixPost){

        this.__rightClickFixPost(domEvent, type, target);
      };
      if(this.__differentTargetClickFixPost && !isDrag){

        this.__differentTargetClickFixPost(domEvent, type, target);
      };
      this.__lastEventType = type;
    }),
    _onWheelEvent : qx.event.GlobalError.observeMethod(function(domEvent){

      this.__fireEvent(domEvent, "mousewheel");
    }),
    __rightClickFixPre : qx.core.Environment.select("engine.name", {
      "webkit" : function(domEvent, type, target){

        if(parseFloat(qx.core.Environment.get("engine.version")) < 530){

          if(type == "contextmenu"){

            this.__fireEvent(domEvent, "mouseup", target);
          };
        };
      },
      "default" : null
    }),
    __rightClickFixPost : qx.core.Environment.select("engine.name", {
      "opera" : function(domEvent, type, target){

        if(type == "mouseup" && domEvent.button == 2){

          this.__fireEvent(domEvent, "contextmenu", target);
        };
      },
      "default" : null
    }),
    __doubleClickFixPre : qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent, type, target){

        if(domEvent.target !== undefined){

          return;
        };
        if(type == "mouseup" && this.__lastEventType == "click"){

          this.__fireEvent(domEvent, "mousedown", target);
        } else if(type == "dblclick"){

          this.__fireEvent(domEvent, "click", target);
        };
      },
      "default" : null
    }),
    __differentTargetClickFixPost : qx.core.Environment.select("engine.name", {
      "mshtml" : null,
      "default" : function(domEvent, type, target){

        switch(type){case "mousedown":
        this.__lastMouseDownTarget = target;
        break;case "mouseup":
        if(target !== this.__lastMouseDownTarget){

          var commonParent = qx.dom.Hierarchy.getCommonParent(target, this.__lastMouseDownTarget);
          if(commonParent){

            this.__fireEvent(domEvent, "click", commonParent);
          };
        };};
      }
    })
  },
  destruct : function(){

    this._stopButtonObserver();
    this._stopMoveObserver();
    this._stopWheelObserver();
    this.__manager = this.__window = this.__root = this.__lastMouseDownTarget = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.type.MouseWheel", {
  extend : qx.event.type.Mouse,
  members : {
    stop : function(){

      this.stopPropagation();
      this.preventDefault();
    },
    getWheelDelta : function(axis){

      return qx.util.Wheel.getDelta(this._native, axis);
    }
  }
});

qx.Bootstrap.define("qx.dom.Hierarchy", {
  statics : {
    getNodeIndex : function(node){

      var index = 0;
      while(node && (node = node.previousSibling)){

        index++;
      };
      return index;
    },
    getElementIndex : function(element){

      var index = 0;
      var type = qx.dom.Node.ELEMENT;
      while(element && (element = element.previousSibling)){

        if(element.nodeType == type){

          index++;
        };
      };
      return index;
    },
    getNextElementSibling : function(element){

      while(element && (element = element.nextSibling) && !qx.dom.Node.isElement(element)){

        continue;
      };
      return element || null;
    },
    getPreviousElementSibling : function(element){

      while(element && (element = element.previousSibling) && !qx.dom.Node.isElement(element)){

        continue;
      };
      return element || null;
    },
    contains : function(element, target){

      if(qx.core.Environment.get("html.element.contains")){

        if(qx.dom.Node.isDocument(element)){

          var doc = qx.dom.Node.getDocument(target);
          return element && doc == element;
        } else if(qx.dom.Node.isDocument(target)){

          return false;
        } else {

          return element.contains(target);
        };
      } else if(qx.core.Environment.get("html.element.compareDocumentPosition")){

        return !!(element.compareDocumentPosition(target) & 16);
      } else {

        while(target){

          if(element == target){

            return true;
          };
          target = target.parentNode;
        };
        return false;
      };
    },
    isRendered : function(element){

      var doc = element.ownerDocument || element.document;
      if(qx.core.Environment.get("html.element.contains")){

        if(!element.parentNode){

          return false;
        };
        return doc.body.contains(element);
      } else if(qx.core.Environment.get("html.element.compareDocumentPosition")){

        return !!(doc.compareDocumentPosition(element) & 16);
      } else {

        while(element){

          if(element == doc.body){

            return true;
          };
          element = element.parentNode;
        };
        return false;
      };
    },
    isDescendantOf : function(element, ancestor){

      return this.contains(ancestor, element);
    },
    getCommonParent : function(element1, element2){

      if(element1 === element2){

        return element1;
      };
      if(qx.core.Environment.get("html.element.contains")){

        while(element1 && qx.dom.Node.isElement(element1)){

          if(element1.contains(element2)){

            return element1;
          };
          element1 = element1.parentNode;
        };
        return null;
      } else {

        var known = [];
        while(element1 || element2){

          if(element1){

            if(qx.lang.Array.contains(known, element1)){

              return element1;
            };
            known.push(element1);
            element1 = element1.parentNode;
          };
          if(element2){

            if(qx.lang.Array.contains(known, element2)){

              return element2;
            };
            known.push(element2);
            element2 = element2.parentNode;
          };
        };
        return null;
      };
    },
    getAncestors : function(element){

      return this._recursivelyCollect(element, "parentNode");
    },
    getChildElements : function(element){

      element = element.firstChild;
      if(!element){

        return [];
      };
      var arr = this.getNextSiblings(element);
      if(element.nodeType === 1){

        arr.unshift(element);
      };
      return arr;
    },
    getDescendants : function(element){

      return qx.lang.Array.fromCollection(element.getElementsByTagName("*"));
    },
    getFirstDescendant : function(element){

      element = element.firstChild;
      while(element && element.nodeType != 1){

        element = element.nextSibling;
      };
      return element;
    },
    getLastDescendant : function(element){

      element = element.lastChild;
      while(element && element.nodeType != 1){

        element = element.previousSibling;
      };
      return element;
    },
    getPreviousSiblings : function(element){

      return this._recursivelyCollect(element, "previousSibling");
    },
    getNextSiblings : function(element){

      return this._recursivelyCollect(element, "nextSibling");
    },
    _recursivelyCollect : function(element, property){

      var list = [];
      while(element = element[property]){

        if(element.nodeType == 1){

          list.push(element);
        };
      };
      return list;
    },
    getSiblings : function(element){

      return this.getPreviousSiblings(element).reverse().concat(this.getNextSiblings(element));
    },
    isEmpty : function(element){

      element = element.firstChild;
      while(element){

        if(element.nodeType === qx.dom.Node.ELEMENT || element.nodeType === qx.dom.Node.TEXT){

          return false;
        };
        element = element.nextSibling;
      };
      return true;
    },
    cleanWhitespace : function(element){

      var node = element.firstChild;
      while(node){

        var nextNode = node.nextSibling;
        if(node.nodeType == 3 && !/\S/.test(node.nodeValue)){

          element.removeChild(node);
        };
        node = nextNode;
      };
    }
  }
});

qx.Class.define("qx.event.handler.Keyboard", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__window = manager.getWindow();
    if((qx.core.Environment.get("engine.name") == "gecko")){

      this.__root = this.__window;
    } else {

      this.__root = this.__window.document.documentElement;
    };
    this.__lastUpDownType = {
    };
    this._initKeyObserver();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      keyup : 1,
      keydown : 1,
      keypress : 1,
      keyinput : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    __onKeyUpDownWrapper : null,
    __manager : null,
    __window : null,
    __root : null,
    __lastUpDownType : null,
    __lastKeyCode : null,
    __inputListeners : null,
    __onKeyPressWrapper : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _fireInputEvent : function(domEvent, charCode){

      var target = this.__getEventTarget();
      if(target && target.offsetWidth != 0){

        var event = qx.event.Registration.createEvent("keyinput", qx.event.type.KeyInput, [domEvent, target, charCode]);
        this.__manager.dispatchEvent(target, event);
      };
      if(this.__window){

        qx.event.Registration.fireEvent(this.__window, "useraction", qx.event.type.Data, ["keyinput"]);
      };
    },
    _fireSequenceEvent : function(domEvent, type, keyIdentifier){

      var target = this.__getEventTarget();
      var keyCode = domEvent.keyCode;
      var event = qx.event.Registration.createEvent(type, qx.event.type.KeySequence, [domEvent, target, keyIdentifier]);
      this.__manager.dispatchEvent(target, event);
      if(qx.core.Environment.get("engine.name") == "mshtml" || qx.core.Environment.get("engine.name") == "webkit"){

        if(type == "keydown" && event.getDefaultPrevented()){

          if(!qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) && !this._emulateKeyPress[keyCode]){

            this._fireSequenceEvent(domEvent, "keypress", keyIdentifier);
          };
        };
      };
      if(this.__window){

        qx.event.Registration.fireEvent(this.__window, "useraction", qx.event.type.Data, [type]);
      };
    },
    __getEventTarget : function(){

      var focusHandler = this.__manager.getHandler(qx.event.handler.Focus);
      var target = focusHandler.getActive();
      if(!target || target.offsetWidth == 0){

        target = focusHandler.getFocus();
      };
      if(!target || target.offsetWidth == 0){

        target = this.__manager.getWindow().document.body;
      };
      return target;
    },
    _initKeyObserver : function(){

      this.__onKeyUpDownWrapper = qx.lang.Function.listener(this.__onKeyUpDown, this);
      this.__onKeyPressWrapper = qx.lang.Function.listener(this.__onKeyPress, this);
      var Event = qx.bom.Event;
      Event.addNativeListener(this.__root, "keyup", this.__onKeyUpDownWrapper);
      Event.addNativeListener(this.__root, "keydown", this.__onKeyUpDownWrapper);
      Event.addNativeListener(this.__root, "keypress", this.__onKeyPressWrapper);
    },
    _stopKeyObserver : function(){

      var Event = qx.bom.Event;
      Event.removeNativeListener(this.__root, "keyup", this.__onKeyUpDownWrapper);
      Event.removeNativeListener(this.__root, "keydown", this.__onKeyUpDownWrapper);
      Event.removeNativeListener(this.__root, "keypress", this.__onKeyPressWrapper);
      for(var key in (this.__inputListeners || {
      })){

        var listener = this.__inputListeners[key];
        Event.removeNativeListener(listener.target, "keypress", listener.callback);
      };
      delete (this.__inputListeners);
    },
    __onKeyUpDown : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent){

        domEvent = window.event || domEvent;
        var keyCode = domEvent.keyCode;
        var charCode = 0;
        var type = domEvent.type;
        if(!(this.__lastUpDownType[keyCode] == "keydown" && type == "keydown")){

          this._idealKeyHandler(keyCode, charCode, type, domEvent);
        };
        if(type == "keydown"){

          if(qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) || this._emulateKeyPress[keyCode]){

            this._idealKeyHandler(keyCode, charCode, "keypress", domEvent);
          };
        };
        this.__lastUpDownType[keyCode] = type;
      },
      "gecko" : function(domEvent){

        var charCode = 0;
        var keyCode = domEvent.keyCode;
        var type = domEvent.type;
        var kbUtil = qx.event.util.Keyboard;
        if(qx.core.Environment.get("os.name") == "win"){

          var keyIdentifier = keyCode ? kbUtil.keyCodeToIdentifier(keyCode) : kbUtil.charCodeToIdentifier(charCode);
          if(!(this.__lastUpDownType[keyIdentifier] == "keydown" && type == "keydown")){

            this._idealKeyHandler(keyCode, charCode, type, domEvent);
          };
          this.__lastUpDownType[keyIdentifier] = type;
        } else {

          this._idealKeyHandler(keyCode, charCode, type, domEvent);
        };
        this.__firefoxInputFix(domEvent.target, type, keyCode);
      },
      "webkit" : function(domEvent){

        var keyCode = 0;
        var charCode = 0;
        var type = domEvent.type;
        keyCode = domEvent.keyCode;
        this._idealKeyHandler(keyCode, charCode, type, domEvent);
        if(type == "keydown"){

          if(qx.event.util.Keyboard.isNonPrintableKeyCode(keyCode) || this._emulateKeyPress[keyCode]){

            this._idealKeyHandler(keyCode, charCode, "keypress", domEvent);
          };
        };
        this.__lastUpDownType[keyCode] = type;
      },
      "opera" : function(domEvent){

        this.__lastKeyCode = domEvent.keyCode;
        this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);
      }
    })),
    __firefoxInputFix : qx.core.Environment.select("engine.name", {
      "gecko" : function(target, type, keyCode){

        if(type === "keydown" && (keyCode == 33 || keyCode == 34 || keyCode == 38 || keyCode == 40) && target.type == "text" && target.tagName.toLowerCase() === "input" && target.getAttribute("autoComplete") !== "off"){

          if(!this.__inputListeners){

            this.__inputListeners = {
            };
          };
          var hash = qx.core.ObjectRegistry.toHashCode(target);
          if(this.__inputListeners[hash]){

            return;
          };
          var self = this;
          this.__inputListeners[hash] = {
            target : target,
            callback : function(domEvent){

              qx.bom.Event.stopPropagation(domEvent);
              self.__onKeyPress(domEvent);
            }
          };
          var listener = qx.event.GlobalError.observeMethod(this.__inputListeners[hash].callback);
          qx.bom.Event.addNativeListener(target, "keypress", listener);
        };
      },
      "default" : null
    }),
    __onKeyPress : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent){

        domEvent = window.event || domEvent;
        if(this._charCode2KeyCode[domEvent.keyCode]){

          this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);
        } else {

          this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);
        };
      },
      "gecko" : function(domEvent){

        var charCode = domEvent.charCode;
        var type = domEvent.type;
        this._idealKeyHandler(domEvent.keyCode, charCode, type, domEvent);
      },
      "webkit" : function(domEvent){

        if(this._charCode2KeyCode[domEvent.keyCode]){

          this._idealKeyHandler(this._charCode2KeyCode[domEvent.keyCode], 0, domEvent.type, domEvent);
        } else {

          this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);
        };
      },
      "opera" : function(domEvent){

        var keyCode = domEvent.keyCode;
        var type = domEvent.type;
        if(keyCode != this.__lastKeyCode){

          this._idealKeyHandler(0, this.__lastKeyCode, type, domEvent);
        } else {

          if(qx.event.util.Keyboard.keyCodeToIdentifierMap[domEvent.keyCode]){

            this._idealKeyHandler(domEvent.keyCode, 0, domEvent.type, domEvent);
          } else {

            this._idealKeyHandler(0, domEvent.keyCode, domEvent.type, domEvent);
          };
        };
      }
    })),
    _idealKeyHandler : function(keyCode, charCode, eventType, domEvent){

      var keyIdentifier;
      if(keyCode || (!keyCode && !charCode)){

        keyIdentifier = qx.event.util.Keyboard.keyCodeToIdentifier(keyCode);
        this._fireSequenceEvent(domEvent, eventType, keyIdentifier);
      } else {

        keyIdentifier = qx.event.util.Keyboard.charCodeToIdentifier(charCode);
        this._fireSequenceEvent(domEvent, "keypress", keyIdentifier);
        this._fireInputEvent(domEvent, charCode);
      };
    },
    _emulateKeyPress : qx.core.Environment.select("engine.name", {
      "mshtml" : {
        '8' : true,
        '9' : true
      },
      "webkit" : {
        '8' : true,
        '9' : true,
        '27' : true
      },
      "default" : {
      }
    }),
    _identifierToKeyCode : function(keyIdentifier){

      return qx.event.util.Keyboard.identifierToKeyCodeMap[keyIdentifier] || keyIdentifier.charCodeAt(0);
    }
  },
  destruct : function(){

    this._stopKeyObserver();
    this.__lastKeyCode = this.__manager = this.__window = this.__root = this.__lastUpDownType = null;
  },
  defer : function(statics, members){

    qx.event.Registration.addHandler(statics);
    if((qx.core.Environment.get("engine.name") == "mshtml") || qx.core.Environment.get("engine.name") == "webkit"){

      members._charCode2KeyCode = {
        '13' : 13,
        '27' : 27
      };
    };
  }
});

qx.Class.define("qx.event.type.KeyInput", {
  extend : qx.event.type.Dom,
  members : {
    init : function(domEvent, target, charCode){

      this.base(arguments, domEvent, target, null, true, true);
      this._charCode = charCode;
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone._charCode = this._charCode;
      return clone;
    },
    getCharCode : function(){

      return this._charCode;
    },
    getChar : function(){

      return String.fromCharCode(this._charCode);
    }
  }
});

qx.Class.define("qx.event.type.KeySequence", {
  extend : qx.event.type.Dom,
  members : {
    init : function(domEvent, target, identifier){

      this.base(arguments, domEvent, target, null, true, true);
      this._keyCode = domEvent.keyCode;
      this._identifier = identifier;
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone._keyCode = this._keyCode;
      clone._identifier = this._identifier;
      return clone;
    },
    getKeyIdentifier : function(){

      return this._identifier;
    },
    getKeyCode : function(){

      return this._keyCode;
    },
    isPrintable : function(){

      return qx.event.util.Keyboard.isPrintableKeyIdentifier(this._identifier);
    }
  }
});

qx.Bootstrap.define("qx.event.util.Keyboard", {
  statics : {
    specialCharCodeMap : {
      '8' : "Backspace",
      '9' : "Tab",
      '13' : "Enter",
      '27' : "Escape",
      '32' : "Space"
    },
    numpadToCharCode : {
      '96' : "0".charCodeAt(0),
      '97' : "1".charCodeAt(0),
      '98' : "2".charCodeAt(0),
      '99' : "3".charCodeAt(0),
      '100' : "4".charCodeAt(0),
      '101' : "5".charCodeAt(0),
      '102' : "6".charCodeAt(0),
      '103' : "7".charCodeAt(0),
      '104' : "8".charCodeAt(0),
      '105' : "9".charCodeAt(0),
      '106' : "*".charCodeAt(0),
      '107' : "+".charCodeAt(0),
      '109' : "-".charCodeAt(0),
      '110' : ",".charCodeAt(0),
      '111' : "/".charCodeAt(0)
    },
    keyCodeToIdentifierMap : {
      '16' : "Shift",
      '17' : "Control",
      '18' : "Alt",
      '20' : "CapsLock",
      '224' : "Meta",
      '37' : "Left",
      '38' : "Up",
      '39' : "Right",
      '40' : "Down",
      '33' : "PageUp",
      '34' : "PageDown",
      '35' : "End",
      '36' : "Home",
      '45' : "Insert",
      '46' : "Delete",
      '112' : "F1",
      '113' : "F2",
      '114' : "F3",
      '115' : "F4",
      '116' : "F5",
      '117' : "F6",
      '118' : "F7",
      '119' : "F8",
      '120' : "F9",
      '121' : "F10",
      '122' : "F11",
      '123' : "F12",
      '144' : "NumLock",
      '44' : "PrintScreen",
      '145' : "Scroll",
      '19' : "Pause",
      '91' : qx.core.Environment.get("os.name") == "osx" ? "cmd" : "Win",
      '92' : "Win",
      '93' : qx.core.Environment.get("os.name") == "osx" ? "cmd" : "Apps"
    },
    charCodeA : "A".charCodeAt(0),
    charCodeZ : "Z".charCodeAt(0),
    charCode0 : "0".charCodeAt(0),
    charCode9 : "9".charCodeAt(0),
    keyCodeToIdentifier : function(keyCode){

      if(this.isIdentifiableKeyCode(keyCode)){

        var numPadKeyCode = this.numpadToCharCode[keyCode];
        if(numPadKeyCode){

          return String.fromCharCode(numPadKeyCode);
        };
        return (this.keyCodeToIdentifierMap[keyCode] || this.specialCharCodeMap[keyCode] || String.fromCharCode(keyCode));
      } else {

        return "Unidentified";
      };
    },
    charCodeToIdentifier : function(charCode){

      return this.specialCharCodeMap[charCode] || String.fromCharCode(charCode).toUpperCase();
    },
    isIdentifiableKeyCode : function(keyCode){

      if(keyCode >= this.charCodeA && keyCode <= this.charCodeZ){

        return true;
      };
      if(keyCode >= this.charCode0 && keyCode <= this.charCode9){

        return true;
      };
      if(this.specialCharCodeMap[keyCode]){

        return true;
      };
      if(this.numpadToCharCode[keyCode]){

        return true;
      };
      if(this.isNonPrintableKeyCode(keyCode)){

        return true;
      };
      return false;
    },
    isNonPrintableKeyCode : function(keyCode){

      return this.keyCodeToIdentifierMap[keyCode] ? true : false;
    },
    isValidKeyIdentifier : function(keyIdentifier){

      if(this.identifierToKeyCodeMap[keyIdentifier]){

        return true;
      };
      if(keyIdentifier.length != 1){

        return false;
      };
      if(keyIdentifier >= "0" && keyIdentifier <= "9"){

        return true;
      };
      if(keyIdentifier >= "A" && keyIdentifier <= "Z"){

        return true;
      };
      switch(keyIdentifier){case "+":case "-":case "*":case "/":
      return true;default:
      return false;};
    },
    isPrintableKeyIdentifier : function(keyIdentifier){

      if(keyIdentifier === "Space"){

        return true;
      } else {

        return this.identifierToKeyCodeMap[keyIdentifier] ? false : true;
      };
    }
  },
  defer : function(statics, members){

    if(!statics.identifierToKeyCodeMap){

      statics.identifierToKeyCodeMap = {
      };
      for(var key in statics.keyCodeToIdentifierMap){

        statics.identifierToKeyCodeMap[statics.keyCodeToIdentifierMap[key]] = parseInt(key, 10);
      };
      for(var key in statics.specialCharCodeMap){

        statics.identifierToKeyCodeMap[statics.specialCharCodeMap[key]] = parseInt(key, 10);
      };
    };
  }
});

qx.Class.define("qx.event.handler.Focus", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this._manager = manager;
    this._window = manager.getWindow();
    this._document = this._window.document;
    this._root = this._document.documentElement;
    this._body = this._document.body;
    if((qx.core.Environment.get("os.name") == "ios" && parseFloat(qx.core.Environment.get("os.version")) > 6) && (!qx.application.Inline || !qx.core.Init.getApplication() instanceof qx.application.Inline)){

      this.__needsScrollFix = true;
    };
    this._initObserver();
  },
  properties : {
    active : {
      apply : "_applyActive",
      nullable : true
    },
    focus : {
      apply : "_applyFocus",
      nullable : true
    }
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      focus : 1,
      blur : 1,
      focusin : 1,
      focusout : 1,
      activate : 1,
      deactivate : 1
    },
    IGNORE_CAN_HANDLE : true,
    FOCUSABLE_ELEMENTS : qx.core.Environment.select("engine.name", {
      "mshtml|gecko" : {
        a : 1,
        body : 1,
        button : 1,
        frame : 1,
        iframe : 1,
        img : 1,
        input : 1,
        object : 1,
        select : 1,
        textarea : 1
      },
      "opera|webkit" : {
        button : 1,
        input : 1,
        select : 1,
        textarea : 1
      }
    })
  },
  members : {
    __onNativeMouseDownWrapper : null,
    __onNativeMouseUpWrapper : null,
    __onNativeFocusWrapper : null,
    __onNativeBlurWrapper : null,
    __onNativeDragGestureWrapper : null,
    __onNativeSelectStartWrapper : null,
    __onNativeFocusInWrapper : null,
    __onNativeFocusOutWrapper : null,
    __previousFocus : null,
    __previousActive : null,
    __down : "",
    __up : "",
    __needsScrollFix : false,
    __relatedTarget : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    focus : function(element){

      if((qx.core.Environment.get("engine.name") == "mshtml")){

        window.setTimeout(function(){

          try{

            element.focus();
            var selection = qx.bom.Selection.get(element);
            if(selection.length == 0){

              var textRange = element.createTextRange();
              textRange.moveStart('character', element.value.length);
              textRange.collapse();
              textRange.select();
            };
          } catch(ex) {
          };
        }, 0);
      } else {

        try{

          element.focus();
        } catch(ex) {
        };
      };
      this.setFocus(element);
      this.setActive(element);
    },
    activate : function(element){

      this.setActive(element);
    },
    blur : function(element){

      try{

        element.blur();
      } catch(ex) {
      };
      if(this.getActive() === element){

        this.resetActive();
      };
      if(this.getFocus() === element){

        this.resetFocus();
      };
    },
    deactivate : function(element){

      if(this.getActive() === element){

        this.resetActive();
      };
    },
    tryActivate : function(element){

      var active = this.__findActivatableElement(element);
      if(active){

        this.setActive(active);
      };
    },
    __fireEvent : function(target, related, type, bubbles){

      var Registration = qx.event.Registration;
      var evt = Registration.createEvent(type, qx.event.type.Focus, [target, related, bubbles]);
      Registration.dispatchEvent(target, evt);
    },
    _windowFocused : true,
    __doWindowBlur : function(){

      if(this._windowFocused){

        this._windowFocused = false;
        this.__fireEvent(this._window, null, "blur", false);
      };
    },
    __doWindowFocus : function(){

      if(!this._windowFocused){

        this._windowFocused = true;
        this.__fireEvent(this._window, null, "focus", false);
      };
    },
    _initObserver : qx.core.Environment.select("engine.name", {
      "gecko" : function(){

        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);
        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);
        this.__onNativeFocusWrapper = qx.lang.Function.listener(this.__onNativeFocus, this);
        this.__onNativeBlurWrapper = qx.lang.Function.listener(this.__onNativeBlur, this);
        this.__onNativeDragGestureWrapper = qx.lang.Function.listener(this.__onNativeDragGesture, this);
        qx.bom.Event.addNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper, true);
        qx.bom.Event.addNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "focus", this.__onNativeFocusWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "blur", this.__onNativeBlurWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "draggesture", this.__onNativeDragGestureWrapper, true);
      },
      "mshtml" : function(){

        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);
        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);
        this.__onNativeFocusInWrapper = qx.lang.Function.listener(this.__onNativeFocusIn, this);
        this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);
        this.__onNativeSelectStartWrapper = qx.lang.Function.listener(this.__onNativeSelectStart, this);
        qx.bom.Event.addNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper);
        qx.bom.Event.addNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper);
        qx.bom.Event.addNativeListener(this._document, "focusin", this.__onNativeFocusInWrapper);
        qx.bom.Event.addNativeListener(this._document, "focusout", this.__onNativeFocusOutWrapper);
        qx.bom.Event.addNativeListener(this._document, "selectstart", this.__onNativeSelectStartWrapper);
      },
      "webkit" : function(){

        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);
        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);
        this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);
        this.__onNativeFocusWrapper = qx.lang.Function.listener(this.__onNativeFocus, this);
        this.__onNativeBlurWrapper = qx.lang.Function.listener(this.__onNativeBlur, this);
        this.__onNativeSelectStartWrapper = qx.lang.Function.listener(this.__onNativeSelectStart, this);
        qx.bom.Event.addNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper, true);
        qx.bom.Event.addNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper, true);
        qx.bom.Event.addNativeListener(this._document, "selectstart", this.__onNativeSelectStartWrapper, false);
        qx.bom.Event.addNativeListener(this._window, "DOMFocusOut", this.__onNativeFocusOutWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "focus", this.__onNativeFocusWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "blur", this.__onNativeBlurWrapper, true);
      },
      "opera" : function(){

        this.__onNativeMouseDownWrapper = qx.lang.Function.listener(this.__onNativeMouseDown, this);
        this.__onNativeMouseUpWrapper = qx.lang.Function.listener(this.__onNativeMouseUp, this);
        this.__onNativeFocusInWrapper = qx.lang.Function.listener(this.__onNativeFocusIn, this);
        this.__onNativeFocusOutWrapper = qx.lang.Function.listener(this.__onNativeFocusOut, this);
        qx.bom.Event.addNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper, true);
        qx.bom.Event.addNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "DOMFocusIn", this.__onNativeFocusInWrapper, true);
        qx.bom.Event.addNativeListener(this._window, "DOMFocusOut", this.__onNativeFocusOutWrapper, true);
      }
    }),
    _stopObserver : qx.core.Environment.select("engine.name", {
      "gecko" : function(){

        qx.bom.Event.removeNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper, true);
        qx.bom.Event.removeNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "focus", this.__onNativeFocusWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "blur", this.__onNativeBlurWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "draggesture", this.__onNativeDragGestureWrapper, true);
      },
      "mshtml" : function(){

        qx.bom.Event.removeNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper);
        qx.bom.Event.removeNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper);
        qx.bom.Event.removeNativeListener(this._document, "focusin", this.__onNativeFocusInWrapper);
        qx.bom.Event.removeNativeListener(this._document, "focusout", this.__onNativeFocusOutWrapper);
        qx.bom.Event.removeNativeListener(this._document, "selectstart", this.__onNativeSelectStartWrapper);
      },
      "webkit" : function(){

        qx.bom.Event.removeNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper, true);
        qx.bom.Event.removeNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper, true);
        qx.bom.Event.removeNativeListener(this._document, "selectstart", this.__onNativeSelectStartWrapper, false);
        qx.bom.Event.removeNativeListener(this._window, "DOMFocusOut", this.__onNativeFocusOutWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "focus", this.__onNativeFocusWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "blur", this.__onNativeBlurWrapper, true);
      },
      "opera" : function(){

        qx.bom.Event.removeNativeListener(this._document, "mousedown", this.__onNativeMouseDownWrapper, true);
        qx.bom.Event.removeNativeListener(this._document, "mouseup", this.__onNativeMouseUpWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "DOMFocusIn", this.__onNativeFocusInWrapper, true);
        qx.bom.Event.removeNativeListener(this._window, "DOMFocusOut", this.__onNativeFocusOutWrapper, true);
      }
    }),
    __onNativeDragGesture : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "gecko" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(!this.__isSelectable(target)){

          qx.bom.Event.preventDefault(domEvent);
        };
      },
      "default" : null
    })),
    __onNativeFocusIn : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent){

        this.__doWindowFocus();
        var target = qx.bom.Event.getTarget(domEvent);
        var focusTarget = this.__findFocusableElement(target);
        if(focusTarget){

          this.setFocus(focusTarget);
        };
        this.tryActivate(target);
      },
      "opera" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target == this._document || target == this._window){

          this.__doWindowFocus();
          if(this.__previousFocus){

            this.setFocus(this.__previousFocus);
            delete this.__previousFocus;
          };
          if(this.__previousActive){

            this.setActive(this.__previousActive);
            delete this.__previousActive;
          };
        } else {

          this.setFocus(target);
          this.tryActivate(target);
          if(!this.__isSelectable(target)){

            target.selectionStart = 0;
            target.selectionEnd = 0;
          };
        };
      },
      "default" : null
    })),
    __onNativeFocusOut : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent){

        var relatedTarget = qx.bom.Event.getRelatedTarget(domEvent);
        if(relatedTarget == null){

          this.__doWindowBlur();
          this.resetFocus();
          this.resetActive();
        };
      },
      "webkit" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target === this.getFocus()){

          this.resetFocus();
        };
        if(target === this.getActive()){

          this.resetActive();
        };
      },
      "opera" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target == this._document){

          this.__doWindowBlur();
          this.__previousFocus = this.getFocus();
          this.__previousActive = this.getActive();
          this.resetFocus();
          this.resetActive();
        } else {

          if(target === this.getFocus()){

            this.resetFocus();
          };
          if(target === this.getActive()){

            this.resetActive();
          };
        };
      },
      "default" : null
    })),
    __onNativeBlur : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "gecko" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target === this._window || target === this._document){

          this.__doWindowBlur();
          this.resetActive();
          this.resetFocus();
        };
      },
      "webkit" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target === this._window || target === this._document){

          this.__doWindowBlur();
          this.__previousFocus = this.getFocus();
          this.__previousActive = this.getActive();
          this.resetActive();
          this.resetFocus();
        };
      },
      "default" : null
    })),
    __onNativeFocus : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "gecko" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target === this._window || target === this._document){

          this.__doWindowFocus();
          target = this._body;
        };
        this.setFocus(target);
        this.tryActivate(target);
      },
      "webkit" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target === this._window || target === this._document){

          this.__doWindowFocus();
          if(this.__previousFocus){

            this.setFocus(this.__previousFocus);
            delete this.__previousFocus;
          };
          if(this.__previousActive){

            this.setActive(this.__previousActive);
            delete this.__previousActive;
          };
        } else {

          this.__relatedTarget = domEvent.relatedTarget;
          this.setFocus(target);
          this.__relatedTarget = null;
          this.tryActivate(target);
        };
      },
      "default" : null
    })),
    __onNativeMouseDown : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        var focusTarget = this.__findFocusableElement(target);
        if(focusTarget){

          if(!this.__isSelectable(target)){

            target.unselectable = "on";
            try{

              document.selection.empty();
            } catch(ex) {
            };
            try{

              focusTarget.focus();
            } catch(ex) {
            };
          };
        } else {

          qx.bom.Event.preventDefault(domEvent);
          if(!this.__isSelectable(target)){

            target.unselectable = "on";
          };
        };
      },
      "webkit|gecko" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        var focusTarget = this.__findFocusableElement(target);
        if(focusTarget){

          this.setFocus(focusTarget);
        } else {

          qx.bom.Event.preventDefault(domEvent);
        };
      },
      "opera" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        var focusTarget = this.__findFocusableElement(target);
        if(!this.__isSelectable(target)){

          qx.bom.Event.preventDefault(domEvent);
          if(focusTarget){

            var current = this.getFocus();
            if(current && current.selectionEnd){

              current.selectionStart = 0;
              current.selectionEnd = 0;
              current.blur();
            };
            if(focusTarget){

              this.setFocus(focusTarget);
            };
          };
        } else if(focusTarget){

          this.setFocus(focusTarget);
        };
      },
      "default" : null
    })),
    __onNativeMouseUp : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(target.unselectable){

          target.unselectable = "off";
        };
        this.tryActivate(this.__fixFocus(target));
      },
      "gecko" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        while(target && target.offsetWidth === undefined){

          target = target.parentNode;
        };
        if(target){

          this.tryActivate(target);
        };
      },
      "webkit|opera" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        this.tryActivate(this.__fixFocus(target));
      },
      "default" : null
    })),
    __fixFocus : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml|webkit" : function(target){

        var focusedElement = this.getFocus();
        if(focusedElement && target != focusedElement && (focusedElement.nodeName.toLowerCase() === "input" || focusedElement.nodeName.toLowerCase() === "textarea")){

          target = focusedElement;
        };
        return target;
      },
      "default" : function(target){

        return target;
      }
    })),
    __onNativeSelectStart : qx.event.GlobalError.observeMethod(qx.core.Environment.select("engine.name", {
      "mshtml|webkit" : function(domEvent){

        var target = qx.bom.Event.getTarget(domEvent);
        if(!this.__isSelectable(target)){

          qx.bom.Event.preventDefault(domEvent);
        };
      },
      "default" : null
    })),
    __isFocusable : function(el){

      var index = qx.bom.element.Attribute.get(el, "tabIndex");
      if(index >= 1){

        return true;
      };
      var focusable = qx.event.handler.Focus.FOCUSABLE_ELEMENTS;
      if(index >= 0 && focusable[el.tagName]){

        return true;
      };
      return false;
    },
    __findFocusableElement : function(el){

      while(el && el.nodeType === 1){

        if(el.getAttribute("qxKeepFocus") == "on"){

          return null;
        };
        if(this.__isFocusable(el)){

          return el;
        };
        el = el.parentNode;
      };
      return this._body;
    },
    __findActivatableElement : function(el){

      var orig = el;
      while(el && el.nodeType === 1){

        if(el.getAttribute("qxKeepActive") == "on"){

          return null;
        };
        el = el.parentNode;
      };
      return orig;
    },
    __isSelectable : function(node){

      while(node && node.nodeType === 1){

        var attr = node.getAttribute("qxSelectable");
        if(attr != null){

          return attr === "on";
        };
        node = node.parentNode;
      };
      return true;
    },
    _applyActive : function(value, old){

      if(old){

        this.__fireEvent(old, value, "deactivate", true);
      };
      if(value){

        this.__fireEvent(value, old, "activate", true);
      };
      if(this.__needsScrollFix){

        window.scrollTo(0, 0);
      };
    },
    _applyFocus : function(value, old){

      if(old){

        this.__fireEvent(old, value, "focusout", true);
      };
      if(value){

        this.__fireEvent(value, old, "focusin", true);
      };
      if(old){

        this.__fireEvent(old, value, "blur", false);
      };
      if(value){

        this.__fireEvent(value, old || this.__relatedTarget, "focus", false);
      };
    }
  },
  destruct : function(){

    this._stopObserver();
    this._manager = this._window = this._document = this._root = this._body = this.__mouseActive = this.__relatedTarget = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
    var focusable = statics.FOCUSABLE_ELEMENTS;
    for(var entry in focusable){

      focusable[entry.toUpperCase()] = 1;
    };
  }
});

qx.Class.define("qx.core.BaseInit", {
  statics : {
    __application : null,
    getApplication : function(){

      return this.__application || null;
    },
    ready : function(){

      if(this.__application){

        return;
      };
      if(qx.core.Environment.get("engine.name") == ""){

        qx.log.Logger.warn("Could not detect engine!");
      };
      if(qx.core.Environment.get("engine.version") == ""){

        qx.log.Logger.warn("Could not detect the version of the engine!");
      };
      if(qx.core.Environment.get("os.name") == ""){

        qx.log.Logger.warn("Could not detect operating system!");
      };
      qx.log.Logger.debug(this, "Load runtime: " + (new Date - qx.Bootstrap.LOADSTART) + "ms");
      var app = qx.core.Environment.get("qx.application");
      var clazz = qx.Class.getByName(app);
      if(clazz){

        this.__application = new clazz;
        var start = new Date;
        this.__application.main();
        qx.log.Logger.debug(this, "Main runtime: " + (new Date - start) + "ms");
        var start = new Date;
        this.__application.finalize();
        qx.log.Logger.debug(this, "Finalize runtime: " + (new Date - start) + "ms");
      } else {

        qx.log.Logger.warn("Missing application class: " + app);
      };
    },
    __close : function(e){

      var app = this.__application;
      if(app){

        app.close();
      };
    },
    __shutdown : function(){

      var app = this.__application;
      if(app){

        app.terminate();
      };
      qx.core.ObjectRegistry.shutdown();
    }
  }
});

qx.Class.define("qx.event.handler.Window", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this._manager = manager;
    this._window = manager.getWindow();
    this._initWindowObserver();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      error : 1,
      load : 1,
      beforeunload : 1,
      unload : 1,
      resize : 1,
      scroll : 1,
      beforeshutdown : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _initWindowObserver : function(){

      this._onNativeWrapper = qx.lang.Function.listener(this._onNative, this);
      var types = qx.event.handler.Window.SUPPORTED_TYPES;
      for(var key in types){

        qx.bom.Event.addNativeListener(this._window, key, this._onNativeWrapper);
      };
    },
    _stopWindowObserver : function(){

      var types = qx.event.handler.Window.SUPPORTED_TYPES;
      for(var key in types){

        qx.bom.Event.removeNativeListener(this._window, key, this._onNativeWrapper);
      };
    },
    _onNative : qx.event.GlobalError.observeMethod(function(e){

      if(this.isDisposed()){

        return;
      };
      var win = this._window;
      try{

        var doc = win.document;
      } catch(ex) {

        return;
      };
      var html = doc.documentElement;
      var target = qx.bom.Event.getTarget(e);
      if(target == null || target === win || target === doc || target === html){

        var event = qx.event.Registration.createEvent(e.type, qx.event.type.Native, [e, win]);
        qx.event.Registration.dispatchEvent(win, event);
        var result = event.getReturnValue();
        if(result != null){

          e.returnValue = result;
          return result;
        };
      };
    })
  },
  destruct : function(){

    this._stopWindowObserver();
    this._manager = this._window = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.handler.Application", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this._window = manager.getWindow();
    this.__domReady = false;
    this.__loaded = false;
    this.__isReady = false;
    this.__isUnloaded = false;
    this._initObserver();
    qx.event.handler.Application.$$instance = this;
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      ready : 1,
      shutdown : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,
    IGNORE_CAN_HANDLE : true,
    onScriptLoaded : function(){

      var inst = qx.event.handler.Application.$$instance;
      if(inst){

        inst.__fireReady();
      };
    }
  },
  members : {
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    __isReady : null,
    __domReady : null,
    __loaded : null,
    __isUnloaded : null,
    __fireReady : function(){

      if(!this.__isReady && this.__domReady && qx.$$loader.scriptLoaded){

        if((qx.core.Environment.get("engine.name") == "mshtml")){

          if(qx.event.Registration.hasListener(this._window, "ready")){

            this.__isReady = true;
            qx.event.Registration.fireEvent(this._window, "ready");
          };
        } else {

          this.__isReady = true;
          qx.event.Registration.fireEvent(this._window, "ready");
        };
      };
    },
    isApplicationReady : function(){

      return this.__isReady;
    },
    _initObserver : function(){

      if(qx.$$domReady || document.readyState == "complete" || document.readyState == "ready"){

        this.__domReady = true;
        this.__fireReady();
      } else {

        this._onNativeLoadWrapped = qx.lang.Function.bind(this._onNativeLoad, this);
        if(qx.core.Environment.get("engine.name") == "gecko" || qx.core.Environment.get("engine.name") == "opera" || qx.core.Environment.get("engine.name") == "webkit" || (qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") > 8)){

          qx.bom.Event.addNativeListener(this._window, "DOMContentLoaded", this._onNativeLoadWrapped);
        } else {

          var self = this;
          var timer = function(){

            try{

              document.documentElement.doScroll("left");
              if(document.body){

                self._onNativeLoadWrapped();
              };
            } catch(error) {

              window.setTimeout(timer, 100);
            };
          };
          timer();
        };
        qx.bom.Event.addNativeListener(this._window, "load", this._onNativeLoadWrapped);
      };
      this._onNativeUnloadWrapped = qx.lang.Function.bind(this._onNativeUnload, this);
      qx.bom.Event.addNativeListener(this._window, "unload", this._onNativeUnloadWrapped);
    },
    _stopObserver : function(){

      if(this._onNativeLoadWrapped){

        qx.bom.Event.removeNativeListener(this._window, "load", this._onNativeLoadWrapped);
      };
      qx.bom.Event.removeNativeListener(this._window, "unload", this._onNativeUnloadWrapped);
      this._onNativeLoadWrapped = null;
      this._onNativeUnloadWrapped = null;
    },
    _onNativeLoad : qx.event.GlobalError.observeMethod(function(){

      this.__domReady = true;
      this.__fireReady();
    }),
    _onNativeUnload : qx.event.GlobalError.observeMethod(function(){

      if(!this.__isUnloaded){

        this.__isUnloaded = true;
        try{

          qx.event.Registration.fireEvent(this._window, "shutdown");
        } catch(e) {

          throw e;
        }finally{

          qx.core.ObjectRegistry.shutdown();
        };
      };
    })
  },
  destruct : function(){

    this._stopObserver();
    this._window = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.core.Init", {
  statics : {
    getApplication : qx.core.BaseInit.getApplication,
    ready : qx.core.BaseInit.ready,
    __close : function(e){

      var app = this.getApplication();
      if(app){

        e.setReturnValue(app.close());
      };
    },
    __shutdown : function(){

      var app = this.getApplication();
      if(app){

        app.terminate();
      };
    }
  },
  defer : function(statics){

    qx.event.Registration.addListener(window, "ready", statics.ready, statics);
    qx.event.Registration.addListener(window, "shutdown", statics.__shutdown, statics);
    qx.event.Registration.addListener(window, "beforeunload", statics.__close, statics);
  }
});

qx.Bootstrap.define("qx.bom.Selection", {
  statics : {
    getSelectionObject : qx.core.Environment.select("html.selection", {
      "selection" : function(documentNode){

        return documentNode.selection;
      },
      "default" : function(documentNode){

        return qx.dom.Node.getWindow(documentNode).getSelection();
      }
    }),
    get : qx.core.Environment.select("html.selection", {
      "selection" : function(node){

        var rng = qx.bom.Range.get(qx.dom.Node.getDocument(node));
        return rng.text;
      },
      "default" : function(node){

        if(this.__isInputOrTextarea(node)){

          return node.value.substring(node.selectionStart, node.selectionEnd);
        } else {

          return this.getSelectionObject(qx.dom.Node.getDocument(node)).toString();
        };
      }
    }),
    getLength : qx.core.Environment.select("html.selection", {
      "selection" : function(node){

        var selectedValue = this.get(node);
        var split = qx.util.StringSplit.split(selectedValue, /\r\n/);
        return selectedValue.length - (split.length - 1);
      },
      "default" : function(node){

        if(qx.core.Environment.get("engine.name") == "opera"){

          var selectedValue,selectedLength,split;
          if(this.__isInputOrTextarea(node)){

            var start = node.selectionStart;
            var end = node.selectionEnd;
            selectedValue = node.value.substring(start, end);
            selectedLength = end - start;
          } else {

            selectedValue = qx.bom.Selection.get(node);
            selectedLength = selectedValue.length;
          };
          split = qx.util.StringSplit.split(selectedValue, /\r\n/);
          return selectedLength - (split.length - 1);
        };
        if(this.__isInputOrTextarea(node)){

          return node.selectionEnd - node.selectionStart;
        } else {

          return this.get(node).length;
        };
      }
    }),
    getStart : qx.core.Environment.select("html.selection", {
      "selection" : function(node){

        if(this.__isInputOrTextarea(node)){

          var documentRange = qx.bom.Range.get();
          if(!node.contains(documentRange.parentElement())){

            return -1;
          };
          var range = qx.bom.Range.get(node);
          var len = node.value.length;
          range.moveToBookmark(documentRange.getBookmark());
          range.moveEnd('character', len);
          return len - range.text.length;
        } else {

          var range = qx.bom.Range.get(node);
          var parentElement = range.parentElement();
          var elementRange = qx.bom.Range.get();
          try{

            elementRange.moveToElementText(parentElement);
          } catch(ex) {

            return 0;
          };
          var bodyRange = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));
          bodyRange.setEndPoint("StartToStart", range);
          bodyRange.setEndPoint("EndToEnd", elementRange);
          if(elementRange.compareEndPoints("StartToStart", bodyRange) == 0){

            return 0;
          };
          var moved;
          var steps = 0;
          while(true){

            moved = bodyRange.moveStart("character", -1);
            if(elementRange.compareEndPoints("StartToStart", bodyRange) == 0){

              break;
            };
            if(moved == 0){

              break;
            } else {

              steps++;
            };
          };
          return ++steps;
        };
      },
      "default" : function(node){

        if(qx.core.Environment.get("engine.name") === "gecko" || qx.core.Environment.get("engine.name") === "webkit"){

          if(this.__isInputOrTextarea(node)){

            return node.selectionStart;
          } else {

            var documentElement = qx.dom.Node.getDocument(node);
            var documentSelection = this.getSelectionObject(documentElement);
            if(documentSelection.anchorOffset < documentSelection.focusOffset){

              return documentSelection.anchorOffset;
            } else {

              return documentSelection.focusOffset;
            };
          };
        };
        if(this.__isInputOrTextarea(node)){

          return node.selectionStart;
        } else {

          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).anchorOffset;
        };
      }
    }),
    getEnd : qx.core.Environment.select("html.selection", {
      "selection" : function(node){

        if(this.__isInputOrTextarea(node)){

          var documentRange = qx.bom.Range.get();
          if(!node.contains(documentRange.parentElement())){

            return -1;
          };
          var range = qx.bom.Range.get(node);
          var len = node.value.length;
          range.moveToBookmark(documentRange.getBookmark());
          range.moveStart('character', -len);
          return range.text.length;
        } else {

          var range = qx.bom.Range.get(node);
          var parentElement = range.parentElement();
          var elementRange = qx.bom.Range.get();
          try{

            elementRange.moveToElementText(parentElement);
          } catch(ex) {

            return 0;
          };
          var len = elementRange.text.length;
          var bodyRange = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));
          bodyRange.setEndPoint("EndToEnd", range);
          bodyRange.setEndPoint("StartToStart", elementRange);
          if(elementRange.compareEndPoints("EndToEnd", bodyRange) == 0){

            return len - 1;
          };
          var moved;
          var steps = 0;
          while(true){

            moved = bodyRange.moveEnd("character", 1);
            if(elementRange.compareEndPoints("EndToEnd", bodyRange) == 0){

              break;
            };
            if(moved == 0){

              break;
            } else {

              steps++;
            };
          };
          return len - (++steps);
        };
      },
      "default" : function(node){

        if(qx.core.Environment.get("engine.name") === "gecko" || qx.core.Environment.get("engine.name") === "webkit"){

          if(this.__isInputOrTextarea(node)){

            return node.selectionEnd;
          } else {

            var documentElement = qx.dom.Node.getDocument(node);
            var documentSelection = this.getSelectionObject(documentElement);
            if(documentSelection.focusOffset > documentSelection.anchorOffset){

              return documentSelection.focusOffset;
            } else {

              return documentSelection.anchorOffset;
            };
          };
        };
        if(this.__isInputOrTextarea(node)){

          return node.selectionEnd;
        } else {

          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).focusOffset;
        };
      }
    }),
    __isInputOrTextarea : function(node){

      return qx.dom.Node.isElement(node) && (node.nodeName.toLowerCase() == "input" || node.nodeName.toLowerCase() == "textarea");
    },
    set : qx.core.Environment.select("html.selection", {
      "selection" : function(node, start, end){

        var rng;
        if(qx.dom.Node.isDocument(node)){

          node = node.body;
        };
        if(qx.dom.Node.isElement(node) || qx.dom.Node.isText(node)){

          switch(node.nodeName.toLowerCase()){case "input":case "textarea":case "button":
          if(end === undefined){

            end = node.value.length;
          };
          if(start >= 0 && start <= node.value.length && end >= 0 && end <= node.value.length){

            rng = qx.bom.Range.get(node);
            rng.collapse(true);
            rng.moveStart("character", start);
            rng.moveEnd("character", end - start);
            rng.select();
            return true;
          };
          break;case "#text":
          if(end === undefined){

            end = node.nodeValue.length;
          };
          if(start >= 0 && start <= node.nodeValue.length && end >= 0 && end <= node.nodeValue.length){

            rng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));
            rng.moveToElementText(node.parentNode);
            rng.collapse(true);
            rng.moveStart("character", start);
            rng.moveEnd("character", end - start);
            rng.select();
            return true;
          };
          break;default:
          if(end === undefined){

            end = node.childNodes.length - 1;
          };
          if(node.childNodes[start] && node.childNodes[end]){

            rng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));
            rng.moveToElementText(node.childNodes[start]);
            rng.collapse(true);
            var newRng = qx.bom.Range.get(qx.dom.Node.getBodyElement(node));
            newRng.moveToElementText(node.childNodes[end]);
            rng.setEndPoint("EndToEnd", newRng);
            rng.select();
            return true;
          };};
        };
        return false;
      },
      "default" : function(node, start, end){

        var nodeName = node.nodeName.toLowerCase();
        if(qx.dom.Node.isElement(node) && (nodeName == "input" || nodeName == "textarea")){

          if(end === undefined){

            end = node.value.length;
          };
          if(start >= 0 && start <= node.value.length && end >= 0 && end <= node.value.length){

            node.focus();
            node.select();
            node.setSelectionRange(start, end);
            return true;
          };
        } else {

          var validBoundaries = false;
          var sel = qx.dom.Node.getWindow(node).getSelection();
          var rng = qx.bom.Range.get(node);
          if(qx.dom.Node.isText(node)){

            if(end === undefined){

              end = node.length;
            };
            if(start >= 0 && start < node.length && end >= 0 && end <= node.length){

              validBoundaries = true;
            };
          } else if(qx.dom.Node.isElement(node)){

            if(end === undefined){

              end = node.childNodes.length - 1;
            };
            if(start >= 0 && node.childNodes[start] && end >= 0 && node.childNodes[end]){

              validBoundaries = true;
            };
          } else if(qx.dom.Node.isDocument(node)){

            node = node.body;
            if(end === undefined){

              end = node.childNodes.length - 1;
            };
            if(start >= 0 && node.childNodes[start] && end >= 0 && node.childNodes[end]){

              validBoundaries = true;
            };
          };;
          if(validBoundaries){

            if(!sel.isCollapsed){

              sel.collapseToStart();
            };
            rng.setStart(node, start);
            if(qx.dom.Node.isText(node)){

              rng.setEnd(node, end);
            } else {

              rng.setEndAfter(node.childNodes[end]);
            };
            if(sel.rangeCount > 0){

              sel.removeAllRanges();
            };
            sel.addRange(rng);
            return true;
          };
        };
        return false;
      }
    }),
    setAll : function(node){

      return qx.bom.Selection.set(node, 0);
    },
    clear : qx.core.Environment.select("html.selection", {
      "selection" : function(node){

        var rng = qx.bom.Range.get(node);
        var parent = rng.parentElement();
        var documentRange = qx.bom.Range.get(qx.dom.Node.getDocument(node));
        if(qx.dom.Node.isText(node)){

          node = node.parentNode;
        };
        if(parent == documentRange.parentElement() && parent == node){

          var sel = qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node));
          sel.empty();
        };
      },
      "default" : function(node){

        var sel = qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node));
        var nodeName = node.nodeName.toLowerCase();
        if(qx.dom.Node.isElement(node) && (nodeName == "input" || nodeName == "textarea")){

          node.setSelectionRange(0, 0);
          if(qx.bom.Element && qx.bom.Element.blur){

            qx.bom.Element.blur(node);
          };
        } else if(qx.dom.Node.isDocument(node) || nodeName == "body"){

          sel.collapse(node.body ? node.body : node, 0);
        } else {

          var rng = qx.bom.Range.get(node);
          if(!rng.collapsed){

            var compareNode;
            var commonAncestor = rng.commonAncestorContainer;
            if(qx.dom.Node.isElement(node) && qx.dom.Node.isText(commonAncestor)){

              compareNode = commonAncestor.parentNode;
            } else {

              compareNode = commonAncestor;
            };
            if(compareNode == node){

              sel.collapse(node, 0);
            };
          };
        };
      }
    })
  }
});

qx.Bootstrap.define("qx.bom.Range", {
  statics : {
    get : qx.core.Environment.select("html.selection", {
      "selection" : function(node){

        if(qx.dom.Node.isElement(node)){

          switch(node.nodeName.toLowerCase()){case "input":
          switch(node.type){case "text":case "password":case "hidden":case "button":case "reset":case "file":case "submit":
          return node.createTextRange();default:
          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).createRange();};
          break;case "textarea":case "body":case "button":
          return node.createTextRange();default:
          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).createRange();};
        } else {

          if(node == null){

            node = window;
          };
          return qx.bom.Selection.getSelectionObject(qx.dom.Node.getDocument(node)).createRange();
        };
      },
      "default" : function(node){

        var doc = qx.dom.Node.getDocument(node);
        var sel = qx.bom.Selection.getSelectionObject(doc);
        if(sel.rangeCount > 0){

          return sel.getRangeAt(0);
        } else {

          return doc.createRange();
        };
      }
    })
  }
});

qx.Bootstrap.define("qx.util.StringSplit", {
  statics : {
    split : function(str, separator, limit){

      if(Object.prototype.toString.call(separator) !== "[object RegExp]"){

        return String.prototype.split.call(str, separator, limit);
      };
      var output = [],lastLastIndex = 0,flags = (separator.ignoreCase ? "i" : "") + (separator.multiline ? "m" : "") + (separator.sticky ? "y" : ""),separator = RegExp(separator.source, flags + "g"),separator2,match,lastIndex,lastLength,compliantExecNpcg = /()??/.exec("")[1] === undefined;
      str = str + "";
      if(!compliantExecNpcg){

        separator2 = RegExp("^" + separator.source + "$(?!\\s)", flags);
      };
      if(limit === undefined || +limit < 0){

        limit = Infinity;
      } else {

        limit = Math.floor(+limit);
        if(!limit){

          return [];
        };
      };
      while(match = separator.exec(str)){

        lastIndex = match.index + match[0].length;
        if(lastIndex > lastLastIndex){

          output.push(str.slice(lastLastIndex, match.index));
          if(!compliantExecNpcg && match.length > 1){

            match[0].replace(separator2, function(){

              for(var i = 1;i < arguments.length - 2;i++){

                if(arguments[i] === undefined){

                  match[i] = undefined;
                };
              };
            });
          };
          if(match.length > 1 && match.index < str.length){

            Array.prototype.push.apply(output, match.slice(1));
          };
          lastLength = match[0].length;
          lastLastIndex = lastIndex;
          if(output.length >= limit){

            break;
          };
        };
        if(separator.lastIndex === match.index){

          separator.lastIndex++;
        };
      };
      if(lastLastIndex === str.length){

        if(lastLength || !separator.test("")){

          output.push("");
        };
      } else {

        output.push(str.slice(lastLastIndex));
      };
      return output.length > limit ? output.slice(0, limit) : output;
    }
  }
});

qx.Class.define("qx.event.type.Focus", {
  extend : qx.event.type.Event,
  members : {
    init : function(target, relatedTarget, canBubble){

      this.base(arguments, canBubble, false);
      this._target = target;
      this._relatedTarget = relatedTarget;
      return this;
    }
  }
});

qx.Class.define("qx.event.handler.Orientation", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__window = manager.getWindow();
    this._initObserver();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      orientationchange : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    __manager : null,
    __window : null,
    __nativeEventType : null,
    _currentOrientation : null,
    __onNativeWrapper : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _initObserver : function(){

      this.__onNativeWrapper = qx.lang.Function.listener(this._onNative, this);
      this.__nativeEventType = qx.bom.Event.supportsEvent(this.__window, "orientationchange") ? "orientationchange" : "resize";
      var Event = qx.bom.Event;
      Event.addNativeListener(this.__window, this.__nativeEventType, this.__onNativeWrapper);
    },
    _stopObserver : function(){

      var Event = qx.bom.Event;
      Event.removeNativeListener(this.__window, this.__nativeEventType, this.__onNativeWrapper);
    },
    _onNative : qx.event.GlobalError.observeMethod(function(domEvent){

      var detectOrientationChangeDelay = 0;
      if(qx.core.Environment.get("os.name") == "android"){

        detectOrientationChangeDelay = 300;
      };
      qx.lang.Function.delay(this._onOrientationChange, detectOrientationChangeDelay, this, domEvent);
    }),
    _onOrientationChange : function(domEvent){

      var Viewport = qx.bom.Viewport;
      var orientation = Viewport.getOrientation(domEvent.target);
      if(this._currentOrientation != orientation){

        this._currentOrientation = orientation;
        var mode = Viewport.isLandscape(domEvent.target) ? "landscape" : "portrait";
        qx.event.Registration.fireEvent(this.__window, "orientationchange", qx.event.type.Orientation, [orientation, mode]);
      };
    }
  },
  destruct : function(){

    this._stopObserver();
    this.__manager = this.__window = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.type.Orientation", {
  extend : qx.event.type.Event,
  members : {
    __orientation : null,
    __mode : null,
    init : function(orientation, mode){

      this.base(arguments, false, false);
      this.__orientation = orientation;
      this.__mode = mode;
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone.__orientation = this.__orientation;
      clone.__mode = this.__mode;
      return clone;
    },
    getOrientation : function(){

      return this.__orientation;
    },
    isLandscape : function(){

      return this.__mode == "landscape";
    },
    isPortrait : function(){

      return this.__mode == "portrait";
    }
  }
});

qx.Bootstrap.define("qx.event.handler.TouchCore", {
  extend : Object,
  statics : {
    TAP_MAX_DISTANCE : qx.core.Environment.get("os.name") != "android" ? 10 : 40,
    SWIPE_DIRECTION : {
      x : ["left", "right"],
      y : ["up", "down"]
    },
    SWIPE_MIN_DISTANCE : qx.core.Environment.get("os.name") != "android" ? 11 : 41,
    SWIPE_MIN_VELOCITY : 0,
    LONGTAP_TIME : 500
  },
  construct : function(target, emitter){

    this.__target = target;
    this.__emitter = emitter;
    this._initTouchObserver();
    this.__pointers = [];
    this.__touchStartPosition = {
    };
  },
  members : {
    __target : null,
    __emitter : null,
    __onTouchEventWrapper : null,
    __originalTarget : null,
    __touchStartPosition : null,
    __startTime : null,
    __beginScalingDistance : null,
    __beginRotation : null,
    __pointers : null,
    __touchEventNames : null,
    _initTouchObserver : function(){

      this.__onTouchEventWrapper = qx.lang.Function.listener(this._onTouchEvent, this);
      this.__touchEventNames = ["touchstart", "touchmove", "touchend", "touchcancel"];
      if(qx.core.Environment.get("event.mspointer")){

        var engineVersion = parseInt(qx.core.Environment.get("engine.version"), 10);
        if(engineVersion == 10){

          this.__touchEventNames = ["MSPointerDown", "MSPointerMove", "MSPointerUp", "MSPointerCancel"];
        } else {

          this.__touchEventNames = ["pointerdown", "pointermove", "pointerup", "pointercancel"];
        };
      };
      for(var i = 0;i < this.__touchEventNames.length;i++){

        qx.bom.Event.addNativeListener(this.__target, this.__touchEventNames[i], this.__onTouchEventWrapper);
      };
    },
    _stopTouchObserver : function(){

      for(var i = 0;i < this.__touchEventNames.length;i++){

        qx.bom.Event.removeNativeListener(this.__target, this.__touchEventNames[i], this.__onTouchEventWrapper);
      };
    },
    _onTouchEvent : function(domEvent){

      this._commonTouchEventHandler(domEvent);
    },
    _getScalingDistance : function(touch0, touch1){

      return (Math.sqrt(Math.pow(touch0.pageX - touch1.pageX, 2) + Math.pow(touch0.pageY - touch1.pageY, 2)));
    },
    _getRotationAngle : function(touch0, touch1){

      var x = touch0.pageX - touch1.pageX;
      var y = touch0.pageY - touch1.pageY;
      return (Math.atan2(y, x) * 180 / Math.PI);
    },
    _calcTouchesDelta : function(touches){

      var delta = [];
      for(var i = 0;i < touches.length;i++){

        delta.push(this._calcSingleTouchDelta(touches[i]));
      };
      return delta;
    },
    _calcSingleTouchDelta : function(touch){

      if(this.__touchStartPosition.hasOwnProperty(touch.identifier)){

        var touchStartPosition = this.__touchStartPosition[touch.identifier];
        var deltaX = Math.floor(touch.clientX - touchStartPosition[0]);
        var deltaY = Math.floor(touch.clientY - touchStartPosition[1]);
        var axis = "x";
        if(Math.abs(deltaX / deltaY) < 1){

          axis = "y";
        };
        return {
          "x" : deltaX,
          "y" : deltaY,
          "axis" : axis,
          "identifier" : touch.identifier
        };
      } else {

        return {
          "x" : 0,
          "y" : 0,
          "axis" : null,
          "identifier" : touch.identifier
        };
      };
    },
    _commonTouchEventHandler : function(domEvent, type){

      var type = type || domEvent.type;
      if(qx.core.Environment.get("event.mspointer")){

        type = this._mapPointerEvent(type);
        var touches = this._detectTouchesByPointer(domEvent, type);
        domEvent.changedTouches = touches;
        domEvent.targetTouches = touches;
        domEvent.touches = touches;
      };
      domEvent.delta = [];
      if(type == "touchstart"){

        this.__originalTarget = this._getTarget(domEvent);
        if(domEvent.touches && domEvent.touches.length > 1){

          this.__beginScalingDistance = this._getScalingDistance(domEvent.touches[0], domEvent.touches[1]);
          this.__beginRotation = this._getRotationAngle(domEvent.touches[0], domEvent.touches[1]);
        };
        for(var i = 0;i < domEvent.changedTouches.length;i++){

          var touch = domEvent.changedTouches[i];
          this.__touchStartPosition[touch.identifier] = [touch.clientX, touch.clientY];
        };
      };
      if(type == "touchmove"){

        if(typeof domEvent.scale == "undefined" && domEvent.targetTouches.length > 1){

          var currentScalingDistance = this._getScalingDistance(domEvent.targetTouches[0], domEvent.targetTouches[1]);
          domEvent.scale = currentScalingDistance / this.__beginScalingDistance;
        };
        if((typeof domEvent.rotation == "undefined" || qx.core.Environment.get("event.mspointer")) && domEvent.targetTouches.length > 1){

          var currentRotation = this._getRotationAngle(domEvent.targetTouches[0], domEvent.targetTouches[1]);
          domEvent._rotation = currentRotation - this.__beginRotation;
        };
        domEvent.delta = this._calcTouchesDelta(domEvent.targetTouches);
      };
      this._fireEvent(domEvent, type, this.__originalTarget);
      if(qx.core.Environment.get("event.mspointer")){

        if(type == "touchend" || type == "touchcancel"){

          delete this.__pointers[domEvent.pointerId];
        };
      };
      if(type == "touchend" || type == "touchcancel" && domEvent.changedTouches[0]){

        delete this.__touchStartPosition[domEvent.changedTouches[0].identifier];
      };
    },
    _detectTouchesByPointer : function(domEvent, type){

      var touches = [];
      if(type == "touchstart"){

        this.__pointers[domEvent.pointerId] = domEvent;
      } else if(type == "touchmove"){

        this.__pointers[domEvent.pointerId] = domEvent;
      };
      for(var pointerId in this.__pointers){

        var pointer = this.__pointers[pointerId];
        touches.push(pointer);
      };
      return touches;
    },
    _mapPointerEvent : function(type){

      type = type.toLowerCase();
      if(type.indexOf("pointerdown") !== -1){

        return "touchstart";
      } else if(type.indexOf("pointerup") !== -1){

        return "touchend";
      } else if(type.indexOf("pointermove") !== -1){

        return "touchmove";
      } else if(type.indexOf("pointercancel") !== -1){

        return "touchcancel";
      };;;
      return type;
    },
    _getTarget : function(domEvent){

      var target = qx.bom.Event.getTarget(domEvent);
      if(qx.core.Environment.get("engine.name") == "webkit"){

        if(target && target.nodeType == 3){

          target = target.parentNode;
        };
      } else if(qx.core.Environment.get("event.mspointer")){

        var targetForIE = this.__evaluateTarget(domEvent);
        if(targetForIE){

          target = targetForIE;
        };
      };
      return target;
    },
    __evaluateTarget : function(domEvent){

      var clientX = null;
      var clientY = null;
      if(domEvent && domEvent.touches && domEvent.touches.length !== 0){

        clientX = domEvent.touches[0].clientX;
        clientY = domEvent.touches[0].clientY;
      };
      var hitTargets = document.msElementsFromPoint(clientX, clientY);
      if(hitTargets){

        for(var i = 0;i < hitTargets.length;i++){

          var currentTarget = hitTargets[i];
          var pointerEvents = qx.bom.element.Style.get(currentTarget, "pointer-events", 3);
          if(pointerEvents != "none"){

            return currentTarget;
          };
        };
      };
      return null;
    },
    _fireEvent : function(domEvent, type, target){

      if(!target){

        target = this._getTarget(domEvent);
      };
      var type = type || domEvent.type;
      if(target && target.nodeType && this.__emitter){

        this.__emitter.emit(type, domEvent);
      };
    },
    dispose : function(){

      this._stopTouchObserver();
      this.__originalTarget = this.__target = this.__touchEventNames = this.__pointers = this.__emitter = this.__beginScalingDistance = this.__beginRotation = null;
    }
  }
});

qx.Class.define("qx.event.handler.Touch", {
  extend : qx.event.handler.TouchCore,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.__manager = manager;
    this.__window = manager.getWindow();
    this.__root = this.__window.document;
    qx.event.handler.TouchCore.apply(this, [this.__root]);
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      touchstart : 1,
      touchmove : 1,
      touchend : 1,
      touchcancel : 1,
      tap : 1,
      longtap : 1,
      swipe : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE + qx.event.IEventHandler.TARGET_DOCUMENT,
    IGNORE_CAN_HANDLE : true,
    MOUSE_TO_TOUCH_MAPPING : {
      "mousedown" : "touchstart",
      "mousemove" : "touchmove",
      "mouseup" : "touchend"
    }
  },
  members : {
    __manager : null,
    __window : null,
    __root : null,
    __isInTouch : false,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _fireEvent : function(domEvent, type, target, eventTypeClass){

      if(!target){

        target = this._getTarget(domEvent);
      };
      var type = type || domEvent.type;
      if(target && target.nodeType){

        qx.event.Registration.fireEvent(target, type, eventTypeClass || qx.event.type.Touch, [domEvent, target, null, true, true]);
      };
      qx.event.Registration.fireEvent(this.__window, "useraction", qx.event.type.Data, [type]);
    },
    _onTouchEvent : qx.event.GlobalError.observeMethod(function(domEvent){

      this._commonTouchEventHandler(domEvent);
    }),
    dispose : function(){

      this.__callBase("dispose");
      this._stopMouseObserver();
      this.__manager = this.__window = this.__root = null;
    },
    __callBase : function(method, args){

      qx.event.handler.TouchCore.prototype[method].apply(this, args || []);
    }
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
    if(qx.core.Environment.get("event.touch")){

      qx.event.Registration.getManager(document).getHandler(statics);
    };
  }
});

qx.Class.define("qx.event.type.Touch", {
  extend : qx.event.type.Dom,
  members : {
    _cloneNativeEvent : function(nativeEvent, clone){

      var clone = this.base(arguments, nativeEvent, clone);
      clone.pageX = nativeEvent.pageX;
      clone.pageY = nativeEvent.pageY;
      clone.offsetX = nativeEvent.offsetX;
      clone.offsetY = nativeEvent.offsetY;
      clone.layerX = (nativeEvent.offsetX || nativeEvent.layerX);
      clone.layerY = (nativeEvent.offsetY || nativeEvent.layerY);
      clone.scale = nativeEvent.scale;
      clone.rotation = nativeEvent.rotation;
      clone._rotation = nativeEvent._rotation;
      clone.delta = nativeEvent.delta;
      clone.srcElement = nativeEvent.srcElement;
      clone.targetTouches = [];
      for(var i = 0;i < nativeEvent.targetTouches.length;i++){

        clone.targetTouches[i] = nativeEvent.targetTouches[i];
      };
      clone.changedTouches = [];
      for(i = 0;i < nativeEvent.changedTouches.length;i++){

        clone.changedTouches[i] = nativeEvent.changedTouches[i];
      };
      clone.touches = [];
      for(i = 0;i < nativeEvent.touches.length;i++){

        clone.touches[i] = nativeEvent.touches[i];
      };
      return clone;
    },
    stop : function(){

      this.stopPropagation();
    },
    getAllTouches : function(){

      return this._native.touches;
    },
    getTargetTouches : function(){

      return this._native.targetTouches;
    },
    getChangedTargetTouches : function(){

      return this._native.changedTouches;
    },
    isMultiTouch : function(){

      return this.__getEventSpecificTouches().length > 1;
    },
    getScale : function(){

      return this._native.scale;
    },
    getRotation : function(){

      if(typeof this._native._rotation === "undefined"){

        return this._native.rotation;
      } else {

        return this._native._rotation;
      };
    },
    getDelta : function(){

      return this._native.delta;
    },
    getDocumentLeft : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).pageX;
    },
    getDocumentTop : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).pageY;
    },
    getScreenLeft : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).screenX;
    },
    getScreenTop : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).screenY;
    },
    getViewportLeft : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).clientX;
    },
    getViewportTop : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).clientY;
    },
    getIdentifier : function(touchIndex){

      return this.__getEventSpecificTouch(touchIndex).identifier;
    },
    __getEventSpecificTouch : function(touchIndex){

      touchIndex = touchIndex == null ? 0 : touchIndex;
      return this.__getEventSpecificTouches()[touchIndex];
    },
    __getEventSpecificTouches : function(){

      var touches = (this._isTouchEnd() ? this.getChangedTargetTouches() : this.getTargetTouches());
      return touches;
    },
    _isTouchEnd : function(){

      return (this.getType() == "touchend" || this.getType() == "touchcancel");
    }
  }
});

qx.Class.define("qx.event.handler.Input", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(){

    this.base(arguments);
    this._onChangeCheckedWrapper = qx.lang.Function.listener(this._onChangeChecked, this);
    this._onChangeValueWrapper = qx.lang.Function.listener(this._onChangeValue, this);
    this._onInputWrapper = qx.lang.Function.listener(this._onInput, this);
    this._onPropertyWrapper = qx.lang.Function.listener(this._onProperty, this);
    if((qx.core.Environment.get("engine.name") == "opera")){

      this._onKeyDownWrapper = qx.lang.Function.listener(this._onKeyDown, this);
      this._onKeyUpWrapper = qx.lang.Function.listener(this._onKeyUp, this);
      this._onBlurWrapper = qx.lang.Function.listener(this._onBlur, this);
    };
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      input : 1,
      change : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : false
  },
  members : {
    __enter : false,
    __onInputTimeoutId : null,
    __oldValue : null,
    __oldInputValue : null,
    canHandleEvent : function(target, type){

      var lower = target.tagName.toLowerCase();
      if(type === "input" && (lower === "input" || lower === "textarea")){

        return true;
      };
      if(type === "change" && (lower === "input" || lower === "textarea" || lower === "select")){

        return true;
      };
      return false;
    },
    registerEvent : function(target, type, capture){

      if(qx.core.Environment.get("engine.name") == "mshtml" && (qx.core.Environment.get("engine.version") < 9 || (qx.core.Environment.get("engine.version") >= 9 && qx.core.Environment.get("browser.documentmode") < 9))){

        if(!target.__inputHandlerAttached){

          var tag = target.tagName.toLowerCase();
          var elementType = target.type;
          if(elementType === "text" || elementType === "password" || tag === "textarea" || elementType === "checkbox" || elementType === "radio"){

            qx.bom.Event.addNativeListener(target, "propertychange", this._onPropertyWrapper);
          };
          if(elementType !== "checkbox" && elementType !== "radio"){

            qx.bom.Event.addNativeListener(target, "change", this._onChangeValueWrapper);
          };
          if(elementType === "text" || elementType === "password"){

            this._onKeyPressWrapped = qx.lang.Function.listener(this._onKeyPress, this, target);
            qx.bom.Event.addNativeListener(target, "keypress", this._onKeyPressWrapped);
          };
          target.__inputHandlerAttached = true;
        };
      } else {

        if(type === "input"){

          this.__registerInputListener(target);
        } else if(type === "change"){

          if(target.type === "radio" || target.type === "checkbox"){

            qx.bom.Event.addNativeListener(target, "change", this._onChangeCheckedWrapper);
          } else {

            qx.bom.Event.addNativeListener(target, "change", this._onChangeValueWrapper);
          };
          if((qx.core.Environment.get("engine.name") == "opera") || (qx.core.Environment.get("engine.name") == "mshtml")){

            if(target.type === "text" || target.type === "password"){

              this._onKeyPressWrapped = qx.lang.Function.listener(this._onKeyPress, this, target);
              qx.bom.Event.addNativeListener(target, "keypress", this._onKeyPressWrapped);
            };
          };
        };
      };
    },
    __registerInputListener : qx.core.Environment.select("engine.name", {
      "mshtml" : function(target){

        if(qx.core.Environment.get("engine.version") >= 9 && qx.core.Environment.get("browser.documentmode") >= 9){

          qx.bom.Event.addNativeListener(target, "input", this._onInputWrapper);
          if(target.type === "text" || target.type === "password" || target.type === "textarea"){

            this._inputFixWrapper = qx.lang.Function.listener(this._inputFix, this, target);
            qx.bom.Event.addNativeListener(target, "keyup", this._inputFixWrapper);
          };
        };
      },
      "webkit" : function(target){

        var tag = target.tagName.toLowerCase();
        if(parseFloat(qx.core.Environment.get("engine.version")) < 532 && tag == "textarea"){

          qx.bom.Event.addNativeListener(target, "keypress", this._onInputWrapper);
        };
        qx.bom.Event.addNativeListener(target, "input", this._onInputWrapper);
      },
      "opera" : function(target){

        qx.bom.Event.addNativeListener(target, "keyup", this._onKeyUpWrapper);
        qx.bom.Event.addNativeListener(target, "keydown", this._onKeyDownWrapper);
        qx.bom.Event.addNativeListener(target, "blur", this._onBlurWrapper);
        qx.bom.Event.addNativeListener(target, "input", this._onInputWrapper);
      },
      "default" : function(target){

        qx.bom.Event.addNativeListener(target, "input", this._onInputWrapper);
      }
    }),
    unregisterEvent : function(target, type){

      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("engine.version") < 9 && qx.core.Environment.get("browser.documentmode") < 9){

        if(target.__inputHandlerAttached){

          var tag = target.tagName.toLowerCase();
          var elementType = target.type;
          if(elementType === "text" || elementType === "password" || tag === "textarea" || elementType === "checkbox" || elementType === "radio"){

            qx.bom.Event.removeNativeListener(target, "propertychange", this._onPropertyWrapper);
          };
          if(elementType !== "checkbox" && elementType !== "radio"){

            qx.bom.Event.removeNativeListener(target, "change", this._onChangeValueWrapper);
          };
          if(elementType === "text" || elementType === "password"){

            qx.bom.Event.removeNativeListener(target, "keypress", this._onKeyPressWrapped);
          };
          try{

            delete target.__inputHandlerAttached;
          } catch(ex) {

            target.__inputHandlerAttached = null;
          };
        };
      } else {

        if(type === "input"){

          this.__unregisterInputListener(target);
        } else if(type === "change"){

          if(target.type === "radio" || target.type === "checkbox"){

            qx.bom.Event.removeNativeListener(target, "change", this._onChangeCheckedWrapper);
          } else {

            qx.bom.Event.removeNativeListener(target, "change", this._onChangeValueWrapper);
          };
        };
        if((qx.core.Environment.get("engine.name") == "opera") || (qx.core.Environment.get("engine.name") == "mshtml")){

          if(target.type === "text" || target.type === "password"){

            qx.bom.Event.removeNativeListener(target, "keypress", this._onKeyPressWrapped);
          };
        };
      };
    },
    __unregisterInputListener : qx.core.Environment.select("engine.name", {
      "mshtml" : function(target){

        if(qx.core.Environment.get("engine.version") >= 9 && qx.core.Environment.get("browser.documentmode") >= 9){

          qx.bom.Event.removeNativeListener(target, "input", this._onInputWrapper);
          if(target.type === "text" || target.type === "password" || target.type === "textarea"){

            qx.bom.Event.removeNativeListener(target, "keyup", this._inputFixWrapper);
          };
        };
      },
      "webkit" : function(target){

        var tag = target.tagName.toLowerCase();
        if(parseFloat(qx.core.Environment.get("engine.version")) < 532 && tag == "textarea"){

          qx.bom.Event.removeNativeListener(target, "keypress", this._onInputWrapper);
        };
        qx.bom.Event.removeNativeListener(target, "input", this._onInputWrapper);
      },
      "opera" : function(target){

        qx.bom.Event.removeNativeListener(target, "keyup", this._onKeyUpWrapper);
        qx.bom.Event.removeNativeListener(target, "keydown", this._onKeyDownWrapper);
        qx.bom.Event.removeNativeListener(target, "blur", this._onBlurWrapper);
        qx.bom.Event.removeNativeListener(target, "input", this._onInputWrapper);
      },
      "default" : function(target){

        qx.bom.Event.removeNativeListener(target, "input", this._onInputWrapper);
      }
    }),
    _onKeyPress : qx.core.Environment.select("engine.name", {
      "mshtml|opera" : function(e, target){

        if(e.keyCode === 13){

          if(target.value !== this.__oldValue){

            this.__oldValue = target.value;
            qx.event.Registration.fireEvent(target, "change", qx.event.type.Data, [target.value]);
          };
        };
      },
      "default" : null
    }),
    _inputFix : qx.core.Environment.select("engine.name", {
      "mshtml" : function(e, target){

        if(e.keyCode === 46 || e.keyCode === 8){

          if(target.value !== this.__oldInputValue){

            this.__oldInputValue = target.value;
            qx.event.Registration.fireEvent(target, "input", qx.event.type.Data, [target.value]);
          };
        };
      },
      "default" : null
    }),
    _onKeyDown : qx.core.Environment.select("engine.name", {
      "opera" : function(e){

        if(e.keyCode === 13){

          this.__enter = true;
        };
      },
      "default" : null
    }),
    _onKeyUp : qx.core.Environment.select("engine.name", {
      "opera" : function(e){

        if(e.keyCode === 13){

          this.__enter = false;
        };
      },
      "default" : null
    }),
    _onBlur : qx.core.Environment.select("engine.name", {
      "opera" : function(e){

        if(this.__onInputTimeoutId && qx.core.Environment.get("browser.version") < 10.6){

          window.clearTimeout(this.__onInputTimeoutId);
        };
      },
      "default" : null
    }),
    _onInput : qx.event.GlobalError.observeMethod(function(e){

      var target = qx.bom.Event.getTarget(e);
      var tag = target.tagName.toLowerCase();
      if(!this.__enter || tag !== "input"){

        if((qx.core.Environment.get("engine.name") == "opera") && qx.core.Environment.get("browser.version") < 10.6){

          this.__onInputTimeoutId = window.setTimeout(function(){

            qx.event.Registration.fireEvent(target, "input", qx.event.type.Data, [target.value]);
          }, 0);
        } else {

          qx.event.Registration.fireEvent(target, "input", qx.event.type.Data, [target.value]);
        };
      };
    }),
    _onChangeValue : qx.event.GlobalError.observeMethod(function(e){

      var target = qx.bom.Event.getTarget(e);
      var data = target.value;
      if(target.type === "select-multiple"){

        var data = [];
        for(var i = 0,o = target.options,l = o.length;i < l;i++){

          if(o[i].selected){

            data.push(o[i].value);
          };
        };
      };
      qx.event.Registration.fireEvent(target, "change", qx.event.type.Data, [data]);
    }),
    _onChangeChecked : qx.event.GlobalError.observeMethod(function(e){

      var target = qx.bom.Event.getTarget(e);
      if(target.type === "radio"){

        if(target.checked){

          qx.event.Registration.fireEvent(target, "change", qx.event.type.Data, [target.value]);
        };
      } else {

        qx.event.Registration.fireEvent(target, "change", qx.event.type.Data, [target.checked]);
      };
    }),
    _onProperty : qx.core.Environment.select("engine.name", {
      "mshtml" : qx.event.GlobalError.observeMethod(function(e){

        var target = qx.bom.Event.getTarget(e);
        var prop = e.propertyName;
        if(prop === "value" && (target.type === "text" || target.type === "password" || target.tagName.toLowerCase() === "textarea")){

          if(!target.$$inValueSet){

            qx.event.Registration.fireEvent(target, "input", qx.event.type.Data, [target.value]);
          };
        } else if(prop === "checked"){

          if(target.type === "checkbox"){

            qx.event.Registration.fireEvent(target, "change", qx.event.type.Data, [target.checked]);
          } else if(target.checked){

            qx.event.Registration.fireEvent(target, "change", qx.event.type.Data, [target.value]);
          };
        };
      }),
      "default" : function(){
      }
    })
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.handler.Capture", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      capture : true,
      losecapture : true
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    }
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.handler.DragDrop", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__root = manager.getWindow().document.documentElement;
    this.__manager.addListener(this.__root, "longtap", this._onLongtap, this);
    this.__manager.addListener(this.__root, "trackstart", this._onTrackStart, this);
    this.__manager.addListener(this.__root, "track", this._onTrack, this);
    this.__manager.addListener(this.__root, "trackend", this._onTrackEnd, this);
    qx.event.Registration.addListener(window, "blur", this._onWindowBlur, this);
    this.__rebuildStructures();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      dragstart : 1,
      dragend : 1,
      dragover : 1,
      dragleave : 1,
      drop : 1,
      drag : 1,
      dragchange : 1,
      droprequest : 1
    },
    IGNORE_CAN_HANDLE : true,
    ALLOWED_BUTTONS : ["left"],
    MIN_DRAG_DISTANCE : 5
  },
  properties : {
    cursor : {
      check : "qx.ui.core.Widget",
      nullable : true,
      init : null
    }
  },
  members : {
    __manager : null,
    __root : null,
    __dropTarget : null,
    __dragTarget : null,
    __types : null,
    __actions : null,
    __keys : null,
    __cache : null,
    __currentType : null,
    __currentAction : null,
    __sessionActive : false,
    __validDrop : false,
    __validAction : false,
    __dragTargetWidget : null,
    __startTargets : null,
    __escaped : false,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    addType : function(type){

      this.__types[type] = true;
    },
    addAction : function(action){

      this.__actions[action] = true;
    },
    supportsType : function(type){

      return !!this.__types[type];
    },
    supportsAction : function(type){

      return !!this.__actions[type];
    },
    getData : function(type){

      if(!this.__validDrop || !this.__dropTarget){

        throw new Error("This method must not be used outside the drop event listener!");
      };
      if(!this.__types[type]){

        throw new Error("Unsupported data type: " + type + "!");
      };
      if(!this.__cache[type]){

        this.__currentType = type;
        this.__fireEvent("droprequest", this.__dragTarget, this.__dropTarget, false);
      };
      if(!this.__cache[type]){

        throw new Error("Please use a droprequest listener to the drag source to fill the manager with data!");
      };
      return this.__cache[type] || null;
    },
    getCurrentAction : function(){

      this.__detectAction();
      return this.__currentAction;
    },
    getDragTarget : function(){

      return this.__dragTargetWidget;
    },
    addData : function(type, data){

      this.__cache[type] = data;
    },
    getCurrentType : function(){

      return this.__currentType;
    },
    isSessionActive : function(){

      return this.__sessionActive;
    },
    __rebuildStructures : function(){

      this.__types = {
      };
      this.__actions = {
      };
      this.__keys = {
      };
      this.__cache = {
      };
    },
    __detectAction : function(){

      if(this.__dragTarget == null){

        return;
      };
      var actions = this.__actions;
      var keys = this.__keys;
      var current = null;
      if(this.__validDrop){

        if(keys.Shift && keys.Control && actions.alias){

          current = "alias";
        } else if(keys.Shift && keys.Alt && actions.copy){

          current = "copy";
        } else if(keys.Shift && actions.move){

          current = "move";
        } else if(keys.Alt && actions.alias){

          current = "alias";
        } else if(keys.Control && actions.copy){

          current = "copy";
        } else if(actions.move){

          current = "move";
        } else if(actions.copy){

          current = "copy";
        } else if(actions.alias){

          current = "alias";
        };;;;;;;
      };
      var old = this.__currentAction;
      if(current != old){

        if(this.__dropTarget){

          this.__currentAction = current;
          this.__validAction = this.__fireEvent("dragchange", this.__dropTarget, this.__dragTarget, true);
          if(!this.__validAction){

            current = null;
          };
        };
        if(current != old){

          this.__currentAction = current;
          this.__fireEvent("dragchange", this.__dragTarget, this.__dropTarget, false);
        };
      };
    },
    __fireEvent : function(type, target, relatedTarget, cancelable, original){

      var Registration = qx.event.Registration;
      var dragEvent = Registration.createEvent(type, qx.event.type.Drag, [cancelable, original]);
      if(target !== relatedTarget){

        dragEvent.setRelatedTarget(relatedTarget);
      };
      return Registration.dispatchEvent(target, dragEvent);
    },
    __findDraggable : function(elem){

      while(elem && elem.nodeType == 1){

        if(elem.getAttribute("qxDraggable") == "on"){

          return elem;
        };
        elem = elem.parentNode;
      };
      return null;
    },
    __findDroppable : function(elem){

      while(elem && elem.nodeType == 1){

        if(elem.getAttribute("qxDroppable") == "on"){

          return elem;
        };
        elem = elem.parentNode;
      };
      return null;
    },
    clearSession : function(){

      this.__manager.removeListener(this.__root, "keydown", this._onKeyDown, this, true);
      this.__manager.removeListener(this.__root, "keyup", this._onKeyUp, this, true);
      this.__manager.removeListener(this.__root, "keypress", this._onKeyPress, this, true);
      this.__manager.removeListener(this.__root, "roll", this._onRoll, this, true);
      if(this.__dragTarget){

        this.__fireEvent("dragend", this.__dragTarget, this.__dropTarget, false);
      };
      this.__validDrop = false;
      this.__dropTarget = null;
      if(this.__dragTargetWidget){

        this.__dragTargetWidget.removeState("drag");
        this.__dragTargetWidget = null;
      };
      this.__dragTarget = null;
      this.__sessionActive = false;
      this.__startTargets = null;
      this.__rebuildStructures();
    },
    _onLongtap : function(e){

      if(e.getPointerType() != "touch"){

        return;
      };
      this.__manager.addListener(this.__root, "roll", this._onRoll, this, true);
      this._start(e);
    },
    _start : function(e){

      var isButtonOk = qx.event.handler.DragDrop.ALLOWED_BUTTONS.indexOf(e.getButton()) !== -1;
      if(!e.isPrimary() || !isButtonOk){

        return;
      };
      var target = this.__startTargets ? this.__startTargets.target : e.getTarget();
      var dragable = this.__findDraggable(target);
      if(dragable){

        this.__dragTarget = dragable;
        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(this.__startTargets.original);
        while(widgetOriginalTarget && widgetOriginalTarget.isAnonymous()){

          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();
        };
        if(widgetOriginalTarget){

          this.__dragTargetWidget = widgetOriginalTarget;
          widgetOriginalTarget.addState("drag");
        };
        if(!this.__fireEvent("dragstart", this.__dragTarget, this.__dropTarget, true, e)){

          this.__dragTargetWidget = null;
          return;
        };
        this.__manager.addListener(this.__root, "keydown", this._onKeyDown, this, true);
        this.__manager.addListener(this.__root, "keyup", this._onKeyUp, this, true);
        this.__manager.addListener(this.__root, "keypress", this._onKeyPress, this, true);
        this.__sessionActive = true;
      };
    },
    _onTrackStart : function(e){

      if(e.isPrimary()){

        this.__startTargets = {
          target : e.getTarget(),
          original : e.getOriginalTarget()
        };
      };
    },
    _onTrack : function(e){

      if(!e.isPrimary()){

        return;
      };
      if(this.__escaped){

        return;
      };
      if(!this.__sessionActive && e.getPointerType() == "mouse"){

        var delta = e.getDelta();
        var distance = qx.event.handler.DragDrop.MIN_DRAG_DISTANCE;
        if(Math.abs(delta.x) > distance || Math.abs(delta.y) > distance){

          this._start(e);
        };
      };
      if(!this.__sessionActive){

        return;
      };
      if(!this.__fireEvent("drag", this.__dragTarget, this.__dropTarget, true, e)){

        this.clearSession();
      };
      var doc = this.__manager.getWindow().document;
      var el = doc.elementFromPoint(e.getDocumentLeft(), e.getDocumentTop());
      var cursor = this.getCursor();
      if(!cursor){

        cursor = qx.ui.core.DragDropCursor.getInstance();
      };
      var cursorEl = cursor.getContentElement().getDomElement();
      if(el !== cursorEl){

        var droppable = this.__findDroppable(el);
        if(droppable && droppable != this.__dropTarget){

          if(this.__dropTarget){

            this.__fireEvent("dragleave", this.__dropTarget, this.__dragTarget, false, e);
          };
          this.__validDrop = true;
          this.__dropTarget = droppable;
          this.__validDrop = this.__fireEvent("dragover", droppable, this.__dragTarget, true, e);
        } else if(!droppable && this.__dropTarget){

          this.__fireEvent("dragleave", this.__dropTarget, this.__dragTarget, false, e);
          this.__dropTarget = null;
          this.__validDrop = false;
          qx.event.Timer.once(this.__detectAction, this, 0);
        };
      };
      var keys = this.__keys;
      keys.Control = e.isCtrlPressed();
      keys.Shift = e.isShiftPressed();
      keys.Alt = e.isAltPressed();
      this.__detectAction();
    },
    _onTrackEnd : function(e){

      if(!e.isPrimary()){

        return;
      };
      if(this.__validDrop && this.__validAction){

        this.__fireEvent("drop", this.__dropTarget, this.__dragTarget, false, e);
      };
      if(e.getTarget() == this.__dragTarget){

        e.stopPropagation();
      };
      this.clearSession();
      this.__escaped = false;
    },
    _onRoll : function(e){

      e.stop();
    },
    _onWindowBlur : function(e){

      this.clearSession();
    },
    _onKeyDown : function(e){

      var iden = e.getKeyIdentifier();
      switch(iden){case "Alt":case "Control":case "Shift":
      if(!this.__keys[iden]){

        this.__keys[iden] = true;
        this.__detectAction();
      };};
    },
    _onKeyUp : function(e){

      var iden = e.getKeyIdentifier();
      switch(iden){case "Alt":case "Control":case "Shift":
      if(this.__keys[iden]){

        this.__keys[iden] = false;
        this.__detectAction();
      };};
    },
    _onKeyPress : function(e){

      var iden = e.getKeyIdentifier();
      switch(iden){case "Escape":
      this.clearSession();
      this.__escaped = true;};
    }
  },
  destruct : function(){

    this.__dragTarget = this.__dropTarget = this.__manager = this.__root = this.__types = this.__actions = this.__keys = this.__cache = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.event.type.Drag", {
  extend : qx.event.type.Event,
  members : {
    init : function(cancelable, originalEvent){

      this.base(arguments, true, cancelable);
      if(originalEvent){

        this._native = originalEvent.getNativeEvent() || null;
        this._originalTarget = originalEvent.getOriginalTarget() || null;
      } else {

        this._native = null;
        this._originalTarget = null;
      };
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone._native = this._native;
      return clone;
    },
    getDocumentLeft : function(){

      if(this._native == null){

        return 0;
      };
      var x = this._native.pageX;
      if(x !== undefined){

        if(x == 0 && this._native.pointerType == "touch"){

          x = this._native._original.changedTouches[0].pageX || 0;
        };
        return Math.round(x);
      } else {

        var win = qx.dom.Node.getWindow(this._native.srcElement);
        return Math.round(this._native.clientX) + qx.bom.Viewport.getScrollLeft(win);
      };
    },
    getDocumentTop : function(){

      if(this._native == null){

        return 0;
      };
      var y = this._native.pageY;
      if(y !== undefined){

        if(y == 0 && this._native.pointerType == "touch"){

          y = this._native._original.changedTouches[0].pageY || 0;
        };
        return Math.round(y);
      } else {

        var win = qx.dom.Node.getWindow(this._native.srcElement);
        return Math.round(this._native.clientY) + qx.bom.Viewport.getScrollTop(win);
      };
    },
    getManager : function(){

      return qx.event.Registration.getManager(this.getTarget()).getHandler(qx.event.handler.DragDrop);
    },
    addType : function(type){

      this.getManager().addType(type);
    },
    addAction : function(action){

      this.getManager().addAction(action);
    },
    supportsType : function(type){

      return this.getManager().supportsType(type);
    },
    supportsAction : function(action){

      return this.getManager().supportsAction(action);
    },
    addData : function(type, data){

      this.getManager().addData(type, data);
    },
    getData : function(type){

      return this.getManager().getData(type);
    },
    getCurrentType : function(){

      return this.getManager().getCurrentType();
    },
    getCurrentAction : function(){

      if(this.getDefaultPrevented()){

        return null;
      };
      return this.getManager().getCurrentAction();
    },
    getDragTarget : function(){

      return this.getManager().getDragTarget();
    },
    stopSession : function(){

      this.getManager().clearSession();
    }
  }
});

qx.Mixin.define("qx.locale.MTranslation", {
  members : {
    tr : function(messageId, varargs){

      var nlsManager = qx.locale.Manager;
      if(nlsManager){

        return nlsManager.tr.apply(nlsManager, arguments);
      };
      throw new Error("To enable localization please include qx.locale.Manager into your build!");
    },
    trn : function(singularMessageId, pluralMessageId, count, varargs){

      var nlsManager = qx.locale.Manager;
      if(nlsManager){

        return nlsManager.trn.apply(nlsManager, arguments);
      };
      throw new Error("To enable localization please include qx.locale.Manager into your build!");
    },
    trc : function(hint, messageId, varargs){

      var nlsManager = qx.locale.Manager;
      if(nlsManager){

        return nlsManager.trc.apply(nlsManager, arguments);
      };
      throw new Error("To enable localization please include qx.locale.Manager into your build!");
    },
    trnc : function(hint, singularMessageId, pluralMessageId, count, varargs){

      var nlsManager = qx.locale.Manager;
      if(nlsManager){

        return nlsManager.trnc.apply(nlsManager, arguments);
      };
      throw new Error("To enable localization please include qx.locale.Manager into your build!");
    },
    marktr : function(messageId){

      var nlsManager = qx.locale.Manager;
      if(nlsManager){

        return nlsManager.marktr.apply(nlsManager, arguments);
      };
      throw new Error("To enable localization please include qx.locale.Manager into your build!");
    }
  }
});

qx.Class.define("qx.ui.core.Widget", {
  extend : qx.ui.core.LayoutItem,
  include : [qx.locale.MTranslation],
  construct : function(){

    this.base(arguments);
    this.__contentElement = this.__createContentElement();
    this.initFocusable();
    this.initSelectable();
    this.initNativeContextMenu();
  },
  events : {
    appear : "qx.event.type.Event",
    disappear : "qx.event.type.Event",
    createChildControl : "qx.event.type.Data",
    resize : "qx.event.type.Data",
    move : "qx.event.type.Data",
    syncAppearance : "qx.event.type.Data",
    mousemove : "qx.event.type.Mouse",
    mouseover : "qx.event.type.Mouse",
    mouseout : "qx.event.type.Mouse",
    mousedown : "qx.event.type.Mouse",
    mouseup : "qx.event.type.Mouse",
    click : "qx.event.type.Mouse",
    dblclick : "qx.event.type.Mouse",
    contextmenu : "qx.event.type.Mouse",
    beforeContextmenuOpen : "qx.event.type.Data",
    mousewheel : "qx.event.type.MouseWheel",
    touchstart : "qx.event.type.Touch",
    touchend : "qx.event.type.Touch",
    touchmove : "qx.event.type.Touch",
    touchcancel : "qx.event.type.Touch",
    tap : "qx.event.type.Tap",
    longtap : "qx.event.type.Tap",
    dbltap : "qx.event.type.Tap",
    swipe : "qx.event.type.Touch",
    rotate : "qx.event.type.Rotate",
    pinch : "qx.event.type.Pinch",
    track : "qx.event.type.Track",
    roll : "qx.event.type.Roll",
    pointermove : "qx.event.type.Pointer",
    pointerover : "qx.event.type.Pointer",
    pointerout : "qx.event.type.Pointer",
    pointerdown : "qx.event.type.Pointer",
    pointerup : "qx.event.type.Pointer",
    pointercancel : "qx.event.type.Pointer",
    keyup : "qx.event.type.KeySequence",
    keydown : "qx.event.type.KeySequence",
    keypress : "qx.event.type.KeySequence",
    keyinput : "qx.event.type.KeyInput",
    focus : "qx.event.type.Focus",
    blur : "qx.event.type.Focus",
    focusin : "qx.event.type.Focus",
    focusout : "qx.event.type.Focus",
    activate : "qx.event.type.Focus",
    deactivate : "qx.event.type.Focus",
    capture : "qx.event.type.Event",
    losecapture : "qx.event.type.Event",
    drop : "qx.event.type.Drag",
    dragleave : "qx.event.type.Drag",
    dragover : "qx.event.type.Drag",
    drag : "qx.event.type.Drag",
    dragstart : "qx.event.type.Drag",
    dragend : "qx.event.type.Drag",
    dragchange : "qx.event.type.Drag",
    droprequest : "qx.event.type.Drag"
  },
  properties : {
    paddingTop : {
      check : "Integer",
      init : 0,
      apply : "_applyPadding",
      themeable : true
    },
    paddingRight : {
      check : "Integer",
      init : 0,
      apply : "_applyPadding",
      themeable : true
    },
    paddingBottom : {
      check : "Integer",
      init : 0,
      apply : "_applyPadding",
      themeable : true
    },
    paddingLeft : {
      check : "Integer",
      init : 0,
      apply : "_applyPadding",
      themeable : true
    },
    padding : {
      group : ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"],
      mode : "shorthand",
      themeable : true
    },
    zIndex : {
      nullable : true,
      init : 10,
      apply : "_applyZIndex",
      event : "changeZIndex",
      check : "Integer",
      themeable : true
    },
    decorator : {
      nullable : true,
      init : null,
      apply : "_applyDecorator",
      event : "changeDecorator",
      check : "Decorator",
      themeable : true
    },
    backgroundColor : {
      nullable : true,
      check : "Color",
      apply : "_applyBackgroundColor",
      event : "changeBackgroundColor",
      themeable : true
    },
    textColor : {
      nullable : true,
      check : "Color",
      apply : "_applyTextColor",
      event : "changeTextColor",
      themeable : true,
      inheritable : true
    },
    font : {
      nullable : true,
      apply : "_applyFont",
      check : "Font",
      event : "changeFont",
      themeable : true,
      inheritable : true,
      dereference : true
    },
    opacity : {
      check : "Number",
      apply : "_applyOpacity",
      themeable : true,
      nullable : true,
      init : null
    },
    cursor : {
      check : "String",
      apply : "_applyCursor",
      themeable : true,
      inheritable : true,
      nullable : true,
      init : null
    },
    toolTip : {
      check : "qx.ui.tooltip.ToolTip",
      nullable : true
    },
    toolTipText : {
      check : "String",
      nullable : true,
      event : "changeToolTipText",
      apply : "_applyToolTipText"
    },
    toolTipIcon : {
      check : "String",
      nullable : true,
      event : "changeToolTipText"
    },
    blockToolTip : {
      check : "Boolean",
      init : false
    },
    visibility : {
      check : ["visible", "hidden", "excluded"],
      init : "visible",
      apply : "_applyVisibility",
      event : "changeVisibility"
    },
    enabled : {
      init : true,
      check : "Boolean",
      inheritable : true,
      apply : "_applyEnabled",
      event : "changeEnabled"
    },
    anonymous : {
      init : false,
      check : "Boolean"
    },
    tabIndex : {
      check : "Integer",
      nullable : true,
      apply : "_applyTabIndex"
    },
    focusable : {
      check : "Boolean",
      init : false,
      apply : "_applyFocusable"
    },
    keepFocus : {
      check : "Boolean",
      init : false,
      apply : "_applyKeepFocus"
    },
    keepActive : {
      check : "Boolean",
      init : false,
      apply : "_applyKeepActive"
    },
    draggable : {
      check : "Boolean",
      init : false,
      apply : "_applyDraggable"
    },
    droppable : {
      check : "Boolean",
      init : false,
      apply : "_applyDroppable"
    },
    selectable : {
      check : "Boolean",
      init : false,
      event : "changeSelectable",
      apply : "_applySelectable"
    },
    contextMenu : {
      check : "qx.ui.menu.Menu",
      apply : "_applyContextMenu",
      nullable : true,
      event : "changeContextMenu"
    },
    nativeContextMenu : {
      check : "Boolean",
      init : false,
      themeable : true,
      event : "changeNativeContextMenu",
      apply : "_applyNativeContextMenu"
    },
    appearance : {
      check : "String",
      init : "widget",
      apply : "_applyAppearance",
      event : "changeAppearance"
    }
  },
  statics : {
    DEBUG : false,
    getWidgetByElement : function(element, considerAnonymousState){

      while(element){

        var widgetKey = element.$$widget;
        if(widgetKey != null){

          var widget = qx.core.ObjectRegistry.fromHashCode(widgetKey);
          if(!considerAnonymousState || !widget.getAnonymous()){

            return widget;
          };
        };
        try{

          element = element.parentNode;
        } catch(e) {

          return null;
        };
      };
      return null;
    },
    contains : function(parent, child){

      while(child){

        if(parent == child){

          return true;
        };
        child = child.getLayoutParent();
      };
      return false;
    },
    __separatorPool : new qx.util.ObjectPool()
  },
  members : {
    __contentElement : null,
    __initialAppearanceApplied : null,
    __toolTipTextListenerId : null,
    __layoutManager : null,
    _getLayout : function(){

      return this.__layoutManager;
    },
    _setLayout : function(layout){

      if(qx.core.Environment.get("qx.debug")){

        if(layout){

          this.assertInstance(layout, qx.ui.layout.Abstract);
        };
      };
      if(this.__layoutManager){

        this.__layoutManager.connectToWidget(null);
      };
      if(layout){

        layout.connectToWidget(this);
      };
      this.__layoutManager = layout;
      qx.ui.core.queue.Layout.add(this);
    },
    setLayoutParent : function(parent){

      if(this.$$parent === parent){

        return;
      };
      var content = this.getContentElement();
      if(this.$$parent && !this.$$parent.$$disposed){

        this.$$parent.getContentElement().remove(content);
      };
      this.$$parent = parent || null;
      if(parent && !parent.$$disposed){

        this.$$parent.getContentElement().add(content);
      };
      this.$$refreshInheritables();
      qx.ui.core.queue.Visibility.add(this);
    },
    _updateInsets : null,
    renderLayout : function(left, top, width, height){

      var changes = this.base(arguments, left, top, width, height);
      if(!changes){

        return null;
      };
      if(qx.lang.Object.isEmpty(changes) && !this._updateInsets){

        return null;
      };
      var content = this.getContentElement();
      var inner = changes.size || this._updateInsets;
      var pixel = "px";
      var contentStyles = {
      };
      if(changes.position){

        contentStyles.left = left + pixel;
        contentStyles.top = top + pixel;
      };
      if(inner || changes.margin){

        contentStyles.width = width + pixel;
        contentStyles.height = height + pixel;
      };
      if(Object.keys(contentStyles).length > 0){

        content.setStyles(contentStyles);
      };
      if(inner || changes.local || changes.margin){

        if(this.__layoutManager && this.hasLayoutChildren()){

          var inset = this.getInsets();
          var innerWidth = width - inset.left - inset.right;
          var innerHeight = height - inset.top - inset.bottom;
          var decorator = this.getDecorator();
          var decoratorPadding = {
            left : 0,
            right : 0,
            top : 0,
            bottom : 0
          };
          if(decorator){

            decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);
            decoratorPadding = decorator.getPadding();
          };
          var padding = {
            top : this.getPaddingTop() + decoratorPadding.top,
            right : this.getPaddingRight() + decoratorPadding.right,
            bottom : this.getPaddingBottom() + decoratorPadding.bottom,
            left : this.getPaddingLeft() + decoratorPadding.left
          };
          this.__layoutManager.renderLayout(innerWidth, innerHeight, padding);
        } else if(this.hasLayoutChildren()){

          throw new Error("At least one child in control " + this._findTopControl() + " requires a layout, but no one was defined!");
        };
      };
      if(changes.position && this.hasListener("move")){

        this.fireDataEvent("move", this.getBounds());
      };
      if(changes.size && this.hasListener("resize")){

        this.fireDataEvent("resize", this.getBounds());
      };
      delete this._updateInsets;
      return changes;
    },
    __separators : null,
    clearSeparators : function(){

      var reg = this.__separators;
      if(!reg){

        return;
      };
      var pool = qx.ui.core.Widget.__separatorPool;
      var content = this.getContentElement();
      var widget;
      for(var i = 0,l = reg.length;i < l;i++){

        widget = reg[i];
        pool.poolObject(widget);
        content.remove(widget.getContentElement());
      };
      reg.length = 0;
    },
    renderSeparator : function(separator, bounds){

      var widget = qx.ui.core.Widget.__separatorPool.getObject(qx.ui.core.Widget);
      widget.set({
        decorator : separator
      });
      var elem = widget.getContentElement();
      this.getContentElement().add(elem);
      var domEl = elem.getDomElement();
      if(domEl){

        domEl.style.top = bounds.top + "px";
        domEl.style.left = bounds.left + "px";
        domEl.style.width = bounds.width + "px";
        domEl.style.height = bounds.height + "px";
      } else {

        elem.setStyles({
          left : bounds.left + "px",
          top : bounds.top + "px",
          width : bounds.width + "px",
          height : bounds.height + "px"
        });
      };
      if(!this.__separators){

        this.__separators = [];
      };
      this.__separators.push(widget);
    },
    _computeSizeHint : function(){

      var width = this.getWidth();
      var minWidth = this.getMinWidth();
      var maxWidth = this.getMaxWidth();
      var height = this.getHeight();
      var minHeight = this.getMinHeight();
      var maxHeight = this.getMaxHeight();
      if(qx.core.Environment.get("qx.debug")){

        if(minWidth !== null && maxWidth !== null){

          this.assert(minWidth <= maxWidth, "minWidth is larger than maxWidth!");
        };
        if(minHeight !== null && maxHeight !== null){

          this.assert(minHeight <= maxHeight, "minHeight is larger than maxHeight!");
        };
      };
      var contentHint = this._getContentHint();
      var insets = this.getInsets();
      var insetX = insets.left + insets.right;
      var insetY = insets.top + insets.bottom;
      if(width == null){

        width = contentHint.width + insetX;
      };
      if(height == null){

        height = contentHint.height + insetY;
      };
      if(minWidth == null){

        minWidth = insetX;
        if(contentHint.minWidth != null){

          minWidth += contentHint.minWidth;
          if(minWidth > maxWidth && maxWidth != null){

            minWidth = maxWidth;
          };
        };
      };
      if(minHeight == null){

        minHeight = insetY;
        if(contentHint.minHeight != null){

          minHeight += contentHint.minHeight;
          if(minHeight > maxHeight && maxHeight != null){

            minHeight = maxHeight;
          };
        };
      };
      if(maxWidth == null){

        if(contentHint.maxWidth == null){

          maxWidth = Infinity;
        } else {

          maxWidth = contentHint.maxWidth + insetX;
          if(maxWidth < minWidth && minWidth != null){

            maxWidth = minWidth;
          };
        };
      };
      if(maxHeight == null){

        if(contentHint.maxHeight == null){

          maxHeight = Infinity;
        } else {

          maxHeight = contentHint.maxHeight + insetY;
          if(maxHeight < minHeight && minHeight != null){

            maxHeight = minHeight;
          };
        };
      };
      return {
        width : width,
        minWidth : minWidth,
        maxWidth : maxWidth,
        height : height,
        minHeight : minHeight,
        maxHeight : maxHeight
      };
    },
    invalidateLayoutCache : function(){

      this.base(arguments);
      if(this.__layoutManager){

        this.__layoutManager.invalidateLayoutCache();
      };
    },
    _getContentHint : function(){

      var layout = this.__layoutManager;
      if(layout){

        if(this.hasLayoutChildren()){

          var hint = layout.getSizeHint();
          if(qx.core.Environment.get("qx.debug")){

            var msg = "The layout of the widget" + this.toString() + " returned an invalid size hint!";
            this.assertInteger(hint.width, "Wrong 'left' argument. " + msg);
            this.assertInteger(hint.height, "Wrong 'top' argument. " + msg);
          };
          return hint;
        } else {

          return {
            width : 0,
            height : 0
          };
        };
      } else {

        return {
          width : 100,
          height : 50
        };
      };
    },
    _getHeightForWidth : function(width){

      var insets = this.getInsets();
      var insetX = insets.left + insets.right;
      var insetY = insets.top + insets.bottom;
      var contentWidth = width - insetX;
      var layout = this._getLayout();
      if(layout && layout.hasHeightForWidth()){

        var contentHeight = layout.getHeightForWidth(width);
      } else {

        contentHeight = this._getContentHeightForWidth(contentWidth);
      };
      var height = contentHeight + insetY;
      return height;
    },
    _getContentHeightForWidth : function(width){

      throw new Error("Abstract method call: _getContentHeightForWidth()!");
    },
    getInsets : function(){

      var top = this.getPaddingTop();
      var right = this.getPaddingRight();
      var bottom = this.getPaddingBottom();
      var left = this.getPaddingLeft();
      if(this.getDecorator()){

        var decorator = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());
        var inset = decorator.getInsets();
        if(qx.core.Environment.get("qx.debug")){

          this.assertNumber(inset.top, "Invalid top decorator inset detected: " + inset.top);
          this.assertNumber(inset.right, "Invalid right decorator inset detected: " + inset.right);
          this.assertNumber(inset.bottom, "Invalid bottom decorator inset detected: " + inset.bottom);
          this.assertNumber(inset.left, "Invalid left decorator inset detected: " + inset.left);
        };
        top += inset.top;
        right += inset.right;
        bottom += inset.bottom;
        left += inset.left;
      };
      return {
        "top" : top,
        "right" : right,
        "bottom" : bottom,
        "left" : left
      };
    },
    getInnerSize : function(){

      var computed = this.getBounds();
      if(!computed){

        return null;
      };
      var insets = this.getInsets();
      return {
        width : computed.width - insets.left - insets.right,
        height : computed.height - insets.top - insets.bottom
      };
    },
    fadeOut : function(duration){

      return this.getContentElement().fadeOut(duration);
    },
    fadeIn : function(duration){

      return this.getContentElement().fadeIn(duration);
    },
    show : function(){

      this.setVisibility("visible");
    },
    hide : function(){

      this.setVisibility("hidden");
    },
    exclude : function(){

      this.setVisibility("excluded");
    },
    isVisible : function(){

      return this.getVisibility() === "visible";
    },
    isHidden : function(){

      return this.getVisibility() !== "visible";
    },
    isExcluded : function(){

      return this.getVisibility() === "excluded";
    },
    isSeeable : function(){

      qx.ui.core.queue.Manager.flush();
      var element = this.getContentElement().getDomElement();
      if(element){

        return element.offsetWidth > 0;
      };
      return false;
    },
    __createContentElement : function(){

      var el = this._createContentElement();
      el.setAttribute("$$widget", this.toHashCode());
      el.setStyles({
        "touch-action" : "none",
        "-ms-touch-action" : "none"
      });
      if(qx.core.Environment.get("qx.debug")){

        el.setAttribute("qxClass", this.classname);
      };
      var styles = {
        "zIndex" : 10,
        "boxSizing" : "border-box"
      };
      if(!qx.ui.root.Inline || !(this instanceof qx.ui.root.Inline)){

        styles.position = "absolute";
      };
      el.setStyles(styles);
      return el;
    },
    _createContentElement : function(){

      return new qx.html.Element("div", {
        overflowX : "hidden",
        overflowY : "hidden"
      });
    },
    getContentElement : function(){

      return this.__contentElement;
    },
    __widgetChildren : null,
    getLayoutChildren : function(){

      var children = this.__widgetChildren;
      if(!children){

        return this.__emptyChildren;
      };
      var layoutChildren;
      for(var i = 0,l = children.length;i < l;i++){

        var child = children[i];
        if(child.hasUserBounds() || child.isExcluded()){

          if(layoutChildren == null){

            layoutChildren = children.concat();
          };
          qx.lang.Array.remove(layoutChildren, child);
        };
      };
      return layoutChildren || children;
    },
    scheduleLayoutUpdate : function(){

      qx.ui.core.queue.Layout.add(this);
    },
    invalidateLayoutChildren : function(){

      var layout = this.__layoutManager;
      if(layout){

        layout.invalidateChildrenCache();
      };
      qx.ui.core.queue.Layout.add(this);
    },
    hasLayoutChildren : function(){

      var children = this.__widgetChildren;
      if(!children){

        return false;
      };
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(!child.hasUserBounds() && !child.isExcluded()){

          return true;
        };
      };
      return false;
    },
    getChildrenContainer : function(){

      return this;
    },
    __emptyChildren : [],
    _getChildren : function(){

      return this.__widgetChildren || this.__emptyChildren;
    },
    _indexOf : function(child){

      var children = this.__widgetChildren;
      if(!children){

        return -1;
      };
      return children.indexOf(child);
    },
    _hasChildren : function(){

      var children = this.__widgetChildren;
      return children != null && (!!children[0]);
    },
    addChildrenToQueue : function(queue){

      var children = this.__widgetChildren;
      if(!children){

        return;
      };
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        queue.push(child);
        child.addChildrenToQueue(queue);
      };
    },
    _add : function(child, options){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInstance(child, qx.ui.core.LayoutItem.constructor, "'Child' must be an instance of qx.ui.core.LayoutItem!");
      };
      if(child.getLayoutParent() == this){

        qx.lang.Array.remove(this.__widgetChildren, child);
      };
      if(this.__widgetChildren){

        this.__widgetChildren.push(child);
      } else {

        this.__widgetChildren = [child];
      };
      this.__addHelper(child, options);
    },
    _addAt : function(child, index, options){

      if(!this.__widgetChildren){

        this.__widgetChildren = [];
      };
      if(child.getLayoutParent() == this){

        qx.lang.Array.remove(this.__widgetChildren, child);
      };
      var ref = this.__widgetChildren[index];
      if(ref === child){

        child.setLayoutProperties(options);
      };
      if(ref){

        qx.lang.Array.insertBefore(this.__widgetChildren, child, ref);
      } else {

        this.__widgetChildren.push(child);
      };
      this.__addHelper(child, options);
    },
    _addBefore : function(child, before, options){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInArray(before, this._getChildren(), "The 'before' widget is not a child of this widget!");
      };
      if(child == before){

        return;
      };
      if(!this.__widgetChildren){

        this.__widgetChildren = [];
      };
      if(child.getLayoutParent() == this){

        qx.lang.Array.remove(this.__widgetChildren, child);
      };
      qx.lang.Array.insertBefore(this.__widgetChildren, child, before);
      this.__addHelper(child, options);
    },
    _addAfter : function(child, after, options){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInArray(after, this._getChildren(), "The 'after' widget is not a child of this widget!");
      };
      if(child == after){

        return;
      };
      if(!this.__widgetChildren){

        this.__widgetChildren = [];
      };
      if(child.getLayoutParent() == this){

        qx.lang.Array.remove(this.__widgetChildren, child);
      };
      qx.lang.Array.insertAfter(this.__widgetChildren, child, after);
      this.__addHelper(child, options);
    },
    _remove : function(child){

      if(!this.__widgetChildren){

        throw new Error("This widget has no children!");
      };
      qx.lang.Array.remove(this.__widgetChildren, child);
      this.__removeHelper(child);
    },
    _removeAt : function(index){

      if(!this.__widgetChildren){

        throw new Error("This widget has no children!");
      };
      var child = this.__widgetChildren[index];
      qx.lang.Array.removeAt(this.__widgetChildren, index);
      this.__removeHelper(child);
      return child;
    },
    _removeAll : function(){

      if(!this.__widgetChildren){

        return [];
      };
      var children = this.__widgetChildren.concat();
      this.__widgetChildren.length = 0;
      for(var i = children.length - 1;i >= 0;i--){

        this.__removeHelper(children[i]);
      };
      qx.ui.core.queue.Layout.add(this);
      return children;
    },
    _afterAddChild : null,
    _afterRemoveChild : null,
    __addHelper : function(child, options){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInstance(child, qx.ui.core.LayoutItem, "Invalid widget to add: " + child);
        this.assertNotIdentical(child, this, "Could not add widget to itself: " + child);
        if(options != null){

          this.assertType(options, "object", "Invalid layout data: " + options);
        };
      };
      var parent = child.getLayoutParent();
      if(parent && parent != this){

        parent._remove(child);
      };
      child.setLayoutParent(this);
      if(options){

        child.setLayoutProperties(options);
      } else {

        this.updateLayoutProperties();
      };
      if(this._afterAddChild){

        this._afterAddChild(child);
      };
    },
    __removeHelper : function(child){

      if(qx.core.Environment.get("qx.debug")){

        this.assertNotUndefined(child);
      };
      if(child.getLayoutParent() !== this){

        throw new Error("Remove Error: " + child + " is not a child of this widget!");
      };
      child.setLayoutParent(null);
      if(this.__layoutManager){

        this.__layoutManager.invalidateChildrenCache();
      };
      qx.ui.core.queue.Layout.add(this);
      if(this._afterRemoveChild){

        this._afterRemoveChild(child);
      };
    },
    capture : function(capture){

      this.getContentElement().capture(capture);
    },
    releaseCapture : function(){

      this.getContentElement().releaseCapture();
    },
    isCapturing : function(){

      var el = this.getContentElement().getDomElement();
      if(!el){

        return false;
      };
      var manager = qx.event.Registration.getManager(el);
      var dispatcher = manager.getDispatcher(qx.event.dispatch.MouseCapture);
      return el == dispatcher.getCaptureElement();
    },
    _applyPadding : function(value, old, name){

      this._updateInsets = true;
      qx.ui.core.queue.Layout.add(this);
      this.__updateContentPadding(name, value);
    },
    __updateContentPadding : function(style, value){

      var content = this.getContentElement();
      var decorator = this.getDecorator();
      decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);
      if(decorator){

        var direction = qx.Bootstrap.firstLow(style.replace("padding", ""));
        value += decorator.getPadding()[direction] || 0;
      };
      content.setStyle(style, value + "px");
    },
    _applyDecorator : function(value, old){

      var content = this.getContentElement();
      if(old){

        old = qx.theme.manager.Decoration.getInstance().getCssClassName(old);
        content.removeClass(old);
      };
      if(value){

        value = qx.theme.manager.Decoration.getInstance().addCssClass(value);
        content.addClass(value);
      };
    },
    _applyToolTipText : function(value, old){

      if(qx.core.Environment.get("qx.dynlocale")){

        if(this.__toolTipTextListenerId){

          return;
        };
        var manager = qx.locale.Manager.getInstance();
        this.__toolTipTextListenerId = manager.addListener("changeLocale", function(){

          var toolTipText = this.getToolTipText();
          if(toolTipText && toolTipText.translate){

            this.setToolTipText(toolTipText.translate());
          };
        }, this);
      };
    },
    _applyTextColor : function(value, old){
    },
    _applyZIndex : function(value, old){

      this.getContentElement().setStyle("zIndex", value == null ? 0 : value);
    },
    _applyVisibility : function(value, old){

      var content = this.getContentElement();
      if(value === "visible"){

        content.show();
      } else {

        content.hide();
      };
      var parent = this.$$parent;
      if(parent && (old == null || value == null || old === "excluded" || value === "excluded")){

        parent.invalidateLayoutChildren();
      };
      qx.ui.core.queue.Visibility.add(this);
    },
    _applyOpacity : function(value, old){

      this.getContentElement().setStyle("opacity", value == 1 ? null : value);
    },
    _applyCursor : function(value, old){

      if(value == null && !this.isSelectable()){

        value = "default";
      };
      this.getContentElement().setStyle("cursor", value, qx.core.Environment.get("engine.name") == "opera");
    },
    _applyBackgroundColor : function(value, old){

      var color = this.getBackgroundColor();
      var content = this.getContentElement();
      var resolved = qx.theme.manager.Color.getInstance().resolve(color);
      content.setStyle("backgroundColor", resolved);
    },
    _applyFont : function(value, old){
    },
    _onChangeTheme : function(){

      this.base(arguments);
      this.updateAppearance();
      var value = this.getDecorator();
      this._applyDecorator(null, value);
      this._applyDecorator(value);
      value = this.getFont();
      if(qx.lang.Type.isString(value)){

        this._applyFont(value, value);
      };
      value = this.getTextColor();
      if(qx.lang.Type.isString(value)){

        this._applyTextColor(value, value);
      };
      value = this.getBackgroundColor();
      if(qx.lang.Type.isString(value)){

        this._applyBackgroundColor(value, value);
      };
    },
    __states : null,
    $$stateChanges : null,
    _forwardStates : null,
    hasState : function(state){

      var states = this.__states;
      return !!states && !!states[state];
    },
    addState : function(state){

      var states = this.__states;
      if(!states){

        states = this.__states = {
        };
      };
      if(states[state]){

        return;
      };
      this.__states[state] = true;
      if(state === "hovered"){

        this.syncAppearance();
      } else if(!qx.ui.core.queue.Visibility.isVisible(this)){

        this.$$stateChanges = true;
      } else {

        qx.ui.core.queue.Appearance.add(this);
      };
      var forward = this._forwardStates;
      var controls = this.__childControls;
      if(forward && forward[state] && controls){

        var control;
        for(var id in controls){

          control = controls[id];
          if(control instanceof qx.ui.core.Widget){

            controls[id].addState(state);
          };
        };
      };
    },
    removeState : function(state){

      var states = this.__states;
      if(!states || !states[state]){

        return;
      };
      delete this.__states[state];
      if(state === "hovered"){

        this.syncAppearance();
      } else if(!qx.ui.core.queue.Visibility.isVisible(this)){

        this.$$stateChanges = true;
      } else {

        qx.ui.core.queue.Appearance.add(this);
      };
      var forward = this._forwardStates;
      var controls = this.__childControls;
      if(forward && forward[state] && controls){

        for(var id in controls){

          var control = controls[id];
          if(control instanceof qx.ui.core.Widget){

            control.removeState(state);
          };
        };
      };
    },
    replaceState : function(old, value){

      var states = this.__states;
      if(!states){

        states = this.__states = {
        };
      };
      if(!states[value]){

        states[value] = true;
      };
      if(states[old]){

        delete states[old];
      };
      if(!qx.ui.core.queue.Visibility.isVisible(this)){

        this.$$stateChanges = true;
      } else {

        qx.ui.core.queue.Appearance.add(this);
      };
      var forward = this._forwardStates;
      var controls = this.__childControls;
      if(forward && forward[value] && controls){

        for(var id in controls){

          var control = controls[id];
          if(control instanceof qx.ui.core.Widget){

            control.replaceState(old, value);
          };
        };
      };
    },
    __appearanceSelector : null,
    __updateSelector : null,
    syncAppearance : function(){

      var states = this.__states;
      var selector = this.__appearanceSelector;
      var manager = qx.theme.manager.Appearance.getInstance();
      var styler = qx.core.Property.$$method.setThemed;
      var unstyler = qx.core.Property.$$method.resetThemed;
      if(this.__updateSelector){

        delete this.__updateSelector;
        if(selector){

          var oldData = manager.styleFrom(selector, states, null, this.getAppearance());
          selector = null;
        };
      };
      if(!selector){

        var obj = this;
        var id = [];
        do {

          id.push(obj.$$subcontrol || obj.getAppearance());
        }while((obj = obj.$$subparent));
        selector = id.reverse().join("/").replace(/#[0-9]+/g, "");
        this.__appearanceSelector = selector;
      };
      var newData = manager.styleFrom(selector, states, null, this.getAppearance());
      if(newData){

        if(oldData){

          for(var prop in oldData){

            if(newData[prop] === undefined){

              this[unstyler[prop]]();
            };
          };
        };
        if(qx.core.Environment.get("qx.debug")){

          for(var prop in newData){

            if(!this[styler[prop]]){

              throw new Error(this.classname + ' has no themeable property "' + prop + '" while styling ' + selector);
            };
          };
        };
        for(var prop in newData){

          newData[prop] === undefined ? this[unstyler[prop]]() : this[styler[prop]](newData[prop]);
        };
      } else if(oldData){

        for(var prop in oldData){

          this[unstyler[prop]]();
        };
      };
      this.fireDataEvent("syncAppearance", this.__states);
    },
    _applyAppearance : function(value, old){

      this.updateAppearance();
    },
    checkAppearanceNeeds : function(){

      if(!this.__initialAppearanceApplied){

        qx.ui.core.queue.Appearance.add(this);
        this.__initialAppearanceApplied = true;
      } else if(this.$$stateChanges){

        qx.ui.core.queue.Appearance.add(this);
        delete this.$$stateChanges;
      };
    },
    updateAppearance : function(){

      this.__updateSelector = true;
      qx.ui.core.queue.Appearance.add(this);
      var controls = this.__childControls;
      if(controls){

        var obj;
        for(var id in controls){

          obj = controls[id];
          if(obj instanceof qx.ui.core.Widget){

            obj.updateAppearance();
          };
        };
      };
    },
    syncWidget : function(jobs){
    },
    getEventTarget : function(){

      var target = this;
      while(target.getAnonymous()){

        target = target.getLayoutParent();
        if(!target){

          return null;
        };
      };
      return target;
    },
    getFocusTarget : function(){

      var target = this;
      if(!target.getEnabled()){

        return null;
      };
      while(target.getAnonymous() || !target.getFocusable()){

        target = target.getLayoutParent();
        if(!target || !target.getEnabled()){

          return null;
        };
      };
      return target;
    },
    getFocusElement : function(){

      return this.getContentElement();
    },
    isTabable : function(){

      return (!!this.getContentElement().getDomElement()) && this.isFocusable();
    },
    _applyFocusable : function(value, old){

      var target = this.getFocusElement();
      if(value){

        var tabIndex = this.getTabIndex();
        if(tabIndex == null){

          tabIndex = 1;
        };
        target.setAttribute("tabIndex", tabIndex);
        target.setStyle("outline", "none");
      } else {

        if(target.isNativelyFocusable()){

          target.setAttribute("tabIndex", -1);
        } else if(old){

          target.setAttribute("tabIndex", null);
        };
      };
    },
    _applyKeepFocus : function(value){

      var target = this.getFocusElement();
      target.setAttribute("qxKeepFocus", value ? "on" : null);
    },
    _applyKeepActive : function(value){

      var target = this.getContentElement();
      target.setAttribute("qxKeepActive", value ? "on" : null);
    },
    _applyTabIndex : function(value){

      if(value == null){

        value = 1;
      } else if(value < 1 || value > 32000){

        throw new Error("TabIndex property must be between 1 and 32000");
      };
      if(this.getFocusable() && value != null){

        this.getFocusElement().setAttribute("tabIndex", value);
      };
    },
    _applySelectable : function(value, old){

      if(old !== null){

        this._applyCursor(this.getCursor());
      };
      this.getContentElement().setSelectable(value);
    },
    _applyEnabled : function(value, old){

      if(value === false){

        this.addState("disabled");
        this.removeState("hovered");
        if(this.isFocusable()){

          this.removeState("focused");
          this._applyFocusable(false, true);
        };
        if(this.isDraggable()){

          this._applyDraggable(false, true);
        };
        if(this.isDroppable()){

          this._applyDroppable(false, true);
        };
      } else {

        this.removeState("disabled");
        if(this.isFocusable()){

          this._applyFocusable(true, false);
        };
        if(this.isDraggable()){

          this._applyDraggable(true, false);
        };
        if(this.isDroppable()){

          this._applyDroppable(true, false);
        };
      };
    },
    _applyNativeContextMenu : function(value, old, name){
    },
    _applyContextMenu : function(value, old){

      if(old){

        old.removeState("contextmenu");
        if(old.getOpener() == this){

          old.resetOpener();
        };
        if(!value){

          this.removeListener("contextmenu", this._onContextMenuOpen);
          this.removeListener("longtap", this._onContextMenuOpen);
          old.removeListener("changeVisibility", this._onBeforeContextMenuOpen, this);
        };
      };
      if(value){

        value.setOpener(this);
        value.addState("contextmenu");
        if(!old){

          this.addListener("contextmenu", this._onContextMenuOpen);
          this.addListener("longtap", this._onContextMenuOpen);
          value.addListener("changeVisibility", this._onBeforeContextMenuOpen, this);
        };
      };
    },
    _onContextMenuOpen : function(e){

      if(e.getType() == "longtap"){

        if(e.getPointerType() !== "touch"){

          return;
        };
      };
      this.getContextMenu().openAtPointer(e);
      e.stop();
    },
    _onBeforeContextMenuOpen : function(e){

      if(e.getData() == "visible" && this.hasListener("beforeContextmenuOpen")){

        this.fireDataEvent("beforeContextmenuOpen", e);
      };
    },
    _onStopEvent : function(e){

      e.stopPropagation();
    },
    _getDragDropCursor : function(){

      return qx.ui.core.DragDropCursor.getInstance();
    },
    _applyDraggable : function(value, old){

      if(!this.isEnabled() && value === true){

        value = false;
      };
      this._getDragDropCursor();
      if(value){

        this.addListener("dragstart", this._onDragStart);
        this.addListener("drag", this._onDrag);
        this.addListener("dragend", this._onDragEnd);
        this.addListener("dragchange", this._onDragChange);
      } else {

        this.removeListener("dragstart", this._onDragStart);
        this.removeListener("drag", this._onDrag);
        this.removeListener("dragend", this._onDragEnd);
        this.removeListener("dragchange", this._onDragChange);
      };
      this.getContentElement().setAttribute("qxDraggable", value ? "on" : null);
    },
    _applyDroppable : function(value, old){

      if(!this.isEnabled() && value === true){

        value = false;
      };
      this.getContentElement().setAttribute("qxDroppable", value ? "on" : null);
    },
    _onDragStart : function(e){

      this._getDragDropCursor().placeToPointer(e);
      this.getApplicationRoot().setGlobalCursor("default");
    },
    _onDrag : function(e){

      this._getDragDropCursor().placeToPointer(e);
    },
    _onDragEnd : function(e){

      this._getDragDropCursor().moveTo(-1000, -1000);
      this.getApplicationRoot().resetGlobalCursor();
    },
    _onDragChange : function(e){

      var cursor = this._getDragDropCursor();
      var action = e.getCurrentAction();
      action ? cursor.setAction(action) : cursor.resetAction();
    },
    visualizeFocus : function(){

      this.addState("focused");
    },
    visualizeBlur : function(){

      this.removeState("focused");
    },
    scrollChildIntoView : function(child, alignX, alignY, direct){

      direct = typeof direct == "undefined" ? true : direct;
      var Layout = qx.ui.core.queue.Layout;
      var parent;
      if(direct){

        direct = !Layout.isScheduled(child);
        parent = child.getLayoutParent();
        if(direct && parent){

          direct = !Layout.isScheduled(parent);
          if(direct){

            parent.getChildren().forEach(function(sibling){

              direct = direct && !Layout.isScheduled(sibling);
            });
          };
        };
      };
      this.scrollChildIntoViewX(child, alignX, direct);
      this.scrollChildIntoViewY(child, alignY, direct);
    },
    scrollChildIntoViewX : function(child, align, direct){

      this.getContentElement().scrollChildIntoViewX(child.getContentElement(), align, direct);
    },
    scrollChildIntoViewY : function(child, align, direct){

      this.getContentElement().scrollChildIntoViewY(child.getContentElement(), align, direct);
    },
    focus : function(){

      if(this.isFocusable()){

        this.getFocusElement().focus();
      } else {

        throw new Error("Widget is not focusable!");
      };
    },
    blur : function(){

      if(this.isFocusable()){

        this.getFocusElement().blur();
      } else {

        throw new Error("Widget is not focusable!");
      };
    },
    activate : function(){

      this.getContentElement().activate();
    },
    deactivate : function(){

      this.getContentElement().deactivate();
    },
    tabFocus : function(){

      this.getFocusElement().focus();
    },
    hasChildControl : function(id){

      if(!this.__childControls){

        return false;
      };
      return !!this.__childControls[id];
    },
    __childControls : null,
    _getCreatedChildControls : function(){

      return this.__childControls;
    },
    getChildControl : function(id, notcreate){

      if(!this.__childControls){

        if(notcreate){

          return null;
        };
        this.__childControls = {
        };
      };
      var control = this.__childControls[id];
      if(control){

        return control;
      };
      if(notcreate === true){

        return null;
      };
      return this._createChildControl(id);
    },
    _showChildControl : function(id){

      var control = this.getChildControl(id);
      control.show();
      return control;
    },
    _excludeChildControl : function(id){

      var control = this.getChildControl(id, true);
      if(control){

        control.exclude();
      };
    },
    _isChildControlVisible : function(id){

      var control = this.getChildControl(id, true);
      if(control){

        return control.isVisible();
      };
      return false;
    },
    _releaseChildControl : function(id){

      var control = this.getChildControl(id, false);
      if(!control){

        throw new Error("Unsupported control: " + id);
      };
      delete control.$$subcontrol;
      delete control.$$subparent;
      var states = this.__states;
      var forward = this._forwardStates;
      if(states && forward && control instanceof qx.ui.core.Widget){

        for(var state in states){

          if(forward[state]){

            control.removeState(state);
          };
        };
      };
      delete this.__childControls[id];
      return control;
    },
    _createChildControl : function(id){

      if(!this.__childControls){

        this.__childControls = {
        };
      } else if(this.__childControls[id]){

        throw new Error("Child control '" + id + "' already created!");
      };
      var pos = id.indexOf("#");
      try{

        if(pos == -1){

          var control = this._createChildControlImpl(id);
        } else {

          var control = this._createChildControlImpl(id.substring(0, pos), id.substring(pos + 1, id.length));
        };
      } catch(exc) {

        exc.message = "Exception while creating child control '" + id + "' of widget " + this.toString() + ": " + exc.message;
        throw exc;
      };
      if(!control){

        throw new Error("Unsupported control: " + id);
      };
      control.$$subcontrol = id;
      control.$$subparent = this;
      var states = this.__states;
      var forward = this._forwardStates;
      if(states && forward && control instanceof qx.ui.core.Widget){

        for(var state in states){

          if(forward[state]){

            control.addState(state);
          };
        };
      };
      this.fireDataEvent("createChildControl", control);
      return this.__childControls[id] = control;
    },
    _createChildControlImpl : function(id, hash){

      return null;
    },
    _disposeChildControls : function(){

      var controls = this.__childControls;
      if(!controls){

        return;
      };
      var Widget = qx.ui.core.Widget;
      for(var id in controls){

        var control = controls[id];
        if(!Widget.contains(this, control)){

          control.destroy();
        } else {

          control.dispose();
        };
      };
      delete this.__childControls;
    },
    _findTopControl : function(){

      var obj = this;
      while(obj){

        if(!obj.$$subparent){

          return obj;
        };
        obj = obj.$$subparent;
      };
      return null;
    },
    getContentLocation : function(mode){

      var domEl = this.getContentElement().getDomElement();
      return domEl ? qx.bom.element.Location.get(domEl, mode) : null;
    },
    setDomLeft : function(value){

      var domEl = this.getContentElement().getDomElement();
      if(domEl){

        domEl.style.left = value + "px";
      } else {

        throw new Error("DOM element is not yet created!");
      };
    },
    setDomTop : function(value){

      var domEl = this.getContentElement().getDomElement();
      if(domEl){

        domEl.style.top = value + "px";
      } else {

        throw new Error("DOM element is not yet created!");
      };
    },
    setDomPosition : function(left, top){

      var domEl = this.getContentElement().getDomElement();
      if(domEl){

        domEl.style.left = left + "px";
        domEl.style.top = top + "px";
      } else {

        throw new Error("DOM element is not yet created!");
      };
    },
    destroy : function(){

      if(this.$$disposed){

        return;
      };
      var parent = this.$$parent;
      if(parent){

        parent._remove(this);
      };
      qx.ui.core.queue.Dispose.add(this);
    },
    clone : function(){

      var clone = this.base(arguments);
      if(this.getChildren){

        var children = this.getChildren();
        for(var i = 0,l = children.length;i < l;i++){

          clone.add(children[i].clone());
        };
      };
      return clone;
    }
  },
  destruct : function(){

    if(!qx.core.ObjectRegistry.inShutDown){

      if(qx.core.Environment.get("qx.dynlocale")){

        if(this.__toolTipTextListenerId){

          qx.locale.Manager.getInstance().removeListenerById(this.__toolTipTextListenerId);
        };
      };
      var contentEl = this.getContentElement();
      if(contentEl){

        contentEl.setAttribute("$$widget", null, true);
      };
      this._disposeChildControls();
      qx.ui.core.queue.Appearance.remove(this);
      qx.ui.core.queue.Layout.remove(this);
      qx.ui.core.queue.Visibility.remove(this);
      qx.ui.core.queue.Widget.remove(this);
    };
    if(this.getContextMenu()){

      this.setContextMenu(null);
    };
    if(!qx.core.ObjectRegistry.inShutDown){

      this.clearSeparators();
      this.__separators = null;
    } else {

      this._disposeArray("__separators");
    };
    this._disposeArray("__widgetChildren");
    this.__states = this.__childControls = null;
    this._disposeObjects("__layoutManager", "__contentElement");
  }
});

qx.Class.define("qx.ui.core.EventHandler", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(){

    this.base(arguments);
    this.__manager = qx.event.Registration.getManager(window);
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_FIRST,
    SUPPORTED_TYPES : {
      mousemove : 1,
      mouseover : 1,
      mouseout : 1,
      mousedown : 1,
      mouseup : 1,
      click : 1,
      dblclick : 1,
      contextmenu : 1,
      mousewheel : 1,
      keyup : 1,
      keydown : 1,
      keypress : 1,
      keyinput : 1,
      capture : 1,
      losecapture : 1,
      focusin : 1,
      focusout : 1,
      focus : 1,
      blur : 1,
      activate : 1,
      deactivate : 1,
      appear : 1,
      disappear : 1,
      dragstart : 1,
      dragend : 1,
      dragover : 1,
      dragleave : 1,
      drop : 1,
      drag : 1,
      dragchange : 1,
      droprequest : 1,
      touchstart : 1,
      touchend : 1,
      touchmove : 1,
      touchcancel : 1,
      tap : 1,
      longtap : 1,
      swipe : 1,
      dbltap : 1,
      track : 1,
      trackend : 1,
      trackstart : 1,
      pinch : 1,
      rotate : 1,
      roll : 1,
      pointermove : 1,
      pointerover : 1,
      pointerout : 1,
      pointerdown : 1,
      pointerup : 1,
      pointercancel : 1
    },
    IGNORE_CAN_HANDLE : false
  },
  members : {
    __manager : null,
    __focusEvents : {
      focusin : 1,
      focusout : 1,
      focus : 1,
      blur : 1
    },
    __ignoreDisabled : {
      mouseover : 1,
      mouseout : 1,
      appear : 1,
      disappear : 1
    },
    canHandleEvent : function(target, type){

      return target instanceof qx.ui.core.Widget;
    },
    _dispatchEvent : function(domEvent){

      var domTarget = domEvent.getTarget();
      var widgetTarget = qx.ui.core.Widget.getWidgetByElement(domTarget);
      var targetChanged = false;
      while(widgetTarget && widgetTarget.isAnonymous()){

        var targetChanged = true;
        widgetTarget = widgetTarget.getLayoutParent();
      };
      if(widgetTarget && targetChanged && domEvent.getType() == "activate"){

        widgetTarget.getContentElement().activate();
      };
      if(this.__focusEvents[domEvent.getType()]){

        widgetTarget = widgetTarget && widgetTarget.getFocusTarget();
        if(!widgetTarget){

          return;
        };
      };
      if(domEvent.getRelatedTarget){

        var domRelatedTarget = domEvent.getRelatedTarget();
        var widgetRelatedTarget = qx.ui.core.Widget.getWidgetByElement(domRelatedTarget);
        while(widgetRelatedTarget && widgetRelatedTarget.isAnonymous()){

          widgetRelatedTarget = widgetRelatedTarget.getLayoutParent();
        };
        if(widgetRelatedTarget){

          if(this.__focusEvents[domEvent.getType()]){

            widgetRelatedTarget = widgetRelatedTarget.getFocusTarget();
          };
          if(widgetRelatedTarget === widgetTarget){

            return;
          };
        };
      };
      var currentTarget = domEvent.getCurrentTarget();
      var currentWidget = qx.ui.core.Widget.getWidgetByElement(currentTarget);
      if(!currentWidget || currentWidget.isAnonymous()){

        return;
      };
      if(this.__focusEvents[domEvent.getType()]){

        currentWidget = currentWidget.getFocusTarget();
      };
      var type = domEvent.getType();
      if(!currentWidget || !(currentWidget.isEnabled() || this.__ignoreDisabled[type])){

        return;
      };
      var capture = domEvent.getEventPhase() == qx.event.type.Event.CAPTURING_PHASE;
      var listeners = this.__manager.getListeners(currentWidget, type, capture);
      if(!listeners || listeners.length === 0){

        return;
      };
      var widgetEvent = qx.event.Pool.getInstance().getObject(domEvent.constructor);
      domEvent.clone(widgetEvent);
      widgetEvent.setTarget(widgetTarget);
      widgetEvent.setRelatedTarget(widgetRelatedTarget || null);
      widgetEvent.setCurrentTarget(currentWidget);
      var orig = domEvent.getOriginalTarget();
      if(orig){

        var widgetOriginalTarget = qx.ui.core.Widget.getWidgetByElement(orig);
        while(widgetOriginalTarget && widgetOriginalTarget.isAnonymous()){

          widgetOriginalTarget = widgetOriginalTarget.getLayoutParent();
        };
        widgetEvent.setOriginalTarget(widgetOriginalTarget);
      } else {

        widgetEvent.setOriginalTarget(domTarget);
      };
      for(var i = 0,l = listeners.length;i < l;i++){

        var context = listeners[i].context || currentWidget;
        listeners[i].handler.call(context, widgetEvent);
      };
      if(widgetEvent.getPropagationStopped()){

        domEvent.stopPropagation();
      };
      if(widgetEvent.getDefaultPrevented()){

        domEvent.preventDefault();
      };
      qx.event.Pool.getInstance().poolObject(widgetEvent);
    },
    registerEvent : function(target, type, capture){

      var elem;
      if(type === "focus" || type === "blur"){

        elem = target.getFocusElement();
      } else {

        elem = target.getContentElement();
      };
      if(elem){

        elem.addListener(type, this._dispatchEvent, this, capture);
      };
    },
    unregisterEvent : function(target, type, capture){

      var elem;
      if(type === "focus" || type === "blur"){

        elem = target.getFocusElement();
      } else {

        elem = target.getContentElement();
      };
      if(elem){

        elem.removeListener(type, this._dispatchEvent, this, capture);
      };
    }
  },
  destruct : function(){

    this.__manager = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.ui.core.queue.Visibility", {
  statics : {
    __queue : [],
    __data : {
    },
    remove : function(widget){

      delete this.__data[widget.$$hash];
      qx.lang.Array.remove(this.__queue, widget);
    },
    isVisible : function(widget){

      return this.__data[widget.$$hash] || false;
    },
    __computeVisible : function(widget){

      var data = this.__data;
      var hash = widget.$$hash;
      var visible;
      if(widget.isExcluded()){

        visible = false;
      } else {

        var parent = widget.$$parent;
        if(parent){

          visible = this.__computeVisible(parent);
        } else {

          visible = widget.isRootWidget();
        };
      };
      return data[hash] = visible;
    },
    add : function(widget){

      var queue = this.__queue;
      if(qx.lang.Array.contains(queue, widget)){

        return;
      };
      queue.unshift(widget);
      qx.ui.core.queue.Manager.scheduleFlush("visibility");
    },
    flush : function(){

      var queue = this.__queue;
      var data = this.__data;
      for(var i = queue.length - 1;i >= 0;i--){

        var hash = queue[i].$$hash;
        if(data[hash] != null){

          queue[i].addChildrenToQueue(queue);
        };
      };
      var oldData = {
      };
      for(var i = queue.length - 1;i >= 0;i--){

        var hash = queue[i].$$hash;
        oldData[hash] = data[hash];
        data[hash] = null;
      };
      for(var i = queue.length - 1;i >= 0;i--){

        var widget = queue[i];
        var hash = widget.$$hash;
        queue.splice(i, 1);
        if(data[hash] == null){

          this.__computeVisible(widget);
        };
        if(data[hash] && data[hash] != oldData[hash]){

          widget.checkAppearanceNeeds();
        };
      };
      this.__queue = [];
    }
  }
});

qx.Class.define("qx.ui.core.queue.Manager", {
  statics : {
    __scheduled : false,
    __canceled : false,
    __jobs : {
    },
    __retries : 0,
    MAX_RETRIES : 10,
    scheduleFlush : function(job){

      var self = qx.ui.core.queue.Manager;
      self.__jobs[job] = true;
      if(!self.__scheduled){

        self.__canceled = false;
        qx.bom.AnimationFrame.request(function(){

          if(self.__canceled){

            self.__canceled = false;
            return;
          };
          self.flush();
        }, self);
        self.__scheduled = true;
      };
    },
    flush : function(){

      var self = qx.ui.core.queue.Manager;
      if(self.__inFlush){

        return;
      };
      self.__inFlush = true;
      self.__canceled = true;
      var jobs = self.__jobs;
      self.__executeAndRescheduleOnError(function(){

        while(jobs.visibility || jobs.widget || jobs.appearance || jobs.layout || jobs.element){

          if(jobs.widget){

            delete jobs.widget;
            if(qx.core.Environment.get("qx.debug.ui.queue")){

              try{

                qx.ui.core.queue.Widget.flush();
              } catch(e) {

                qx.log.Logger.error(qx.ui.core.queue.Widget, "Error in the 'Widget' queue:" + e, e);
              };
            } else {

              qx.ui.core.queue.Widget.flush();
            };
          };
          if(jobs.visibility){

            delete jobs.visibility;
            if(qx.core.Environment.get("qx.debug.ui.queue")){

              try{

                qx.ui.core.queue.Visibility.flush();
              } catch(e) {

                qx.log.Logger.error(qx.ui.core.queue.Visibility, "Error in the 'Visibility' queue:" + e, e);
              };
            } else {

              qx.ui.core.queue.Visibility.flush();
            };
          };
          if(jobs.appearance){

            delete jobs.appearance;
            if(qx.core.Environment.get("qx.debug.ui.queue")){

              try{

                qx.ui.core.queue.Appearance.flush();
              } catch(e) {

                qx.log.Logger.error(qx.ui.core.queue.Appearance, "Error in the 'Appearance' queue:" + e, e);
              };
            } else {

              qx.ui.core.queue.Appearance.flush();
            };
          };
          if(jobs.widget || jobs.visibility || jobs.appearance){

            continue;
          };
          if(jobs.layout){

            delete jobs.layout;
            if(qx.core.Environment.get("qx.debug.ui.queue")){

              try{

                qx.ui.core.queue.Layout.flush();
              } catch(e) {

                qx.log.Logger.error(qx.ui.core.queue.Layout, "Error in the 'Layout' queue:" + e, e);
              };
            } else {

              qx.ui.core.queue.Layout.flush();
            };
          };
          if(jobs.widget || jobs.visibility || jobs.appearance || jobs.layout){

            continue;
          };
          if(jobs.element){

            delete jobs.element;
            qx.html.Element.flush();
          };
        };
      }, function(){

        self.__scheduled = false;
      });
      self.__executeAndRescheduleOnError(function(){

        if(jobs.dispose){

          delete jobs.dispose;
          if(qx.core.Environment.get("qx.debug.ui.queue")){

            try{

              qx.ui.core.queue.Dispose.flush();
            } catch(e) {

              qx.log.Logger.error("Error in the 'Dispose' queue:" + e);
            };
          } else {

            qx.ui.core.queue.Dispose.flush();
          };
        };
      }, function(){

        self.__inFlush = false;
      });
      self.__retries = 0;
    },
    __executeAndRescheduleOnError : qx.core.Environment.select("qx.debug", {
      "true" : function(callback, finallyCode){

        callback();
        finallyCode();
      },
      "false" : function(callback, finallyCode){

        var self = qx.ui.core.queue.Manager;
        try{

          callback();
        } catch(e) {

          if(qx.core.Environment.get("qx.debug")){

            qx.log.Logger.error("Error while layout flush: " + e + "\n" + "Stack trace: \n" + qx.dev.StackTrace.getStackTraceFromError(e));
          };
          self.__scheduled = false;
          self.__inFlush = false;
          self.__retries += 1;
          if(self.__retries <= self.MAX_RETRIES){

            self.scheduleFlush();
          } else {

            throw new Error("Fatal Error: Flush terminated " + (self.__retries - 1) + " times in a row" + " due to exceptions in user code. The application has to be reloaded!");
          };
          throw e;
        }finally{

          finallyCode();
        };
      }
    }),
    __onUserAction : function(e){

      qx.ui.core.queue.Manager.flush();
    }
  },
  defer : function(statics){

    qx.html.Element._scheduleFlush = statics.scheduleFlush;
    qx.event.Registration.addListener(window, "useraction", qx.core.Environment.get("event.touch") ? statics.__onUserAction : statics.flush);
  }
});

qx.Class.define("qx.ui.core.queue.Widget", {
  statics : {
    __queue : [],
    __jobs : {
    },
    remove : function(widget, job){

      var queue = this.__queue;
      if(!qx.lang.Array.contains(queue, widget)){

        return;
      };
      var hash = widget.$$hash;
      if(job == null){

        qx.lang.Array.remove(queue, widget);
        delete this.__jobs[hash];
        return;
      };
      if(this.__jobs[hash]){

        delete this.__jobs[hash][job];
        if(qx.lang.Object.getLength(this.__jobs[hash]) == 0){

          qx.lang.Array.remove(queue, widget);
        };
      };
    },
    add : function(widget, job){

      var queue = this.__queue;
      if(!qx.lang.Array.contains(queue, widget)){

        queue.unshift(widget);
      };
      if(job == null){

        job = "$$default";
      };
      var hash = widget.$$hash;
      if(!this.__jobs[hash]){

        this.__jobs[hash] = {
        };
      };
      this.__jobs[hash][job] = true;
      qx.ui.core.queue.Manager.scheduleFlush("widget");
    },
    flush : function(){

      var queue = this.__queue;
      var obj,jobs;
      for(var i = queue.length - 1;i >= 0;i--){

        obj = queue[i];
        jobs = this.__jobs[obj.$$hash];
        queue.splice(i, 1);
        obj.syncWidget(jobs);
      };
      if(queue.length != 0){

        return;
      };
      this.__queue = [];
      this.__jobs = {
      };
    }
  }
});

qx.Class.define("qx.ui.core.queue.Appearance", {
  statics : {
    __queue : [],
    remove : function(widget){

      qx.lang.Array.remove(this.__queue, widget);
    },
    add : function(widget){

      var queue = this.__queue;
      if(qx.lang.Array.contains(queue, widget)){

        return;
      };
      queue.unshift(widget);
      qx.ui.core.queue.Manager.scheduleFlush("appearance");
    },
    has : function(widget){

      return qx.lang.Array.contains(this.__queue, widget);
    },
    flush : function(){

      var Visibility = qx.ui.core.queue.Visibility;
      var queue = this.__queue;
      var obj;
      for(var i = queue.length - 1;i >= 0;i--){

        obj = queue[i];
        queue.splice(i, 1);
        if(Visibility.isVisible(obj)){

          obj.syncAppearance();
        } else {

          obj.$$stateChanges = true;
        };
      };
    }
  }
});

qx.Class.define("qx.ui.core.queue.Dispose", {
  statics : {
    __queue : [],
    add : function(widget){

      var queue = this.__queue;
      if(qx.lang.Array.contains(queue, widget)){

        return;
      };
      queue.unshift(widget);
      qx.ui.core.queue.Manager.scheduleFlush("dispose");
    },
    isEmpty : function(){

      return this.__queue.length == 0;
    },
    flush : function(){

      var queue = this.__queue;
      for(var i = queue.length - 1;i >= 0;i--){

        var widget = queue[i];
        queue.splice(i, 1);
        widget.dispose();
      };
      if(queue.length != 0){

        return;
      };
      this.__queue = [];
    }
  }
});

qx.Class.define("qx.theme.manager.Decoration", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__rules = [];
    this.__legacyIe = (qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9);
  },
  properties : {
    theme : {
      check : "Theme",
      nullable : true,
      apply : "_applyTheme",
      event : "changeTheme"
    }
  },
  members : {
    __dynamic : null,
    __rules : null,
    __legacyIe : false,
    getCssClassName : function(value){

      if(qx.lang.Type.isString(value)){

        return "qx-" + value;
      } else {

        return "qx-" + value.toHashCode();
      };
    },
    addCssClass : function(value){

      var sheet = qx.ui.style.Stylesheet.getInstance();
      var instance = value;
      value = this.getCssClassName(value);
      var selector = "." + value;
      if(sheet.hasRule(selector)){

        return value;
      };
      if(qx.lang.Type.isString(instance)){

        instance = this.resolve(instance);
      };
      if(!instance){

        throw new Error("Unable to resolve decorator '" + value + "'.");
      };
      var css = "";
      var styles = instance.getStyles(true);
      for(var key in styles){

        if(qx.Bootstrap.isObject(styles[key])){

          var innerCss = "";
          var innerStyles = styles[key];
          var inner = false;
          for(var innerKey in innerStyles){

            inner = true;
            innerCss += innerKey + ":" + innerStyles[innerKey] + ";";
          };
          var innerSelector = this.__legacyIe ? selector : selector + (inner ? ":" : "");
          this.__rules.push(innerSelector + key);
          sheet.addRule(innerSelector + key, innerCss);
          continue;
        };
        css += key + ":" + styles[key] + ";";
      };
      if(css){

        sheet.addRule(selector, css);
        this.__rules.push(selector);
      };
      return value;
    },
    resolve : function(value){

      if(!value){

        return null;
      };
      if(typeof value === "object"){

        return value;
      };
      var theme = this.getTheme();
      if(!theme){

        return null;
      };
      var cache = this.__dynamic;
      if(!cache){

        cache = this.__dynamic = {
        };
      };
      var resolved = cache[value];
      if(resolved){

        return resolved;
      };
      var entry = qx.lang.Object.clone(theme.decorations[value], true);
      if(!entry){

        return null;
      };
      if(!entry.style){

        entry.style = {
        };
      };
      var currentEntry = entry;
      while(currentEntry.include){

        currentEntry = theme.decorations[currentEntry.include];
        if(!entry.decorator && currentEntry.decorator){

          entry.decorator = qx.lang.Object.clone(currentEntry.decorator);
        };
        if(currentEntry.style){

          for(var key in currentEntry.style){

            if(entry.style[key] === undefined){

              entry.style[key] = qx.lang.Object.clone(currentEntry.style[key], true);
            };
          };
        };
      };
      return cache[value] = (new qx.ui.decoration.Decorator()).set(entry.style);
    },
    isValidPropertyValue : function(value){

      if(typeof value === "string"){

        return this.isDynamic(value);
      } else if(typeof value === "object"){

        var clazz = value.constructor;
        return qx.Class.hasInterface(clazz, qx.ui.decoration.IDecorator);
      };
      return false;
    },
    isDynamic : function(value){

      if(!value){

        return false;
      };
      var theme = this.getTheme();
      if(!theme){

        return false;
      };
      return !!theme.decorations[value];
    },
    isCached : function(decorator){

      return !this.__dynamic ? false : qx.lang.Object.contains(this.__dynamic, decorator);
    },
    _applyTheme : function(value, old){

      var aliasManager = qx.util.AliasManager.getInstance();
      for(var i = 0;i < this.__rules.length;i++){

        var selector = this.__rules[i];
        qx.ui.style.Stylesheet.getInstance().removeRule(selector);
      };
      this.__rules = [];
      if(old){

        for(var alias in old.aliases){

          aliasManager.remove(alias);
        };
      };
      if(value){

        for(var alias in value.aliases){

          aliasManager.add(alias, value.aliases[alias]);
        };
      };
      this._disposeMap("__dynamic");
      this.__dynamic = {
      };
    }
  },
  destruct : function(){

    this._disposeMap("__dynamic");
  }
});

qx.Class.define("qx.ui.style.Stylesheet", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__sheet = qx.bom.Stylesheet.createElement();
    this.__rules = [];
  },
  members : {
    __rules : null,
    __sheet : null,
    addRule : function(selector, css){

      if(this.hasRule(selector)){

        return;
      };
      qx.bom.Stylesheet.addRule(this.__sheet, selector, css);
      this.__rules.push(selector);
    },
    hasRule : function(selector){

      return this.__rules.indexOf(selector) != -1;
    },
    removeRule : function(selector){

      delete this.__rules[this.__rules.indexOf(selector)];
      qx.bom.Stylesheet.removeRule(this.__sheet, selector);
    }
  }
});

qx.Mixin.define("qx.ui.decoration.MBackgroundColor", {
  properties : {
    backgroundColor : {
      check : "Color",
      nullable : true,
      apply : "_applyBackgroundColor"
    }
  },
  members : {
    _styleBackgroundColor : function(styles){

      var bgcolor = this.getBackgroundColor();
      if(bgcolor && qx.core.Environment.get("qx.theme")){

        bgcolor = qx.theme.manager.Color.getInstance().resolve(bgcolor);
      };
      if(bgcolor){

        styles["background-color"] = bgcolor;
      };
    },
    _applyBackgroundColor : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    }
  }
});

qx.Interface.define("qx.ui.decoration.IDecorator", {
  members : {
    getStyles : function(){
    },
    getPadding : function(){
    },
    getInsets : function(){
    }
  }
});

qx.Class.define("qx.ui.decoration.Abstract", {
  extend : qx.core.Object,
  implement : [qx.ui.decoration.IDecorator],
  type : "abstract",
  members : {
    __insets : null,
    _getDefaultInsets : function(){

      throw new Error("Abstract method called.");
    },
    _isInitialized : function(){

      throw new Error("Abstract method called.");
    },
    _resetInsets : function(){

      this.__insets = null;
    },
    getInsets : function(){

      if(this.__insets){

        return this.__insets;
      };
      return this._getDefaultInsets();
    }
  },
  destruct : function(){

    this.__insets = null;
  }
});

qx.Mixin.define("qx.ui.decoration.MBackgroundImage", {
  properties : {
    backgroundImage : {
      check : "String",
      nullable : true,
      apply : "_applyBackgroundImage"
    },
    backgroundRepeat : {
      check : ["repeat", "repeat-x", "repeat-y", "no-repeat", "scale"],
      init : "repeat",
      apply : "_applyBackgroundImage"
    },
    backgroundPositionX : {
      nullable : true,
      apply : "_applyBackgroundPosition"
    },
    backgroundPositionY : {
      nullable : true,
      apply : "_applyBackgroundPosition"
    },
    backgroundPosition : {
      group : ["backgroundPositionY", "backgroundPositionX"]
    }
  },
  members : {
    _styleBackgroundImage : function(styles){

      var image = this.getBackgroundImage();
      if(!image){

        return;
      };
      var id = qx.util.AliasManager.getInstance().resolve(image);
      var source = qx.util.ResourceManager.getInstance().toUri(id);
      if(styles["background-image"]){

        styles["background-image"] += ', url(' + source + ')';
      } else {

        styles["background-image"] = 'url(' + source + ')';
      };
      var repeat = this.getBackgroundRepeat();
      if(repeat === "scale"){

        styles["background-size"] = "100% 100%";
      } else {

        styles["background-repeat"] = repeat;
      };
      var top = this.getBackgroundPositionY() || 0;
      var left = this.getBackgroundPositionX() || 0;
      if(!isNaN(top)){

        top += "px";
      };
      if(!isNaN(left)){

        left += "px";
      };
      styles["background-position"] = left + " " + top;
      if(qx.core.Environment.get("qx.debug") && source && qx.lang.String.endsWith(source, ".png") && (repeat == "scale" || repeat == "no-repeat") && qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

        this.warn("Background PNGs with repeat == 'scale' or repeat == 'no-repeat'" + " are not supported in this client! The image's resource id is '" + id + "'");
      };
    },
    _applyBackgroundImage : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    },
    _applyBackgroundPosition : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
        if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

          this.warn("The backgroundPosition property is not supported by this client!");
        };
      };
    }
  }
});

qx.Class.define("qx.util.AliasManager", {
  type : "singleton",
  extend : qx.util.ValueManager,
  construct : function(){

    this.base(arguments);
    this.__aliases = {
    };
    this.add("static", "qx/static");
  },
  members : {
    __aliases : null,
    _preprocess : function(value){

      var dynamics = this._getDynamic();
      if(dynamics[value] === false){

        return value;
      } else if(dynamics[value] === undefined){

        if(value.charAt(0) === "/" || value.charAt(0) === "." || value.indexOf("http://") === 0 || value.indexOf("https://") === "0" || value.indexOf("file://") === 0){

          dynamics[value] = false;
          return value;
        };
        if(this.__aliases[value]){

          return this.__aliases[value];
        };
        var alias = value.substring(0, value.indexOf("/"));
        var resolved = this.__aliases[alias];
        if(resolved !== undefined){

          dynamics[value] = resolved + value.substring(alias.length);
        };
      };
      return value;
    },
    add : function(alias, base){

      this.__aliases[alias] = base;
      var dynamics = this._getDynamic();
      for(var path in dynamics){

        if(path.substring(0, path.indexOf("/")) === alias){

          dynamics[path] = base + path.substring(alias.length);
        };
      };
    },
    remove : function(alias){

      delete this.__aliases[alias];
    },
    resolve : function(path){

      var dynamic = this._getDynamic();
      if(path != null){

        path = this._preprocess(path);
      };
      return dynamic[path] || path;
    },
    getAliases : function(){

      var res = {
      };
      for(var key in this.__aliases){

        res[key] = this.__aliases[key];
      };
      return res;
    }
  },
  destruct : function(){

    this.__aliases = null;
  }
});

qx.Class.define("qx.util.LibraryManager", {
  extend : qx.core.Object,
  type : "singleton",
  statics : {
    __libs : qx.$$libraries || {
    }
  },
  members : {
    has : function(namespace){

      return !!this.self(arguments).__libs[namespace];
    },
    get : function(namespace, key){

      return this.self(arguments).__libs[namespace][key] ? this.self(arguments).__libs[namespace][key] : null;
    },
    set : function(namespace, key, value){

      this.self(arguments).__libs[namespace][key] = value;
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Transport", {
  statics : {
    getMaxConcurrentRequestCount : function(){

      var maxConcurrentRequestCount;
      var versionParts = qx.bom.client.Engine.getVersion().split(".");
      var versionMain = 0;
      var versionMajor = 0;
      var versionMinor = 0;
      if(versionParts[0]){

        versionMain = versionParts[0];
      };
      if(versionParts[1]){

        versionMajor = versionParts[1];
      };
      if(versionParts[2]){

        versionMinor = versionParts[2];
      };
      if(window.maxConnectionsPerServer){

        maxConcurrentRequestCount = window.maxConnectionsPerServer;
      } else if(qx.bom.client.Engine.getName() == "opera"){

        maxConcurrentRequestCount = 8;
      } else if(qx.bom.client.Engine.getName() == "webkit"){

        maxConcurrentRequestCount = 4;
      } else if(qx.bom.client.Engine.getName() == "gecko" && ((versionMain > 1) || ((versionMain == 1) && (versionMajor > 9)) || ((versionMain == 1) && (versionMajor == 9) && (versionMinor >= 1)))){

        maxConcurrentRequestCount = 6;
      } else {

        maxConcurrentRequestCount = 2;
      };;;
      return maxConcurrentRequestCount;
    },
    getSsl : function(){

      return window.location.protocol === "https:";
    },
    getXmlHttpRequest : function(){

      var supports = window.ActiveXObject ? (function(){

        if(window.location.protocol !== "file:"){

          try{

            new window.XMLHttpRequest();
            return "xhr";
          } catch(noXhr) {
          };
        };
        try{

          new window.ActiveXObject("Microsoft.XMLHTTP");
          return "activex";
        } catch(noActiveX) {
        };
      })() : (function(){

        try{

          new window.XMLHttpRequest();
          return "xhr";
        } catch(noXhr) {
        };
      })();
      return supports || "";
    }
  },
  defer : function(statics){

    qx.core.Environment.add("io.maxrequests", statics.getMaxConcurrentRequestCount);
    qx.core.Environment.add("io.ssl", statics.getSsl);
    qx.core.Environment.add("io.xhr", statics.getXmlHttpRequest);
  }
});

qx.Class.define("qx.util.ResourceManager", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this.base(arguments);
  },
  statics : {
    __registry : qx.$$resources || {
    },
    __urlPrefix : {
    }
  },
  members : {
    has : function(id){

      return !!this.self(arguments).__registry[id];
    },
    getData : function(id){

      return this.self(arguments).__registry[id] || null;
    },
    getImageWidth : function(id){

      var entry = this.self(arguments).__registry[id];
      return entry ? entry[0] : null;
    },
    getImageHeight : function(id){

      var entry = this.self(arguments).__registry[id];
      return entry ? entry[1] : null;
    },
    getImageFormat : function(id){

      var entry = this.self(arguments).__registry[id];
      return entry ? entry[2] : null;
    },
    getCombinedFormat : function(id){

      var clippedtype = "";
      var entry = this.self(arguments).__registry[id];
      var isclipped = entry && entry.length > 4 && typeof (entry[4]) == "string" && this.constructor.__registry[entry[4]];
      if(isclipped){

        var combId = entry[4];
        var combImg = this.constructor.__registry[combId];
        clippedtype = combImg[2];
      };
      return clippedtype;
    },
    toUri : function(id){

      if(id == null){

        return id;
      };
      var entry = this.self(arguments).__registry[id];
      if(!entry){

        return id;
      };
      if(typeof entry === "string"){

        var lib = entry;
      } else {

        var lib = entry[3];
        if(!lib){

          return id;
        };
      };
      var urlPrefix = "";
      if((qx.core.Environment.get("engine.name") == "mshtml") && qx.core.Environment.get("io.ssl")){

        urlPrefix = this.self(arguments).__urlPrefix[lib];
      };
      return urlPrefix + qx.util.LibraryManager.getInstance().get(lib, "resourceUri") + "/" + id;
    },
    toDataUri : function(resid){

      var resentry = this.constructor.__registry[resid];
      var combined = this.constructor.__registry[resentry[4]];
      var uri;
      if(combined){

        var resstruct = combined[4][resid];
        uri = "data:image/" + resstruct["type"] + ";" + resstruct["encoding"] + "," + resstruct["data"];
      } else {

        uri = this.toUri(resid);
      };
      return uri;
    }
  },
  defer : function(statics){

    if((qx.core.Environment.get("engine.name") == "mshtml")){

      if(qx.core.Environment.get("io.ssl")){

        for(var lib in qx.$$libraries){

          var resourceUri;
          if(qx.util.LibraryManager.getInstance().get(lib, "resourceUri")){

            resourceUri = qx.util.LibraryManager.getInstance().get(lib, "resourceUri");
          } else {

            statics.__urlPrefix[lib] = "";
            continue;
          };
          if(resourceUri.match(/^\/\//) != null){

            statics.__urlPrefix[lib] = window.location.protocol;
          } else if(resourceUri.match(/^\//) != null){

            statics.__urlPrefix[lib] = window.location.protocol + "//" + window.location.host;
          } else if(resourceUri.match(/^\.\//) != null){

            var url = document.URL;
            statics.__urlPrefix[lib] = url.substring(0, url.lastIndexOf("/") + 1);
          } else if(resourceUri.match(/^http/) != null){

            statics.__urlPrefix[lib] = "";
          } else {

            var index = window.location.href.indexOf("?");
            var href;
            if(index == -1){

              href = window.location.href;
            } else {

              href = window.location.href.substring(0, index);
            };
            statics.__urlPrefix[lib] = href.substring(0, href.lastIndexOf("/") + 1);
          };;;
        };
      };
    };
  }
});

qx.Mixin.define("qx.ui.decoration.MSingleBorder", {
  properties : {
    widthTop : {
      check : "Number",
      init : 0,
      apply : "_applyWidth"
    },
    widthRight : {
      check : "Number",
      init : 0,
      apply : "_applyWidth"
    },
    widthBottom : {
      check : "Number",
      init : 0,
      apply : "_applyWidth"
    },
    widthLeft : {
      check : "Number",
      init : 0,
      apply : "_applyWidth"
    },
    styleTop : {
      nullable : true,
      check : ["solid", "dotted", "dashed", "double", "inset", "outset", "ridge", "groove"],
      init : "solid",
      apply : "_applyStyle"
    },
    styleRight : {
      nullable : true,
      check : ["solid", "dotted", "dashed", "double", "inset", "outset", "ridge", "groove"],
      init : "solid",
      apply : "_applyStyle"
    },
    styleBottom : {
      nullable : true,
      check : ["solid", "dotted", "dashed", "double", "inset", "outset", "ridge", "groove"],
      init : "solid",
      apply : "_applyStyle"
    },
    styleLeft : {
      nullable : true,
      check : ["solid", "dotted", "dashed", "double", "inset", "outset", "ridge", "groove"],
      init : "solid",
      apply : "_applyStyle"
    },
    colorTop : {
      nullable : true,
      check : "Color",
      apply : "_applyStyle"
    },
    colorRight : {
      nullable : true,
      check : "Color",
      apply : "_applyStyle"
    },
    colorBottom : {
      nullable : true,
      check : "Color",
      apply : "_applyStyle"
    },
    colorLeft : {
      nullable : true,
      check : "Color",
      apply : "_applyStyle"
    },
    left : {
      group : ["widthLeft", "styleLeft", "colorLeft"]
    },
    right : {
      group : ["widthRight", "styleRight", "colorRight"]
    },
    top : {
      group : ["widthTop", "styleTop", "colorTop"]
    },
    bottom : {
      group : ["widthBottom", "styleBottom", "colorBottom"]
    },
    width : {
      group : ["widthTop", "widthRight", "widthBottom", "widthLeft"],
      mode : "shorthand"
    },
    style : {
      group : ["styleTop", "styleRight", "styleBottom", "styleLeft"],
      mode : "shorthand"
    },
    color : {
      group : ["colorTop", "colorRight", "colorBottom", "colorLeft"],
      mode : "shorthand"
    }
  },
  members : {
    _styleBorder : function(styles){

      if(qx.core.Environment.get("qx.theme")){

        var Color = qx.theme.manager.Color.getInstance();
        var colorTop = Color.resolve(this.getColorTop());
        var colorRight = Color.resolve(this.getColorRight());
        var colorBottom = Color.resolve(this.getColorBottom());
        var colorLeft = Color.resolve(this.getColorLeft());
      } else {

        var colorTop = this.getColorTop();
        var colorRight = this.getColorRight();
        var colorBottom = this.getColorBottom();
        var colorLeft = this.getColorLeft();
      };
      var width = this.getWidthTop();
      if(width > 0){

        styles["border-top"] = width + "px " + this.getStyleTop() + " " + (colorTop || "");
      };
      var width = this.getWidthRight();
      if(width > 0){

        styles["border-right"] = width + "px " + this.getStyleRight() + " " + (colorRight || "");
      };
      var width = this.getWidthBottom();
      if(width > 0){

        styles["border-bottom"] = width + "px " + this.getStyleBottom() + " " + (colorBottom || "");
      };
      var width = this.getWidthLeft();
      if(width > 0){

        styles["border-left"] = width + "px " + this.getStyleLeft() + " " + (colorLeft || "");
      };
      if(qx.core.Environment.get("qx.debug")){

        if(styles.length === 0){

          throw new Error("Invalid Single decorator (zero border width). Use qx.ui.decorator.Background instead!");
        };
      };
      styles.position = "absolute";
    },
    _getDefaultInsetsForBorder : function(){

      return {
        top : this.getWidthTop(),
        right : this.getWidthRight(),
        bottom : this.getWidthBottom(),
        left : this.getWidthLeft()
      };
    },
    _applyWidth : function(){

      this._applyStyle();
      this._resetInsets();
    },
    _applyStyle : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    }
  }
});

qx.Mixin.define("qx.ui.decoration.MDoubleBorder", {
  include : [qx.ui.decoration.MSingleBorder, qx.ui.decoration.MBackgroundImage],
  construct : function(){

    this._getDefaultInsetsForBorder = this.__getDefaultInsetsForDoubleBorder;
    this._styleBorder = this.__styleDoubleBorder;
  },
  properties : {
    innerWidthTop : {
      check : "Number",
      init : 0,
      apply : "_applyDoubleBorder"
    },
    innerWidthRight : {
      check : "Number",
      init : 0,
      apply : "_applyDoubleBorder"
    },
    innerWidthBottom : {
      check : "Number",
      init : 0,
      apply : "_applyDoubleBorder"
    },
    innerWidthLeft : {
      check : "Number",
      init : 0,
      apply : "_applyDoubleBorder"
    },
    innerWidth : {
      group : ["innerWidthTop", "innerWidthRight", "innerWidthBottom", "innerWidthLeft"],
      mode : "shorthand"
    },
    innerColorTop : {
      nullable : true,
      check : "Color",
      apply : "_applyDoubleBorder"
    },
    innerColorRight : {
      nullable : true,
      check : "Color",
      apply : "_applyDoubleBorder"
    },
    innerColorBottom : {
      nullable : true,
      check : "Color",
      apply : "_applyDoubleBorder"
    },
    innerColorLeft : {
      nullable : true,
      check : "Color",
      apply : "_applyDoubleBorder"
    },
    innerColor : {
      group : ["innerColorTop", "innerColorRight", "innerColorBottom", "innerColorLeft"],
      mode : "shorthand"
    },
    innerOpacity : {
      check : "Number",
      init : 1,
      apply : "_applyDoubleBorder"
    }
  },
  members : {
    __styleDoubleBorder : function(styles){

      var propName = qx.core.Environment.get("css.boxshadow");
      var color,innerColor,innerWidth;
      if(qx.core.Environment.get("qx.theme")){

        var Color = qx.theme.manager.Color.getInstance();
        color = {
          top : Color.resolve(this.getColorTop()),
          right : Color.resolve(this.getColorRight()),
          bottom : Color.resolve(this.getColorBottom()),
          left : Color.resolve(this.getColorLeft())
        };
        innerColor = {
          top : Color.resolve(this.getInnerColorTop()),
          right : Color.resolve(this.getInnerColorRight()),
          bottom : Color.resolve(this.getInnerColorBottom()),
          left : Color.resolve(this.getInnerColorLeft())
        };
      } else {

        color = {
          top : this.getColorTop(),
          right : this.getColorRight(),
          bottom : this.getColorBottom(),
          left : this.getColorLeft()
        };
        innerColor = {
          top : this.getInnerColorTop(),
          right : this.getInnerColorRight(),
          bottom : this.getInnerColorBottom(),
          left : this.getInnerColorLeft()
        };
      };
      innerWidth = {
        top : this.getInnerWidthTop(),
        right : this.getInnerWidthRight(),
        bottom : this.getInnerWidthBottom(),
        left : this.getInnerWidthLeft()
      };
      var width = this.getWidthTop();
      if(width > 0){

        styles["border-top"] = width + "px " + this.getStyleTop() + " " + color.top;
      };
      width = this.getWidthRight();
      if(width > 0){

        styles["border-right"] = width + "px " + this.getStyleRight() + " " + color.right;
      };
      width = this.getWidthBottom();
      if(width > 0){

        styles["border-bottom"] = width + "px " + this.getStyleBottom() + " " + color.bottom;
      };
      width = this.getWidthLeft();
      if(width > 0){

        styles["border-left"] = width + "px " + this.getStyleLeft() + " " + color.left;
      };
      var innerOpacity = this.getInnerOpacity();
      if(innerOpacity < 1){

        this.__processInnerOpacity(innerColor, innerOpacity);
      };
      if(innerWidth.top > 0 || innerWidth.right > 0 || innerWidth.bottom > 0 || innerWidth.left > 0){

        var borderTop = (innerWidth.top || 0) + "px solid " + innerColor.top;
        var borderRight = (innerWidth.right || 0) + "px solid " + innerColor.right;
        var borderBottom = (innerWidth.bottom || 0) + "px solid " + innerColor.bottom;
        var borderLeft = (innerWidth.left || 0) + "px solid " + innerColor.left;
        styles[":before"] = {
          "width" : "100%",
          "height" : "100%",
          "position" : "absolute",
          "content" : '""',
          "border-top" : borderTop,
          "border-right" : borderRight,
          "border-bottom" : borderBottom,
          "border-left" : borderLeft,
          "left" : 0,
          "top" : 0
        };
        var boxSizingKey = qx.bom.Style.getCssName(qx.core.Environment.get("css.boxsizing"));
        styles[":before"][boxSizingKey] = "border-box";
        var borderRadiusKey = qx.core.Environment.get("css.borderradius");
        if(borderRadiusKey){

          borderRadiusKey = qx.bom.Style.getCssName(borderRadiusKey);
          styles[":before"][borderRadiusKey] = "inherit";
        };
        var shadowStyle = [];
        if(innerColor.top && innerWidth.top && innerColor.top == innerColor.bottom && innerColor.top == innerColor.right && innerColor.top == innerColor.left && innerWidth.top == innerWidth.bottom && innerWidth.top == innerWidth.right && innerWidth.top == innerWidth.left){

          shadowStyle.push("inset 0 0 0 " + innerWidth.top + "px " + innerColor.top);
        } else {

          if(innerColor.top){

            shadowStyle.push("inset 0 " + (innerWidth.top || 0) + "px " + innerColor.top);
          };
          if(innerColor.right){

            shadowStyle.push("inset -" + (innerWidth.right || 0) + "px 0 " + innerColor.right);
          };
          if(innerColor.bottom){

            shadowStyle.push("inset 0 -" + (innerWidth.bottom || 0) + "px " + innerColor.bottom);
          };
          if(innerColor.left){

            shadowStyle.push("inset " + (innerWidth.left || 0) + "px 0 " + innerColor.left);
          };
        };
        if(shadowStyle.length > 0 && propName){

          propName = qx.bom.Style.getCssName(propName);
          if(!styles[propName]){

            styles[propName] = shadowStyle.join(",");
          } else {

            styles[propName] += "," + shadowStyle.join(",");
          };
        };
      } else {

        styles[":before"] = {
          border : 0
        };
      };
    },
    __processInnerOpacity : function(innerColor, innerOpacity){

      if(!qx.core.Environment.get("css.rgba")){

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.warn("innerOpacity is configured but the browser doesn't support RGBA colors.");
        };
        return;
      };
      for(var edge in innerColor){

        var rgb = qx.util.ColorUtil.stringToRgb(innerColor[edge]);
        rgb.push(innerOpacity);
        var rgbString = qx.util.ColorUtil.rgbToRgbString(rgb);
        innerColor[edge] = rgbString;
      };
    },
    _applyDoubleBorder : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    },
    __getDefaultInsetsForDoubleBorder : function(){

      return {
        top : this.getWidthTop() + this.getInnerWidthTop(),
        right : this.getWidthRight() + this.getInnerWidthRight(),
        bottom : this.getWidthBottom() + this.getInnerWidthBottom(),
        left : this.getWidthLeft() + this.getInnerWidthLeft()
      };
    }
  }
});

qx.Mixin.define("qx.ui.decoration.MBorderRadius", {
  properties : {
    radiusTopLeft : {
      nullable : true,
      check : "Integer",
      apply : "_applyBorderRadius"
    },
    radiusTopRight : {
      nullable : true,
      check : "Integer",
      apply : "_applyBorderRadius"
    },
    radiusBottomLeft : {
      nullable : true,
      check : "Integer",
      apply : "_applyBorderRadius"
    },
    radiusBottomRight : {
      nullable : true,
      check : "Integer",
      apply : "_applyBorderRadius"
    },
    radius : {
      group : ["radiusTopLeft", "radiusTopRight", "radiusBottomRight", "radiusBottomLeft"],
      mode : "shorthand"
    }
  },
  members : {
    _styleBorderRadius : function(styles){

      styles["-webkit-background-clip"] = "padding-box";
      styles["background-clip"] = "padding-box";
      var hasRadius = false;
      var radius = this.getRadiusTopLeft();
      if(radius > 0){

        hasRadius = true;
        styles["-moz-border-radius-topleft"] = radius + "px";
        styles["-webkit-border-top-left-radius"] = radius + "px";
        styles["border-top-left-radius"] = radius + "px";
      };
      radius = this.getRadiusTopRight();
      if(radius > 0){

        hasRadius = true;
        styles["-moz-border-radius-topright"] = radius + "px";
        styles["-webkit-border-top-right-radius"] = radius + "px";
        styles["border-top-right-radius"] = radius + "px";
      };
      radius = this.getRadiusBottomLeft();
      if(radius > 0){

        hasRadius = true;
        styles["-moz-border-radius-bottomleft"] = radius + "px";
        styles["-webkit-border-bottom-left-radius"] = radius + "px";
        styles["border-bottom-left-radius"] = radius + "px";
      };
      radius = this.getRadiusBottomRight();
      if(radius > 0){

        hasRadius = true;
        styles["-moz-border-radius-bottomright"] = radius + "px";
        styles["-webkit-border-bottom-right-radius"] = radius + "px";
        styles["border-bottom-right-radius"] = radius + "px";
      };
      if(hasRadius && qx.core.Environment.get("engine.name") == "webkit"){

        styles["-webkit-background-clip"] = "padding-box";
      } else {

        styles["background-clip"] = "padding-box";
      };
    },
    _applyBorderRadius : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    }
  }
});

qx.Mixin.define("qx.ui.decoration.MBorderImage", {
  properties : {
    borderImage : {
      check : "String",
      nullable : true,
      apply : "_applyBorderImage"
    },
    sliceTop : {
      check : "Integer",
      nullable : true,
      init : null,
      apply : "_applyBorderImage"
    },
    sliceRight : {
      check : "Integer",
      nullable : true,
      init : null,
      apply : "_applyBorderImage"
    },
    sliceBottom : {
      check : "Integer",
      nullable : true,
      init : null,
      apply : "_applyBorderImage"
    },
    sliceLeft : {
      check : "Integer",
      nullable : true,
      init : null,
      apply : "_applyBorderImage"
    },
    slice : {
      group : ["sliceTop", "sliceRight", "sliceBottom", "sliceLeft"],
      mode : "shorthand"
    },
    repeatX : {
      check : ["stretch", "repeat", "round"],
      init : "stretch",
      apply : "_applyBorderImage"
    },
    repeatY : {
      check : ["stretch", "repeat", "round"],
      init : "stretch",
      apply : "_applyBorderImage"
    },
    repeat : {
      group : ["repeatX", "repeatY"],
      mode : "shorthand"
    },
    fill : {
      check : "Boolean",
      init : true,
      apply : "_applyBorderImage"
    },
    borderImageMode : {
      check : ["horizontal", "vertical", "grid"],
      init : "grid"
    }
  },
  members : {
    _styleBorderImage : function(styles){

      if(!this.getBorderImage()){

        return;
      };
      var resolvedImage = qx.util.AliasManager.getInstance().resolve(this.getBorderImage());
      var source = qx.util.ResourceManager.getInstance().toUri(resolvedImage);
      var computedSlices = this._getDefaultInsetsForBorderImage();
      var slice = [computedSlices.top, computedSlices.right, computedSlices.bottom, computedSlices.left];
      var repeat = [this.getRepeatX(), this.getRepeatY()].join(" ");
      var fill = this.getFill() && qx.core.Environment.get("css.borderimage.standardsyntax") ? " fill" : "";
      var styleName = qx.bom.Style.getPropertyName("borderImage");
      if(styleName){

        var cssName = qx.bom.Style.getCssName(styleName);
        styles[cssName] = 'url("' + source + '") ' + slice.join(" ") + fill + " " + repeat;
      };
      styles["border-style"] = "solid";
      styles["border-color"] = "transparent";
      styles["border-width"] = slice.join("px ") + "px";
    },
    _getDefaultInsetsForBorderImage : function(){

      if(!this.getBorderImage()){

        return {
          top : 0,
          right : 0,
          bottom : 0,
          left : 0
        };
      };
      var resolvedImage = qx.util.AliasManager.getInstance().resolve(this.getBorderImage());
      var computedSlices = this.__getSlices(resolvedImage);
      return {
        top : this.getSliceTop() || computedSlices[0],
        right : this.getSliceRight() || computedSlices[1],
        bottom : this.getSliceBottom() || computedSlices[2],
        left : this.getSliceLeft() || computedSlices[3]
      };
    },
    _applyBorderImage : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    },
    __getSlices : function(baseImage){

      var mode = this.getBorderImageMode();
      var topSlice = 0;
      var rightSlice = 0;
      var bottomSlice = 0;
      var leftSlice = 0;
      var split = /(.*)(\.[a-z]+)$/.exec(baseImage);
      var prefix = split[1];
      var ext = split[2];
      var ResourceManager = qx.util.ResourceManager.getInstance();
      if(mode == "grid" || mode == "vertical"){

        topSlice = ResourceManager.getImageHeight(prefix + "-t" + ext);
        bottomSlice = ResourceManager.getImageHeight(prefix + "-b" + ext);
      };
      if(mode == "grid" || mode == "horizontal"){

        rightSlice = ResourceManager.getImageWidth(prefix + "-r" + ext);
        leftSlice = ResourceManager.getImageWidth(prefix + "-l" + ext);
      };
      return [topSlice, rightSlice, bottomSlice, leftSlice];
    }
  }
});

qx.Mixin.define("qx.ui.decoration.MLinearBackgroundGradient", {
  properties : {
    startColor : {
      check : "Color",
      nullable : true,
      apply : "_applyLinearBackgroundGradient"
    },
    endColor : {
      check : "Color",
      nullable : true,
      apply : "_applyLinearBackgroundGradient"
    },
    orientation : {
      check : ["horizontal", "vertical"],
      init : "vertical",
      apply : "_applyLinearBackgroundGradient"
    },
    startColorPosition : {
      check : "Number",
      init : 0,
      apply : "_applyLinearBackgroundGradient"
    },
    endColorPosition : {
      check : "Number",
      init : 100,
      apply : "_applyLinearBackgroundGradient"
    },
    colorPositionUnit : {
      check : ["px", "%"],
      init : "%",
      apply : "_applyLinearBackgroundGradient"
    },
    gradientStart : {
      group : ["startColor", "startColorPosition"],
      mode : "shorthand"
    },
    gradientEnd : {
      group : ["endColor", "endColorPosition"],
      mode : "shorthand"
    }
  },
  members : {
    __canvas : null,
    _styleLinearBackgroundGradient : function(styles){

      var colors = this.__getColors();
      var startColor = colors.start;
      var endColor = colors.end;
      var value;
      if(!startColor || !endColor){

        return;
      };
      var unit = this.getColorPositionUnit();
      if(qx.core.Environment.get("css.gradient.legacywebkit")){

        unit = unit === "px" ? "" : unit;
        if(this.getOrientation() == "horizontal"){

          var startPos = this.getStartColorPosition() + unit + " 0" + unit;
          var endPos = this.getEndColorPosition() + unit + " 0" + unit;
        } else {

          var startPos = "0" + unit + " " + this.getStartColorPosition() + unit;
          var endPos = "0" + unit + " " + this.getEndColorPosition() + unit;
        };
        var color = "from(" + startColor + "),to(" + endColor + ")";
        value = "-webkit-gradient(linear," + startPos + "," + endPos + "," + color + ")";
        styles["background"] = value;
      } else if(qx.core.Environment.get("css.gradient.filter") && !qx.core.Environment.get("css.gradient.linear") && qx.core.Environment.get("css.borderradius")){

        if(!this.__canvas){

          this.__canvas = document.createElement("canvas");
        };
        var isVertical = this.getOrientation() == "vertical";
        var colors = this.__getColors();
        var height = isVertical ? 200 : 1;
        var width = isVertical ? 1 : 200;
        var range = Math.max(100, this.getEndColorPosition() - this.getStartColorPosition());
        if(unit === "px"){

          if(isVertical){

            height = Math.max(height, this.getEndColorPosition() - this.getStartColorPosition());
          } else {

            width = Math.max(width, this.getEndColorPosition() - this.getStartColorPosition());
          };
        } else {

          if(isVertical){

            height = Math.max(height, (this.getEndColorPosition() - this.getStartColorPosition()) * 2);
          } else {

            width = Math.max(width, (this.getEndColorPosition() - this.getStartColorPosition()) * 2);
          };
        };
        this.__canvas.width = width;
        this.__canvas.height = height;
        var ctx = this.__canvas.getContext('2d');
        if(isVertical){

          var lingrad = ctx.createLinearGradient(0, 0, 0, height);
        } else {

          var lingrad = ctx.createLinearGradient(0, 0, width, 0);
        };
        if(unit === "%"){

          lingrad.addColorStop(Math.max(0, this.getStartColorPosition()) / range, colors.start);
          lingrad.addColorStop(this.getEndColorPosition() / range, colors.end);
        } else {

          var comp = isVertical ? height : width;
          lingrad.addColorStop(Math.max(0, this.getStartColorPosition()) / comp, colors.start);
          lingrad.addColorStop(this.getEndColorPosition() / comp, colors.end);
        };
        ctx.fillStyle = lingrad;
        ctx.fillRect(0, 0, width, height);
        var value = "url(" + this.__canvas.toDataURL() + ")";
        styles["background-image"] = value;
        if(unit === "%"){

          if(isVertical){

            styles["background-size"] = "100% " + range + "%";
          } else {

            styles["background-size"] = range + "% 100%";
          };
        } else {

          styles["background-size"] = isVertical ? height + "px 100%" : "100% " + width + "px";
        };
      } else if(qx.core.Environment.get("css.gradient.filter") && !qx.core.Environment.get("css.gradient.linear")){

        var colors = this.__getColors();
        var type = this.getOrientation() == "horizontal" ? 1 : 0;
        var startColor = colors.start;
        var endColor = colors.end;
        if(!qx.util.ColorUtil.isHex6String(startColor)){

          startColor = qx.util.ColorUtil.stringToRgb(startColor);
          startColor = qx.util.ColorUtil.rgbToHexString(startColor);
        };
        if(!qx.util.ColorUtil.isHex6String(endColor)){

          endColor = qx.util.ColorUtil.stringToRgb(endColor);
          endColor = qx.util.ColorUtil.rgbToHexString(endColor);
        };
        startColor = startColor.substring(1, startColor.length);
        endColor = endColor.substring(1, endColor.length);
        value = "progid:DXImageTransform.Microsoft.Gradient" + "(GradientType=" + type + ", " + "StartColorStr='#FF" + startColor + "', " + "EndColorStr='#FF" + endColor + "';)";
        if(styles["filter"]){

          styles["filter"] += ", " + value;
        } else {

          styles["filter"] = value;
        };
        if(!styles["background-color"] || styles["background-color"] == "transparent"){

          styles["background-color"] = "white";
        };
      } else {

        var deg = this.getOrientation() == "horizontal" ? 0 : 270;
        var start = startColor + " " + this.getStartColorPosition() + unit;
        var end = endColor + " " + this.getEndColorPosition() + unit;
        var prefixedName = qx.core.Environment.get("css.gradient.linear");
        if(prefixedName === "linear-gradient"){

          deg = this.getOrientation() == "horizontal" ? deg + 90 : deg - 90;
        };
        value = prefixedName + "(" + deg + "deg, " + start + "," + end + ")";
        if(styles["background-image"]){

          styles["background-image"] += ", " + value;
        } else {

          styles["background-image"] = value;
        };
      };;
    },
    __getColors : function(){

      if(qx.core.Environment.get("qx.theme")){

        var Color = qx.theme.manager.Color.getInstance();
        var startColor = Color.resolve(this.getStartColor());
        var endColor = Color.resolve(this.getEndColor());
      } else {

        var startColor = this.getStartColor();
        var endColor = this.getEndColor();
      };
      return {
        start : startColor,
        end : endColor
      };
    },
    _getContent : function(){

      if(qx.core.Environment.get("css.gradient.filter") && !qx.core.Environment.get("css.gradient.linear")){

        var colors = this.__getColors();
        var type = this.getOrientation() == "horizontal" ? 1 : 0;
        var startColor = qx.util.ColorUtil.hex3StringToHex6String(colors.start);
        var endColor = qx.util.ColorUtil.hex3StringToHex6String(colors.end);
        startColor = startColor.substring(1, startColor.length);
        endColor = endColor.substring(1, endColor.length);
        var shadow = "";
        if(this.classname.indexOf("MBoxShadow") != -1){

          var styles = {
          };
          this._styleBoxShadow(styles);
          shadow = "<div style='width: 100%; height: 100%; position: absolute;" + qx.bom.element.Style.compile(styles) + "'></div>";
        };
        return "<div style=\"position: absolute; width: 100%; height: 100%; " + "filter:progid:DXImageTransform.Microsoft.Gradient" + "(GradientType=" + type + ", " + "StartColorStr='#FF" + startColor + "', " + "EndColorStr='#FF" + endColor + "';)\">" + shadow + "</div>";
      };
      return "";
    },
    _applyLinearBackgroundGradient : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    }
  }
});

qx.Mixin.define("qx.ui.decoration.MBoxShadow", {
  properties : {
    shadowHorizontalLength : {
      nullable : true,
      check : "Integer",
      apply : "_applyBoxShadow"
    },
    shadowVerticalLength : {
      nullable : true,
      check : "Integer",
      apply : "_applyBoxShadow"
    },
    shadowBlurRadius : {
      nullable : true,
      check : "Integer",
      apply : "_applyBoxShadow"
    },
    shadowSpreadRadius : {
      nullable : true,
      check : "Integer",
      apply : "_applyBoxShadow"
    },
    shadowColor : {
      nullable : true,
      check : "Color",
      apply : "_applyBoxShadow"
    },
    inset : {
      init : false,
      check : "Boolean",
      apply : "_applyBoxShadow"
    },
    shadowLength : {
      group : ["shadowHorizontalLength", "shadowVerticalLength"],
      mode : "shorthand"
    }
  },
  members : {
    _styleBoxShadow : function(styles){

      var propName = qx.core.Environment.get("css.boxshadow");
      if(!propName || this.getShadowVerticalLength() == null && this.getShadowHorizontalLength() == null){

        return;
      };
      if(qx.core.Environment.get("qx.theme")){

        var Color = qx.theme.manager.Color.getInstance();
        var color = Color.resolve(this.getShadowColor());
      } else {

        var color = this.getShadowColor();
      };
      if(color != null){

        var vLength = this.getShadowVerticalLength() || 0;
        var hLength = this.getShadowHorizontalLength() || 0;
        var blur = this.getShadowBlurRadius() || 0;
        var spread = this.getShadowSpreadRadius() || 0;
        var inset = this.getInset() ? "inset " : "";
        var value = inset + hLength + "px " + vLength + "px " + blur + "px " + spread + "px " + color;
        propName = qx.bom.Style.getCssName(propName);
        if(!styles[propName]){

          styles[propName] = value;
        } else {

          styles[propName] += "," + value;
        };
      };
    },
    _applyBoxShadow : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(this._isInitialized()){

          throw new Error("This decorator is already in-use. Modification is not possible anymore!");
        };
      };
    }
  }
});

qx.Class.define("qx.ui.decoration.Decorator", {
  extend : qx.ui.decoration.Abstract,
  implement : [qx.ui.decoration.IDecorator],
  include : [qx.ui.decoration.MBackgroundColor, qx.ui.decoration.MBorderRadius, qx.ui.decoration.MBoxShadow, qx.ui.decoration.MDoubleBorder, qx.ui.decoration.MLinearBackgroundGradient, qx.ui.decoration.MBorderImage],
  members : {
    __initialized : false,
    getPadding : function(){

      var insets = this.getInset();
      var slices = this._getDefaultInsetsForBorderImage();
      var borderTop = insets.top - (slices.top ? slices.top : this.getWidthTop());
      var borderRight = insets.right - (slices.right ? slices.right : this.getWidthRight());
      var borderBottom = insets.bottom - (slices.bottom ? slices.bottom : this.getWidthBottom());
      var borderLeft = insets.left - (slices.left ? slices.left : this.getWidthLeft());
      return {
        top : insets.top ? borderTop : this.getInnerWidthTop(),
        right : insets.right ? borderRight : this.getInnerWidthRight(),
        bottom : insets.bottom ? borderBottom : this.getInnerWidthBottom(),
        left : insets.left ? borderLeft : this.getInnerWidthLeft()
      };
    },
    getStyles : function(css){

      if(css){

        return this._getStyles();
      };
      var jsStyles = {
      };
      var cssStyles = this._getStyles();
      for(var property in cssStyles){

        jsStyles[qx.lang.String.camelCase(property)] = cssStyles[property];
      };
      return jsStyles;
    },
    _getStyles : function(){

      var styles = {
      };
      for(var name in this){

        if(name.indexOf("_style") == 0 && this[name] instanceof Function){

          this[name](styles);
        };
      };
      this.__initialized = true;
      return styles;
    },
    _getDefaultInsets : function(){

      var directions = ["top", "right", "bottom", "left"];
      var defaultInsets = {
      };
      for(var name in this){

        if(name.indexOf("_getDefaultInsetsFor") == 0 && this[name] instanceof Function){

          var currentInsets = this[name]();
          for(var i = 0;i < directions.length;i++){

            var direction = directions[i];
            if(defaultInsets[direction] == undefined){

              defaultInsets[direction] = currentInsets[direction];
            };
            if(currentInsets[direction] > defaultInsets[direction]){

              defaultInsets[direction] = currentInsets[direction];
            };
          };
        };
      };
      if(defaultInsets["top"] != undefined){

        return defaultInsets;
      };
      return {
        top : 0,
        right : 0,
        bottom : 0,
        left : 0
      };
    },
    _isInitialized : function(){

      return this.__initialized;
    }
  }
});

qx.Class.define("qx.event.dispatch.MouseCapture", {
  extend : qx.event.dispatch.AbstractBubbling,
  construct : function(manager, registration){

    this.base(arguments, manager);
    this.__window = manager.getWindow();
    this.__registration = registration;
    manager.addListener(this.__window, "blur", this.releaseCapture, this);
    manager.addListener(this.__window, "focus", this.releaseCapture, this);
    manager.addListener(this.__window, "scroll", this.releaseCapture, this);
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_FIRST
  },
  members : {
    __registration : null,
    __captureElement : null,
    __containerCapture : true,
    __window : null,
    _getParent : function(target){

      return target.parentNode;
    },
    canDispatchEvent : function(target, event, type){

      return !!(this.__captureElement && this.__captureEvents[type]);
    },
    dispatchEvent : function(target, event, type){

      if(type == "click"){

        event.stopPropagation();
        this.releaseCapture();
        return;
      };
      if(this.__containerCapture || !qx.dom.Hierarchy.contains(this.__captureElement, target)){

        target = this.__captureElement;
      };
      this.base(arguments, target, event, type);
    },
    __captureEvents : {
      "mouseup" : 1,
      "mousedown" : 1,
      "click" : 1,
      "dblclick" : 1,
      "mousemove" : 1,
      "mouseout" : 1,
      "mouseover" : 1,
      "pointerdown" : 1,
      "pointerup" : 1,
      "pointermove" : 1,
      "pointerover" : 1,
      "pointerout" : 1,
      "tap" : 1,
      "dbltap" : 1
    },
    activateCapture : function(element, containerCapture){

      var containerCapture = containerCapture !== false;
      if(this.__captureElement === element && this.__containerCapture == containerCapture){

        return;
      };
      if(this.__captureElement){

        this.releaseCapture();
      };
      if(this.hasNativeCapture){

        this.nativeSetCapture(element, containerCapture);
        var self = this;
        qx.bom.Event.addNativeListener(element, "losecapture", function(){

          qx.bom.Event.removeNativeListener(element, "losecapture", arguments.callee);
          self.releaseCapture();
        });
      };
      this.__containerCapture = containerCapture;
      this.__captureElement = element;
      this.__registration.fireEvent(element, "capture", qx.event.type.Event, [true, false]);
    },
    getCaptureElement : function(){

      return this.__captureElement;
    },
    releaseCapture : function(){

      var element = this.__captureElement;
      if(!element){

        return;
      };
      this.__captureElement = null;
      this.__registration.fireEvent(element, "losecapture", qx.event.type.Event, [true, false]);
      this.nativeReleaseCapture(element);
    },
    hasNativeCapture : (qx.core.Environment.get("engine.name") == "mshtml" && (qx.core.Environment.get("os.version") !== "7" || qx.core.Environment.get("browser.documentmode") < 9)),
    nativeSetCapture : qx.core.Environment.select("engine.name", {
      "mshtml" : function(element, containerCapture){

        element.setCapture(containerCapture !== false);
      },
      "default" : (function(){
      })
    }),
    nativeReleaseCapture : qx.core.Environment.select("engine.name", {
      "mshtml" : function(element){

        element.releaseCapture();
      },
      "default" : (function(){
      })
    })
  },
  destruct : function(){

    this.__captureElement = this.__window = this.__registration = null;
  },
  defer : function(statics){

    qx.event.Registration.addDispatcher(statics);
  }
});

qx.Class.define("qx.type.BaseString", {
  extend : Object,
  construct : function(txt){

    var txt = txt || "";
    this.__txt = txt;
    this.length = txt.length;
  },
  members : {
    $$isString : true,
    length : 0,
    __txt : null,
    toString : function(){

      return this.__txt;
    },
    charAt : null,
    valueOf : null,
    charCodeAt : null,
    concat : null,
    indexOf : null,
    lastIndexOf : null,
    match : null,
    replace : null,
    search : null,
    slice : null,
    split : null,
    substr : null,
    substring : null,
    toLowerCase : null,
    toUpperCase : null,
    toHashCode : function(){

      return qx.core.ObjectRegistry.toHashCode(this);
    },
    toLocaleLowerCase : null,
    toLocaleUpperCase : null,
    base : function(args, varags){

      return qx.core.Object.prototype.base.apply(this, arguments);
    }
  },
  defer : function(statics, members){

    if(qx.core.Environment.get("qx.debug")){

      qx.Class.include(statics, qx.core.MAssert);
    };
    var mappedFunctions = ['charAt', 'charCodeAt', 'concat', 'indexOf', 'lastIndexOf', 'match', 'replace', 'search', 'slice', 'split', 'substr', 'substring', 'toLowerCase', 'toUpperCase', 'toLocaleLowerCase', 'toLocaleUpperCase', 'trim'];
    members.valueOf = members.toString;
    if(new statics("").valueOf() == null){

      delete members.valueOf;
    };
    for(var i = 0,l = mappedFunctions.length;i < l;i++){

      members[mappedFunctions[i]] = String.prototype[mappedFunctions[i]];
    };
  }
});

qx.Class.define("qx.locale.LocalizedString", {
  extend : qx.type.BaseString,
  construct : function(translation, messageId, args){

    this.base(arguments, translation);
    this.__messageId = messageId;
    this.__args = args;
  },
  members : {
    __messageId : null,
    __args : null,
    translate : function(){

      return qx.locale.Manager.getInstance().translate(this.__messageId, this.__args);
    },
    getMessageId : function(){

      return this.__messageId;
    }
  }
});

qx.Class.define("qx.locale.Manager", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__translations = qx.$$translations || {
    };
    this.__locales = qx.$$locales || {
    };
    var locale = qx.core.Environment.get("locale");
    var variant = qx.core.Environment.get("locale.variant");
    if(variant !== ""){

      locale += "_" + variant;
    };
    this.__clientLocale = locale;
    this.setLocale(locale || this.__defaultLocale);
  },
  statics : {
    tr : function(messageId, varargs){

      var args = qx.lang.Array.fromArguments(arguments);
      args.splice(0, 1);
      return qx.locale.Manager.getInstance().translate(messageId, args);
    },
    trn : function(singularMessageId, pluralMessageId, count, varargs){

      var args = qx.lang.Array.fromArguments(arguments);
      args.splice(0, 3);
      if(count != 1){

        return qx.locale.Manager.getInstance().translate(pluralMessageId, args);
      } else {

        return qx.locale.Manager.getInstance().translate(singularMessageId, args);
      };
    },
    trc : function(hint, messageId, varargs){

      var args = qx.lang.Array.fromArguments(arguments);
      args.splice(0, 2);
      return qx.locale.Manager.getInstance().translate(messageId, args);
    },
    trnc : function(hint, singularMessageId, pluralMessageId, count, varargs){

      var args = qx.lang.Array.fromArguments(arguments);
      args.splice(0, 4);
      if(count != 1){

        return qx.locale.Manager.getInstance().translate(pluralMessageId, args);
      } else {

        return qx.locale.Manager.getInstance().translate(singularMessageId, args);
      };
    },
    marktr : function(messageId){

      return messageId;
    }
  },
  properties : {
    locale : {
      check : "String",
      nullable : true,
      apply : "_applyLocale",
      event : "changeLocale"
    }
  },
  members : {
    __defaultLocale : "C",
    __locale : null,
    __language : null,
    __translations : null,
    __locales : null,
    __clientLocale : null,
    getLanguage : function(){

      return this.__language;
    },
    getTerritory : function(){

      return this.getLocale().split("_")[1] || "";
    },
    getAvailableLocales : function(includeNonloaded){

      var locales = [];
      for(var locale in this.__locales){

        if(locale != this.__defaultLocale){

          if(this.__locales[locale] === null && !includeNonloaded){

            continue;
          };
          locales.push(locale);
        };
      };
      return locales;
    },
    __extractLanguage : function(locale){

      var language;
      if(locale == null){

        return null;
      };
      var pos = locale.indexOf("_");
      if(pos == -1){

        language = locale;
      } else {

        language = locale.substring(0, pos);
      };
      return language;
    },
    _applyLocale : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        if(!(value in this.__locales || value == this.__clientLocale)){

          qx.log.Logger.warn("Locale: " + value + " not available.");
        };
      };
      this.__locale = value;
      this.__language = this.__extractLanguage(value);
    },
    addTranslation : function(languageCode, translationMap){

      var catalog = this.__translations;
      if(catalog[languageCode]){

        for(var key in translationMap){

          catalog[languageCode][key] = translationMap[key];
        };
      } else {

        catalog[languageCode] = translationMap;
      };
    },
    addLocale : function(localeCode, localeMap){

      var catalog = this.__locales;
      if(catalog[localeCode]){

        for(var key in localeMap){

          catalog[localeCode][key] = localeMap[key];
        };
      } else {

        catalog[localeCode] = localeMap;
      };
    },
    translate : function(messageId, args, locale){

      var catalog = this.__translations;
      return this.__lookupAndExpand(catalog, messageId, args, locale);
    },
    localize : function(messageId, args, locale){

      var catalog = this.__locales;
      return this.__lookupAndExpand(catalog, messageId, args, locale);
    },
    __lookupAndExpand : function(catalog, messageId, args, locale){

      if(qx.core.Environment.get("qx.debug")){

        this.assertObject(catalog);
        this.assertString(messageId);
        this.assertArray(args);
      };
      var txt;
      if(!catalog){

        return messageId;
      };
      if(locale){

        var language = this.__extractLanguage(locale);
      } else {

        locale = this.__locale;
        language = this.__language;
      };
      if(!txt && catalog[locale]){

        txt = catalog[locale][messageId];
      };
      if(!txt && catalog[language]){

        txt = catalog[language][messageId];
      };
      if(!txt && catalog[this.__defaultLocale]){

        txt = catalog[this.__defaultLocale][messageId];
      };
      if(!txt){

        txt = messageId;
      };
      if(args.length > 0){

        var translatedArgs = [];
        for(var i = 0;i < args.length;i++){

          var arg = args[i];
          if(arg && arg.translate){

            translatedArgs[i] = arg.translate();
          } else {

            translatedArgs[i] = arg;
          };
        };
        txt = qx.lang.String.format(txt, translatedArgs);
      };
      if(qx.core.Environment.get("qx.dynlocale")){

        txt = new qx.locale.LocalizedString(txt, messageId, args);
      };
      return txt;
    }
  },
  destruct : function(){

    this.__translations = this.__locales = null;
  }
});

qx.Bootstrap.define("qx.bom.client.Locale", {
  statics : {
    getLocale : function(){

      var locale = qx.bom.client.Locale.__getNavigatorLocale();
      var index = locale.indexOf("-");
      if(index != -1){

        locale = locale.substr(0, index);
      };
      return locale;
    },
    getVariant : function(){

      var locale = qx.bom.client.Locale.__getNavigatorLocale();
      var variant = "";
      var index = locale.indexOf("-");
      if(index != -1){

        variant = locale.substr(index + 1);
      };
      return variant;
    },
    __getNavigatorLocale : function(){

      var locale = (navigator.userLanguage || navigator.language || "");
      if(qx.bom.client.OperatingSystem.getName() == "android"){

        var match = /(\w{2})-(\w{2})/i.exec(navigator.userAgent);
        if(match){

          locale = match[0];
        };
      };
      return locale.toLowerCase();
    }
  },
  defer : function(statics){

    qx.core.Environment.add("locale", statics.getLocale);
    qx.core.Environment.add("locale.variant", statics.getVariant);
  }
});

qx.Mixin.define("qx.ui.core.MPlacement", {
  statics : {
    __visible : null,
    __direction : "left",
    setVisibleElement : function(elem){

      this.__visible = elem;
    },
    getVisibleElement : function(){

      return this.__visible;
    },
    setMoveDirection : function(direction){

      if(direction === "top" || direction === "left"){

        this.__direction = direction;
      } else {

        throw new Error("Invalid value for the parameter 'direction' " + "[qx.ui.core.MPlacement.setMoveDirection()], the value was '" + direction + "' " + "but 'top' or 'left' are allowed.");
      };
    },
    getMoveDirection : function(){

      return this.__direction;
    }
  },
  properties : {
    position : {
      check : ["top-left", "top-center", "top-right", "bottom-left", "bottom-center", "bottom-right", "left-top", "left-middle", "left-bottom", "right-top", "right-middle", "right-bottom"],
      init : "bottom-left",
      themeable : true
    },
    placeMethod : {
      check : ["widget", "pointer"],
      init : "pointer",
      themeable : true
    },
    domMove : {
      check : "Boolean",
      init : false
    },
    placementModeX : {
      check : ["direct", "keep-align", "best-fit"],
      init : "keep-align",
      themeable : true
    },
    placementModeY : {
      check : ["direct", "keep-align", "best-fit"],
      init : "keep-align",
      themeable : true
    },
    offsetLeft : {
      check : "Integer",
      init : 0,
      themeable : true
    },
    offsetTop : {
      check : "Integer",
      init : 0,
      themeable : true
    },
    offsetRight : {
      check : "Integer",
      init : 0,
      themeable : true
    },
    offsetBottom : {
      check : "Integer",
      init : 0,
      themeable : true
    },
    offset : {
      group : ["offsetTop", "offsetRight", "offsetBottom", "offsetLeft"],
      mode : "shorthand",
      themeable : true
    }
  },
  members : {
    __ptwLiveUpdater : null,
    __ptwLiveDisappearListener : null,
    __ptwLiveUpdateDisappearListener : null,
    getLayoutLocation : function(widget){

      var insets,bounds,left,top;
      bounds = widget.getBounds();
      if(!bounds){

        return null;
      };
      left = bounds.left;
      top = bounds.top;
      var size = bounds;
      widget = widget.getLayoutParent();
      while(widget && !widget.isRootWidget()){

        bounds = widget.getBounds();
        left += bounds.left;
        top += bounds.top;
        insets = widget.getInsets();
        left += insets.left;
        top += insets.top;
        widget = widget.getLayoutParent();
      };
      if(widget.isRootWidget()){

        var rootCoords = widget.getContentLocation();
        if(rootCoords){

          left += rootCoords.left;
          top += rootCoords.top;
        };
      };
      return {
        left : left,
        top : top,
        right : left + size.width,
        bottom : top + size.height
      };
    },
    moveTo : function(left, top){

      var visible = qx.ui.core.MPlacement.getVisibleElement();
      if(visible){

        var bounds = this.getBounds();
        var elemLocation = visible.getContentLocation();
        if(bounds && elemLocation){

          var bottom = top + bounds.height;
          var right = left + bounds.width;
          if((right > elemLocation.left && left < elemLocation.right) && (bottom > elemLocation.top && top < elemLocation.bottom)){

            var direction = qx.ui.core.MPlacement.getMoveDirection();
            if(direction === "left"){

              left = Math.max(elemLocation.left - bounds.width, 0);
            } else {

              top = Math.max(elemLocation.top - bounds.height, 0);
            };
          };
        };
      };
      if(this.getDomMove()){

        this.setDomPosition(left, top);
      } else {

        this.setLayoutProperties({
          left : left,
          top : top
        });
      };
    },
    placeToWidget : function(target, liveupdate){

      if(liveupdate){

        this.__cleanupFromLastPlaceToWidgetLiveUpdate();
        this.__ptwLiveUpdater = qx.lang.Function.bind(this.placeToWidget, this, target, false);
        qx.event.Idle.getInstance().addListener("interval", this.__ptwLiveUpdater);
        this.__ptwLiveUpdateDisappearListener = function(){

          this.__cleanupFromLastPlaceToWidgetLiveUpdate();
        };
        this.addListener("disappear", this.__ptwLiveUpdateDisappearListener, this);
      };
      var coords = target.getContentLocation() || this.getLayoutLocation(target);
      if(coords != null){

        this._place(coords);
        return true;
      } else {

        return false;
      };
    },
    __cleanupFromLastPlaceToWidgetLiveUpdate : function(){

      if(this.__ptwLiveUpdater){

        qx.event.Idle.getInstance().removeListener("interval", this.__ptwLiveUpdater);
        this.__ptwLiveUpdater = null;
      };
      if(this.__ptwLiveUpdateDisappearListener){

        this.removeListener("disappear", this.__ptwLiveUpdateDisappearListener, this);
        this.__ptwLiveUpdateDisappearListener = null;
      };
    },
    placeToPointer : function(event){

      var left = Math.round(event.getDocumentLeft());
      var top = Math.round(event.getDocumentTop());
      var coords = {
        left : left,
        top : top,
        right : left,
        bottom : top
      };
      this._place(coords);
    },
    placeToElement : function(elem, liveupdate){

      var location = qx.bom.element.Location.get(elem);
      var coords = {
        left : location.left,
        top : location.top,
        right : location.left + elem.offsetWidth,
        bottom : location.top + elem.offsetHeight
      };
      if(liveupdate){

        this.__ptwLiveUpdater = qx.lang.Function.bind(this.placeToElement, this, elem, false);
        qx.event.Idle.getInstance().addListener("interval", this.__ptwLiveUpdater);
        this.addListener("disappear", function(){

          if(this.__ptwLiveUpdater){

            qx.event.Idle.getInstance().removeListener("interval", this.__ptwLiveUpdater);
            this.__ptwLiveUpdater = null;
          };
        }, this);
      };
      this._place(coords);
    },
    placeToPoint : function(point){

      var coords = {
        left : point.left,
        top : point.top,
        right : point.left,
        bottom : point.top
      };
      this._place(coords);
    },
    _getPlacementOffsets : function(){

      return {
        left : this.getOffsetLeft(),
        top : this.getOffsetTop(),
        right : this.getOffsetRight(),
        bottom : this.getOffsetBottom()
      };
    },
    __getPlacementSize : function(callback){

      var size = null;
      if(this._computePlacementSize){

        var size = this._computePlacementSize();
      } else if(this.isVisible()){

        var size = this.getBounds();
      };
      if(size == null){

        this.addListenerOnce("appear", function(){

          this.__getPlacementSize(callback);
        }, this);
      } else {

        callback.call(this, size);
      };
    },
    _place : function(coords){

      this.__getPlacementSize(function(size){

        var result = qx.util.placement.Placement.compute(size, this.getLayoutParent().getBounds(), coords, this._getPlacementOffsets(), this.getPosition(), this.getPlacementModeX(), this.getPlacementModeY());
        this.removeState("placementLeft");
        this.removeState("placementRight");
        this.addState(coords.left < result.left ? "placementRight" : "placementLeft");
        this.moveTo(result.left, result.top);
      });
    }
  },
  destruct : function(){

    this.__cleanupFromLastPlaceToWidgetLiveUpdate();
  }
});

qx.Class.define("qx.event.Idle", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this.base(arguments);
    var timer = new qx.event.Timer(this.getTimeoutInterval());
    timer.addListener("interval", this._onInterval, this);
    timer.start();
    this.__timer = timer;
  },
  events : {
    "interval" : "qx.event.type.Event"
  },
  properties : {
    timeoutInterval : {
      check : "Number",
      init : 100,
      apply : "_applyTimeoutInterval"
    }
  },
  members : {
    __timer : null,
    _applyTimeoutInterval : function(value){

      this.__timer.setInterval(value);
    },
    _onInterval : function(){

      this.fireEvent("interval");
    }
  },
  destruct : function(){

    if(this.__timer){

      this.__timer.stop();
    };
    this.__timer = null;
  }
});

qx.Class.define("qx.event.Timer", {
  extend : qx.core.Object,
  construct : function(interval){

    this.base(arguments);
    this.setEnabled(false);
    if(interval != null){

      this.setInterval(interval);
    };
    var self = this;
    this.__oninterval = function(){

      self._oninterval.call(self);
    };
  },
  events : {
    "interval" : "qx.event.type.Event"
  },
  statics : {
    once : function(func, obj, timeout){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertFunction(func, "func is not a function");
        qx.core.Assert.assertNotUndefined(timeout, "No timeout given");
      };
      var timer = new qx.event.Timer(timeout);
      timer.__onceFunc = func;
      timer.addListener("interval", function(e){

        timer.stop();
        func.call(obj, e);
        timer.dispose();
        obj = null;
      }, obj);
      timer.start();
      return timer;
    }
  },
  properties : {
    enabled : {
      init : true,
      check : "Boolean",
      apply : "_applyEnabled"
    },
    interval : {
      check : "Integer",
      init : 1000,
      apply : "_applyInterval"
    }
  },
  members : {
    __intervalHandler : null,
    __oninterval : null,
    _applyInterval : function(value, old){

      if(this.getEnabled()){

        this.restart();
      };
    },
    _applyEnabled : function(value, old){

      if(old){

        window.clearInterval(this.__intervalHandler);
        this.__intervalHandler = null;
      } else if(value){

        this.__intervalHandler = window.setInterval(this.__oninterval, this.getInterval());
      };
    },
    start : function(){

      this.setEnabled(true);
    },
    startWith : function(interval){

      this.setInterval(interval);
      this.start();
    },
    stop : function(){

      this.setEnabled(false);
    },
    restart : function(){

      this.stop();
      this.start();
    },
    restartWith : function(interval){

      this.stop();
      this.startWith(interval);
    },
    _oninterval : qx.event.GlobalError.observeMethod(function(){

      if(this.$$disposed){

        return;
      };
      if(this.getEnabled()){

        this.fireEvent("interval");
      };
    })
  },
  destruct : function(){

    if(this.__intervalHandler){

      window.clearInterval(this.__intervalHandler);
    };
    this.__intervalHandler = this.__oninterval = null;
  }
});

qx.Class.define("qx.util.placement.Placement", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__defaultAxis = qx.util.placement.DirectAxis;
  },
  properties : {
    axisX : {
      check : "Class"
    },
    axisY : {
      check : "Class"
    },
    edge : {
      check : ["top", "right", "bottom", "left"],
      init : "top"
    },
    align : {
      check : ["top", "right", "bottom", "left", "center", "middle"],
      init : "right"
    }
  },
  statics : {
    __instance : null,
    compute : function(size, area, target, offsets, position, modeX, modeY){

      this.__instance = this.__instance || new qx.util.placement.Placement();
      var splitted = position.split("-");
      var edge = splitted[0];
      var align = splitted[1];
      if(qx.core.Environment.get("qx.debug")){

        if(align === "center" || align === "middle"){

          var expected = "middle";
          if(edge === "top" || edge === "bottom"){

            expected = "center";
          };
          qx.core.Assert.assertEquals(expected, align, "Please use '" + edge + "-" + expected + "' instead!");
        };
      };
      this.__instance.set({
        axisX : this.__getAxis(modeX),
        axisY : this.__getAxis(modeY),
        edge : edge,
        align : align
      });
      return this.__instance.compute(size, area, target, offsets);
    },
    __direct : null,
    __keepAlign : null,
    __bestFit : null,
    __getAxis : function(mode){

      switch(mode){case "direct":
      this.__direct = this.__direct || qx.util.placement.DirectAxis;
      return this.__direct;case "keep-align":
      this.__keepAlign = this.__keepAlign || qx.util.placement.KeepAlignAxis;
      return this.__keepAlign;case "best-fit":
      this.__bestFit = this.__bestFit || qx.util.placement.BestFitAxis;
      return this.__bestFit;default:
      throw new Error("Invalid 'mode' argument!'");};
    }
  },
  members : {
    __defaultAxis : null,
    compute : function(size, area, target, offsets){

      if(qx.core.Environment.get("qx.debug")){

        this.assertObject(size, "size");
        this.assertNumber(size.width, "size.width");
        this.assertNumber(size.height, "size.height");
        this.assertObject(area, "area");
        this.assertNumber(area.width, "area.width");
        this.assertNumber(area.height, "area.height");
        this.assertObject(target, "target");
        this.assertNumber(target.top, "target.top");
        this.assertNumber(target.right, "target.right");
        this.assertNumber(target.bottom, "target.bottom");
        this.assertNumber(target.left, "target.left");
        this.assertObject(offsets, "offsets");
        this.assertNumber(offsets.top, "offsets.top");
        this.assertNumber(offsets.right, "offsets.right");
        this.assertNumber(offsets.bottom, "offsets.bottom");
        this.assertNumber(offsets.left, "offsets.left");
      };
      var axisX = this.getAxisX() || this.__defaultAxis;
      var left = axisX.computeStart(size.width, {
        start : target.left,
        end : target.right
      }, {
        start : offsets.left,
        end : offsets.right
      }, area.width, this.__getPositionX());
      var axisY = this.getAxisY() || this.__defaultAxis;
      var top = axisY.computeStart(size.height, {
        start : target.top,
        end : target.bottom
      }, {
        start : offsets.top,
        end : offsets.bottom
      }, area.height, this.__getPositionY());
      return {
        left : left,
        top : top
      };
    },
    __getPositionX : function(){

      var edge = this.getEdge();
      var align = this.getAlign();
      if(edge == "left"){

        return "edge-start";
      } else if(edge == "right"){

        return "edge-end";
      } else if(align == "left"){

        return "align-start";
      } else if(align == "center"){

        return "align-center";
      } else if(align == "right"){

        return "align-end";
      };;;;
    },
    __getPositionY : function(){

      var edge = this.getEdge();
      var align = this.getAlign();
      if(edge == "top"){

        return "edge-start";
      } else if(edge == "bottom"){

        return "edge-end";
      } else if(align == "top"){

        return "align-start";
      } else if(align == "middle"){

        return "align-center";
      } else if(align == "bottom"){

        return "align-end";
      };;;;
    }
  },
  destruct : function(){

    this._disposeObjects('__defaultAxis');
  }
});

qx.Bootstrap.define("qx.util.placement.AbstractAxis", {
  extend : Object,
  statics : {
    computeStart : function(size, target, offsets, areaSize, position){

      throw new Error("abstract method call!");
    },
    _moveToEdgeAndAlign : function(size, target, offsets, position){

      switch(position){case "edge-start":
      return target.start - offsets.end - size;case "edge-end":
      return target.end + offsets.start;case "align-start":
      return target.start + offsets.start;case "align-center":
      return target.start + parseInt((target.end - target.start - size) / 2, 10) + offsets.start;case "align-end":
      return target.end - offsets.end - size;};
    },
    _isInRange : function(start, size, areaSize){

      return start >= 0 && start + size <= areaSize;
    }
  }
});

qx.Bootstrap.define("qx.util.placement.DirectAxis", {
  statics : {
    _moveToEdgeAndAlign : qx.util.placement.AbstractAxis._moveToEdgeAndAlign,
    computeStart : function(size, target, offsets, areaSize, position){

      return this._moveToEdgeAndAlign(size, target, offsets, position);
    }
  }
});

qx.Bootstrap.define("qx.util.placement.KeepAlignAxis", {
  statics : {
    _moveToEdgeAndAlign : qx.util.placement.AbstractAxis._moveToEdgeAndAlign,
    _isInRange : qx.util.placement.AbstractAxis._isInRange,
    computeStart : function(size, target, offsets, areaSize, position){

      var start = this._moveToEdgeAndAlign(size, target, offsets, position);
      var range1End,range2Start;
      if(this._isInRange(start, size, areaSize)){

        return start;
      };
      if(position == "edge-start" || position == "edge-end"){

        range1End = target.start - offsets.end;
        range2Start = target.end + offsets.start;
      } else {

        range1End = target.end - offsets.end;
        range2Start = target.start + offsets.start;
      };
      if(range1End > areaSize - range2Start){

        start = range1End - size;
      } else {

        start = range2Start;
      };
      return start;
    }
  }
});

qx.Bootstrap.define("qx.util.placement.BestFitAxis", {
  statics : {
    _isInRange : qx.util.placement.AbstractAxis._isInRange,
    _moveToEdgeAndAlign : qx.util.placement.AbstractAxis._moveToEdgeAndAlign,
    computeStart : function(size, target, offsets, areaSize, position){

      var start = this._moveToEdgeAndAlign(size, target, offsets, position);
      if(this._isInRange(start, size, areaSize)){

        return start;
      };
      if(start < 0){

        start = Math.min(0, areaSize - size);
      };
      if(start + size > areaSize){

        start = Math.max(0, areaSize - size);
      };
      return start;
    }
  }
});

qx.Class.define("qx.ui.basic.Image", {
  extend : qx.ui.core.Widget,
  construct : function(source){

    this.__contentElements = {
    };
    this.base(arguments);
    if(source){

      this.setSource(source);
    };
  },
  properties : {
    source : {
      check : "String",
      init : null,
      nullable : true,
      event : "changeSource",
      apply : "_applySource",
      themeable : true
    },
    scale : {
      check : "Boolean",
      init : false,
      themeable : true,
      apply : "_applyScale"
    },
    appearance : {
      refine : true,
      init : "image"
    },
    allowShrinkX : {
      refine : true,
      init : false
    },
    allowShrinkY : {
      refine : true,
      init : false
    },
    allowGrowX : {
      refine : true,
      init : false
    },
    allowGrowY : {
      refine : true,
      init : false
    }
  },
  events : {
    loadingFailed : "qx.event.type.Event",
    loaded : "qx.event.type.Event",
    aborted : "qx.event.type.Event"
  },
  members : {
    __width : null,
    __height : null,
    __mode : null,
    __contentElements : null,
    __currentContentElement : null,
    __wrapper : null,
    __requestId : 0,
    _onChangeTheme : function(){

      this.base(arguments);
      this._styleSource();
    },
    getContentElement : function(){

      return this.__getSuitableContentElement();
    },
    _createContentElement : function(){

      return this.__getSuitableContentElement();
    },
    _getContentHint : function(){

      return {
        width : this.__width || 0,
        height : this.__height || 0
      };
    },
    _applyDecorator : function(value, old){

      this.base(arguments, value, old);
      var source = this.getSource();
      source = qx.util.AliasManager.getInstance().resolve(source);
      var el = this.getContentElement();
      if(this.__wrapper){

        el = el.getChild(0);
      };
      this.__setSource(el, source);
    },
    _applyPadding : function(value, old, name){

      this.base(arguments, value, old, name);
      var element = this.getContentElement();
      if(this.__wrapper){

        element.getChild(0).setStyles({
          top : this.getPaddingTop() || 0,
          left : this.getPaddingLeft() || 0
        });
      } else {

        element.setPadding(this.getPaddingLeft() || 0, this.getPaddingTop() || 0);
      };
    },
    renderLayout : function(left, top, width, height){

      this.base(arguments, left, top, width, height);
      var element = this.getContentElement();
      if(this.__wrapper){

        element.getChild(0).setStyles({
          width : width - (this.getPaddingLeft() || 0) - (this.getPaddingRight() || 0),
          height : height - (this.getPaddingTop() || 0) - (this.getPaddingBottom() || 0),
          top : this.getPaddingTop() || 0,
          left : this.getPaddingLeft() || 0
        });
      };
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      if(this.getSource()){

        this._styleSource();
      };
    },
    _applySource : function(value, old){

      if(old){

        if(qx.io.ImageLoader.isLoading(old)){

          qx.io.ImageLoader.abort(old);
        };
      };
      this._styleSource();
    },
    _applyScale : function(value){

      this._styleSource();
    },
    __setMode : function(mode){

      this.__mode = mode;
    },
    __getMode : function(){

      if(this.__mode == null){

        var source = this.getSource();
        var isPng = false;
        if(source != null){

          isPng = qx.lang.String.endsWith(source, ".png");
        };
        if(this.getScale() && isPng && qx.core.Environment.get("css.alphaimageloaderneeded")){

          this.__mode = "alphaScaled";
        } else if(this.getScale()){

          this.__mode = "scaled";
        } else {

          this.__mode = "nonScaled";
        };
      };
      return this.__mode;
    },
    __createSuitableContentElement : function(mode){

      var scale;
      var tagName;
      if(mode == "alphaScaled"){

        scale = true;
        tagName = "div";
      } else if(mode == "nonScaled"){

        scale = false;
        tagName = "div";
      } else {

        scale = true;
        tagName = "img";
      };
      var element = new qx.html.Image(tagName);
      element.setAttribute("$$widget", this.toHashCode());
      element.setScale(scale);
      element.setStyles({
        "overflowX" : "hidden",
        "overflowY" : "hidden",
        "boxSizing" : "border-box"
      });
      if(qx.core.Environment.get("css.alphaimageloaderneeded")){

        var wrapper = this.__wrapper = new qx.html.Element("div");
        wrapper.setAttribute("$$widget", this.toHashCode());
        wrapper.setStyle("position", "absolute");
        wrapper.add(element);
        return wrapper;
      };
      return element;
    },
    __getSuitableContentElement : function(){

      if(this.$$disposed){

        return null;
      };
      var mode = this.__getMode();
      if(this.__contentElements[mode] == null){

        this.__contentElements[mode] = this.__createSuitableContentElement(mode);
      };
      var element = this.__contentElements[mode];
      if(!this.__currentContentElement){

        this.__currentContentElement = element;
      };
      return element;
    },
    _styleSource : function(){

      var source = qx.util.AliasManager.getInstance().resolve(this.getSource());
      var element = this.getContentElement();
      if(this.__wrapper){

        element = element.getChild(0);
      };
      if(!source){

        element.resetSource();
        return;
      };
      this.__checkForContentElementSwitch(source);
      if((qx.core.Environment.get("engine.name") == "mshtml") && (parseInt(qx.core.Environment.get("engine.version"), 10) < 9 || qx.core.Environment.get("browser.documentmode") < 9)){

        var repeat = this.getScale() ? "scale" : "no-repeat";
        element.tagNameHint = qx.bom.element.Decoration.getTagName(repeat, source);
      };
      var contentEl = this.__getContentElement();
      if(qx.util.ResourceManager.getInstance().has(source)){

        this.__setManagedImage(contentEl, source);
        this.__fireLoadEvent();
      } else if(qx.io.ImageLoader.isLoaded(source)){

        this.__setUnmanagedImage(contentEl, source);
        this.__fireLoadEvent();
      } else {

        this.__loadUnmanagedImage(contentEl, source);
      };
    },
    __fireLoadEvent : function(){

      this.__requestId++;
      qx.bom.AnimationFrame.request(function(rId){

        if(rId === this.__requestId){

          this.fireEvent("loaded");
        } else {

          this.fireEvent("aborted");
        };
      }.bind(this, this.__requestId));
    },
    __getContentElement : function(){

      var contentEl = this.__currentContentElement;
      if(this.__wrapper){

        contentEl = contentEl.getChild(0);
      };
      return contentEl;
    },
    __checkForContentElementSwitch : qx.core.Environment.select("engine.name", {
      "mshtml" : function(source){

        var alphaImageLoader = qx.core.Environment.get("css.alphaimageloaderneeded");
        var isPng = qx.lang.String.endsWith(source, ".png");
        if(alphaImageLoader && isPng){

          if(this.getScale() && this.__getMode() != "alphaScaled"){

            this.__setMode("alphaScaled");
          } else if(!this.getScale() && this.__getMode() != "nonScaled"){

            this.__setMode("nonScaled");
          };
        } else {

          if(this.getScale() && this.__getMode() != "scaled"){

            this.__setMode("scaled");
          } else if(!this.getScale() && this.__getMode() != "nonScaled"){

            this.__setMode("nonScaled");
          };
        };
        this.__checkForContentElementReplacement(this.__getSuitableContentElement());
      },
      "default" : function(source){

        if(this.getScale() && this.__getMode() != "scaled"){

          this.__setMode("scaled");
        } else if(!this.getScale() && this.__getMode("nonScaled")){

          this.__setMode("nonScaled");
        };
        this.__checkForContentElementReplacement(this.__getSuitableContentElement());
      }
    }),
    __checkForContentElementReplacement : function(elementToAdd){

      var currentContentElement = this.__currentContentElement;
      if(currentContentElement != elementToAdd){

        if(currentContentElement != null){

          var pixel = "px";
          var styles = {
          };
          var bounds = this.getBounds();
          if(bounds != null){

            styles.width = bounds.width + pixel;
            styles.height = bounds.height + pixel;
          };
          var insets = this.getInsets();
          styles.left = parseInt(currentContentElement.getStyle("left") || insets.left) + pixel;
          styles.top = parseInt(currentContentElement.getStyle("top") || insets.top) + pixel;
          styles.zIndex = 10;
          var newEl = this.__wrapper ? elementToAdd.getChild(0) : elementToAdd;
          newEl.setStyles(styles, true);
          newEl.setSelectable(this.getSelectable());
          if(!currentContentElement.isVisible()){

            elementToAdd.hide();
          };
          if(!currentContentElement.isIncluded()){

            elementToAdd.exclude();
          };
          var container = currentContentElement.getParent();
          if(container){

            var index = container.getChildren().indexOf(currentContentElement);
            container.removeAt(index);
            container.addAt(elementToAdd, index);
          };
          var hint = newEl.getNodeName();
          newEl.setSource(null);
          var currentEl = this.__getContentElement();
          newEl.tagNameHint = hint;
          newEl.setAttribute("class", currentEl.getAttribute("class"));
          qx.html.Element.flush();
          var currentDomEl = currentEl.getDomElement();
          var newDomEl = elementToAdd.getDomElement();
          var listeners = currentContentElement.getListeners() || [];
          listeners.forEach(function(listenerData){

            elementToAdd.addListener(listenerData.type, listenerData.handler, listenerData.self, listenerData.capture);
          });
          if(currentDomEl && newDomEl){

            var currentHash = currentDomEl.$$hash;
            currentDomEl.$$hash = newDomEl.$$hash;
            newDomEl.$$hash = currentHash;
          };
          this.__currentContentElement = elementToAdd;
        };
      };
    },
    __setManagedImage : function(el, source){

      var ResourceManager = qx.util.ResourceManager.getInstance();
      if(!this.getEnabled()){

        var disabled = source.replace(/\.([a-z]+)$/, "-disabled.$1");
        if(ResourceManager.has(disabled)){

          source = disabled;
          this.addState("replacement");
        } else {

          this.removeState("replacement");
        };
      };
      if(el.getSource() === source){

        return;
      };
      this.__setSource(el, source);
      this.__updateContentHint(ResourceManager.getImageWidth(source), ResourceManager.getImageHeight(source));
    },
    __setUnmanagedImage : function(el, source){

      var ImageLoader = qx.io.ImageLoader;
      this.__setSource(el, source);
      var width = ImageLoader.getWidth(source);
      var height = ImageLoader.getHeight(source);
      this.__updateContentHint(width, height);
    },
    __loadUnmanagedImage : function(el, source){

      var ImageLoader = qx.io.ImageLoader;
      if(qx.core.Environment.get("qx.debug")){

        var sourceLC = source.toLowerCase();
        var startsWith = qx.lang.String.startsWith;
        if(!startsWith(sourceLC, "http") && !startsWith(sourceLC, "data:image/")){

          var self = this.self(arguments);
          if(!self.__warned){

            self.__warned = {
            };
          };
          if(!self.__warned[source]){

            this.debug("try to load an unmanaged relative image: " + source);
            self.__warned[source] = true;
          };
        };
      };
      if(!ImageLoader.isFailed(source)){

        ImageLoader.load(source, this.__loaderCallback, this);
      } else {

        if(el != null){

          el.resetSource();
        };
      };
    },
    __setSource : function(el, source){

      if(el.getNodeName() == "div"){

        var dec = qx.theme.manager.Decoration.getInstance().resolve(this.getDecorator());
        if(dec){

          var hasGradient = (dec.getStartColor() && dec.getEndColor());
          var hasBackground = dec.getBackgroundImage();
          if(hasGradient || hasBackground){

            var repeat = this.getScale() ? "scale" : "no-repeat";
            var attr = qx.bom.element.Decoration.getAttributes(source, repeat);
            var decStyle = dec.getStyles(true);
            var combinedStyles = {
              "backgroundImage" : attr.style.backgroundImage,
              "backgroundPosition" : (attr.style.backgroundPosition || "0 0"),
              "backgroundRepeat" : (attr.style.backgroundRepeat || "no-repeat")
            };
            if(hasBackground){

              combinedStyles["backgroundPosition"] += "," + decStyle["background-position"] || "0 0";
              combinedStyles["backgroundRepeat"] += ", " + dec.getBackgroundRepeat();
            };
            if(hasGradient){

              combinedStyles["backgroundPosition"] += ", 0 0";
              combinedStyles["backgroundRepeat"] += ", no-repeat";
            };
            combinedStyles["backgroundImage"] += "," + decStyle["background-image"];
            el.setStyles(combinedStyles);
            return;
          };
        } else {

          el.setSource(null);
        };
      };
      el.setSource(source);
    },
    __loaderCallback : function(source, imageInfo){

      if(this.$$disposed === true){

        return;
      };
      if(source !== qx.util.AliasManager.getInstance().resolve(this.getSource())){

        this.fireEvent("aborted");
        return;
      };
      if(imageInfo.failed){

        this.warn("Image could not be loaded: " + source);
        this.fireEvent("loadingFailed");
      } else if(imageInfo.aborted){

        this.fireEvent("aborted");
        return;
      } else {

        this.fireEvent("loaded");
      };
      this.__setUnmanagedImage(this.__getContentElement(), source);
    },
    __updateContentHint : function(width, height){

      if(width !== this.__width || height !== this.__height){

        this.__width = width;
        this.__height = height;
        qx.ui.core.queue.Layout.add(this);
      };
    }
  },
  destruct : function(){

    delete this.__currentContentElement;
    if(this.__wrapper){

      delete this.__wrapper;
    };
    this._disposeMap("__contentElements");
  }
});

qx.Bootstrap.define("qx.io.ImageLoader", {
  statics : {
    __data : {
    },
    __defaultSize : {
      width : null,
      height : null
    },
    __knownImageTypesRegExp : /\.(png|gif|jpg|jpeg|bmp)\b/i,
    __dataUrlRegExp : /^data:image\/(png|gif|jpg|jpeg|bmp)\b/i,
    isLoaded : function(source){

      var entry = this.__data[source];
      return !!(entry && entry.loaded);
    },
    isFailed : function(source){

      var entry = this.__data[source];
      return !!(entry && entry.failed);
    },
    isLoading : function(source){

      var entry = this.__data[source];
      return !!(entry && entry.loading);
    },
    getFormat : function(source){

      var entry = this.__data[source];
      if(!entry || !entry.format){

        var result = this.__dataUrlRegExp.exec(source);
        if(result != null){

          var width = (entry && qx.lang.Type.isNumber(entry.width) ? entry.width : this.__defaultSize.width);
          var height = (entry && qx.lang.Type.isNumber(entry.height) ? entry.height : this.__defaultSize.height);
          entry = {
            loaded : true,
            format : result[1],
            width : width,
            height : height
          };
        };
      };
      return entry ? entry.format : null;
    },
    getSize : function(source){

      var entry = this.__data[source];
      return entry ? {
        width : entry.width,
        height : entry.height
      } : this.__defaultSize;
    },
    getWidth : function(source){

      var entry = this.__data[source];
      return entry ? entry.width : null;
    },
    getHeight : function(source){

      var entry = this.__data[source];
      return entry ? entry.height : null;
    },
    load : function(source, callback, context){

      var entry = this.__data[source];
      if(!entry){

        entry = this.__data[source] = {
        };
      };
      if(callback && !context){

        context = window;
      };
      if(entry.loaded || entry.loading || entry.failed){

        if(callback){

          if(entry.loading){

            entry.callbacks.push(callback, context);
          } else {

            callback.call(context, source, entry);
          };
        };
      } else {

        entry.loading = true;
        entry.callbacks = [];
        if(callback){

          entry.callbacks.push(callback, context);
        };
        var el = new Image();
        var boundCallback = qx.lang.Function.listener(this.__onload, this, el, source);
        el.onload = boundCallback;
        el.onerror = boundCallback;
        el.src = source;
        entry.element = el;
      };
    },
    abort : function(source){

      var entry = this.__data[source];
      if(entry && !entry.loaded){

        entry.aborted = true;
        var callbacks = entry.callbacks;
        var element = entry.element;
        element.onload = element.onerror = null;
        element.src = "";
        delete entry.callbacks;
        delete entry.element;
        delete entry.loading;
        for(var i = 0,l = callbacks.length;i < l;i += 2){

          callbacks[i].call(callbacks[i + 1], source, entry);
        };
      };
      this.__data[source] = null;
    },
    __onload : qx.event.GlobalError.observeMethod(function(event, element, source){

      var entry = this.__data[source];
      var isImageAvailable = function(imgElem){

        return (imgElem && imgElem.height !== 0);
      };
      if(event.type === "load" && isImageAvailable(element)){

        entry.loaded = true;
        entry.width = this.__getWidth(element);
        entry.height = this.__getHeight(element);
        var result = this.__knownImageTypesRegExp.exec(source);
        if(result != null){

          entry.format = result[1];
        };
      } else {

        entry.failed = true;
      };
      element.onload = element.onerror = null;
      var callbacks = entry.callbacks;
      delete entry.loading;
      delete entry.callbacks;
      delete entry.element;
      for(var i = 0,l = callbacks.length;i < l;i += 2){

        callbacks[i].call(callbacks[i + 1], source, entry);
      };
    }),
    __getWidth : function(element){

      return qx.core.Environment.get("html.image.naturaldimensions") ? element.naturalWidth : element.width;
    },
    __getHeight : function(element){

      return qx.core.Environment.get("html.image.naturaldimensions") ? element.naturalHeight : element.height;
    },
    dispose : function(){

      this.__data = {
      };
    }
  }
});

qx.Class.define("qx.html.Image", {
  extend : qx.html.Element,
  members : {
    __paddingTop : null,
    __paddingLeft : null,
    tagNameHint : null,
    setPadding : function(paddingLeft, paddingTop){

      this.__paddingLeft = paddingLeft;
      this.__paddingTop = paddingTop;
      if(this.getNodeName() == "div"){

        this.setStyle("backgroundPosition", paddingLeft + "px " + paddingTop + "px");
      };
    },
    _applyProperty : function(name, value){

      this.base(arguments, name, value);
      if(name === "source"){

        var elem = this.getDomElement();
        var styles = this.getAllStyles();
        if(this.getNodeName() == "div" && this.getStyle("backgroundImage")){

          styles.backgroundRepeat = null;
        };
        var source = this._getProperty("source");
        var scale = this._getProperty("scale");
        var repeat = scale ? "scale" : "no-repeat";
        if(source != null){

          source = source || null;
          styles.paddingTop = this.__paddingTop;
          styles.paddingLeft = this.__paddingLeft;
          qx.bom.element.Decoration.update(elem, source, repeat, styles);
        };
      };
    },
    _removeProperty : function(key, direct){

      if(key == "source"){

        this._setProperty(key, "", direct);
      } else {

        this._setProperty(key, null, direct);
      };
    },
    _createDomElement : function(){

      var scale = this._getProperty("scale");
      var repeat = scale ? "scale" : "no-repeat";
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        var source = this._getProperty("source");
        if(this.tagNameHint != null){

          this.setNodeName(this.tagNameHint);
        } else {

          this.setNodeName(qx.bom.element.Decoration.getTagName(repeat, source));
        };
      } else {

        this.setNodeName(qx.bom.element.Decoration.getTagName(repeat));
      };
      return this.base(arguments);
    },
    _copyData : function(fromMarkup){

      return this.base(arguments, true);
    },
    setSource : function(value){

      this._setProperty("source", value);
      return this;
    },
    getSource : function(){

      return this._getProperty("source");
    },
    resetSource : function(){

      if((qx.core.Environment.get("engine.name") == "webkit")){

        this._setProperty("source", "qx/static/blank.gif");
      } else {

        this._removeProperty("source", true);
      };
      return this;
    },
    setScale : function(value){

      this._setProperty("scale", value);
      return this;
    },
    getScale : function(){

      return this._getProperty("scale");
    }
  }
});

qx.Class.define("qx.bom.element.Decoration", {
  statics : {
    DEBUG : false,
    __warnings : {
    },
    __alphaFixRepeats : qx.core.Environment.select("engine.name", {
      "mshtml" : {
        "scale-x" : true,
        "scale-y" : true,
        "scale" : true,
        "no-repeat" : true
      },
      "default" : null
    }),
    __repeatToTagname : {
      "scale-x" : "img",
      "scale-y" : "img",
      "scale" : "img",
      "repeat" : "div",
      "no-repeat" : "div",
      "repeat-x" : "div",
      "repeat-y" : "div"
    },
    update : function(element, source, repeat, style){

      var tag = this.getTagName(repeat, source);
      if(tag != element.tagName.toLowerCase()){

        throw new Error("Image modification not possible because elements could not be replaced at runtime anymore!");
      };
      var ret = this.getAttributes(source, repeat, style);
      if(tag === "img"){

        element.src = ret.src || qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif");
      };
      if(element.style.backgroundPosition != "" && ret.style.backgroundPosition === undefined){

        ret.style.backgroundPosition = null;
      };
      if(element.style.clip != "" && ret.style.clip === undefined){

        ret.style.clip = null;
      };
      qx.bom.element.Style.setStyles(element, ret.style);
      if(qx.core.Environment.get("css.alphaimageloaderneeded")){

        try{

          element.filters["DXImageTransform.Microsoft.AlphaImageLoader"].apply();
        } catch(e) {
        };
      };
    },
    create : function(source, repeat, style){

      var tag = this.getTagName(repeat, source);
      var ret = this.getAttributes(source, repeat, style);
      var css = qx.bom.element.Style.compile(ret.style);
      if(tag === "img"){

        return '<img src="' + ret.src + '" style="' + css + '"/>';
      } else {

        return '<div style="' + css + '"></div>';
      };
    },
    getTagName : function(repeat, source){

      if(source && qx.core.Environment.get("css.alphaimageloaderneeded") && this.__alphaFixRepeats[repeat] && qx.lang.String.endsWith(source, ".png")){

        return "div";
      };
      return this.__repeatToTagname[repeat];
    },
    getAttributes : function(source, repeat, style){

      if(!style){

        style = {
        };
      };
      if(!style.position){

        style.position = "absolute";
      };
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        style.fontSize = 0;
        style.lineHeight = 0;
      } else if((qx.core.Environment.get("engine.name") == "webkit")){

        style.WebkitUserDrag = "none";
      };
      var format = qx.util.ResourceManager.getInstance().getImageFormat(source) || qx.io.ImageLoader.getFormat(source);
      if(qx.core.Environment.get("qx.debug")){

        if(source != null && format == null){

          qx.log.Logger.warn("ImageLoader: Not recognized format of external image '" + source + "'!");
        };
      };
      var result;
      if(qx.core.Environment.get("css.alphaimageloaderneeded") && this.__alphaFixRepeats[repeat] && format === "png"){

        var dimension = this.__getDimension(source);
        this.__normalizeWidthHeight(style, dimension.width, dimension.height);
        result = this.processAlphaFix(style, repeat, source);
      } else {

        delete style.clip;
        if(repeat === "scale"){

          result = this.__processScale(style, repeat, source);
        } else if(repeat === "scale-x" || repeat === "scale-y"){

          result = this.__processScaleXScaleY(style, repeat, source);
        } else {

          result = this.__processRepeats(style, repeat, source);
        };
      };
      return result;
    },
    __normalizeWidthHeight : function(style, width, height){

      if(style.width == null && width != null){

        style.width = width + "px";
      };
      if(style.height == null && height != null){

        style.height = height + "px";
      };
    },
    __getDimension : function(source){

      var width = qx.util.ResourceManager.getInstance().getImageWidth(source) || qx.io.ImageLoader.getWidth(source);
      var height = qx.util.ResourceManager.getInstance().getImageHeight(source) || qx.io.ImageLoader.getHeight(source);
      return {
        width : width,
        height : height
      };
    },
    processAlphaFix : function(style, repeat, source){

      if(repeat == "repeat" || repeat == "repeat-x" || repeat == "repeat-y"){

        return style;
      };
      var sizingMethod = repeat == "no-repeat" ? "crop" : "scale";
      var filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + qx.util.ResourceManager.getInstance().toUri(source) + "', sizingMethod='" + sizingMethod + "')";
      style.filter = filter;
      style.backgroundImage = style.backgroundRepeat = "";
      delete style["background-image"];
      delete style["background-repeat"];
      return {
        style : style
      };
    },
    __processScale : function(style, repeat, source){

      var uri = qx.util.ResourceManager.getInstance().toUri(source);
      var dimension = this.__getDimension(source);
      this.__normalizeWidthHeight(style, dimension.width, dimension.height);
      return {
        src : uri,
        style : style
      };
    },
    __processScaleXScaleY : function(style, repeat, sourceid){

      var ResourceManager = qx.util.ResourceManager.getInstance();
      var clipped = ResourceManager.getCombinedFormat(sourceid);
      var dimension = this.__getDimension(sourceid);
      var uri;
      if(clipped){

        var data = ResourceManager.getData(sourceid);
        var combinedid = data[4];
        if(clipped == "b64"){

          uri = ResourceManager.toDataUri(sourceid);
        } else {

          uri = ResourceManager.toUri(combinedid);
        };
        if(repeat === "scale-x"){

          style = this.__getStylesForClippedScaleX(style, data, dimension.height);
        } else {

          style = this.__getStylesForClippedScaleY(style, data, dimension.width);
        };
        return {
          src : uri,
          style : style
        };
      } else {

        if(qx.core.Environment.get("qx.debug")){

          this.__checkForPotentialClippedImage(sourceid);
        };
        if(repeat == "scale-x"){

          style.height = dimension.height == null ? null : dimension.height + "px";
        } else if(repeat == "scale-y"){

          style.width = dimension.width == null ? null : dimension.width + "px";
        };
        uri = ResourceManager.toUri(sourceid);
        return {
          src : uri,
          style : style
        };
      };
    },
    __getStylesForClippedScaleX : function(style, data, height){

      var imageHeight = qx.util.ResourceManager.getInstance().getImageHeight(data[4]);
      style.clip = {
        top : -data[6],
        height : height
      };
      style.height = imageHeight + "px";
      if(style.top != null){

        style.top = (parseInt(style.top, 10) + data[6]) + "px";
      } else if(style.bottom != null){

        style.bottom = (parseInt(style.bottom, 10) + height - imageHeight - data[6]) + "px";
      };
      return style;
    },
    __getStylesForClippedScaleY : function(style, data, width){

      var imageWidth = qx.util.ResourceManager.getInstance().getImageWidth(data[4]);
      style.clip = {
        left : -data[5],
        width : width
      };
      style.width = imageWidth + "px";
      if(style.left != null){

        style.left = (parseInt(style.left, 10) + data[5]) + "px";
      } else if(style.right != null){

        style.right = (parseInt(style.right, 10) + width - imageWidth - data[5]) + "px";
      };
      return style;
    },
    __processRepeats : function(style, repeat, sourceid){

      var ResourceManager = qx.util.ResourceManager.getInstance();
      var clipped = ResourceManager.getCombinedFormat(sourceid);
      var dimension = this.__getDimension(sourceid);
      if(clipped && repeat !== "repeat"){

        var data = ResourceManager.getData(sourceid);
        var combinedid = data[4];
        if(clipped == "b64"){

          var uri = ResourceManager.toDataUri(sourceid);
          var offx = 0;
          var offy = 0;
        } else {

          var uri = ResourceManager.toUri(combinedid);
          var offx = data[5];
          var offy = data[6];
          if(style.paddingTop || style.paddingLeft || style.paddingRight || style.paddingBottom){

            var top = style.paddingTop || 0;
            var left = style.paddingLeft || 0;
            offx += style.paddingLeft || 0;
            offy += style.paddingTop || 0;
            style.clip = {
              left : left,
              top : top,
              width : dimension.width,
              height : dimension.height
            };
          };
        };
        var bg = qx.bom.element.Background.getStyles(uri, repeat, offx, offy);
        for(var key in bg){

          style[key] = bg[key];
        };
        if(dimension.width != null && style.width == null && (repeat == "repeat-y" || repeat === "no-repeat")){

          style.width = dimension.width + "px";
        };
        if(dimension.height != null && style.height == null && (repeat == "repeat-x" || repeat === "no-repeat")){

          style.height = dimension.height + "px";
        };
        return {
          style : style
        };
      } else {

        var top = style.paddingTop || 0;
        var left = style.paddingLeft || 0;
        style.backgroundPosition = left + "px " + top + "px";
        if(qx.core.Environment.get("qx.debug")){

          if(repeat !== "repeat"){

            this.__checkForPotentialClippedImage(sourceid);
          };
        };
        this.__normalizeWidthHeight(style, dimension.width, dimension.height);
        this.__getStylesForSingleRepeat(style, sourceid, repeat);
        return {
          style : style
        };
      };
    },
    __getStylesForSingleRepeat : function(style, source, repeat){

      var top = null;
      var left = null;
      if(style.backgroundPosition){

        var backgroundPosition = style.backgroundPosition.split(" ");
        left = parseInt(backgroundPosition[0], 10);
        if(isNaN(left)){

          left = backgroundPosition[0];
        };
        top = parseInt(backgroundPosition[1], 10);
        if(isNaN(top)){

          top = backgroundPosition[1];
        };
      };
      var bg = qx.bom.element.Background.getStyles(source, repeat, left, top);
      for(var key in bg){

        style[key] = bg[key];
      };
      if(style.filter){

        style.filter = "";
      };
    },
    __checkForPotentialClippedImage : function(source){

      if(this.DEBUG && qx.util.ResourceManager.getInstance().has(source) && source.indexOf("qx/icon") == -1){

        if(!this.__warnings[source]){

          qx.log.Logger.debug("Potential clipped image candidate: " + source);
          this.__warnings[source] = true;
        };
      };
    }
  }
});

qx.Class.define("qx.bom.element.Background", {
  statics : {
    __tmpl : ["background-image:url(", null, ");", "background-position:", null, ";", "background-repeat:", null, ";"],
    __emptyStyles : {
      backgroundImage : null,
      backgroundPosition : null,
      backgroundRepeat : null
    },
    __computePosition : function(left, top){

      var engine = qx.core.Environment.get("engine.name");
      var version = qx.core.Environment.get("engine.version");
      if(engine == "gecko" && version < 1.9 && left == top && typeof left == "number"){

        top += 0.01;
      };
      if(left){

        var leftCss = (typeof left == "number") ? left + "px" : left;
      } else {

        leftCss = "0";
      };
      if(top){

        var topCss = (typeof top == "number") ? top + "px" : top;
      } else {

        topCss = "0";
      };
      return leftCss + " " + topCss;
    },
    __isBase64EncodedImage : function(url){

      var String = qx.lang.String;
      var firstPartOfUrl = url.substr(0, 50);
      return String.startsWith(firstPartOfUrl, "data:") && String.contains(firstPartOfUrl, "base64");
    },
    compile : function(source, repeat, left, top){

      var position = this.__computePosition(left, top);
      var backgroundImageUrl = qx.util.ResourceManager.getInstance().toUri(source);
      if(this.__isBase64EncodedImage(backgroundImageUrl)){

        backgroundImageUrl = "'" + backgroundImageUrl + "'";
      };
      var tmpl = this.__tmpl;
      tmpl[1] = backgroundImageUrl;
      tmpl[4] = position;
      tmpl[7] = repeat;
      return tmpl.join("");
    },
    getStyles : function(source, repeat, left, top){

      if(!source){

        return this.__emptyStyles;
      };
      var position = this.__computePosition(left, top);
      var backgroundImageUrl = qx.util.ResourceManager.getInstance().toUri(source);
      var backgroundImageCssString;
      if(this.__isBase64EncodedImage(backgroundImageUrl)){

        backgroundImageCssString = "url('" + backgroundImageUrl + "')";
      } else {

        backgroundImageCssString = "url(" + backgroundImageUrl + ")";
      };
      var map = {
        backgroundPosition : position,
        backgroundImage : backgroundImageCssString
      };
      if(repeat != null){

        map.backgroundRepeat = repeat;
      };
      return map;
    },
    set : function(element, source, repeat, left, top){

      var styles = this.getStyles(source, repeat, left, top);
      for(var prop in styles){

        element.style[prop] = styles[prop];
      };
    }
  }
});

qx.Class.define("qx.ui.core.DragDropCursor", {
  extend : qx.ui.basic.Image,
  include : qx.ui.core.MPlacement,
  type : "singleton",
  construct : function(){

    this.base(arguments);
    this.setZIndex(1e8);
    this.setDomMove(true);
    var root = this.getApplicationRoot();
    root.add(this, {
      left : -1000,
      top : -1000
    });
  },
  properties : {
    appearance : {
      refine : true,
      init : "dragdrop-cursor"
    },
    action : {
      check : ["alias", "copy", "move"],
      apply : "_applyAction",
      nullable : true
    }
  },
  members : {
    _applyAction : function(value, old){

      if(old){

        this.removeState(old);
      };
      if(value){

        this.addState(value);
      };
    }
  }
});

qx.Class.define("qx.event.handler.Offline", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__window = manager.getWindow();
    this._initObserver();
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      online : true,
      offline : true
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_WINDOW,
    IGNORE_CAN_HANDLE : true
  },
  members : {
    __manager : null,
    __window : null,
    __onNativeWrapper : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    },
    _initObserver : function(){

      this.__onNativeWrapper = qx.lang.Function.listener(this._onNative, this);
      qx.bom.Event.addNativeListener(this.__window, "offline", this.__onNativeWrapper);
      qx.bom.Event.addNativeListener(this.__window, "online", this.__onNativeWrapper);
    },
    _stopObserver : function(){

      qx.bom.Event.removeNativeListener(this.__window, "offline", this.__onNativeWrapper);
      qx.bom.Event.removeNativeListener(this.__window, "online", this.__onNativeWrapper);
    },
    _onNative : qx.event.GlobalError.observeMethod(function(domEvent){

      qx.event.Registration.fireEvent(this.__window, domEvent.type, qx.event.type.Event, []);
    }),
    isOnline : function(){

      return !!this.__window.navigator.onLine;
    }
  },
  destruct : function(){

    this.__manager = null;
    this._stopObserver();
    delete qx.event.handler.Appear.__instances[this.$$hash];
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.bom.Element", {
  statics : {
    addListener : function(element, type, listener, self, capture){

      return qx.event.Registration.addListener(element, type, listener, self, capture);
    },
    removeListener : function(element, type, listener, self, capture){

      return qx.event.Registration.removeListener(element, type, listener, self, capture);
    },
    removeListenerById : function(target, id){

      return qx.event.Registration.removeListenerById(target, id);
    },
    hasListener : function(element, type, capture){

      return qx.event.Registration.hasListener(element, type, capture);
    },
    focus : function(element){

      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).focus(element);
    },
    blur : function(element){

      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).blur(element);
    },
    activate : function(element){

      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).activate(element);
    },
    deactivate : function(element){

      qx.event.Registration.getManager(element).getHandler(qx.event.handler.Focus).deactivate(element);
    },
    capture : function(element, containerCapture){

      qx.event.Registration.getManager(element).getDispatcher(qx.event.dispatch.MouseCapture).activateCapture(element, containerCapture);
    },
    releaseCapture : function(element){

      qx.event.Registration.getManager(element).getDispatcher(qx.event.dispatch.MouseCapture).releaseCapture(element);
    },
    clone : function(element, events){

      var clone;
      if(events || ((qx.core.Environment.get("engine.name") == "mshtml") && !qx.xml.Document.isXmlDocument(element))){

        var mgr = qx.event.Registration.getManager(element);
        var all = qx.dom.Hierarchy.getDescendants(element);
        all.push(element);
      };
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        for(var i = 0,l = all.length;i < l;i++){

          mgr.toggleAttachedEvents(all[i], false);
        };
      };
      var clone = element.cloneNode(true);
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        for(var i = 0,l = all.length;i < l;i++){

          mgr.toggleAttachedEvents(all[i], true);
        };
      };
      if(events === true){

        var cloneAll = qx.dom.Hierarchy.getDescendants(clone);
        cloneAll.push(clone);
        var eventList,cloneElem,origElem,eventEntry;
        for(var i = 0,il = all.length;i < il;i++){

          origElem = all[i];
          eventList = mgr.serializeListeners(origElem);
          if(eventList.length > 0){

            cloneElem = cloneAll[i];
            for(var j = 0,jl = eventList.length;j < jl;j++){

              eventEntry = eventList[j];
              mgr.addListener(cloneElem, eventEntry.type, eventEntry.handler, eventEntry.self, eventEntry.capture);
            };
          };
        };
      };
      return clone;
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Plugin", {
  statics : {
    getGears : function(){

      return !!(window.google && window.google.gears);
    },
    getActiveX : function(){

      if(typeof window.ActiveXObject === "function"){

        return true;
      };
      try{

        return (typeof (new window.ActiveXObject("Microsoft.XMLHTTP")) === "object" || typeof (new window.ActiveXObject("MSXML2.DOMDocument.6.0")) === "object");
      } catch(ex) {

        return false;
      };
    },
    getSkype : function(){

      if(qx.bom.client.Plugin.getActiveX()){

        try{

          new ActiveXObject("Skype.Detection");
          return true;
        } catch(e) {
        };
      };
      var mimeTypes = navigator.mimeTypes;
      if(mimeTypes){

        if("application/x-skype" in mimeTypes){

          return true;
        };
        for(var i = 0;i < mimeTypes.length;i++){

          var desc = mimeTypes[i];
          if(desc.type.indexOf("skype.click2call") != -1){

            return true;
          };
        };
      };
      return false;
    },
    __db : {
      quicktime : {
        plugin : ["QuickTime"],
        control : "QuickTimeCheckObject.QuickTimeCheck.1"
      },
      wmv : {
        plugin : ["Windows Media"],
        control : "WMPlayer.OCX.7"
      },
      divx : {
        plugin : ["DivX Web Player"],
        control : "npdivx.DivXBrowserPlugin.1"
      },
      silverlight : {
        plugin : ["Silverlight"],
        control : "AgControl.AgControl"
      },
      pdf : {
        plugin : ["Chrome PDF Viewer", "Adobe Acrobat"],
        control : "AcroPDF.PDF"
      }
    },
    getQuicktimeVersion : function(){

      var entry = qx.bom.client.Plugin.__db["quicktime"];
      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);
    },
    getWindowsMediaVersion : function(){

      var entry = qx.bom.client.Plugin.__db["wmv"];
      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);
    },
    getDivXVersion : function(){

      var entry = qx.bom.client.Plugin.__db["divx"];
      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);
    },
    getSilverlightVersion : function(){

      var entry = qx.bom.client.Plugin.__db["silverlight"];
      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);
    },
    getPdfVersion : function(){

      var entry = qx.bom.client.Plugin.__db["pdf"];
      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);
    },
    getQuicktime : function(){

      var entry = qx.bom.client.Plugin.__db["quicktime"];
      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);
    },
    getWindowsMedia : function(){

      var entry = qx.bom.client.Plugin.__db["wmv"];
      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);
    },
    getDivX : function(){

      var entry = qx.bom.client.Plugin.__db["divx"];
      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);
    },
    getSilverlight : function(){

      var entry = qx.bom.client.Plugin.__db["silverlight"];
      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);
    },
    getPdf : function(){

      var entry = qx.bom.client.Plugin.__db["pdf"];
      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);
    },
    __getVersion : function(activeXName, pluginNames){

      var available = qx.bom.client.Plugin.__isAvailable(activeXName, pluginNames);
      if(!available){

        return "";
      };
      if(qx.bom.client.Engine.getName() == "mshtml"){

        var obj = new ActiveXObject(activeXName);
        try{

          var version = obj.versionInfo;
          if(version != undefined){

            return version;
          };
          version = obj.version;
          if(version != undefined){

            return version;
          };
          version = obj.settings.version;
          if(version != undefined){

            return version;
          };
        } catch(ex) {

          return "";
        };
        return "";
      } else {

        var plugins = navigator.plugins;
        var verreg = /([0-9]\.[0-9])/g;
        for(var i = 0;i < plugins.length;i++){

          var plugin = plugins[i];
          for(var j = 0;j < pluginNames.length;j++){

            if(plugin.name.indexOf(pluginNames[j]) !== -1){

              if(verreg.test(plugin.name) || verreg.test(plugin.description)){

                return RegExp.$1;
              };
            };
          };
        };
        return "";
      };
    },
    __isAvailable : function(activeXName, pluginNames){

      if(qx.bom.client.Engine.getName() == "mshtml"){

        var control = window.ActiveXObject;
        if(!control){

          return false;
        };
        try{

          new ActiveXObject(activeXName);
        } catch(ex) {

          return false;
        };
        return true;
      } else {

        var plugins = navigator.plugins;
        if(!plugins){

          return false;
        };
        var name;
        for(var i = 0;i < plugins.length;i++){

          name = plugins[i].name;
          for(var j = 0;j < pluginNames.length;j++){

            if(name.indexOf(pluginNames[j]) !== -1){

              return true;
            };
          };
        };
        return false;
      };
    }
  },
  defer : function(statics){

    qx.core.Environment.add("plugin.gears", statics.getGears);
    qx.core.Environment.add("plugin.quicktime", statics.getQuicktime);
    qx.core.Environment.add("plugin.quicktime.version", statics.getQuicktimeVersion);
    qx.core.Environment.add("plugin.windowsmedia", statics.getWindowsMedia);
    qx.core.Environment.add("plugin.windowsmedia.version", statics.getWindowsMediaVersion);
    qx.core.Environment.add("plugin.divx", statics.getDivX);
    qx.core.Environment.add("plugin.divx.version", statics.getDivXVersion);
    qx.core.Environment.add("plugin.silverlight", statics.getSilverlight);
    qx.core.Environment.add("plugin.silverlight.version", statics.getSilverlightVersion);
    qx.core.Environment.add("plugin.pdf", statics.getPdf);
    qx.core.Environment.add("plugin.pdf.version", statics.getPdfVersion);
    qx.core.Environment.add("plugin.activex", statics.getActiveX);
    qx.core.Environment.add("plugin.skype", statics.getSkype);
  }
});

qx.Bootstrap.define("qx.xml.Document", {
  statics : {
    DOMDOC : null,
    XMLHTTP : null,
    isXmlDocument : function(elem){

      if(elem.nodeType === 9){

        return elem.documentElement.nodeName !== "HTML";
      } else if(elem.ownerDocument){

        return this.isXmlDocument(elem.ownerDocument);
      } else {

        return false;
      };
    },
    create : function(namespaceUri, qualifiedName){

      if(qx.core.Environment.get("plugin.activex")){

        var obj = new ActiveXObject(this.DOMDOC);
        if(this.DOMDOC == "MSXML2.DOMDocument.3.0"){

          obj.setProperty("SelectionLanguage", "XPath");
        };
        if(qualifiedName){

          var str = '<\?xml version="1.0" encoding="utf-8"?>\n<';
          str += qualifiedName;
          if(namespaceUri){

            str += " xmlns='" + namespaceUri + "'";
          };
          str += " />";
          obj.loadXML(str);
        };
        return obj;
      };
      if(qx.core.Environment.get("xml.implementation")){

        return document.implementation.createDocument(namespaceUri || "", qualifiedName || "", null);
      };
      throw new Error("No XML implementation available!");
    },
    fromString : function(str){

      if(qx.core.Environment.get("plugin.activex")){

        var dom = qx.xml.Document.create();
        dom.loadXML(str);
        return dom;
      };
      if(qx.core.Environment.get("xml.domparser")){

        var parser = new DOMParser();
        return parser.parseFromString(str, "text/xml");
      };
      throw new Error("No XML implementation available!");
    }
  },
  defer : function(statics){

    if(qx.core.Environment.get("plugin.activex")){

      var domDoc = ["MSXML2.DOMDocument.6.0", "MSXML2.DOMDocument.3.0"];
      var httpReq = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0"];
      for(var i = 0,l = domDoc.length;i < l;i++){

        try{

          new ActiveXObject(domDoc[i]);
          new ActiveXObject(httpReq[i]);
        } catch(ex) {

          continue;
        };
        statics.DOMDOC = domDoc[i];
        statics.XMLHTTP = httpReq[i];
        break;
      };
    };
  }
});

qx.Bootstrap.define("qx.bom.client.Xml", {
  statics : {
    getImplementation : function(){

      return document.implementation && document.implementation.hasFeature && document.implementation.hasFeature("XML", "1.0");
    },
    getDomParser : function(){

      return typeof window.DOMParser !== "undefined";
    },
    getSelectSingleNode : function(){

      return typeof qx.xml.Document.create().selectSingleNode !== "undefined";
    },
    getSelectNodes : function(){

      return typeof qx.xml.Document.create().selectNodes !== "undefined";
    },
    getElementsByTagNameNS : function(){

      return typeof qx.xml.Document.create().getElementsByTagNameNS !== "undefined";
    },
    getDomProperties : function(){

      var doc = qx.xml.Document.create();
      return ("getProperty" in doc && typeof doc.getProperty("SelectionLanguage") === "string");
    },
    getAttributeNS : function(){

      var docElem = qx.xml.Document.fromString("<a></a>").documentElement;
      return typeof docElem.getAttributeNS === "function" && typeof docElem.setAttributeNS === "function";
    },
    getCreateElementNS : function(){

      return typeof qx.xml.Document.create().createElementNS === "function";
    },
    getCreateNode : function(){

      return typeof qx.xml.Document.create().createNode !== "undefined";
    },
    getQualifiedItem : function(){

      var docElem = qx.xml.Document.fromString("<a></a>").documentElement;
      return typeof docElem.attributes.getQualifiedItem !== "undefined";
    }
  },
  defer : function(statics){

    qx.core.Environment.add("xml.implementation", statics.getImplementation);
    qx.core.Environment.add("xml.domparser", statics.getDomParser);
    qx.core.Environment.add("xml.selectsinglenode", statics.getSelectSingleNode);
    qx.core.Environment.add("xml.selectnodes", statics.getSelectNodes);
    qx.core.Environment.add("xml.getelementsbytagnamens", statics.getElementsByTagNameNS);
    qx.core.Environment.add("xml.domproperties", statics.getDomProperties);
    qx.core.Environment.add("xml.attributens", statics.getAttributeNS);
    qx.core.Environment.add("xml.createelementns", statics.getCreateElementNS);
    qx.core.Environment.add("xml.createnode", statics.getCreateNode);
    qx.core.Environment.add("xml.getqualifieditem", statics.getQualifiedItem);
  }
});

qx.Class.define("qx.bom.element.Scroll", {
  statics : {
    __scrollbarSize : null,
    getScrollbarWidth : function(){

      if(this.__scrollbarSize !== null){

        return this.__scrollbarSize;
      };
      var Style = qx.bom.element.Style;
      var getStyleSize = function(el, propertyName){

        return parseInt(Style.get(el, propertyName), 10) || 0;
      };
      var getBorderRight = function(el){

        return (Style.get(el, "borderRightStyle") == "none" ? 0 : getStyleSize(el, "borderRightWidth"));
      };
      var getBorderLeft = function(el){

        return (Style.get(el, "borderLeftStyle") == "none" ? 0 : getStyleSize(el, "borderLeftWidth"));
      };
      var getInsetRight = qx.core.Environment.select("engine.name", {
        "mshtml" : function(el){

          if(Style.get(el, "overflowY") == "hidden" || el.clientWidth == 0){

            return getBorderRight(el);
          };
          return Math.max(0, el.offsetWidth - el.clientLeft - el.clientWidth);
        },
        "default" : function(el){

          if(el.clientWidth == 0){

            var ov = Style.get(el, "overflow");
            var sbv = (ov == "scroll" || ov == "-moz-scrollbars-vertical" ? 16 : 0);
            return Math.max(0, getBorderRight(el) + sbv);
          };
          return Math.max(0, (el.offsetWidth - el.clientWidth - getBorderLeft(el)));
        }
      });
      var getScrollBarSizeRight = function(el){

        return getInsetRight(el) - getBorderRight(el);
      };
      var t = document.createElement("div");
      var s = t.style;
      s.height = s.width = "100px";
      s.overflow = "scroll";
      document.body.appendChild(t);
      var c = getScrollBarSizeRight(t);
      this.__scrollbarSize = c;
      document.body.removeChild(t);
      return this.__scrollbarSize;
    },
    intoViewX : function(element, stop, align){

      var parent = element.parentNode;
      var doc = qx.dom.Node.getDocument(element);
      var body = doc.body;
      var parentLocation,parentLeft,parentRight;
      var parentOuterWidth,parentClientWidth,parentScrollWidth;
      var parentLeftBorder,parentRightBorder,parentScrollBarWidth;
      var elementLocation,elementLeft,elementRight,elementWidth;
      var leftOffset,rightOffset,scrollDiff;
      var alignLeft = align === "left";
      var alignRight = align === "right";
      stop = stop ? stop.parentNode : doc;
      while(parent && parent != stop){

        if(parent.scrollWidth > parent.clientWidth && (parent === body || qx.bom.element.Style.get(parent, "overflowY") != "visible")){

          if(parent === body){

            parentLeft = parent.scrollLeft;
            parentRight = parentLeft + qx.bom.Viewport.getWidth();
            parentOuterWidth = qx.bom.Viewport.getWidth();
            parentClientWidth = parent.clientWidth;
            parentScrollWidth = parent.scrollWidth;
            parentLeftBorder = 0;
            parentRightBorder = 0;
            parentScrollBarWidth = 0;
          } else {

            parentLocation = qx.bom.element.Location.get(parent);
            parentLeft = parentLocation.left;
            parentRight = parentLocation.right;
            parentOuterWidth = parent.offsetWidth;
            parentClientWidth = parent.clientWidth;
            parentScrollWidth = parent.scrollWidth;
            parentLeftBorder = parseInt(qx.bom.element.Style.get(parent, "borderLeftWidth"), 10) || 0;
            parentRightBorder = parseInt(qx.bom.element.Style.get(parent, "borderRightWidth"), 10) || 0;
            parentScrollBarWidth = parentOuterWidth - parentClientWidth - parentLeftBorder - parentRightBorder;
          };
          elementLocation = qx.bom.element.Location.get(element);
          elementLeft = elementLocation.left;
          elementRight = elementLocation.right;
          elementWidth = element.offsetWidth;
          leftOffset = elementLeft - parentLeft - parentLeftBorder;
          rightOffset = elementRight - parentRight + parentRightBorder;
          scrollDiff = 0;
          if(alignLeft){

            scrollDiff = leftOffset;
          } else if(alignRight){

            scrollDiff = rightOffset + parentScrollBarWidth;
          } else if(leftOffset < 0 || elementWidth > parentClientWidth){

            scrollDiff = leftOffset;
          } else if(rightOffset > 0){

            scrollDiff = rightOffset + parentScrollBarWidth;
          };;;
          parent.scrollLeft += scrollDiff;
          qx.event.Registration.fireNonBubblingEvent(parent, "scroll");
        };
        if(parent === body){

          break;
        };
        parent = parent.parentNode;
      };
    },
    intoViewY : function(element, stop, align){

      var parent = element.parentNode;
      var doc = qx.dom.Node.getDocument(element);
      var body = doc.body;
      var parentLocation,parentTop,parentBottom;
      var parentOuterHeight,parentClientHeight,parentScrollHeight;
      var parentTopBorder,parentBottomBorder,parentScrollBarHeight;
      var elementLocation,elementTop,elementBottom,elementHeight;
      var topOffset,bottomOffset,scrollDiff;
      var alignTop = align === "top";
      var alignBottom = align === "bottom";
      stop = stop ? stop.parentNode : doc;
      while(parent && parent != stop){

        if(parent.scrollHeight > parent.clientHeight && (parent === body || qx.bom.element.Style.get(parent, "overflowY") != "visible")){

          if(parent === body){

            parentTop = parent.scrollTop;
            parentBottom = parentTop + qx.bom.Viewport.getHeight();
            parentOuterHeight = qx.bom.Viewport.getHeight();
            parentClientHeight = parent.clientHeight;
            parentScrollHeight = parent.scrollHeight;
            parentTopBorder = 0;
            parentBottomBorder = 0;
            parentScrollBarHeight = 0;
          } else {

            parentLocation = qx.bom.element.Location.get(parent);
            parentTop = parentLocation.top;
            parentBottom = parentLocation.bottom;
            parentOuterHeight = parent.offsetHeight;
            parentClientHeight = parent.clientHeight;
            parentScrollHeight = parent.scrollHeight;
            parentTopBorder = parseInt(qx.bom.element.Style.get(parent, "borderTopWidth"), 10) || 0;
            parentBottomBorder = parseInt(qx.bom.element.Style.get(parent, "borderBottomWidth"), 10) || 0;
            parentScrollBarHeight = parentOuterHeight - parentClientHeight - parentTopBorder - parentBottomBorder;
          };
          elementLocation = qx.bom.element.Location.get(element);
          elementTop = elementLocation.top;
          elementBottom = elementLocation.bottom;
          elementHeight = element.offsetHeight;
          topOffset = elementTop - parentTop - parentTopBorder;
          bottomOffset = elementBottom - parentBottom + parentBottomBorder;
          scrollDiff = 0;
          if(alignTop){

            scrollDiff = topOffset;
          } else if(alignBottom){

            scrollDiff = bottomOffset + parentScrollBarHeight;
          } else if(topOffset < 0 || elementHeight > parentClientHeight){

            scrollDiff = topOffset;
          } else if(bottomOffset > 0){

            scrollDiff = bottomOffset + parentScrollBarHeight;
          };;;
          parent.scrollTop += scrollDiff;
          qx.event.Registration.fireNonBubblingEvent(parent, "scroll");
        };
        if(parent === body){

          break;
        };
        parent = parent.parentNode;
      };
    },
    intoView : function(element, stop, alignX, alignY){

      this.intoViewX(element, stop, alignX);
      this.intoViewY(element, stop, alignY);
    }
  }
});

qx.Class.define("qx.ui.layout.Atom", {
  extend : qx.ui.layout.Abstract,
  properties : {
    gap : {
      check : "Integer",
      init : 4,
      apply : "_applyLayoutChange"
    },
    iconPosition : {
      check : ["left", "top", "right", "bottom", "top-left", "bottom-left", "top-right", "bottom-right"],
      init : "left",
      apply : "_applyLayoutChange"
    },
    center : {
      check : "Boolean",
      init : false,
      apply : "_applyLayoutChange"
    }
  },
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(false, "The property '" + name + "' is not supported by the Atom layout!");
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var left = padding.left;
      var top = padding.top;
      var Util = qx.ui.layout.Util;
      var iconPosition = this.getIconPosition();
      var children = this._getLayoutChildren();
      var length = children.length;
      var width,height;
      var child,hint;
      var gap = this.getGap();
      var center = this.getCenter();
      var allowedPositions = ["bottom", "right", "top-right", "bottom-right"];
      if(allowedPositions.indexOf(iconPosition) != -1){

        var start = length - 1;
        var end = -1;
        var increment = -1;
      } else {

        var start = 0;
        var end = length;
        var increment = 1;
      };
      if(iconPosition == "top" || iconPosition == "bottom"){

        if(center){

          var allocatedHeight = 0;
          for(var i = start;i != end;i += increment){

            height = children[i].getSizeHint().height;
            if(height > 0){

              allocatedHeight += height;
              if(i != start){

                allocatedHeight += gap;
              };
            };
          };
          top += Math.round((availHeight - allocatedHeight) / 2);
        };
        var childTop = top;
        for(var i = start;i != end;i += increment){

          child = children[i];
          hint = child.getSizeHint();
          width = Math.min(hint.maxWidth, Math.max(availWidth, hint.minWidth));
          height = hint.height;
          left = Util.computeHorizontalAlignOffset("center", width, availWidth) + padding.left;
          child.renderLayout(left, childTop, width, height);
          if(height > 0){

            childTop = top + height + gap;
          };
        };
      } else {

        var remainingWidth = availWidth;
        var shrinkTarget = null;
        var count = 0;
        for(var i = start;i != end;i += increment){

          child = children[i];
          width = child.getSizeHint().width;
          if(width > 0){

            if(!shrinkTarget && child instanceof qx.ui.basic.Label){

              shrinkTarget = child;
            } else {

              remainingWidth -= width;
            };
            count++;
          };
        };
        if(count > 1){

          var gapSum = (count - 1) * gap;
          remainingWidth -= gapSum;
        };
        if(shrinkTarget){

          var hint = shrinkTarget.getSizeHint();
          var shrinkTargetWidth = Math.max(hint.minWidth, Math.min(remainingWidth, hint.maxWidth));
          remainingWidth -= shrinkTargetWidth;
        };
        if(center && remainingWidth > 0){

          left += Math.round(remainingWidth / 2);
        };
        for(var i = start;i != end;i += increment){

          child = children[i];
          hint = child.getSizeHint();
          height = Math.min(hint.maxHeight, Math.max(availHeight, hint.minHeight));
          if(child === shrinkTarget){

            width = shrinkTargetWidth;
          } else {

            width = hint.width;
          };
          var align = "middle";
          if(iconPosition == "top-left" || iconPosition == "top-right"){

            align = "top";
          } else if(iconPosition == "bottom-left" || iconPosition == "bottom-right"){

            align = "bottom";
          };
          var childTop = top + Util.computeVerticalAlignOffset(align, hint.height, availHeight);
          child.renderLayout(left, childTop, width, height);
          if(width > 0){

            left += width + gap;
          };
        };
      };
    },
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var length = children.length;
      var hint,result;
      if(length === 1){

        var hint = children[0].getSizeHint();
        result = {
          width : hint.width,
          height : hint.height,
          minWidth : hint.minWidth,
          minHeight : hint.minHeight
        };
      } else {

        var minWidth = 0,width = 0;
        var minHeight = 0,height = 0;
        var iconPosition = this.getIconPosition();
        var gap = this.getGap();
        if(iconPosition === "top" || iconPosition === "bottom"){

          var count = 0;
          for(var i = 0;i < length;i++){

            hint = children[i].getSizeHint();
            width = Math.max(width, hint.width);
            minWidth = Math.max(minWidth, hint.minWidth);
            if(hint.height > 0){

              height += hint.height;
              minHeight += hint.minHeight;
              count++;
            };
          };
          if(count > 1){

            var gapSum = (count - 1) * gap;
            height += gapSum;
            minHeight += gapSum;
          };
        } else {

          var count = 0;
          for(var i = 0;i < length;i++){

            hint = children[i].getSizeHint();
            height = Math.max(height, hint.height);
            minHeight = Math.max(minHeight, hint.minHeight);
            if(hint.width > 0){

              width += hint.width;
              minWidth += hint.minWidth;
              count++;
            };
          };
          if(count > 1){

            var gapSum = (count - 1) * gap;
            width += gapSum;
            minWidth += gapSum;
          };
        };
        result = {
          minWidth : minWidth,
          width : width,
          minHeight : minHeight,
          height : height
        };
      };
      return result;
    }
  }
});

qx.Class.define("qx.ui.layout.Util", {
  statics : {
    PERCENT_VALUE : /[0-9]+(?:\.[0-9]+)?%/,
    computeFlexOffsets : function(flexibles, avail, used){

      var child,key,flexSum,flexStep;
      var grow = avail > used;
      var remaining = Math.abs(avail - used);
      var roundingOffset,currentOffset;
      var result = {
      };
      for(key in flexibles){

        child = flexibles[key];
        result[key] = {
          potential : grow ? child.max - child.value : child.value - child.min,
          flex : grow ? child.flex : 1 / child.flex,
          offset : 0
        };
      };
      while(remaining != 0){

        flexStep = Infinity;
        flexSum = 0;
        for(key in result){

          child = result[key];
          if(child.potential > 0){

            flexSum += child.flex;
            flexStep = Math.min(flexStep, child.potential / child.flex);
          };
        };
        if(flexSum == 0){

          break;
        };
        flexStep = Math.min(remaining, flexStep * flexSum) / flexSum;
        roundingOffset = 0;
        for(key in result){

          child = result[key];
          if(child.potential > 0){

            currentOffset = Math.min(remaining, child.potential, Math.ceil(flexStep * child.flex));
            roundingOffset += currentOffset - flexStep * child.flex;
            if(roundingOffset >= 1){

              roundingOffset -= 1;
              currentOffset -= 1;
            };
            child.potential -= currentOffset;
            if(grow){

              child.offset += currentOffset;
            } else {

              child.offset -= currentOffset;
            };
            remaining -= currentOffset;
          };
        };
      };
      return result;
    },
    computeHorizontalAlignOffset : function(align, width, availWidth, marginLeft, marginRight){

      if(marginLeft == null){

        marginLeft = 0;
      };
      if(marginRight == null){

        marginRight = 0;
      };
      var value = 0;
      switch(align){case "left":
      value = marginLeft;
      break;case "right":
      value = availWidth - width - marginRight;
      break;case "center":
      value = Math.round((availWidth - width) / 2);
      if(value < marginLeft){

        value = marginLeft;
      } else if(value < marginRight){

        value = Math.max(marginLeft, availWidth - width - marginRight);
      };
      break;};
      return value;
    },
    computeVerticalAlignOffset : function(align, height, availHeight, marginTop, marginBottom){

      if(marginTop == null){

        marginTop = 0;
      };
      if(marginBottom == null){

        marginBottom = 0;
      };
      var value = 0;
      switch(align){case "top":
      value = marginTop;
      break;case "bottom":
      value = availHeight - height - marginBottom;
      break;case "middle":
      value = Math.round((availHeight - height) / 2);
      if(value < marginTop){

        value = marginTop;
      } else if(value < marginBottom){

        value = Math.max(marginTop, availHeight - height - marginBottom);
      };
      break;};
      return value;
    },
    collapseMargins : function(varargs){

      var max = 0,min = 0;
      for(var i = 0,l = arguments.length;i < l;i++){

        var value = arguments[i];
        if(value < 0){

          min = Math.min(min, value);
        } else if(value > 0){

          max = Math.max(max, value);
        };
      };
      return max + min;
    },
    computeHorizontalGaps : function(children, spacing, collapse){

      if(spacing == null){

        spacing = 0;
      };
      var gaps = 0;
      if(collapse){

        gaps += children[0].getMarginLeft();
        for(var i = 1,l = children.length;i < l;i += 1){

          gaps += this.collapseMargins(spacing, children[i - 1].getMarginRight(), children[i].getMarginLeft());
        };
        gaps += children[l - 1].getMarginRight();
      } else {

        for(var i = 1,l = children.length;i < l;i += 1){

          gaps += children[i].getMarginLeft() + children[i].getMarginRight();
        };
        gaps += (spacing * (l - 1));
      };
      return gaps;
    },
    computeVerticalGaps : function(children, spacing, collapse){

      if(spacing == null){

        spacing = 0;
      };
      var gaps = 0;
      if(collapse){

        gaps += children[0].getMarginTop();
        for(var i = 1,l = children.length;i < l;i += 1){

          gaps += this.collapseMargins(spacing, children[i - 1].getMarginBottom(), children[i].getMarginTop());
        };
        gaps += children[l - 1].getMarginBottom();
      } else {

        for(var i = 1,l = children.length;i < l;i += 1){

          gaps += children[i].getMarginTop() + children[i].getMarginBottom();
        };
        gaps += (spacing * (l - 1));
      };
      return gaps;
    },
    computeHorizontalSeparatorGaps : function(children, spacing, separator){

      var instance = qx.theme.manager.Decoration.getInstance().resolve(separator);
      var insets = instance.getInsets();
      var width = insets.left + insets.right;
      var gaps = 0;
      for(var i = 0,l = children.length;i < l;i++){

        var child = children[i];
        gaps += child.getMarginLeft() + child.getMarginRight();
      };
      gaps += (spacing + width + spacing) * (l - 1);
      return gaps;
    },
    computeVerticalSeparatorGaps : function(children, spacing, separator){

      var instance = qx.theme.manager.Decoration.getInstance().resolve(separator);
      var insets = instance.getInsets();
      var height = insets.top + insets.bottom;
      var gaps = 0;
      for(var i = 0,l = children.length;i < l;i++){

        var child = children[i];
        gaps += child.getMarginTop() + child.getMarginBottom();
      };
      gaps += (spacing + height + spacing) * (l - 1);
      return gaps;
    },
    arrangeIdeals : function(beginMin, beginIdeal, beginMax, endMin, endIdeal, endMax){

      if(beginIdeal < beginMin || endIdeal < endMin){

        if(beginIdeal < beginMin && endIdeal < endMin){

          beginIdeal = beginMin;
          endIdeal = endMin;
        } else if(beginIdeal < beginMin){

          endIdeal -= (beginMin - beginIdeal);
          beginIdeal = beginMin;
          if(endIdeal < endMin){

            endIdeal = endMin;
          };
        } else if(endIdeal < endMin){

          beginIdeal -= (endMin - endIdeal);
          endIdeal = endMin;
          if(beginIdeal < beginMin){

            beginIdeal = beginMin;
          };
        };;
      };
      if(beginIdeal > beginMax || endIdeal > endMax){

        if(beginIdeal > beginMax && endIdeal > endMax){

          beginIdeal = beginMax;
          endIdeal = endMax;
        } else if(beginIdeal > beginMax){

          endIdeal += (beginIdeal - beginMax);
          beginIdeal = beginMax;
          if(endIdeal > endMax){

            endIdeal = endMax;
          };
        } else if(endIdeal > endMax){

          beginIdeal += (endIdeal - endMax);
          endIdeal = endMax;
          if(beginIdeal > beginMax){

            beginIdeal = beginMax;
          };
        };;
      };
      return {
        begin : beginIdeal,
        end : endIdeal
      };
    }
  }
});

qx.Interface.define("qx.ui.form.IStringForm", {
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    setValue : function(value){

      return arguments.length == 1;
    },
    resetValue : function(){
    },
    getValue : function(){
    }
  }
});

qx.Class.define("qx.ui.basic.Label", {
  extend : qx.ui.core.Widget,
  implement : [qx.ui.form.IStringForm],
  construct : function(value){

    this.base(arguments);
    if(value != null){

      this.setValue(value);
    };
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
  },
  properties : {
    rich : {
      check : "Boolean",
      init : false,
      event : "changeRich",
      apply : "_applyRich"
    },
    wrap : {
      check : "Boolean",
      init : true,
      apply : "_applyWrap"
    },
    value : {
      check : "String",
      apply : "_applyValue",
      event : "changeValue",
      nullable : true
    },
    buddy : {
      check : "qx.ui.core.Widget",
      apply : "_applyBuddy",
      nullable : true,
      init : null,
      dereference : true
    },
    textAlign : {
      check : ["left", "center", "right", "justify"],
      nullable : true,
      themeable : true,
      apply : "_applyTextAlign",
      event : "changeTextAlign"
    },
    appearance : {
      refine : true,
      init : "label"
    },
    selectable : {
      refine : true,
      init : false
    },
    allowGrowX : {
      refine : true,
      init : false
    },
    allowGrowY : {
      refine : true,
      init : false
    },
    allowShrinkY : {
      refine : true,
      init : false
    }
  },
  members : {
    __font : null,
    __invalidContentSize : null,
    __buddyEnabledBinding : null,
    __tapListenerId : null,
    __webfontListenerId : null,
    _getContentHint : function(){

      if(this.__invalidContentSize){

        this.__contentSize = this.__computeContentSize();
        delete this.__invalidContentSize;
      };
      return {
        width : this.__contentSize.width,
        height : this.__contentSize.height
      };
    },
    _hasHeightForWidth : function(){

      return this.getRich() && this.getWrap();
    },
    _applySelectable : function(value){

      if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

        if(value && !this.isRich()){

          if(qx.core.Environment.get("qx.debug")){

            this.warn("Only rich labels are selectable in browsers with Gecko engine!");
          };
          return;
        };
      };
      this.base(arguments, value);
    },
    _getContentHeightForWidth : function(width){

      if(!this.getRich() && !this.getWrap()){

        return null;
      };
      return this.__computeContentSize(width).height;
    },
    _createContentElement : function(){

      return new qx.html.Label;
    },
    _applyTextAlign : function(value, old){

      this.getContentElement().setStyle("textAlign", value);
    },
    _applyTextColor : function(value, old){

      if(value){

        this.getContentElement().setStyle("color", qx.theme.manager.Color.getInstance().resolve(value));
      } else {

        this.getContentElement().removeStyle("color");
      };
    },
    __contentSize : {
      width : 0,
      height : 0
    },
    _applyFont : function(value, old){

      if(old && this.__font && this.__webfontListenerId){

        this.__font.removeListenerById(this.__webfontListenerId);
        this.__webfontListenerId = null;
      };
      var styles;
      if(value){

        this.__font = qx.theme.manager.Font.getInstance().resolve(value);
        if(this.__font instanceof qx.bom.webfonts.WebFont){

          this.__webfontListenerId = this.__font.addListener("changeStatus", this._onWebFontStatusChange, this);
        };
        styles = this.__font.getStyles();
      } else {

        this.__font = null;
        styles = qx.bom.Font.getDefaultStyles();
      };
      if(this.getTextColor() != null){

        delete styles["color"];
      };
      this.getContentElement().setStyles(styles);
      this.__invalidContentSize = true;
      qx.ui.core.queue.Layout.add(this);
    },
    __computeContentSize : function(width){

      var Label = qx.bom.Label;
      var font = this.getFont();
      var styles = font ? this.__font.getStyles() : qx.bom.Font.getDefaultStyles();
      var content = this.getValue() || "A";
      var rich = this.getRich();
      if(this.__webfontListenerId){

        this.__fixEllipsis();
      };
      return rich ? Label.getHtmlSize(content, styles, width) : Label.getTextSize(content, styles);
    },
    __fixEllipsis : function(){

      if(!this.getContentElement()){

        return;
      };
      if(qx.core.Environment.get("os.name") == "osx" && qx.core.Environment.get("engine.name") == "gecko" && parseInt(qx.core.Environment.get("engine.version"), 10) < 16 && parseInt(qx.core.Environment.get("engine.version"), 10) > 9){

        var domEl = this.getContentElement().getDomElement();
        if(domEl){

          domEl.innerHTML = domEl.innerHTML;
        };
      };
    },
    _applyBuddy : function(value, old){

      if(old != null){

        old.removeBinding(this.__buddyEnabledBinding);
        this.__buddyEnabledBinding = null;
        this.removeListenerById(this.__tapListenerId);
        this.__tapListenerId = null;
      };
      if(value != null){

        this.__buddyEnabledBinding = value.bind("enabled", this, "enabled");
        this.__tapListenerId = this.addListener("tap", function(){

          if(value.isFocusable()){

            value.focus.apply(value);
          };
          if("toggleValue" in value && typeof value.toggleValue === "function"){

            value.toggleValue();
          };
        }, this);
      };
    },
    _applyRich : function(value){

      this.getContentElement().setRich(value);
      this.__invalidContentSize = true;
      qx.ui.core.queue.Layout.add(this);
    },
    _applyWrap : function(value, old){

      if(value && !this.isRich()){

        if(qx.core.Environment.get("qx.debug")){

          this.warn("Only rich labels support wrap.");
        };
      };
      if(this.isRich()){

        var whiteSpace = value ? "normal" : "nowrap";
        this.getContentElement().setStyle("whiteSpace", whiteSpace);
      };
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        var content = this.getValue();
        if(content && content.translate){

          this.setValue(content.translate());
        };
      },
      "false" : null
    }),
    _onWebFontStatusChange : function(ev){

      if(ev.getData().valid === true){

        this.__invalidContentSize = true;
        qx.ui.core.queue.Layout.add(this);
      };
    },
    _applyValue : function(value, old){

      this.getContentElement().setValue(value);
      this.__invalidContentSize = true;
      qx.ui.core.queue.Layout.add(this);
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
    if(this.__buddyEnabledBinding != null){

      var buddy = this.getBuddy();
      if(buddy != null && !buddy.isDisposed()){

        buddy.removeBinding(this.__buddyEnabledBinding);
      };
    };
    if(this.__font && this.__webfontListenerId){

      this.__font.removeListenerById(this.__webfontListenerId);
    };
    this.__font = this.__buddyEnabledBinding = null;
  }
});

qx.Class.define("qx.html.Label", {
  extend : qx.html.Element,
  members : {
    __rich : null,
    _applyProperty : function(name, value){

      this.base(arguments, name, value);
      if(name == "value"){

        var element = this.getDomElement();
        qx.bom.Label.setValue(element, value);
      };
    },
    _createDomElement : function(){

      var rich = this.__rich;
      var el = qx.bom.Label.create(this._content, rich);
      return el;
    },
    _copyData : function(fromMarkup){

      return this.base(arguments, true);
    },
    setRich : function(value){

      var element = this.getDomElement();
      if(element){

        throw new Error("The label mode cannot be modified after initial creation");
      };
      value = !!value;
      if(this.__rich == value){

        return this;
      };
      this.__rich = value;
      return this;
    },
    setValue : function(value){

      this._setProperty("value", value);
      return this;
    },
    getValue : function(){

      return this._getProperty("value");
    }
  }
});

qx.Bootstrap.define("qx.bom.Label", {
  statics : {
    __styles : {
      fontFamily : 1,
      fontSize : 1,
      fontWeight : 1,
      fontStyle : 1,
      lineHeight : 1
    },
    __prepareText : function(){

      var el = this.__createMeasureElement(false);
      document.body.insertBefore(el, document.body.firstChild);
      return this._textElement = el;
    },
    __prepareHtml : function(){

      var el = this.__createMeasureElement(true);
      document.body.insertBefore(el, document.body.firstChild);
      return this._htmlElement = el;
    },
    __createMeasureElement : function(html){

      var el = qx.dom.Element.create("div");
      var style = el.style;
      style.width = style.height = "auto";
      style.left = style.top = "-1000px";
      style.visibility = "hidden";
      style.position = "absolute";
      style.overflow = "visible";
      style.display = "block";
      if(html){

        style.whiteSpace = "normal";
      } else {

        style.whiteSpace = "nowrap";
        if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

          var inner = document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul", "label");
          var style = inner.style;
          style.padding = "0";
          style.margin = "0";
          style.width = "auto";
          for(var key in this.__styles){

            style[key] = "inherit";
          };
          el.appendChild(inner);
        };
      };
      return el;
    },
    __getStyles : function(html){

      var styles = {
      };
      if(html){

        styles.whiteSpace = "normal";
      } else if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

        styles.display = "block";
      } else {

        styles.overflow = "hidden";
        styles.whiteSpace = "nowrap";
        styles[qx.core.Environment.get("css.textoverflow")] = "ellipsis";
      };
      return styles;
    },
    create : function(content, html, win){

      if(!win){

        win = window;
      };
      var el = win.document.createElement("div");
      if(html){

        el.useHtml = true;
      } else if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

        var xulel = win.document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul", "label");
        var style = xulel.style;
        style.cursor = "inherit";
        style.color = "inherit";
        style.overflow = "hidden";
        style.maxWidth = "100%";
        style.padding = "0";
        style.margin = "0";
        style.width = "auto";
        for(var key in this.__styles){

          xulel.style[key] = "inherit";
        };
        xulel.setAttribute("crop", "end");
        el.appendChild(xulel);
      } else {

        qx.bom.element.Style.setStyles(el, this.__getStyles(html));
      };
      if(content){

        this.setValue(el, content);
      };
      return el;
    },
    setValue : function(element, value){

      value = value || "";
      if(element.useHtml){

        element.innerHTML = value;
      } else if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

        element.firstChild.setAttribute("value", value);
      } else {

        qx.bom.element.Attribute.set(element, "text", value);
      };
    },
    getValue : function(element){

      if(element.useHtml){

        return element.innerHTML;
      } else if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

        return element.firstChild.getAttribute("value") || "";
      } else {

        return qx.bom.element.Attribute.get(element, "text");
      };
    },
    getHtmlSize : function(content, styles, width){

      var element = this._htmlElement || this.__prepareHtml();
      element.style.width = width != undefined ? width + "px" : "auto";
      element.innerHTML = content;
      return this.__measureSize(element, styles);
    },
    getTextSize : function(text, styles){

      var element = this._textElement || this.__prepareText();
      if(!qx.core.Environment.get("css.textoverflow") && qx.core.Environment.get("html.xul")){

        element.firstChild.setAttribute("value", text);
      } else {

        qx.bom.element.Attribute.set(element, "text", text);
      };
      return this.__measureSize(element, styles);
    },
    __measureSize : function(element, styles){

      var keys = this.__styles;
      if(!styles){

        styles = {
        };
      };
      for(var key in keys){

        element.style[key] = styles[key] || "";
      };
      var size = qx.bom.element.Dimension.getSize(element);
      if((qx.core.Environment.get("engine.name") == "gecko")){

        size.width++;
      };
      if((qx.core.Environment.get("engine.name") == "mshtml") && parseFloat(qx.core.Environment.get("engine.version")) >= 9){

        size.width++;
      };
      if(qx.core.Environment.get("browser.name") == "chrome" && parseFloat(qx.core.Environment.get("browser.version")) >= 22){

        size.width++;
      };
      if(qx.core.Environment.get("browser.name") == "safari" && parseFloat(qx.core.Environment.get("browser.version")) >= 6){

        size.width++;
      };
      return size;
    }
  }
});

qx.Class.define("qx.theme.manager.Font", {
  type : "singleton",
  extend : qx.util.ValueManager,
  properties : {
    theme : {
      check : "Theme",
      nullable : true,
      apply : "_applyTheme",
      event : "changeTheme"
    }
  },
  members : {
    resolveDynamic : function(value){

      var dynamic = this._dynamic;
      return value instanceof qx.bom.Font ? value : dynamic[value];
    },
    resolve : function(value){

      var cache = this._dynamic;
      var resolved = cache[value];
      if(resolved){

        return resolved;
      };
      var theme = this.getTheme();
      if(theme !== null && theme.fonts[value]){

        var font = this.__getFontClass(theme.fonts[value]);
        return cache[value] = (new font).set(theme.fonts[value]);
      };
      return value;
    },
    isDynamic : function(value){

      var cache = this._dynamic;
      if(value && (value instanceof qx.bom.Font || cache[value] !== undefined)){

        return true;
      };
      var theme = this.getTheme();
      if(theme !== null && value && theme.fonts[value]){

        var font = this.__getFontClass(theme.fonts[value]);
        cache[value] = (new font).set(theme.fonts[value]);
        return true;
      };
      return false;
    },
    __resolveInclude : function(fonts, fontName){

      if(fonts[fontName].include){

        var fontToInclude = fonts[fonts[fontName].include];
        fonts[fontName].include = null;
        delete fonts[fontName].include;
        fonts[fontName] = qx.lang.Object.mergeWith(fonts[fontName], fontToInclude, false);
        this.__resolveInclude(fonts, fontName);
      };
    },
    _applyTheme : function(value){

      var dest = this._dynamic;
      for(var key in dest){

        if(dest[key].themed){

          dest[key].dispose();
          delete dest[key];
        };
      };
      if(value){

        var source = value.fonts;
        for(var key in source){

          if(source[key].include && source[source[key].include]){

            this.__resolveInclude(source, key);
          };
          var font = this.__getFontClass(source[key]);
          dest[key] = (new font).set(source[key]);
          dest[key].themed = true;
        };
      };
      this._setDynamic(dest);
    },
    __getFontClass : function(config){

      if(config.sources){

        return qx.bom.webfonts.WebFont;
      };
      return qx.bom.Font;
    }
  },
  destruct : function(){

    this._disposeMap("_dynamic");
  }
});

qx.Class.define("qx.bom.Font", {
  extend : qx.core.Object,
  construct : function(size, family){

    this.base(arguments);
    this.__lookupMap = {
      fontFamily : "",
      fontSize : null,
      fontWeight : null,
      fontStyle : null,
      textDecoration : null,
      lineHeight : null,
      color : null,
      textShadow : null
    };
    if(size !== undefined){

      this.setSize(size);
    };
    if(family !== undefined){

      this.setFamily(family);
    };
  },
  statics : {
    fromString : function(str){

      var font = new qx.bom.Font();
      var parts = str.split(/\s+/);
      var name = [];
      var part;
      for(var i = 0;i < parts.length;i++){

        switch(part = parts[i]){case "bold":
        font.setBold(true);
        break;case "italic":
        font.setItalic(true);
        break;case "underline":
        font.setDecoration("underline");
        break;default:
        var temp = parseInt(part, 10);
        if(temp == part || qx.lang.String.contains(part, "px")){

          font.setSize(temp);
        } else {

          name.push(part);
        };
        break;};
      };
      if(name.length > 0){

        font.setFamily(name);
      };
      return font;
    },
    fromConfig : function(config){

      var font = new qx.bom.Font;
      font.set(config);
      return font;
    },
    __defaultStyles : {
      fontFamily : "",
      fontSize : "",
      fontWeight : "",
      fontStyle : "",
      textDecoration : "",
      lineHeight : 1.2,
      color : "",
      textShadow : ""
    },
    getDefaultStyles : function(){

      return this.__defaultStyles;
    }
  },
  properties : {
    size : {
      check : "Integer",
      nullable : true,
      apply : "_applySize"
    },
    lineHeight : {
      check : "Number",
      nullable : true,
      apply : "_applyLineHeight"
    },
    family : {
      check : "Array",
      nullable : true,
      apply : "_applyFamily"
    },
    bold : {
      check : "Boolean",
      nullable : true,
      apply : "_applyBold"
    },
    italic : {
      check : "Boolean",
      nullable : true,
      apply : "_applyItalic"
    },
    decoration : {
      check : ["underline", "line-through", "overline"],
      nullable : true,
      apply : "_applyDecoration"
    },
    color : {
      check : "Color",
      nullable : true,
      apply : "_applyColor"
    },
    textShadow : {
      nullable : true,
      check : "String",
      apply : "_applyTextShadow"
    }
  },
  members : {
    __lookupMap : null,
    _applySize : function(value, old){

      this.__lookupMap.fontSize = value === null ? null : value + "px";
    },
    _applyLineHeight : function(value, old){

      this.__lookupMap.lineHeight = value === null ? null : value;
    },
    _applyFamily : function(value, old){

      var family = "";
      for(var i = 0,l = value.length;i < l;i++){

        if(value[i].indexOf(" ") > 0){

          family += '"' + value[i] + '"';
        } else {

          family += value[i];
        };
        if(i !== l - 1){

          family += ",";
        };
      };
      this.__lookupMap.fontFamily = family;
    },
    _applyBold : function(value, old){

      this.__lookupMap.fontWeight = value == null ? null : value ? "bold" : "normal";
    },
    _applyItalic : function(value, old){

      this.__lookupMap.fontStyle = value == null ? null : value ? "italic" : "normal";
    },
    _applyDecoration : function(value, old){

      this.__lookupMap.textDecoration = value == null ? null : value;
    },
    _applyColor : function(value, old){

      this.__lookupMap.color = null;
      if(value){

        this.__lookupMap.color = qx.theme.manager.Color.getInstance().resolve(value);
      };
    },
    _applyTextShadow : function(value, old){

      this.__lookupMap.textShadow = value == null ? null : value;
    },
    getStyles : function(){

      return this.__lookupMap;
    }
  }
});

qx.Class.define("qx.bom.webfonts.WebFont", {
  extend : qx.bom.Font,
  events : {
    "changeStatus" : "qx.event.type.Data"
  },
  properties : {
    sources : {
      nullable : true,
      apply : "_applySources"
    }
  },
  members : {
    __families : null,
    _applySources : function(value, old){

      var families = [];
      for(var i = 0,l = value.length;i < l;i++){

        var familyName = this._quoteFontFamily(value[i].family);
        families.push(familyName);
        var sourcesList = value[i].source;
        qx.bom.webfonts.Manager.getInstance().require(familyName, sourcesList, this._onWebFontChangeStatus, this);
      };
      this.setFamily(families.concat(this.getFamily()));
    },
    _onWebFontChangeStatus : function(ev){

      var result = ev.getData();
      this.fireDataEvent("changeStatus", result);
      if(qx.core.Environment.get("qx.debug")){

        if(result.valid === false){

          this.warn("WebFont " + result.family + " was not applied, perhaps the source file could not be loaded.");
        };
      };
    },
    _quoteFontFamily : function(familyName){

      return familyName.replace(/["']/g, "");
    }
  }
});

qx.Class.define("qx.bom.webfonts.Manager", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this.base(arguments);
    this.__createdStyles = [];
    this.__validators = {
    };
    this.__queue = [];
    this.__preferredFormats = this.getPreferredFormats();
    var browser = qx.core.Environment.get("browser.name");
    var version = parseInt(qx.core.Environment.get("browser.version"), 10);
    if((browser == "chrome" && version < 35) || (browser == "opera") && version < 22){

      this.__needsAbsoluteUri = true;
    };
  },
  statics : {
    FONT_FORMATS : ["eot", "woff", "ttf", "svg"],
    VALIDATION_TIMEOUT : 5000
  },
  members : {
    __createdStyles : null,
    __styleSheet : null,
    __validators : null,
    __preferredFormats : null,
    __queue : null,
    __queueInterval : null,
    __needsAbsoluteUri : false,
    require : function(familyName, sourcesList, callback, context){

      var sources = [];
      for(var i = 0,l = sourcesList.length;i < l;i++){

        var split = sourcesList[i].split("#");
        var src = qx.util.ResourceManager.getInstance().toUri(split[0]);
        if(split.length > 1){

          src = src + "#" + split[1];
        };
        if(this.__needsAbsoluteUri){

          src = qx.util.Uri.getAbsolute(src);
        };
        sources.push(src);
      };
      if(qx.core.Environment.get("engine.name") == "mshtml" && (parseInt(qx.core.Environment.get("engine.version")) < 9 || qx.core.Environment.get("browser.documentmode") < 9)){

        if(!this.__queueInterval){

          this.__queueInterval = new qx.event.Timer(100);
          this.__queueInterval.addListener("interval", this.__flushQueue, this);
        };
        if(!this.__queueInterval.isEnabled()){

          this.__queueInterval.start();
        };
        this.__queue.push([familyName, sources, callback, context]);
      } else {

        this.__require(familyName, sources, callback, context);
      };
    },
    remove : function(familyName){

      var index = null;
      for(var i = 0,l = this.__createdStyles.length;i < l;i++){

        if(this.__createdStyles[i] == familyName){

          index = i;
          this.__removeRule(familyName);
          break;
        };
      };
      if(index){

        qx.lang.Array.removeAt(this.__createdStyles, index);
      };
      if(familyName in this.__validators){

        this.__validators[familyName].dispose();
        delete this.__validators[familyName];
      };
    },
    getPreferredFormats : function(){

      var preferredFormats = [];
      var browser = qx.core.Environment.get("browser.name");
      var browserVersion = qx.core.Environment.get("browser.version");
      var os = qx.core.Environment.get("os.name");
      var osVersion = qx.core.Environment.get("os.version");
      if((browser == "ie" && qx.core.Environment.get("browser.documentmode") >= 9) || (browser == "firefox" && browserVersion >= 3.6) || (browser == "chrome" && browserVersion >= 6)){

        preferredFormats.push("woff");
      };
      if((browser == "opera" && browserVersion >= 10) || (browser == "safari" && browserVersion >= 3.1) || (browser == "firefox" && browserVersion >= 3.5) || (browser == "chrome" && browserVersion >= 4) || (browser == "mobile safari" && os == "ios" && osVersion >= 4.2)){

        preferredFormats.push("ttf");
      };
      if(browser == "ie" && browserVersion >= 4){

        preferredFormats.push("eot");
      };
      if(browser == "mobileSafari" && os == "ios" && osVersion >= 4.1){

        preferredFormats.push("svg");
      };
      return preferredFormats;
    },
    removeStyleSheet : function(){

      this.__createdStyles = [];
      if(this.__styleSheet){

        qx.bom.Stylesheet.removeSheet(this.__styleSheet);
      };
      this.__styleSheet = null;
    },
    __require : function(familyName, sources, callback, context){

      if(!qx.lang.Array.contains(this.__createdStyles, familyName)){

        var sourcesMap = this.__getSourcesMap(sources);
        var rule = this.__getRule(familyName, sourcesMap);
        if(!rule){

          throw new Error("Couldn't create @font-face rule for WebFont " + familyName + "!");
        };
        if(!this.__styleSheet){

          this.__styleSheet = qx.bom.Stylesheet.createElement();
        };
        try{

          this.__addRule(rule);
        } catch(ex) {

          if(qx.core.Environment.get("qx.debug")){

            this.warn("Error while adding @font-face rule:", ex.message);
            return;
          };
        };
        this.__createdStyles.push(familyName);
      };
      if(!this.__validators[familyName]){

        this.__validators[familyName] = new qx.bom.webfonts.Validator(familyName);
        this.__validators[familyName].setTimeout(qx.bom.webfonts.Manager.VALIDATION_TIMEOUT);
        this.__validators[familyName].addListenerOnce("changeStatus", this.__onFontChangeStatus, this);
      };
      if(callback){

        var cbContext = context || window;
        this.__validators[familyName].addListenerOnce("changeStatus", callback, cbContext);
      };
      this.__validators[familyName].validate();
    },
    __flushQueue : function(){

      if(this.__queue.length == 0){

        this.__queueInterval.stop();
        return;
      };
      var next = this.__queue.shift();
      this.__require.apply(this, next);
    },
    __onFontChangeStatus : function(ev){

      var result = ev.getData();
      if(result.valid === false){

        qx.event.Timer.once(function(){

          this.remove(result.family);
        }, this, 250);
      };
    },
    __getSourcesMap : function(sources){

      var formats = qx.bom.webfonts.Manager.FONT_FORMATS;
      var sourcesMap = {
      };
      for(var i = 0,l = sources.length;i < l;i++){

        var type = null;
        for(var x = 0;x < formats.length;x++){

          var reg = new RegExp("\.(" + formats[x] + ")");
          var match = reg.exec(sources[i]);
          if(match){

            type = match[1];
          };
        };
        if(type){

          sourcesMap[type] = sources[i];
        };
      };
      return sourcesMap;
    },
    __getRule : function(familyName, sourcesMap){

      var rules = [];
      var formatList = this.__preferredFormats.length > 0 ? this.__preferredFormats : qx.bom.webfonts.Manager.FONT_FORMATS;
      for(var i = 0,l = formatList.length;i < l;i++){

        var format = formatList[i];
        if(sourcesMap[format]){

          rules.push(this.__getSourceForFormat(format, sourcesMap[format]));
        };
      };
      var rule = "src: " + rules.join(",\n") + ";";
      rule = "font-family: " + familyName + ";\n" + rule;
      rule = rule + "\nfont-style: normal;\nfont-weight: normal;";
      return rule;
    },
    __getSourceForFormat : function(format, url){

      switch(format){case "eot":
      return "url('" + url + "');" + "src: url('" + url + "?#iefix') format('embedded-opentype')";case "woff":
      return "url('" + url + "') format('woff')";case "ttf":
      return "url('" + url + "') format('truetype')";case "svg":
      return "url('" + url + "') format('svg')";default:
      return null;};
    },
    __addRule : function(rule){

      var completeRule = "@font-face {" + rule + "}\n";
      if(qx.core.Environment.get("browser.name") == "ie" && qx.core.Environment.get("browser.documentmode") < 9){

        var cssText = this.__fixCssText(this.__styleSheet.cssText);
        cssText += completeRule;
        this.__styleSheet.cssText = cssText;
      } else {

        this.__styleSheet.insertRule(completeRule, this.__styleSheet.cssRules.length);
      };
    },
    __removeRule : function(familyName){

      var reg = new RegExp("@font-face.*?" + familyName, "m");
      for(var i = 0,l = document.styleSheets.length;i < l;i++){

        var sheet = document.styleSheets[i];
        if(sheet.cssText){

          var cssText = sheet.cssText.replace(/\n/g, "").replace(/\r/g, "");
          cssText = this.__fixCssText(cssText);
          if(reg.exec(cssText)){

            cssText = cssText.replace(reg, "");
          };
          sheet.cssText = cssText;
        } else if(sheet.cssRules){

          for(var j = 0,m = sheet.cssRules.length;j < m;j++){

            var cssText = sheet.cssRules[j].cssText.replace(/\n/g, "").replace(/\r/g, "");
            if(reg.exec(cssText)){

              this.__styleSheet.deleteRule(j);
              return;
            };
          };
        };
      };
    },
    __fixCssText : function(cssText){

      return cssText.replace("'eot)", "'eot')").replace("('embedded-opentype)", "('embedded-opentype')");
    }
  },
  destruct : function(){

    if(this.__queueInterval){

      this.__queueInterval.stop();
      this.__queueInterval.dispose();
    };
    delete this.__createdStyles;
    this.removeStyleSheet();
    for(var prop in this.__validators){

      this.__validators[prop].dispose();
    };
    qx.bom.webfonts.Validator.removeDefaultHelperElements();
  }
});

qx.Class.define("qx.bom.webfonts.Validator", {
  extend : qx.core.Object,
  construct : function(fontFamily){

    this.base(arguments);
    if(fontFamily){

      this.setFontFamily(fontFamily);
    };
    this.__requestedHelpers = this._getRequestedHelpers();
  },
  statics : {
    COMPARISON_FONTS : {
      sans : ["Arial", "Helvetica", "sans-serif"],
      serif : ["Times New Roman", "Georgia", "serif"]
    },
    HELPER_CSS : {
      position : "absolute",
      margin : "0",
      padding : "0",
      top : "-1000px",
      left : "-1000px",
      fontSize : "350px",
      width : "auto",
      height : "auto",
      lineHeight : "normal",
      fontVariant : "normal",
      visibility : "hidden"
    },
    COMPARISON_STRING : "WEei",
    __defaultSizes : null,
    __defaultHelpers : null,
    removeDefaultHelperElements : function(){

      var defaultHelpers = qx.bom.webfonts.Validator.__defaultHelpers;
      if(defaultHelpers){

        for(var prop in defaultHelpers){

          document.body.removeChild(defaultHelpers[prop]);
        };
      };
      delete qx.bom.webfonts.Validator.__defaultHelpers;
    }
  },
  properties : {
    fontFamily : {
      nullable : true,
      init : null,
      apply : "_applyFontFamily"
    },
    timeout : {
      check : "Integer",
      init : 5000
    }
  },
  events : {
    "changeStatus" : "qx.event.type.Data"
  },
  members : {
    __requestedHelpers : null,
    __checkTimer : null,
    __checkStarted : null,
    validate : function(){

      this.__checkStarted = new Date().getTime();
      if(this.__checkTimer){

        this.__checkTimer.restart();
      } else {

        this.__checkTimer = new qx.event.Timer(100);
        this.__checkTimer.addListener("interval", this.__onTimerInterval, this);
        qx.event.Timer.once(function(){

          this.__checkTimer.start();
        }, this, 0);
      };
    },
    _reset : function(){

      if(this.__requestedHelpers){

        for(var prop in this.__requestedHelpers){

          var elem = this.__requestedHelpers[prop];
          document.body.removeChild(elem);
        };
        this.__requestedHelpers = null;
      };
    },
    _isFontValid : function(){

      if(!qx.bom.webfonts.Validator.__defaultSizes){

        this.__init();
      };
      if(!this.__requestedHelpers){

        this.__requestedHelpers = this._getRequestedHelpers();
      };
      this.__requestedHelpers.sans.style.visibility = "visible";
      this.__requestedHelpers.sans.style.visibility = "hidden";
      this.__requestedHelpers.serif.style.visibility = "visible";
      this.__requestedHelpers.serif.style.visibility = "hidden";
      var requestedSans = qx.bom.element.Dimension.getWidth(this.__requestedHelpers.sans);
      var requestedSerif = qx.bom.element.Dimension.getWidth(this.__requestedHelpers.serif);
      var cls = qx.bom.webfonts.Validator;
      if(requestedSans !== cls.__defaultSizes.sans && requestedSerif !== cls.__defaultSizes.serif){

        return true;
      };
      return false;
    },
    _getRequestedHelpers : function(){

      var fontsSans = [this.getFontFamily()].concat(qx.bom.webfonts.Validator.COMPARISON_FONTS.sans);
      var fontsSerif = [this.getFontFamily()].concat(qx.bom.webfonts.Validator.COMPARISON_FONTS.serif);
      return {
        sans : this._getHelperElement(fontsSans),
        serif : this._getHelperElement(fontsSerif)
      };
    },
    _getHelperElement : function(fontFamily){

      var styleMap = qx.lang.Object.clone(qx.bom.webfonts.Validator.HELPER_CSS);
      if(fontFamily){

        if(styleMap.fontFamily){

          styleMap.fontFamily += "," + fontFamily.join(",");
        } else {

          styleMap.fontFamily = fontFamily.join(",");
        };
      };
      var elem = document.createElement("span");
      elem.innerHTML = qx.bom.webfonts.Validator.COMPARISON_STRING;
      qx.bom.element.Style.setStyles(elem, styleMap);
      document.body.appendChild(elem);
      return elem;
    },
    _applyFontFamily : function(value, old){

      if(value !== old){

        this._reset();
      };
    },
    __init : function(){

      var cls = qx.bom.webfonts.Validator;
      if(!cls.__defaultHelpers){

        cls.__defaultHelpers = {
          sans : this._getHelperElement(cls.COMPARISON_FONTS.sans),
          serif : this._getHelperElement(cls.COMPARISON_FONTS.serif)
        };
      };
      cls.__defaultSizes = {
        sans : qx.bom.element.Dimension.getWidth(cls.__defaultHelpers.sans),
        serif : qx.bom.element.Dimension.getWidth(cls.__defaultHelpers.serif)
      };
    },
    __onTimerInterval : function(){

      if(this._isFontValid()){

        this.__checkTimer.stop();
        this._reset();
        this.fireDataEvent("changeStatus", {
          family : this.getFontFamily(),
          valid : true
        });
      } else {

        var now = new Date().getTime();
        if(now - this.__checkStarted >= this.getTimeout()){

          this.__checkTimer.stop();
          this._reset();
          this.fireDataEvent("changeStatus", {
            family : this.getFontFamily(),
            valid : false
          });
        };
      };
    }
  },
  destruct : function(){

    this._reset();
    this.__checkTimer.stop();
    this.__checkTimer.removeListener("interval", this.__onTimerInterval, this);
    this._disposeObjects("__checkTimer");
  }
});

qx.Mixin.define("qx.ui.core.MRemoteChildrenHandling", {
  members : {
    __forward : function(functionName, a1, a2, a3){

      var container = this.getChildrenContainer();
      if(container === this){

        functionName = "_" + functionName;
      };
      return (container[functionName])(a1, a2, a3);
    },
    getChildren : function(){

      return this.__forward("getChildren");
    },
    hasChildren : function(){

      return this.__forward("hasChildren");
    },
    add : function(child, options){

      return this.__forward("add", child, options);
    },
    remove : function(child){

      return this.__forward("remove", child);
    },
    removeAll : function(){

      return this.__forward("removeAll");
    },
    indexOf : function(child){

      return this.__forward("indexOf", child);
    },
    addAt : function(child, index, options){

      this.__forward("addAt", child, index, options);
    },
    addBefore : function(child, before, options){

      this.__forward("addBefore", child, before, options);
    },
    addAfter : function(child, after, options){

      this.__forward("addAfter", child, after, options);
    },
    removeAt : function(index){

      return this.__forward("removeAt", index);
    }
  }
});

qx.Class.define("qx.ui.core.selection.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__selection = {
    };
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  properties : {
    mode : {
      check : ["single", "multi", "additive", "one"],
      init : "single",
      apply : "_applyMode"
    },
    drag : {
      check : "Boolean",
      init : false
    },
    quick : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __scrollStepX : 0,
    __scrollStepY : 0,
    __scrollTimer : null,
    __frameScroll : null,
    __lastRelX : null,
    __lastRelY : null,
    __frameLocation : null,
    __dragStartX : null,
    __dragStartY : null,
    __inCapture : null,
    __pointerX : null,
    __pointerY : null,
    __moveDirectionX : null,
    __moveDirectionY : null,
    __selectionModified : null,
    __selectionContext : null,
    __leadItem : null,
    __selection : null,
    __anchorItem : null,
    __pointerDownOnSelected : null,
    _userInteraction : false,
    __oldScrollTop : null,
    getSelectionContext : function(){

      return this.__selectionContext;
    },
    selectAll : function(){

      var mode = this.getMode();
      if(mode == "single" || mode == "one"){

        throw new Error("Can not select all items in selection mode: " + mode);
      };
      this._selectAllItems();
      this._fireChange();
    },
    selectItem : function(item){

      this._setSelectedItem(item);
      var mode = this.getMode();
      if(mode !== "single" && mode !== "one"){

        this._setLeadItem(item);
        this._setAnchorItem(item);
      };
      this._scrollItemIntoView(item);
      this._fireChange();
    },
    addItem : function(item){

      var mode = this.getMode();
      if(mode === "single" || mode === "one"){

        this._setSelectedItem(item);
      } else {

        if(this._getAnchorItem() == null){

          this._setAnchorItem(item);
        };
        this._setLeadItem(item);
        this._addToSelection(item);
      };
      this._scrollItemIntoView(item);
      this._fireChange();
    },
    removeItem : function(item){

      this._removeFromSelection(item);
      if(this.getMode() === "one" && this.isSelectionEmpty()){

        var selected = this._applyDefaultSelection();
        if(selected == item){

          return;
        };
      };
      if(this.getLeadItem() == item){

        this._setLeadItem(null);
      };
      if(this._getAnchorItem() == item){

        this._setAnchorItem(null);
      };
      this._fireChange();
    },
    selectItemRange : function(begin, end){

      var mode = this.getMode();
      if(mode == "single" || mode == "one"){

        throw new Error("Can not select multiple items in selection mode: " + mode);
      };
      this._selectItemRange(begin, end);
      this._setAnchorItem(begin);
      this._setLeadItem(end);
      this._scrollItemIntoView(end);
      this._fireChange();
    },
    clearSelection : function(){

      if(this.getMode() == "one"){

        var selected = this._applyDefaultSelection(true);
        if(selected != null){

          return;
        };
      };
      this._clearSelection();
      this._setLeadItem(null);
      this._setAnchorItem(null);
      this._fireChange();
    },
    replaceSelection : function(items){

      var mode = this.getMode();
      if(mode == "one" || mode === "single"){

        if(items.length > 1){

          throw new Error("Could not select more than one items in mode: " + mode + "!");
        };
        if(items.length == 1){

          this.selectItem(items[0]);
        } else {

          this.clearSelection();
        };
        return;
      } else {

        this._replaceMultiSelection(items);
      };
    },
    getSelectedItem : function(){

      var mode = this.getMode();
      if(mode === "single" || mode === "one"){

        var result = this._getSelectedItem();
        return result != undefined ? result : null;
      };
      throw new Error("The method getSelectedItem() is only supported in 'single' and 'one' selection mode!");
    },
    getSelection : function(){

      return qx.lang.Object.getValues(this.__selection);
    },
    getSortedSelection : function(){

      var children = this.getSelectables();
      var sel = qx.lang.Object.getValues(this.__selection);
      sel.sort(function(a, b){

        return children.indexOf(a) - children.indexOf(b);
      });
      return sel;
    },
    isItemSelected : function(item){

      var hash = this._selectableToHashCode(item);
      return this.__selection[hash] !== undefined;
    },
    isSelectionEmpty : function(){

      return qx.lang.Object.isEmpty(this.__selection);
    },
    invertSelection : function(){

      var mode = this.getMode();
      if(mode === "single" || mode === "one"){

        throw new Error("The method invertSelection() is only supported in 'multi' and 'additive' selection mode!");
      };
      var selectables = this.getSelectables();
      for(var i = 0;i < selectables.length;i++){

        this._toggleInSelection(selectables[i]);
      };
      this._fireChange();
    },
    _setLeadItem : function(value){

      var old = this.__leadItem;
      if(old !== null){

        this._styleSelectable(old, "lead", false);
      };
      if(value !== null){

        this._styleSelectable(value, "lead", true);
      };
      this.__leadItem = value;
    },
    getLeadItem : function(){

      return this.__leadItem;
    },
    _setAnchorItem : function(value){

      var old = this.__anchorItem;
      if(old != null){

        this._styleSelectable(old, "anchor", false);
      };
      if(value != null){

        this._styleSelectable(value, "anchor", true);
      };
      this.__anchorItem = value;
    },
    _getAnchorItem : function(){

      return this.__anchorItem !== null ? this.__anchorItem : null;
    },
    _isSelectable : function(item){

      throw new Error("Abstract method call: _isSelectable()");
    },
    _getSelectableFromPointerEvent : function(event){

      var target = event.getTarget();
      if(target && this._isSelectable(target)){

        return target;
      };
      return null;
    },
    _selectableToHashCode : function(item){

      throw new Error("Abstract method call: _selectableToHashCode()");
    },
    _styleSelectable : function(item, type, enabled){

      throw new Error("Abstract method call: _styleSelectable()");
    },
    _capture : function(){

      throw new Error("Abstract method call: _capture()");
    },
    _releaseCapture : function(){

      throw new Error("Abstract method call: _releaseCapture()");
    },
    _getLocation : function(){

      throw new Error("Abstract method call: _getLocation()");
    },
    _getDimension : function(){

      throw new Error("Abstract method call: _getDimension()");
    },
    _getSelectableLocationX : function(item){

      throw new Error("Abstract method call: _getSelectableLocationX()");
    },
    _getSelectableLocationY : function(item){

      throw new Error("Abstract method call: _getSelectableLocationY()");
    },
    _getScroll : function(){

      throw new Error("Abstract method call: _getScroll()");
    },
    _scrollBy : function(xoff, yoff){

      throw new Error("Abstract method call: _scrollBy()");
    },
    _scrollItemIntoView : function(item){

      throw new Error("Abstract method call: _scrollItemIntoView()");
    },
    getSelectables : function(all){

      throw new Error("Abstract method call: getSelectables()");
    },
    _getSelectableRange : function(item1, item2){

      throw new Error("Abstract method call: _getSelectableRange()");
    },
    _getFirstSelectable : function(){

      throw new Error("Abstract method call: _getFirstSelectable()");
    },
    _getLastSelectable : function(){

      throw new Error("Abstract method call: _getLastSelectable()");
    },
    _getRelatedSelectable : function(item, relation){

      throw new Error("Abstract method call: _getRelatedSelectable()");
    },
    _getPage : function(lead, up){

      throw new Error("Abstract method call: _getPage()");
    },
    _applyMode : function(value, old){

      this._setLeadItem(null);
      this._setAnchorItem(null);
      this._clearSelection();
      if(value === "one"){

        this._applyDefaultSelection(true);
      };
      this._fireChange();
    },
    handlePointerOver : function(event){

      if(this.__oldScrollTop != null && this.__oldScrollTop != this._getScroll().top){

        this.__oldScrollTop = null;
        return;
      };
      if(event.getPointerType() != "mouse"){

        return;
      };
      this._userInteraction = true;
      if(!this.getQuick()){

        this._userInteraction = false;
        return;
      };
      var mode = this.getMode();
      if(mode !== "one" && mode !== "single"){

        this._userInteraction = false;
        return;
      };
      var item = this._getSelectableFromPointerEvent(event);
      if(item === null){

        this._userInteraction = false;
        return;
      };
      this._setSelectedItem(item);
      this._fireChange("quick");
      this._userInteraction = false;
    },
    handlePointerDown : function(event){

      this._userInteraction = true;
      var item = this._getSelectableFromPointerEvent(event);
      if(item === null){

        this._userInteraction = false;
        return;
      };
      var isCtrlPressed = event.isCtrlPressed() || (qx.core.Environment.get("os.name") == "osx" && event.isMetaPressed());
      var isShiftPressed = event.isShiftPressed();
      if(this.isItemSelected(item) && !isShiftPressed && !isCtrlPressed && !this.getDrag()){

        this.__pointerDownOnSelected = item;
        this._userInteraction = false;
        return;
      } else {

        this.__pointerDownOnSelected = null;
      };
      this._scrollItemIntoView(item);
      var mode = this.getMode();
      if(this.getDrag() && mode !== "single" && mode !== "one" && !isShiftPressed && !isCtrlPressed && event.getPointerType() == "mouse"){

        this._setAnchorItem(item);
        this._setLeadItem(item);
        this.__frameLocation = this._getLocation();
        this.__frameScroll = this._getScroll();
        this.__dragStartX = event.getDocumentLeft() + this.__frameScroll.left;
        this.__dragStartY = event.getDocumentTop() + this.__frameScroll.top;
        this.__inCapture = true;
        this._capture();
      };
      this._fireChange("tap");
      this._userInteraction = false;
    },
    handleTap : function(event){

      this._userInteraction = true;
      var isCtrlPressed = event.isCtrlPressed() || (qx.core.Environment.get("os.name") == "osx" && event.isMetaPressed());
      var isShiftPressed = event.isShiftPressed();
      if(!isCtrlPressed && !isShiftPressed && this.__pointerDownOnSelected != null){

        this._userInteraction = false;
        var item = this._getSelectableFromPointerEvent(event);
        if(item === null || !this.isItemSelected(item)){

          return;
        };
      };
      var item = this._getSelectableFromPointerEvent(event);
      if(item === null){

        this._userInteraction = false;
        return;
      };
      switch(this.getMode()){case "single":case "one":
      this._setSelectedItem(item);
      break;case "additive":
      this._setLeadItem(item);
      this._setAnchorItem(item);
      this._toggleInSelection(item);
      break;case "multi":
      this._setLeadItem(item);
      if(isShiftPressed){

        var anchor = this._getAnchorItem();
        if(anchor === null){

          anchor = this._getFirstSelectable();
          this._setAnchorItem(anchor);
        };
        this._selectItemRange(anchor, item, isCtrlPressed);
      } else if(isCtrlPressed){

        this._setAnchorItem(item);
        this._toggleInSelection(item);
      } else {

        this._setAnchorItem(item);
        this._setSelectedItem(item);
      };
      break;};
      this._cleanup();
    },
    handleLoseCapture : function(event){

      this._cleanup();
    },
    handlePointerMove : function(event){

      if(!this.__inCapture){

        return;
      };
      this.__pointerX = event.getDocumentLeft();
      this.__pointerY = event.getDocumentTop();
      this._userInteraction = true;
      var dragX = this.__pointerX + this.__frameScroll.left;
      if(dragX > this.__dragStartX){

        this.__moveDirectionX = 1;
      } else if(dragX < this.__dragStartX){

        this.__moveDirectionX = -1;
      } else {

        this.__moveDirectionX = 0;
      };
      var dragY = this.__pointerY + this.__frameScroll.top;
      if(dragY > this.__dragStartY){

        this.__moveDirectionY = 1;
      } else if(dragY < this.__dragStartY){

        this.__moveDirectionY = -1;
      } else {

        this.__moveDirectionY = 0;
      };
      var location = this.__frameLocation;
      if(this.__pointerX < location.left){

        this.__scrollStepX = this.__pointerX - location.left;
      } else if(this.__pointerX > location.right){

        this.__scrollStepX = this.__pointerX - location.right;
      } else {

        this.__scrollStepX = 0;
      };
      if(this.__pointerY < location.top){

        this.__scrollStepY = this.__pointerY - location.top;
      } else if(this.__pointerY > location.bottom){

        this.__scrollStepY = this.__pointerY - location.bottom;
      } else {

        this.__scrollStepY = 0;
      };
      if(!this.__scrollTimer){

        this.__scrollTimer = new qx.event.Timer(100);
        this.__scrollTimer.addListener("interval", this._onInterval, this);
      };
      this.__scrollTimer.start();
      this._autoSelect();
      event.stopPropagation();
      this._userInteraction = false;
    },
    handleAddItem : function(e){

      var item = e.getData();
      if(this.getMode() === "one" && this.isSelectionEmpty()){

        this.addItem(item);
      };
    },
    handleRemoveItem : function(e){

      this.removeItem(e.getData());
    },
    _cleanup : function(){

      if(!this.getDrag() && this.__inCapture){

        return;
      };
      if(this.__selectionModified){

        this._fireChange("tap");
      };
      delete this.__inCapture;
      delete this.__lastRelX;
      delete this.__lastRelY;
      this._releaseCapture();
      if(this.__scrollTimer){

        this.__scrollTimer.stop();
      };
    },
    _onInterval : function(e){

      this._scrollBy(this.__scrollStepX, this.__scrollStepY);
      this.__frameScroll = this._getScroll();
      this._autoSelect();
    },
    _autoSelect : function(){

      var inner = this._getDimension();
      var relX = Math.max(0, Math.min(this.__pointerX - this.__frameLocation.left, inner.width)) + this.__frameScroll.left;
      var relY = Math.max(0, Math.min(this.__pointerY - this.__frameLocation.top, inner.height)) + this.__frameScroll.top;
      if(this.__lastRelX === relX && this.__lastRelY === relY){

        return;
      };
      this.__lastRelX = relX;
      this.__lastRelY = relY;
      var anchor = this._getAnchorItem();
      var lead = anchor;
      var moveX = this.__moveDirectionX;
      var nextX,locationX;
      while(moveX !== 0){

        nextX = moveX > 0 ? this._getRelatedSelectable(lead, "right") : this._getRelatedSelectable(lead, "left");
        if(nextX !== null){

          locationX = this._getSelectableLocationX(nextX);
          if((moveX > 0 && locationX.left <= relX) || (moveX < 0 && locationX.right >= relX)){

            lead = nextX;
            continue;
          };
        };
        break;
      };
      var moveY = this.__moveDirectionY;
      var nextY,locationY;
      while(moveY !== 0){

        nextY = moveY > 0 ? this._getRelatedSelectable(lead, "under") : this._getRelatedSelectable(lead, "above");
        if(nextY !== null){

          locationY = this._getSelectableLocationY(nextY);
          if((moveY > 0 && locationY.top <= relY) || (moveY < 0 && locationY.bottom >= relY)){

            lead = nextY;
            continue;
          };
        };
        break;
      };
      var mode = this.getMode();
      if(mode === "multi"){

        this._selectItemRange(anchor, lead);
      } else if(mode === "additive"){

        if(this.isItemSelected(anchor)){

          this._selectItemRange(anchor, lead, true);
        } else {

          this._deselectItemRange(anchor, lead);
        };
        this._setAnchorItem(lead);
      };
      this._fireChange("drag");
    },
    __navigationKeys : {
      Home : 1,
      Down : 1,
      Right : 1,
      PageDown : 1,
      End : 1,
      Up : 1,
      Left : 1,
      PageUp : 1
    },
    handleKeyPress : function(event){

      this._userInteraction = true;
      var current,next;
      var key = event.getKeyIdentifier();
      var mode = this.getMode();
      var isCtrlPressed = event.isCtrlPressed() || (qx.core.Environment.get("os.name") == "osx" && event.isMetaPressed());
      var isShiftPressed = event.isShiftPressed();
      var consumed = false;
      if(key === "A" && isCtrlPressed){

        if(mode !== "single" && mode !== "one"){

          this._selectAllItems();
          consumed = true;
        };
      } else if(key === "Escape"){

        if(mode !== "single" && mode !== "one"){

          this._clearSelection();
          consumed = true;
        };
      } else if(key === "Space"){

        var lead = this.getLeadItem();
        if(lead != null && !isShiftPressed){

          if(isCtrlPressed || mode === "additive"){

            this._toggleInSelection(lead);
          } else {

            this._setSelectedItem(lead);
          };
          consumed = true;
        };
      } else if(this.__navigationKeys[key]){

        consumed = true;
        if(mode === "single" || mode == "one"){

          current = this._getSelectedItem();
        } else {

          current = this.getLeadItem();
        };
        if(current !== null){

          switch(key){case "Home":
          next = this._getFirstSelectable();
          break;case "End":
          next = this._getLastSelectable();
          break;case "Up":
          next = this._getRelatedSelectable(current, "above");
          break;case "Down":
          next = this._getRelatedSelectable(current, "under");
          break;case "Left":
          next = this._getRelatedSelectable(current, "left");
          break;case "Right":
          next = this._getRelatedSelectable(current, "right");
          break;case "PageUp":
          next = this._getPage(current, true);
          break;case "PageDown":
          next = this._getPage(current, false);
          break;};
        } else {

          switch(key){case "Home":case "Down":case "Right":case "PageDown":
          next = this._getFirstSelectable();
          break;case "End":case "Up":case "Left":case "PageUp":
          next = this._getLastSelectable();
          break;};
        };
        if(next !== null){

          switch(mode){case "single":case "one":
          this._setSelectedItem(next);
          break;case "additive":
          this._setLeadItem(next);
          break;case "multi":
          if(isShiftPressed){

            var anchor = this._getAnchorItem();
            if(anchor === null){

              this._setAnchorItem(anchor = this._getFirstSelectable());
            };
            this._setLeadItem(next);
            this._selectItemRange(anchor, next, isCtrlPressed);
          } else {

            this._setAnchorItem(next);
            this._setLeadItem(next);
            if(!isCtrlPressed){

              this._setSelectedItem(next);
            };
          };
          break;};
          this.__oldScrollTop = this._getScroll().top;
          this._scrollItemIntoView(next);
        };
      };;;
      if(consumed){

        event.stop();
        this._fireChange("key");
      };
      this._userInteraction = false;
    },
    _selectAllItems : function(){

      var range = this.getSelectables();
      for(var i = 0,l = range.length;i < l;i++){

        this._addToSelection(range[i]);
      };
    },
    _clearSelection : function(){

      var selection = this.__selection;
      for(var hash in selection){

        this._removeFromSelection(selection[hash]);
      };
      this.__selection = {
      };
    },
    _selectItemRange : function(item1, item2, extend){

      var range = this._getSelectableRange(item1, item2);
      if(!extend){

        var selected = this.__selection;
        var mapped = this.__rangeToMap(range);
        for(var hash in selected){

          if(!mapped[hash]){

            this._removeFromSelection(selected[hash]);
          };
        };
      };
      for(var i = 0,l = range.length;i < l;i++){

        this._addToSelection(range[i]);
      };
    },
    _deselectItemRange : function(item1, item2){

      var range = this._getSelectableRange(item1, item2);
      for(var i = 0,l = range.length;i < l;i++){

        this._removeFromSelection(range[i]);
      };
    },
    __rangeToMap : function(range){

      var mapped = {
      };
      var item;
      for(var i = 0,l = range.length;i < l;i++){

        item = range[i];
        mapped[this._selectableToHashCode(item)] = item;
      };
      return mapped;
    },
    _getSelectedItem : function(){

      for(var hash in this.__selection){

        return this.__selection[hash];
      };
      return null;
    },
    _setSelectedItem : function(item){

      if(this._isSelectable(item)){

        var current = this.__selection;
        var hash = this._selectableToHashCode(item);
        if(!current[hash] || (current.length >= 2)){

          this._clearSelection();
          this._addToSelection(item);
        };
      };
    },
    _addToSelection : function(item){

      var hash = this._selectableToHashCode(item);
      if(this.__selection[hash] == null && this._isSelectable(item)){

        this.__selection[hash] = item;
        this._styleSelectable(item, "selected", true);
        this.__selectionModified = true;
      };
    },
    _toggleInSelection : function(item){

      var hash = this._selectableToHashCode(item);
      if(this.__selection[hash] == null){

        this.__selection[hash] = item;
        this._styleSelectable(item, "selected", true);
      } else {

        delete this.__selection[hash];
        this._styleSelectable(item, "selected", false);
      };
      this.__selectionModified = true;
    },
    _removeFromSelection : function(item){

      var hash = this._selectableToHashCode(item);
      if(this.__selection[hash] != null){

        delete this.__selection[hash];
        this._styleSelectable(item, "selected", false);
        this.__selectionModified = true;
      };
    },
    _replaceMultiSelection : function(items){

      if(items.length === 0){

        this.clearSelection();
        return;
      };
      var modified = false;
      var selectable,hash;
      var incoming = {
      };
      for(var i = 0,l = items.length;i < l;i++){

        selectable = items[i];
        if(this._isSelectable(selectable)){

          hash = this._selectableToHashCode(selectable);
          incoming[hash] = selectable;
        };
      };
      var first = items[0];
      var last = selectable;
      var current = this.__selection;
      for(var hash in current){

        if(incoming[hash]){

          delete incoming[hash];
        } else {

          selectable = current[hash];
          delete current[hash];
          this._styleSelectable(selectable, "selected", false);
          modified = true;
        };
      };
      for(var hash in incoming){

        selectable = current[hash] = incoming[hash];
        this._styleSelectable(selectable, "selected", true);
        modified = true;
      };
      if(!modified){

        return false;
      };
      this._scrollItemIntoView(last);
      this._setLeadItem(first);
      this._setAnchorItem(first);
      this.__selectionModified = true;
      this._fireChange();
    },
    _fireChange : function(context){

      if(this.__selectionModified){

        this.__selectionContext = context || null;
        this.fireDataEvent("changeSelection", this.getSelection());
        delete this.__selectionModified;
      };
    },
    _applyDefaultSelection : function(force){

      if(force === true || this.getMode() === "one" && this.isSelectionEmpty()){

        var first = this._getFirstSelectable();
        if(first != null){

          this.selectItem(first);
        };
        return first;
      };
      return null;
    }
  },
  destruct : function(){

    this._disposeObjects("__scrollTimer");
    this.__selection = this.__pointerDownOnSelected = this.__anchorItem = null;
    this.__leadItem = null;
  }
});

qx.Class.define("qx.ui.core.selection.Widget", {
  extend : qx.ui.core.selection.Abstract,
  construct : function(widget){

    this.base(arguments);
    this.__widget = widget;
  },
  members : {
    __widget : null,
    _isSelectable : function(item){

      return this._isItemSelectable(item) && item.getLayoutParent() === this.__widget;
    },
    _selectableToHashCode : function(item){

      return item.$$hash;
    },
    _styleSelectable : function(item, type, enabled){

      enabled ? item.addState(type) : item.removeState(type);
    },
    _capture : function(){

      this.__widget.capture();
    },
    _releaseCapture : function(){

      this.__widget.releaseCapture();
    },
    _isItemSelectable : function(item){

      if(this._userInteraction){

        return item.isVisible() && item.isEnabled();
      } else {

        return item.isVisible();
      };
    },
    _getWidget : function(){

      return this.__widget;
    },
    _getLocation : function(){

      var elem = this.__widget.getContentElement().getDomElement();
      return elem ? qx.bom.element.Location.get(elem) : null;
    },
    _getDimension : function(){

      return this.__widget.getInnerSize();
    },
    _getSelectableLocationX : function(item){

      var computed = item.getBounds();
      if(computed){

        return {
          left : computed.left,
          right : computed.left + computed.width
        };
      };
    },
    _getSelectableLocationY : function(item){

      var computed = item.getBounds();
      if(computed){

        return {
          top : computed.top,
          bottom : computed.top + computed.height
        };
      };
    },
    _getScroll : function(){

      return {
        left : 0,
        top : 0
      };
    },
    _scrollBy : function(xoff, yoff){
    },
    _scrollItemIntoView : function(item){

      this.__widget.scrollChildIntoView(item);
    },
    getSelectables : function(all){

      var oldUserInteraction = false;
      if(!all){

        oldUserInteraction = this._userInteraction;
        this._userInteraction = true;
      };
      var children = this.__widget.getChildren();
      var result = [];
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(this._isItemSelectable(child)){

          result.push(child);
        };
      };
      this._userInteraction = oldUserInteraction;
      return result;
    },
    _getSelectableRange : function(item1, item2){

      if(item1 === item2){

        return [item1];
      };
      var children = this.__widget.getChildren();
      var result = [];
      var active = false;
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(child === item1 || child === item2){

          if(active){

            result.push(child);
            break;
          } else {

            active = true;
          };
        };
        if(active && this._isItemSelectable(child)){

          result.push(child);
        };
      };
      return result;
    },
    _getFirstSelectable : function(){

      var children = this.__widget.getChildren();
      for(var i = 0,l = children.length;i < l;i++){

        if(this._isItemSelectable(children[i])){

          return children[i];
        };
      };
      return null;
    },
    _getLastSelectable : function(){

      var children = this.__widget.getChildren();
      for(var i = children.length - 1;i > 0;i--){

        if(this._isItemSelectable(children[i])){

          return children[i];
        };
      };
      return null;
    },
    _getRelatedSelectable : function(item, relation){

      var vertical = this.__widget.getOrientation() === "vertical";
      var children = this.__widget.getChildren();
      var index = children.indexOf(item);
      var sibling;
      if((vertical && relation === "above") || (!vertical && relation === "left")){

        for(var i = index - 1;i >= 0;i--){

          sibling = children[i];
          if(this._isItemSelectable(sibling)){

            return sibling;
          };
        };
      } else if((vertical && relation === "under") || (!vertical && relation === "right")){

        for(var i = index + 1;i < children.length;i++){

          sibling = children[i];
          if(this._isItemSelectable(sibling)){

            return sibling;
          };
        };
      };
      return null;
    },
    _getPage : function(lead, up){

      if(up){

        return this._getFirstSelectable();
      } else {

        return this._getLastSelectable();
      };
    }
  },
  destruct : function(){

    this.__widget = null;
  }
});

qx.Class.define("qx.ui.core.selection.ScrollArea", {
  extend : qx.ui.core.selection.Widget,
  members : {
    _isSelectable : function(item){

      return this._isItemSelectable(item) && item.getLayoutParent() === this._getWidget().getChildrenContainer();
    },
    _getDimension : function(){

      return this._getWidget().getPaneSize();
    },
    _getScroll : function(){

      var widget = this._getWidget();
      return {
        left : widget.getScrollX(),
        top : widget.getScrollY()
      };
    },
    _scrollBy : function(xoff, yoff){

      var widget = this._getWidget();
      widget.scrollByX(xoff);
      widget.scrollByY(yoff);
    },
    _getPage : function(lead, up){

      var selectables = this.getSelectables();
      var length = selectables.length;
      var start = selectables.indexOf(lead);
      if(start === -1){

        throw new Error("Invalid lead item: " + lead);
      };
      var widget = this._getWidget();
      var scrollTop = widget.getScrollY();
      var innerHeight = widget.getInnerSize().height;
      var top,bottom,found;
      if(up){

        var min = scrollTop;
        var i = start;
        while(1){

          for(;i >= 0;i--){

            top = widget.getItemTop(selectables[i]);
            if(top < min){

              found = i + 1;
              break;
            };
          };
          if(found == null){

            var first = this._getFirstSelectable();
            return first == lead ? null : first;
          };
          if(found >= start){

            min -= innerHeight + scrollTop - widget.getItemBottom(lead);
            found = null;
            continue;
          };
          return selectables[found];
        };
      } else {

        var max = innerHeight + scrollTop;
        var i = start;
        while(1){

          for(;i < length;i++){

            bottom = widget.getItemBottom(selectables[i]);
            if(bottom > max){

              found = i - 1;
              break;
            };
          };
          if(found == null){

            var last = this._getLastSelectable();
            return last == lead ? null : last;
          };
          if(found <= start){

            max += widget.getItemTop(lead) - scrollTop;
            found = null;
            continue;
          };
          return selectables[found];
        };
      };
    }
  }
});

qx.Mixin.define("qx.ui.core.MMultiSelectionHandling", {
  construct : function(){

    var clazz = this.SELECTION_MANAGER;
    var manager = this.__manager = new clazz(this);
    this.addListener("pointerdown", manager.handlePointerDown, manager);
    this.addListener("tap", manager.handleTap, manager);
    this.addListener("pointerover", manager.handlePointerOver, manager);
    this.addListener("pointermove", manager.handlePointerMove, manager);
    this.addListener("losecapture", manager.handleLoseCapture, manager);
    this.addListener("keypress", manager.handleKeyPress, manager);
    this.addListener("addItem", manager.handleAddItem, manager);
    this.addListener("removeItem", manager.handleRemoveItem, manager);
    manager.addListener("changeSelection", this._onSelectionChange, this);
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  properties : {
    selectionMode : {
      check : ["single", "multi", "additive", "one"],
      init : "single",
      apply : "_applySelectionMode"
    },
    dragSelection : {
      check : "Boolean",
      init : false,
      apply : "_applyDragSelection"
    },
    quickSelection : {
      check : "Boolean",
      init : false,
      apply : "_applyQuickSelection"
    }
  },
  members : {
    __manager : null,
    selectAll : function(){

      this.__manager.selectAll();
    },
    isSelected : function(item){

      if(!qx.ui.core.Widget.contains(this, item)){

        throw new Error("Could not test if " + item + " is selected, because it is not a child element!");
      };
      return this.__manager.isItemSelected(item);
    },
    addToSelection : function(item){

      if(!qx.ui.core.Widget.contains(this, item)){

        throw new Error("Could not add + " + item + " to selection, because it is not a child element!");
      };
      this.__manager.addItem(item);
    },
    removeFromSelection : function(item){

      if(!qx.ui.core.Widget.contains(this, item)){

        throw new Error("Could not remove " + item + " from selection, because it is not a child element!");
      };
      this.__manager.removeItem(item);
    },
    selectRange : function(begin, end){

      this.__manager.selectItemRange(begin, end);
    },
    resetSelection : function(){

      this.__manager.clearSelection();
    },
    setSelection : function(items){

      for(var i = 0;i < items.length;i++){

        if(!qx.ui.core.Widget.contains(this, items[i])){

          throw new Error("Could not select " + items[i] + ", because it is not a child element!");
        };
      };
      if(items.length === 0){

        this.resetSelection();
      } else {

        var currentSelection = this.getSelection();
        if(!qx.lang.Array.equals(currentSelection, items)){

          this.__manager.replaceSelection(items);
        };
      };
    },
    getSelection : function(){

      return this.__manager.getSelection();
    },
    getSortedSelection : function(){

      return this.__manager.getSortedSelection();
    },
    isSelectionEmpty : function(){

      return this.__manager.isSelectionEmpty();
    },
    getSelectionContext : function(){

      return this.__manager.getSelectionContext();
    },
    _getManager : function(){

      return this.__manager;
    },
    getSelectables : function(all){

      return this.__manager.getSelectables(all);
    },
    invertSelection : function(){

      this.__manager.invertSelection();
    },
    _getLeadItem : function(){

      var mode = this.__manager.getMode();
      if(mode === "single" || mode === "one"){

        return this.__manager.getSelectedItem();
      } else {

        return this.__manager.getLeadItem();
      };
    },
    _applySelectionMode : function(value, old){

      this.__manager.setMode(value);
    },
    _applyDragSelection : function(value, old){

      this.__manager.setDrag(value);
    },
    _applyQuickSelection : function(value, old){

      this.__manager.setQuick(value);
    },
    _onSelectionChange : function(e){

      this.fireDataEvent("changeSelection", e.getData());
    }
  },
  destruct : function(){

    this._disposeObjects("__manager");
  }
});

qx.Mixin.define("qx.ui.form.MForm", {
  construct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this.__onChangeLocale, this);
    };
  },
  properties : {
    valid : {
      check : "Boolean",
      init : true,
      apply : "_applyValid",
      event : "changeValid"
    },
    required : {
      check : "Boolean",
      init : false,
      event : "changeRequired"
    },
    invalidMessage : {
      check : "String",
      init : "",
      event : "changeInvalidMessage"
    },
    requiredInvalidMessage : {
      check : "String",
      nullable : true,
      event : "changeInvalidMessage"
    }
  },
  members : {
    _applyValid : function(value, old){

      value ? this.removeState("invalid") : this.addState("invalid");
    },
    __onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        var invalidMessage = this.getInvalidMessage();
        if(invalidMessage && invalidMessage.translate){

          this.setInvalidMessage(invalidMessage.translate());
        };
        var requiredInvalidMessage = this.getRequiredInvalidMessage();
        if(requiredInvalidMessage && requiredInvalidMessage.translate){

          this.setRequiredInvalidMessage(requiredInvalidMessage.translate());
        };
      },
      "false" : null
    })
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this.__onChangeLocale, this);
    };
  }
});

qx.Interface.define("qx.ui.core.IMultiSelection", {
  extend : qx.ui.core.ISingleSelection,
  members : {
    selectAll : function(){

      return true;
    },
    addToSelection : function(item){

      return arguments.length == 1;
    },
    removeFromSelection : function(item){

      return arguments.length == 1;
    }
  }
});

qx.Mixin.define("qx.ui.core.scroll.MRoll", {
  members : {
    __cancelRoll : null,
    _addRollHandling : function(){

      this.addListener("roll", this._onRoll, this);
      this.addListener("pointerdown", this._onPointerDownForRoll, this);
    },
    _removeRollHandling : function(){

      this.removeListener("roll", this._onRoll, this);
      this.removeListener("pointerdown", this._onPointerDownForRoll, this);
    },
    _onPointerDownForRoll : function(e){

      this.__cancelRoll = e.getPointerId();
    },
    _onRoll : function(e){

      if(e.getPointerType() == "mouse"){

        return;
      };
      if(this.__cancelRoll && e.getMomentum()){

        qx.event.Registration.getManager(e.getOriginalTarget()).getHandler(qx.event.handler.Gesture).gestureCancel(this.__cancelRoll);
        e.stopMomentum();
        this.__cancelRoll = null;
        return;
      };
      this.__cancelRoll = null;
      var showX = this._isChildControlVisible("scrollbar-x");
      var showY = this._isChildControlVisible("scrollbar-y");
      var scrollbarY = showY ? this.getChildControl("scrollbar-y", true) : null;
      var scrollbarX = showX ? this.getChildControl("scrollbar-x", true) : null;
      var deltaY = e.getDelta().y;
      var deltaX = e.getDelta().x;
      var endY = !showY;
      var endX = !showX;
      if(scrollbarY){

        if(deltaY !== 0){

          scrollbarY.scrollBy(parseInt(deltaY, 10));
        };
        var position = scrollbarY.getPosition();
        var max = scrollbarY.getMaximum();
        if(deltaY < 0 && position <= 0 || deltaY > 0 && position >= max){

          endY = true;
        };
      };
      if(scrollbarX){

        if(deltaX !== 0){

          scrollbarX.scrollBy(parseInt(deltaX, 10));
        };
        var position = scrollbarX.getPosition();
        var max = scrollbarX.getMaximum();
        if(deltaX < 0 && position <= 0 || deltaX > 0 && position >= max){

          endX = true;
        };
      };
      if(endX && endY){

        e.stopMomentum();
      };
      if((!endY && deltaX === 0) || (!endX && deltaY === 0) || ((!endX || !endY) && deltaX !== 0 && deltaY !== 0)){

        e.stop();
      };
    }
  }
});

qx.Mixin.define("qx.ui.core.MDragDropScrolling", {
  construct : function(){

    this.addListener("drag", this.__onDrag, this);
    this.addListener("dragend", this.__onDragend, this);
    this.__xDirs = ["left", "right"];
    this.__yDirs = ["top", "bottom"];
  },
  properties : {
    dragScrollThresholdX : {
      check : "Integer",
      init : 30
    },
    dragScrollThresholdY : {
      check : "Integer",
      init : 30
    },
    dragScrollSlowDownFactor : {
      check : "Float",
      init : 0.1
    }
  },
  members : {
    __dragScrollTimer : null,
    __xDirs : null,
    __yDirs : null,
    _findScrollableParent : function(widget){

      var cur = widget;
      if(cur === null){

        return null;
      };
      while(cur.getLayoutParent()){

        cur = cur.getLayoutParent();
        if(this._isScrollable(cur)){

          return cur;
        };
      };
      return null;
    },
    _isScrollable : function(widget){

      return qx.Class.hasMixin(widget.constructor, qx.ui.core.scroll.MScrollBarFactory);
    },
    _getBounds : function(scrollable){

      var bounds = scrollable.getContentLocation();
      if(scrollable.getScrollAreaContainer){

        bounds = scrollable.getScrollAreaContainer().getContentLocation();
      };
      return bounds;
    },
    _getEdgeType : function(diff, thresholdX, thresholdY){

      if((diff.left * -1) <= thresholdX && diff.left < 0){

        return "left";
      } else if((diff.top * -1) <= thresholdY && diff.top < 0){

        return "top";
      } else if(diff.right <= thresholdX && diff.right > 0){

        return "right";
      } else if(diff.bottom <= thresholdY && diff.bottom > 0){

        return "bottom";
      } else {

        return null;
      };;;
    },
    _getAxis : function(edgeType){

      if(this.__xDirs.indexOf(edgeType) !== -1){

        return "x";
      } else if(this.__yDirs.indexOf(edgeType) !== -1){

        return "y";
      } else {

        throw new Error("Invalid edge type given (" + edgeType + "). Must be: 'left', 'right', 'top' or 'bottom'");
      };
    },
    _getThresholdByEdgeType : function(edgeType){

      if(this.__xDirs.indexOf(edgeType) !== -1){

        return this.getDragScrollThresholdX();
      } else if(this.__yDirs.indexOf(edgeType) !== -1){

        return this.getDragScrollThresholdY();
      };
    },
    _isScrollbarVisible : function(scrollable, axis){

      if(scrollable && scrollable._isChildControlVisible){

        return scrollable._isChildControlVisible("scrollbar-" + axis);
      } else {

        return false;
      };
    },
    _isScrollbarExceedingMaxPos : function(scrollbar, axis, amount){

      var newPos = 0;
      if(!scrollbar){

        return true;
      };
      newPos = scrollbar.getPosition() + amount;
      return (newPos > scrollbar.getMaximum() || newPos < 0);
    },
    _calculateThresholdExceedance : function(diff, threshold){

      var amount = threshold - Math.abs(diff);
      return diff < 0 ? (amount * -1) : amount;
    },
    _calculateScrollAmount : function(scrollbarSize, exceedanceAmount){

      return Math.floor(((scrollbarSize / 100) * exceedanceAmount) * this.getDragScrollSlowDownFactor());
    },
    _scrollBy : function(scrollable, axis, exceedanceAmount){

      var scrollbar = scrollable.getChildControl("scrollbar-" + axis, true);
      if(!scrollbar){

        return;
      };
      var bounds = scrollbar.getBounds(),scrollbarSize = axis === "x" ? bounds.width : bounds.height,amount = this._calculateScrollAmount(scrollbarSize, exceedanceAmount);
      if(this._isScrollbarExceedingMaxPos(scrollbar, axis, amount)){

        this.__dragScrollTimer.stop();
      };
      scrollbar.scrollBy(amount);
    },
    __onDrag : function(e){

      if(this.__dragScrollTimer){

        this.__dragScrollTimer.stop();
      };
      var scrollable = this._findScrollableParent(e.getOriginalTarget());
      if(scrollable){

        var bounds = this._getBounds(scrollable),xPos = e.getDocumentLeft(),yPos = e.getDocumentTop(),diff = {
          "left" : bounds.left - xPos,
          "right" : bounds.right - xPos,
          "top" : bounds.top - yPos,
          "bottom" : bounds.bottom - yPos
        },edgeType = null,axis = "",exceedanceAmount = 0;
        edgeType = this._getEdgeType(diff, this.getDragScrollThresholdX(), this.getDragScrollThresholdY());
        if(!edgeType){

          return;
        };
        axis = this._getAxis(edgeType);
        if(this._isScrollbarVisible(scrollable, axis)){

          exceedanceAmount = this._calculateThresholdExceedance(diff[edgeType], this._getThresholdByEdgeType(edgeType));
          if(this.__dragScrollTimer){

            this.__dragScrollTimer.dispose();
          };
          this.__dragScrollTimer = new qx.event.Timer(50);
          this.__dragScrollTimer.addListener("interval", function(scrollable, axis, amount){

            this._scrollBy(scrollable, axis, amount);
          }.bind(this, scrollable, axis, exceedanceAmount));
          this.__dragScrollTimer.start();
        };
      };
    },
    __onDragend : function(e){

      if(this.__dragScrollTimer){

        this.__dragScrollTimer.stop();
      };
    }
  },
  destruct : function(){

    if(this.__dragScrollTimer){

      this.__dragScrollTimer.dispose();
    };
  }
});

qx.core.Environment.add("qx.nativeScrollBars", false);
qx.Mixin.define("qx.ui.core.scroll.MScrollBarFactory", {
  members : {
    _createScrollBar : function(orientation){

      if(qx.core.Environment.get("qx.nativeScrollBars")){

        return new qx.ui.core.scroll.NativeScrollBar(orientation);
      } else {

        return new qx.ui.core.scroll.ScrollBar(orientation);
      };
    }
  }
});

qx.Interface.define("qx.ui.core.scroll.IScrollBar", {
  events : {
    "scroll" : "qx.event.type.Data",
    "scrollAnimationEnd" : 'qx.event.type.Event'
  },
  properties : {
    orientation : {
    },
    maximum : {
    },
    position : {
    },
    knobFactor : {
    }
  },
  members : {
    scrollTo : function(position, duration){

      this.assertNumber(position);
    },
    scrollBy : function(offset, duration){

      this.assertNumber(offset);
    },
    scrollBySteps : function(steps, duration){

      this.assertNumber(steps);
    }
  }
});

qx.Class.define("qx.ui.core.scroll.NativeScrollBar", {
  extend : qx.ui.core.Widget,
  implement : qx.ui.core.scroll.IScrollBar,
  construct : function(orientation){

    this.base(arguments);
    this.addState("native");
    this.getContentElement().addListener("scroll", this._onScroll, this);
    this.addListener("pointerdown", this._stopPropagation, this);
    this.addListener("pointerup", this._stopPropagation, this);
    this.addListener("pointermove", this._stopPropagation, this);
    this.addListener("appear", this._onAppear, this);
    this.getContentElement().add(this._getScrollPaneElement());
    this.getContentElement().setStyle("box-sizing", "content-box");
    if(orientation != null){

      this.setOrientation(orientation);
    } else {

      this.initOrientation();
    };
    this.addListener("track", function(e){

      e.stopPropagation();
    }, this);
  },
  events : {
    scrollAnimationEnd : 'qx.event.type.Event'
  },
  properties : {
    appearance : {
      refine : true,
      init : "scrollbar"
    },
    orientation : {
      check : ["horizontal", "vertical"],
      init : "horizontal",
      apply : "_applyOrientation"
    },
    maximum : {
      check : "PositiveInteger",
      apply : "_applyMaximum",
      init : 100
    },
    position : {
      check : "Number",
      init : 0,
      apply : "_applyPosition",
      event : "scroll"
    },
    singleStep : {
      check : "Integer",
      init : 20
    },
    knobFactor : {
      check : "PositiveNumber",
      nullable : true
    }
  },
  members : {
    __isHorizontal : null,
    __scrollPaneElement : null,
    __requestId : null,
    __scrollAnimationframe : null,
    _getScrollPaneElement : function(){

      if(!this.__scrollPaneElement){

        this.__scrollPaneElement = new qx.html.Element();
      };
      return this.__scrollPaneElement;
    },
    renderLayout : function(left, top, width, height){

      var changes = this.base(arguments, left, top, width, height);
      this._updateScrollBar();
      return changes;
    },
    _getContentHint : function(){

      var scrollbarWidth = qx.bom.element.Scroll.getScrollbarWidth();
      return {
        width : this.__isHorizontal ? 100 : scrollbarWidth,
        maxWidth : this.__isHorizontal ? null : scrollbarWidth,
        minWidth : this.__isHorizontal ? null : scrollbarWidth,
        height : this.__isHorizontal ? scrollbarWidth : 100,
        maxHeight : this.__isHorizontal ? scrollbarWidth : null,
        minHeight : this.__isHorizontal ? scrollbarWidth : null
      };
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      this._updateScrollBar();
    },
    _applyMaximum : function(value){

      this._updateScrollBar();
    },
    _applyPosition : function(value){

      var content = this.getContentElement();
      if(this.__isHorizontal){

        content.scrollToX(value);
      } else {

        content.scrollToY(value);
      };
    },
    _applyOrientation : function(value, old){

      var isHorizontal = this.__isHorizontal = value === "horizontal";
      this.set({
        allowGrowX : isHorizontal,
        allowShrinkX : isHorizontal,
        allowGrowY : !isHorizontal,
        allowShrinkY : !isHorizontal
      });
      if(isHorizontal){

        this.replaceState("vertical", "horizontal");
      } else {

        this.replaceState("horizontal", "vertical");
      };
      this.getContentElement().setStyles({
        overflowX : isHorizontal ? "scroll" : "hidden",
        overflowY : isHorizontal ? "hidden" : "scroll"
      });
      qx.ui.core.queue.Layout.add(this);
    },
    _updateScrollBar : function(){

      var isHorizontal = this.__isHorizontal;
      var bounds = this.getBounds();
      if(!bounds){

        return;
      };
      if(this.isEnabled()){

        var containerSize = isHorizontal ? bounds.width : bounds.height;
        var innerSize = this.getMaximum() + containerSize;
      } else {

        innerSize = 0;
      };
      if(qx.core.Environment.get("engine.name") == "mshtml"){

        var bounds = this.getBounds();
        this.getContentElement().setStyles({
          left : (isHorizontal ? bounds.left : (bounds.left - 1)) + "px",
          top : (isHorizontal ? (bounds.top - 1) : bounds.top) + "px",
          width : (isHorizontal ? bounds.width : bounds.width + 1) + "px",
          height : (isHorizontal ? bounds.height + 1 : bounds.height) + "px"
        });
      };
      this._getScrollPaneElement().setStyles({
        left : 0,
        top : 0,
        width : (isHorizontal ? innerSize : 1) + "px",
        height : (isHorizontal ? 1 : innerSize) + "px"
      });
      this.updatePosition(this.getPosition());
    },
    scrollTo : function(position, duration){

      this.stopScrollAnimation();
      if(duration){

        var from = this.getPosition();
        this.__scrollAnimationframe = new qx.bom.AnimationFrame();
        this.__scrollAnimationframe.on("frame", function(timePassed){

          var newPos = parseInt(timePassed / duration * (position - from) + from);
          this.updatePosition(newPos);
        }, this);
        this.__scrollAnimationframe.on("end", function(){

          this.setPosition(Math.max(0, Math.min(this.getMaximum(), position)));
          this.__scrollAnimationframe = null;
          this.fireEvent("scrollAnimationEnd");
        }, this);
        this.__scrollAnimationframe.startSequence(duration);
      } else {

        this.updatePosition(position);
      };
    },
    updatePosition : function(position){

      this.setPosition(Math.max(0, Math.min(this.getMaximum(), position)));
    },
    scrollBy : function(offset, duration){

      this.scrollTo(this.getPosition() + offset, duration);
    },
    scrollBySteps : function(steps, duration){

      var size = this.getSingleStep();
      this.scrollBy(steps * size, duration);
    },
    stopScrollAnimation : function(){

      if(this.__scrollAnimationframe){

        this.__scrollAnimationframe.cancelSequence();
        this.__scrollAnimationframe = null;
      };
    },
    _onScroll : function(e){

      var container = this.getContentElement();
      var position = this.__isHorizontal ? container.getScrollX() : container.getScrollY();
      this.setPosition(position);
    },
    _onAppear : function(e){

      this._applyPosition(this.getPosition());
    },
    _stopPropagation : function(e){

      e.stopPropagation();
    }
  },
  destruct : function(){

    this._disposeObjects("__scrollPaneElement");
  }
});

qx.Class.define("qx.ui.core.scroll.ScrollBar", {
  extend : qx.ui.core.Widget,
  implement : qx.ui.core.scroll.IScrollBar,
  construct : function(orientation){

    this.base(arguments);
    this._createChildControl("button-begin");
    this._createChildControl("slider").addListener("resize", this._onResizeSlider, this);
    this._createChildControl("button-end");
    if(orientation != null){

      this.setOrientation(orientation);
    } else {

      this.initOrientation();
    };
    this.addListener("track", function(e){

      e.stopPropagation();
    }, this);
  },
  events : {
    "scrollAnimationEnd" : "qx.event.type.Event"
  },
  properties : {
    appearance : {
      refine : true,
      init : "scrollbar"
    },
    orientation : {
      check : ["horizontal", "vertical"],
      init : "horizontal",
      apply : "_applyOrientation"
    },
    maximum : {
      check : "PositiveInteger",
      apply : "_applyMaximum",
      init : 100
    },
    position : {
      check : "qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getMaximum()",
      init : 0,
      apply : "_applyPosition",
      event : "scroll"
    },
    singleStep : {
      check : "Integer",
      init : 20
    },
    pageStep : {
      check : "Integer",
      init : 10,
      apply : "_applyPageStep"
    },
    knobFactor : {
      check : "PositiveNumber",
      apply : "_applyKnobFactor",
      nullable : true
    }
  },
  members : {
    __offset : 2,
    __originalMinSize : 0,
    _computeSizeHint : function(){

      var hint = this.base(arguments);
      if(this.getOrientation() === "horizontal"){

        this.__originalMinSize = hint.minWidth;
        hint.minWidth = 0;
      } else {

        this.__originalMinSize = hint.minHeight;
        hint.minHeight = 0;
      };
      return hint;
    },
    renderLayout : function(left, top, width, height){

      var changes = this.base(arguments, left, top, width, height);
      var horizontal = this.getOrientation() === "horizontal";
      if(this.__originalMinSize >= (horizontal ? width : height)){

        this.getChildControl("button-begin").setVisibility("hidden");
        this.getChildControl("button-end").setVisibility("hidden");
      } else {

        this.getChildControl("button-begin").setVisibility("visible");
        this.getChildControl("button-end").setVisibility("visible");
      };
      return changes;
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "slider":
      control = new qx.ui.core.scroll.ScrollSlider();
      control.setPageStep(100);
      control.setFocusable(false);
      control.addListener("changeValue", this._onChangeSliderValue, this);
      control.addListener("slideAnimationEnd", this._onSlideAnimationEnd, this);
      this._add(control, {
        flex : 1
      });
      break;case "button-begin":
      control = new qx.ui.form.RepeatButton();
      control.setFocusable(false);
      control.addListener("execute", this._onExecuteBegin, this);
      this._add(control);
      break;case "button-end":
      control = new qx.ui.form.RepeatButton();
      control.setFocusable(false);
      control.addListener("execute", this._onExecuteEnd, this);
      this._add(control);
      break;};
      return control || this.base(arguments, id);
    },
    _applyMaximum : function(value){

      this.getChildControl("slider").setMaximum(value);
    },
    _applyPosition : function(value){

      this.getChildControl("slider").setValue(value);
    },
    _applyKnobFactor : function(value){

      this.getChildControl("slider").setKnobFactor(value);
    },
    _applyPageStep : function(value){

      this.getChildControl("slider").setPageStep(value);
    },
    _applyOrientation : function(value, old){

      var oldLayout = this._getLayout();
      if(oldLayout){

        oldLayout.dispose();
      };
      if(value === "horizontal"){

        this._setLayout(new qx.ui.layout.HBox());
        this.setAllowStretchX(true);
        this.setAllowStretchY(false);
        this.replaceState("vertical", "horizontal");
        this.getChildControl("button-begin").replaceState("up", "left");
        this.getChildControl("button-end").replaceState("down", "right");
      } else {

        this._setLayout(new qx.ui.layout.VBox());
        this.setAllowStretchX(false);
        this.setAllowStretchY(true);
        this.replaceState("horizontal", "vertical");
        this.getChildControl("button-begin").replaceState("left", "up");
        this.getChildControl("button-end").replaceState("right", "down");
      };
      this.getChildControl("slider").setOrientation(value);
    },
    scrollTo : function(position, duration){

      this.getChildControl("slider").slideTo(position, duration);
    },
    scrollBy : function(offset, duration){

      this.getChildControl("slider").slideBy(offset, duration);
    },
    scrollBySteps : function(steps, duration){

      var size = this.getSingleStep();
      this.getChildControl("slider").slideBy(steps * size, duration);
    },
    updatePosition : function(position){

      this.getChildControl("slider").updatePosition(position);
    },
    stopScrollAnimation : function(){

      this.getChildControl("slider").stopSlideAnimation();
    },
    _onExecuteBegin : function(e){

      this.scrollBy(-this.getSingleStep(), 50);
    },
    _onExecuteEnd : function(e){

      this.scrollBy(this.getSingleStep(), 50);
    },
    _onSlideAnimationEnd : function(){

      this.fireEvent("scrollAnimationEnd");
    },
    _onChangeSliderValue : function(e){

      this.setPosition(e.getData());
    },
    _onResizeSlider : function(e){

      var knob = this.getChildControl("slider").getChildControl("knob");
      var knobHint = knob.getSizeHint();
      var hideKnob = false;
      var sliderSize = this.getChildControl("slider").getInnerSize();
      if(this.getOrientation() == "vertical"){

        if(sliderSize.height < knobHint.minHeight + this.__offset){

          hideKnob = true;
        };
      } else {

        if(sliderSize.width < knobHint.minWidth + this.__offset){

          hideKnob = true;
        };
      };
      if(hideKnob){

        knob.exclude();
      } else {

        knob.show();
      };
    }
  }
});

qx.Interface.define("qx.ui.form.IRange", {
  members : {
    setMinimum : function(min){

      return arguments.length == 1;
    },
    getMinimum : function(){
    },
    setMaximum : function(max){

      return arguments.length == 1;
    },
    getMaximum : function(){
    },
    setSingleStep : function(step){

      return arguments.length == 1;
    },
    getSingleStep : function(){
    },
    setPageStep : function(step){

      return arguments.length == 1;
    },
    getPageStep : function(){
    }
  }
});

qx.Interface.define("qx.ui.form.INumberForm", {
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    setValue : function(value){

      return arguments.length == 1;
    },
    resetValue : function(){
    },
    getValue : function(){
    }
  }
});

qx.Class.define("qx.ui.form.Slider", {
  extend : qx.ui.core.Widget,
  implement : [qx.ui.form.IForm, qx.ui.form.INumberForm, qx.ui.form.IRange],
  include : [qx.ui.form.MForm],
  construct : function(orientation){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.Canvas());
    this.addListener("keypress", this._onKeyPress);
    this.addListener("roll", this._onRoll);
    this.addListener("pointerdown", this._onPointerDown);
    this.addListener("pointerup", this._onPointerUp);
    this.addListener("losecapture", this._onPointerUp);
    this.addListener("resize", this._onUpdate);
    this.addListener("contextmenu", this._onStopEvent);
    this.addListener("tap", this._onStopEvent);
    this.addListener("dbltap", this._onStopEvent);
    if(orientation != null){

      this.setOrientation(orientation);
    } else {

      this.initOrientation();
    };
  },
  events : {
    changeValue : 'qx.event.type.Data',
    slideAnimationEnd : 'qx.event.type.Event'
  },
  properties : {
    appearance : {
      refine : true,
      init : "slider"
    },
    focusable : {
      refine : true,
      init : true
    },
    orientation : {
      check : ["horizontal", "vertical"],
      init : "horizontal",
      apply : "_applyOrientation"
    },
    value : {
      check : "typeof value==='number'&&value>=this.getMinimum()&&value<=this.getMaximum()",
      init : 0,
      apply : "_applyValue",
      nullable : true
    },
    minimum : {
      check : "Integer",
      init : 0,
      apply : "_applyMinimum",
      event : "changeMinimum"
    },
    maximum : {
      check : "Integer",
      init : 100,
      apply : "_applyMaximum",
      event : "changeMaximum"
    },
    singleStep : {
      check : "Integer",
      init : 1
    },
    pageStep : {
      check : "Integer",
      init : 10
    },
    knobFactor : {
      check : "Number",
      apply : "_applyKnobFactor",
      nullable : true
    }
  },
  members : {
    __sliderLocation : null,
    __knobLocation : null,
    __knobSize : null,
    __dragMode : null,
    __dragOffset : null,
    __trackingMode : null,
    __trackingDirection : null,
    __trackingEnd : null,
    __timer : null,
    __dragTimer : null,
    __lastValueEvent : null,
    __dragValue : null,
    __scrollAnimationframe : null,
    _forwardStates : {
      invalid : true
    },
    renderLayout : function(left, top, width, height){

      this.base(arguments, left, top, width, height);
      this._updateKnobPosition();
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "knob":
      control = new qx.ui.core.Widget();
      control.addListener("resize", this._onUpdate, this);
      control.addListener("pointerover", this._onPointerOver);
      control.addListener("pointerout", this._onPointerOut);
      this._add(control);
      break;};
      return control || this.base(arguments, id);
    },
    _onPointerOver : function(e){

      this.addState("hovered");
    },
    _onPointerOut : function(e){

      this.removeState("hovered");
    },
    _onRoll : function(e){

      if(e.getPointerType() != "wheel"){

        return;
      };
      var axis = this.getOrientation() === "horizontal" ? "x" : "y";
      var delta = e.getDelta()[axis];
      var direction = delta > 0 ? 1 : delta < 0 ? -1 : 0;
      this.slideBy(direction * this.getSingleStep());
      e.stop();
    },
    _onKeyPress : function(e){

      var isHorizontal = this.getOrientation() === "horizontal";
      var backward = isHorizontal ? "Left" : "Up";
      var forward = isHorizontal ? "Right" : "Down";
      switch(e.getKeyIdentifier()){case forward:
      this.slideForward();
      break;case backward:
      this.slideBack();
      break;case "PageDown":
      this.slidePageForward(100);
      break;case "PageUp":
      this.slidePageBack(100);
      break;case "Home":
      this.slideToBegin(200);
      break;case "End":
      this.slideToEnd(200);
      break;default:
      return;};
      e.stop();
    },
    _onPointerDown : function(e){

      if(this.__dragMode){

        return;
      };
      var isHorizontal = this.__isHorizontal;
      var knob = this.getChildControl("knob");
      var locationProperty = isHorizontal ? "left" : "top";
      var cursorLocation = isHorizontal ? e.getDocumentLeft() : e.getDocumentTop();
      var decorator = this.getDecorator();
      decorator = qx.theme.manager.Decoration.getInstance().resolve(decorator);
      if(isHorizontal){

        var decoratorPadding = decorator ? decorator.getInsets().left : 0;
        var padding = (this.getPaddingLeft() || 0) + decoratorPadding;
      } else {

        var decoratorPadding = decorator ? decorator.getInsets().top : 0;
        var padding = (this.getPaddingTop() || 0) + decoratorPadding;
      };
      var sliderLocation = this.__sliderLocation = qx.bom.element.Location.get(this.getContentElement().getDomElement())[locationProperty];
      sliderLocation += padding;
      var knobLocation = this.__knobLocation = qx.bom.element.Location.get(knob.getContentElement().getDomElement())[locationProperty];
      if(e.getTarget() === knob){

        this.__dragMode = true;
        if(!this.__dragTimer){

          this.__dragTimer = new qx.event.Timer(100);
          this.__dragTimer.addListener("interval", this._fireValue, this);
        };
        this.__dragTimer.start();
        this.__dragOffset = cursorLocation + sliderLocation - knobLocation;
        knob.addState("pressed");
      } else {

        this.__trackingMode = true;
        this.__trackingDirection = cursorLocation <= knobLocation ? -1 : 1;
        this.__computeTrackingEnd(e);
        this._onInterval();
        if(!this.__timer){

          this.__timer = new qx.event.Timer(100);
          this.__timer.addListener("interval", this._onInterval, this);
        };
        this.__timer.start();
      };
      this.addListener("pointermove", this._onPointerMove);
      this.capture();
      e.stopPropagation();
    },
    _onPointerUp : function(e){

      if(this.__dragMode){

        this.releaseCapture();
        delete this.__dragMode;
        this.__dragTimer.stop();
        this._fireValue();
        delete this.__dragOffset;
        this.getChildControl("knob").removeState("pressed");
        if(e.getType() === "pointerup"){

          var deltaSlider;
          var deltaPosition;
          var positionSlider;
          if(this.__isHorizontal){

            deltaSlider = e.getDocumentLeft() - (this._valueToPosition(this.getValue()) + this.__sliderLocation);
            positionSlider = qx.bom.element.Location.get(this.getContentElement().getDomElement())["top"];
            deltaPosition = e.getDocumentTop() - (positionSlider + this.getChildControl("knob").getBounds().top);
          } else {

            deltaSlider = e.getDocumentTop() - (this._valueToPosition(this.getValue()) + this.__sliderLocation);
            positionSlider = qx.bom.element.Location.get(this.getContentElement().getDomElement())["left"];
            deltaPosition = e.getDocumentLeft() - (positionSlider + this.getChildControl("knob").getBounds().left);
          };
          if(deltaPosition < 0 || deltaPosition > this.__knobSize || deltaSlider < 0 || deltaSlider > this.__knobSize){

            this.getChildControl("knob").removeState("hovered");
          };
        };
      } else if(this.__trackingMode){

        this.__timer.stop();
        this.releaseCapture();
        delete this.__trackingMode;
        delete this.__trackingDirection;
        delete this.__trackingEnd;
      };
      this.removeListener("pointermove", this._onPointerMove);
      if(e.getType() === "pointerup"){

        e.stopPropagation();
      };
    },
    _onPointerMove : function(e){

      if(this.__dragMode){

        var dragStop = this.__isHorizontal ? e.getDocumentLeft() : e.getDocumentTop();
        var position = dragStop - this.__dragOffset;
        this.slideTo(this._positionToValue(position));
      } else if(this.__trackingMode){

        this.__computeTrackingEnd(e);
      };
      e.stopPropagation();
    },
    _onInterval : function(e){

      var value = this.getValue() + (this.__trackingDirection * this.getPageStep());
      if(value < this.getMinimum()){

        value = this.getMinimum();
      } else if(value > this.getMaximum()){

        value = this.getMaximum();
      };
      var slideBack = this.__trackingDirection == -1;
      if((slideBack && value <= this.__trackingEnd) || (!slideBack && value >= this.__trackingEnd)){

        value = this.__trackingEnd;
      };
      this.slideTo(value);
    },
    _onUpdate : function(e){

      var availSize = this.getInnerSize();
      var knobSize = this.getChildControl("knob").getBounds();
      var sizeProperty = this.__isHorizontal ? "width" : "height";
      this._updateKnobSize();
      this.__slidingSpace = availSize[sizeProperty] - knobSize[sizeProperty];
      this.__knobSize = knobSize[sizeProperty];
      this._updateKnobPosition();
    },
    __isHorizontal : false,
    __slidingSpace : 0,
    __computeTrackingEnd : function(e){

      var isHorizontal = this.__isHorizontal;
      var cursorLocation = isHorizontal ? e.getDocumentLeft() : e.getDocumentTop();
      var sliderLocation = this.__sliderLocation;
      var knobLocation = this.__knobLocation;
      var knobSize = this.__knobSize;
      var position = cursorLocation - sliderLocation;
      if(cursorLocation >= knobLocation){

        position -= knobSize;
      };
      var value = this._positionToValue(position);
      var min = this.getMinimum();
      var max = this.getMaximum();
      if(value < min){

        value = min;
      } else if(value > max){

        value = max;
      } else {

        var old = this.getValue();
        var step = this.getPageStep();
        var method = this.__trackingDirection < 0 ? "floor" : "ceil";
        value = old + (Math[method]((value - old) / step) * step);
      };
      if(this.__trackingEnd == null || (this.__trackingDirection == -1 && value <= this.__trackingEnd) || (this.__trackingDirection == 1 && value >= this.__trackingEnd)){

        this.__trackingEnd = value;
      };
    },
    _positionToValue : function(position){

      var avail = this.__slidingSpace;
      if(avail == null || avail == 0){

        return 0;
      };
      var percent = position / avail;
      if(percent < 0){

        percent = 0;
      } else if(percent > 1){

        percent = 1;
      };
      var range = this.getMaximum() - this.getMinimum();
      return this.getMinimum() + Math.round(range * percent);
    },
    _valueToPosition : function(value){

      var avail = this.__slidingSpace;
      if(avail == null){

        return 0;
      };
      var range = this.getMaximum() - this.getMinimum();
      if(range == 0){

        return 0;
      };
      var value = value - this.getMinimum();
      var percent = value / range;
      if(percent < 0){

        percent = 0;
      } else if(percent > 1){

        percent = 1;
      };
      return Math.round(avail * percent);
    },
    _updateKnobPosition : function(){

      this._setKnobPosition(this._valueToPosition(this.getValue()));
    },
    _setKnobPosition : function(position){

      var knob = this.getChildControl("knob");
      var dec = this.getDecorator();
      dec = qx.theme.manager.Decoration.getInstance().resolve(dec);
      var content = knob.getContentElement();
      if(this.__isHorizontal){

        if(dec && dec.getPadding()){

          position += dec.getPadding().left;
        };
        position += this.getPaddingLeft() || 0;
        content.setStyle("left", position + "px", true);
      } else {

        if(dec && dec.getPadding()){

          position += dec.getPadding().top;
        };
        position += this.getPaddingTop() || 0;
        content.setStyle("top", position + "px", true);
      };
    },
    _updateKnobSize : function(){

      var knobFactor = this.getKnobFactor();
      if(knobFactor == null){

        return;
      };
      var avail = this.getInnerSize();
      if(avail == null){

        return;
      };
      if(this.__isHorizontal){

        this.getChildControl("knob").setWidth(Math.round(knobFactor * avail.width));
      } else {

        this.getChildControl("knob").setHeight(Math.round(knobFactor * avail.height));
      };
    },
    slideToBegin : function(duration){

      this.slideTo(this.getMinimum(), duration);
    },
    slideToEnd : function(duration){

      this.slideTo(this.getMaximum(), duration);
    },
    slideForward : function(){

      this.slideBy(this.getSingleStep());
    },
    slideBack : function(){

      this.slideBy(-this.getSingleStep());
    },
    slidePageForward : function(duration){

      this.slideBy(this.getPageStep(), duration);
    },
    slidePageBack : function(duration){

      this.slideBy(-this.getPageStep(), duration);
    },
    slideBy : function(offset, duration){

      this.slideTo(this.getValue() + offset, duration);
    },
    slideTo : function(value, duration){

      this.stopSlideAnimation();
      if(duration){

        this.__animateTo(value, duration);
      } else {

        this.updatePosition(value);
      };
    },
    updatePosition : function(value){

      this.setValue(this.__normalizeValue(value));
    },
    stopSlideAnimation : function(){

      if(this.__scrollAnimationframe){

        this.__scrollAnimationframe.cancelSequence();
        this.__scrollAnimationframe = null;
      };
    },
    __normalizeValue : function(value){

      if(value < this.getMinimum()){

        value = this.getMinimum();
      } else if(value > this.getMaximum()){

        value = this.getMaximum();
      } else {

        value = this.getMinimum() + Math.round((value - this.getMinimum()) / this.getSingleStep()) * this.getSingleStep();
      };
      return value;
    },
    __animateTo : function(to, duration){

      to = this.__normalizeValue(to);
      var from = this.getValue();
      this.__scrollAnimationframe = new qx.bom.AnimationFrame();
      this.__scrollAnimationframe.on("frame", function(timePassed){

        this.setValue(parseInt(timePassed / duration * (to - from) + from));
      }, this);
      this.__scrollAnimationframe.on("end", function(){

        this.setValue(to);
        this.__scrollAnimationframe = null;
        this.fireEvent("slideAnimationEnd");
      }, this);
      this.__scrollAnimationframe.startSequence(duration);
    },
    _applyOrientation : function(value, old){

      var knob = this.getChildControl("knob");
      this.__isHorizontal = value === "horizontal";
      if(this.__isHorizontal){

        this.removeState("vertical");
        knob.removeState("vertical");
        this.addState("horizontal");
        knob.addState("horizontal");
        knob.setLayoutProperties({
          top : 0,
          right : null,
          bottom : 0
        });
      } else {

        this.removeState("horizontal");
        knob.removeState("horizontal");
        this.addState("vertical");
        knob.addState("vertical");
        knob.setLayoutProperties({
          right : 0,
          bottom : null,
          left : 0
        });
      };
      this._updateKnobPosition();
    },
    _applyKnobFactor : function(value, old){

      if(value != null){

        this._updateKnobSize();
      } else {

        if(this.__isHorizontal){

          this.getChildControl("knob").resetWidth();
        } else {

          this.getChildControl("knob").resetHeight();
        };
      };
    },
    _applyValue : function(value, old){

      if(value != null){

        this._updateKnobPosition();
        if(this.__dragMode){

          this.__dragValue = [value, old];
        } else {

          this.fireEvent("changeValue", qx.event.type.Data, [value, old]);
        };
      } else {

        this.resetValue();
      };
    },
    _fireValue : function(){

      if(!this.__dragValue){

        return;
      };
      var tmp = this.__dragValue;
      this.__dragValue = null;
      this.fireEvent("changeValue", qx.event.type.Data, tmp);
    },
    _applyMinimum : function(value, old){

      if(this.getValue() < value){

        this.setValue(value);
      };
      this._updateKnobPosition();
    },
    _applyMaximum : function(value, old){

      if(this.getValue() > value){

        this.setValue(value);
      };
      this._updateKnobPosition();
    }
  }
});

qx.Class.define("qx.ui.layout.Canvas", {
  extend : qx.ui.layout.Abstract,
  properties : {
    desktop : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        var layoutProperties = {
          top : 1,
          left : 1,
          bottom : 1,
          right : 1,
          width : 1,
          height : 1,
          edge : 1
        };
        this.assert(layoutProperties[name] == 1, "The property '" + name + "' is not supported by the Canvas layout!");
        if(name == "width" || name == "height"){

          this.assertMatch(value, qx.ui.layout.Util.PERCENT_VALUE);
        } else {

          if(typeof value === "number"){

            this.assertInteger(value);
          } else if(qx.lang.Type.isString(value)){

            this.assertMatch(value, qx.ui.layout.Util.PERCENT_VALUE);
          } else {

            this.fail("Bad format of layout property '" + name + "': " + value + ". The value must be either an integer or an percent string.");
          };
        };
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      var child,size,props;
      var left,top,right,bottom,width,height;
      var marginTop,marginRight,marginBottom,marginLeft;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        size = child.getSizeHint();
        props = child.getLayoutProperties();
        marginTop = child.getMarginTop();
        marginRight = child.getMarginRight();
        marginBottom = child.getMarginBottom();
        marginLeft = child.getMarginLeft();
        left = props.left != null ? props.left : props.edge;
        if(qx.lang.Type.isString(left)){

          left = Math.round(parseFloat(left) * availWidth / 100);
        };
        right = props.right != null ? props.right : props.edge;
        if(qx.lang.Type.isString(right)){

          right = Math.round(parseFloat(right) * availWidth / 100);
        };
        top = props.top != null ? props.top : props.edge;
        if(qx.lang.Type.isString(top)){

          top = Math.round(parseFloat(top) * availHeight / 100);
        };
        bottom = props.bottom != null ? props.bottom : props.edge;
        if(qx.lang.Type.isString(bottom)){

          bottom = Math.round(parseFloat(bottom) * availHeight / 100);
        };
        if(left != null && right != null){

          width = availWidth - left - right - marginLeft - marginRight;
          if(width < size.minWidth){

            width = size.minWidth;
          } else if(width > size.maxWidth){

            width = size.maxWidth;
          };
          left += marginLeft;
        } else {

          width = props.width;
          if(width == null){

            width = size.width;
          } else {

            width = Math.round(parseFloat(width) * availWidth / 100);
            if(width < size.minWidth){

              width = size.minWidth;
            } else if(width > size.maxWidth){

              width = size.maxWidth;
            };
          };
          if(right != null){

            left = availWidth - width - right - marginRight - marginLeft;
          } else if(left == null){

            left = marginLeft;
          } else {

            left += marginLeft;
          };
        };
        if(top != null && bottom != null){

          height = availHeight - top - bottom - marginTop - marginBottom;
          if(height < size.minHeight){

            height = size.minHeight;
          } else if(height > size.maxHeight){

            height = size.maxHeight;
          };
          top += marginTop;
        } else {

          height = props.height;
          if(height == null){

            height = size.height;
          } else {

            height = Math.round(parseFloat(height) * availHeight / 100);
            if(height < size.minHeight){

              height = size.minHeight;
            } else if(height > size.maxHeight){

              height = size.maxHeight;
            };
          };
          if(bottom != null){

            top = availHeight - height - bottom - marginBottom - marginTop;
          } else if(top == null){

            top = marginTop;
          } else {

            top += marginTop;
          };
        };
        left += padding.left;
        top += padding.top;
        child.renderLayout(left, top, width, height);
      };
    },
    _computeSizeHint : function(){

      var neededWidth = 0,neededMinWidth = 0;
      var neededHeight = 0,neededMinHeight = 0;
      var width,minWidth;
      var height,minHeight;
      var children = this._getLayoutChildren();
      var child,props,hint;
      var desktop = this.isDesktop();
      var left,top,right,bottom;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        props = child.getLayoutProperties();
        hint = child.getSizeHint();
        var marginX = child.getMarginLeft() + child.getMarginRight();
        var marginY = child.getMarginTop() + child.getMarginBottom();
        width = hint.width + marginX;
        minWidth = hint.minWidth + marginX;
        left = props.left != null ? props.left : props.edge;
        if(left && typeof left === "number"){

          width += left;
          minWidth += left;
        };
        right = props.right != null ? props.right : props.edge;
        if(right && typeof right === "number"){

          width += right;
          minWidth += right;
        };
        neededWidth = Math.max(neededWidth, width);
        neededMinWidth = desktop ? 0 : Math.max(neededMinWidth, minWidth);
        height = hint.height + marginY;
        minHeight = hint.minHeight + marginY;
        top = props.top != null ? props.top : props.edge;
        if(top && typeof top === "number"){

          height += top;
          minHeight += top;
        };
        bottom = props.bottom != null ? props.bottom : props.edge;
        if(bottom && typeof bottom === "number"){

          height += bottom;
          minHeight += bottom;
        };
        neededHeight = Math.max(neededHeight, height);
        neededMinHeight = desktop ? 0 : Math.max(neededMinHeight, minHeight);
      };
      return {
        width : neededWidth,
        minWidth : neededMinWidth,
        height : neededHeight,
        minHeight : neededMinHeight
      };
    }
  }
});

qx.Class.define("qx.ui.core.scroll.ScrollSlider", {
  extend : qx.ui.form.Slider,
  construct : function(orientation){

    this.base(arguments, orientation);
    this.removeListener("keypress", this._onKeyPress);
    this.removeListener("roll", this._onRoll);
  },
  members : {
    getSizeHint : function(compute){

      var hint = this.base(arguments);
      if(this.getOrientation() === "horizontal"){

        hint.width = 0;
      } else {

        hint.height = 0;
      };
      return hint;
    }
  }
});

qx.Mixin.define("qx.ui.core.MExecutable", {
  events : {
    "execute" : "qx.event.type.Event"
  },
  properties : {
    command : {
      check : "qx.ui.core.Command",
      apply : "_applyCommand",
      event : "changeCommand",
      nullable : true
    }
  },
  members : {
    __executableBindingIds : null,
    __semaphore : false,
    __executeListenerId : null,
    _bindableProperties : ["enabled", "label", "icon", "toolTipText", "value", "menu"],
    execute : function(){

      var cmd = this.getCommand();
      if(cmd){

        if(this.__semaphore){

          this.__semaphore = false;
        } else {

          this.__semaphore = true;
          cmd.execute(this);
        };
      };
      this.fireEvent("execute");
    },
    __onCommandExecute : function(e){

      if(this.__semaphore){

        this.__semaphore = false;
        return;
      };
      this.__semaphore = true;
      this.execute();
    },
    _applyCommand : function(value, old){

      if(old != null){

        old.removeListenerById(this.__executeListenerId);
      };
      if(value != null){

        this.__executeListenerId = value.addListener("execute", this.__onCommandExecute, this);
      };
      var ids = this.__executableBindingIds;
      if(ids == null){

        this.__executableBindingIds = ids = {
        };
      };
      var selfPropertyValue;
      for(var i = 0;i < this._bindableProperties.length;i++){

        var property = this._bindableProperties[i];
        if(old != null && !old.isDisposed() && ids[property] != null){

          old.removeBinding(ids[property]);
          ids[property] = null;
        };
        if(value != null && qx.Class.hasProperty(this.constructor, property)){

          var cmdPropertyValue = value.get(property);
          if(cmdPropertyValue == null){

            selfPropertyValue = this.get(property);
            if(selfPropertyValue == null){

              this.syncAppearance();
              selfPropertyValue = qx.util.PropertyUtil.getThemeValue(this, property);
            };
          } else {

            selfPropertyValue = null;
          };
          ids[property] = value.bind(property, this, property);
          if(selfPropertyValue){

            this.set(property, selfPropertyValue);
          };
        };
      };
    }
  },
  destruct : function(){

    this._applyCommand(null, this.getCommand());
    this.__executableBindingIds = null;
  }
});

qx.Class.define("qx.ui.basic.Atom", {
  extend : qx.ui.core.Widget,
  construct : function(label, icon){

    if(qx.core.Environment.get("qx.debug")){

      this.assertArgumentsCount(arguments, 0, 2);
    };
    this.base(arguments);
    this._setLayout(new qx.ui.layout.Atom());
    if(label != null){

      this.setLabel(label);
    };
    if(icon !== undefined){

      this.setIcon(icon);
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "atom"
    },
    label : {
      apply : "_applyLabel",
      nullable : true,
      check : "String",
      event : "changeLabel"
    },
    rich : {
      check : "Boolean",
      init : false,
      apply : "_applyRich"
    },
    icon : {
      check : "String",
      apply : "_applyIcon",
      nullable : true,
      themeable : true,
      event : "changeIcon"
    },
    gap : {
      check : "Integer",
      nullable : false,
      event : "changeGap",
      apply : "_applyGap",
      themeable : true,
      init : 4
    },
    show : {
      init : "both",
      check : ["both", "label", "icon"],
      themeable : true,
      inheritable : true,
      apply : "_applyShow",
      event : "changeShow"
    },
    iconPosition : {
      init : "left",
      check : ["top", "right", "bottom", "left", "top-left", "bottom-left", "top-right", "bottom-right"],
      themeable : true,
      apply : "_applyIconPosition"
    },
    center : {
      init : false,
      check : "Boolean",
      themeable : true,
      apply : "_applyCenter"
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "label":
      control = new qx.ui.basic.Label(this.getLabel());
      control.setAnonymous(true);
      control.setRich(this.getRich());
      this._add(control);
      if(this.getLabel() == null || this.getShow() === "icon"){

        control.exclude();
      };
      break;case "icon":
      control = new qx.ui.basic.Image(this.getIcon());
      control.setAnonymous(true);
      this._addAt(control, 0);
      if(this.getIcon() == null || this.getShow() === "label"){

        control.exclude();
      };
      break;};
      return control || this.base(arguments, id);
    },
    _forwardStates : {
      focused : true,
      hovered : true
    },
    _handleLabel : function(){

      if(this.getLabel() == null || this.getShow() === "icon"){

        this._excludeChildControl("label");
      } else {

        this._showChildControl("label");
      };
    },
    _handleIcon : function(){

      if(this.getIcon() == null || this.getShow() === "label"){

        this._excludeChildControl("icon");
      } else {

        this._showChildControl("icon");
      };
    },
    _applyLabel : function(value, old){

      var label = this.getChildControl("label", true);
      if(label){

        label.setValue(value);
      };
      this._handleLabel();
    },
    _applyRich : function(value, old){

      var label = this.getChildControl("label", true);
      if(label){

        label.setRich(value);
      };
    },
    _applyIcon : function(value, old){

      var icon = this.getChildControl("icon", true);
      if(icon){

        icon.setSource(value);
      };
      this._handleIcon();
    },
    _applyGap : function(value, old){

      this._getLayout().setGap(value);
    },
    _applyShow : function(value, old){

      this._handleLabel();
      this._handleIcon();
    },
    _applyIconPosition : function(value, old){

      this._getLayout().setIconPosition(value);
    },
    _applyCenter : function(value, old){

      this._getLayout().setCenter(value);
    },
    _applySelectable : function(value, old){

      this.base(arguments, value, old);
      var label = this.getChildControl("label", true);
      if(label){

        this.getChildControl("label").setSelectable(value);
      };
    }
  }
});

qx.Interface.define("qx.ui.form.IExecutable", {
  events : {
    "execute" : "qx.event.type.Data"
  },
  members : {
    setCommand : function(command){

      return arguments.length == 1;
    },
    getCommand : function(){
    },
    execute : function(){
    }
  }
});

qx.Class.define("qx.ui.form.Button", {
  extend : qx.ui.basic.Atom,
  include : [qx.ui.core.MExecutable],
  implement : [qx.ui.form.IExecutable],
  construct : function(label, icon, command){

    this.base(arguments, label, icon);
    if(command != null){

      this.setCommand(command);
    };
    this.addListener("pointerover", this._onPointerOver);
    this.addListener("pointerout", this._onPointerOut);
    this.addListener("pointerdown", this._onPointerDown);
    this.addListener("pointerup", this._onPointerUp);
    this.addListener("tap", this._onTap);
    this.addListener("keydown", this._onKeyDown);
    this.addListener("keyup", this._onKeyUp);
    this.addListener("dbltap", this._onStopEvent);
  },
  properties : {
    appearance : {
      refine : true,
      init : "button"
    },
    focusable : {
      refine : true,
      init : true
    }
  },
  members : {
    _forwardStates : {
      focused : true,
      hovered : true,
      pressed : true,
      disabled : true
    },
    press : function(){

      if(this.hasState("abandoned")){

        return;
      };
      this.addState("pressed");
    },
    release : function(){

      if(this.hasState("pressed")){

        this.removeState("pressed");
      };
    },
    reset : function(){

      this.removeState("pressed");
      this.removeState("abandoned");
      this.removeState("hovered");
    },
    _onPointerOver : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      if(this.hasState("abandoned")){

        this.removeState("abandoned");
        this.addState("pressed");
      };
      this.addState("hovered");
    },
    _onPointerOut : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      this.removeState("hovered");
      if(this.hasState("pressed")){

        this.removeState("pressed");
        this.addState("abandoned");
      };
    },
    _onPointerDown : function(e){

      if(!e.isLeftPressed()){

        return;
      };
      e.stopPropagation();
      this.capture();
      this.removeState("abandoned");
      this.addState("pressed");
    },
    _onPointerUp : function(e){

      this.releaseCapture();
      var hasPressed = this.hasState("pressed");
      var hasAbandoned = this.hasState("abandoned");
      if(hasPressed){

        this.removeState("pressed");
      };
      if(hasAbandoned){

        this.removeState("abandoned");
      };
      e.stopPropagation();
    },
    _onTap : function(e){

      this.execute();
      e.stopPropagation();
    },
    _onKeyDown : function(e){

      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      this.removeState("abandoned");
      this.addState("pressed");
      e.stopPropagation();};
    },
    _onKeyUp : function(e){

      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      if(this.hasState("pressed")){

        this.removeState("abandoned");
        this.removeState("pressed");
        this.execute();
        e.stopPropagation();
      };};
    }
  }
});

qx.Class.define("qx.ui.form.RepeatButton", {
  extend : qx.ui.form.Button,
  construct : function(label, icon){

    this.base(arguments, label, icon);
    this.__timer = new qx.event.AcceleratingTimer();
    this.__timer.addListener("interval", this._onInterval, this);
  },
  events : {
    "execute" : "qx.event.type.Event",
    "press" : "qx.event.type.Event",
    "release" : "qx.event.type.Event"
  },
  properties : {
    interval : {
      check : "Integer",
      init : 100
    },
    firstInterval : {
      check : "Integer",
      init : 500
    },
    minTimer : {
      check : "Integer",
      init : 20
    },
    timerDecrease : {
      check : "Integer",
      init : 2
    }
  },
  members : {
    __executed : null,
    __timer : null,
    press : function(){

      if(this.isEnabled()){

        if(!this.hasState("pressed")){

          this.__startInternalTimer();
        };
        this.removeState("abandoned");
        this.addState("pressed");
      };
    },
    release : function(fireExecuteEvent){

      if(!this.isEnabled()){

        return;
      };
      if(this.hasState("pressed")){

        if(!this.__executed){

          this.execute();
        };
      };
      this.removeState("pressed");
      this.removeState("abandoned");
      this.__stopInternalTimer();
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      if(!value){

        if(this.isCapturing()){

          this.releaseCapture();
        };
        this.removeState("pressed");
        this.removeState("abandoned");
        this.__stopInternalTimer();
      };
    },
    _onPointerOver : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      if(this.hasState("abandoned")){

        this.removeState("abandoned");
        this.addState("pressed");
        this.__timer.start();
      };
      this.addState("hovered");
    },
    _onPointerOut : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      this.removeState("hovered");
      if(this.hasState("pressed")){

        this.removeState("pressed");
        this.addState("abandoned");
        this.__timer.stop();
      };
    },
    _onPointerDown : function(e){

      if(!e.isLeftPressed()){

        return;
      };
      this.capture();
      this.__startInternalTimer();
      e.stopPropagation();
    },
    _onPointerUp : function(e){

      this.releaseCapture();
      if(!this.hasState("abandoned")){

        this.addState("hovered");
        if(this.hasState("pressed") && !this.__executed){

          this.execute();
        };
      };
      this.__stopInternalTimer();
      e.stopPropagation();
    },
    _onTap : function(e){
    },
    _onKeyUp : function(e){

      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      if(this.hasState("pressed")){

        if(!this.__executed){

          this.execute();
        };
        this.removeState("pressed");
        this.removeState("abandoned");
        e.stopPropagation();
        this.__stopInternalTimer();
      };};
    },
    _onKeyDown : function(e){

      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      this.removeState("abandoned");
      this.addState("pressed");
      e.stopPropagation();
      this.__startInternalTimer();};
    },
    _onInterval : function(e){

      this.__executed = true;
      this.fireEvent("execute");
    },
    __startInternalTimer : function(){

      this.fireEvent("press");
      this.__executed = false;
      this.__timer.set({
        interval : this.getInterval(),
        firstInterval : this.getFirstInterval(),
        minimum : this.getMinTimer(),
        decrease : this.getTimerDecrease()
      }).start();
      this.removeState("abandoned");
      this.addState("pressed");
    },
    __stopInternalTimer : function(){

      this.fireEvent("release");
      this.__timer.stop();
      this.removeState("abandoned");
      this.removeState("pressed");
    }
  },
  destruct : function(){

    this._disposeObjects("__timer");
  }
});

qx.Class.define("qx.event.AcceleratingTimer", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__timer = new qx.event.Timer(this.getInterval());
    this.__timer.addListener("interval", this._onInterval, this);
  },
  events : {
    "interval" : "qx.event.type.Event"
  },
  properties : {
    interval : {
      check : "Integer",
      init : 100
    },
    firstInterval : {
      check : "Integer",
      init : 500
    },
    minimum : {
      check : "Integer",
      init : 20
    },
    decrease : {
      check : "Integer",
      init : 2
    }
  },
  members : {
    __timer : null,
    __currentInterval : null,
    start : function(){

      this.__timer.setInterval(this.getFirstInterval());
      this.__timer.start();
    },
    stop : function(){

      this.__timer.stop();
      this.__currentInterval = null;
    },
    _onInterval : function(){

      this.__timer.stop();
      if(this.__currentInterval == null){

        this.__currentInterval = this.getInterval();
      };
      this.__currentInterval = Math.max(this.getMinimum(), this.__currentInterval - this.getDecrease());
      this.__timer.setInterval(this.__currentInterval);
      this.__timer.start();
      this.fireEvent("interval");
    }
  },
  destruct : function(){

    this._disposeObjects("__timer");
  }
});

qx.Class.define("qx.ui.layout.HBox", {
  extend : qx.ui.layout.Abstract,
  construct : function(spacing, alignX, separator){

    this.base(arguments);
    if(spacing){

      this.setSpacing(spacing);
    };
    if(alignX){

      this.setAlignX(alignX);
    };
    if(separator){

      this.setSeparator(separator);
    };
  },
  properties : {
    alignX : {
      check : ["left", "center", "right"],
      init : "left",
      apply : "_applyLayoutChange"
    },
    alignY : {
      check : ["top", "middle", "bottom"],
      init : "top",
      apply : "_applyLayoutChange"
    },
    spacing : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    separator : {
      check : "Decorator",
      nullable : true,
      apply : "_applyLayoutChange"
    },
    reversed : {
      check : "Boolean",
      init : false,
      apply : "_applyReversed"
    }
  },
  members : {
    __widths : null,
    __flexs : null,
    __enableFlex : null,
    __children : null,
    _applyReversed : function(){

      this._invalidChildrenCache = true;
      this._applyLayoutChange();
    },
    __rebuildCache : function(){

      var children = this._getLayoutChildren();
      var length = children.length;
      var enableFlex = false;
      var reuse = this.__widths && this.__widths.length != length && this.__flexs && this.__widths;
      var props;
      var widths = reuse ? this.__widths : new Array(length);
      var flexs = reuse ? this.__flexs : new Array(length);
      if(this.getReversed()){

        children = children.concat().reverse();
      };
      for(var i = 0;i < length;i++){

        props = children[i].getLayoutProperties();
        if(props.width != null){

          widths[i] = parseFloat(props.width) / 100;
        };
        if(props.flex != null){

          flexs[i] = props.flex;
          enableFlex = true;
        } else {

          flexs[i] = 0;
        };
      };
      if(!reuse){

        this.__widths = widths;
        this.__flexs = flexs;
      };
      this.__enableFlex = enableFlex;
      this.__children = children;
      delete this._invalidChildrenCache;
    },
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(name === "flex" || name === "width", "The property '" + name + "' is not supported by the HBox layout!");
        if(name == "width"){

          this.assertMatch(value, qx.ui.layout.Util.PERCENT_VALUE);
        } else {

          this.assertNumber(value);
          this.assert(value >= 0);
        };
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      if(this._invalidChildrenCache){

        this.__rebuildCache();
      };
      var children = this.__children;
      var length = children.length;
      var util = qx.ui.layout.Util;
      var spacing = this.getSpacing();
      var separator = this.getSeparator();
      if(separator){

        var gaps = util.computeHorizontalSeparatorGaps(children, spacing, separator);
      } else {

        var gaps = util.computeHorizontalGaps(children, spacing, true);
      };
      var i,child,width,percent;
      var widths = [];
      var allocatedWidth = gaps;
      for(i = 0;i < length;i += 1){

        percent = this.__widths[i];
        width = percent != null ? Math.floor((availWidth - gaps) * percent) : children[i].getSizeHint().width;
        widths.push(width);
        allocatedWidth += width;
      };
      if(this.__enableFlex && allocatedWidth != availWidth){

        var flexibles = {
        };
        var flex,offset;
        for(i = 0;i < length;i += 1){

          flex = this.__flexs[i];
          if(flex > 0){

            hint = children[i].getSizeHint();
            flexibles[i] = {
              min : hint.minWidth,
              value : widths[i],
              max : hint.maxWidth,
              flex : flex
            };
          };
        };
        var result = util.computeFlexOffsets(flexibles, availWidth, allocatedWidth);
        for(i in result){

          offset = result[i].offset;
          widths[i] += offset;
          allocatedWidth += offset;
        };
      };
      var left = children[0].getMarginLeft();
      if(allocatedWidth < availWidth && this.getAlignX() != "left"){

        left = availWidth - allocatedWidth;
        if(this.getAlignX() === "center"){

          left = Math.round(left / 2);
        };
      };
      var hint,top,height,width,marginRight,marginTop,marginBottom;
      var spacing = this.getSpacing();
      this._clearSeparators();
      if(separator){

        var separatorInsets = qx.theme.manager.Decoration.getInstance().resolve(separator).getInsets();
        var separatorWidth = separatorInsets.left + separatorInsets.right;
      };
      for(i = 0;i < length;i += 1){

        child = children[i];
        width = widths[i];
        hint = child.getSizeHint();
        marginTop = child.getMarginTop();
        marginBottom = child.getMarginBottom();
        height = Math.max(hint.minHeight, Math.min(availHeight - marginTop - marginBottom, hint.maxHeight));
        top = util.computeVerticalAlignOffset(child.getAlignY() || this.getAlignY(), height, availHeight, marginTop, marginBottom);
        if(i > 0){

          if(separator){

            left += marginRight + spacing;
            this._renderSeparator(separator, {
              left : left + padding.left,
              top : padding.top,
              width : separatorWidth,
              height : availHeight
            });
            left += separatorWidth + spacing + child.getMarginLeft();
          } else {

            left += util.collapseMargins(spacing, marginRight, child.getMarginLeft());
          };
        };
        child.renderLayout(left + padding.left, top + padding.top, width, height);
        left += width;
        marginRight = child.getMarginRight();
      };
    },
    _computeSizeHint : function(){

      if(this._invalidChildrenCache){

        this.__rebuildCache();
      };
      var util = qx.ui.layout.Util;
      var children = this.__children;
      var minWidth = 0,width = 0,percentMinWidth = 0;
      var minHeight = 0,height = 0;
      var child,hint,margin;
      for(var i = 0,l = children.length;i < l;i += 1){

        child = children[i];
        hint = child.getSizeHint();
        width += hint.width;
        var flex = this.__flexs[i];
        var percent = this.__widths[i];
        if(flex){

          minWidth += hint.minWidth;
        } else if(percent){

          percentMinWidth = Math.max(percentMinWidth, Math.round(hint.minWidth / percent));
        } else {

          minWidth += hint.width;
        };
        margin = child.getMarginTop() + child.getMarginBottom();
        if((hint.height + margin) > height){

          height = hint.height + margin;
        };
        if((hint.minHeight + margin) > minHeight){

          minHeight = hint.minHeight + margin;
        };
      };
      minWidth += percentMinWidth;
      var spacing = this.getSpacing();
      var separator = this.getSeparator();
      if(separator){

        var gaps = util.computeHorizontalSeparatorGaps(children, spacing, separator);
      } else {

        var gaps = util.computeHorizontalGaps(children, spacing, true);
      };
      return {
        minWidth : minWidth + gaps,
        width : width + gaps,
        minHeight : minHeight,
        height : height
      };
    }
  },
  destruct : function(){

    this.__widths = this.__flexs = this.__children = null;
  }
});

qx.Class.define("qx.ui.layout.VBox", {
  extend : qx.ui.layout.Abstract,
  construct : function(spacing, alignY, separator){

    this.base(arguments);
    if(spacing){

      this.setSpacing(spacing);
    };
    if(alignY){

      this.setAlignY(alignY);
    };
    if(separator){

      this.setSeparator(separator);
    };
  },
  properties : {
    alignY : {
      check : ["top", "middle", "bottom"],
      init : "top",
      apply : "_applyLayoutChange"
    },
    alignX : {
      check : ["left", "center", "right"],
      init : "left",
      apply : "_applyLayoutChange"
    },
    spacing : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    separator : {
      check : "Decorator",
      nullable : true,
      apply : "_applyLayoutChange"
    },
    reversed : {
      check : "Boolean",
      init : false,
      apply : "_applyReversed"
    }
  },
  members : {
    __heights : null,
    __flexs : null,
    __enableFlex : null,
    __children : null,
    _applyReversed : function(){

      this._invalidChildrenCache = true;
      this._applyLayoutChange();
    },
    __rebuildCache : function(){

      var children = this._getLayoutChildren();
      var length = children.length;
      var enableFlex = false;
      var reuse = this.__heights && this.__heights.length != length && this.__flexs && this.__heights;
      var props;
      var heights = reuse ? this.__heights : new Array(length);
      var flexs = reuse ? this.__flexs : new Array(length);
      if(this.getReversed()){

        children = children.concat().reverse();
      };
      for(var i = 0;i < length;i++){

        props = children[i].getLayoutProperties();
        if(props.height != null){

          heights[i] = parseFloat(props.height) / 100;
        };
        if(props.flex != null){

          flexs[i] = props.flex;
          enableFlex = true;
        } else {

          flexs[i] = 0;
        };
      };
      if(!reuse){

        this.__heights = heights;
        this.__flexs = flexs;
      };
      this.__enableFlex = enableFlex;
      this.__children = children;
      delete this._invalidChildrenCache;
    },
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(name === "flex" || name === "height", "The property '" + name + "' is not supported by the VBox layout!");
        if(name == "height"){

          this.assertMatch(value, qx.ui.layout.Util.PERCENT_VALUE);
        } else {

          this.assertNumber(value);
          this.assert(value >= 0);
        };
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      if(this._invalidChildrenCache){

        this.__rebuildCache();
      };
      var children = this.__children;
      var length = children.length;
      var util = qx.ui.layout.Util;
      var spacing = this.getSpacing();
      var separator = this.getSeparator();
      if(separator){

        var gaps = util.computeVerticalSeparatorGaps(children, spacing, separator);
      } else {

        var gaps = util.computeVerticalGaps(children, spacing, true);
      };
      var i,child,height,percent;
      var heights = [];
      var allocatedHeight = gaps;
      for(i = 0;i < length;i += 1){

        percent = this.__heights[i];
        height = percent != null ? Math.floor((availHeight - gaps) * percent) : children[i].getSizeHint().height;
        heights.push(height);
        allocatedHeight += height;
      };
      if(this.__enableFlex && allocatedHeight != availHeight){

        var flexibles = {
        };
        var flex,offset;
        for(i = 0;i < length;i += 1){

          flex = this.__flexs[i];
          if(flex > 0){

            hint = children[i].getSizeHint();
            flexibles[i] = {
              min : hint.minHeight,
              value : heights[i],
              max : hint.maxHeight,
              flex : flex
            };
          };
        };
        var result = util.computeFlexOffsets(flexibles, availHeight, allocatedHeight);
        for(i in result){

          offset = result[i].offset;
          heights[i] += offset;
          allocatedHeight += offset;
        };
      };
      var top = children[0].getMarginTop();
      if(allocatedHeight < availHeight && this.getAlignY() != "top"){

        top = availHeight - allocatedHeight;
        if(this.getAlignY() === "middle"){

          top = Math.round(top / 2);
        };
      };
      var hint,left,width,height,marginBottom,marginLeft,marginRight;
      this._clearSeparators();
      if(separator){

        var separatorInsets = qx.theme.manager.Decoration.getInstance().resolve(separator).getInsets();
        var separatorHeight = separatorInsets.top + separatorInsets.bottom;
      };
      for(i = 0;i < length;i += 1){

        child = children[i];
        height = heights[i];
        hint = child.getSizeHint();
        marginLeft = child.getMarginLeft();
        marginRight = child.getMarginRight();
        width = Math.max(hint.minWidth, Math.min(availWidth - marginLeft - marginRight, hint.maxWidth));
        left = util.computeHorizontalAlignOffset(child.getAlignX() || this.getAlignX(), width, availWidth, marginLeft, marginRight);
        if(i > 0){

          if(separator){

            top += marginBottom + spacing;
            this._renderSeparator(separator, {
              top : top + padding.top,
              left : padding.left,
              height : separatorHeight,
              width : availWidth
            });
            top += separatorHeight + spacing + child.getMarginTop();
          } else {

            top += util.collapseMargins(spacing, marginBottom, child.getMarginTop());
          };
        };
        child.renderLayout(left + padding.left, top + padding.top, width, height);
        top += height;
        marginBottom = child.getMarginBottom();
      };
    },
    _computeSizeHint : function(){

      if(this._invalidChildrenCache){

        this.__rebuildCache();
      };
      var util = qx.ui.layout.Util;
      var children = this.__children;
      var minHeight = 0,height = 0,percentMinHeight = 0;
      var minWidth = 0,width = 0;
      var child,hint,margin;
      for(var i = 0,l = children.length;i < l;i += 1){

        child = children[i];
        hint = child.getSizeHint();
        height += hint.height;
        var flex = this.__flexs[i];
        var percent = this.__heights[i];
        if(flex){

          minHeight += hint.minHeight;
        } else if(percent){

          percentMinHeight = Math.max(percentMinHeight, Math.round(hint.minHeight / percent));
        } else {

          minHeight += hint.height;
        };
        margin = child.getMarginLeft() + child.getMarginRight();
        if((hint.width + margin) > width){

          width = hint.width + margin;
        };
        if((hint.minWidth + margin) > minWidth){

          minWidth = hint.minWidth + margin;
        };
      };
      minHeight += percentMinHeight;
      var spacing = this.getSpacing();
      var separator = this.getSeparator();
      if(separator){

        var gaps = util.computeVerticalSeparatorGaps(children, spacing, separator);
      } else {

        var gaps = util.computeVerticalGaps(children, spacing, true);
      };
      return {
        minHeight : minHeight + gaps,
        height : height + gaps,
        minWidth : minWidth,
        width : width
      };
    }
  },
  destruct : function(){

    this.__heights = this.__flexs = this.__children = null;
  }
});

qx.Class.define("qx.ui.core.scroll.AbstractScrollArea", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.scroll.MScrollBarFactory, qx.ui.core.scroll.MRoll, qx.ui.core.MDragDropScrolling],
  type : "abstract",
  statics : {
    DEFAULT_SCROLLBAR_WIDTH : 14
  },
  construct : function(){

    this.base(arguments);
    if(qx.core.Environment.get("os.scrollBarOverlayed")){

      this._setLayout(new qx.ui.layout.Canvas());
    } else {

      var grid = new qx.ui.layout.Grid();
      grid.setColumnFlex(0, 1);
      grid.setRowFlex(0, 1);
      this._setLayout(grid);
    };
    this._addRollHandling();
  },
  events : {
    scrollAnimationXEnd : 'qx.event.type.Event',
    scrollAnimationYEnd : 'qx.event.type.Event'
  },
  properties : {
    appearance : {
      refine : true,
      init : "scrollarea"
    },
    width : {
      refine : true,
      init : 100
    },
    height : {
      refine : true,
      init : 200
    },
    scrollbarX : {
      check : ["auto", "on", "off"],
      init : "auto",
      themeable : true,
      apply : "_computeScrollbars"
    },
    scrollbarY : {
      check : ["auto", "on", "off"],
      init : "auto",
      themeable : true,
      apply : "_computeScrollbars"
    },
    scrollbar : {
      group : ["scrollbarX", "scrollbarY"]
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "pane":
      control = new qx.ui.core.scroll.ScrollPane();
      control.addListener("update", this._computeScrollbars, this);
      control.addListener("scrollX", this._onScrollPaneX, this);
      control.addListener("scrollY", this._onScrollPaneY, this);
      if(qx.core.Environment.get("os.scrollBarOverlayed")){

        this._add(control, {
          edge : 0
        });
      } else {

        this._add(control, {
          row : 0,
          column : 0
        });
      };
      break;case "scrollbar-x":
      control = this._createScrollBar("horizontal");
      control.setMinWidth(0);
      control.exclude();
      control.addListener("scroll", this._onScrollBarX, this);
      control.addListener("changeVisibility", this._onChangeScrollbarXVisibility, this);
      control.addListener("scrollAnimationEnd", this._onScrollAnimationEnd.bind(this, "X"));
      if(qx.core.Environment.get("os.scrollBarOverlayed")){

        control.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);
        this._add(control, {
          bottom : 0,
          right : 0,
          left : 0
        });
      } else {

        this._add(control, {
          row : 1,
          column : 0
        });
      };
      break;case "scrollbar-y":
      control = this._createScrollBar("vertical");
      control.setMinHeight(0);
      control.exclude();
      control.addListener("scroll", this._onScrollBarY, this);
      control.addListener("changeVisibility", this._onChangeScrollbarYVisibility, this);
      control.addListener("scrollAnimationEnd", this._onScrollAnimationEnd.bind(this, "Y"));
      if(qx.core.Environment.get("os.scrollBarOverlayed")){

        control.setMinWidth(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);
        this._add(control, {
          right : 0,
          bottom : 0,
          top : 0
        });
      } else {

        this._add(control, {
          row : 0,
          column : 1
        });
      };
      break;case "corner":
      control = new qx.ui.core.Widget();
      control.setWidth(0);
      control.setHeight(0);
      control.exclude();
      if(!qx.core.Environment.get("os.scrollBarOverlayed")){

        this._add(control, {
          row : 1,
          column : 1
        });
      };
      break;};
      return control || this.base(arguments, id);
    },
    getPaneSize : function(){

      return this.getChildControl("pane").getInnerSize();
    },
    getItemTop : function(item){

      return this.getChildControl("pane").getItemTop(item);
    },
    getItemBottom : function(item){

      return this.getChildControl("pane").getItemBottom(item);
    },
    getItemLeft : function(item){

      return this.getChildControl("pane").getItemLeft(item);
    },
    getItemRight : function(item){

      return this.getChildControl("pane").getItemRight(item);
    },
    scrollToX : function(value, duration){

      qx.ui.core.queue.Manager.flush();
      this.getChildControl("scrollbar-x").scrollTo(value, duration);
    },
    scrollByX : function(value, duration){

      qx.ui.core.queue.Manager.flush();
      this.getChildControl("scrollbar-x").scrollBy(value, duration);
    },
    getScrollX : function(){

      var scrollbar = this.getChildControl("scrollbar-x", true);
      return scrollbar ? scrollbar.getPosition() : 0;
    },
    scrollToY : function(value, duration){

      qx.ui.core.queue.Manager.flush();
      this.getChildControl("scrollbar-y").scrollTo(value, duration);
    },
    scrollByY : function(value, duration){

      qx.ui.core.queue.Manager.flush();
      this.getChildControl("scrollbar-y").scrollBy(value, duration);
    },
    getScrollY : function(){

      var scrollbar = this.getChildControl("scrollbar-y", true);
      return scrollbar ? scrollbar.getPosition() : 0;
    },
    stopScrollAnimationX : function(){

      var scrollbar = this.getChildControl("scrollbar-x", true);
      if(scrollbar){

        scrollbar.stopScrollAnimation();
      };
    },
    stopScrollAnimationY : function(){

      var scrollbar = this.getChildControl("scrollbar-y", true);
      if(scrollbar){

        scrollbar.stopScrollAnimation();
      };
    },
    _onScrollAnimationEnd : function(direction){

      this.fireEvent("scrollAnimation" + direction + "End");
    },
    _onScrollBarX : function(e){

      this.getChildControl("pane").scrollToX(e.getData());
    },
    _onScrollBarY : function(e){

      this.getChildControl("pane").scrollToY(e.getData());
    },
    _onScrollPaneX : function(e){

      var scrollbar = this.getChildControl("scrollbar-x");
      if(scrollbar){

        scrollbar.updatePosition(e.getData());
      };
    },
    _onScrollPaneY : function(e){

      var scrollbar = this.getChildControl("scrollbar-y");
      if(scrollbar){

        scrollbar.updatePosition(e.getData());
      };
    },
    _onChangeScrollbarXVisibility : function(e){

      var showX = this._isChildControlVisible("scrollbar-x");
      var showY = this._isChildControlVisible("scrollbar-y");
      if(!showX){

        this.scrollToX(0);
      };
      showX && showY ? this._showChildControl("corner") : this._excludeChildControl("corner");
    },
    _onChangeScrollbarYVisibility : function(e){

      var showX = this._isChildControlVisible("scrollbar-x");
      var showY = this._isChildControlVisible("scrollbar-y");
      if(!showY){

        this.scrollToY(0);
      };
      showX && showY ? this._showChildControl("corner") : this._excludeChildControl("corner");
    },
    _computeScrollbars : function(){

      var pane = this.getChildControl("pane");
      var content = pane.getChildren()[0];
      if(!content){

        this._excludeChildControl("scrollbar-x");
        this._excludeChildControl("scrollbar-y");
        return;
      };
      var innerSize = this.getInnerSize();
      var paneSize = pane.getInnerSize();
      var scrollSize = pane.getScrollSize();
      if(!paneSize || !scrollSize){

        return;
      };
      var scrollbarX = this.getScrollbarX();
      var scrollbarY = this.getScrollbarY();
      if(scrollbarX === "auto" && scrollbarY === "auto"){

        var showX = scrollSize.width > innerSize.width;
        var showY = scrollSize.height > innerSize.height;
        if((showX || showY) && !(showX && showY)){

          if(showX){

            showY = scrollSize.height > paneSize.height;
          } else if(showY){

            showX = scrollSize.width > paneSize.width;
          };
        };
      } else {

        var showX = scrollbarX === "on";
        var showY = scrollbarY === "on";
        if(scrollSize.width > (showX ? paneSize.width : innerSize.width) && scrollbarX === "auto"){

          showX = true;
        };
        if(scrollSize.height > (showX ? paneSize.height : innerSize.height) && scrollbarY === "auto"){

          showY = true;
        };
      };
      if(showX){

        var barX = this.getChildControl("scrollbar-x");
        barX.show();
        barX.setMaximum(Math.max(0, scrollSize.width - paneSize.width));
        barX.setKnobFactor((scrollSize.width === 0) ? 0 : paneSize.width / scrollSize.width);
      } else {

        this._excludeChildControl("scrollbar-x");
      };
      if(showY){

        var barY = this.getChildControl("scrollbar-y");
        barY.show();
        barY.setMaximum(Math.max(0, scrollSize.height - paneSize.height));
        barY.setKnobFactor((scrollSize.height === 0) ? 0 : paneSize.height / scrollSize.height);
      } else {

        this._excludeChildControl("scrollbar-y");
      };
    }
  }
});

qx.Class.define("qx.ui.layout.Grid", {
  extend : qx.ui.layout.Abstract,
  construct : function(spacingX, spacingY){

    this.base(arguments);
    this.__rowData = [];
    this.__colData = [];
    if(spacingX){

      this.setSpacingX(spacingX);
    };
    if(spacingY){

      this.setSpacingY(spacingY);
    };
  },
  properties : {
    spacingX : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    spacingY : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    }
  },
  members : {
    __grid : null,
    __rowData : null,
    __colData : null,
    __colSpans : null,
    __rowSpans : null,
    __maxRowIndex : null,
    __maxColIndex : null,
    __rowHeights : null,
    __colWidths : null,
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        var layoutProperties = {
          "row" : 1,
          "column" : 1,
          "rowSpan" : 1,
          "colSpan" : 1
        };
        this.assert(layoutProperties[name] == 1, "The property '" + name + "' is not supported by the Grid layout!");
        this.assertInteger(value);
        this.assert(value >= 0, "Value must be positive");
      },
      "false" : null
    }),
    __buildGrid : function(){

      var grid = [];
      var colSpans = [];
      var rowSpans = [];
      var maxRowIndex = -1;
      var maxColIndex = -1;
      var children = this._getLayoutChildren();
      for(var i = 0,l = children.length;i < l;i++){

        var child = children[i];
        var props = child.getLayoutProperties();
        var row = props.row;
        var column = props.column;
        props.colSpan = props.colSpan || 1;
        props.rowSpan = props.rowSpan || 1;
        if(row == null || column == null){

          throw new Error("The layout properties 'row' and 'column' of the child widget '" + child + "' must be defined!");
        };
        if(grid[row] && grid[row][column]){

          throw new Error("Cannot add widget '" + child + "'!. " + "There is already a widget '" + grid[row][column] + "' in this cell (" + row + ", " + column + ") for '" + this + "'");
        };
        for(var x = column;x < column + props.colSpan;x++){

          for(var y = row;y < row + props.rowSpan;y++){

            if(grid[y] == undefined){

              grid[y] = [];
            };
            grid[y][x] = child;
            maxColIndex = Math.max(maxColIndex, x);
            maxRowIndex = Math.max(maxRowIndex, y);
          };
        };
        if(props.rowSpan > 1){

          rowSpans.push(child);
        };
        if(props.colSpan > 1){

          colSpans.push(child);
        };
      };
      for(var y = 0;y <= maxRowIndex;y++){

        if(grid[y] == undefined){

          grid[y] = [];
        };
      };
      this.__grid = grid;
      this.__colSpans = colSpans;
      this.__rowSpans = rowSpans;
      this.__maxRowIndex = maxRowIndex;
      this.__maxColIndex = maxColIndex;
      this.__rowHeights = null;
      this.__colWidths = null;
      delete this._invalidChildrenCache;
    },
    _setRowData : function(row, key, value){

      var rowData = this.__rowData[row];
      if(!rowData){

        this.__rowData[row] = {
        };
        this.__rowData[row][key] = value;
      } else {

        rowData[key] = value;
      };
    },
    _setColumnData : function(column, key, value){

      var colData = this.__colData[column];
      if(!colData){

        this.__colData[column] = {
        };
        this.__colData[column][key] = value;
      } else {

        colData[key] = value;
      };
    },
    setSpacing : function(spacing){

      this.setSpacingY(spacing);
      this.setSpacingX(spacing);
      return this;
    },
    setColumnAlign : function(column, hAlign, vAlign){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(column, "Invalid parameter 'column'");
        this.assertInArray(hAlign, ["left", "center", "right"]);
        this.assertInArray(vAlign, ["top", "middle", "bottom"]);
      };
      this._setColumnData(column, "hAlign", hAlign);
      this._setColumnData(column, "vAlign", vAlign);
      this._applyLayoutChange();
      return this;
    },
    getColumnAlign : function(column){

      var colData = this.__colData[column] || {
      };
      return {
        vAlign : colData.vAlign || "top",
        hAlign : colData.hAlign || "left"
      };
    },
    setRowAlign : function(row, hAlign, vAlign){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(row, "Invalid parameter 'row'");
        this.assertInArray(hAlign, ["left", "center", "right"]);
        this.assertInArray(vAlign, ["top", "middle", "bottom"]);
      };
      this._setRowData(row, "hAlign", hAlign);
      this._setRowData(row, "vAlign", vAlign);
      this._applyLayoutChange();
      return this;
    },
    getRowAlign : function(row){

      var rowData = this.__rowData[row] || {
      };
      return {
        vAlign : rowData.vAlign || "top",
        hAlign : rowData.hAlign || "left"
      };
    },
    getCellWidget : function(row, column){

      if(this._invalidChildrenCache){

        this.__buildGrid();
      };
      var row = this.__grid[row] || {
      };
      return row[column] || null;
    },
    getRowCount : function(){

      if(this._invalidChildrenCache){

        this.__buildGrid();
      };
      return this.__maxRowIndex + 1;
    },
    getColumnCount : function(){

      if(this._invalidChildrenCache){

        this.__buildGrid();
      };
      return this.__maxColIndex + 1;
    },
    getCellAlign : function(row, column){

      var vAlign = "top";
      var hAlign = "left";
      var rowData = this.__rowData[row];
      var colData = this.__colData[column];
      var widget = this.__grid[row][column];
      if(widget){

        var widgetProps = {
          vAlign : widget.getAlignY(),
          hAlign : widget.getAlignX()
        };
      } else {

        widgetProps = {
        };
      };
      if(widgetProps.vAlign){

        vAlign = widgetProps.vAlign;
      } else if(rowData && rowData.vAlign){

        vAlign = rowData.vAlign;
      } else if(colData && colData.vAlign){

        vAlign = colData.vAlign;
      };;
      if(widgetProps.hAlign){

        hAlign = widgetProps.hAlign;
      } else if(colData && colData.hAlign){

        hAlign = colData.hAlign;
      } else if(rowData && rowData.hAlign){

        hAlign = rowData.hAlign;
      };;
      return {
        vAlign : vAlign,
        hAlign : hAlign
      };
    },
    setColumnFlex : function(column, flex){

      this._setColumnData(column, "flex", flex);
      this._applyLayoutChange();
      return this;
    },
    getColumnFlex : function(column){

      var colData = this.__colData[column] || {
      };
      return colData.flex !== undefined ? colData.flex : 0;
    },
    setRowFlex : function(row, flex){

      this._setRowData(row, "flex", flex);
      this._applyLayoutChange();
      return this;
    },
    getRowFlex : function(row){

      var rowData = this.__rowData[row] || {
      };
      var rowFlex = rowData.flex !== undefined ? rowData.flex : 0;
      return rowFlex;
    },
    setColumnMaxWidth : function(column, maxWidth){

      this._setColumnData(column, "maxWidth", maxWidth);
      this._applyLayoutChange();
      return this;
    },
    getColumnMaxWidth : function(column){

      var colData = this.__colData[column] || {
      };
      return colData.maxWidth !== undefined ? colData.maxWidth : Infinity;
    },
    setColumnWidth : function(column, width){

      this._setColumnData(column, "width", width);
      this._applyLayoutChange();
      return this;
    },
    getColumnWidth : function(column){

      var colData = this.__colData[column] || {
      };
      return colData.width !== undefined ? colData.width : null;
    },
    setColumnMinWidth : function(column, minWidth){

      this._setColumnData(column, "minWidth", minWidth);
      this._applyLayoutChange();
      return this;
    },
    getColumnMinWidth : function(column){

      var colData = this.__colData[column] || {
      };
      return colData.minWidth || 0;
    },
    setRowMaxHeight : function(row, maxHeight){

      this._setRowData(row, "maxHeight", maxHeight);
      this._applyLayoutChange();
      return this;
    },
    getRowMaxHeight : function(row){

      var rowData = this.__rowData[row] || {
      };
      return rowData.maxHeight || Infinity;
    },
    setRowHeight : function(row, height){

      this._setRowData(row, "height", height);
      this._applyLayoutChange();
      return this;
    },
    getRowHeight : function(row){

      var rowData = this.__rowData[row] || {
      };
      return rowData.height !== undefined ? rowData.height : null;
    },
    setRowMinHeight : function(row, minHeight){

      this._setRowData(row, "minHeight", minHeight);
      this._applyLayoutChange();
      return this;
    },
    getRowMinHeight : function(row){

      var rowData = this.__rowData[row] || {
      };
      return rowData.minHeight || 0;
    },
    __getOuterSize : function(widget){

      var hint = widget.getSizeHint();
      var hMargins = widget.getMarginLeft() + widget.getMarginRight();
      var vMargins = widget.getMarginTop() + widget.getMarginBottom();
      var outerSize = {
        height : hint.height + vMargins,
        width : hint.width + hMargins,
        minHeight : hint.minHeight + vMargins,
        minWidth : hint.minWidth + hMargins,
        maxHeight : hint.maxHeight + vMargins,
        maxWidth : hint.maxWidth + hMargins
      };
      return outerSize;
    },
    _fixHeightsRowSpan : function(rowHeights){

      var vSpacing = this.getSpacingY();
      for(var i = 0,l = this.__rowSpans.length;i < l;i++){

        var widget = this.__rowSpans[i];
        var hint = this.__getOuterSize(widget);
        var widgetProps = widget.getLayoutProperties();
        var widgetRow = widgetProps.row;
        var prefSpanHeight = vSpacing * (widgetProps.rowSpan - 1);
        var minSpanHeight = prefSpanHeight;
        var rowFlexes = {
        };
        for(var j = 0;j < widgetProps.rowSpan;j++){

          var row = widgetProps.row + j;
          var rowHeight = rowHeights[row];
          var rowFlex = this.getRowFlex(row);
          if(rowFlex > 0){

            rowFlexes[row] = {
              min : rowHeight.minHeight,
              value : rowHeight.height,
              max : rowHeight.maxHeight,
              flex : rowFlex
            };
          };
          prefSpanHeight += rowHeight.height;
          minSpanHeight += rowHeight.minHeight;
        };
        if(prefSpanHeight < hint.height){

          if(!qx.lang.Object.isEmpty(rowFlexes)){

            var rowIncrements = qx.ui.layout.Util.computeFlexOffsets(rowFlexes, hint.height, prefSpanHeight);
            for(var k = 0;k < widgetProps.rowSpan;k++){

              var offset = rowIncrements[widgetRow + k] ? rowIncrements[widgetRow + k].offset : 0;
              rowHeights[widgetRow + k].height += offset;
            };
          } else {

            var totalSpacing = vSpacing * (widgetProps.rowSpan - 1);
            var availableHeight = hint.height - totalSpacing;
            var avgRowHeight = Math.floor(availableHeight / widgetProps.rowSpan);
            var usedHeight = 0;
            var rowsNeedAddition = 0;
            for(var k = 0;k < widgetProps.rowSpan;k++){

              var currentHeight = rowHeights[widgetRow + k].height;
              usedHeight += currentHeight;
              if(currentHeight < avgRowHeight){

                rowsNeedAddition++;
              };
            };
            var additionalRowHeight = Math.floor((availableHeight - usedHeight) / rowsNeedAddition);
            for(var k = 0;k < widgetProps.rowSpan;k++){

              if(rowHeights[widgetRow + k].height < avgRowHeight){

                rowHeights[widgetRow + k].height += additionalRowHeight;
              };
            };
          };
        };
        if(minSpanHeight < hint.minHeight){

          var rowIncrements = qx.ui.layout.Util.computeFlexOffsets(rowFlexes, hint.minHeight, minSpanHeight);
          for(var j = 0;j < widgetProps.rowSpan;j++){

            var offset = rowIncrements[widgetRow + j] ? rowIncrements[widgetRow + j].offset : 0;
            rowHeights[widgetRow + j].minHeight += offset;
          };
        };
      };
    },
    _fixWidthsColSpan : function(colWidths){

      var hSpacing = this.getSpacingX();
      for(var i = 0,l = this.__colSpans.length;i < l;i++){

        var widget = this.__colSpans[i];
        var hint = this.__getOuterSize(widget);
        var widgetProps = widget.getLayoutProperties();
        var widgetColumn = widgetProps.column;
        var prefSpanWidth = hSpacing * (widgetProps.colSpan - 1);
        var minSpanWidth = prefSpanWidth;
        var colFlexes = {
        };
        var offset;
        for(var j = 0;j < widgetProps.colSpan;j++){

          var col = widgetProps.column + j;
          var colWidth = colWidths[col];
          var colFlex = this.getColumnFlex(col);
          if(colFlex > 0){

            colFlexes[col] = {
              min : colWidth.minWidth,
              value : colWidth.width,
              max : colWidth.maxWidth,
              flex : colFlex
            };
          };
          prefSpanWidth += colWidth.width;
          minSpanWidth += colWidth.minWidth;
        };
        if(prefSpanWidth < hint.width){

          var colIncrements = qx.ui.layout.Util.computeFlexOffsets(colFlexes, hint.width, prefSpanWidth);
          for(var j = 0;j < widgetProps.colSpan;j++){

            offset = colIncrements[widgetColumn + j] ? colIncrements[widgetColumn + j].offset : 0;
            colWidths[widgetColumn + j].width += offset;
          };
        };
        if(minSpanWidth < hint.minWidth){

          var colIncrements = qx.ui.layout.Util.computeFlexOffsets(colFlexes, hint.minWidth, minSpanWidth);
          for(var j = 0;j < widgetProps.colSpan;j++){

            offset = colIncrements[widgetColumn + j] ? colIncrements[widgetColumn + j].offset : 0;
            colWidths[widgetColumn + j].minWidth += offset;
          };
        };
      };
    },
    _getRowHeights : function(){

      if(this.__rowHeights != null){

        return this.__rowHeights;
      };
      var rowHeights = [];
      var maxRowIndex = this.__maxRowIndex;
      var maxColIndex = this.__maxColIndex;
      for(var row = 0;row <= maxRowIndex;row++){

        var minHeight = 0;
        var height = 0;
        var maxHeight = 0;
        for(var col = 0;col <= maxColIndex;col++){

          var widget = this.__grid[row][col];
          if(!widget){

            continue;
          };
          var widgetRowSpan = widget.getLayoutProperties().rowSpan || 0;
          if(widgetRowSpan > 1){

            continue;
          };
          var cellSize = this.__getOuterSize(widget);
          if(this.getRowFlex(row) > 0){

            minHeight = Math.max(minHeight, cellSize.minHeight);
          } else {

            minHeight = Math.max(minHeight, cellSize.height);
          };
          height = Math.max(height, cellSize.height);
        };
        var minHeight = Math.max(minHeight, this.getRowMinHeight(row));
        var maxHeight = this.getRowMaxHeight(row);
        if(this.getRowHeight(row) !== null){

          var height = this.getRowHeight(row);
        } else {

          var height = Math.max(minHeight, Math.min(height, maxHeight));
        };
        rowHeights[row] = {
          minHeight : minHeight,
          height : height,
          maxHeight : maxHeight
        };
      };
      if(this.__rowSpans.length > 0){

        this._fixHeightsRowSpan(rowHeights);
      };
      this.__rowHeights = rowHeights;
      return rowHeights;
    },
    _getColWidths : function(){

      if(this.__colWidths != null){

        return this.__colWidths;
      };
      var colWidths = [];
      var maxColIndex = this.__maxColIndex;
      var maxRowIndex = this.__maxRowIndex;
      for(var col = 0;col <= maxColIndex;col++){

        var width = 0;
        var minWidth = 0;
        var maxWidth = Infinity;
        for(var row = 0;row <= maxRowIndex;row++){

          var widget = this.__grid[row][col];
          if(!widget){

            continue;
          };
          var widgetColSpan = widget.getLayoutProperties().colSpan || 0;
          if(widgetColSpan > 1){

            continue;
          };
          var cellSize = this.__getOuterSize(widget);
          if(this.getColumnFlex(col) > 0){

            minWidth = Math.max(minWidth, cellSize.minWidth);
          } else {

            minWidth = Math.max(minWidth, cellSize.width);
          };
          width = Math.max(width, cellSize.width);
        };
        minWidth = Math.max(minWidth, this.getColumnMinWidth(col));
        maxWidth = this.getColumnMaxWidth(col);
        if(this.getColumnWidth(col) !== null){

          var width = this.getColumnWidth(col);
        } else {

          var width = Math.max(minWidth, Math.min(width, maxWidth));
        };
        colWidths[col] = {
          minWidth : minWidth,
          width : width,
          maxWidth : maxWidth
        };
      };
      if(this.__colSpans.length > 0){

        this._fixWidthsColSpan(colWidths);
      };
      this.__colWidths = colWidths;
      return colWidths;
    },
    _getColumnFlexOffsets : function(width){

      var hint = this.getSizeHint();
      var diff = width - hint.width;
      if(diff == 0){

        return {
        };
      };
      var colWidths = this._getColWidths();
      var flexibles = {
      };
      for(var i = 0,l = colWidths.length;i < l;i++){

        var col = colWidths[i];
        var colFlex = this.getColumnFlex(i);
        if((colFlex <= 0) || (col.width == col.maxWidth && diff > 0) || (col.width == col.minWidth && diff < 0)){

          continue;
        };
        flexibles[i] = {
          min : col.minWidth,
          value : col.width,
          max : col.maxWidth,
          flex : colFlex
        };
      };
      return qx.ui.layout.Util.computeFlexOffsets(flexibles, width, hint.width);
    },
    _getRowFlexOffsets : function(height){

      var hint = this.getSizeHint();
      var diff = height - hint.height;
      if(diff == 0){

        return {
        };
      };
      var rowHeights = this._getRowHeights();
      var flexibles = {
      };
      for(var i = 0,l = rowHeights.length;i < l;i++){

        var row = rowHeights[i];
        var rowFlex = this.getRowFlex(i);
        if((rowFlex <= 0) || (row.height == row.maxHeight && diff > 0) || (row.height == row.minHeight && diff < 0)){

          continue;
        };
        flexibles[i] = {
          min : row.minHeight,
          value : row.height,
          max : row.maxHeight,
          flex : rowFlex
        };
      };
      return qx.ui.layout.Util.computeFlexOffsets(flexibles, height, hint.height);
    },
    renderLayout : function(availWidth, availHeight, padding){

      if(this._invalidChildrenCache){

        this.__buildGrid();
      };
      var Util = qx.ui.layout.Util;
      var hSpacing = this.getSpacingX();
      var vSpacing = this.getSpacingY();
      var prefWidths = this._getColWidths();
      var colStretchOffsets = this._getColumnFlexOffsets(availWidth);
      var colWidths = [];
      var maxColIndex = this.__maxColIndex;
      var maxRowIndex = this.__maxRowIndex;
      var offset;
      for(var col = 0;col <= maxColIndex;col++){

        offset = colStretchOffsets[col] ? colStretchOffsets[col].offset : 0;
        colWidths[col] = prefWidths[col].width + offset;
      };
      var prefHeights = this._getRowHeights();
      var rowStretchOffsets = this._getRowFlexOffsets(availHeight);
      var rowHeights = [];
      for(var row = 0;row <= maxRowIndex;row++){

        offset = rowStretchOffsets[row] ? rowStretchOffsets[row].offset : 0;
        rowHeights[row] = prefHeights[row].height + offset;
      };
      var left = 0;
      for(var col = 0;col <= maxColIndex;col++){

        var top = 0;
        for(var row = 0;row <= maxRowIndex;row++){

          var widget = this.__grid[row][col];
          if(!widget){

            top += rowHeights[row] + vSpacing;
            continue;
          };
          var widgetProps = widget.getLayoutProperties();
          if(widgetProps.row !== row || widgetProps.column !== col){

            top += rowHeights[row] + vSpacing;
            continue;
          };
          var spanWidth = hSpacing * (widgetProps.colSpan - 1);
          for(var i = 0;i < widgetProps.colSpan;i++){

            spanWidth += colWidths[col + i];
          };
          var spanHeight = vSpacing * (widgetProps.rowSpan - 1);
          for(var i = 0;i < widgetProps.rowSpan;i++){

            spanHeight += rowHeights[row + i];
          };
          var cellHint = widget.getSizeHint();
          var marginTop = widget.getMarginTop();
          var marginLeft = widget.getMarginLeft();
          var marginBottom = widget.getMarginBottom();
          var marginRight = widget.getMarginRight();
          var cellWidth = Math.max(cellHint.minWidth, Math.min(spanWidth - marginLeft - marginRight, cellHint.maxWidth));
          var cellHeight = Math.max(cellHint.minHeight, Math.min(spanHeight - marginTop - marginBottom, cellHint.maxHeight));
          var cellAlign = this.getCellAlign(row, col);
          var cellLeft = left + Util.computeHorizontalAlignOffset(cellAlign.hAlign, cellWidth, spanWidth, marginLeft, marginRight);
          var cellTop = top + Util.computeVerticalAlignOffset(cellAlign.vAlign, cellHeight, spanHeight, marginTop, marginBottom);
          widget.renderLayout(cellLeft + padding.left, cellTop + padding.top, cellWidth, cellHeight);
          top += rowHeights[row] + vSpacing;
        };
        left += colWidths[col] + hSpacing;
      };
    },
    invalidateLayoutCache : function(){

      this.base(arguments);
      this.__colWidths = null;
      this.__rowHeights = null;
    },
    _computeSizeHint : function(){

      if(this._invalidChildrenCache){

        this.__buildGrid();
      };
      var colWidths = this._getColWidths();
      var minWidth = 0,width = 0;
      for(var i = 0,l = colWidths.length;i < l;i++){

        var col = colWidths[i];
        if(this.getColumnFlex(i) > 0){

          minWidth += col.minWidth;
        } else {

          minWidth += col.width;
        };
        width += col.width;
      };
      var rowHeights = this._getRowHeights();
      var minHeight = 0,height = 0;
      for(var i = 0,l = rowHeights.length;i < l;i++){

        var row = rowHeights[i];
        if(this.getRowFlex(i) > 0){

          minHeight += row.minHeight;
        } else {

          minHeight += row.height;
        };
        height += row.height;
      };
      var spacingX = this.getSpacingX() * (colWidths.length - 1);
      var spacingY = this.getSpacingY() * (rowHeights.length - 1);
      var hint = {
        minWidth : minWidth + spacingX,
        width : width + spacingX,
        minHeight : minHeight + spacingY,
        height : height + spacingY
      };
      return hint;
    }
  },
  destruct : function(){

    this.__grid = this.__rowData = this.__colData = this.__colSpans = this.__rowSpans = this.__colWidths = this.__rowHeights = null;
  }
});

qx.Class.define("qx.ui.core.scroll.ScrollPane", {
  extend : qx.ui.core.Widget,
  construct : function(){

    this.base(arguments);
    this.set({
      minWidth : 0,
      minHeight : 0
    });
    this._setLayout(new qx.ui.layout.Grow());
    this.addListener("resize", this._onUpdate);
    var contentEl = this.getContentElement();
    contentEl.addListener("scroll", this._onScroll, this);
    contentEl.addListener("appear", this._onAppear, this);
  },
  events : {
    update : "qx.event.type.Event",
    scrollAnimationEnd : "qx.event.type.Event"
  },
  properties : {
    scrollX : {
      check : "qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getScrollMaxX()",
      apply : "_applyScrollX",
      event : "scrollX",
      init : 0
    },
    scrollY : {
      check : "qx.lang.Type.isNumber(value)&&value>=0&&value<=this.getScrollMaxY()",
      apply : "_applyScrollY",
      event : "scrollY",
      init : 0
    }
  },
  members : {
    __frame : null,
    add : function(widget){

      var old = this._getChildren()[0];
      if(old){

        this._remove(old);
        old.removeListener("resize", this._onUpdate, this);
      };
      if(widget){

        this._add(widget);
        widget.addListener("resize", this._onUpdate, this);
      };
    },
    remove : function(widget){

      if(widget){

        this._remove(widget);
        widget.removeListener("resize", this._onUpdate, this);
      };
    },
    getChildren : function(){

      return this._getChildren();
    },
    _onUpdate : function(e){

      this.fireEvent("update");
    },
    _onScroll : function(e){

      var contentEl = this.getContentElement();
      this.setScrollX(contentEl.getScrollX());
      this.setScrollY(contentEl.getScrollY());
    },
    _onAppear : function(e){

      var contentEl = this.getContentElement();
      var internalX = this.getScrollX();
      var domX = contentEl.getScrollX();
      if(internalX != domX){

        contentEl.scrollToX(internalX);
      };
      var internalY = this.getScrollY();
      var domY = contentEl.getScrollY();
      if(internalY != domY){

        contentEl.scrollToY(internalY);
      };
    },
    getItemTop : function(item){

      var top = 0;
      do {

        top += item.getBounds().top;
        item = item.getLayoutParent();
      }while((item && item !== this));
      return top;
    },
    getItemBottom : function(item){

      return this.getItemTop(item) + item.getBounds().height;
    },
    getItemLeft : function(item){

      var left = 0;
      var parent;
      do {

        left += item.getBounds().left;
        parent = item.getLayoutParent();
        if(parent){

          left += parent.getInsets().left;
        };
        item = parent;
      }while((item && item !== this));
      return left;
    },
    getItemRight : function(item){

      return this.getItemLeft(item) + item.getBounds().width;
    },
    getScrollSize : function(){

      return this.getChildren()[0].getBounds();
    },
    getScrollMaxX : function(){

      var paneSize = this.getInnerSize();
      var scrollSize = this.getScrollSize();
      if(paneSize && scrollSize){

        return Math.max(0, scrollSize.width - paneSize.width);
      };
      return 0;
    },
    getScrollMaxY : function(){

      var paneSize = this.getInnerSize();
      var scrollSize = this.getScrollSize();
      if(paneSize && scrollSize){

        return Math.max(0, scrollSize.height - paneSize.height);
      };
      return 0;
    },
    scrollToX : function(value, duration){

      var max = this.getScrollMaxX();
      if(value < 0){

        value = 0;
      } else if(value > max){

        value = max;
      };
      this.stopScrollAnimation();
      if(duration){

        var from = this.getScrollX();
        this.__frame = new qx.bom.AnimationFrame();
        this.__frame.on("end", function(){

          this.setScrollX(value);
          this.__frame = null;
          this.fireEvent("scrollAnimationEnd");
        }, this);
        this.__frame.on("frame", function(timePassed){

          var newX = parseInt(timePassed / duration * (value - from) + from);
          this.setScrollX(newX);
        }, this);
        this.__frame.startSequence(duration);
      } else {

        this.setScrollX(value);
      };
    },
    scrollToY : function(value, duration){

      var max = this.getScrollMaxY();
      if(value < 0){

        value = 0;
      } else if(value > max){

        value = max;
      };
      this.stopScrollAnimation();
      if(duration){

        var from = this.getScrollY();
        this.__frame = new qx.bom.AnimationFrame();
        this.__frame.on("end", function(){

          this.setScrollY(value);
          this.__frame = null;
          this.fireEvent("scrollAnimationEnd");
        }, this);
        this.__frame.on("frame", function(timePassed){

          var newY = parseInt(timePassed / duration * (value - from) + from);
          this.setScrollY(newY);
        }, this);
        this.__frame.startSequence(duration);
      } else {

        this.setScrollY(value);
      };
    },
    scrollByX : function(x, duration){

      this.scrollToX(this.getScrollX() + x, duration);
    },
    scrollByY : function(y, duration){

      this.scrollToY(this.getScrollY() + y, duration);
    },
    stopScrollAnimation : function(){

      if(this.__frame){

        this.__frame.cancelSequence();
        this.__frame = null;
      };
    },
    _applyScrollX : function(value){

      this.getContentElement().scrollToX(value);
    },
    _applyScrollY : function(value){

      this.getContentElement().scrollToY(value);
    }
  }
});

qx.Class.define("qx.ui.layout.Grow", {
  extend : qx.ui.layout.Abstract,
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(false, "The property '" + name + "' is not supported by the Grow layout!");
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      var child,size,width,height;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        size = child.getSizeHint();
        width = availWidth;
        if(width < size.minWidth){

          width = size.minWidth;
        } else if(width > size.maxWidth){

          width = size.maxWidth;
        };
        height = availHeight;
        if(height < size.minHeight){

          height = size.minHeight;
        } else if(height > size.maxHeight){

          height = size.maxHeight;
        };
        child.renderLayout(padding.left, padding.top, width, height);
      };
    },
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var child,size;
      var neededWidth = 0,neededHeight = 0;
      var minWidth = 0,minHeight = 0;
      var maxWidth = Infinity,maxHeight = Infinity;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        size = child.getSizeHint();
        neededWidth = Math.max(neededWidth, size.width);
        neededHeight = Math.max(neededHeight, size.height);
        minWidth = Math.max(minWidth, size.minWidth);
        minHeight = Math.max(minHeight, size.minHeight);
        maxWidth = Math.min(maxWidth, size.maxWidth);
        maxHeight = Math.min(maxHeight, size.maxHeight);
      };
      return {
        width : neededWidth,
        height : neededHeight,
        minWidth : minWidth,
        minHeight : minHeight,
        maxWidth : maxWidth,
        maxHeight : maxHeight
      };
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Scroll", {
  statics : {
    scrollBarOverlayed : function(){

      var scrollBarWidth = qx.bom.element.Scroll.getScrollbarWidth();
      var osx = qx.bom.client.OperatingSystem.getName() === "osx";
      var nativeScrollBars = qx.core.Environment.get("qx.nativeScrollBars");
      return scrollBarWidth === 0 && osx && nativeScrollBars;
    },
    getNativeScroll : function(){

      if(qx.core.Environment.get("os.name") == "ios" && parseInt(qx.core.Environment.get("browser.version"), 10) > 4){

        return true;
      };
      if(qx.core.Environment.get("browser.name") == "firefox"){

        return true;
      };
      if(qx.core.Environment.get("os.name") == "android"){

        var osVersion = qx.core.Environment.get("os.version");
        var splitVersion = osVersion.split(".");
        if(splitVersion[0] > 4 || (splitVersion.length > 1 && splitVersion[0] > 3 && splitVersion[1] > 3)){

          return true;
        };
      };
      if(qx.core.Environment.get("event.mspointer")){

        return true;
      };
      return false;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("os.scrollBarOverlayed", statics.scrollBarOverlayed);
    qx.core.Environment.add("qx.mobile.nativescroll", statics.getNativeScroll);
  }
});

qx.Class.define("qx.ui.form.List", {
  extend : qx.ui.core.scroll.AbstractScrollArea,
  implement : [qx.ui.core.IMultiSelection, qx.ui.form.IForm, qx.ui.form.IModelSelection],
  include : [qx.ui.core.MRemoteChildrenHandling, qx.ui.core.MMultiSelectionHandling, qx.ui.form.MForm, qx.ui.form.MModelSelection],
  construct : function(horizontal){

    this.base(arguments);
    this.__content = this._createListItemContainer();
    this.__content.addListener("addChildWidget", this._onAddChild, this);
    this.__content.addListener("removeChildWidget", this._onRemoveChild, this);
    this.getChildControl("pane").add(this.__content);
    if(horizontal){

      this.setOrientation("horizontal");
    } else {

      this.initOrientation();
    };
    this.addListener("keypress", this._onKeyPress);
    this.addListener("keyinput", this._onKeyInput);
    this.__pressedString = "";
  },
  events : {
    addItem : "qx.event.type.Data",
    removeItem : "qx.event.type.Data"
  },
  properties : {
    appearance : {
      refine : true,
      init : "list"
    },
    focusable : {
      refine : true,
      init : true
    },
    orientation : {
      check : ["horizontal", "vertical"],
      init : "vertical",
      apply : "_applyOrientation"
    },
    spacing : {
      check : "Integer",
      init : 0,
      apply : "_applySpacing",
      themeable : true
    },
    enableInlineFind : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    __pressedString : null,
    __lastKeyPress : null,
    __content : null,
    SELECTION_MANAGER : qx.ui.core.selection.ScrollArea,
    getChildrenContainer : function(){

      return this.__content;
    },
    _onAddChild : function(e){

      this.fireDataEvent("addItem", e.getData());
    },
    _onRemoveChild : function(e){

      this.fireDataEvent("removeItem", e.getData());
    },
    handleKeyPress : function(e){

      if(!this._onKeyPress(e)){

        this._getManager().handleKeyPress(e);
      };
    },
    _createListItemContainer : function(){

      return new qx.ui.container.Composite;
    },
    _applyOrientation : function(value, old){

      var horizontal = value === "horizontal";
      var layout = horizontal ? new qx.ui.layout.HBox() : new qx.ui.layout.VBox();
      var content = this.__content;
      content.setLayout(layout);
      content.setAllowGrowX(!horizontal);
      content.setAllowGrowY(horizontal);
      this._applySpacing(this.getSpacing());
    },
    _applySpacing : function(value, old){

      this.__content.getLayout().setSpacing(value);
    },
    _onKeyPress : function(e){

      if(e.getKeyIdentifier() == "Enter" && !e.isAltPressed()){

        var items = this.getSelection();
        for(var i = 0;i < items.length;i++){

          items[i].fireEvent("action");
        };
        return true;
      };
      return false;
    },
    _onKeyInput : function(e){

      if(!this.getEnableInlineFind()){

        return;
      };
      var mode = this.getSelectionMode();
      if(!(mode === "single" || mode === "one")){

        return;
      };
      if(((new Date).valueOf() - this.__lastKeyPress) > 1000){

        this.__pressedString = "";
      };
      this.__pressedString += e.getChar();
      var matchedItem = this.findItemByLabelFuzzy(this.__pressedString);
      if(matchedItem){

        this.setSelection([matchedItem]);
      };
      this.__lastKeyPress = (new Date).valueOf();
    },
    findItemByLabelFuzzy : function(search){

      search = search.toLowerCase();
      var items = this.getChildren();
      for(var i = 0,l = items.length;i < l;i++){

        var currentLabel = items[i].getLabel();
        if(currentLabel && currentLabel.toLowerCase().indexOf(search) == 0){

          return items[i];
        };
      };
      return null;
    },
    findItem : function(search, ignoreCase){

      if(ignoreCase !== false){

        search = search.toLowerCase();
      };
      var items = this.getChildren();
      var item;
      for(var i = 0,l = items.length;i < l;i++){

        item = items[i];
        var label;
        if(item.isRich()){

          var control = item.getChildControl("label", true);
          if(control){

            var labelNode = control.getContentElement().getDomElement();
            if(labelNode){

              label = qx.bom.element.Attribute.get(labelNode, "text");
            };
          };
        } else {

          label = item.getLabel();
        };
        if(label != null){

          if(label.translate){

            label = label.translate();
          };
          if(ignoreCase !== false){

            label = label.toLowerCase();
          };
          if(label.toString() == search.toString()){

            return item;
          };
        };
      };
      return null;
    }
  },
  destruct : function(){

    this._disposeObjects("__content");
  }
});

qx.Mixin.define("qx.ui.core.MLayoutHandling", {
  members : {
    setLayout : function(layout){

      this._setLayout(layout);
    },
    getLayout : function(){

      return this._getLayout();
    }
  },
  statics : {
    remap : function(members){

      members.getLayout = members._getLayout;
      members.setLayout = members._setLayout;
    }
  }
});

qx.Mixin.define("qx.ui.core.MChildrenHandling", {
  members : {
    getChildren : function(){

      return this._getChildren();
    },
    hasChildren : function(){

      return this._hasChildren();
    },
    indexOf : function(child){

      return this._indexOf(child);
    },
    add : function(child, options){

      this._add(child, options);
    },
    addAt : function(child, index, options){

      this._addAt(child, index, options);
    },
    addBefore : function(child, before, options){

      this._addBefore(child, before, options);
    },
    addAfter : function(child, after, options){

      this._addAfter(child, after, options);
    },
    remove : function(child){

      this._remove(child);
    },
    removeAt : function(index){

      return this._removeAt(index);
    },
    removeAll : function(){

      return this._removeAll();
    }
  },
  statics : {
    remap : function(members){

      members.getChildren = members._getChildren;
      members.hasChildren = members._hasChildren;
      members.indexOf = members._indexOf;
      members.add = members._add;
      members.addAt = members._addAt;
      members.addBefore = members._addBefore;
      members.addAfter = members._addAfter;
      members.remove = members._remove;
      members.removeAt = members._removeAt;
      members.removeAll = members._removeAll;
    }
  }
});

qx.Class.define("qx.ui.container.Composite", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MChildrenHandling, qx.ui.core.MLayoutHandling],
  construct : function(layout){

    this.base(arguments);
    if(layout != null){

      this._setLayout(layout);
    };
  },
  events : {
    addChildWidget : "qx.event.type.Data",
    removeChildWidget : "qx.event.type.Data"
  },
  members : {
    _afterAddChild : function(child){

      this.fireNonBubblingEvent("addChildWidget", qx.event.type.Data, [child]);
    },
    _afterRemoveChild : function(child){

      this.fireNonBubblingEvent("removeChildWidget", qx.event.type.Data, [child]);
    }
  },
  defer : function(statics, members){

    qx.ui.core.MChildrenHandling.remap(members);
    qx.ui.core.MLayoutHandling.remap(members);
  }
});

qx.Class.define("qx.event.message.Bus", {
  type : "singleton",
  extend : qx.core.Object,
  statics : {
    getSubscriptions : function(){

      return this.getInstance().getSubscriptions();
    },
    subscribe : function(message, subscriber, context){

      return this.getInstance().subscribe(message, subscriber, context);
    },
    checkSubscription : function(message, subscriber, context){

      return this.getInstance().checkSubscription(message, subscriber, context);
    },
    unsubscribe : function(message, subscriber, context){

      return this.getInstance().unsubscribe(message, subscriber, context);
    },
    dispatch : function(msg){

      return this.getInstance().dispatch.apply(this.getInstance(), arguments);
    },
    dispatchByName : function(name, data){

      return this.getInstance().dispatchByName.apply(this.getInstance(), arguments);
    }
  },
  construct : function(){

    this.__subscriptions = {
    };
  },
  members : {
    __subscriptions : null,
    getSubscriptions : function(){

      return this.__subscriptions;
    },
    subscribe : function(message, subscriber, context){

      if(!message || typeof subscriber != "function"){

        this.error("Invalid parameters! " + [message, subscriber, context]);
        return false;
      };
      var sub = this.getSubscriptions();
      if(this.checkSubscription(message)){

        if(this.checkSubscription(message, subscriber, context)){

          this.warn("Object method already subscribed to " + message);
          return false;
        };
        sub[message].push({
          subscriber : subscriber,
          context : context || null
        });
        return true;
      } else {

        sub[message] = [{
          subscriber : subscriber,
          context : context || null
        }];
        return true;
      };
    },
    checkSubscription : function(message, subscriber, context){

      var sub = this.getSubscriptions();
      if(!sub[message] || sub[message].length === 0){

        return false;
      };
      if(subscriber){

        for(var i = 0;i < sub[message].length;i++){

          if(sub[message][i].subscriber === subscriber && sub[message][i].context === (context || null)){

            return true;
          };
        };
        return false;
      };
      return true;
    },
    unsubscribe : function(message, subscriber, context){

      var sub = this.getSubscriptions();
      var subscrList = sub[message];
      if(subscrList){

        if(!subscriber){

          sub[message] = null;
          delete sub[message];
          return true;
        } else {

          if(!context){

            context = null;
          };
          var i = subscrList.length;
          var subscription;
          do {

            subscription = subscrList[--i];
            if(subscription.subscriber === subscriber && subscription.context === context){

              subscrList.splice(i, 1);
              if(subscrList.length === 0){

                sub[message] = null;
                delete sub[message];
              };
              return true;
            };
          }while((i));
        };
      };
      return false;
    },
    dispatch : function(msg){

      var sub = this.getSubscriptions();
      var msgName = msg.getName();
      var dispatched = false;
      for(var key in sub){

        var pos = key.indexOf("*");
        if(pos > -1){

          if(pos === 0 || key.substr(0, pos) === msgName.substr(0, pos)){

            this.__callSubscribers(sub[key], msg);
            dispatched = true;
          };
        } else {

          if(key === msgName){

            this.__callSubscribers(sub[msgName], msg);
            dispatched = true;
          };
        };
      };
      return dispatched;
    },
    dispatchByName : function(name, data){

      var message = new qx.event.message.Message(name, data);
      return this.dispatch(message);
    },
    __callSubscribers : function(subscribers, msg){

      for(var i = 0;i < subscribers.length;i++){

        var subscriber = subscribers[i].subscriber;
        var context = subscribers[i].context;
        if(context && context.isDisposed){

          if(context.isDisposed()){

            subscribers.splice(i, 1);
            i--;
          } else {

            subscriber.call(context, msg);
          };
        } else {

          subscriber.call(context, msg);
        };
      };
    }
  }
});

qx.Class.define("qx.event.message.Message", {
  extend : qx.core.Object,
  construct : function(name, data){

    this.base(arguments);
    if(name != null){

      this.setName(name);
    };
    if(data != null){

      this.setData(data);
    };
  },
  properties : {
    name : {
      check : "String"
    },
    data : {
      init : null,
      nullable : true
    },
    sender : {
      check : "Object"
    }
  }
});

qx.Class.define("qx.ui.toolbar.Part", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MRemoteChildrenHandling],
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.HBox);
    this._createChildControl("handle");
  },
  properties : {
    appearance : {
      refine : true,
      init : "toolbar/part"
    },
    show : {
      init : "both",
      check : ["both", "label", "icon"],
      inheritable : true,
      event : "changeShow"
    },
    spacing : {
      nullable : true,
      check : "Integer",
      themeable : true,
      apply : "_applySpacing"
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "handle":
      control = new qx.ui.basic.Image();
      control.setAlignY("middle");
      this._add(control);
      break;case "container":
      control = new qx.ui.toolbar.PartContainer();
      control.addListener("syncAppearance", this.__onSyncAppearance, this);
      this._add(control);
      control.addListener("changeChildren", function(){

        this.__onSyncAppearance();
      }, this);
      break;};
      return control || this.base(arguments, id);
    },
    getChildrenContainer : function(){

      return this.getChildControl("container");
    },
    _applySpacing : function(value, old){

      var layout = this.getChildControl("container").getLayout();
      value == null ? layout.resetSpacing() : layout.setSpacing(value);
    },
    __onSyncAppearance : function(){

      var children = this.getChildrenContainer().getChildren();
      children = children.filter(function(child){

        return child.getVisibility() == "visible";
      });
      for(var i = 0;i < children.length;i++){

        if(i == 0 && i != children.length - 1){

          children[i].addState("left");
          children[i].removeState("right");
          children[i].removeState("middle");
        } else if(i == children.length - 1 && i != 0){

          children[i].addState("right");
          children[i].removeState("left");
          children[i].removeState("middle");
        } else if(i == 0 && i == children.length - 1){

          children[i].removeState("left");
          children[i].removeState("middle");
          children[i].removeState("right");
        } else {

          children[i].addState("middle");
          children[i].removeState("right");
          children[i].removeState("left");
        };;
      };
    },
    addSeparator : function(){

      this.add(new qx.ui.toolbar.Separator);
    },
    getMenuButtons : function(){

      var children = this.getChildren();
      var buttons = [];
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(child instanceof qx.ui.menubar.Button){

          buttons.push(child);
        };
      };
      return buttons;
    }
  }
});

qx.Class.define("qx.ui.toolbar.PartContainer", {
  extend : qx.ui.container.Composite,
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.HBox);
  },
  events : {
    changeChildren : "qx.event.type.Event"
  },
  properties : {
    appearance : {
      refine : true,
      init : "toolbar/part/container"
    },
    show : {
      init : "both",
      check : ["both", "label", "icon"],
      inheritable : true,
      event : "changeShow"
    }
  },
  members : {
    _afterAddChild : function(child){

      this.fireEvent("changeChildren");
    },
    _afterRemoveChild : function(child){

      this.fireEvent("changeChildren");
    }
  }
});

qx.Class.define("qx.ui.toolbar.Separator", {
  extend : qx.ui.core.Widget,
  properties : {
    appearance : {
      refine : true,
      init : "toolbar-separator"
    },
    anonymous : {
      refine : true,
      init : true
    },
    width : {
      refine : true,
      init : 0
    },
    height : {
      refine : true,
      init : 0
    }
  }
});

qx.Class.define("qx.ui.form.MenuButton", {
  extend : qx.ui.form.Button,
  construct : function(label, icon, menu){

    this.base(arguments, label, icon);
    if(menu != null){

      this.setMenu(menu);
    };
  },
  properties : {
    menu : {
      check : "qx.ui.menu.Menu",
      nullable : true,
      apply : "_applyMenu",
      event : "changeMenu"
    },
    appearance : {
      refine : true,
      init : "menubutton"
    }
  },
  members : {
    _applyVisibility : function(value, old){

      this.base(arguments, value, old);
      var menu = this.getMenu();
      if(value != "visible" && menu){

        menu.hide();
      };
    },
    _applyMenu : function(value, old){

      if(old){

        old.removeListener("changeVisibility", this._onMenuChange, this);
        old.resetOpener();
      };
      if(value){

        value.addListener("changeVisibility", this._onMenuChange, this);
        value.setOpener(this);
        value.removeState("submenu");
        value.removeState("contextmenu");
      };
    },
    open : function(selectFirst){

      var menu = this.getMenu();
      if(menu){

        qx.ui.menu.Manager.getInstance().hideAll();
        menu.setOpener(this);
        menu.open();
        if(selectFirst){

          var first = menu.getSelectables()[0];
          if(first){

            menu.setSelectedButton(first);
          };
        };
      };
    },
    _onMenuChange : function(e){

      var menu = this.getMenu();
      if(menu.isVisible()){

        this.addState("pressed");
      } else {

        this.removeState("pressed");
      };
    },
    _onPointerDown : function(e){

      this.base(arguments, e);
      if(e.getButton() != "left"){

        return;
      };
      var menu = this.getMenu();
      if(menu){

        if(!menu.isVisible()){

          this.open();
        } else {

          menu.exclude();
        };
        e.stopPropagation();
      };
    },
    _onPointerUp : function(e){

      this.base(arguments, e);
      e.stopPropagation();
    },
    _onPointerOver : function(e){

      this.addState("hovered");
    },
    _onPointerOut : function(e){

      this.removeState("hovered");
    },
    _onKeyDown : function(e){

      switch(e.getKeyIdentifier()){case "Enter":
      this.removeState("abandoned");
      this.addState("pressed");
      var menu = this.getMenu();
      if(menu){

        if(!menu.isVisible()){

          this.open();
        } else {

          menu.exclude();
        };
      };
      e.stopPropagation();};
    },
    _onKeyUp : function(e){
    }
  }
});

qx.Class.define("qx.ui.menu.Manager", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__objects = [];
    var el = document.body;
    var Registration = qx.event.Registration;
    Registration.addListener(window.document.documentElement, "pointerdown", this._onPointerDown, this, true);
    Registration.addListener(el, "roll", this._onRoll, this, true);
    Registration.addListener(el, "keydown", this._onKeyUpDown, this, true);
    Registration.addListener(el, "keyup", this._onKeyUpDown, this, true);
    Registration.addListener(el, "keypress", this._onKeyPress, this, true);
    if(!qx.core.Environment.get("event.touch")){

      qx.bom.Element.addListener(window, "blur", this.hideAll, this);
    };
    this.__openTimer = new qx.event.Timer();
    this.__openTimer.addListener("interval", this._onOpenInterval, this);
    this.__closeTimer = new qx.event.Timer();
    this.__closeTimer.addListener("interval", this._onCloseInterval, this);
  },
  members : {
    __scheduleOpen : null,
    __scheduleClose : null,
    __openTimer : null,
    __closeTimer : null,
    __objects : null,
    _getChild : function(menu, start, iter, loop){

      var children = menu.getChildren();
      var length = children.length;
      var child;
      for(var i = start;i < length && i >= 0;i += iter){

        child = children[i];
        if(child.isEnabled() && !child.isAnonymous() && child.isVisible()){

          return child;
        };
      };
      if(loop){

        i = i == length ? 0 : length - 1;
        for(;i != start;i += iter){

          child = children[i];
          if(child.isEnabled() && !child.isAnonymous() && child.isVisible()){

            return child;
          };
        };
      };
      return null;
    },
    _isInMenu : function(widget){

      while(widget){

        if(widget instanceof qx.ui.menu.Menu){

          return true;
        };
        widget = widget.getLayoutParent();
      };
      return false;
    },
    _isMenuOpener : function(widget){

      var menus = this.__objects;
      for(var i = 0;i < menus.length;i++){

        if(menus[i].getOpener() === widget){

          return true;
        };
      };
      return false;
    },
    _getMenuButton : function(widget){

      while(widget){

        if(widget instanceof qx.ui.menu.AbstractButton){

          return widget;
        };
        widget = widget.getLayoutParent();
      };
      return null;
    },
    add : function(obj){

      if(qx.core.Environment.get("qx.debug")){

        if(!(obj instanceof qx.ui.menu.Menu)){

          throw new Error("Object is no menu: " + obj);
        };
      };
      var reg = this.__objects;
      reg.push(obj);
      obj.setZIndex(1e6 + reg.length);
    },
    remove : function(obj){

      if(qx.core.Environment.get("qx.debug")){

        if(!(obj instanceof qx.ui.menu.Menu)){

          throw new Error("Object is no menu: " + obj);
        };
      };
      var reg = this.__objects;
      if(reg){

        qx.lang.Array.remove(reg, obj);
      };
    },
    hideAll : function(){

      var reg = this.__objects;
      if(reg){

        for(var i = reg.length - 1;i >= 0;i--){

          reg[i].exclude();
        };
      };
    },
    getActiveMenu : function(){

      var reg = this.__objects;
      return reg.length > 0 ? reg[reg.length - 1] : null;
    },
    scheduleOpen : function(menu){

      this.cancelClose(menu);
      if(menu.isVisible()){

        if(this.__scheduleOpen){

          this.cancelOpen(this.__scheduleOpen);
        };
      } else if(this.__scheduleOpen != menu){

        this.__scheduleOpen = menu;
        this.__openTimer.restartWith(menu.getOpenInterval());
      };
    },
    scheduleClose : function(menu){

      this.cancelOpen(menu);
      if(!menu.isVisible()){

        if(this.__scheduleClose){

          this.cancelClose(this.__scheduleClose);
        };
      } else if(this.__scheduleClose != menu){

        this.__scheduleClose = menu;
        this.__closeTimer.restartWith(menu.getCloseInterval());
      };
    },
    cancelOpen : function(menu){

      if(this.__scheduleOpen == menu){

        this.__openTimer.stop();
        this.__scheduleOpen = null;
      };
    },
    cancelClose : function(menu){

      if(this.__scheduleClose == menu){

        this.__closeTimer.stop();
        this.__scheduleClose = null;
      };
    },
    _onOpenInterval : function(e){

      this.__openTimer.stop();
      this.__scheduleOpen.open();
      this.__scheduleOpen = null;
    },
    _onCloseInterval : function(e){

      this.__closeTimer.stop();
      this.__scheduleClose.exclude();
      this.__scheduleClose = null;
    },
    _onPointerDown : function(e){

      var target = e.getTarget();
      target = qx.ui.core.Widget.getWidgetByElement(target, true);
      if(target == null){

        this.hideAll();
        return;
      };
      if(target.getMenu && target.getMenu() && target.getMenu().isVisible()){

        return;
      };
      if(this.__objects.length > 0 && !this._isInMenu(target)){

        this.hideAll();
      };
    },
    __selectionKeys : {
      "Enter" : 1,
      "Space" : 1
    },
    __navigationKeys : {
      "Escape" : 1,
      "Up" : 1,
      "Down" : 1,
      "Left" : 1,
      "Right" : 1
    },
    _onKeyUpDown : function(e){

      var menu = this.getActiveMenu();
      if(!menu){

        return;
      };
      var iden = e.getKeyIdentifier();
      if(this.__navigationKeys[iden] || (this.__selectionKeys[iden] && menu.getSelectedButton())){

        e.stopPropagation();
      };
    },
    _onKeyPress : function(e){

      var menu = this.getActiveMenu();
      if(!menu){

        return;
      };
      var iden = e.getKeyIdentifier();
      var navigation = this.__navigationKeys[iden];
      var selection = this.__selectionKeys[iden];
      if(navigation){

        switch(iden){case "Up":
        this._onKeyPressUp(menu);
        break;case "Down":
        this._onKeyPressDown(menu);
        break;case "Left":
        this._onKeyPressLeft(menu);
        break;case "Right":
        this._onKeyPressRight(menu);
        break;case "Escape":
        this.hideAll();
        break;};
        e.stopPropagation();
        e.preventDefault();
      } else if(selection){

        var button = menu.getSelectedButton();
        if(button){

          switch(iden){case "Enter":
          this._onKeyPressEnter(menu, button, e);
          break;case "Space":
          this._onKeyPressSpace(menu, button, e);
          break;};
          e.stopPropagation();
          e.preventDefault();
        };
      };
    },
    _onKeyPressUp : function(menu){

      var selectedButton = menu.getSelectedButton();
      var children = menu.getChildren();
      var start = selectedButton ? menu.indexOf(selectedButton) - 1 : children.length - 1;
      var nextItem = this._getChild(menu, start, -1, true);
      if(nextItem){

        menu.setSelectedButton(nextItem);
      } else {

        menu.resetSelectedButton();
      };
    },
    _onKeyPressDown : function(menu){

      var selectedButton = menu.getSelectedButton();
      var start = selectedButton ? menu.indexOf(selectedButton) + 1 : 0;
      var nextItem = this._getChild(menu, start, 1, true);
      if(nextItem){

        menu.setSelectedButton(nextItem);
      } else {

        menu.resetSelectedButton();
      };
    },
    _onKeyPressLeft : function(menu){

      var menuOpener = menu.getOpener();
      if(!menuOpener){

        return;
      };
      if(menuOpener instanceof qx.ui.menu.AbstractButton){

        var parentMenu = menuOpener.getLayoutParent();
        parentMenu.resetOpenedButton();
        parentMenu.setSelectedButton(menuOpener);
      } else if(menuOpener instanceof qx.ui.menubar.Button){

        var buttons = menuOpener.getMenuBar().getMenuButtons();
        var index = buttons.indexOf(menuOpener);
        if(index === -1){

          return;
        };
        var prevButton = null;
        var length = buttons.length;
        for(var i = 1;i <= length;i++){

          var button = buttons[(index - i + length) % length];
          if(button.isEnabled() && button.isVisible()){

            prevButton = button;
            break;
          };
        };
        if(prevButton && prevButton != menuOpener){

          prevButton.open(true);
        };
      };
    },
    _onKeyPressRight : function(menu){

      var selectedButton = menu.getSelectedButton();
      if(selectedButton){

        var subMenu = selectedButton.getMenu();
        if(subMenu){

          menu.setOpenedButton(selectedButton);
          var first = this._getChild(subMenu, 0, 1);
          if(first){

            subMenu.setSelectedButton(first);
          };
          return;
        };
      } else if(!menu.getOpenedButton()){

        var first = this._getChild(menu, 0, 1);
        if(first){

          menu.setSelectedButton(first);
          if(first.getMenu()){

            menu.setOpenedButton(first);
          };
          return;
        };
      };
      var menuOpener = menu.getOpener();
      if(menuOpener instanceof qx.ui.menu.Button && selectedButton){

        while(menuOpener){

          menuOpener = menuOpener.getLayoutParent();
          if(menuOpener instanceof qx.ui.menu.Menu){

            menuOpener = menuOpener.getOpener();
            if(menuOpener instanceof qx.ui.menubar.Button){

              break;
            };
          } else {

            break;
          };
        };
        if(!menuOpener){

          return;
        };
      };
      if(menuOpener instanceof qx.ui.menubar.Button){

        var buttons = menuOpener.getMenuBar().getMenuButtons();
        var index = buttons.indexOf(menuOpener);
        if(index === -1){

          return;
        };
        var nextButton = null;
        var length = buttons.length;
        for(var i = 1;i <= length;i++){

          var button = buttons[(index + i) % length];
          if(button.isEnabled() && button.isVisible()){

            nextButton = button;
            break;
          };
        };
        if(nextButton && nextButton != menuOpener){

          nextButton.open(true);
        };
      };
    },
    _onKeyPressEnter : function(menu, button, e){

      if(button.hasListener("keypress")){

        var clone = e.clone();
        clone.setBubbles(false);
        clone.setTarget(button);
        button.dispatchEvent(clone);
      };
      this.hideAll();
    },
    _onKeyPressSpace : function(menu, button, e){

      if(button.hasListener("keypress")){

        var clone = e.clone();
        clone.setBubbles(false);
        clone.setTarget(button);
        button.dispatchEvent(clone);
      };
    },
    _onRoll : function(e){

      var target = e.getTarget();
      target = qx.ui.core.Widget.getWidgetByElement(target, true);
      if(this.__objects.length > 0 && !this._isInMenu(target) && !this._isMenuOpener(target) && !e.getMomentum()){

        this.hideAll();
      };
    }
  },
  destruct : function(){

    var Registration = qx.event.Registration;
    var el = document.body;
    Registration.removeListener(window.document.documentElement, "pointerdown", this._onPointerDown, this, true);
    Registration.removeListener(el, "keydown", this._onKeyUpDown, this, true);
    Registration.removeListener(el, "keyup", this._onKeyUpDown, this, true);
    Registration.removeListener(el, "keypress", this._onKeyPress, this, true);
    this._disposeObjects("__openTimer", "__closeTimer");
    this._disposeArray("__objects");
  }
});

qx.Class.define("qx.ui.menu.Menu", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MPlacement, qx.ui.core.MRemoteChildrenHandling],
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.menu.Layout);
    var root = this.getApplicationRoot();
    root.add(this);
    this.addListener("pointerover", this._onPointerOver);
    this.addListener("pointerout", this._onPointerOut);
    this.addListener("resize", this._onResize, this);
    root.addListener("resize", this._onResize, this);
    this._blocker = new qx.ui.core.Blocker(root);
    this.initVisibility();
    this.initKeepFocus();
    this.initKeepActive();
  },
  properties : {
    appearance : {
      refine : true,
      init : "menu"
    },
    allowGrowX : {
      refine : true,
      init : false
    },
    allowGrowY : {
      refine : true,
      init : false
    },
    visibility : {
      refine : true,
      init : "excluded"
    },
    keepFocus : {
      refine : true,
      init : true
    },
    keepActive : {
      refine : true,
      init : true
    },
    spacingX : {
      check : "Integer",
      apply : "_applySpacingX",
      init : 0,
      themeable : true
    },
    spacingY : {
      check : "Integer",
      apply : "_applySpacingY",
      init : 0,
      themeable : true
    },
    iconColumnWidth : {
      check : "Integer",
      init : 0,
      themeable : true,
      apply : "_applyIconColumnWidth"
    },
    arrowColumnWidth : {
      check : "Integer",
      init : 0,
      themeable : true,
      apply : "_applyArrowColumnWidth"
    },
    blockerColor : {
      check : "Color",
      init : null,
      nullable : true,
      apply : "_applyBlockerColor",
      themeable : true
    },
    blockerOpacity : {
      check : "Number",
      init : 1,
      apply : "_applyBlockerOpacity",
      themeable : true
    },
    selectedButton : {
      check : "qx.ui.core.Widget",
      nullable : true,
      apply : "_applySelectedButton"
    },
    openedButton : {
      check : "qx.ui.core.Widget",
      nullable : true,
      apply : "_applyOpenedButton"
    },
    opener : {
      check : "qx.ui.core.Widget",
      nullable : true
    },
    openInterval : {
      check : "Integer",
      themeable : true,
      init : 250,
      apply : "_applyOpenInterval"
    },
    closeInterval : {
      check : "Integer",
      themeable : true,
      init : 250,
      apply : "_applyCloseInterval"
    },
    blockBackground : {
      check : "Boolean",
      themeable : true,
      init : false
    }
  },
  members : {
    __scheduledOpen : null,
    __onAfterSlideBarAdd : null,
    _blocker : null,
    open : function(){

      if(this.getOpener() != null){

        var isPlaced = this.placeToWidget(this.getOpener(), true);
        if(isPlaced){

          this.__updateSlideBar();
          this.show();
          this._placementTarget = this.getOpener();
        } else {

          this.warn("Could not open menu instance because 'opener' widget is not visible");
        };
      } else {

        this.warn("The menu instance needs a configured 'opener' widget!");
      };
    },
    openAtMouse : function(e){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "Please use '_onPointerOver' instead.");
      };
      this.openAtPointer(e);
    },
    openAtPointer : function(e){

      this.placeToPointer(e);
      this.__updateSlideBar();
      this.show();
      this._placementTarget = {
        left : e.getDocumentLeft(),
        top : e.getDocumentTop()
      };
    },
    openAtPoint : function(point){

      this.placeToPoint(point);
      this.__updateSlideBar();
      this.show();
      this._placementTarget = point;
    },
    addSeparator : function(){

      this.add(new qx.ui.menu.Separator);
    },
    getColumnSizes : function(){

      return this._getMenuLayout().getColumnSizes();
    },
    getSelectables : function(){

      var result = [];
      var children = this.getChildren();
      for(var i = 0;i < children.length;i++){

        if(children[i].isEnabled()){

          result.push(children[i]);
        };
      };
      return result;
    },
    _applyIconColumnWidth : function(value, old){

      this._getMenuLayout().setIconColumnWidth(value);
    },
    _applyArrowColumnWidth : function(value, old){

      this._getMenuLayout().setArrowColumnWidth(value);
    },
    _applySpacingX : function(value, old){

      this._getMenuLayout().setColumnSpacing(value);
    },
    _applySpacingY : function(value, old){

      this._getMenuLayout().setSpacing(value);
    },
    _applyVisibility : function(value, old){

      this.base(arguments, value, old);
      var mgr = qx.ui.menu.Manager.getInstance();
      if(value === "visible"){

        mgr.add(this);
        var parentMenu = this.getParentMenu();
        if(parentMenu){

          parentMenu.setOpenedButton(this.getOpener());
        };
      } else if(old === "visible"){

        mgr.remove(this);
        var parentMenu = this.getParentMenu();
        if(parentMenu && parentMenu.getOpenedButton() == this.getOpener()){

          parentMenu.resetOpenedButton();
        };
        this.resetOpenedButton();
        this.resetSelectedButton();
      };
      this.__updateBlockerVisibility();
    },
    __updateBlockerVisibility : function(){

      if(this.isVisible()){

        if(this.getBlockBackground()){

          var zIndex = this.getZIndex();
          this._blocker.blockContent(zIndex - 1);
        };
      } else {

        if(this._blocker.isBlocked()){

          this._blocker.unblock();
        };
      };
    },
    getParentMenu : function(){

      var widget = this.getOpener();
      if(!widget || !(widget instanceof qx.ui.menu.AbstractButton)){

        return null;
      };
      if(widget && widget.getContextMenu() === this){

        return null;
      };
      while(widget && !(widget instanceof qx.ui.menu.Menu)){

        widget = widget.getLayoutParent();
      };
      return widget;
    },
    _applySelectedButton : function(value, old){

      if(old){

        old.removeState("selected");
      };
      if(value){

        value.addState("selected");
      };
    },
    _applyOpenedButton : function(value, old){

      if(old && old.getMenu()){

        old.getMenu().exclude();
      };
      if(value){

        value.getMenu().open();
      };
    },
    _applyBlockerColor : function(value, old){

      this._blocker.setColor(value);
    },
    _applyBlockerOpacity : function(value, old){

      this._blocker.setOpacity(value);
    },
    getChildrenContainer : function(){

      return this.getChildControl("slidebar", true) || this;
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "slidebar":
      var control = new qx.ui.menu.MenuSlideBar();
      var layout = this._getLayout();
      this._setLayout(new qx.ui.layout.Grow());
      var slidebarLayout = control.getLayout();
      control.setLayout(layout);
      slidebarLayout.dispose();
      var children = qx.lang.Array.clone(this.getChildren());
      for(var i = 0;i < children.length;i++){

        control.add(children[i]);
      };
      this.removeListener("resize", this._onResize, this);
      control.getChildrenContainer().addListener("resize", this._onResize, this);
      this._add(control);
      break;};
      return control || this.base(arguments, id);
    },
    _getMenuLayout : function(){

      if(this.hasChildControl("slidebar")){

        return this.getChildControl("slidebar").getChildrenContainer().getLayout();
      } else {

        return this._getLayout();
      };
    },
    _getMenuBounds : function(){

      if(this.hasChildControl("slidebar")){

        return this.getChildControl("slidebar").getChildrenContainer().getBounds();
      } else {

        return this.getBounds();
      };
    },
    _computePlacementSize : function(){

      return this._getMenuBounds();
    },
    __updateSlideBar : function(){

      var menuBounds = this._getMenuBounds();
      if(!menuBounds){

        this.addListenerOnce("resize", this.__updateSlideBar, this);
        return;
      };
      var rootHeight = this.getLayoutParent().getBounds().height;
      var top = this.getLayoutProperties().top;
      var left = this.getLayoutProperties().left;
      if(top < 0){

        this._assertSlideBar(function(){

          this.setHeight(menuBounds.height + top);
          this.moveTo(left, 0);
        });
      } else if(top + menuBounds.height > rootHeight){

        this._assertSlideBar(function(){

          this.setHeight(rootHeight - top);
        });
      } else {

        this.setHeight(null);
      };
    },
    _assertSlideBar : function(callback){

      if(this.hasChildControl("slidebar")){

        return callback.call(this);
      };
      this.__onAfterSlideBarAdd = callback;
      qx.ui.core.queue.Widget.add(this);
    },
    syncWidget : function(jobs){

      this.getChildControl("slidebar");
      if(this.__onAfterSlideBarAdd){

        this.__onAfterSlideBarAdd.call(this);
        delete this.__onAfterSlideBarAdd;
      };
    },
    _onResize : function(){

      if(this.isVisible()){

        var target = this._placementTarget;
        if(!target){

          return;
        } else if(target instanceof qx.ui.core.Widget){

          this.placeToWidget(target, true);
        } else if(target.top !== undefined){

          this.placeToPoint(target);
        } else {

          throw new Error("Unknown target: " + target);
        };;
        this.__updateSlideBar();
      };
    },
    _onPointerOver : function(e){

      var mgr = qx.ui.menu.Manager.getInstance();
      mgr.cancelClose(this);
      var target = e.getTarget();
      if(target.isEnabled() && target instanceof qx.ui.menu.AbstractButton){

        this.setSelectedButton(target);
        var subMenu = target.getMenu && target.getMenu();
        if(subMenu){

          subMenu.setOpener(target);
          mgr.scheduleOpen(subMenu);
          this.__scheduledOpen = subMenu;
        } else {

          var opened = this.getOpenedButton();
          if(opened){

            mgr.scheduleClose(opened.getMenu());
          };
          if(this.__scheduledOpen){

            mgr.cancelOpen(this.__scheduledOpen);
            this.__scheduledOpen = null;
          };
        };
      } else if(!this.getOpenedButton()){

        this.resetSelectedButton();
      };
    },
    _onPointerOut : function(e){

      var mgr = qx.ui.menu.Manager.getInstance();
      if(!qx.ui.core.Widget.contains(this, e.getRelatedTarget())){

        var opened = this.getOpenedButton();
        opened ? this.setSelectedButton(opened) : this.resetSelectedButton();
        if(opened){

          mgr.cancelClose(opened.getMenu());
        };
        if(this.__scheduledOpen){

          mgr.cancelOpen(this.__scheduledOpen);
        };
      };
    }
  },
  destruct : function(){

    if(!qx.core.ObjectRegistry.inShutDown){

      qx.ui.menu.Manager.getInstance().remove(this);
    };
    this.getApplicationRoot().removeListener("resize", this._onResize, this);
    this._placementTarget = null;
    this._disposeObjects("_blocker");
  }
});

qx.Class.define("qx.ui.menu.Layout", {
  extend : qx.ui.layout.VBox,
  properties : {
    columnSpacing : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    spanColumn : {
      check : "Integer",
      init : 1,
      nullable : true,
      apply : "_applyLayoutChange"
    },
    iconColumnWidth : {
      check : "Integer",
      init : 0,
      themeable : true,
      apply : "_applyLayoutChange"
    },
    arrowColumnWidth : {
      check : "Integer",
      init : 0,
      themeable : true,
      apply : "_applyLayoutChange"
    }
  },
  members : {
    __columnSizes : null,
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var child,sizes,spacing;
      var spanColumn = this.getSpanColumn();
      var columnSizes = this.__columnSizes = [0, 0, 0, 0];
      var columnSpacing = this.getColumnSpacing();
      var spanColumnWidth = 0;
      var maxInset = 0;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(child.isAnonymous()){

          continue;
        };
        sizes = child.getChildrenSizes();
        for(var column = 0;column < sizes.length;column++){

          if(spanColumn != null && column == spanColumn && sizes[spanColumn + 1] == 0){

            spanColumnWidth = Math.max(spanColumnWidth, sizes[column]);
          } else {

            columnSizes[column] = Math.max(columnSizes[column], sizes[column]);
          };
        };
        var insets = children[i].getInsets();
        maxInset = Math.max(maxInset, insets.left + insets.right);
      };
      if(spanColumn != null && columnSizes[spanColumn] + columnSpacing + columnSizes[spanColumn + 1] < spanColumnWidth){

        columnSizes[spanColumn] = spanColumnWidth - columnSizes[spanColumn + 1] - columnSpacing;
      };
      if(spanColumnWidth == 0){

        spacing = columnSpacing * 2;
      } else {

        spacing = columnSpacing * 3;
      };
      if(columnSizes[0] == 0){

        columnSizes[0] = this.getIconColumnWidth();
      };
      if(columnSizes[3] == 0){

        columnSizes[3] = this.getArrowColumnWidth();
      };
      var height = this.base(arguments).height;
      return {
        minHeight : height,
        height : height,
        width : qx.lang.Array.sum(columnSizes) + maxInset + spacing
      };
    },
    getColumnSizes : function(){

      return this.__columnSizes || null;
    }
  },
  destruct : function(){

    this.__columnSizes = null;
  }
});

qx.Class.define("qx.ui.core.Blocker", {
  extend : qx.core.Object,
  events : {
    blocked : "qx.event.type.Event",
    unblocked : "qx.event.type.Event"
  },
  construct : function(widget){

    this.base(arguments);
    this._widget = widget;
    widget.addListener("resize", this.__onBoundsChange, this);
    widget.addListener("move", this.__onBoundsChange, this);
    widget.addListener("disappear", this.__onWidgetDisappear, this);
    if(qx.Class.isDefined("qx.ui.root.Abstract") && widget instanceof qx.ui.root.Abstract){

      this._isRoot = true;
      this.setKeepBlockerActive(true);
    };
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Color.getInstance().addListener("changeTheme", this._onChangeTheme, this);
    };
    this.__activeElements = [];
    this.__focusElements = [];
  },
  properties : {
    color : {
      check : "Color",
      init : null,
      nullable : true,
      apply : "_applyColor",
      themeable : true
    },
    opacity : {
      check : "Number",
      init : 1,
      apply : "_applyOpacity",
      themeable : true
    },
    keepBlockerActive : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __blocker : null,
    __blockerCount : 0,
    __activeElements : null,
    __focusElements : null,
    __timer : null,
    _widget : null,
    _isRoot : false,
    __appearListener : null,
    __onBoundsChange : function(e){

      var data = e.getData();
      if(this.isBlocked()){

        this._updateBlockerBounds(data);
      };
    },
    __onWidgetAppear : function(){

      this._updateBlockerBounds(this._widget.getBounds());
      if(this._widget.isRootWidget()){

        this._widget.getContentElement().add(this.getBlockerElement());
      } else {

        this._widget.getLayoutParent().getContentElement().add(this.getBlockerElement());
      };
    },
    __onWidgetDisappear : function(){

      if(this.isBlocked()){

        this.getBlockerElement().getParent().remove(this.getBlockerElement());
        this._widget.addListenerOnce("appear", this.__onWidgetAppear, this);
      };
    },
    _updateBlockerBounds : function(bounds){

      this.getBlockerElement().setStyles({
        width : bounds.width + "px",
        height : bounds.height + "px",
        left : bounds.left + "px",
        top : bounds.top + "px"
      });
    },
    _applyColor : function(value, old){

      var color = qx.theme.manager.Color.getInstance().resolve(value);
      this.__setBlockersStyle("backgroundColor", color);
    },
    _applyOpacity : function(value, old){

      this.__setBlockersStyle("opacity", value);
    },
    _onChangeTheme : qx.core.Environment.select("qx.dyntheme", {
      "true" : function(){

        this._applyColor(this.getColor());
      },
      "false" : null
    }),
    __setBlockersStyle : function(key, value){

      var blockers = [];
      this.__blocker && blockers.push(this.__blocker);
      for(var i = 0;i < blockers.length;i++){

        blockers[i].setStyle(key, value);
      };
    },
    _backupActiveWidget : function(){

      var focusHandler = qx.event.Registration.getManager(window).getHandler(qx.event.handler.Focus);
      this.__activeElements.push(focusHandler.getActive());
      this.__focusElements.push(focusHandler.getFocus());
      if(this._widget.isFocusable()){

        this._widget.focus();
      };
    },
    _restoreActiveWidget : function(){

      var activeElementsLength = this.__activeElements.length;
      if(activeElementsLength > 0){

        var widget = this.__activeElements[activeElementsLength - 1];
        if(widget){

          qx.bom.Element.activate(widget);
        };
        this.__activeElements.pop();
      };
      var focusElementsLength = this.__focusElements.length;
      if(focusElementsLength > 0){

        var widget = this.__focusElements[focusElementsLength - 1];
        if(widget){

          qx.bom.Element.focus(this.__focusElements[focusElementsLength - 1]);
        };
        this.__focusElements.pop();
      };
    },
    __createBlockerElement : function(){

      return new qx.html.Blocker(this.getColor(), this.getOpacity());
    },
    getBlockerElement : function(widget){

      if(!this.__blocker){

        this.__blocker = this.__createBlockerElement();
        this.__blocker.setStyle("zIndex", 15);
        if(!widget){

          if(this._isRoot){

            widget = this._widget;
          } else {

            widget = this._widget.getLayoutParent();
          };
        };
        widget.getContentElement().add(this.__blocker);
        this.__blocker.exclude();
      };
      return this.__blocker;
    },
    block : function(){

      this._block();
    },
    _block : function(zIndex, blockContent){

      if(!this._isRoot && !this._widget.getLayoutParent()){

        this.__appearListener = this._widget.addListenerOnce("appear", this._block.bind(this, zIndex));
        return;
      };
      var parent;
      if(this._isRoot || blockContent){

        parent = this._widget;
      } else {

        parent = this._widget.getLayoutParent();
      };
      var blocker = this.getBlockerElement(parent);
      if(zIndex != null){

        blocker.setStyle("zIndex", zIndex);
      };
      this.__blockerCount++;
      if(this.__blockerCount < 2){

        this._backupActiveWidget();
        var bounds = this._widget.getBounds();
        if(bounds){

          this._updateBlockerBounds(bounds);
        };
        blocker.include();
        if(!blockContent){

          blocker.activate();
        };
        blocker.addListener("deactivate", this.__activateBlockerElement, this);
        blocker.addListener("keypress", this.__stopTabEvent, this);
        blocker.addListener("keydown", this.__stopTabEvent, this);
        blocker.addListener("keyup", this.__stopTabEvent, this);
        this.fireEvent("blocked", qx.event.type.Event);
      };
    },
    isBlocked : function(){

      return this.__blockerCount > 0;
    },
    unblock : function(){

      if(this.__appearListener){

        this._widget.removeListenerById(this.__appearListener);
      };
      if(!this.isBlocked()){

        return;
      };
      this.__blockerCount--;
      if(this.__blockerCount < 1){

        this.__unblock();
        this.__blockerCount = 0;
      };
    },
    forceUnblock : function(){

      if(!this.isBlocked()){

        return;
      };
      this.__blockerCount = 0;
      this.__unblock();
    },
    __unblock : function(){

      this._restoreActiveWidget();
      var blocker = this.getBlockerElement();
      blocker.removeListener("deactivate", this.__activateBlockerElement, this);
      blocker.removeListener("keypress", this.__stopTabEvent, this);
      blocker.removeListener("keydown", this.__stopTabEvent, this);
      blocker.removeListener("keyup", this.__stopTabEvent, this);
      blocker.exclude();
      this.fireEvent("unblocked", qx.event.type.Event);
    },
    blockContent : function(zIndex){

      this._block(zIndex, true);
    },
    __stopTabEvent : function(e){

      if(e.getKeyIdentifier() == "Tab"){

        e.stop();
      };
    },
    __activateBlockerElement : function(){

      if(this.getKeepBlockerActive()){

        this.getBlockerElement().activate();
      };
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Color.getInstance().removeListener("changeTheme", this._onChangeTheme, this);
    };
    this._widget.removeListener("resize", this.__onBoundsChange, this);
    this._widget.removeListener("move", this.__onBoundsChange, this);
    this._widget.removeListener("appear", this.__onWidgetAppear, this);
    this._widget.removeListener("disappear", this.__onWidgetDisappear, this);
    if(this.__appearListener){

      this._widget.removeListenerById(this.__appearListener);
    };
    this._disposeObjects("__blocker", "__timer");
    this.__activeElements = this.__focusElements = this._widget = null;
  }
});

qx.Class.define("qx.html.Blocker", {
  extend : qx.html.Element,
  construct : function(backgroundColor, opacity){

    var backgroundColor = backgroundColor ? qx.theme.manager.Color.getInstance().resolve(backgroundColor) : null;
    var styles = {
      position : "absolute",
      opacity : opacity || 0,
      backgroundColor : backgroundColor
    };
    if((qx.core.Environment.get("engine.name") == "mshtml")){

      styles.backgroundImage = "url(" + qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif") + ")";
      styles.backgroundRepeat = "repeat";
    };
    this.base(arguments, "div", styles);
    this.addListener("mousedown", this._stopPropagation, this);
    this.addListener("mouseup", this._stopPropagation, this);
    this.addListener("click", this._stopPropagation, this);
    this.addListener("dblclick", this._stopPropagation, this);
    this.addListener("mousemove", this._stopPropagation, this);
    this.addListener("mouseover", this._stopPropagation, this);
    this.addListener("mouseout", this._stopPropagation, this);
    this.addListener("mousewheel", this._stopPropagation, this);
    this.addListener("roll", this._stopPropagation, this);
    this.addListener("contextmenu", this._stopPropagation, this);
    this.addListener("pointerdown", this._stopPropagation, this);
    this.addListener("pointerup", this._stopPropagation, this);
    this.addListener("pointermove", this._stopPropagation, this);
    this.addListener("pointerover", this._stopPropagation, this);
    this.addListener("pointerout", this._stopPropagation, this);
    this.addListener("tap", this._stopPropagation, this);
    this.addListener("dbltap", this._stopPropagation, this);
    this.addListener("swipe", this._stopPropagation, this);
    this.addListener("longtap", this._stopPropagation, this);
    this.addListener("appear", this.__refreshCursor, this);
    this.addListener("disappear", this.__refreshCursor, this);
  },
  members : {
    _stopPropagation : function(e){

      e.stopPropagation();
    },
    __refreshCursor : function(){

      var currentCursor = this.getStyle("cursor");
      this.setStyle("cursor", null, true);
      this.setStyle("cursor", currentCursor, true);
    }
  }
});

qx.Class.define("qx.ui.menu.Separator", {
  extend : qx.ui.core.Widget,
  properties : {
    appearance : {
      refine : true,
      init : "menu-separator"
    },
    anonymous : {
      refine : true,
      init : true
    }
  }
});

qx.Class.define("qx.ui.menu.AbstractButton", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MExecutable],
  implement : [qx.ui.form.IExecutable],
  type : "abstract",
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.menu.ButtonLayout);
    this.addListener("tap", this._onTap);
    this.addListener("keypress", this._onKeyPress);
    this.addListener("changeCommand", this._onChangeCommand, this);
  },
  properties : {
    blockToolTip : {
      refine : true,
      init : true
    },
    label : {
      check : "String",
      apply : "_applyLabel",
      nullable : true,
      event : "changeLabel"
    },
    menu : {
      check : "qx.ui.menu.Menu",
      apply : "_applyMenu",
      nullable : true,
      dereference : true,
      event : "changeMenu"
    },
    icon : {
      check : "String",
      apply : "_applyIcon",
      themeable : true,
      nullable : true,
      event : "changeIcon"
    },
    showCommandLabel : {
      check : "Boolean",
      apply : "_applyShowCommandLabel",
      themeable : true,
      init : true,
      event : "changeShowCommandLabel"
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "icon":
      control = new qx.ui.basic.Image;
      control.setAnonymous(true);
      this._add(control, {
        column : 0
      });
      break;case "label":
      control = new qx.ui.basic.Label;
      control.setAnonymous(true);
      this._add(control, {
        column : 1
      });
      break;case "shortcut":
      control = new qx.ui.basic.Label;
      control.setAnonymous(true);
      if(!this.getShowCommandLabel()){

        control.exclude();
      };
      this._add(control, {
        column : 2
      });
      break;case "arrow":
      control = new qx.ui.basic.Image;
      control.setAnonymous(true);
      this._add(control, {
        column : 3
      });
      break;};
      return control || this.base(arguments, id);
    },
    _forwardStates : {
      selected : 1
    },
    getChildrenSizes : function(){

      var iconWidth = 0,labelWidth = 0,shortcutWidth = 0,arrowWidth = 0;
      if(this._isChildControlVisible("icon")){

        var icon = this.getChildControl("icon");
        iconWidth = icon.getMarginLeft() + icon.getSizeHint().width + icon.getMarginRight();
      };
      if(this._isChildControlVisible("label")){

        var label = this.getChildControl("label");
        labelWidth = label.getMarginLeft() + label.getSizeHint().width + label.getMarginRight();
      };
      if(this._isChildControlVisible("shortcut")){

        var shortcut = this.getChildControl("shortcut");
        shortcutWidth = shortcut.getMarginLeft() + shortcut.getSizeHint().width + shortcut.getMarginRight();
      };
      if(this._isChildControlVisible("arrow")){

        var arrow = this.getChildControl("arrow");
        arrowWidth = arrow.getMarginLeft() + arrow.getSizeHint().width + arrow.getMarginRight();
      };
      return [iconWidth, labelWidth, shortcutWidth, arrowWidth];
    },
    _onTap : function(e){
    },
    _onKeyPress : function(e){
    },
    _onChangeCommand : function(e){

      var command = e.getData();
      if(command == null){

        return;
      };
      if(qx.core.Environment.get("qx.dynlocale")){

        var oldCommand = e.getOldData();
        if(!oldCommand){

          qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
        };
        if(!command){

          qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
        };
      };
      var cmdString = command != null ? command.toString() : "";
      this.getChildControl("shortcut").setValue(cmdString);
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        var command = this.getCommand();
        if(command != null){

          this.getChildControl("shortcut").setValue(command.toString());
        };
      },
      "false" : null
    }),
    _applyIcon : function(value, old){

      if(value){

        this._showChildControl("icon").setSource(value);
      } else {

        this._excludeChildControl("icon");
      };
    },
    _applyLabel : function(value, old){

      if(value){

        this._showChildControl("label").setValue(value);
      } else {

        this._excludeChildControl("label");
      };
    },
    _applyMenu : function(value, old){

      if(old){

        old.resetOpener();
        old.removeState("submenu");
      };
      if(value){

        this._showChildControl("arrow");
        value.setOpener(this);
        value.addState("submenu");
      } else {

        this._excludeChildControl("arrow");
      };
    },
    _applyShowCommandLabel : function(value, old){

      if(value){

        this._showChildControl("shortcut");
      } else {

        this._excludeChildControl("shortcut");
      };
    }
  },
  destruct : function(){

    this.removeListener("changeCommand", this._onChangeCommand, this);
    if(this.getMenu()){

      if(!qx.core.ObjectRegistry.inShutDown){

        this.getMenu().destroy();
      };
    };
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
  }
});

qx.Class.define("qx.ui.menu.ButtonLayout", {
  extend : qx.ui.layout.Abstract,
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(name == "column", "The property '" + name + "' is not supported by the MenuButton layout!");
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      var child;
      var column;
      var columnChildren = [];
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        column = child.getLayoutProperties().column;
        columnChildren[column] = child;
      };
      var menu = this.__getMenu(children[0]);
      var columns = menu.getColumnSizes();
      var spacing = menu.getSpacingX();
      var neededWidth = qx.lang.Array.sum(columns) + spacing * (columns.length - 1);
      if(neededWidth < availWidth){

        columns[1] += availWidth - neededWidth;
      };
      var left = padding.left,top = padding.top;
      var Util = qx.ui.layout.Util;
      for(var i = 0,l = columns.length;i < l;i++){

        child = columnChildren[i];
        if(child){

          var hint = child.getSizeHint();
          var childTop = top + Util.computeVerticalAlignOffset(child.getAlignY() || "middle", hint.height, availHeight, 0, 0);
          var offsetLeft = Util.computeHorizontalAlignOffset(child.getAlignX() || "left", hint.width, columns[i], child.getMarginLeft(), child.getMarginRight());
          child.renderLayout(left + offsetLeft, childTop, hint.width, hint.height);
        };
        if(columns[i] > 0){

          left += columns[i] + spacing;
        };
      };
    },
    __getMenu : function(widget){

      while(!(widget instanceof qx.ui.menu.Menu)){

        widget = widget.getLayoutParent();
      };
      return widget;
    },
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var neededHeight = 0;
      var neededWidth = 0;
      for(var i = 0,l = children.length;i < l;i++){

        var hint = children[i].getSizeHint();
        neededWidth += hint.width;
        neededHeight = Math.max(neededHeight, hint.height);
      };
      return {
        width : neededWidth,
        height : neededHeight
      };
    }
  }
});

qx.Mixin.define("qx.ui.core.MRemoteLayoutHandling", {
  members : {
    setLayout : function(layout){

      this.getChildrenContainer().setLayout(layout);
    },
    getLayout : function(){

      return this.getChildrenContainer().getLayout();
    }
  }
});

qx.Class.define("qx.ui.container.SlideBar", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MRemoteChildrenHandling, qx.ui.core.MRemoteLayoutHandling],
  construct : function(orientation){

    this.base(arguments);
    var scrollPane = this.getChildControl("scrollpane");
    this._add(scrollPane, {
      flex : 1
    });
    if(orientation != null){

      this.setOrientation(orientation);
    } else {

      this.initOrientation();
    };
    this.addListener("roll", this._onRoll, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "slidebar"
    },
    orientation : {
      check : ["horizontal", "vertical"],
      init : "horizontal",
      apply : "_applyOrientation"
    },
    scrollStep : {
      check : "Integer",
      init : 15,
      themeable : true
    }
  },
  events : {
    scrollAnimationEnd : "qx.event.type.Event"
  },
  members : {
    getChildrenContainer : function(){

      return this.getChildControl("content");
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "button-forward":
      control = new qx.ui.form.RepeatButton;
      control.addListener("execute", this._onExecuteForward, this);
      control.setFocusable(false);
      this._addAt(control, 2);
      break;case "button-backward":
      control = new qx.ui.form.RepeatButton;
      control.addListener("execute", this._onExecuteBackward, this);
      control.setFocusable(false);
      this._addAt(control, 0);
      break;case "content":
      control = new qx.ui.container.Composite();
      this.getChildControl("scrollpane").add(control);
      break;case "scrollpane":
      control = new qx.ui.core.scroll.ScrollPane();
      control.addListener("update", this._onResize, this);
      control.addListener("scrollX", this._onScroll, this);
      control.addListener("scrollY", this._onScroll, this);
      control.addListener("scrollAnimationEnd", this._onScrollAnimationEnd, this);
      break;};
      return control || this.base(arguments, id);
    },
    _forwardStates : {
      barLeft : true,
      barTop : true,
      barRight : true,
      barBottom : true
    },
    scrollBy : function(offset, duration){

      var pane = this.getChildControl("scrollpane");
      if(this.getOrientation() === "horizontal"){

        pane.scrollByX(offset, duration);
      } else {

        pane.scrollByY(offset, duration);
      };
    },
    scrollTo : function(value, duration){

      var pane = this.getChildControl("scrollpane");
      if(this.getOrientation() === "horizontal"){

        pane.scrollToX(value, duration);
      } else {

        pane.scrollToY(value, duration);
      };
    },
    _applyEnabled : function(value, old, name){

      this.base(arguments, value, old, name);
      this._updateArrowsEnabled();
    },
    _applyOrientation : function(value, old){

      var oldLayouts = [this.getLayout(), this._getLayout()];
      var buttonForward = this.getChildControl("button-forward");
      var buttonBackward = this.getChildControl("button-backward");
      if(old == "vertical" && value == "horizontal"){

        buttonForward.removeState("vertical");
        buttonBackward.removeState("vertical");
        buttonForward.addState("horizontal");
        buttonBackward.addState("horizontal");
      } else if(old == "horizontal" && value == "vertical"){

        buttonForward.removeState("horizontal");
        buttonBackward.removeState("horizontal");
        buttonForward.addState("vertical");
        buttonBackward.addState("vertical");
      };
      if(value == "horizontal"){

        this._setLayout(new qx.ui.layout.HBox());
        this.setLayout(new qx.ui.layout.HBox());
      } else {

        this._setLayout(new qx.ui.layout.VBox());
        this.setLayout(new qx.ui.layout.VBox());
      };
      if(oldLayouts[0]){

        oldLayouts[0].dispose();
      };
      if(oldLayouts[1]){

        oldLayouts[1].dispose();
      };
    },
    _onRoll : function(e){

      if(e.getPointerType() == "mouse"){

        return;
      };
      var delta = 0;
      var pane = this.getChildControl("scrollpane");
      if(this.getOrientation() === "horizontal"){

        delta = e.getDelta().x;
        var position = pane.getScrollX();
        var max = pane.getScrollMaxX();
        var steps = parseInt(delta);
        if(!(steps < 0 && position <= 0 || steps > 0 && position >= max || delta == 0)){

          e.stop();
        } else {

          e.stopMomentum();
        };
      } else {

        delta = e.getDelta().y;
        var position = pane.getScrollY();
        var max = pane.getScrollMaxY();
        var steps = parseInt(delta);
        if(!(steps < 0 && position <= 0 || steps > 0 && position >= max || delta == 0)){

          e.stop();
        } else {

          e.stopMomentum();
        };
      };
      this.scrollBy(parseInt(delta, 10));
      if(e.getMomentum()){

        e.stop();
      };
    },
    _onScroll : function(){

      this._updateArrowsEnabled();
    },
    _onScrollAnimationEnd : function(){

      this.fireEvent("scrollAnimationEnd");
    },
    _onResize : function(e){

      var content = this.getChildControl("scrollpane").getChildren()[0];
      if(!content){

        return;
      };
      var innerSize = this.getInnerSize();
      var contentSize = content.getBounds();
      var overflow = (this.getOrientation() === "horizontal") ? contentSize.width > innerSize.width : contentSize.height > innerSize.height;
      if(overflow){

        this._showArrows();
        this._updateArrowsEnabled();
      } else {

        this._hideArrows();
      };
    },
    _onExecuteBackward : function(){

      this.scrollBy(-this.getScrollStep());
    },
    _onExecuteForward : function(){

      this.scrollBy(this.getScrollStep());
    },
    _updateArrowsEnabled : function(){

      if(!this.getEnabled()){

        this.getChildControl("button-backward").setEnabled(false);
        this.getChildControl("button-forward").setEnabled(false);
        return;
      };
      var pane = this.getChildControl("scrollpane");
      if(this.getOrientation() === "horizontal"){

        var position = pane.getScrollX();
        var max = pane.getScrollMaxX();
      } else {

        var position = pane.getScrollY();
        var max = pane.getScrollMaxY();
      };
      this.getChildControl("button-backward").setEnabled(position > 0);
      this.getChildControl("button-forward").setEnabled(position < max);
    },
    _showArrows : function(){

      this._showChildControl("button-forward");
      this._showChildControl("button-backward");
    },
    _hideArrows : function(){

      this._excludeChildControl("button-forward");
      this._excludeChildControl("button-backward");
      this.scrollTo(0);
    }
  }
});

qx.Class.define("qx.ui.menu.MenuSlideBar", {
  extend : qx.ui.container.SlideBar,
  construct : function(){

    this.base(arguments, "vertical");
  },
  properties : {
    appearance : {
      refine : true,
      init : "menu-slidebar"
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "button-forward":
      control = new qx.ui.form.HoverButton();
      control.addListener("execute", this._onExecuteForward, this);
      this._addAt(control, 2);
      break;case "button-backward":
      control = new qx.ui.form.HoverButton();
      control.addListener("execute", this._onExecuteBackward, this);
      this._addAt(control, 0);
      break;};
      return control || this.base(arguments, id);
    }
  }
});

qx.Class.define("qx.ui.form.HoverButton", {
  extend : qx.ui.basic.Atom,
  include : [qx.ui.core.MExecutable],
  implement : [qx.ui.form.IExecutable],
  construct : function(label, icon){

    this.base(arguments, label, icon);
    this.addListener("pointerover", this._onPointerOver, this);
    this.addListener("pointerout", this._onPointerOut, this);
    this.__timer = new qx.event.AcceleratingTimer();
    this.__timer.addListener("interval", this._onInterval, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "hover-button"
    },
    interval : {
      check : "Integer",
      init : 80
    },
    firstInterval : {
      check : "Integer",
      init : 200
    },
    minTimer : {
      check : "Integer",
      init : 20
    },
    timerDecrease : {
      check : "Integer",
      init : 2
    }
  },
  members : {
    __timer : null,
    _onPointerOver : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      this.__timer.set({
        interval : this.getInterval(),
        firstInterval : this.getFirstInterval(),
        minimum : this.getMinTimer(),
        decrease : this.getTimerDecrease()
      }).start();
      this.addState("hovered");
    },
    _onPointerOut : function(e){

      this.__timer.stop();
      this.removeState("hovered");
      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
    },
    _onInterval : function(){

      if(this.isEnabled()){

        this.execute();
      } else {

        this.__timer.stop();
      };
    }
  },
  destruct : function(){

    this._disposeObjects("__timer");
  }
});

qx.Class.define("qx.ui.menubar.Button", {
  extend : qx.ui.form.MenuButton,
  construct : function(label, icon, menu){

    this.base(arguments, label, icon, menu);
    this.removeListener("keydown", this._onKeyDown);
    this.removeListener("keyup", this._onKeyUp);
  },
  properties : {
    appearance : {
      refine : true,
      init : "menubar-button"
    },
    show : {
      refine : true,
      init : "inherit"
    },
    focusable : {
      refine : true,
      init : false
    }
  },
  members : {
    getMenuBar : function(){

      var parent = this;
      while(parent){

        if(parent instanceof qx.ui.toolbar.ToolBar){

          return parent;
        };
        parent = parent.getLayoutParent();
      };
      return null;
    },
    open : function(selectFirst){

      this.base(arguments, selectFirst);
      var menubar = this.getMenuBar();
      if(menubar){

        menubar._setAllowMenuOpenHover(true);
      };
    },
    _onMenuChange : function(e){

      var menu = this.getMenu();
      var menubar = this.getMenuBar();
      if(menu.isVisible()){

        this.addState("pressed");
        if(menubar){

          menubar.setOpenMenu(menu);
        };
      } else {

        this.removeState("pressed");
        if(menubar && menubar.getOpenMenu() == menu){

          menubar.resetOpenMenu();
          menubar._setAllowMenuOpenHover(false);
        };
      };
    },
    _onPointerUp : function(e){

      this.base(arguments, e);
      var menu = this.getMenu();
      if(menu && menu.isVisible() && !this.hasState("pressed")){

        this.addState("pressed");
      };
    },
    _onPointerOver : function(e){

      this.addState("hovered");
      if(this.getMenu() && e.getPointerType() == "mouse"){

        var menubar = this.getMenuBar();
        if(menubar && menubar._isAllowMenuOpenHover()){

          qx.ui.menu.Manager.getInstance().hideAll();
          menubar._setAllowMenuOpenHover(true);
          if(this.isEnabled()){

            this.open();
          };
        };
      };
    }
  }
});

qx.Class.define("qx.ui.toolbar.ToolBar", {
  extend : qx.ui.core.Widget,
  include : qx.ui.core.MChildrenHandling,
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.HBox());
    this.__removedItems = [];
    this.__removePriority = [];
  },
  properties : {
    appearance : {
      refine : true,
      init : "toolbar"
    },
    openMenu : {
      check : "qx.ui.menu.Menu",
      event : "changeOpenMenu",
      nullable : true
    },
    show : {
      init : "both",
      check : ["both", "label", "icon"],
      inheritable : true,
      apply : "_applyShow",
      event : "changeShow"
    },
    spacing : {
      nullable : true,
      check : "Integer",
      themeable : true,
      apply : "_applySpacing"
    },
    overflowIndicator : {
      check : "qx.ui.core.Widget",
      nullable : true,
      apply : "_applyOverflowIndicator"
    },
    overflowHandling : {
      init : false,
      check : "Boolean",
      apply : "_applyOverflowHandling"
    }
  },
  events : {
    "hideItem" : "qx.event.type.Data",
    "showItem" : "qx.event.type.Data"
  },
  members : {
    __removedItems : null,
    __removePriority : null,
    _computeSizeHint : function(){

      var hint = this.base(arguments);
      if(true && this.getOverflowHandling()){

        var minWidth = 0;
        var overflowWidget = this.getOverflowIndicator();
        if(overflowWidget){

          minWidth = overflowWidget.getSizeHint().width + this.getSpacing();
        };
        hint.minWidth = minWidth;
      };
      return hint;
    },
    _onResize : function(e){

      this._recalculateOverflow(e.getData().width);
    },
    _recalculateOverflow : function(width, requiredWidth){

      if(!this.getOverflowHandling()){

        return;
      };
      requiredWidth = requiredWidth || this.getSizeHint().width;
      var overflowWidget = this.getOverflowIndicator();
      var overflowWidgetWidth = 0;
      if(overflowWidget){

        overflowWidgetWidth = overflowWidget.getSizeHint().width;
      };
      if(width == undefined && this.getBounds() != null){

        width = this.getBounds().width;
      };
      if(width == undefined){

        return;
      };
      if(width < requiredWidth){

        do {

          var childToHide = this._getNextToHide();
          if(!childToHide){

            return;
          };
          var margins = childToHide.getMarginLeft() + childToHide.getMarginRight();
          margins = Math.max(margins, this.getSpacing());
          var childWidth = childToHide.getSizeHint().width + margins;
          this.__hideChild(childToHide);
          requiredWidth -= childWidth;
          if(overflowWidget && overflowWidget.getVisibility() != "visible"){

            overflowWidget.setVisibility("visible");
            requiredWidth += overflowWidgetWidth;
            var overflowWidgetMargins = overflowWidget.getMarginLeft() + overflowWidget.getMarginRight();
            requiredWidth += Math.max(overflowWidgetMargins, this.getSpacing());
          };
        }while((requiredWidth > width));
      } else if(this.__removedItems.length > 0){

        do {

          var removedChild = this.__removedItems[0];
          if(removedChild){

            var margins = removedChild.getMarginLeft() + removedChild.getMarginRight();
            margins = Math.max(margins, this.getSpacing());
            if(removedChild.getContentElement().getDomElement() == null){

              removedChild.syncAppearance();
              removedChild.invalidateLayoutCache();
            };
            var removedChildWidth = removedChild.getSizeHint().width;
            var fits = false;
            if(this.__removedItems.length == 1 && overflowWidgetWidth > 0){

              var addedMargin = margins - this.getSpacing();
              var wouldRequiredWidth = requiredWidth - overflowWidgetWidth + removedChildWidth + addedMargin;
              fits = width > wouldRequiredWidth;
            };
            if(width > requiredWidth + removedChildWidth + margins || fits){

              this.__showChild(removedChild);
              requiredWidth += removedChildWidth;
              if(overflowWidget && this.__removedItems.length == 0){

                overflowWidget.setVisibility("excluded");
              };
            } else {

              return;
            };
          };
        }while((width >= requiredWidth && this.__removedItems.length > 0));
      };
    },
    __showChild : function(child){

      child.setVisibility("visible");
      this.__removedItems.shift();
      this.fireDataEvent("showItem", child);
    },
    __hideChild : function(child){

      if(!child){

        return;
      };
      this.__removedItems.unshift(child);
      child.setVisibility("excluded");
      this.fireDataEvent("hideItem", child);
    },
    _getNextToHide : function(){

      for(var i = this.__removePriority.length - 1;i >= 0;i--){

        var item = this.__removePriority[i];
        if(item && item.getVisibility && item.getVisibility() == "visible"){

          return item;
        };
      };
      var children = this._getChildren();
      for(var i = children.length - 1;i >= 0;i--){

        var child = children[i];
        if(child == this.getOverflowIndicator()){

          continue;
        };
        if(child.getVisibility && child.getVisibility() == "visible"){

          return child;
        };
      };
    },
    setRemovePriority : function(item, priority, override){

      if(!override && this.__removePriority[priority] != undefined){

        throw new Error("Priority already in use!");
      };
      this.__removePriority[priority] = item;
    },
    _applyOverflowHandling : function(value, old){

      this.invalidateLayoutCache();
      var parent = this.getLayoutParent();
      if(parent){

        parent.invalidateLayoutCache();
      };
      var bounds = this.getBounds();
      if(bounds && bounds.width){

        this._recalculateOverflow(bounds.width);
      };
      if(value){

        this.addListener("resize", this._onResize, this);
      } else {

        this.removeListener("resize", this._onResize, this);
        var overflowIndicator = this.getOverflowIndicator();
        if(overflowIndicator){

          overflowIndicator.setVisibility("excluded");
        };
        for(var i = 0;i < this.__removedItems.length;i++){

          this.__removedItems[i].setVisibility("visible");
        };
        this.__removedItems = [];
      };
    },
    _applyOverflowIndicator : function(value, old){

      if(old){

        this._remove(old);
      };
      if(value){

        if(this._indexOf(value) == -1){

          throw new Error("Widget must be child of the toolbar.");
        };
        value.setVisibility("excluded");
      };
    },
    __allowMenuOpenHover : false,
    _setAllowMenuOpenHover : function(value){

      this.__allowMenuOpenHover = value;
    },
    _isAllowMenuOpenHover : function(){

      return this.__allowMenuOpenHover;
    },
    _applySpacing : function(value, old){

      var layout = this._getLayout();
      value == null ? layout.resetSpacing() : layout.setSpacing(value);
    },
    _applyShow : function(value){

      var children = this._getChildren();
      for(var i = 0;i < children.length;i++){

        if(children[i].setShow){

          children[i].setShow(value);
        };
      };
    },
    _add : function(child, options){

      this.base(arguments, child, options);
      if(child.setShow && !qx.util.PropertyUtil.getUserValue(child, "show")){

        child.setShow(this.getShow());
      };
      var newWidth = this.getSizeHint().width + child.getSizeHint().width + 2 * this.getSpacing();
      this._recalculateOverflow(null, newWidth);
    },
    _addAt : function(child, index, options){

      this.base(arguments, child, index, options);
      if(child.setShow && !qx.util.PropertyUtil.getUserValue(child, "show")){

        child.setShow(this.getShow());
      };
      var newWidth = this.getSizeHint().width + child.getSizeHint().width + 2 * this.getSpacing();
      this._recalculateOverflow(null, newWidth);
    },
    _addBefore : function(child, before, options){

      this.base(arguments, child, before, options);
      if(child.setShow && !qx.util.PropertyUtil.getUserValue(child, "show")){

        child.setShow(this.getShow());
      };
      var newWidth = this.getSizeHint().width + child.getSizeHint().width + 2 * this.getSpacing();
      this._recalculateOverflow(null, newWidth);
    },
    _addAfter : function(child, after, options){

      this.base(arguments, child, after, options);
      if(child.setShow && !qx.util.PropertyUtil.getUserValue(child, "show")){

        child.setShow(this.getShow());
      };
      var newWidth = this.getSizeHint().width + child.getSizeHint().width + 2 * this.getSpacing();
      this._recalculateOverflow(null, newWidth);
    },
    _remove : function(child){

      this.base(arguments, child);
      var newWidth = this.getSizeHint().width - child.getSizeHint().width - 2 * this.getSpacing();
      this._recalculateOverflow(null, newWidth);
    },
    _removeAt : function(index){

      var child = this._getChildren()[index];
      this.base(arguments, index);
      var newWidth = this.getSizeHint().width - child.getSizeHint().width - 2 * this.getSpacing();
      this._recalculateOverflow(null, newWidth);
    },
    _removeAll : function(){

      this.base(arguments);
      this._recalculateOverflow(null, 0);
    },
    addSpacer : function(){

      var spacer = new qx.ui.core.Spacer;
      this._add(spacer, {
        flex : 1
      });
      return spacer;
    },
    addSeparator : function(){

      this.add(new qx.ui.toolbar.Separator);
    },
    getMenuButtons : function(){

      var children = this.getChildren();
      var buttons = [];
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(child instanceof qx.ui.menubar.Button){

          buttons.push(child);
        } else if(child instanceof qx.ui.toolbar.Part){

          buttons.push.apply(buttons, child.getMenuButtons());
        };
      };
      return buttons;
    }
  },
  destruct : function(){

    if(this.hasListener("resize")){

      this.removeListener("resize", this._onResize, this);
    };
  }
});

qx.Class.define("qx.ui.core.Spacer", {
  extend : qx.ui.core.LayoutItem,
  construct : function(width, height){

    this.base(arguments);
    this.setWidth(width != null ? width : 0);
    this.setHeight(height != null ? height : 0);
  },
  members : {
    checkAppearanceNeeds : function(){
    },
    addChildrenToQueue : function(queue){
    },
    destroy : function(){

      if(this.$$disposed){

        return;
      };
      var parent = this.$$parent;
      if(parent){

        parent._remove(this);
      };
      qx.ui.core.queue.Dispose.add(this);
    }
  }
});

qx.Class.define("qx.ui.menu.Button", {
  extend : qx.ui.menu.AbstractButton,
  construct : function(label, icon, command, menu){

    this.base(arguments);
    if(label != null){

      this.setLabel(label);
    };
    if(icon != null){

      this.setIcon(icon);
    };
    if(command != null){

      this.setCommand(command);
    };
    if(menu != null){

      this.setMenu(menu);
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "menu-button"
    }
  },
  members : {
    _onTap : function(e){

      if(e.isLeftPressed()){

        this.execute();
        if(this.getMenu()){

          this.getMenu().open();
          return;
        };
      } else {

        if(this.getContextMenu()){

          return;
        };
      };
      qx.ui.menu.Manager.getInstance().hideAll();
    },
    _onKeyPress : function(e){

      this.execute();
    }
  }
});

qx.Class.define("qx.ui.form.RadioButtonGroup", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MLayoutHandling, qx.ui.form.MModelSelection],
  implement : [qx.ui.form.IForm, qx.ui.core.ISingleSelection, qx.ui.form.IModelSelection],
  construct : function(layout){

    this.base(arguments);
    if(layout == null){

      this.setLayout(new qx.ui.layout.VBox(4));
    } else {

      this.setLayout(layout);
    };
    this.__radioGroup = new qx.ui.form.RadioGroup();
    this.__radioGroup.addListener("changeSelection", function(e){

      this.fireDataEvent("changeSelection", e.getData(), e.getOldData());
    }, this);
  },
  properties : {
    valid : {
      check : "Boolean",
      init : true,
      apply : "_applyValid",
      event : "changeValid"
    },
    required : {
      check : "Boolean",
      init : false,
      event : "changeRequired"
    },
    invalidMessage : {
      check : "String",
      init : "",
      event : "changeInvalidMessage",
      apply : "_applyInvalidMessage"
    },
    requiredInvalidMessage : {
      check : "String",
      nullable : true,
      event : "changeInvalidMessage"
    }
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    __radioGroup : null,
    _applyInvalidMessage : function(value, old){

      var children = this._getChildren();
      for(var i = 0;i < children.length;i++){

        children[i].setInvalidMessage(value);
      };
    },
    _applyValid : function(value, old){

      var children = this._getChildren();
      for(var i = 0;i < children.length;i++){

        children[i].setValid(value);
      };
    },
    getRadioGroup : function(){

      return this.__radioGroup;
    },
    getChildren : function(){

      return this._getChildren();
    },
    add : function(child, options){

      this.__radioGroup.add(child);
      this._add(child, options);
    },
    remove : function(child){

      this.__radioGroup.remove(child);
      this._remove(child);
    },
    removeAll : function(){

      var radioItems = this.__radioGroup.getItems();
      for(var i = 0;i < radioItems.length;i++){

        this.__radioGroup.remove(radioItems[i]);
      };
      return this._removeAll();
    },
    getSelection : function(){

      return this.__radioGroup.getSelection();
    },
    setSelection : function(items){

      this.__radioGroup.setSelection(items);
    },
    resetSelection : function(){

      this.__radioGroup.resetSelection();
    },
    isSelected : function(item){

      return this.__radioGroup.isSelected(item);
    },
    isSelectionEmpty : function(){

      return this.__radioGroup.isSelectionEmpty();
    },
    getSelectables : function(all){

      return this.__radioGroup.getSelectables(all);
    }
  },
  destruct : function(){

    this._disposeObjects("__radioGroup");
  }
});

qx.Interface.define("qx.ui.virtual.cell.ICell", {
  members : {
    getCellProperties : function(data, states){
    }
  }
});

qx.Class.define("qx.ui.virtual.cell.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  implement : qx.ui.virtual.cell.ICell,
  construct : function(){

    this.base(arguments);
    qx.ui.virtual.cell.CellStylesheet.getInstance();
  },
  members : {
    getCssClasses : function(value, states){

      return "qx-cell";
    },
    getAttributes : function(value, states){

      return "";
    },
    getStyles : function(value, states){

      return "";
    },
    getInsets : function(value, states){

      return [0, 0];
    },
    getContent : function(value, states){

      return value;
    },
    getCellProperties : function(value, states){

      return {
        classes : this.getCssClasses(value, states),
        style : this.getStyles(value, states),
        attributes : this.getAttributes(value, states),
        content : this.getContent(value, states),
        insets : this.getInsets(value, states)
      };
    }
  }
});

qx.Class.define("qx.ui.virtual.cell.CellStylesheet", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this.base(arguments);
    var stylesheet = ".qx-cell {" + qx.bom.element.Style.compile({
      position : "absolute",
      overflow : "hidden",
      cursor : "default",
      textOverflow : "ellipsis",
      userSelect : "none"
    }) + "} ";
    if(qx.core.Environment.get("css.boxsizing")){

      stylesheet += ".qx-cell {" + qx.bom.element.BoxSizing.compile("content-box") + "}";
    };
    this.__stylesheet = qx.bom.Stylesheet.createElement(stylesheet);
    this.__classes = {
    };
    this.__styles = {
    };
  },
  members : {
    __stylesheet : null,
    __classes : null,
    __styles : null,
    getStylesheet : function(){

      return this.__stylesheet;
    },
    getCssClass : function(key){

      return this.__classes[key] || null;
    },
    computeClassForStyles : function(key, styleString){

      var cssClass = this.__styles[styleString];
      if(!cssClass){

        var cssClass = this.__getNextClassname();
        qx.bom.Stylesheet.addRule(this.__stylesheet, "." + cssClass, styleString);
        this.__styles[styleString] = cssClass;
      };
      this.__classes[key] = cssClass;
      return cssClass;
    },
    __getNextClassname : function(){

      return "qx-cell-" + this.toHashCode() + "-" + (this.__classCounter++);
    },
    __classCounter : 0
  },
  destruct : function(){

    this.__stylesheet = this.__classes = this.__styles = null;
  }
});

qx.Class.define("qx.ui.virtual.cell.Cell", {
  extend : qx.ui.virtual.cell.Abstract,
  construct : function(){

    this.base(arguments);
    this.__stylesheet = qx.ui.virtual.cell.CellStylesheet.getInstance();
    this.__userStyles = {
    };
    this.__themeStyles = {
    };
    this.__userPaddings = {
    };
    this.__themePaddings = {
    };
    this.__states = {
    };
    this.__themeValues = {
    };
    this.initAppearance();
    this.__initializeThemableProperties();
  },
  properties : {
    appearance : {
      check : "String",
      init : "cell",
      apply : "_applyAppearance"
    },
    backgroundColor : {
      nullable : true,
      check : "Color",
      apply : "_applyBackgroundColor",
      themeable : true
    },
    textColor : {
      nullable : true,
      check : "Color",
      apply : "_applyTextColor",
      themeable : true
    },
    textAlign : {
      check : ["left", "center", "right", "justify"],
      nullable : true,
      themeable : true,
      apply : "_applyTextAlign"
    },
    font : {
      nullable : true,
      apply : "_applyFont",
      check : "Font",
      themeable : true
    },
    paddingTop : {
      check : "Integer",
      init : 0,
      apply : "_applyPadding",
      themeable : true
    },
    paddingRight : {
      check : "Integer",
      nullable : true,
      apply : "_applyPadding",
      themeable : true
    },
    paddingBottom : {
      check : "Integer",
      nullable : true,
      apply : "_applyPadding",
      themeable : true
    },
    paddingLeft : {
      check : "Integer",
      nullable : true,
      apply : "_applyPadding",
      themeable : true
    },
    padding : {
      group : ["paddingTop", "paddingRight", "paddingBottom", "paddingLeft"],
      mode : "shorthand",
      themeable : true
    }
  },
  members : {
    __themableProperties : null,
    __statesKey : null,
    __states : null,
    __themeValues : null,
    __themeStyles : null,
    __userStyles : null,
    __userPaddings : null,
    __themePaddings : null,
    __isThemed : false,
    __stylesheet : null,
    __initializeThemableProperties : function(){

      var PropertyUtil = qx.util.PropertyUtil;
      var cssProperties = qx.lang.Object.fromArray(this._getCssProperties());
      this.__themableProperties = [];
      var clazz = this.constructor;
      while(clazz){

        var properties = PropertyUtil.getProperties(clazz);
        for(var prop in properties){

          if(!cssProperties[prop]){

            this.__themableProperties.push(prop);
          };
        };
        clazz = clazz.superclass;
      };
    },
    _getCssProperties : function(){

      return ["backgroundColor", "textColor", "font", "textAlign", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft"];
    },
    _applyAppearance : function(value, old){

      if(old){

        this.__themeStyles = {
        };
      };
    },
    _getValue : function(propertyName){

      if(this.__isThemed){

        return qx.util.PropertyUtil.getThemeValue(this, propertyName);
      } else {

        return qx.util.PropertyUtil.getUserValue(this, propertyName);
      };
    },
    _storeStyle : function(propertyName, styles){

      var store;
      if(this.__isThemed){

        store = this.__themeStyles;
      } else {

        store = this.__userStyles;
      };
      if(styles === null){

        delete store[propertyName];
      } else {

        store[propertyName] = styles;
      };
    },
    _applyBackgroundColor : function(value, old, name){

      var value = this._getValue(name);
      if(!value){

        this._storeStyle(name, null);
      } else {

        this._storeStyle(name, "background-color:" + qx.theme.manager.Color.getInstance().resolve(value));
      };
    },
    _applyTextColor : function(value, old, name){

      var value = this._getValue(name);
      if(!value){

        this._storeStyle(name, null);
      } else {

        this._storeStyle(name, "color:" + qx.theme.manager.Color.getInstance().resolve(value));
      };
    },
    _applyTextAlign : function(value, old, name){

      var value = this._getValue(name);
      if(!value){

        this._storeStyle(name, null);
      } else {

        this._storeStyle(name, "text-align:" + value);
      };
    },
    _applyFont : function(value, old, name){

      var value = this._getValue(name);
      if(!value){

        this._storeStyle(name, null);
      } else {

        var font = qx.theme.manager.Font.getInstance().resolve(value);
        this._storeStyle(name, qx.bom.element.Style.compile(font.getStyles()));
      };
    },
    _applyPadding : function(value, old, name){

      var value = this._getValue(name);
      if(this.__isThemed){

        var paddingStore = this.__themePaddings;
      } else {

        paddingStore = this.__userPaddings;
      };
      if(value === null){

        delete paddingStore[name];
      } else {

        paddingStore[name] = value;
      };
      if(value === null){

        this._storeStyle(name, null);
      } else {

        var cssKey = qx.bom.Style.getCssName(name);
        this._storeStyle(name, cssKey + ":" + value + "px");
      };
    },
    getCellProperties : function(value, states){

      this.__setStates(states);
      return {
        classes : this.getCssClasses(value, states),
        style : this.getStyles(value, states),
        attributes : this.getAttributes(value, states),
        content : this.getContent(value, states),
        insets : this.getInsets(value, states)
      };
    },
    getAttributes : function(value, states){

      return "";
    },
    getContent : function(value, states){

      return value;
    },
    getCssClasses : function(value, states){

      var cssClass = this.__stylesheet.getCssClass(this.__statesKey) || "";
      return "qx-cell " + cssClass;
    },
    __setStates : function(states){

      if(!states){

        states = {
        };
      };
      var appearance = this.getAppearance();
      var statesKey = appearance + "-" + Object.keys(states).sort().join(" ");
      if(this.__statesKey == statesKey){

        return;
      };
      this.__statesKey = statesKey;
      var themeStyles = this.__states[this.__statesKey];
      if(!themeStyles){

        this.__clearThemedPropertyValues();
        this.__updateThemeableProperties(states);
        this.__computeCssClassForStates(states);
        this.__cacheThemedValues();
        this.__states[this.__statesKey] = 1;
      };
      this.__applyThemeValues();
    },
    __clearThemedPropertyValues : function(){

      var PropertyUtil = qx.util.PropertyUtil;
      var themableProperties = this._getCssProperties();
      for(var i = 0;i < themableProperties.length;i++){

        PropertyUtil.deleteThemeValue(this, themableProperties[i]);
      };
    },
    __updateThemeableProperties : function(states){

      this.__themeStyles = {
      };
      this.__isThemed = true;
      var appearance = this.getAppearance();
      var PropertyUtil = qx.util.PropertyUtil;
      var styles = qx.theme.manager.Appearance.getInstance().styleFrom(appearance, states);
      for(var prop in styles){

        if(styles[prop] !== undefined){

          PropertyUtil.setThemed(this, prop, styles[prop]);
        };
      };
      this.__isThemed = false;
    },
    __computeCssClassForStates : function(){

      var styleString = qx.lang.Object.getValues(this.__themeStyles).join(";");
      this.__stylesheet.computeClassForStyles(this.__statesKey, styleString);
    },
    __cacheThemedValues : function(){

      var properties = this.__themableProperties;
      var PropertyUtil = qx.util.PropertyUtil;
      var themeValues = {
      };
      for(var i = 0;i < properties.length;i++){

        var key = properties[i];
        var value = PropertyUtil.getThemeValue(this, key);
        if(value !== undefined){

          themeValues[key] = value;
        };
      };
      this.__themeValues[this.__statesKey] = themeValues;
    },
    __applyThemeValues : function(){

      var PropertyUtil = qx.util.PropertyUtil;
      var themeValues = this.__themeValues[this.__statesKey] || {
      };
      for(var key in themeValues){

        PropertyUtil.setThemed(this, key, themeValues[key]);
      };
    },
    getStyles : function(value, states){

      return qx.lang.Object.getValues(this.__userStyles).join(";");
    },
    getInsets : function(value, states){

      var user = this.__userPaddings;
      var theme = this.__themePaddings;
      var top = (user.paddingTop !== undefined ? user.paddingTop : theme.paddingTop) || 0;
      var right = (user.paddingRight !== undefined ? user.paddingRight : theme.paddingRight) || 0;
      var bottom = (user.paddingBottom !== undefined ? user.paddingBottom : theme.paddingBottom) || 0;
      var left = (user.paddingLeft !== undefined ? user.paddingLeft : theme.paddingLeft) || 0;
      return [left + right, top + bottom];
    }
  },
  destruct : function(){

    this.__stylesheet = this.__userStyles = this.__themeStyles = this.__userPaddings = this.__themePaddings = this.__states = this.__themeValues = this.__themableProperties = null;
  }
});

qx.Class.define("qx.ui.virtual.cell.Date", {
  extend : qx.ui.virtual.cell.Cell,
  construct : function(dateFormat){

    this.base(arguments);
    if(dateFormat){

      this.setDateFormat(dateFormat);
    } else {

      this.initDateFormat(qx.util.format.DateFormat.getDateTimeInstance());
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "cell-date"
    },
    dateFormat : {
      check : "qx.util.format.DateFormat",
      deferredInit : true
    }
  },
  members : {
    getContent : function(value, states){

      return value ? this.getDateFormat().format(value) : "";
    }
  }
});

qx.Interface.define("qx.util.format.IFormat", {
  members : {
    format : function(obj){
    },
    parse : function(str){
    }
  }
});

qx.Class.define("qx.util.format.DateFormat", {
  extend : qx.core.Object,
  implement : qx.util.format.IFormat,
  construct : function(format, locale){

    this.base(arguments);
    if(!locale){

      this.__locale = qx.locale.Manager.getInstance().getLocale();
      this.__bindingId = qx.locale.Manager.getInstance().bind("locale", this, "locale");
    } else {

      this.__locale = locale;
      this.setLocale(locale);
    };
    this.__initialLocale = this.__locale;
    if(format != null){

      this.__format = format.toString();
      if(this.__format in qx.util.format.DateFormat.ISO_MASKS){

        if(this.__format === 'isoUtcDateTime'){

          this.__UTC = true;
        };
        this.__format = qx.util.format.DateFormat.ISO_MASKS[this.__format];
      };
    } else {

      this.__format = qx.locale.Date.getDateFormat("long", this.__locale) + " " + qx.locale.Date.getDateTimeFormat("HHmmss", "HH:mm:ss", this.__locale);
    };
  },
  properties : {
    locale : {
      apply : "_applyLocale",
      nullable : true,
      check : "String"
    }
  },
  statics : {
    getDateInstance : function(){

      var DateFormat = qx.util.format.DateFormat;
      var format = qx.locale.Date.getDateFormat("short") + "";
      if(DateFormat._dateInstance == null || DateFormat._dateInstance.__format != format){

        DateFormat._dateInstance = new DateFormat(format);
      };
      return DateFormat._dateInstance;
    },
    getDateTimeInstance : function(){

      var DateFormat = qx.util.format.DateFormat;
      var format = qx.locale.Date.getDateFormat("long") + " " + qx.locale.Date.getDateTimeFormat("HHmmss", "HH:mm:ss");
      if(DateFormat._dateTimeInstance == null || DateFormat._dateTimeInstance.__format != format){

        DateFormat._dateTimeInstance = new DateFormat(format);
      };
      return DateFormat._dateTimeInstance;
    },
    ASSUME_YEAR_2000_THRESHOLD : 30,
    ISO_MASKS : {
      isoDate : "yyyy-MM-dd",
      isoTime : "HH:mm:ss",
      isoDateTime : "yyyy-MM-dd'T'HH:mm:ss",
      isoUtcDateTime : "yyyy-MM-dd'T'HH:mm:ss'Z'"
    },
    AM_MARKER : "am",
    PM_MARKER : "pm"
  },
  members : {
    __bindingId : null,
    __locale : null,
    __initialLocale : null,
    __format : null,
    __parseFeed : null,
    __parseRules : null,
    __formatTree : null,
    __UTC : null,
    __fillNumber : function(number, minSize){

      var str = "" + (number < 0 ? ((-1) * number) : number);
      while(str.length < minSize){

        str = "0" + str;
      };
      return number < 0 ? "-" + str : str;
    },
    __getDayInYear : function(date){

      var helpDate = new Date(date.getTime());
      var day = helpDate.getDate();
      while(helpDate.getMonth() != 0){

        helpDate.setDate(-1);
        day += helpDate.getDate() + 1;
      };
      return day;
    },
    __thursdayOfSameWeek : function(date){

      return new Date(date.getTime() + (3 - ((date.getDay() + 6) % 7)) * 86400000);
    },
    __getWeekInYear : function(date){

      var thursdayDate = this.__thursdayOfSameWeek(date);
      var weekYear = thursdayDate.getFullYear();
      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(weekYear, 0, 4));
      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);
    },
    __getWeekInMonth : function(date){

      var thursdayDate = this.__thursdayOfSameWeek(date);
      var thursdayWeek1 = this.__thursdayOfSameWeek(new Date(date.getFullYear(), date.getMonth(), 4));
      return Math.floor(1.5 + (thursdayDate.getTime() - thursdayWeek1.getTime()) / 86400000 / 7);
    },
    __getWeekYear : function(date){

      var thursdayDate = this.__thursdayOfSameWeek(date);
      return thursdayDate.getFullYear();
    },
    __isLeapYear : function(year){

      var februaryDate = new Date(year, 2, 1);
      februaryDate.setDate(-1);
      return februaryDate.getDate() + 1 === 29;
    },
    __getMonthAndDayFromDayOfYear : function(dayOfYear, year){

      var month = 0;
      var day = 0;
      if(!year){

        year = 1971;
      };
      var dayCounter = 0;
      for(var i = 1;i <= 12;i++){

        var tempDate = new Date(year, i, 1);
        tempDate.setDate(-1);
        var days = tempDate.getDate() + 1;
        dayCounter += days;
        if(dayCounter < dayOfYear){

          month++;
          day += days;
        } else {

          day = dayOfYear - (dayCounter - days);
          break;
        };
      };
      return {
        month : month,
        day : day
      };
    },
    __getYearFromWeekYearAndMonth : function(weekYear, month, dayOfMonth){

      var year;
      switch(month){case 11:
      year = weekYear - 1;
      if(weekYear != this.__getWeekYear(new Date(year, month, dayOfMonth))){

        year = weekYear;
      };
      break;case 0:
      year = weekYear + 1;
      if(weekYear != this.__getWeekYear(new Date(year, month, dayOfMonth))){

        year = weekYear;
      };
      break;default:
      year = weekYear;};
      return year;
    },
    _applyLocale : function(value, old){

      this.__locale = value === null ? this.setLocale(this.__initialLocale) : value;
    },
    format : function(date){

      if(date == null){

        return null;
      };
      if(isNaN(date.getTime())){

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.error("Provided date is invalid");
        };
        return null;
      };
      if(this.__UTC){

        date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());
      };
      var locale = this.__locale;
      var fullYear = date.getFullYear();
      var month = date.getMonth();
      var dayOfMonth = date.getDate();
      var dayOfWeek = date.getDay();
      var hours = date.getHours();
      var minutes = date.getMinutes();
      var seconds = date.getSeconds();
      var ms = date.getMilliseconds();
      var timezoneOffset = date.getTimezoneOffset();
      var timezoneSign = timezoneOffset > 0 ? 1 : -1;
      var timezoneHours = Math.floor(Math.abs(timezoneOffset) / 60);
      var timezoneMinutes = Math.abs(timezoneOffset) % 60;
      this.__initFormatTree();
      var output = "";
      for(var i = 0;i < this.__formatTree.length;i++){

        var currAtom = this.__formatTree[i];
        if(currAtom.type == "literal"){

          output += currAtom.text;
        } else {

          var wildcardChar = currAtom.character;
          var wildcardSize = currAtom.size;
          var replacement = "?";
          switch(wildcardChar){case 'y':
          if(wildcardSize == 2){

            replacement = this.__fillNumber(fullYear % 100, 2);
          } else {

            var year = Math.abs(fullYear);
            replacement = year + "";
            if(wildcardSize > replacement.length){

              for(var j = replacement.length;j < wildcardSize;j++){

                replacement = "0" + replacement;
              };
            };
            if(fullYear < 0){

              replacement = "-" + replacement;
            };
          };
          break;case 'Y':
          replacement = this.__getWeekYear(date) + "";
          var year = replacement.replace('-', '');
          if(wildcardSize > replacement.length){

            for(var j = year.length;j < wildcardSize;j++){

              year = "0" + year;
            };
          };
          replacement = replacement.indexOf("-") != -1 ? "-" + year : year;
          break;case 'G':
          if(wildcardSize >= 1 && wildcardSize <= 3){

            replacement = fullYear > 0 ? 'AD' : 'BC';
          } else if(wildcardSize == 4){

            replacement = fullYear > 0 ? 'Anno Domini' : 'Before Christ';
          } else if(wildcardSize == 5){

            replacement = fullYear > 0 ? 'A' : 'B';
          };;
          break;case 'Q':
          if(wildcardSize == 1 || wildcardSize == 2){

            replacement = this.__fillNumber(parseInt(month / 4) + 1, wildcardSize);
          };
          if(wildcardSize == 3){

            replacement = 'Q' + (parseInt(month / 4) + 1);
          };
          break;case 'q':
          if(wildcardSize == 1 || wildcardSize == 2){

            replacement = this.__fillNumber(parseInt(month / 4) + 1, wildcardSize);
          };
          if(wildcardSize == 3){

            replacement = 'Q' + (parseInt(month / 4) + 1);
          };
          break;case 'D':
          replacement = this.__fillNumber(this.__getDayInYear(date), wildcardSize);
          break;case 'd':
          replacement = this.__fillNumber(dayOfMonth, wildcardSize);
          break;case 'w':
          replacement = this.__fillNumber(this.__getWeekInYear(date), wildcardSize);
          break;case 'W':
          replacement = this.__getWeekInMonth(date);
          break;case 'E':
          if(wildcardSize >= 1 && wildcardSize <= 3){

            replacement = qx.locale.Date.getDayName("abbreviated", dayOfWeek, locale, "format", true);
          } else if(wildcardSize == 4){

            replacement = qx.locale.Date.getDayName("wide", dayOfWeek, locale, "format", true);
          } else if(wildcardSize == 5){

            replacement = qx.locale.Date.getDayName("narrow", dayOfWeek, locale, "format", true);
          };;
          break;case 'e':
          var startOfWeek = qx.locale.Date.getWeekStart(locale);
          var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >= 0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek - startOfWeek));
          if(wildcardSize >= 1 && wildcardSize <= 2){

            replacement = this.__fillNumber(localeDayOfWeek, wildcardSize);
          } else if(wildcardSize == 3){

            replacement = qx.locale.Date.getDayName("abbreviated", dayOfWeek, locale, "format", true);
          } else if(wildcardSize == 4){

            replacement = qx.locale.Date.getDayName("wide", dayOfWeek, locale, "format", true);
          } else if(wildcardSize == 5){

            replacement = qx.locale.Date.getDayName("narrow", dayOfWeek, locale, "format", true);
          };;;
          break;case 'c':
          var startOfWeek = qx.locale.Date.getWeekStart(locale);
          var localeDayOfWeek = 1 + ((dayOfWeek - startOfWeek >= 0) ? (dayOfWeek - startOfWeek) : 7 + (dayOfWeek - startOfWeek));
          if(wildcardSize == 1){

            replacement = '' + localeDayOfWeek;
          } else if(wildcardSize == 3){

            replacement = qx.locale.Date.getDayName("abbreviated", dayOfWeek, locale, "stand-alone", true);
          } else if(wildcardSize == 4){

            replacement = qx.locale.Date.getDayName("wide", dayOfWeek, locale, "stand-alone", true);
          } else if(wildcardSize == 5){

            replacement = qx.locale.Date.getDayName("narrow", dayOfWeek, locale, "stand-alone", true);
          };;;
          break;case 'M':
          if(wildcardSize == 1 || wildcardSize == 2){

            replacement = this.__fillNumber(month + 1, wildcardSize);
          } else if(wildcardSize == 3){

            replacement = qx.locale.Date.getMonthName("abbreviated", month, locale, "format", true);
          } else if(wildcardSize == 4){

            replacement = qx.locale.Date.getMonthName("wide", month, locale, "format", true);
          } else if(wildcardSize == 5){

            replacement = qx.locale.Date.getMonthName("narrow", month, locale, "format", true);
          };;;
          break;case 'L':
          if(wildcardSize == 1 || wildcardSize == 2){

            replacement = this.__fillNumber(month + 1, wildcardSize);
          } else if(wildcardSize == 3){

            replacement = qx.locale.Date.getMonthName("abbreviated", month, locale, "stand-alone", true);
          } else if(wildcardSize == 4){

            replacement = qx.locale.Date.getMonthName("wide", month, locale, "stand-alone", true);
          } else if(wildcardSize == 5){

            replacement = qx.locale.Date.getMonthName("narrow", month, locale, "stand-alone", true);
          };;;
          break;case 'a':
          replacement = (hours < 12) ? qx.locale.Date.getAmMarker(locale) : qx.locale.Date.getPmMarker(locale);
          break;case 'H':
          replacement = this.__fillNumber(hours, wildcardSize);
          break;case 'k':
          replacement = this.__fillNumber((hours == 0) ? 24 : hours, wildcardSize);
          break;case 'K':
          replacement = this.__fillNumber(hours % 12, wildcardSize);
          break;case 'h':
          replacement = this.__fillNumber(((hours % 12) == 0) ? 12 : (hours % 12), wildcardSize);
          break;case 'm':
          replacement = this.__fillNumber(minutes, wildcardSize);
          break;case 's':
          replacement = this.__fillNumber(seconds, wildcardSize);
          break;case 'S':
          replacement = this.__fillNumber(ms, 3);
          if(wildcardSize < replacement.length){

            replacement = replacement.substr(0, wildcardSize);
          } else {

            while(wildcardSize > replacement.length){

              replacement += "0";
            };
          };
          break;case 'z':
          if(wildcardSize >= 1 && wildcardSize <= 4){

            replacement = "GMT" + ((timezoneSign > 0) ? "-" : "+") + this.__fillNumber(Math.abs(timezoneHours), 2) + ":" + this.__fillNumber(timezoneMinutes, 2);
          };
          break;case 'Z':
          if(wildcardSize >= 1 && wildcardSize <= 3){

            replacement = ((timezoneSign > 0) ? "-" : "+") + this.__fillNumber(Math.abs(timezoneHours), 2) + this.__fillNumber(timezoneMinutes, 2);
          } else {

            replacement = "GMT" + ((timezoneSign > 0) ? "-" : "+") + this.__fillNumber(Math.abs(timezoneHours), 2) + ":" + this.__fillNumber(timezoneMinutes, 2);
          };
          break;};
          output += replacement;
        };
      };
      return output;
    },
    parse : function(dateStr){

      this.__initParseFeed();
      var hit = this.__parseFeed.regex.exec(dateStr);
      if(hit == null){

        throw new Error("Date string '" + dateStr + "' does not match the date format: " + this.__format);
      };
      var dateValues = {
        era : 1,
        year : 1970,
        quarter : 1,
        month : 0,
        day : 1,
        dayOfYear : 1,
        hour : 0,
        ispm : false,
        weekDay : 4,
        weekYear : 1970,
        weekOfMonth : 1,
        weekOfYear : 1,
        min : 0,
        sec : 0,
        ms : 0
      };
      var currGroup = 1;
      var applyWeekYearAfterRule = false;
      var applyDayOfYearAfterRule = false;
      for(var i = 0;i < this.__parseFeed.usedRules.length;i++){

        var rule = this.__parseFeed.usedRules[i];
        var value = hit[currGroup];
        if(rule.field != null){

          dateValues[rule.field] = parseInt(value, 10);
        } else {

          rule.manipulator(dateValues, value, rule.pattern);
        };
        if(rule.pattern == "Y+"){

          var yearRuleApplied = false;
          for(var k = 0;k < this.__parseFeed.usedRules.length;k++){

            if(this.__parseFeed.usedRules[k].pattern == 'y+'){

              yearRuleApplied = true;
              break;
            };
          };
          if(!yearRuleApplied){

            applyWeekYearAfterRule = true;
          };
        };
        if(rule.pattern.indexOf("D") != -1){

          var dayRuleApplied = false;
          for(var k = 0;k < this.__parseFeed.usedRules.length;k++){

            if(this.__parseFeed.usedRules[k].pattern.indexOf("d") != -1){

              dayRuleApplied = true;
              break;
            };
          };
          if(!dayRuleApplied){

            applyDayOfYearAfterRule = true;
          };
        };
        currGroup += (rule.groups == null) ? 1 : rule.groups;
      };
      if(applyWeekYearAfterRule){

        dateValues.year = this.__getYearFromWeekYearAndMonth(dateValues.weekYear, dateValues.month, dateValues.day);
      };
      if(applyDayOfYearAfterRule){

        var dayAndMonth = this.__getMonthAndDayFromDayOfYear(dateValues.dayOfYear, dateValues.year);
        dateValues.month = dayAndMonth.month;
        dateValues.day = dayAndMonth.day;
      };
      if(dateValues.era < 0 && (dateValues.year * dateValues.era < 0)){

        dateValues.year = dateValues.year * dateValues.era;
      };
      var date = new Date(dateValues.year, dateValues.month, dateValues.day, (dateValues.ispm) ? (dateValues.hour + 12) : dateValues.hour, dateValues.min, dateValues.sec, dateValues.ms);
      if(this.__UTC){

        date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());
      };
      if(dateValues.month != date.getMonth() || dateValues.year != date.getFullYear()){

        throw new Error("Error parsing date '" + dateStr + "': the value for day or month is too large");
      };
      return date;
    },
    __initFormatTree : function(){

      if(this.__formatTree != null){

        return;
      };
      this.__formatTree = [];
      var currWildcardChar;
      var currWildcardSize = 0;
      var currLiteral = "";
      var format = this.__format;
      var state = "default";
      var i = 0;
      while(i < format.length){

        var currChar = format.charAt(i);
        switch(state){case "quoted_literal":
        if(currChar == "'"){

          if(i + 1 >= format.length){

            i++;
            break;
          };
          var lookAhead = format.charAt(i + 1);
          if(lookAhead == "'"){

            currLiteral += currChar;
            i++;
          } else {

            i++;
            state = "unkown";
          };
        } else {

          currLiteral += currChar;
          i++;
        };
        break;case "wildcard":
        if(currChar == currWildcardChar){

          currWildcardSize++;
          i++;
        } else {

          this.__formatTree.push({
            type : "wildcard",
            character : currWildcardChar,
            size : currWildcardSize
          });
          currWildcardChar = null;
          currWildcardSize = 0;
          state = "default";
        };
        break;default:
        if((currChar >= 'a' && currChar <= 'z') || (currChar >= 'A' && currChar <= 'Z')){

          currWildcardChar = currChar;
          state = "wildcard";
        } else if(currChar == "'"){

          if(i + 1 >= format.length){

            currLiteral += currChar;
            i++;
            break;
          };
          var lookAhead = format.charAt(i + 1);
          if(lookAhead == "'"){

            currLiteral += currChar;
            i++;
          };
          i++;
          state = "quoted_literal";
        } else {

          state = "default";
        };
        if(state != "default"){

          if(currLiteral.length > 0){

            this.__formatTree.push({
              type : "literal",
              text : currLiteral
            });
            currLiteral = "";
          };
        } else {

          currLiteral += currChar;
          i++;
        };
        break;};
      };
      if(currWildcardChar != null){

        this.__formatTree.push({
          type : "wildcard",
          character : currWildcardChar,
          size : currWildcardSize
        });
      } else if(currLiteral.length > 0){

        this.__formatTree.push({
          type : "literal",
          text : currLiteral
        });
      };
    },
    __initParseFeed : function(){

      if(this.__parseFeed != null){

        return;
      };
      var format = this.__format;
      this.__initParseRules();
      this.__initFormatTree();
      var usedRules = [];
      var pattern = "^";
      for(var atomIdx = 0;atomIdx < this.__formatTree.length;atomIdx++){

        var currAtom = this.__formatTree[atomIdx];
        if(currAtom.type == "literal"){

          pattern += qx.lang.String.escapeRegexpChars(currAtom.text);
        } else {

          var wildcardChar = currAtom.character;
          var wildcardSize = currAtom.size;
          var wildcardRule;
          for(var ruleIdx = 0;ruleIdx < this.__parseRules.length;ruleIdx++){

            var rule = this.__parseRules[ruleIdx];
            if(this.__isRuleForWildcard(rule, wildcardChar, wildcardSize)){

              wildcardRule = rule;
              break;
            };
          };
          if(wildcardRule == null){

            var wildcardStr = "";
            for(var i = 0;i < wildcardSize;i++){

              wildcardStr += wildcardChar;
            };
            throw new Error("Malformed date format: " + format + ". Wildcard " + wildcardStr + " is not supported");
          } else {

            usedRules.push(wildcardRule);
            pattern += wildcardRule.regex;
          };
        };
      };
      pattern += "$";
      var regex;
      try{

        regex = new RegExp(pattern);
      } catch(exc) {

        throw new Error("Malformed date format: " + format);
      };
      this.__parseFeed = {
        regex : regex,
        "usedRules" : usedRules,
        pattern : pattern
      };
    },
    __isRuleForWildcard : function(rule, wildcardChar, wildcardSize){

      if(wildcardChar === 'y' && rule.pattern === 'y+'){

        rule.regex = rule.regexFunc(wildcardSize);
        return true;
      } else if(wildcardChar === 'Y' && rule.pattern === 'Y+'){

        rule.regex = rule.regexFunc(wildcardSize);
        return true;
      } else {

        return wildcardChar == rule.pattern.charAt(0) && wildcardSize == rule.pattern.length;
      };
    },
    __initParseRules : function(){

      var DateFormat = qx.util.format.DateFormat;
      var LString = qx.lang.String;
      if(this.__parseRules != null){

        return;
      };
      var rules = this.__parseRules = [];
      var amMarker = qx.locale.Date.getAmMarker(this.__locale).toString() || DateFormat.AM_MARKER;
      var pmMarker = qx.locale.Date.getPmMarker(this.__locale).toString() || DateFormat.PM_MARKER;
      var locale = this.__locale;
      var yearManipulator = function(dateValues, value){

        value = parseInt(value, 10);
        if(value >= 0){

          if(value < DateFormat.ASSUME_YEAR_2000_THRESHOLD){

            value += 2000;
          } else if(value < 100){

            value += 1900;
          };
        };
        dateValues.year = value;
      };
      var weekYearManipulator = function(dateValues, value){

        value = parseInt(value, 10);
        if(value >= 0){

          if(value < DateFormat.ASSUME_YEAR_2000_THRESHOLD){

            value += 2000;
          } else if(value < 100){

            value += 1900;
          };
        };
        dateValues.weekYear = value;
      };
      var monthManipulator = function(dateValues, value){

        dateValues.month = parseInt(value, 10) - 1;
      };
      var localWeekDayManipulator = function(dateValues, value){

        var startOfWeek = qx.locale.Date.getWeekStart(locale);
        var dayOfWeek = (parseInt(value, 10) - 1 + startOfWeek) <= 6 ? parseInt(value, 10) - 1 + startOfWeek : (parseInt(value, 10) - 1 + startOfWeek) - 7;
        dateValues.weekDay = dayOfWeek;
      };
      var ampmManipulator = function(dateValues, value){

        var pmMarker = qx.locale.Date.getPmMarker(locale).toString() || DateFormat.PM_MARKER;
        dateValues.ispm = (value == pmMarker);
      };
      var noZeroHourManipulator = function(dateValues, value){

        dateValues.hour = parseInt(value, 10) % 24;
      };
      var noZeroAmPmHourManipulator = function(dateValues, value){

        dateValues.hour = parseInt(value, 10) % 12;
      };
      var ignoreManipulator = function(dateValues, value){

        return;
      };
      var narrowEraNames = ['A', 'B'];
      var narrowEraNameManipulator = function(dateValues, value){

        dateValues.era = value == 'A' ? 1 : -1;
      };
      var abbrevEraNames = ['AD', 'BC'];
      var abbrevEraNameManipulator = function(dateValues, value){

        dateValues.era = value == 'AD' ? 1 : -1;
      };
      var fullEraNames = ['Anno Domini', 'Before Christ'];
      var fullEraNameManipulator = function(dateValues, value){

        dateValues.era = value == 'Anno Domini' ? 1 : -1;
      };
      var abbrevQuarterNames = ['Q1', 'Q2', 'Q3', 'Q4'];
      var abbrevQuarterManipulator = function(dateValues, value){

        dateValues.quarter = abbrevQuarterNames.indexOf(value);
      };
      var fullQuarterNames = ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'];
      var fullQuarterManipulator = function(dateValues, value){

        dateValues.quarter = fullQuarterNames.indexOf(value);
      };
      var cache = {
      };
      var dateNamesManipulator = function(pattern){

        var monthPatternLetters = ['L', 'M'];
        var dayPatternLetters = ['c', 'e', 'E'];
        var firstLetterInPattern = pattern.charAt(0);
        var isMonth = monthPatternLetters.indexOf(firstLetterInPattern) >= 0;
        var getContext = function(){

          var letters = isMonth ? monthPatternLetters : dayPatternLetters;
          var context = firstLetterInPattern === letters[0] ? "stand-alone" : "format";
          var patternLength = pattern.length;
          var lengthName = 'abbreviated';
          switch(patternLength){case 4:
          lengthName = 'wide';
          break;case 5:
          lengthName = 'narrow';
          break;default:
          lengthName = 'abbreviated';};
          return [context, lengthName];
        };
        if(!cache[pattern]){

          cache[pattern] = {
          };
          var context = getContext();
          var func = isMonth ? qx.locale.Date.getMonthNames : qx.locale.Date.getDayNames;
          var names = func.call(qx.locale.Date, context[1], locale, context[0], true);
          for(var i = 0,l = names.length;i < l;i++){

            names[i] = LString.escapeRegexpChars(names[i].toString());
          };
          cache[pattern].data = names;
          cache[pattern].func = function(dateValues, value){

            value = LString.escapeRegexpChars(value);
            dateValues[isMonth ? 'month' : 'weekDay'] = names.indexOf(value);
          };
        };
        return cache[pattern];
      };
      rules.push({
        pattern : "y+",
        regexFunc : function(yNumber){

          var regex = "(-*";
          for(var i = 0;i < yNumber;i++){

            regex += "\\d";
            if(i === yNumber - 1 && i !== 1){

              regex += "+?";
            };
          };
          regex += ")";
          return regex;
        },
        manipulator : yearManipulator
      });
      rules.push({
        pattern : "Y+",
        regexFunc : function(yNumber){

          var regex = "(-*";
          for(var i = 0;i < yNumber;i++){

            regex += "\\d";
            if(i === yNumber - 1){

              regex += "+?";
            };
          };
          regex += ")";
          return regex;
        },
        manipulator : weekYearManipulator
      });
      rules.push({
        pattern : "G",
        regex : "(" + abbrevEraNames.join("|") + ")",
        manipulator : abbrevEraNameManipulator
      });
      rules.push({
        pattern : "GG",
        regex : "(" + abbrevEraNames.join("|") + ")",
        manipulator : abbrevEraNameManipulator
      });
      rules.push({
        pattern : "GGG",
        regex : "(" + abbrevEraNames.join("|") + ")",
        manipulator : abbrevEraNameManipulator
      });
      rules.push({
        pattern : "GGGG",
        regex : "(" + fullEraNames.join("|") + ")",
        manipulator : fullEraNameManipulator
      });
      rules.push({
        pattern : "GGGGG",
        regex : "(" + narrowEraNames.join("|") + ")",
        manipulator : narrowEraNameManipulator
      });
      rules.push({
        pattern : "Q",
        regex : "(\\d\\d*?)",
        field : "quarter"
      });
      rules.push({
        pattern : "QQ",
        regex : "(\\d\\d?)",
        field : "quarter"
      });
      rules.push({
        pattern : "QQQ",
        regex : "(" + abbrevQuarterNames.join("|") + ")",
        manipulator : abbrevQuarterManipulator
      });
      rules.push({
        pattern : "QQQQ",
        regex : "(" + fullQuarterNames.join("|") + ")",
        manipulator : fullQuarterManipulator
      });
      rules.push({
        pattern : "q",
        regex : "(\\d\\d*?)",
        field : "quarter"
      });
      rules.push({
        pattern : "qq",
        regex : "(\\d\\d?)",
        field : "quarter"
      });
      rules.push({
        pattern : "qqq",
        regex : "(" + abbrevQuarterNames.join("|") + ")",
        manipulator : abbrevQuarterManipulator
      });
      rules.push({
        pattern : "qqqq",
        regex : "(" + fullQuarterNames.join("|") + ")",
        manipulator : fullQuarterManipulator
      });
      rules.push({
        pattern : "M",
        regex : "(\\d\\d*?)",
        manipulator : monthManipulator
      });
      rules.push({
        pattern : "MM",
        regex : "(\\d\\d?)",
        manipulator : monthManipulator
      });
      rules.push({
        pattern : "MMM",
        regex : "(" + dateNamesManipulator("MMM").data.join("|") + ")",
        manipulator : dateNamesManipulator("MMM").func
      });
      rules.push({
        pattern : "MMMM",
        regex : "(" + dateNamesManipulator("MMMM").data.join("|") + ")",
        manipulator : dateNamesManipulator("MMMM").func
      });
      rules.push({
        pattern : "MMMMM",
        regex : "(" + dateNamesManipulator("MMMMM").data.join("|") + ")",
        manipulator : dateNamesManipulator("MMMMM").func
      });
      rules.push({
        pattern : "L",
        regex : "(\\d\\d*?)",
        manipulator : monthManipulator
      });
      rules.push({
        pattern : "LL",
        regex : "(\\d\\d?)",
        manipulator : monthManipulator
      });
      rules.push({
        pattern : "LLL",
        regex : "(" + dateNamesManipulator("LLL").data.join("|") + ")",
        manipulator : dateNamesManipulator("LLL").func
      });
      rules.push({
        pattern : "LLLL",
        regex : "(" + dateNamesManipulator("LLLL").data.join("|") + ")",
        manipulator : dateNamesManipulator("LLLL").func
      });
      rules.push({
        pattern : "LLLLL",
        regex : "(" + dateNamesManipulator("LLLLL").data.join("|") + ")",
        manipulator : dateNamesManipulator("LLLLL").func
      });
      rules.push({
        pattern : "dd",
        regex : "(\\d\\d?)",
        field : "day"
      });
      rules.push({
        pattern : "d",
        regex : "(\\d\\d*?)",
        field : "day"
      });
      rules.push({
        pattern : "D",
        regex : "(\\d?)",
        field : "dayOfYear"
      });
      rules.push({
        pattern : "DD",
        regex : "(\\d\\d?)",
        field : "dayOfYear"
      });
      rules.push({
        pattern : "DDD",
        regex : "(\\d\\d\\d?)",
        field : "dayOfYear"
      });
      rules.push({
        pattern : "E",
        regex : "(" + dateNamesManipulator("E").data.join("|") + ")",
        manipulator : dateNamesManipulator("E").func
      });
      rules.push({
        pattern : "EE",
        regex : "(" + dateNamesManipulator("EE").data.join("|") + ")",
        manipulator : dateNamesManipulator("EE").func
      });
      rules.push({
        pattern : "EEE",
        regex : "(" + dateNamesManipulator("EEE").data.join("|") + ")",
        manipulator : dateNamesManipulator("EEE").func
      });
      rules.push({
        pattern : "EEEE",
        regex : "(" + dateNamesManipulator("EEEE").data.join("|") + ")",
        manipulator : dateNamesManipulator("EEEE").func
      });
      rules.push({
        pattern : "EEEEE",
        regex : "(" + dateNamesManipulator("EEEEE").data.join("|") + ")",
        manipulator : dateNamesManipulator("EEEEE").func
      });
      rules.push({
        pattern : "e",
        regex : "(\\d?)",
        manipulator : localWeekDayManipulator
      });
      rules.push({
        pattern : "ee",
        regex : "(\\d\\d?)",
        manipulator : localWeekDayManipulator
      });
      rules.push({
        pattern : "eee",
        regex : "(" + dateNamesManipulator("eee").data.join("|") + ")",
        manipulator : dateNamesManipulator("eee").func
      });
      rules.push({
        pattern : "eeee",
        regex : "(" + dateNamesManipulator("eeee").data.join("|") + ")",
        manipulator : dateNamesManipulator("eeee").func
      });
      rules.push({
        pattern : "eeeee",
        regex : "(" + dateNamesManipulator("eeeee").data.join("|") + ")",
        manipulator : dateNamesManipulator("eeeee").func
      });
      rules.push({
        pattern : "c",
        regex : "\\d?",
        manipulator : localWeekDayManipulator
      });
      rules.push({
        pattern : "ccc",
        regex : "(" + dateNamesManipulator("ccc").data.join("|") + ")",
        manipulator : dateNamesManipulator("ccc").func
      });
      rules.push({
        pattern : "cccc",
        regex : "(" + dateNamesManipulator("cccc").data.join("|") + ")",
        manipulator : dateNamesManipulator("cccc").func
      });
      rules.push({
        pattern : "ccccc",
        regex : "(" + dateNamesManipulator("ccccc").data.join("|") + ")",
        manipulator : dateNamesManipulator("ccccc").func
      });
      rules.push({
        pattern : "a",
        regex : "(" + amMarker + "|" + pmMarker + ")",
        manipulator : ampmManipulator
      });
      rules.push({
        pattern : "W",
        regex : "(\\d?)",
        field : "weekOfMonth"
      });
      rules.push({
        pattern : "w",
        regex : "(\\d?)",
        field : "weekOfYear"
      });
      rules.push({
        pattern : "ww",
        regex : "(\\d\\d?)",
        field : "weekOfYear"
      });
      rules.push({
        pattern : "HH",
        regex : "(\\d\\d?)",
        field : "hour"
      });
      rules.push({
        pattern : "H",
        regex : "(\\d\\d?)",
        field : "hour"
      });
      rules.push({
        pattern : "kk",
        regex : "(\\d\\d?)",
        manipulator : noZeroHourManipulator
      });
      rules.push({
        pattern : "k",
        regex : "(\\d\\d?)",
        manipulator : noZeroHourManipulator
      });
      rules.push({
        pattern : "KK",
        regex : "(\\d\\d?)",
        field : "hour"
      });
      rules.push({
        pattern : "K",
        regex : "(\\d\\d?)",
        field : "hour"
      });
      rules.push({
        pattern : "hh",
        regex : "(\\d\\d?)",
        manipulator : noZeroAmPmHourManipulator
      });
      rules.push({
        pattern : "h",
        regex : "(\\d\\d?)",
        manipulator : noZeroAmPmHourManipulator
      });
      rules.push({
        pattern : "mm",
        regex : "(\\d\\d?)",
        field : "min"
      });
      rules.push({
        pattern : "m",
        regex : "(\\d\\d?)",
        field : "min"
      });
      rules.push({
        pattern : "ss",
        regex : "(\\d\\d?)",
        field : "sec"
      });
      rules.push({
        pattern : "s",
        regex : "(\\d\\d?)",
        field : "sec"
      });
      rules.push({
        pattern : "SSS",
        regex : "(\\d\\d?\\d?)",
        field : "ms"
      });
      rules.push({
        pattern : "SS",
        regex : "(\\d\\d?\\d?)",
        field : "ms"
      });
      rules.push({
        pattern : "S",
        regex : "(\\d\\d?\\d?)",
        field : "ms"
      });
      rules.push({
        pattern : "Z",
        regex : "([\\+\\-]\\d\\d\\d\\d)",
        manipulator : ignoreManipulator
      });
      rules.push({
        pattern : "z",
        regex : "(GMT[\\+\\-]\\d\\d:\\d\\d)",
        manipulator : ignoreManipulator
      });
    }
  },
  destruct : function(){

    if(this.__bindingId != null){

      qx.locale.Manager.getInstance().removeBinding(this.__bindingId);
    };
    this.__formatTree = this.__parseFeed = this.__parseRules = null;
  }
});

qx.Class.define("qx.locale.Date", {
  statics : {
    __mgr : qx.locale.Manager.getInstance(),
    getAmMarker : function(locale){

      return this.__mgr.localize("cldr_am", [], locale);
    },
    getPmMarker : function(locale){

      return this.__mgr.localize("cldr_pm", [], locale);
    },
    getDayNames : function(length, locale, context, withFallback){

      var context = context ? context : "format";
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(length, ["abbreviated", "narrow", "wide"]);
        qx.core.Assert.assertInArray(context, ["format", "stand-alone"]);
      };
      var days = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"];
      var names = [];
      for(var i = 0;i < days.length;i++){

        var key = "cldr_day_" + context + "_" + length + "_" + days[i];
        names.push(withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale));
      };
      return names;
    },
    getDayName : function(length, day, locale, context, withFallback){

      var context = context ? context : "format";
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(length, ["abbreviated", "narrow", "wide"]);
        qx.core.Assert.assertInteger(day);
        qx.core.Assert.assertInRange(day, 0, 6);
        qx.core.Assert.assertInArray(context, ["format", "stand-alone"]);
      };
      var days = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"];
      var key = "cldr_day_" + context + "_" + length + "_" + days[day];
      return withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale);
    },
    getMonthNames : function(length, locale, context, withFallback){

      var context = context ? context : "format";
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(length, ["abbreviated", "narrow", "wide"]);
        qx.core.Assert.assertInArray(context, ["format", "stand-alone"]);
      };
      var names = [];
      for(var i = 0;i < 12;i++){

        var key = "cldr_month_" + context + "_" + length + "_" + (i + 1);
        names.push(withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale));
      };
      return names;
    },
    getMonthName : function(length, month, locale, context, withFallback){

      var context = context ? context : "format";
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(length, ["abbreviated", "narrow", "wide"]);
        qx.core.Assert.assertInArray(context, ["format", "stand-alone"]);
      };
      var key = "cldr_month_" + context + "_" + length + "_" + (month + 1);
      return withFallback ? this.__localizeWithFallback(context, context === 'format' ? 'stand-alone' : 'format', key, locale) : this.__mgr.localize(key, [], locale);
    },
    getDateFormat : function(size, locale){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(size, ["short", "medium", "long", "full"]);
      };
      var key = "cldr_date_format_" + size;
      return this.__mgr.localize(key, [], locale);
    },
    getDateTimeFormat : function(canonical, fallback, locale){

      var key = "cldr_date_time_format_" + canonical;
      var localizedFormat = this.__mgr.localize(key, [], locale);
      if(localizedFormat == key){

        localizedFormat = fallback;
      };
      return localizedFormat;
    },
    getTimeFormat : function(size, locale){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(size, ["short", "medium", "long", "full"]);
      };
      var key = "cldr_time_format_" + size;
      var localizedFormat = this.__mgr.localize(key, [], locale);
      if(localizedFormat != key){

        return localizedFormat;
      };
      switch(size){case "short":case "medium":
      return qx.locale.Date.getDateTimeFormat("HHmm", "HH:mm");case "long":
      return qx.locale.Date.getDateTimeFormat("HHmmss", "HH:mm:ss");case "full":
      return qx.locale.Date.getDateTimeFormat("HHmmsszz", "HH:mm:ss zz");default:
      throw new Error("This case should never happen.");};
    },
    getWeekStart : function(locale){

      var weekStart = {
        "MV" : 5,
        "AE" : 6,
        "AF" : 6,
        "BH" : 6,
        "DJ" : 6,
        "DZ" : 6,
        "EG" : 6,
        "ER" : 6,
        "ET" : 6,
        "IQ" : 6,
        "IR" : 6,
        "JO" : 6,
        "KE" : 6,
        "KW" : 6,
        "LB" : 6,
        "LY" : 6,
        "MA" : 6,
        "OM" : 6,
        "QA" : 6,
        "SA" : 6,
        "SD" : 6,
        "SO" : 6,
        "TN" : 6,
        "YE" : 6,
        "AS" : 0,
        "AU" : 0,
        "AZ" : 0,
        "BW" : 0,
        "CA" : 0,
        "CN" : 0,
        "FO" : 0,
        "GE" : 0,
        "GL" : 0,
        "GU" : 0,
        "HK" : 0,
        "IE" : 0,
        "IL" : 0,
        "IS" : 0,
        "JM" : 0,
        "JP" : 0,
        "KG" : 0,
        "KR" : 0,
        "LA" : 0,
        "MH" : 0,
        "MN" : 0,
        "MO" : 0,
        "MP" : 0,
        "MT" : 0,
        "NZ" : 0,
        "PH" : 0,
        "PK" : 0,
        "SG" : 0,
        "TH" : 0,
        "TT" : 0,
        "TW" : 0,
        "UM" : 0,
        "US" : 0,
        "UZ" : 0,
        "VI" : 0,
        "ZA" : 0,
        "ZW" : 0,
        "MW" : 0,
        "NG" : 0,
        "TJ" : 0
      };
      var territory = qx.locale.Date._getTerritory(locale);
      return weekStart[territory] != null ? weekStart[territory] : 1;
    },
    getWeekendStart : function(locale){

      var weekendStart = {
        "EG" : 5,
        "IL" : 5,
        "SY" : 5,
        "IN" : 0,
        "AE" : 4,
        "BH" : 4,
        "DZ" : 4,
        "IQ" : 4,
        "JO" : 4,
        "KW" : 4,
        "LB" : 4,
        "LY" : 4,
        "MA" : 4,
        "OM" : 4,
        "QA" : 4,
        "SA" : 4,
        "SD" : 4,
        "TN" : 4,
        "YE" : 4
      };
      var territory = qx.locale.Date._getTerritory(locale);
      return weekendStart[territory] != null ? weekendStart[territory] : 6;
    },
    getWeekendEnd : function(locale){

      var weekendEnd = {
        "AE" : 5,
        "BH" : 5,
        "DZ" : 5,
        "IQ" : 5,
        "JO" : 5,
        "KW" : 5,
        "LB" : 5,
        "LY" : 5,
        "MA" : 5,
        "OM" : 5,
        "QA" : 5,
        "SA" : 5,
        "SD" : 5,
        "TN" : 5,
        "YE" : 5,
        "AF" : 5,
        "IR" : 5,
        "EG" : 6,
        "IL" : 6,
        "SY" : 6
      };
      var territory = qx.locale.Date._getTerritory(locale);
      return weekendEnd[territory] != null ? weekendEnd[territory] : 0;
    },
    isWeekend : function(day, locale){

      var weekendStart = qx.locale.Date.getWeekendStart(locale);
      var weekendEnd = qx.locale.Date.getWeekendEnd(locale);
      if(weekendEnd > weekendStart){

        return ((day >= weekendStart) && (day <= weekendEnd));
      } else {

        return ((day >= weekendStart) || (day <= weekendEnd));
      };
    },
    _getTerritory : function(locale){

      if(locale){

        var territory = locale.split("_")[1] || locale;
      } else {

        territory = this.__mgr.getTerritory() || this.__mgr.getLanguage();
      };
      return territory.toUpperCase();
    },
    __localizeWithFallback : function(context, fallbackContext, key, locale){

      var localizedString = this.__mgr.localize(key, [], locale);
      if(localizedString == key){

        var newKey = key.replace('_' + context + '_', '_' + fallbackContext + '_');
        return this.__mgr.localize(newKey, [], locale);
      } else {

        return localizedString;
      };
    }
  }
});

qx.Interface.define("qx.ui.table.ICellRenderer", {
  members : {
    createDataCellHtml : function(cellInfo, htmlArr){

      return true;
    }
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Abstract", {
  type : "abstract",
  implement : qx.ui.table.ICellRenderer,
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    var cr = qx.ui.table.cellrenderer.Abstract;
    if(!cr.__clazz){

      cr.__clazz = this.self(arguments);
      this._createStyleSheet();
      if(qx.core.Environment.get("qx.dyntheme")){

        qx.theme.manager.Color.getInstance().addListener("changeTheme", this._onChangeTheme, this);
      };
    };
  },
  properties : {
    defaultCellStyle : {
      init : null,
      check : "String",
      nullable : true
    }
  },
  members : {
    _onChangeTheme : qx.core.Environment.select("qx.dyntheme", {
      "true" : function(){

        qx.bom.Stylesheet.removeAllRules(qx.ui.table.cellrenderer.Abstract.__clazz.stylesheet);
        this._createStyleSheet();
      },
      "false" : null
    }),
    _insetX : 6 + 6 + 1,
    _insetY : 0,
    _createStyleSheet : function(){

      var colorMgr = qx.theme.manager.Color.getInstance();
      var stylesheet = ".qooxdoo-table-cell {" + qx.bom.element.Style.compile({
        position : "absolute",
        top : "0px",
        overflow : "hidden",
        whiteSpace : "nowrap",
        borderRight : "1px solid " + colorMgr.resolve("table-column-line"),
        padding : "0px 6px",
        cursor : "default",
        textOverflow : "ellipsis",
        userSelect : "none"
      }) + "} " + ".qooxdoo-table-cell-right { text-align:right } " + ".qooxdoo-table-cell-italic { font-style:italic} " + ".qooxdoo-table-cell-bold { font-weight:bold } ";
      if(qx.core.Environment.get("css.boxsizing")){

        stylesheet += ".qooxdoo-table-cell {" + qx.bom.element.BoxSizing.compile("content-box") + "}";
      };
      qx.ui.table.cellrenderer.Abstract.__clazz.stylesheet = qx.bom.Stylesheet.createElement(stylesheet);
    },
    _getCellClass : function(cellInfo){

      return "qooxdoo-table-cell";
    },
    _getCellStyle : function(cellInfo){

      return cellInfo.style || "";
    },
    _getCellAttributes : function(cellInfo){

      return "";
    },
    _getContentHtml : function(cellInfo){

      return cellInfo.value || "";
    },
    _getCellSizeStyle : function(width, height, insetX, insetY){

      var style = "";
      if(qx.core.Environment.get("css.boxmodel") == "content"){

        width -= insetX;
        height -= insetY;
      };
      style += "width:" + Math.max(width, 0) + "px;";
      style += "height:" + Math.max(height, 0) + "px;";
      return style;
    },
    createDataCellHtml : function(cellInfo, htmlArr){

      htmlArr.push('<div class="', this._getCellClass(cellInfo), '" style="', 'left:', cellInfo.styleLeft, 'px;', this._getCellSizeStyle(cellInfo.styleWidth, cellInfo.styleHeight, this._insetX, this._insetY), this._getCellStyle(cellInfo), '" ', this._getCellAttributes(cellInfo), '>' + this._getContentHtml(cellInfo), '</div>');
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Color.getInstance().removeListener("changeTheme", this._onChangeTheme, this);
    };
  }
});

qx.Class.define("qx.util.Permutation", {
  statics : {
    permute : function(options, callback, context){

      var keys = Object.keys(options);
      var map = {
      };
      var indices = [];
      for(var i = 0;i < keys.length;i++){

        indices[i] = 0;
        var key = keys[i];
        map[key] = options[key][0];
      };
      var _perm = function(index, ignore){

        if(index >= keys.length){

          return;
        };
        var key = keys[index];
        var values = options[key];
        for(var i = 0;i < values.length;i++){

          if(ignore !== i){

            indices[index] = i;
            map[key] = values[i];
            callback.call(context || window, map);
          };
          _perm(index + 1, indices[index + 1]);
        };
      };
      _perm(0, -1);
    }
  }
});

qx.Interface.define("qx.ui.virtual.core.ILayer", {
  members : {
    fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      this.assertArgumentsCount(arguments, 6, 6);
      this.assertPositiveInteger(firstRow);
      this.assertPositiveInteger(firstColumn);
      this.assertArray(rowSizes);
      this.assertArray(columnSizes);
    },
    updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      this.assertArgumentsCount(arguments, 6, 6);
      this.assertPositiveInteger(firstRow);
      this.assertPositiveInteger(firstColumn);
      this.assertArray(rowSizes);
      this.assertArray(columnSizes);
    },
    updateLayerData : function(){
    }
  }
});

qx.Class.define("qx.ui.virtual.layer.Abstract", {
  extend : qx.ui.core.Widget,
  type : "abstract",
  implement : [qx.ui.virtual.core.ILayer],
  construct : function(){

    this.base(arguments);
    this.__jobs = {
    };
  },
  properties : {
    anonymous : {
      refine : true,
      init : true
    }
  },
  members : {
    __jobs : null,
    __arguments : null,
    __firstRow : null,
    __firstColumn : null,
    __rowSizes : null,
    __columnSizes : null,
    getFirstRow : function(){

      return this.__firstRow;
    },
    getFirstColumn : function(){

      return this.__firstColumn;
    },
    getRowSizes : function(){

      return this.__rowSizes || [];
    },
    getColumnSizes : function(){

      return this.__columnSizes || [];
    },
    syncWidget : function(jobs){

      if(!this.getContentElement().getDomElement()){

        return;
      };
      if(this.__jobs.fullUpdate || this.__jobs.updateLayerWindow && this.__jobs.updateLayerData){

        this._fullUpdate.apply(this, this.__arguments);
      } else if(this.__jobs.updateLayerWindow){

        this._updateLayerWindow.apply(this, this.__arguments);
      } else if(this.__jobs.updateLayerData && this.__rowSizes){

        this._updateLayerData();
      };;
      if(this.__jobs.fullUpdate || this.__jobs.updateLayerWindow){

        var args = this.__arguments;
        this.__firstRow = args[0];
        this.__firstColumn = args[1];
        this.__rowSizes = args[2];
        this.__columnSizes = args[3];
      };
      this.__jobs = {
      };
    },
    _updateLayerData : function(){

      this._fullUpdate(this.__firstRow, this.__firstColumn, this.__rowSizes, this.__columnSizes);
    },
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      throw new Error("Abstract method '_fullUpdate' called!");
    },
    _updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      this._fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
    },
    updateLayerData : function(){

      this.__jobs.updateLayerData = true;
      qx.ui.core.queue.Widget.add(this);
    },
    fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      this.__arguments = arguments;
      this.__jobs.fullUpdate = true;
      qx.ui.core.queue.Widget.add(this);
    },
    updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      this.__arguments = arguments;
      this.__jobs.updateLayerWindow = true;
      qx.ui.core.queue.Widget.add(this);
    }
  },
  destruct : function(){

    this.__jobs = this.__arguments = this.__rowSizes = this.__columnSizes = null;
  }
});

qx.Class.define("qx.io.remote.Exchange", {
  extend : qx.core.Object,
  construct : function(vRequest){

    this.base(arguments);
    this.setRequest(vRequest);
    vRequest.setTransport(this);
  },
  events : {
    "sending" : "qx.event.type.Event",
    "receiving" : "qx.event.type.Event",
    "completed" : "qx.io.remote.Response",
    "aborted" : "qx.event.type.Event",
    "failed" : "qx.io.remote.Response",
    "timeout" : "qx.io.remote.Response"
  },
  statics : {
    typesOrder : ["qx.io.remote.transport.XmlHttp", "qx.io.remote.transport.Iframe", "qx.io.remote.transport.Script"],
    typesReady : false,
    typesAvailable : {
    },
    typesSupported : {
    },
    registerType : function(vClass, vId){

      qx.io.remote.Exchange.typesAvailable[vId] = vClass;
    },
    initTypes : function(){

      if(qx.io.remote.Exchange.typesReady){

        return;
      };
      for(var vId in qx.io.remote.Exchange.typesAvailable){

        var vTransporterImpl = qx.io.remote.Exchange.typesAvailable[vId];
        if(vTransporterImpl.isSupported()){

          qx.io.remote.Exchange.typesSupported[vId] = vTransporterImpl;
        };
      };
      qx.io.remote.Exchange.typesReady = true;
      if(qx.lang.Object.isEmpty(qx.io.remote.Exchange.typesSupported)){

        throw new Error("No supported transport types were found!");
      };
    },
    canHandle : function(vImpl, vNeeds, vResponseType){

      if(!qx.lang.Array.contains(vImpl.handles.responseTypes, vResponseType)){

        return false;
      };
      for(var vKey in vNeeds){

        if(!vImpl.handles[vKey]){

          return false;
        };
      };
      return true;
    },
    _nativeMap : {
      '0' : "created",
      '1' : "configured",
      '2' : "sending",
      '3' : "receiving",
      '4' : "completed"
    },
    wasSuccessful : function(vStatusCode, vReadyState, vIsLocal){

      if(vIsLocal){

        switch(vStatusCode){case null:case 0:
        return true;case -1:
        return vReadyState < 4;default:
        return typeof vStatusCode === "undefined";};
      } else {

        switch(vStatusCode){case -1:
        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote") && vReadyState > 3){

            qx.log.Logger.debug(this, "Failed with statuscode: -1 at readyState " + vReadyState);
          };
        };
        return vReadyState < 4;case 200:case 304:
        return true;case 201:case 202:case 203:case 204:case 205:
        return true;case 206:
        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote") && vReadyState === 4){

            qx.log.Logger.debug(this, "Failed with statuscode: 206 (Partial content while being complete!)");
          };
        };
        return vReadyState !== 4;case 300:case 301:case 302:case 303:case 305:case 400:case 401:case 402:case 403:case 404:case 405:case 406:case 407:case 408:case 409:case 410:case 411:case 412:case 413:case 414:case 415:case 500:case 501:case 502:case 503:case 504:case 505:
        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            qx.log.Logger.debug(this, "Failed with typical HTTP statuscode: " + vStatusCode);
          };
        };
        return false;case 12002:case 12007:case 12029:case 12030:case 12031:case 12152:case 13030:
        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            qx.log.Logger.debug(this, "Failed with MSHTML specific HTTP statuscode: " + vStatusCode);
          };
        };
        return false;default:
        if(vStatusCode > 206 && vStatusCode < 300){

          return true;
        };
        qx.log.Logger.debug(this, "Unknown status code: " + vStatusCode + " (" + vReadyState + ")");
        return false;};
      };
    },
    statusCodeToString : function(vStatusCode){

      switch(vStatusCode){case -1:
      return "Not available";case 0:
      var url = window.location.href;
      if(qx.lang.String.startsWith(url.toLowerCase(), "file:")){

        return ("Unknown status code. " + "Possibly due to application URL using 'file:' protocol?");
      } else {

        return ("Unknown status code. " + "Possibly due to a cross-domain request?");
      };
      break;case 200:
      return "Ok";case 304:
      return "Not modified";case 206:
      return "Partial content";case 204:
      return "No content";case 300:
      return "Multiple choices";case 301:
      return "Moved permanently";case 302:
      return "Moved temporarily";case 303:
      return "See other";case 305:
      return "Use proxy";case 400:
      return "Bad request";case 401:
      return "Unauthorized";case 402:
      return "Payment required";case 403:
      return "Forbidden";case 404:
      return "Not found";case 405:
      return "Method not allowed";case 406:
      return "Not acceptable";case 407:
      return "Proxy authentication required";case 408:
      return "Request time-out";case 409:
      return "Conflict";case 410:
      return "Gone";case 411:
      return "Length required";case 412:
      return "Precondition failed";case 413:
      return "Request entity too large";case 414:
      return "Request-URL too large";case 415:
      return "Unsupported media type";case 500:
      return "Server error";case 501:
      return "Not implemented";case 502:
      return "Bad gateway";case 503:
      return "Out of resources";case 504:
      return "Gateway time-out";case 505:
      return "HTTP version not supported";case 12002:
      return "Server timeout";case 12029:
      return "Connection dropped";case 12030:
      return "Connection dropped";case 12031:
      return "Connection dropped";case 12152:
      return "Connection closed by server";case 13030:
      return "MSHTML-specific HTTP status code";default:
      return "Unknown status code";};
    }
  },
  properties : {
    request : {
      check : "qx.io.remote.Request",
      nullable : true
    },
    implementation : {
      check : "qx.io.remote.transport.Abstract",
      nullable : true,
      apply : "_applyImplementation"
    },
    state : {
      check : ["configured", "sending", "receiving", "completed", "aborted", "timeout", "failed"],
      init : "configured",
      event : "changeState",
      apply : "_applyState"
    }
  },
  members : {
    send : function(){

      var vRequest = this.getRequest();
      if(!vRequest){

        return this.error("Please attach a request object first");
      };
      qx.io.remote.Exchange.initTypes();
      var vUsage = qx.io.remote.Exchange.typesOrder;
      var vSupported = qx.io.remote.Exchange.typesSupported;
      var vResponseType = vRequest.getResponseType();
      var vNeeds = {
      };
      if(vRequest.getAsynchronous()){

        vNeeds.asynchronous = true;
      } else {

        vNeeds.synchronous = true;
      };
      if(vRequest.getCrossDomain()){

        vNeeds.crossDomain = true;
      };
      if(vRequest.getFileUpload()){

        vNeeds.fileUpload = true;
      };
      for(var field in vRequest.getFormFields()){

        vNeeds.programaticFormFields = true;
        break;
      };
      var vTransportImpl,vTransport;
      for(var i = 0,l = vUsage.length;i < l;i++){

        vTransportImpl = vSupported[vUsage[i]];
        if(vTransportImpl){

          if(!qx.io.remote.Exchange.canHandle(vTransportImpl, vNeeds, vResponseType)){

            continue;
          };
          try{

            if(qx.core.Environment.get("qx.debug")){

              if(qx.core.Environment.get("qx.debug.io.remote")){

                this.debug("Using implementation: " + vTransportImpl.classname);
              };
            };
            vTransport = new vTransportImpl;
            this.setImplementation(vTransport);
            vTransport.setUseBasicHttpAuth(vRequest.getUseBasicHttpAuth());
            vTransport.send();
            return true;
          } catch(ex) {

            this.error("Request handler throws error");
            this.error(ex);
            return false;
          };
        };
      };
      this.error("There is no transport implementation available to handle this request: " + vRequest);
    },
    abort : function(){

      var vImplementation = this.getImplementation();
      if(vImplementation){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            this.debug("Abort: implementation " + vImplementation.toHashCode());
          };
        };
        vImplementation.abort();
      } else {

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            this.debug("Abort: forcing state to be aborted");
          };
        };
        this.setState("aborted");
      };
    },
    timeout : function(){

      var vImplementation = this.getImplementation();
      if(vImplementation){

        var str = "";
        for(var key in vImplementation.getParameters()){

          str += "&" + key + "=" + vImplementation.getParameters()[key];
        };
        this.warn("Timeout: implementation " + vImplementation.toHashCode() + ", " + vImplementation.getUrl() + " [" + vImplementation.getMethod() + "], " + str);
        vImplementation.timeout();
      } else {

        this.warn("Timeout: forcing state to timeout");
        this.setState("timeout");
      };
      this.__disableRequestTimeout();
    },
    __disableRequestTimeout : function(){

      var vRequest = this.getRequest();
      if(vRequest){

        vRequest.setTimeout(0);
      };
    },
    _onsending : function(e){

      this.setState("sending");
    },
    _onreceiving : function(e){

      this.setState("receiving");
    },
    _oncompleted : function(e){

      this.setState("completed");
    },
    _onabort : function(e){

      this.setState("aborted");
    },
    _onfailed : function(e){

      this.setState("failed");
    },
    _ontimeout : function(e){

      this.setState("timeout");
    },
    _applyImplementation : function(value, old){

      if(old){

        old.removeListener("sending", this._onsending, this);
        old.removeListener("receiving", this._onreceiving, this);
        old.removeListener("completed", this._oncompleted, this);
        old.removeListener("aborted", this._onabort, this);
        old.removeListener("timeout", this._ontimeout, this);
        old.removeListener("failed", this._onfailed, this);
      };
      if(value){

        var vRequest = this.getRequest();
        value.setUrl(vRequest.getUrl());
        value.setMethod(vRequest.getMethod());
        value.setAsynchronous(vRequest.getAsynchronous());
        value.setUsername(vRequest.getUsername());
        value.setPassword(vRequest.getPassword());
        value.setParameters(vRequest.getParameters(false));
        value.setFormFields(vRequest.getFormFields());
        value.setRequestHeaders(vRequest.getRequestHeaders());
        if(value instanceof qx.io.remote.transport.XmlHttp){

          value.setParseJson(vRequest.getParseJson());
        };
        var data = vRequest.getData();
        if(data === null){

          var vParameters = vRequest.getParameters(true);
          var vParametersList = [];
          for(var vId in vParameters){

            var paramValue = vParameters[vId];
            if(paramValue instanceof Array){

              for(var i = 0;i < paramValue.length;i++){

                vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(paramValue[i]));
              };
            } else {

              vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(paramValue));
            };
          };
          if(vParametersList.length > 0){

            value.setData(vParametersList.join("&"));
          };
        } else {

          value.setData(data);
        };
        value.setResponseType(vRequest.getResponseType());
        value.addListener("sending", this._onsending, this);
        value.addListener("receiving", this._onreceiving, this);
        value.addListener("completed", this._oncompleted, this);
        value.addListener("aborted", this._onabort, this);
        value.addListener("timeout", this._ontimeout, this);
        value.addListener("failed", this._onfailed, this);
      };
    },
    _applyState : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("State: " + old + " => " + value);
        };
      };
      switch(value){case "sending":
      this.fireEvent("sending");
      break;case "receiving":
      this.fireEvent("receiving");
      break;case "completed":case "aborted":case "timeout":case "failed":
      var vImpl = this.getImplementation();
      if(!vImpl){

        break;
      };
      this.__disableRequestTimeout();
      if(this.hasListener(value)){

        var vResponse = qx.event.Registration.createEvent(value, qx.io.remote.Response);
        if(value == "completed"){

          var vContent = vImpl.getResponseContent();
          vResponse.setContent(vContent);
          if(vContent === null){

            if(qx.core.Environment.get("qx.debug")){

              if(qx.core.Environment.get("qx.debug.io.remote")){

                this.debug("Altered State: " + value + " => failed");
              };
            };
            value = "failed";
          };
        } else if(value == "failed"){

          vResponse.setContent(vImpl.getResponseContent());
        };
        vResponse.setStatusCode(vImpl.getStatusCode());
        vResponse.setResponseHeaders(vImpl.getResponseHeaders());
        this.dispatchEvent(vResponse);
      };
      this.setImplementation(null);
      vImpl.dispose();
      break;};
    }
  },
  environment : {
    "qx.debug.io.remote" : false,
    "qx.debug.io.remote.data" : false
  },
  destruct : function(){

    var vImpl = this.getImplementation();
    if(vImpl){

      this.setImplementation(null);
      vImpl.dispose();
    };
    this.setRequest(null);
  }
});

qx.Class.define("qx.io.remote.transport.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.setRequestHeaders({
    });
    this.setParameters({
    });
    this.setFormFields({
    });
  },
  events : {
    "created" : "qx.event.type.Event",
    "configured" : "qx.event.type.Event",
    "sending" : "qx.event.type.Event",
    "receiving" : "qx.event.type.Event",
    "completed" : "qx.event.type.Event",
    "aborted" : "qx.event.type.Event",
    "failed" : "qx.event.type.Event",
    "timeout" : "qx.event.type.Event"
  },
  properties : {
    url : {
      check : "String",
      nullable : true
    },
    method : {
      check : "String",
      nullable : true,
      init : "GET"
    },
    asynchronous : {
      check : "Boolean",
      nullable : true,
      init : true
    },
    data : {
      check : "String",
      nullable : true
    },
    username : {
      check : "String",
      nullable : true
    },
    password : {
      check : "String",
      nullable : true
    },
    state : {
      check : ["created", "configured", "sending", "receiving", "completed", "aborted", "timeout", "failed"],
      init : "created",
      event : "changeState",
      apply : "_applyState"
    },
    requestHeaders : {
      check : "Object",
      nullable : true
    },
    parameters : {
      check : "Object",
      nullable : true
    },
    formFields : {
      check : "Object",
      nullable : true
    },
    responseType : {
      check : "String",
      nullable : true
    },
    useBasicHttpAuth : {
      check : "Boolean",
      nullable : true
    }
  },
  members : {
    send : function(){

      throw new Error("send is abstract");
    },
    abort : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.warn("Aborting...");
        };
      };
      this.setState("aborted");
    },
    timeout : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.warn("Timeout...");
        };
      };
      this.setState("timeout");
    },
    failed : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.warn("Failed...");
        };
      };
      this.setState("failed");
    },
    setRequestHeader : function(vLabel, vValue){

      throw new Error("setRequestHeader is abstract");
    },
    getResponseHeader : function(vLabel){

      throw new Error("getResponseHeader is abstract");
    },
    getResponseHeaders : function(){

      throw new Error("getResponseHeaders is abstract");
    },
    getStatusCode : function(){

      throw new Error("getStatusCode is abstract");
    },
    getStatusText : function(){

      throw new Error("getStatusText is abstract");
    },
    getResponseText : function(){

      throw new Error("getResponseText is abstract");
    },
    getResponseXml : function(){

      throw new Error("getResponseXml is abstract");
    },
    getFetchedLength : function(){

      throw new Error("getFetchedLength is abstract");
    },
    _applyState : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("State: " + value);
        };
      };
      switch(value){case "created":
      this.fireEvent("created");
      break;case "configured":
      this.fireEvent("configured");
      break;case "sending":
      this.fireEvent("sending");
      break;case "receiving":
      this.fireEvent("receiving");
      break;case "completed":
      this.fireEvent("completed");
      break;case "aborted":
      this.fireEvent("aborted");
      break;case "failed":
      this.fireEvent("failed");
      break;case "timeout":
      this.fireEvent("timeout");
      break;};
      return true;
    }
  },
  destruct : function(){

    this.setRequestHeaders(null);
    this.setParameters(null);
    this.setFormFields(null);
  }
});

qx.Class.define("qx.io.remote.transport.Script", {
  extend : qx.io.remote.transport.Abstract,
  construct : function(){

    this.base(arguments);
    var vUniqueId = ++qx.io.remote.transport.Script.__uniqueId;
    if(vUniqueId >= 2000000000){

      qx.io.remote.transport.Script.__uniqueId = vUniqueId = 1;
    };
    this.__element = null;
    this.__uniqueId = vUniqueId;
  },
  statics : {
    __uniqueId : 0,
    _instanceRegistry : {
    },
    ScriptTransport_PREFIX : "_ScriptTransport_",
    ScriptTransport_ID_PARAM : "_ScriptTransport_id",
    ScriptTransport_DATA_PARAM : "_ScriptTransport_data",
    handles : {
      synchronous : false,
      asynchronous : true,
      crossDomain : true,
      fileUpload : false,
      programaticFormFields : false,
      responseTypes : ["text/plain", "text/javascript", "application/json"]
    },
    isSupported : function(){

      return true;
    },
    _numericMap : {
      "uninitialized" : 1,
      "loading" : 2,
      "loaded" : 2,
      "interactive" : 3,
      "complete" : 4
    },
    _requestFinished : qx.event.GlobalError.observeMethod(function(id, content){

      var vInstance = qx.io.remote.transport.Script._instanceRegistry[id];
      if(vInstance == null){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            this.warn("Request finished for an unknown instance (probably aborted or timed out before)");
          };
        };
      } else {

        vInstance._responseContent = content;
        vInstance._switchReadyState(qx.io.remote.transport.Script._numericMap.complete);
      };
    })
  },
  members : {
    __lastReadyState : 0,
    __element : null,
    __uniqueId : null,
    send : function(){

      var vUrl = this.getUrl();
      vUrl += (vUrl.indexOf("?") >= 0 ? "&" : "?") + qx.io.remote.transport.Script.ScriptTransport_ID_PARAM + "=" + this.__uniqueId;
      var vParameters = this.getParameters();
      var vParametersList = [];
      for(var vId in vParameters){

        if(vId.indexOf(qx.io.remote.transport.Script.ScriptTransport_PREFIX) == 0){

          this.error("Illegal parameter name. The following prefix is used internally by qooxdoo): " + qx.io.remote.transport.Script.ScriptTransport_PREFIX);
        };
        var value = vParameters[vId];
        if(value instanceof Array){

          for(var i = 0;i < value.length;i++){

            vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value[i]));
          };
        } else {

          vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value));
        };
      };
      if(vParametersList.length > 0){

        vUrl += "&" + vParametersList.join("&");
      };
      var vData = this.getData();
      if(vData != null){

        vUrl += "&" + qx.io.remote.transport.Script.ScriptTransport_DATA_PARAM + "=" + encodeURIComponent(vData);
      };
      qx.io.remote.transport.Script._instanceRegistry[this.__uniqueId] = this;
      this.__element = document.createElement("script");
      this.__element.charset = "utf-8";
      this.__element.src = vUrl;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Request: " + vUrl);
        };
      };
      document.body.appendChild(this.__element);
    },
    _switchReadyState : function(vReadyState){

      switch(this.getState()){case "completed":case "aborted":case "failed":case "timeout":
      this.warn("Ignore Ready State Change");
      return;};
      while(this.__lastReadyState < vReadyState){

        this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState]);
      };
    },
    setRequestHeader : function(vLabel, vValue){
    },
    getResponseHeader : function(vLabel){

      return null;
    },
    getResponseHeaders : function(){

      return {
      };
    },
    getStatusCode : function(){

      return 200;
    },
    getStatusText : function(){

      return "";
    },
    getFetchedLength : function(){

      return 0;
    },
    getResponseContent : function(){

      if(this.getState() !== "completed"){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            this.warn("Transfer not complete, ignoring content!");
          };
        };
        return null;
      };
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("Returning content for responseType: " + this.getResponseType());
        };
      };
      switch(this.getResponseType()){case "text/plain":case "application/json":case "text/javascript":
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + this._responseContent);
        };
      };
      var ret = this._responseContent;
      return (ret === 0 ? 0 : (ret || null));default:
      this.warn("No valid responseType specified (" + this.getResponseType() + ")!");
      return null;};
    }
  },
  defer : function(){

    qx.io.remote.Exchange.registerType(qx.io.remote.transport.Script, "qx.io.remote.transport.Script");
  },
  destruct : function(){

    if(this.__element){

      delete qx.io.remote.transport.Script._instanceRegistry[this.__uniqueId];
      document.body.removeChild(this.__element);
    };
    this.__element = this._responseContent = null;
  }
});

qx.Class.define("qx.io.remote.transport.Iframe", {
  extend : qx.io.remote.transport.Abstract,
  construct : function(){

    this.base(arguments);
    var vUniqueId = (new Date).valueOf();
    var vFrameName = "frame_" + vUniqueId;
    var vFormName = "form_" + vUniqueId;
    var vFrameSource;
    if((qx.core.Environment.get("engine.name") == "mshtml")){

      vFrameSource = "javascript:void(0)";
    };
    this.__frame = qx.bom.Iframe.create({
      id : vFrameName,
      name : vFrameName,
      src : vFrameSource
    });
    qx.bom.element.Style.set(this.__frame, "display", "none");
    this.__form = qx.dom.Element.create("form", {
      id : vFormName,
      name : vFormName,
      target : vFrameName
    });
    qx.bom.element.Style.set(this.__form, "display", "none");
    qx.dom.Element.insertEnd(this.__form, qx.dom.Node.getBodyElement(document));
    this.__data = qx.dom.Element.create("textarea", {
      id : "_data_",
      name : "_data_"
    });
    qx.dom.Element.insertEnd(this.__data, this.__form);
    qx.dom.Element.insertEnd(this.__frame, qx.dom.Node.getBodyElement(document));
    qx.event.Registration.addListener(this.__frame, "load", this._onload, this);
    this.__onreadystatechangeWrapper = qx.lang.Function.listener(this._onreadystatechange, this);
    qx.bom.Event.addNativeListener(this.__frame, "readystatechange", this.__onreadystatechangeWrapper);
  },
  statics : {
    handles : {
      synchronous : false,
      asynchronous : true,
      crossDomain : false,
      fileUpload : true,
      programaticFormFields : true,
      responseTypes : ["text/plain", "text/javascript", "application/json", "application/xml", "text/html"]
    },
    isSupported : function(){

      return true;
    },
    _numericMap : {
      "uninitialized" : 1,
      "loading" : 2,
      "loaded" : 2,
      "interactive" : 3,
      "complete" : 4
    }
  },
  members : {
    __data : null,
    __lastReadyState : 0,
    __form : null,
    __frame : null,
    __onreadystatechangeWrapper : null,
    send : function(){

      var vMethod = this.getMethod();
      var vUrl = this.getUrl();
      var vParameters = this.getParameters(false);
      var vParametersList = [];
      for(var vId in vParameters){

        var value = vParameters[vId];
        if(value instanceof Array){

          for(var i = 0;i < value.length;i++){

            vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value[i]));
          };
        } else {

          vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value));
        };
      };
      if(vParametersList.length > 0){

        vUrl += (vUrl.indexOf("?") >= 0 ? "&" : "?") + vParametersList.join("&");
      };
      if(this.getData() === null){

        var vParameters = this.getParameters(true);
        var vParametersList = [];
        for(var vId in vParameters){

          var value = vParameters[vId];
          if(value instanceof Array){

            for(var i = 0;i < value.length;i++){

              vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value[i]));
            };
          } else {

            vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value));
          };
        };
        if(vParametersList.length > 0){

          this.setData(vParametersList.join("&"));
        };
      };
      var vFormFields = this.getFormFields();
      for(var vId in vFormFields){

        var vField = document.createElement("textarea");
        vField.name = vId;
        vField.appendChild(document.createTextNode(vFormFields[vId]));
        this.__form.appendChild(vField);
      };
      this.__form.action = vUrl;
      this.__form.method = vMethod;
      this.__data.appendChild(document.createTextNode(this.getData()));
      this.__form.submit();
      this.setState("sending");
    },
    _onload : qx.event.GlobalError.observeMethod(function(e){

      if(qx.core.Environment.get("engine.name") == "opera" && this.getIframeHtmlContent() == ""){

        return;
      };
      if(this.__form.src){

        return;
      };
      this._switchReadyState(qx.io.remote.transport.Iframe._numericMap.complete);
    }),
    _onreadystatechange : qx.event.GlobalError.observeMethod(function(e){

      this._switchReadyState(qx.io.remote.transport.Iframe._numericMap[this.__frame.readyState]);
    }),
    _switchReadyState : function(vReadyState){

      switch(this.getState()){case "completed":case "aborted":case "failed":case "timeout":
      this.warn("Ignore Ready State Change");
      return;};
      while(this.__lastReadyState < vReadyState){

        this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState]);
      };
    },
    setRequestHeader : function(vLabel, vValue){
    },
    getResponseHeader : function(vLabel){

      return null;
    },
    getResponseHeaders : function(){

      return {
      };
    },
    getStatusCode : function(){

      return 200;
    },
    getStatusText : function(){

      return "";
    },
    getIframeWindow : function(){

      return qx.bom.Iframe.getWindow(this.__frame);
    },
    getIframeDocument : function(){

      return qx.bom.Iframe.getDocument(this.__frame);
    },
    getIframeBody : function(){

      return qx.bom.Iframe.getBody(this.__frame);
    },
    getIframeTextContent : function(){

      var vBody = this.getIframeBody();
      if(!vBody){

        return null;
      };
      if(!vBody.firstChild){

        return "";
      };
      if(vBody.firstChild.tagName && vBody.firstChild.tagName.toLowerCase() == "pre"){

        return vBody.firstChild.innerHTML;
      } else {

        return vBody.innerHTML;
      };
    },
    getIframeHtmlContent : function(){

      var vBody = this.getIframeBody();
      return vBody ? vBody.innerHTML : null;
    },
    getFetchedLength : function(){

      return 0;
    },
    getResponseContent : function(){

      if(this.getState() !== "completed"){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            this.warn("Transfer not complete, ignoring content!");
          };
        };
        return null;
      };
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("Returning content for responseType: " + this.getResponseType());
        };
      };
      var vText = this.getIframeTextContent();
      switch(this.getResponseType()){case "text/plain":
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + this._responseContent);
        };
      };
      return vText;case "text/html":
      vText = this.getIframeHtmlContent();
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + this._responseContent);
        };
      };
      return vText;case "application/json":
      vText = this.getIframeHtmlContent();
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + this._responseContent);
        };
      };
      try{

        return vText && vText.length > 0 ? qx.lang.Json.parse(vText) : null;
      } catch(ex) {

        return this.error("Could not execute json: (" + vText + ")", ex);
      };case "text/javascript":
      vText = this.getIframeHtmlContent();
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + this._responseContent);
        };
      };
      try{

        return vText && vText.length > 0 ? window.eval(vText) : null;
      } catch(ex) {

        return this.error("Could not execute javascript: (" + vText + ")", ex);
      };case "application/xml":
      vText = this.getIframeDocument();
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + this._responseContent);
        };
      };
      return vText;default:
      this.warn("No valid responseType specified (" + this.getResponseType() + ")!");
      return null;};
    }
  },
  defer : function(){

    qx.io.remote.Exchange.registerType(qx.io.remote.transport.Iframe, "qx.io.remote.transport.Iframe");
  },
  destruct : function(){

    if(this.__frame){

      qx.event.Registration.removeListener(this.__frame, "load", this._onload, this);
      qx.bom.Event.removeNativeListener(this.__frame, "readystatechange", this.__onreadystatechangeWrapper);
      if((qx.core.Environment.get("engine.name") == "gecko")){

        this.__frame.src = qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif");
      };
      qx.dom.Element.remove(this.__frame);
    };
    if(this.__form){

      qx.dom.Element.remove(this.__form);
    };
    this.__frame = this.__form = this.__data = null;
  }
});

qx.Class.define("qx.event.handler.Iframe", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      load : 1,
      navigate : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : false,
    onevent : qx.event.GlobalError.observeMethod(function(target){

      var currentUrl = qx.bom.Iframe.queryCurrentUrl(target);
      if(currentUrl !== target.$$url){

        qx.event.Registration.fireEvent(target, "navigate", qx.event.type.Data, [currentUrl]);
        target.$$url = currentUrl;
      };
      qx.event.Registration.fireEvent(target, "load");
    })
  },
  members : {
    canHandleEvent : function(target, type){

      return target.tagName.toLowerCase() === "iframe";
    },
    registerEvent : function(target, type, capture){
    },
    unregisterEvent : function(target, type, capture){
    }
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.bom.Iframe", {
  statics : {
    DEFAULT_ATTRIBUTES : {
      onload : "qx.event.handler.Iframe.onevent(this)",
      frameBorder : 0,
      frameSpacing : 0,
      marginWidth : 0,
      marginHeight : 0,
      hspace : 0,
      vspace : 0,
      border : 0,
      allowTransparency : true
    },
    create : function(attributes, win){

      var attributes = attributes ? qx.lang.Object.clone(attributes) : {
      };
      var initValues = qx.bom.Iframe.DEFAULT_ATTRIBUTES;
      for(var key in initValues){

        if(attributes[key] == null){

          attributes[key] = initValues[key];
        };
      };
      return qx.dom.Element.create("iframe", attributes, win);
    },
    getWindow : function(iframe){

      try{

        return iframe.contentWindow;
      } catch(ex) {

        return null;
      };
    },
    getDocument : function(iframe){

      if("contentDocument" in iframe){

        try{

          return iframe.contentDocument;
        } catch(ex) {

          return null;
        };
      };
      try{

        var win = this.getWindow(iframe);
        return win ? win.document : null;
      } catch(ex) {

        return null;
      };
    },
    getBody : function(iframe){

      try{

        var doc = this.getDocument(iframe);
        return doc ? doc.getElementsByTagName("body")[0] : null;
      } catch(ex) {

        return null;
      };
    },
    setSource : function(iframe, source){

      try{

        if(this.getWindow(iframe) && qx.dom.Hierarchy.isRendered(iframe)){

          try{

            if((qx.core.Environment.get("engine.name") == "webkit") && qx.core.Environment.get("os.name") == "osx"){

              var contentWindow = this.getWindow(iframe);
              if(contentWindow){

                contentWindow.stop();
              };
            };
            this.getWindow(iframe).location.replace(source);
          } catch(ex) {

            iframe.src = source;
          };
        } else {

          iframe.src = source;
        };
        this.__rememberUrl(iframe);
      } catch(ex) {

        qx.log.Logger.warn("Iframe source could not be set!");
      };
    },
    queryCurrentUrl : function(iframe){

      var doc = this.getDocument(iframe);
      try{

        if(doc && doc.location){

          return doc.location.href;
        };
      } catch(ex) {
      };
      return "";
    },
    __rememberUrl : function(iframe){

      var callback = function(){

        qx.bom.Event.removeNativeListener(iframe, "load", callback);
        iframe.$$url = qx.bom.Iframe.queryCurrentUrl(iframe);
      };
      qx.bom.Event.addNativeListener(iframe, "load", callback);
    }
  }
});

qx.Class.define("qx.io.remote.transport.XmlHttp", {
  extend : qx.io.remote.transport.Abstract,
  statics : {
    handles : {
      synchronous : true,
      asynchronous : true,
      crossDomain : false,
      fileUpload : false,
      programaticFormFields : false,
      responseTypes : ["text/plain", "text/javascript", "application/json", "application/xml", "text/html"]
    },
    createRequestObject : qx.core.Environment.select("engine.name", {
      "default" : function(){

        return new XMLHttpRequest;
      },
      "mshtml" : function(){

        if(window.ActiveXObject && qx.xml.Document.XMLHTTP){

          return new ActiveXObject(qx.xml.Document.XMLHTTP);
        };
        if(window.XMLHttpRequest){

          return new XMLHttpRequest;
        };
      }
    }),
    isSupported : function(){

      return !!this.createRequestObject();
    }
  },
  properties : {
    parseJson : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    __localRequest : false,
    __lastReadyState : 0,
    __request : null,
    getRequest : function(){

      if(this.__request === null){

        this.__request = qx.io.remote.transport.XmlHttp.createRequestObject();
        this.__request.onreadystatechange = qx.lang.Function.bind(this._onreadystatechange, this);
      };
      return this.__request;
    },
    send : function(){

      this.__lastReadyState = 0;
      var vRequest = this.getRequest();
      var vMethod = this.getMethod();
      var vAsynchronous = this.getAsynchronous();
      var vUrl = this.getUrl();
      var vLocalRequest = (window.location.protocol === "file:" && !(/^http(s){0,1}\:/.test(vUrl)));
      this.__localRequest = vLocalRequest;
      var vParameters = this.getParameters(false);
      var vParametersList = [];
      for(var vId in vParameters){

        var value = vParameters[vId];
        if(value instanceof Array){

          for(var i = 0;i < value.length;i++){

            vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value[i]));
          };
        } else {

          vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value));
        };
      };
      if(vParametersList.length > 0){

        vUrl += (vUrl.indexOf("?") >= 0 ? "&" : "?") + vParametersList.join("&");
      };
      if(this.getData() === null){

        var vParameters = this.getParameters(true);
        var vParametersList = [];
        for(var vId in vParameters){

          var value = vParameters[vId];
          if(value instanceof Array){

            for(var i = 0;i < value.length;i++){

              vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value[i]));
            };
          } else {

            vParametersList.push(encodeURIComponent(vId) + "=" + encodeURIComponent(value));
          };
        };
        if(vParametersList.length > 0){

          this.setData(vParametersList.join("&"));
        };
      };
      var encode64 = function(input){

        var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        var output = "";
        var chr1,chr2,chr3;
        var enc1,enc2,enc3,enc4;
        var i = 0;
        do {

          chr1 = input.charCodeAt(i++);
          chr2 = input.charCodeAt(i++);
          chr3 = input.charCodeAt(i++);
          enc1 = chr1 >> 2;
          enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
          enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
          enc4 = chr3 & 63;
          if(isNaN(chr2)){

            enc3 = enc4 = 64;
          } else if(isNaN(chr3)){

            enc4 = 64;
          };
          output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);
        }while((i < input.length));
        return output;
      };
      try{

        if(this.getUsername()){

          if(this.getUseBasicHttpAuth()){

            vRequest.open(vMethod, vUrl, vAsynchronous);
            vRequest.setRequestHeader('Authorization', 'Basic ' + encode64(this.getUsername() + ':' + this.getPassword()));
          } else {

            vRequest.open(vMethod, vUrl, vAsynchronous, this.getUsername(), this.getPassword());
          };
        } else {

          vRequest.open(vMethod, vUrl, vAsynchronous);
        };
      } catch(ex) {

        this.error("Failed with exception: " + ex);
        this.failed();
        return;
      };
      if(!(qx.core.Environment.get("engine.name") == "webkit")){

        vRequest.setRequestHeader('Referer', window.location.href);
      };
      var vRequestHeaders = this.getRequestHeaders();
      for(var vId in vRequestHeaders){

        vRequest.setRequestHeader(vId, vRequestHeaders[vId]);
      };
      try{

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote.data")){

            this.debug("Request: " + this.getData());
          };
        };
        if(vLocalRequest && vAsynchronous && qx.core.Environment.get("engine.name") == "mshtml" && (qx.core.Environment.get("engine.version") == 9 && qx.core.Environment.get("browser.documentmode") == 9)){

          qx.event.Timer.once(function(){

            vRequest.send(this.getData());
          }, this, 0);
        } else {

          vRequest.send(this.getData());
        };
      } catch(ex) {

        if(vLocalRequest){

          this.failedLocally();
        } else {

          this.error("Failed to send data to URL '" + vUrl + "': " + ex, "send");
          this.failed();
        };
        return;
      };
      if(!vAsynchronous){

        this._onreadystatechange();
      };
    },
    failedLocally : function(){

      if(this.getState() === "failed"){

        return;
      };
      this.warn("Could not load from file: " + this.getUrl());
      this.failed();
    },
    _onreadystatechange : qx.event.GlobalError.observeMethod(function(e){

      switch(this.getState()){case "completed":case "aborted":case "failed":case "timeout":
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.warn("Ignore Ready State Change");
        };
      };
      return;};
      var vReadyState = this.getReadyState();
      if(vReadyState == 4){

        if(!qx.io.remote.Exchange.wasSuccessful(this.getStatusCode(), vReadyState, this.__localRequest)){

          if(this.getState() === "configured"){

            this.setState("sending");
          };
          this.failed();
          return;
        };
      };
      if(vReadyState == 3 && this.__lastReadyState == 1){

        this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState]);
      };
      while(this.__lastReadyState < vReadyState){

        this.setState(qx.io.remote.Exchange._nativeMap[++this.__lastReadyState]);
      };
    }),
    getReadyState : function(){

      var vReadyState = null;
      try{

        vReadyState = this.getRequest().readyState;
      } catch(ex) {
      };
      return vReadyState;
    },
    setRequestHeader : function(vLabel, vValue){

      this.getRequestHeaders()[vLabel] = vValue;
    },
    getResponseHeader : function(vLabel){

      var vResponseHeader = null;
      try{

        vResponseHeader = this.getRequest().getResponseHeader(vLabel) || null;
      } catch(ex) {
      };
      return vResponseHeader;
    },
    getStringResponseHeaders : function(){

      var vSourceHeader = null;
      try{

        var vLoadHeader = this.getRequest().getAllResponseHeaders();
        if(vLoadHeader){

          vSourceHeader = vLoadHeader;
        };
      } catch(ex) {
      };
      return vSourceHeader;
    },
    getResponseHeaders : function(){

      var vSourceHeader = this.getStringResponseHeaders();
      var vHeader = {
      };
      if(vSourceHeader){

        var vValues = vSourceHeader.split(/[\r\n]+/g);
        for(var i = 0,l = vValues.length;i < l;i++){

          var vPair = vValues[i].match(/^([^:]+)\s*:\s*(.+)$/i);
          if(vPair){

            vHeader[vPair[1]] = vPair[2];
          };
        };
      };
      return vHeader;
    },
    getStatusCode : function(){

      var vStatusCode = -1;
      try{

        vStatusCode = this.getRequest().status;
        if(vStatusCode === 1223){

          vStatusCode = 204;
        };
      } catch(ex) {
      };
      return vStatusCode;
    },
    getStatusText : function(){

      var vStatusText = "";
      try{

        vStatusText = this.getRequest().statusText;
      } catch(ex) {
      };
      return vStatusText;
    },
    getResponseText : function(){

      var vResponseText = null;
      try{

        vResponseText = this.getRequest().responseText;
      } catch(ex) {

        vResponseText = null;
      };
      return vResponseText;
    },
    getResponseXml : function(){

      var vResponseXML = null;
      var vStatus = this.getStatusCode();
      var vReadyState = this.getReadyState();
      if(qx.io.remote.Exchange.wasSuccessful(vStatus, vReadyState, this.__localRequest)){

        try{

          vResponseXML = this.getRequest().responseXML;
        } catch(ex) {
        };
      };
      if(typeof vResponseXML == "object" && vResponseXML != null){

        if(!vResponseXML.documentElement){

          var s = String(this.getRequest().responseText).replace(/<\?xml[^\?]*\?>/, "");
          vResponseXML.loadXML(s);
        };
        if(!vResponseXML.documentElement){

          throw new Error("Missing Document Element!");
        };
        if(vResponseXML.documentElement.tagName == "parseerror"){

          throw new Error("XML-File is not well-formed!");
        };
      } else {

        throw new Error("Response was not a valid xml document [" + this.getRequest().responseText + "]");
      };
      return vResponseXML;
    },
    getFetchedLength : function(){

      var vText = this.getResponseText();
      return typeof vText == "string" ? vText.length : 0;
    },
    getResponseContent : function(){

      var state = this.getState();
      if(state !== "completed" && state != "failed"){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote")){

            this.warn("Transfer not complete or failed, ignoring content!");
          };
        };
        return null;
      };
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("Returning content for responseType: " + this.getResponseType());
        };
      };
      var vText = this.getResponseText();
      if(state == "failed"){

        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.debug.io.remote.data")){

            this.debug("Failed: " + vText);
          };
        };
        return vText;
      };
      switch(this.getResponseType()){case "text/plain":case "text/html":
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + vText);
        };
      };
      return vText;case "application/json":
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + vText);
        };
      };
      try{

        if(vText && vText.length > 0){

          var ret;
          if(this.getParseJson()){

            ret = qx.lang.Json.parse(vText);
            ret = (ret === 0 ? 0 : (ret || null));
          } else {

            ret = vText;
          };
          return ret;
        } else {

          return null;
        };
      } catch(ex) {

        this.error("Could not execute json: [" + vText + "]", ex);
        return "<pre>Could not execute json: \n" + vText + "\n</pre>";
      };case "text/javascript":
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + vText);
        };
      };
      try{

        if(vText && vText.length > 0){

          var ret = window.eval(vText);
          return (ret === 0 ? 0 : (ret || null));
        } else {

          return null;
        };
      } catch(ex) {

        this.error("Could not execute javascript: [" + vText + "]", ex);
        return null;
      };case "application/xml":
      vText = this.getResponseXml();
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote.data")){

          this.debug("Response: " + vText);
        };
      };
      return (vText === 0 ? 0 : (vText || null));default:
      this.warn("No valid responseType specified (" + this.getResponseType() + ")!");
      return null;};
    },
    _applyState : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("State: " + value);
        };
      };
      switch(value){case "created":
      this.fireEvent("created");
      break;case "configured":
      this.fireEvent("configured");
      break;case "sending":
      this.fireEvent("sending");
      break;case "receiving":
      this.fireEvent("receiving");
      break;case "completed":
      this.fireEvent("completed");
      break;case "failed":
      this.fireEvent("failed");
      break;case "aborted":
      this.getRequest().abort();
      this.fireEvent("aborted");
      break;case "timeout":
      this.getRequest().abort();
      this.fireEvent("timeout");
      break;};
    }
  },
  defer : function(){

    qx.io.remote.Exchange.registerType(qx.io.remote.transport.XmlHttp, "qx.io.remote.transport.XmlHttp");
  },
  destruct : function(){

    var vRequest = this.getRequest();
    if(vRequest){

      vRequest.onreadystatechange = (function(){
      });
      switch(vRequest.readyState){case 1:case 2:case 3:
      vRequest.abort();};
    };
    this.__request = null;
  }
});

qx.Class.define("qx.io.remote.Response", {
  extend : qx.event.type.Event,
  properties : {
    state : {
      check : "Integer",
      nullable : true
    },
    statusCode : {
      check : "Integer",
      nullable : true
    },
    content : {
      nullable : true
    },
    responseHeaders : {
      check : "Object",
      nullable : true,
      apply : "_applyResponseHeaders"
    }
  },
  members : {
    __lowerHeaders : null,
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone.setType(this.getType());
      clone.setState(this.getState());
      clone.setStatusCode(this.getStatusCode());
      clone.setContent(this.getContent());
      clone.setResponseHeaders(this.getResponseHeaders());
      return clone;
    },
    getResponseHeader : function(vHeader){

      if(this.__lowerHeaders){

        return this.__lowerHeaders[vHeader.toLowerCase()] || null;
      };
      return null;
    },
    _applyResponseHeaders : function(value, old){

      var lowerHeaders = {
      };
      if(value !== null){

        Object.keys(value).forEach(function(key){

          lowerHeaders[key.toLowerCase()] = value[key];
        });
        this.__lowerHeaders = lowerHeaders;
      };
    }
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Default", {
  extend : qx.ui.table.cellrenderer.Abstract,
  statics : {
    STYLEFLAG_ALIGN_RIGHT : 1,
    STYLEFLAG_BOLD : 2,
    STYLEFLAG_ITALIC : 4,
    _numberFormat : null
  },
  properties : {
    useAutoAlign : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    _getStyleFlags : function(cellInfo){

      if(this.getUseAutoAlign()){

        if(typeof cellInfo.value == "number"){

          return qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT;
        };
      };
      return 0;
    },
    _getCellClass : function(cellInfo){

      var cellClass = this.base(arguments, cellInfo);
      if(!cellClass){

        return "";
      };
      var stylesToApply = this._getStyleFlags(cellInfo);
      if(stylesToApply & qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT){

        cellClass += " qooxdoo-table-cell-right";
      };
      if(stylesToApply & qx.ui.table.cellrenderer.Default.STYLEFLAG_BOLD){

        cellClass += " qooxdoo-table-cell-bold";
      };
      if(stylesToApply & qx.ui.table.cellrenderer.Default.STYLEFLAG_ITALIC){

        cellClass += " qooxdoo-table-cell-italic";
      };
      return cellClass;
    },
    _getContentHtml : function(cellInfo){

      return qx.bom.String.escape(this._formatValue(cellInfo));
    },
    _formatValue : function(cellInfo){

      var value = cellInfo.value;
      var res;
      if(value == null){

        return "";
      };
      if(typeof value == "string"){

        return value;
      } else if(typeof value == "number"){

        if(!qx.ui.table.cellrenderer.Default._numberFormat){

          qx.ui.table.cellrenderer.Default._numberFormat = new qx.util.format.NumberFormat();
          qx.ui.table.cellrenderer.Default._numberFormat.setMaximumFractionDigits(2);
        };
        res = qx.ui.table.cellrenderer.Default._numberFormat.format(value);
      } else if(value instanceof Date){

        res = qx.util.format.DateFormat.getDateInstance().format(value);
      } else {

        res = value.toString();
      };;
      return res;
    }
  }
});

qx.Bootstrap.define("qx.bom.String", {
  statics : {
    TO_CHARCODE : {
      "quot" : 34,
      "amp" : 38,
      "lt" : 60,
      "gt" : 62,
      "nbsp" : 160,
      "iexcl" : 161,
      "cent" : 162,
      "pound" : 163,
      "curren" : 164,
      "yen" : 165,
      "brvbar" : 166,
      "sect" : 167,
      "uml" : 168,
      "copy" : 169,
      "ordf" : 170,
      "laquo" : 171,
      "not" : 172,
      "shy" : 173,
      "reg" : 174,
      "macr" : 175,
      "deg" : 176,
      "plusmn" : 177,
      "sup2" : 178,
      "sup3" : 179,
      "acute" : 180,
      "micro" : 181,
      "para" : 182,
      "middot" : 183,
      "cedil" : 184,
      "sup1" : 185,
      "ordm" : 186,
      "raquo" : 187,
      "frac14" : 188,
      "frac12" : 189,
      "frac34" : 190,
      "iquest" : 191,
      "Agrave" : 192,
      "Aacute" : 193,
      "Acirc" : 194,
      "Atilde" : 195,
      "Auml" : 196,
      "Aring" : 197,
      "AElig" : 198,
      "Ccedil" : 199,
      "Egrave" : 200,
      "Eacute" : 201,
      "Ecirc" : 202,
      "Euml" : 203,
      "Igrave" : 204,
      "Iacute" : 205,
      "Icirc" : 206,
      "Iuml" : 207,
      "ETH" : 208,
      "Ntilde" : 209,
      "Ograve" : 210,
      "Oacute" : 211,
      "Ocirc" : 212,
      "Otilde" : 213,
      "Ouml" : 214,
      "times" : 215,
      "Oslash" : 216,
      "Ugrave" : 217,
      "Uacute" : 218,
      "Ucirc" : 219,
      "Uuml" : 220,
      "Yacute" : 221,
      "THORN" : 222,
      "szlig" : 223,
      "agrave" : 224,
      "aacute" : 225,
      "acirc" : 226,
      "atilde" : 227,
      "auml" : 228,
      "aring" : 229,
      "aelig" : 230,
      "ccedil" : 231,
      "egrave" : 232,
      "eacute" : 233,
      "ecirc" : 234,
      "euml" : 235,
      "igrave" : 236,
      "iacute" : 237,
      "icirc" : 238,
      "iuml" : 239,
      "eth" : 240,
      "ntilde" : 241,
      "ograve" : 242,
      "oacute" : 243,
      "ocirc" : 244,
      "otilde" : 245,
      "ouml" : 246,
      "divide" : 247,
      "oslash" : 248,
      "ugrave" : 249,
      "uacute" : 250,
      "ucirc" : 251,
      "uuml" : 252,
      "yacute" : 253,
      "thorn" : 254,
      "yuml" : 255,
      "fnof" : 402,
      "Alpha" : 913,
      "Beta" : 914,
      "Gamma" : 915,
      "Delta" : 916,
      "Epsilon" : 917,
      "Zeta" : 918,
      "Eta" : 919,
      "Theta" : 920,
      "Iota" : 921,
      "Kappa" : 922,
      "Lambda" : 923,
      "Mu" : 924,
      "Nu" : 925,
      "Xi" : 926,
      "Omicron" : 927,
      "Pi" : 928,
      "Rho" : 929,
      "Sigma" : 931,
      "Tau" : 932,
      "Upsilon" : 933,
      "Phi" : 934,
      "Chi" : 935,
      "Psi" : 936,
      "Omega" : 937,
      "alpha" : 945,
      "beta" : 946,
      "gamma" : 947,
      "delta" : 948,
      "epsilon" : 949,
      "zeta" : 950,
      "eta" : 951,
      "theta" : 952,
      "iota" : 953,
      "kappa" : 954,
      "lambda" : 955,
      "mu" : 956,
      "nu" : 957,
      "xi" : 958,
      "omicron" : 959,
      "pi" : 960,
      "rho" : 961,
      "sigmaf" : 962,
      "sigma" : 963,
      "tau" : 964,
      "upsilon" : 965,
      "phi" : 966,
      "chi" : 967,
      "psi" : 968,
      "omega" : 969,
      "thetasym" : 977,
      "upsih" : 978,
      "piv" : 982,
      "bull" : 8226,
      "hellip" : 8230,
      "prime" : 8242,
      "Prime" : 8243,
      "oline" : 8254,
      "frasl" : 8260,
      "weierp" : 8472,
      "image" : 8465,
      "real" : 8476,
      "trade" : 8482,
      "alefsym" : 8501,
      "larr" : 8592,
      "uarr" : 8593,
      "rarr" : 8594,
      "darr" : 8595,
      "harr" : 8596,
      "crarr" : 8629,
      "lArr" : 8656,
      "uArr" : 8657,
      "rArr" : 8658,
      "dArr" : 8659,
      "hArr" : 8660,
      "forall" : 8704,
      "part" : 8706,
      "exist" : 8707,
      "empty" : 8709,
      "nabla" : 8711,
      "isin" : 8712,
      "notin" : 8713,
      "ni" : 8715,
      "prod" : 8719,
      "sum" : 8721,
      "minus" : 8722,
      "lowast" : 8727,
      "radic" : 8730,
      "prop" : 8733,
      "infin" : 8734,
      "ang" : 8736,
      "and" : 8743,
      "or" : 8744,
      "cap" : 8745,
      "cup" : 8746,
      "int" : 8747,
      "there4" : 8756,
      "sim" : 8764,
      "cong" : 8773,
      "asymp" : 8776,
      "ne" : 8800,
      "equiv" : 8801,
      "le" : 8804,
      "ge" : 8805,
      "sub" : 8834,
      "sup" : 8835,
      "sube" : 8838,
      "supe" : 8839,
      "oplus" : 8853,
      "otimes" : 8855,
      "perp" : 8869,
      "sdot" : 8901,
      "lceil" : 8968,
      "rceil" : 8969,
      "lfloor" : 8970,
      "rfloor" : 8971,
      "lang" : 9001,
      "rang" : 9002,
      "loz" : 9674,
      "spades" : 9824,
      "clubs" : 9827,
      "hearts" : 9829,
      "diams" : 9830,
      "OElig" : 338,
      "oelig" : 339,
      "Scaron" : 352,
      "scaron" : 353,
      "Yuml" : 376,
      "circ" : 710,
      "tilde" : 732,
      "ensp" : 8194,
      "emsp" : 8195,
      "thinsp" : 8201,
      "zwnj" : 8204,
      "zwj" : 8205,
      "lrm" : 8206,
      "rlm" : 8207,
      "ndash" : 8211,
      "mdash" : 8212,
      "lsquo" : 8216,
      "rsquo" : 8217,
      "sbquo" : 8218,
      "ldquo" : 8220,
      "rdquo" : 8221,
      "bdquo" : 8222,
      "dagger" : 8224,
      "Dagger" : 8225,
      "permil" : 8240,
      "lsaquo" : 8249,
      "rsaquo" : 8250,
      "euro" : 8364
    },
    escape : function(str){

      return qx.util.StringEscape.escape(str, qx.bom.String.FROM_CHARCODE);
    },
    unescape : function(str){

      return qx.util.StringEscape.unescape(str, qx.bom.String.TO_CHARCODE);
    },
    fromText : function(str){

      return qx.bom.String.escape(str).replace(/(  |\n)/g, function(chr){

        var map = {
          "  " : " &nbsp;",
          "\n" : "<br>"
        };
        return map[chr] || chr;
      });
    },
    toText : function(str){

      return qx.bom.String.unescape(str.replace(/\s+|<([^>])+>/gi, function(chr){

        if(chr.indexOf("<br") === 0){

          return "\n";
        } else if(chr.length > 0 && chr.replace(/^\s*/, "").replace(/\s*$/, "") == ""){

          return " ";
        } else {

          return "";
        };
      }));
    }
  },
  defer : function(statics){

    statics.FROM_CHARCODE = qx.lang.Object.invert(statics.TO_CHARCODE);
  }
});

qx.Bootstrap.define("qx.util.StringEscape", {
  statics : {
    escape : function(str, charCodeToEntities){

      var entity,result = "";
      for(var i = 0,l = str.length;i < l;i++){

        var chr = str.charAt(i);
        var code = chr.charCodeAt(0);
        if(charCodeToEntities[code]){

          entity = "&" + charCodeToEntities[code] + ";";
        } else {

          if(code > 0x7F){

            entity = "&#" + code + ";";
          } else {

            entity = chr;
          };
        };
        result += entity;
      };
      return result;
    },
    unescape : function(str, entitiesToCharCode){

      return str.replace(/&[#\w]+;/gi, function(entity){

        var chr = entity;
        var entity = entity.substring(1, entity.length - 1);
        var code = entitiesToCharCode[entity];
        if(code){

          chr = String.fromCharCode(code);
        } else {

          if(entity.charAt(0) == '#'){

            if(entity.charAt(1).toUpperCase() == 'X'){

              code = entity.substring(2);
              if(code.match(/^[0-9A-Fa-f]+$/gi)){

                chr = String.fromCharCode(parseInt(code, 16));
              };
            } else {

              code = entity.substring(1);
              if(code.match(/^\d+$/gi)){

                chr = String.fromCharCode(parseInt(code, 10));
              };
            };
          };
        };
        return chr;
      });
    }
  }
});

qx.Class.define("qx.util.format.NumberFormat", {
  extend : qx.core.Object,
  implement : qx.util.format.IFormat,
  construct : function(locale){

    this.base(arguments);
    if(arguments.length > 0){

      if(arguments.length === 1){

        if(qx.lang.Type.isString(locale)){

          this.__locale = locale;
        } else {

          throw new Error("Wrong argument type. String is expected.");
        };
      } else {

        throw new Error("Wrong number of arguments.");
      };
    };
  },
  properties : {
    minimumIntegerDigits : {
      check : "Number",
      init : 0
    },
    maximumIntegerDigits : {
      check : "Number",
      nullable : true
    },
    minimumFractionDigits : {
      check : "Number",
      init : 0
    },
    maximumFractionDigits : {
      check : "Number",
      nullable : true
    },
    groupingUsed : {
      check : "Boolean",
      init : true
    },
    prefix : {
      check : "String",
      init : "",
      event : "changeNumberFormat"
    },
    postfix : {
      check : "String",
      init : "",
      event : "changeNumberFormat"
    }
  },
  members : {
    __locale : null,
    format : function(num){

      switch(num){case Infinity:
      return "Infinity";case -Infinity:
      return "-Infinity";case NaN:
      return "NaN";};
      var negative = (num < 0);
      if(negative){

        num = -num;
      };
      if(this.getMaximumFractionDigits() != null){

        var mover = Math.pow(10, this.getMaximumFractionDigits());
        num = Math.round(num * mover) / mover;
      };
      var integerDigits = String(Math.floor(num)).length;
      var numStr = "" + num;
      var integerStr = numStr.substring(0, integerDigits);
      while(integerStr.length < this.getMinimumIntegerDigits()){

        integerStr = "0" + integerStr;
      };
      if(this.getMaximumIntegerDigits() != null && integerStr.length > this.getMaximumIntegerDigits()){

        integerStr = integerStr.substring(integerStr.length - this.getMaximumIntegerDigits());
      };
      var fractionStr = numStr.substring(integerDigits + 1);
      while(fractionStr.length < this.getMinimumFractionDigits()){

        fractionStr += "0";
      };
      if(this.getMaximumFractionDigits() != null && fractionStr.length > this.getMaximumFractionDigits()){

        fractionStr = fractionStr.substring(0, this.getMaximumFractionDigits());
      };
      if(this.getGroupingUsed()){

        var origIntegerStr = integerStr;
        integerStr = "";
        var groupPos;
        for(groupPos = origIntegerStr.length;groupPos > 3;groupPos -= 3){

          integerStr = "" + qx.locale.Number.getGroupSeparator(this.__locale) + origIntegerStr.substring(groupPos - 3, groupPos) + integerStr;
        };
        integerStr = origIntegerStr.substring(0, groupPos) + integerStr;
      };
      var prefix = this.getPrefix() ? this.getPrefix() : "";
      var postfix = this.getPostfix() ? this.getPostfix() : "";
      var str = prefix + (negative ? "-" : "") + integerStr;
      if(fractionStr.length > 0){

        str += "" + qx.locale.Number.getDecimalSeparator(this.__locale) + fractionStr;
      };
      str += postfix;
      return str;
    },
    parse : function(str){

      var groupSepEsc = qx.lang.String.escapeRegexpChars(qx.locale.Number.getGroupSeparator(this.__locale) + "");
      var decimalSepEsc = qx.lang.String.escapeRegexpChars(qx.locale.Number.getDecimalSeparator(this.__locale) + "");
      var regex = new RegExp("^" + qx.lang.String.escapeRegexpChars(this.getPrefix()) + '([-+]){0,1}' + '([0-9]{1,3}(?:' + groupSepEsc + '{0,1}[0-9]{3}){0,}){0,1}' + '(' + decimalSepEsc + '\\d+){0,1}' + qx.lang.String.escapeRegexpChars(this.getPostfix()) + "$");
      var hit = regex.exec(str);
      if(hit == null){

        throw new Error("Number string '" + str + "' does not match the number format");
      };
      var negative = (hit[1] == "-");
      var integerStr = hit[2] || "0";
      var fractionStr = hit[3];
      integerStr = integerStr.replace(new RegExp(groupSepEsc, "g"), "");
      var asStr = (negative ? "-" : "") + integerStr;
      if(fractionStr != null && fractionStr.length != 0){

        fractionStr = fractionStr.replace(new RegExp(decimalSepEsc), "");
        asStr += "." + fractionStr;
      };
      return parseFloat(asStr);
    }
  }
});

qx.Class.define("qx.locale.Number", {
  statics : {
    getDecimalSeparator : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_number_decimal_separator", [], locale);
    },
    getGroupSeparator : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_number_group_separator", [], locale);
    },
    getPercentFormat : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_number_percent_format", [], locale);
    }
  }
});

qx.Interface.define("qx.ui.table.ICellEditorFactory", {
  members : {
    createCellEditor : function(cellInfo){

      return true;
    },
    getCellEditorValue : function(cellEditor){

      return true;
    }
  }
});

qx.Class.define("qx.ui.table.celleditor.AbstractField", {
  extend : qx.core.Object,
  implement : qx.ui.table.ICellEditorFactory,
  type : "abstract",
  properties : {
    validationFunction : {
      check : "Function",
      nullable : true,
      init : null
    }
  },
  members : {
    _createEditor : function(){

      throw new Error("Abstract method call!");
    },
    createCellEditor : function(cellInfo){

      var cellEditor = this._createEditor();
      cellEditor.originalValue = cellInfo.value;
      if(cellInfo.value === null || cellInfo.value === undefined){

        cellInfo.value = "";
      };
      cellEditor.setValue("" + cellInfo.value);
      cellEditor.addListener("appear", function(){

        cellEditor.selectAllText();
      });
      return cellEditor;
    },
    getCellEditorValue : function(cellEditor){

      var value = cellEditor.getValue();
      var validationFunc = this.getValidationFunction();
      if(validationFunc){

        value = validationFunc(value, cellEditor.originalValue);
      };
      if(typeof cellEditor.originalValue == "number"){

        value = parseFloat(value);
      };
      return value;
    }
  }
});

qx.Class.define("qx.ui.table.celleditor.TextField", {
  extend : qx.ui.table.celleditor.AbstractField,
  members : {
    getCellEditorValue : function(cellEditor){

      var value = cellEditor.getValue();
      var validationFunc = this.getValidationFunction();
      if(validationFunc){

        value = validationFunc(value, cellEditor.originalValue);
      };
      if(typeof cellEditor.originalValue == "number"){

        if(value != null){

          value = parseFloat(value);
        };
      };
      return value;
    },
    _createEditor : function(){

      var cellEditor = new qx.ui.form.TextField();
      cellEditor.setAppearance("table-editor-textfield");
      return cellEditor;
    }
  }
});

qx.Class.define("qx.ui.form.AbstractField", {
  extend : qx.ui.core.Widget,
  implement : [qx.ui.form.IStringForm, qx.ui.form.IForm],
  include : [qx.ui.form.MForm],
  type : "abstract",
  statics : {
    __stylesheet : null,
    __addPlaceholderRules : function(){

      var colorManager = qx.theme.manager.Color.getInstance();
      var color = colorManager.resolve("text-placeholder");
      var selector;
      if(qx.core.Environment.get("engine.name") == "gecko"){

        if(parseFloat(qx.core.Environment.get("engine.version")) >= 19){

          selector = "input::-moz-placeholder, textarea::-moz-placeholder";
        } else {

          selector = "input:-moz-placeholder, textarea:-moz-placeholder";
        };
        qx.ui.style.Stylesheet.getInstance().addRule(selector, "color: " + color + " !important");
      } else if(qx.core.Environment.get("engine.name") == "webkit"){

        selector = "input.qx-placeholder-color::-webkit-input-placeholder, textarea.qx-placeholder-color::-webkit-input-placeholder";
        qx.ui.style.Stylesheet.getInstance().addRule(selector, "color: " + color);
      } else if(qx.core.Environment.get("engine.name") == "mshtml"){

        selector = "input.qx-placeholder-color:-ms-input-placeholder, textarea.qx-placeholder-color:-ms-input-placeholder";
        qx.ui.style.Stylesheet.getInstance().addRule(selector, "color: " + color + " !important");
      };;
    }
  },
  construct : function(value){

    this.base(arguments);
    this.__useQxPlaceholder = !qx.core.Environment.get("css.placeholder");
    if(value != null){

      this.setValue(value);
    };
    this.getContentElement().addListener("change", this._onChangeContent, this);
    if(this.__useQxPlaceholder){

      this.addListener("syncAppearance", this._syncPlaceholder, this);
    } else {

      qx.ui.form.AbstractField.__addPlaceholderRules();
      this.getContentElement().addClass("qx-placeholder-color");
    };
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
  },
  events : {
    "input" : "qx.event.type.Data",
    "changeValue" : "qx.event.type.Data"
  },
  properties : {
    textAlign : {
      check : ["left", "center", "right"],
      nullable : true,
      themeable : true,
      apply : "_applyTextAlign"
    },
    readOnly : {
      check : "Boolean",
      apply : "_applyReadOnly",
      event : "changeReadOnly",
      init : false
    },
    selectable : {
      refine : true,
      init : true
    },
    focusable : {
      refine : true,
      init : true
    },
    maxLength : {
      apply : "_applyMaxLength",
      check : "PositiveInteger",
      init : Infinity
    },
    liveUpdate : {
      check : "Boolean",
      init : false
    },
    placeholder : {
      check : "String",
      nullable : true,
      apply : "_applyPlaceholder"
    },
    filter : {
      check : "RegExp",
      nullable : true,
      init : null
    }
  },
  members : {
    __nullValue : true,
    _placeholder : null,
    __oldValue : null,
    __oldInputValue : null,
    __useQxPlaceholder : true,
    __font : null,
    __webfontListenerId : null,
    getFocusElement : function(){

      var el = this.getContentElement();
      if(el){

        return el;
      };
    },
    _createInputElement : function(){

      return new qx.html.Input("text");
    },
    renderLayout : function(left, top, width, height){

      var updateInsets = this._updateInsets;
      var changes = this.base(arguments, left, top, width, height);
      if(!changes){

        return;
      };
      var inner = changes.size || updateInsets;
      var pixel = "px";
      if(inner || changes.local || changes.margin){

        var innerWidth = width;
        var innerHeight = height;
      };
      var input = this.getContentElement();
      if(updateInsets && this.__useQxPlaceholder){

        if(this.__useQxPlaceholder){

          var insets = this.getInsets();
          this._getPlaceholderElement().setStyles({
            paddingTop : insets.top + pixel,
            paddingRight : insets.right + pixel,
            paddingBottom : insets.bottom + pixel,
            paddingLeft : insets.left + pixel
          });
        };
      };
      if(inner || changes.margin){

        if(this.__useQxPlaceholder){

          var insets = this.getInsets();
          this._getPlaceholderElement().setStyles({
            "width" : (innerWidth - insets.left - insets.right) + pixel,
            "height" : (innerHeight - insets.top - insets.bottom) + pixel
          });
        };
        input.setStyles({
          "width" : innerWidth + pixel,
          "height" : innerHeight + pixel
        });
        this._renderContentElement(innerHeight, input);
      };
      if(changes.position){

        if(this.__useQxPlaceholder){

          this._getPlaceholderElement().setStyles({
            "left" : left + pixel,
            "top" : top + pixel
          });
        };
      };
    },
    _renderContentElement : function(innerHeight, element){
    },
    _createContentElement : function(){

      var el = this._createInputElement();
      el.setSelectable(this.getSelectable());
      el.setEnabled(this.getEnabled());
      el.addListener("input", this._onHtmlInput, this);
      el.setAttribute("spellcheck", "false");
      el.addClass("qx-abstract-field");
      if((qx.core.Environment.get("engine.name") == "mshtml") && (qx.core.Environment.get("browser.documentmode") == 8)){

        el.setStyles({
          backgroundImage : "url(" + qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif") + ")"
        });
      };
      return el;
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      this.getContentElement().setEnabled(value);
      if(this.__useQxPlaceholder){

        if(value){

          this._showPlaceholder();
        } else {

          this._removePlaceholder();
        };
      } else {

        var input = this.getContentElement();
        input.setAttribute("placeholder", value ? this.getPlaceholder() : "");
      };
    },
    __textSize : {
      width : 16,
      height : 16
    },
    _getContentHint : function(){

      return {
        width : this.__textSize.width * 10,
        height : this.__textSize.height || 16
      };
    },
    _applyFont : function(value, old){

      if(old && this.__font && this.__webfontListenerId){

        this.__font.removeListenerById(this.__webfontListenerId);
        this.__webfontListenerId = null;
      };
      var styles;
      if(value){

        this.__font = qx.theme.manager.Font.getInstance().resolve(value);
        if(this.__font instanceof qx.bom.webfonts.WebFont){

          this.__webfontListenerId = this.__font.addListener("changeStatus", this._onWebFontStatusChange, this);
        };
        styles = this.__font.getStyles();
      } else {

        styles = qx.bom.Font.getDefaultStyles();
      };
      if(this.getTextColor() != null){

        delete styles["color"];
      };
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 11){

        qx.html.Element.flush();
        this.getContentElement().setStyles(styles, true);
      } else {

        this.getContentElement().setStyles(styles);
      };
      if(this.__useQxPlaceholder){

        delete styles["color"];
        this._getPlaceholderElement().setStyles(styles);
      };
      if(value){

        this.__textSize = qx.bom.Label.getTextSize("A", styles);
      } else {

        delete this.__textSize;
      };
      qx.ui.core.queue.Layout.add(this);
    },
    _applyTextColor : function(value, old){

      if(value){

        this.getContentElement().setStyle("color", qx.theme.manager.Color.getInstance().resolve(value));
      } else {

        this.getContentElement().removeStyle("color");
      };
    },
    _applyMaxLength : function(value, old){

      if(value){

        this.getContentElement().setAttribute("maxLength", value);
      } else {

        this.getContentElement().removeAttribute("maxLength");
      };
    },
    tabFocus : function(){

      this.base(arguments);
      this.selectAllText();
    },
    _getTextSize : function(){

      return this.__textSize;
    },
    _onHtmlInput : function(e){

      var value = e.getData();
      var fireEvents = true;
      this.__nullValue = false;
      if(this.__oldInputValue && this.__oldInputValue === value){

        fireEvents = false;
      };
      if(this.getFilter() != null){

        var filteredValue = "";
        var index = value.search(this.getFilter());
        var processedValue = value;
        while(index >= 0){

          filteredValue = filteredValue + (processedValue.charAt(index));
          processedValue = processedValue.substring(index + 1, processedValue.length);
          index = processedValue.search(this.getFilter());
        };
        if(filteredValue != value){

          fireEvents = false;
          value = filteredValue;
          this.getContentElement().setValue(value);
        };
      };
      if(fireEvents){

        this.fireDataEvent("input", value, this.__oldInputValue);
        this.__oldInputValue = value;
        if(this.getLiveUpdate()){

          this.__fireChangeValueEvent(value);
        };
      };
    },
    _onWebFontStatusChange : function(ev){

      if(ev.getData().valid === true){

        var styles = this.__font.getStyles();
        this.__textSize = qx.bom.Label.getTextSize("A", styles);
        qx.ui.core.queue.Layout.add(this);
      };
    },
    __fireChangeValueEvent : function(value){

      var old = this.__oldValue;
      this.__oldValue = value;
      if(old != value){

        this.fireNonBubblingEvent("changeValue", qx.event.type.Data, [value, old]);
      };
    },
    setValue : function(value){

      if(value === null){

        if(this.__nullValue){

          return value;
        };
        value = "";
        this.__nullValue = true;
      } else {

        this.__nullValue = false;
        if(this.__useQxPlaceholder){

          this._removePlaceholder();
        };
      };
      if(qx.lang.Type.isString(value)){

        var elem = this.getContentElement();
        if(elem.getValue() != value){

          var oldValue = elem.getValue();
          elem.setValue(value);
          var data = this.__nullValue ? null : value;
          this.__oldValue = oldValue;
          this.__fireChangeValueEvent(data);
          this.__oldInputValue = this.__oldValue;
        };
        if(this.__useQxPlaceholder){

          this._showPlaceholder();
        };
        return value;
      };
      throw new Error("Invalid value type: " + value);
    },
    getValue : function(){

      var value = this.getContentElement().getValue();
      return this.__nullValue ? null : value;
    },
    resetValue : function(){

      this.setValue(null);
    },
    _onChangeContent : function(e){

      this.__nullValue = e.getData() === null;
      this.__fireChangeValueEvent(e.getData());
    },
    getTextSelection : function(){

      return this.getContentElement().getTextSelection();
    },
    getTextSelectionLength : function(){

      return this.getContentElement().getTextSelectionLength();
    },
    getTextSelectionStart : function(){

      return this.getContentElement().getTextSelectionStart();
    },
    getTextSelectionEnd : function(){

      return this.getContentElement().getTextSelectionEnd();
    },
    setTextSelection : function(start, end){

      this.getContentElement().setTextSelection(start, end);
    },
    clearTextSelection : function(){

      this.getContentElement().clearTextSelection();
    },
    selectAllText : function(){

      this.setTextSelection(0);
    },
    setLayoutParent : function(parent){

      this.base(arguments, parent);
      if(this.__useQxPlaceholder){

        if(parent){

          this.getLayoutParent().getContentElement().add(this._getPlaceholderElement());
        } else {

          var placeholder = this._getPlaceholderElement();
          placeholder.getParent().remove(placeholder);
        };
      };
    },
    _showPlaceholder : function(){

      var fieldValue = this.getValue() || "";
      var placeholder = this.getPlaceholder();
      if(placeholder != null && fieldValue == "" && !this.hasState("focused") && !this.hasState("disabled")){

        if(this.hasState("showingPlaceholder")){

          this._syncPlaceholder();
        } else {

          this.addState("showingPlaceholder");
        };
      };
    },
    _onPointerDownPlaceholder : function(){

      window.setTimeout(function(){

        this.focus();
      }.bind(this), 0);
    },
    _removePlaceholder : function(){

      if(this.hasState("showingPlaceholder")){

        if(this.__useQxPlaceholder){

          this._getPlaceholderElement().setStyle("visibility", "hidden");
        };
        this.removeState("showingPlaceholder");
      };
    },
    _syncPlaceholder : function(){

      if(this.hasState("showingPlaceholder") && this.__useQxPlaceholder){

        this._getPlaceholderElement().setStyle("visibility", "visible");
      };
    },
    _getPlaceholderElement : function(){

      if(this._placeholder == null){

        this._placeholder = new qx.html.Label();
        var colorManager = qx.theme.manager.Color.getInstance();
        this._placeholder.setStyles({
          "zIndex" : 11,
          "position" : "absolute",
          "color" : colorManager.resolve("text-placeholder"),
          "whiteSpace" : "normal",
          "cursor" : "text",
          "visibility" : "hidden"
        });
        this._placeholder.addListener("pointerdown", this._onPointerDownPlaceholder, this);
      };
      return this._placeholder;
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        var content = this.getPlaceholder();
        if(content && content.translate){

          this.setPlaceholder(content.translate());
        };
      },
      "false" : null
    }),
    _onChangeTheme : function(){

      this.base(arguments);
      if(this._placeholder){

        this._placeholder.dispose();
        this._placeholder = null;
      };
      if(!this.__useQxPlaceholder && qx.ui.form.AbstractField.__stylesheet){

        qx.bom.Stylesheet.removeSheet(qx.ui.form.AbstractField.__stylesheet);
        qx.ui.form.AbstractField.__stylesheet = null;
        qx.ui.form.AbstractField.__addPlaceholderRules();
      };
    },
    _applyPlaceholder : function(value, old){

      if(this.__useQxPlaceholder){

        this._getPlaceholderElement().setValue(value);
        if(value != null){

          this.addListener("focusin", this._removePlaceholder, this);
          this.addListener("focusout", this._showPlaceholder, this);
          this._showPlaceholder();
        } else {

          this.removeListener("focusin", this._removePlaceholder, this);
          this.removeListener("focusout", this._showPlaceholder, this);
          this._removePlaceholder();
        };
      } else {

        if(this.getEnabled()){

          this.getContentElement().setAttribute("placeholder", value);
        };
      };
    },
    _applyTextAlign : function(value, old){

      this.getContentElement().setStyle("textAlign", value);
    },
    _applyReadOnly : function(value, old){

      var element = this.getContentElement();
      element.setAttribute("readOnly", value);
      if(value){

        this.addState("readonly");
        this.setFocusable(false);
      } else {

        this.removeState("readonly");
        this.setFocusable(true);
      };
    }
  },
  defer : function(statics){

    var css = "border: none;" + "padding: 0;" + "margin: 0;" + "display : block;" + "background : transparent;" + "outline: none;" + "appearance: none;" + "position: absolute;" + "autoComplete: off;" + "resize: none;" + "border-radius: 0;";
    qx.ui.style.Stylesheet.getInstance().addRule(".qx-abstract-field", css);
  },
  destruct : function(){

    if(this._placeholder){

      this._placeholder.removeListener("pointerdown", this._onPointerDownPlaceholder, this);
      var parent = this._placeholder.getParent();
      if(parent){

        parent.remove(this._placeholder);
      };
      this._placeholder.dispose();
    };
    this._placeholder = this.__font = null;
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
    if(this.__font && this.__webfontListenerId){

      this.__font.removeListenerById(this.__webfontListenerId);
    };
    this.getContentElement().removeListener("input", this._onHtmlInput, this);
  }
});

qx.Class.define("qx.html.Input", {
  extend : qx.html.Element,
  construct : function(type, styles, attributes){

    if(type === "select" || type === "textarea"){

      var nodeName = type;
    } else {

      nodeName = "input";
    };
    this.base(arguments, nodeName, styles, attributes);
    this.__type = type;
  },
  members : {
    __type : null,
    __selectable : null,
    __enabled : null,
    _createDomElement : function(){

      return qx.bom.Input.create(this.__type);
    },
    _applyProperty : function(name, value){

      this.base(arguments, name, value);
      var element = this.getDomElement();
      if(name === "value"){

        qx.bom.Input.setValue(element, value);
      } else if(name === "wrap"){

        qx.bom.Input.setWrap(element, value);
        this.setStyle("overflow", element.style.overflow, true);
        this.setStyle("overflowX", element.style.overflowX, true);
        this.setStyle("overflowY", element.style.overflowY, true);
      };
    },
    setEnabled : function(value){

      this.__enabled = value;
      this.setAttribute("disabled", value === false);
      if(qx.core.Environment.get("engine.name") == "webkit"){

        if(!value){

          this.setStyles({
            "userModify" : "read-only",
            "userSelect" : "none"
          });
        } else {

          this.setStyles({
            "userModify" : null,
            "userSelect" : this.__selectable ? null : "none"
          });
        };
      };
    },
    setSelectable : qx.core.Environment.select("engine.name", {
      "webkit" : function(value){

        this.__selectable = value;
        this.base(arguments, this.__enabled && value);
      },
      "default" : function(value){

        this.base(arguments, value);
      }
    }),
    setValue : function(value){

      var element = this.getDomElement();
      if(element){

        if(element.value != value){

          qx.bom.Input.setValue(element, value);
        };
      } else {

        this._setProperty("value", value);
      };
      return this;
    },
    getValue : function(){

      var element = this.getDomElement();
      if(element){

        return qx.bom.Input.getValue(element);
      };
      return this._getProperty("value") || "";
    },
    setWrap : function(wrap, direct){

      if(this.__type === "textarea"){

        this._setProperty("wrap", wrap, direct);
      } else {

        throw new Error("Text wrapping is only support by textareas!");
      };
      return this;
    },
    getWrap : function(){

      if(this.__type === "textarea"){

        return this._getProperty("wrap");
      } else {

        throw new Error("Text wrapping is only support by textareas!");
      };
    }
  }
});

qx.Bootstrap.define("qx.bom.Input", {
  statics : {
    __types : {
      text : 1,
      textarea : 1,
      select : 1,
      checkbox : 1,
      radio : 1,
      password : 1,
      hidden : 1,
      submit : 1,
      image : 1,
      file : 1,
      search : 1,
      reset : 1,
      button : 1
    },
    create : function(type, attributes, win){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertKeyInMap(type, this.__types, "Unsupported input type.");
      };
      var attributes = attributes ? qx.lang.Object.clone(attributes) : {
      };
      var tag;
      if(type === "textarea" || type === "select"){

        tag = type;
      } else {

        tag = "input";
        attributes.type = type;
      };
      return qx.dom.Element.create(tag, attributes, win);
    },
    setValue : function(element, value){

      var tag = element.nodeName.toLowerCase();
      var type = element.type;
      var Array = qx.lang.Array;
      var Type = qx.lang.Type;
      if(typeof value === "number"){

        value += "";
      };
      if((type === "checkbox" || type === "radio")){

        if(Type.isArray(value)){

          element.checked = Array.contains(value, element.value);
        } else {

          element.checked = element.value == value;
        };
      } else if(tag === "select"){

        var isArray = Type.isArray(value);
        var options = element.options;
        var subel,subval;
        for(var i = 0,l = options.length;i < l;i++){

          subel = options[i];
          subval = subel.getAttribute("value");
          if(subval == null){

            subval = subel.text;
          };
          subel.selected = isArray ? Array.contains(value, subval) : value == subval;
        };
        if(isArray && value.length == 0){

          element.selectedIndex = -1;
        };
      } else if((type === "text" || type === "textarea") && (qx.core.Environment.get("engine.name") == "mshtml")){

        element.$$inValueSet = true;
        element.value = value;
        element.$$inValueSet = null;
      } else {

        element.value = value;
      };;
    },
    getValue : function(element){

      var tag = element.nodeName.toLowerCase();
      if(tag === "option"){

        return (element.attributes.value || {
        }).specified ? element.value : element.text;
      };
      if(tag === "select"){

        var index = element.selectedIndex;
        if(index < 0){

          return null;
        };
        var values = [];
        var options = element.options;
        var one = element.type == "select-one";
        var clazz = qx.bom.Input;
        var value;
        for(var i = one ? index : 0,max = one ? index + 1 : options.length;i < max;i++){

          var option = options[i];
          if(option.selected){

            value = clazz.getValue(option);
            if(one){

              return value;
            };
            values.push(value);
          };
        };
        return values;
      } else {

        return (element.value || "").replace(/\r/g, "");
      };
    },
    setWrap : qx.core.Environment.select("engine.name", {
      "mshtml" : function(element, wrap){

        var wrapValue = wrap ? "soft" : "off";
        var styleValue = wrap ? "auto" : "";
        element.wrap = wrapValue;
        element.style.overflowY = styleValue;
      },
      "gecko|webkit" : function(element, wrap){

        var wrapValue = wrap ? "soft" : "off";
        var styleValue = wrap ? "" : "auto";
        element.setAttribute("wrap", wrapValue);
        element.style.overflow = styleValue;
      },
      "default" : function(element, wrap){

        element.style.whiteSpace = wrap ? "normal" : "nowrap";
      }
    })
  }
});

qx.Class.define("qx.ui.form.TextField", {
  extend : qx.ui.form.AbstractField,
  properties : {
    appearance : {
      refine : true,
      init : "textfield"
    },
    allowGrowY : {
      refine : true,
      init : false
    },
    allowShrinkY : {
      refine : true,
      init : false
    }
  },
  members : {
    _renderContentElement : function(innerHeight, element){

      if((qx.core.Environment.get("engine.name") == "mshtml") && (parseInt(qx.core.Environment.get("engine.version"), 10) < 9 || qx.core.Environment.get("browser.documentmode") < 9)){

        element.setStyles({
          "line-height" : innerHeight + 'px'
        });
      };
    }
  }
});

qx.Interface.define("qx.ui.table.IHeaderRenderer", {
  members : {
    createHeaderCell : function(cellInfo){

      return true;
    },
    updateHeaderCell : function(cellInfo, cellWidget){

      return true;
    }
  }
});

qx.Class.define("qx.ui.table.headerrenderer.Default", {
  extend : qx.core.Object,
  implement : qx.ui.table.IHeaderRenderer,
  statics : {
    STATE_SORTED : "sorted",
    STATE_SORTED_ASCENDING : "sortedAscending"
  },
  properties : {
    toolTip : {
      check : "String",
      init : null,
      nullable : true
    }
  },
  members : {
    createHeaderCell : function(cellInfo){

      var widget = new qx.ui.table.headerrenderer.HeaderCell();
      this.updateHeaderCell(cellInfo, widget);
      return widget;
    },
    updateHeaderCell : function(cellInfo, cellWidget){

      var DefaultHeaderCellRenderer = qx.ui.table.headerrenderer.Default;
      if(cellInfo.name && cellInfo.name.translate){

        cellWidget.setLabel(cellInfo.name.translate());
      } else {

        cellWidget.setLabel(cellInfo.name);
      };
      var widgetToolTip = cellWidget.getToolTip();
      if(this.getToolTip() != null){

        if(widgetToolTip == null){

          widgetToolTip = new qx.ui.tooltip.ToolTip(this.getToolTip());
          cellWidget.setToolTip(widgetToolTip);
          qx.util.DisposeUtil.disposeTriggeredBy(widgetToolTip, cellWidget);
        } else {

          widgetToolTip.setLabel(this.getToolTip());
        };
      };
      cellInfo.sorted ? cellWidget.addState(DefaultHeaderCellRenderer.STATE_SORTED) : cellWidget.removeState(DefaultHeaderCellRenderer.STATE_SORTED);
      cellInfo.sortedAscending ? cellWidget.addState(DefaultHeaderCellRenderer.STATE_SORTED_ASCENDING) : cellWidget.removeState(DefaultHeaderCellRenderer.STATE_SORTED_ASCENDING);
    }
  }
});

qx.Class.define("qx.ui.table.headerrenderer.HeaderCell", {
  extend : qx.ui.container.Composite,
  construct : function(){

    this.base(arguments);
    var layout = new qx.ui.layout.Grid();
    layout.setRowFlex(0, 1);
    layout.setColumnFlex(1, 1);
    layout.setColumnFlex(2, 1);
    this.setLayout(layout);
  },
  properties : {
    appearance : {
      refine : true,
      init : "table-header-cell"
    },
    label : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applyLabel"
    },
    sortIcon : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applySortIcon",
      themeable : true
    },
    icon : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applyIcon"
    }
  },
  members : {
    _applyLabel : function(value, old){

      if(value){

        this._showChildControl("label").setValue(value);
      } else {

        this._excludeChildControl("label");
      };
    },
    _applySortIcon : function(value, old){

      if(value){

        this._showChildControl("sort-icon").setSource(value);
      } else {

        this._excludeChildControl("sort-icon");
      };
    },
    _applyIcon : function(value, old){

      if(value){

        this._showChildControl("icon").setSource(value);
      } else {

        this._excludeChildControl("icon");
      };
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "label":
      control = new qx.ui.basic.Label(this.getLabel()).set({
        anonymous : true,
        allowShrinkX : true
      });
      this._add(control, {
        row : 0,
        column : 1
      });
      break;case "sort-icon":
      control = new qx.ui.basic.Image(this.getSortIcon());
      control.setAnonymous(true);
      this._add(control, {
        row : 0,
        column : 2
      });
      break;case "icon":
      control = new qx.ui.basic.Image(this.getIcon()).set({
        anonymous : true,
        allowShrinkX : true
      });
      this._add(control, {
        row : 0,
        column : 0
      });
      break;};
      return control || this.base(arguments, id);
    }
  }
});

qx.Class.define("qx.ui.popup.Popup", {
  extend : qx.ui.container.Composite,
  include : qx.ui.core.MPlacement,
  construct : function(layout){

    this.base(arguments, layout);
    this.initVisibility();
  },
  properties : {
    appearance : {
      refine : true,
      init : "popup"
    },
    visibility : {
      refine : true,
      init : "excluded"
    },
    autoHide : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    show : function(){

      if(this.getLayoutParent() == null){

        qx.core.Init.getApplication().getRoot().add(this);
      };
      this.base(arguments);
    },
    _applyVisibility : function(value, old){

      this.base(arguments, value, old);
      var mgr = qx.ui.popup.Manager.getInstance();
      value === "visible" ? mgr.add(this) : mgr.remove(this);
    }
  },
  destruct : function(){

    if(!qx.ui.popup.Manager.getInstance().isDisposed()){

      qx.ui.popup.Manager.getInstance().remove(this);
    };
  }
});

qx.Class.define("qx.ui.popup.Manager", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__objects = [];
    qx.event.Registration.addListener(document.documentElement, "pointerdown", this.__onPointerDown, this, true);
    qx.bom.Element.addListener(window, "blur", this.hideAll, this);
  },
  members : {
    __objects : null,
    add : function(obj){

      if(qx.core.Environment.get("qx.debug")){

        if(!(obj instanceof qx.ui.popup.Popup)){

          throw new Error("Object is no popup: " + obj);
        };
      };
      this.__objects.push(obj);
      this.__updateIndexes();
    },
    remove : function(obj){

      if(qx.core.Environment.get("qx.debug")){

        if(!(obj instanceof qx.ui.popup.Popup)){

          throw new Error("Object is no popup: " + obj);
        };
      };
      qx.lang.Array.remove(this.__objects, obj);
      this.__updateIndexes();
    },
    hideAll : function(){

      var l = this.__objects.length,current = {
      };
      while(l--){

        current = this.__objects[l];
        if(current.getAutoHide()){

          current.exclude();
        };
      };
    },
    __updateIndexes : function(){

      var min = 1e7;
      for(var i = 0;i < this.__objects.length;i++){

        this.__objects[i].setZIndex(min++);
      };
    },
    __onPointerDown : function(e){

      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());
      var reg = this.__objects;
      for(var i = 0;i < reg.length;i++){

        var obj = reg[i];
        if(!obj.getAutoHide() || target == obj || qx.ui.core.Widget.contains(obj, target)){

          continue;
        };
        obj.exclude();
      };
    }
  },
  destruct : function(){

    qx.event.Registration.removeListener(document.documentElement, "pointerdown", this.__onPointerDown, this, true);
    this._disposeArray("__objects");
  }
});

qx.Class.define("qx.ui.tooltip.ToolTip", {
  extend : qx.ui.popup.Popup,
  construct : function(label, icon){

    this.base(arguments);
    this.setLayout(new qx.ui.layout.HBox());
    this._createChildControl("arrow");
    this._createChildControl("atom");
    if(label != null){

      this.setLabel(label);
    };
    if(icon != null){

      this.setIcon(icon);
    };
    this.addListener("pointerover", this._onPointerOver, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "tooltip"
    },
    showTimeout : {
      check : "Integer",
      init : 700,
      themeable : true
    },
    hideTimeout : {
      check : "Integer",
      init : 4000,
      themeable : true
    },
    label : {
      check : "String",
      nullable : true,
      apply : "_applyLabel"
    },
    icon : {
      check : "String",
      nullable : true,
      apply : "_applyIcon",
      themeable : true
    },
    rich : {
      check : "Boolean",
      init : false,
      apply : "_applyRich"
    },
    opener : {
      check : "qx.ui.core.Widget",
      nullable : true
    },
    arrowPosition : {
      check : ["left", "right"],
      init : "left",
      themeable : true,
      apply : "_applyArrowPosition"
    }
  },
  members : {
    _forwardStates : {
      placementLeft : true
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "atom":
      control = new qx.ui.basic.Atom();
      this._add(control, {
        flex : 1
      });
      break;case "arrow":
      control = new qx.ui.basic.Image();
      this._add(control);};
      return control || this.base(arguments, id);
    },
    _onPointerOver : function(e){
    },
    _applyIcon : function(value, old){

      var atom = this.getChildControl("atom");
      value == null ? atom.resetIcon() : atom.setIcon(value);
    },
    _applyLabel : function(value, old){

      var atom = this.getChildControl("atom");
      value == null ? atom.resetLabel() : atom.setLabel(value);
    },
    _applyRich : function(value, old){

      var atom = this.getChildControl("atom");
      atom.setRich(value);
    },
    _applyArrowPosition : function(value, old){

      this._getLayout().setReversed(value == "left");
    }
  }
});

qx.Class.define("qx.ui.table.columnmodel.Basic", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__overallColumnArr = [];
    this.__visibleColumnArr = [];
  },
  events : {
    "widthChanged" : "qx.event.type.Data",
    "visibilityChangedPre" : "qx.event.type.Data",
    "visibilityChanged" : "qx.event.type.Data",
    "orderChanged" : "qx.event.type.Data",
    "headerCellRendererChanged" : "qx.event.type.Data"
  },
  statics : {
    DEFAULT_WIDTH : 100,
    DEFAULT_HEADER_RENDERER : qx.ui.table.headerrenderer.Default,
    DEFAULT_DATA_RENDERER : qx.ui.table.cellrenderer.Default,
    DEFAULT_EDITOR_FACTORY : qx.ui.table.celleditor.TextField
  },
  members : {
    __internalChange : null,
    __colToXPosMap : null,
    __visibleColumnArr : null,
    __overallColumnArr : null,
    __columnDataArr : null,
    __headerRenderer : null,
    __dataRenderer : null,
    __editorFactory : null,
    init : function(colCount, table){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(colCount, "Invalid argument 'colCount'.");
      };
      this.__columnDataArr = [];
      var width = qx.ui.table.columnmodel.Basic.DEFAULT_WIDTH;
      var headerRenderer = this.__headerRenderer || (this.__headerRenderer = new qx.ui.table.columnmodel.Basic.DEFAULT_HEADER_RENDERER());
      var dataRenderer = this.__dataRenderer || (this.__dataRenderer = new qx.ui.table.columnmodel.Basic.DEFAULT_DATA_RENDERER());
      var editorFactory = this.__editorFactory || (this.__editorFactory = new qx.ui.table.columnmodel.Basic.DEFAULT_EDITOR_FACTORY());
      this.__overallColumnArr = [];
      this.__visibleColumnArr = [];
      var initiallyHiddenColumns;
      if(table){

        initiallyHiddenColumns = table.getInitiallyHiddenColumns();
      };
      initiallyHiddenColumns = initiallyHiddenColumns || [];
      for(var col = 0;col < colCount;col++){

        this.__columnDataArr[col] = {
          width : width,
          headerRenderer : headerRenderer,
          dataRenderer : dataRenderer,
          editorFactory : editorFactory
        };
        this.__overallColumnArr[col] = col;
        this.__visibleColumnArr[col] = col;
      };
      this.__colToXPosMap = null;
      this.__internalChange = true;
      for(var hidden = 0;hidden < initiallyHiddenColumns.length;hidden++){

        this.setColumnVisible(initiallyHiddenColumns[hidden], false);
      };
      this.__internalChange = false;
      for(col = 0;col < colCount;col++){

        var data = {
          col : col,
          visible : this.isColumnVisible(col)
        };
        this.fireDataEvent("visibilityChangedPre", data);
        this.fireDataEvent("visibilityChanged", data);
      };
    },
    getVisibleColumns : function(){

      return this.__visibleColumnArr != null ? this.__visibleColumnArr : [];
    },
    setColumnWidth : function(col, width, isPointerAction){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertInteger(width, "Invalid argument 'width'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      var oldWidth = this.__columnDataArr[col].width;
      if(oldWidth != width){

        this.__columnDataArr[col].width = width;
        var data = {
          col : col,
          newWidth : width,
          oldWidth : oldWidth,
          isPointerAction : isPointerAction || false
        };
        this.fireDataEvent("widthChanged", data);
      };
    },
    getColumnWidth : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      return this.__columnDataArr[col].width;
    },
    setHeaderCellRenderer : function(col, renderer){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertInterface(renderer, qx.ui.table.IHeaderRenderer, "Invalid argument 'renderer'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      var oldRenderer = this.__columnDataArr[col].headerRenderer;
      if(oldRenderer !== this.__headerRenderer){

        oldRenderer.dispose();
      };
      this.__columnDataArr[col].headerRenderer = renderer;
      this.fireDataEvent("headerCellRendererChanged", {
        col : col
      });
    },
    getHeaderCellRenderer : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      return this.__columnDataArr[col].headerRenderer;
    },
    setDataCellRenderer : function(col, renderer){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertInterface(renderer, qx.ui.table.ICellRenderer, "Invalid argument 'renderer'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      this.__columnDataArr[col].dataRenderer = renderer;
      var oldRenderer = this.__columnDataArr[col].dataRenderer;
      if(oldRenderer !== this.__dataRenderer){

        return oldRenderer;
      };
      return null;
    },
    getDataCellRenderer : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      return this.__columnDataArr[col].dataRenderer;
    },
    setCellEditorFactory : function(col, factory){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertInterface(factory, qx.ui.table.ICellEditorFactory, "Invalid argument 'factory'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      var oldFactory = this.__columnDataArr[col].editorFactory;
      if(oldFactory !== this.__editorFactory){

        oldFactory.dispose();
      };
      this.__columnDataArr[col].editorFactory = factory;
    },
    getCellEditorFactory : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertNotUndefined(this.__columnDataArr[col], "Column not found in table model");
      };
      return this.__columnDataArr[col].editorFactory;
    },
    _getColToXPosMap : function(){

      if(this.__colToXPosMap == null){

        this.__colToXPosMap = {
        };
        for(var overX = 0;overX < this.__overallColumnArr.length;overX++){

          var col = this.__overallColumnArr[overX];
          this.__colToXPosMap[col] = {
            overX : overX
          };
        };
        for(var visX = 0;visX < this.__visibleColumnArr.length;visX++){

          var col = this.__visibleColumnArr[visX];
          this.__colToXPosMap[col].visX = visX;
        };
      };
      return this.__colToXPosMap;
    },
    getVisibleColumnCount : function(){

      return this.__visibleColumnArr != null ? this.__visibleColumnArr.length : 0;
    },
    getVisibleColumnAtX : function(visXPos){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(visXPos, "Invalid argument 'visXPos'.");
      };
      return this.__visibleColumnArr[visXPos];
    },
    getVisibleX : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
      };
      return this._getColToXPosMap()[col].visX;
    },
    getOverallColumnCount : function(){

      return this.__overallColumnArr.length;
    },
    getOverallColumnAtX : function(overXPos){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(overXPos, "Invalid argument 'overXPos'.");
      };
      return this.__overallColumnArr[overXPos];
    },
    getOverallX : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
      };
      return this._getColToXPosMap()[col].overX;
    },
    isColumnVisible : function(col){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
      };
      return (this._getColToXPosMap()[col].visX != null);
    },
    setColumnVisible : function(col, visible){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(col, "Invalid argument 'col'.");
        this.assertBoolean(visible, "Invalid argument 'visible'.");
      };
      if(visible != this.isColumnVisible(col)){

        if(visible){

          var colToXPosMap = this._getColToXPosMap();
          var overX = colToXPosMap[col].overX;
          if(overX == null){

            throw new Error("Showing column failed: " + col + ". The column is not added to this TablePaneModel.");
          };
          var nextVisX;
          for(var x = overX + 1;x < this.__overallColumnArr.length;x++){

            var currCol = this.__overallColumnArr[x];
            var currVisX = colToXPosMap[currCol].visX;
            if(currVisX != null){

              nextVisX = currVisX;
              break;
            };
          };
          if(nextVisX == null){

            nextVisX = this.__visibleColumnArr.length;
          };
          this.__visibleColumnArr.splice(nextVisX, 0, col);
        } else {

          var visX = this.getVisibleX(col);
          this.__visibleColumnArr.splice(visX, 1);
        };
        this.__colToXPosMap = null;
        if(!this.__internalChange){

          var data = {
            col : col,
            visible : visible
          };
          this.fireDataEvent("visibilityChangedPre", data);
          this.fireDataEvent("visibilityChanged", data);
        };
      };
    },
    moveColumn : function(fromOverXPos, toOverXPos){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInteger(fromOverXPos, "Invalid argument 'fromOverXPos'.");
        this.assertInteger(toOverXPos, "Invalid argument 'toOverXPos'.");
      };
      this.__internalChange = true;
      var col = this.__overallColumnArr[fromOverXPos];
      var visible = this.isColumnVisible(col);
      if(visible){

        this.setColumnVisible(col, false);
      };
      this.__overallColumnArr.splice(fromOverXPos, 1);
      this.__overallColumnArr.splice(toOverXPos, 0, col);
      this.__colToXPosMap = null;
      if(visible){

        this.setColumnVisible(col, true);
      };
      this.__internalChange = false;
      var data = {
        col : col,
        fromOverXPos : fromOverXPos,
        toOverXPos : toOverXPos
      };
      this.fireDataEvent("orderChanged", data);
    },
    setColumnsOrder : function(newPositions){

      if(qx.core.Environment.get("qx.debug")){

        this.assertArray(newPositions, "Invalid argument 'newPositions'.");
      };
      if(newPositions.length == this.__overallColumnArr.length){

        this.__internalChange = true;
        var isVisible = new Array(newPositions.length);
        for(var colIdx = 0;colIdx < this.__overallColumnArr.length;colIdx++){

          var visible = this.isColumnVisible(colIdx);
          isVisible[colIdx] = visible;
          if(visible){

            this.setColumnVisible(colIdx, false);
          };
        };
        this.__overallColumnArr = qx.lang.Array.clone(newPositions);
        this.__colToXPosMap = null;
        for(var colIdx = 0;colIdx < this.__overallColumnArr.length;colIdx++){

          if(isVisible[colIdx]){

            this.setColumnVisible(colIdx, true);
          };
        };
        this.__internalChange = false;
        this.fireDataEvent("orderChanged");
      } else {

        throw new Error("setColumnsOrder: Invalid number of column positions given, expected " + this.__overallColumnArr.length + ", got " + newPositions.length);
      };
    }
  },
  destruct : function(){

    for(var i = 0;i < this.__columnDataArr.length;i++){

      this.__columnDataArr[i].headerRenderer.dispose();
      this.__columnDataArr[i].dataRenderer.dispose();
      this.__columnDataArr[i].editorFactory.dispose();
    };
    this.__overallColumnArr = this.__visibleColumnArr = this.__columnDataArr = this.__colToXPosMap = null;
    this._disposeObjects("__headerRenderer", "__dataRenderer", "__editorFactory");
  }
});

qx.Class.define("qx.ui.table.columnmodel.Resize", {
  extend : qx.ui.table.columnmodel.Basic,
  include : qx.locale.MTranslation,
  construct : function(){

    this.base(arguments);
    this.__bInProgress = false;
    this.__bAppeared = false;
  },
  properties : {
    behavior : {
      check : "qx.ui.table.columnmodel.resizebehavior.Abstract",
      init : null,
      nullable : true,
      apply : "_applyBehavior",
      event : "changeBehavior"
    }
  },
  members : {
    __bAppeared : null,
    __bInProgress : null,
    __table : null,
    _applyBehavior : function(value, old){

      if(old != null){

        old.dispose();
        old = null;
      };
      value._setNumColumns(this.getOverallColumnCount());
      value.setTableColumnModel(this);
    },
    init : function(numColumns, table){

      this.base(arguments, numColumns, table);
      if(this.__table == null){

        this.__table = table;
        table.addListener("appear", this._onappear, this);
        table.addListener("tableWidthChanged", this._onTableWidthChanged, this);
        table.addListener("verticalScrollBarChanged", this._onverticalscrollbarchanged, this);
        table.addListener("columnVisibilityMenuCreateEnd", this._addResetColumnWidthButton, this);
        this.addListener("widthChanged", this._oncolumnwidthchanged, this);
        this.addListener("visibilityChanged", this._onvisibilitychanged, this);
      };
      if(this.getBehavior() == null){

        this.setBehavior(new qx.ui.table.columnmodel.resizebehavior.Default());
      };
      this.getBehavior()._setNumColumns(numColumns);
    },
    getTable : function(){

      return this.__table;
    },
    _addResetColumnWidthButton : function(event){

      var data = event.getData();
      var columnButton = data.columnButton;
      var menu = data.menu;
      var o;
      o = columnButton.factory("separator");
      menu.add(o);
      o = columnButton.factory("user-button", {
        text : this.tr("Reset column widths")
      });
      menu.add(o);
      o.addListener("execute", this._onappear, this);
    },
    _onappear : function(event){

      if(this.__bInProgress){

        return;
      };
      this.__bInProgress = true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.tableResizeDebug")){

          this.debug("onappear");
        };
      };
      this.getBehavior().onAppear(event, event.getType() !== "appear");
      this.__table._updateScrollerWidths();
      this.__table._updateScrollBarVisibility();
      this.__bInProgress = false;
      this.__bAppeared = true;
    },
    _onTableWidthChanged : function(event){

      if(this.__bInProgress || !this.__bAppeared){

        return;
      };
      this.__bInProgress = true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.tableResizeDebug")){

          this.debug("ontablewidthchanged");
        };
      };
      this.getBehavior().onTableWidthChanged(event);
      this.__bInProgress = false;
    },
    _onverticalscrollbarchanged : function(event){

      if(this.__bInProgress || !this.__bAppeared){

        return;
      };
      this.__bInProgress = true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.tableResizeDebug")){

          this.debug("onverticalscrollbarchanged");
        };
      };
      this.getBehavior().onVerticalScrollBarChanged(event);
      qx.event.Timer.once(function(){

        if(this.__table && !this.__table.isDisposed()){

          this.__table._updateScrollerWidths();
          this.__table._updateScrollBarVisibility();
        };
      }, this, 0);
      this.__bInProgress = false;
    },
    _oncolumnwidthchanged : function(event){

      if(this.__bInProgress || !this.__bAppeared){

        return;
      };
      this.__bInProgress = true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.tableResizeDebug")){

          this.debug("oncolumnwidthchanged");
        };
      };
      this.getBehavior().onColumnWidthChanged(event);
      this.__bInProgress = false;
    },
    _onvisibilitychanged : function(event){

      if(this.__bInProgress || !this.__bAppeared){

        return;
      };
      this.__bInProgress = true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.tableResizeDebug")){

          this.debug("onvisibilitychanged");
        };
      };
      this.getBehavior().onVisibilityChanged(event);
      this.__bInProgress = false;
    }
  },
  destruct : function(){

    this.__table = null;
  }
});

qx.Class.define("qx.ui.core.ColumnData", {
  extend : qx.ui.core.LayoutItem,
  construct : function(){

    this.base(arguments);
    this.setColumnWidth("auto");
  },
  members : {
    __computedWidth : null,
    renderLayout : function(left, top, width, height){

      this.__computedWidth = width;
    },
    getComputedWidth : function(){

      return this.__computedWidth;
    },
    getFlex : function(){

      return this.getLayoutProperties().flex || 0;
    },
    setColumnWidth : function(width, flex){

      var flex = flex || 0;
      var percent = null;
      if(typeof width == "number"){

        this.setWidth(width);
      } else if(typeof width == "string"){

        if(width == "auto"){

          flex = 1;
        } else {

          var match = width.match(/^[0-9]+(?:\.[0-9]+)?([%\*])$/);
          if(match){

            if(match[1] == "*"){

              flex = parseFloat(width);
            } else {

              percent = width;
            };
          };
        };
      };
      this.setLayoutProperties({
        flex : flex,
        width : percent
      });
    }
  },
  environment : {
    "qx.tableResizeDebug" : false
  }
});

qx.Class.define("qx.ui.table.columnmodel.resizebehavior.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  members : {
    _setNumColumns : function(numColumns){

      throw new Error("_setNumColumns is abstract");
    },
    onAppear : function(event, forceRefresh){

      throw new Error("onAppear is abstract");
    },
    onTableWidthChanged : function(event){

      throw new Error("onTableWidthChanged is abstract");
    },
    onVerticalScrollBarChanged : function(event){

      throw new Error("onVerticalScrollBarChanged is abstract");
    },
    onColumnWidthChanged : function(event){

      throw new Error("onColumnWidthChanged is abstract");
    },
    onVisibilityChanged : function(event){

      throw new Error("onVisibilityChanged is abstract");
    },
    _getAvailableWidth : function(){

      var tableColumnModel = this.getTableColumnModel();
      var table = tableColumnModel.getTable();
      var scrollerArr = table._getPaneScrollerArr();
      if(!scrollerArr[0] || !scrollerArr[0].getLayoutParent().getBounds()){

        return null;
      };
      var scrollerParentWidth = scrollerArr[0].getLayoutParent().getBounds().width;
      var lastScroller = scrollerArr[scrollerArr.length - 1];
      scrollerParentWidth -= lastScroller.getPaneInsetRight();
      return scrollerParentWidth;
    }
  }
});

qx.Class.define("qx.ui.table.columnmodel.resizebehavior.Default", {
  extend : qx.ui.table.columnmodel.resizebehavior.Abstract,
  construct : function(){

    this.base(arguments);
    this.__resizeColumnData = [];
    this.__layout = new qx.ui.layout.HBox();
    this.__layout.connectToWidget(this);
    this.__deferredComputeColumnsFlexWidth = new qx.util.DeferredCall(this._computeColumnsFlexWidth, this);
  },
  properties : {
    newResizeBehaviorColumnData : {
      check : "Function",
      init : function(obj){

        return new qx.ui.core.ColumnData();
      }
    },
    initializeWidthsOnEveryAppear : {
      check : "Boolean",
      init : false
    },
    tableColumnModel : {
      check : "qx.ui.table.columnmodel.Resize"
    }
  },
  members : {
    __layout : null,
    __layoutChildren : null,
    __resizeColumnData : null,
    __deferredComputeColumnsFlexWidth : null,
    __widthsInitialized : false,
    setWidth : function(col, width, flex){

      if(col >= this.__resizeColumnData.length){

        throw new Error("Column number out of range");
      };
      this.__resizeColumnData[col].setColumnWidth(width, flex);
      this.__deferredComputeColumnsFlexWidth.schedule();
    },
    setMinWidth : function(col, width){

      if(col >= this.__resizeColumnData.length){

        throw new Error("Column number out of range");
      };
      this.__resizeColumnData[col].setMinWidth(width);
      this.__deferredComputeColumnsFlexWidth.schedule();
    },
    setMaxWidth : function(col, width){

      if(col >= this.__resizeColumnData.length){

        throw new Error("Column number out of range");
      };
      this.__resizeColumnData[col].setMaxWidth(width);
      this.__deferredComputeColumnsFlexWidth.schedule();
    },
    set : function(col, map){

      for(var prop in map){

        switch(prop){case "width":
        this.setWidth(col, map[prop]);
        break;case "minWidth":
        this.setMinWidth(col, map[prop]);
        break;case "maxWidth":
        this.setMaxWidth(col, map[prop]);
        break;default:
        throw new Error("Unknown property: " + prop);};
      };
    },
    onAppear : function(event, forceRefresh){

      if(forceRefresh === true || !this.__widthsInitialized || this.getInitializeWidthsOnEveryAppear()){

        this._computeColumnsFlexWidth();
        this.__widthsInitialized = true;
      };
    },
    onTableWidthChanged : function(event){

      this._computeColumnsFlexWidth();
    },
    onVerticalScrollBarChanged : function(event){

      this._computeColumnsFlexWidth();
    },
    onColumnWidthChanged : function(event){

      this._extendNextColumn(event);
    },
    onVisibilityChanged : function(event){

      var data = event.getData();
      if(data.visible){

        this._computeColumnsFlexWidth();
        return;
      };
      this._extendLastColumn(event);
    },
    _setNumColumns : function(numColumns){

      var colData = this.__resizeColumnData;
      if(numColumns <= colData.length){

        colData.splice(numColumns, colData.length);
        return;
      };
      for(var i = colData.length;i < numColumns;i++){

        colData[i] = this.getNewResizeBehaviorColumnData()();
        colData[i].columnNumber = i;
      };
    },
    getLayoutChildren : function(){

      return this.__layoutChildren;
    },
    _computeColumnsFlexWidth : function(){

      this.__deferredComputeColumnsFlexWidth.cancel();
      var width = this._getAvailableWidth();
      if(width === null){

        return;
      };
      var tableColumnModel = this.getTableColumnModel();
      var visibleColumns = tableColumnModel.getVisibleColumns();
      var visibleColumnsLength = visibleColumns.length;
      var colData = this.__resizeColumnData;
      var i,l;
      if(visibleColumnsLength === 0){

        return;
      };
      var columns = [];
      for(i = 0;i < visibleColumnsLength;i++){

        columns.push(colData[visibleColumns[i]]);
      };
      this.__layoutChildren = columns;
      this.__clearLayoutCaches();
      this.__layout.renderLayout(width, 100, {
        top : 0,
        right : 0,
        bottom : 0,
        left : 0
      });
      for(i = 0,l = columns.length;i < l;i++){

        var colWidth = columns[i].getComputedWidth();
        tableColumnModel.setColumnWidth(visibleColumns[i], colWidth);
      };
    },
    __clearLayoutCaches : function(){

      this.__layout.invalidateChildrenCache();
      var children = this.__layoutChildren;
      for(var i = 0,l = children.length;i < l;i++){

        children[i].invalidateLayoutCache();
      };
    },
    _extendNextColumn : function(event){

      var tableColumnModel = this.getTableColumnModel();
      var data = event.getData();
      var visibleColumns = tableColumnModel.getVisibleColumns();
      var width = this._getAvailableWidth();
      var numColumns = visibleColumns.length;
      if(data.newWidth > data.oldWidth){

        return;
      };
      var i;
      var nextCol;
      var widthUsed = 0;
      for(i = 0;i < numColumns;i++){

        widthUsed += tableColumnModel.getColumnWidth(visibleColumns[i]);
      };
      if(widthUsed < width){

        for(i = 0;i < visibleColumns.length;i++){

          if(visibleColumns[i] == data.col){

            nextCol = visibleColumns[i + 1];
            break;
          };
        };
        if(nextCol){

          var newWidth = (width - (widthUsed - tableColumnModel.getColumnWidth(nextCol)));
          tableColumnModel.setColumnWidth(nextCol, newWidth);
        };
      };
    },
    _extendLastColumn : function(event){

      var tableColumnModel = this.getTableColumnModel();
      var data = event.getData();
      if(data.visible){

        return;
      };
      var visibleColumns = tableColumnModel.getVisibleColumns();
      if(visibleColumns.length == 0){

        return;
      };
      var width = this._getAvailableWidth(tableColumnModel);
      var numColumns = visibleColumns.length;
      var i;
      var lastCol;
      var widthUsed = 0;
      for(i = 0;i < numColumns;i++){

        widthUsed += tableColumnModel.getColumnWidth(visibleColumns[i]);
      };
      if(widthUsed < width){

        lastCol = visibleColumns[visibleColumns.length - 1];
        var newWidth = (width - (widthUsed - tableColumnModel.getColumnWidth(lastCol)));
        tableColumnModel.setColumnWidth(lastCol, newWidth);
      };
    },
    _getResizeColumnData : function(){

      return this.__resizeColumnData;
    }
  },
  destruct : function(){

    this.__resizeColumnData = this.__layoutChildren = null;
    this._disposeObjects("__layout", "__deferredComputeColumnsFlexWidth");
  }
});

qx.Bootstrap.define("qx.module.util.String", {
  statics : {
    camelCase : function(str){

      return qx.lang.String.camelCase.call(qx.lang.String, str);
    },
    hyphenate : function(str){

      return qx.lang.String.hyphenate.call(qx.lang.String, str);
    },
    firstUp : qx.lang.String.firstUp,
    firstLow : qx.lang.String.firstLow,
    startsWith : qx.lang.String.startsWith,
    endsWith : qx.lang.String.endsWith,
    escapeRegexpChars : qx.lang.String.escapeRegexpChars,
    escapeHtml : qx.bom.String.escape
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      string : {
        camelCase : statics.camelCase,
        hyphenate : statics.hyphenate,
        firstUp : statics.firstUp,
        firstLow : statics.firstLow,
        startsWith : statics.startsWith,
        endsWith : statics.endsWith,
        escapeRegexpChars : statics.escapeRegexpChars,
        escapeHtml : statics.escapeHtml
      }
    });
  }
});

qx.Bootstrap.define("qx.module.Dataset", {
  statics : {
    setData : function(name, value){

      this._forEachElement(function(item){

        qx.bom.element.Dataset.set(item, name, value);
      });
      return this;
    },
    getData : function(name){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Dataset.get(this[0], name);
      };
    },
    getAllData : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Dataset.getAll(this[0]);
      };
      return {
      };
    },
    removeData : function(name){

      if(this[0] && this[0].nodeType === 1){

        qx.bom.element.Dataset.remove(this[0], name);
      };
      return this;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "getData" : statics.getData,
      "setData" : statics.setData,
      "removeData" : statics.removeData,
      "getAllData" : statics.getAllData
    });
  }
});

qx.Bootstrap.define("qx.bom.element.Dataset", {
  statics : {
    set : function(element, name, value){

      if(element.dataset){

        name = qx.lang.String.camelCase(name);
        if(value == null){

          delete element.dataset[name];
        } else {

          element.dataset[name] = value;
        };
      } else {

        if(value === undefined){

          value = null;
        };
        qx.bom.element.Attribute.set(element, "data-" + qx.lang.String.hyphenate(name), value);
      };
    },
    get : function(element, name){

      if(element.dataset){

        name = qx.lang.String.camelCase(name);
        return element.dataset[name];
      } else {

        var attrName = "data-" + qx.lang.String.hyphenate(name);
        return element.hasAttribute(attrName) ? qx.bom.element.Attribute.get(element, attrName) : undefined;
      };
    },
    getAll : function(element){

      if(element.dataset){

        return element.dataset;
      } else {

        var res = {
        },attr = element.attributes;
        for(var i = 0;i < attr.length;i++){

          if(attr[i].name.match(RegExp("^data-(.*)"))){

            var key = RegExp.$1;
            res[qx.lang.String.camelCase(key)] = element.getAttribute(attr[i].name);
          };
        };
        return res;
      };
    },
    remove : function(element, name){

      this.set(element, name, undefined);
    }
  }
});

qx.Bootstrap.define("qx.module.event.Native", {
  statics : {
    TYPES : ["*"],
    FORWARD_METHODS : ["getTarget", "getRelatedTarget"],
    BIND_METHODS : ["preventDefault", "stopPropagation", "getType"],
    preventDefault : function(){

      try{

        this.keyCode = 0;
      } catch(ex) {
      };
      this.returnValue = false;
    },
    stopPropagation : function(){

      this.cancelBubble = true;
    },
    getType : function(){

      return this._type || this.type;
    },
    getTarget : function(){
    },
    getRelatedTarget : function(){
    },
    getCurrentTarget : function(){
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var fwdMethods = qx.module.event.Native.FORWARD_METHODS;
      for(var i = 0,l = fwdMethods.length;i < l;i++){

        event[fwdMethods[i]] = qx.bom.Event[fwdMethods[i]].bind(null, event);
      };
      var bindMethods = qx.module.event.Native.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Native[bindMethods[i]].bind(event);
        };
      };
      event.getCurrentTarget = function(){

        return event.currentTarget || element;
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(statics.TYPES, statics.normalize);
  }
});

qx.Bootstrap.define("qx.ui.website.Widget", {
  extend : qxWeb,
  statics : {
    widget : function(){

      var widgets = new qx.ui.website.Widget(this);
      widgets.init();
      return widgets;
    },
    create : function(html){

      return new qx.ui.website.Widget(qxWeb.create(html));
    },
    $onFirstCollection : function(type, listener, ctx, useCapture){

      var propertyName = this.classname.replace(/\./g, "-") + "-context";
      if(!this.getProperty(propertyName)){

        this.setProperty(propertyName, ctx);
      };
      var originalCtx = this.getProperty(propertyName);
      if(!this.hasListener(type, listener, originalCtx)){

        this.on(type, listener, originalCtx, useCapture);
      };
      return this;
    },
    $offFirstCollection : function(type, listener, ctx, useCapture){

      var propertyName = this.classname.replace(/\./g, "-") + "-context";
      this._forEachElementWrapped(function(item){

        var originalCtx = item.getProperty(propertyName);
        item.off(type, listener, originalCtx, useCapture);
      });
      return this;
    },
    initWidgets : function(selector){

      var elements = qxWeb("*[data-qx-class]");
      if(selector){

        elements = elements.filter(selector);
      };
      elements._forEachElementWrapped(function(widget){

        widget.init();
      });
    }
  },
  construct : function(selector, context){

    var col = this.base(arguments, selector, context);
    Array.prototype.push.apply(this, Array.prototype.slice.call(col, 0, col.length));
  },
  members : {
    __cssPrefix : null,
    init : function(){

      if(this.getProperty("$$qx-widget-initialized")){

        return false;
      };
      this.setAttribute("data-qx-class", this.classname);
      this.addClass("qx-widget");
      this.addClass(this.getCssPrefix());
      this.setProperty("$$qx-widget-initialized", true);
      return true;
    },
    getCssPrefix : function(){

      if(!this.__cssPrefix){

        var split = this.classname.split(".");
        this.__cssPrefix = "qx-" + split[split.length - 1].toLowerCase();
      };
      return this.__cssPrefix;
    },
    setEnabled : function(value){

      this.setAttribute("disabled", !value);
      this.find("*").setAttribute("disabled", !value);
      return this;
    },
    getEnabled : function(){

      return !this.getAttribute("disabled");
    },
    setTemplate : function(name, template){

      return this._setData("templates", name, template);
    },
    setConfig : function(name, config){

      return this._setData("config", name, config);
    },
    _setData : function(type, name, data){

      this.forEach(function(item){

        if(!item[type]){

          item[type] = {
          };
        };
        item[type][name] = data;
      });
      return this;
    },
    getTemplate : function(name){

      return this._getData("templates", name);
    },
    getConfig : function(name){

      return this._getData("config", name);
    },
    _getData : function(type, name){

      var storage = this.getProperty(type);
      var item;
      if(storage){

        item = storage[name];
      };
      if(item === undefined && type == "config"){

        var attribName = "qx" + qxWeb.string.firstUp(type) + qxWeb.string.firstUp(name);
        item = this.getData(attribName);
        if(!this[0] || (!this[0].dataset && item === null)){

          item = undefined;
        };
        try{

          item = JSON.parse(item);
        } catch(e) {
        };
      };
      if(item === undefined && this.constructor["_" + type]){

        return this.constructor["_" + type][name];
      };
      return item;
    },
    render : function(){

      return this;
    },
    dispose : function(){

      this.removeAttribute("data-qx-class");
      this.setProperty("config", undefined);
      this.setProperty("templates", undefined);
      var contextProperty = this.classname.replace(/\./g, "-") + "-context";
      this.setProperty(contextProperty, undefined);
      this.setProperty("$$qx-widget-initialized", undefined);
      this.removeClass("qx-widget");
      this.removeClass(this.getCssPrefix());
      for(var name in this.constructor.$$events){

        this.allOff(name);
      };
      return qxWeb.$init(this, qxWeb);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      $onFirstCollection : statics.$onFirstCollection,
      $offFirstCollection : statics.$offFirstCollection,
      widget : statics.widget
    });
    qxWeb.$attachStatic({
      initWidgets : statics.initWidgets
    });
  }
});

qx.Class.define("qx.ui.table.selection.Manager", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
  },
  properties : {
    selectionModel : {
      check : "qx.ui.table.selection.Model"
    }
  },
  members : {
    __lastPointerDownHandled : null,
    handleTap : function(index, evt){

      if(evt.isLeftPressed()){

        var selectionModel = this.getSelectionModel();
        if(!selectionModel.isSelectedIndex(index)){

          this._handleSelectEvent(index, evt);
          this.__lastPointerDownHandled = true;
        } else {

          this.__lastPointerDownHandled = false;
        };
      } else if(evt.isRightPressed() && evt.getModifiers() == 0){

        var selectionModel = this.getSelectionModel();
        if(!selectionModel.isSelectedIndex(index)){

          selectionModel.setSelectionInterval(index, index);
        };
      };
      if(evt.isLeftPressed() && !this.__lastPointerDownHandled){

        this._handleSelectEvent(index, evt);
      };
    },
    handleSelectKeyDown : function(index, evt){

      this._handleSelectEvent(index, evt);
    },
    handleMoveKeyDown : function(index, evt){

      var selectionModel = this.getSelectionModel();
      switch(evt.getModifiers()){case 0:
      selectionModel.setSelectionInterval(index, index);
      break;case qx.event.type.Dom.SHIFT_MASK:
      var anchor = selectionModel.getAnchorSelectionIndex();
      if(anchor == -1){

        selectionModel.setSelectionInterval(index, index);
      } else {

        selectionModel.setSelectionInterval(anchor, index);
      };
      break;};
    },
    _handleSelectEvent : function(index, evt){

      var selectionModel = this.getSelectionModel();
      var leadIndex = selectionModel.getLeadSelectionIndex();
      var anchorIndex = selectionModel.getAnchorSelectionIndex();
      if(evt.isShiftPressed()){

        if(index != leadIndex || selectionModel.isSelectionEmpty()){

          if(anchorIndex == -1){

            anchorIndex = index;
          };
          if(evt.isCtrlOrCommandPressed()){

            selectionModel.addSelectionInterval(anchorIndex, index);
          } else {

            selectionModel.setSelectionInterval(anchorIndex, index);
          };
        };
      } else if(evt.isCtrlOrCommandPressed()){

        if(selectionModel.isSelectedIndex(index)){

          selectionModel.removeSelectionInterval(index, index);
        } else {

          selectionModel.addSelectionInterval(index, index);
        };
      } else {

        selectionModel.setSelectionInterval(index, index);
      };
    }
  }
});

qx.Class.define("qx.ui.treevirtual.SelectionManager", {
  extend : qx.ui.table.selection.Manager,
  construct : function(table){

    this.base(arguments);
    this.__table = table;
  },
  members : {
    __table : null,
    getTable : function(){

      return this.__table;
    },
    _handleSelectEvent : function(index, evt){

      var _this = this;
      function handleButtonClick(tree, index, evt){

        var dataModel = tree.getDataModel();
        var treeCol = dataModel.getTreeColumn();
        var focusedCol = tree.getFocusedColumn();
        if(focusedCol != treeCol){

          return false;
        };
        if(evt instanceof qx.event.type.Mouse){

          if(!tree.getFocusCellOnPointerMove()){

            var scrollers = tree._getPaneScrollerArr();
            for(var i = 0;i < scrollers.length;i++){

              scrollers[i]._focusCellAtPagePos(evt.getViewportLeft(), evt.getViewportTop());
            };
          };
        };
        var node = dataModel.getNode(tree.getFocusedRow());
        if(!node){

          return false;
        };
        if(evt instanceof qx.event.type.Mouse){

          var tcm = tree.getTableColumnModel();
          var columnPositions = tcm._getColToXPosMap();
          var left = qx.bom.element.Location.getLeft(tree.getContentElement().getDomElement());
          for(var i = 0;i < columnPositions[treeCol].visX;i++){

            left += tcm.getColumnWidth(columnPositions[i].visX);
          };
          var x = evt.getViewportLeft();
          var latitude = 2;
          var rowHeight = _this.__table.getRowHeight();
          var buttonPos = left + (node.level - 1) * (rowHeight + 3) + 2;
          if(x >= buttonPos - latitude && x <= buttonPos + rowHeight + 3 + latitude){

            dataModel.setState(node, {
              bOpened : !node.bOpened
            });
            return tree.getOpenCloseClickSelectsRow() ? false : true;
          } else {

            return _this._handleExtendedClick(tree, evt, node, left);
          };
        } else {

          var identifier = evt.getKeyIdentifier();
          switch(identifier){case "Space":
          return false;case "Enter":
          if(!node.bHideOpenClose && node.type != qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF){

            dataModel.setState(node, {
              bOpened : !node.bOpened
            });
          };
          return tree.getOpenCloseClickSelectsRow() ? false : true;default:
          return true;};
        };
      };
      var bNoSelect = handleButtonClick(this.__table, index, evt);
      if(!bNoSelect){

        this.base(arguments, index, evt);
      };
    },
    _handleExtendedClick : function(tree, evt, node, left){

      return false;
    }
  },
  destruct : function(){

    this.__table = null;
  }
});

qx.Interface.define("qx.ui.table.ITableModel", {
  events : {
    "dataChanged" : "qx.event.type.Data",
    "metaDataChanged" : "qx.event.type.Event",
    "sorted" : "qx.event.type.Data"
  },
  members : {
    getRowCount : function(){
    },
    getRowData : function(rowIndex){
    },
    getColumnCount : function(){
    },
    getColumnId : function(columnIndex){
    },
    getColumnIndexById : function(columnId){
    },
    getColumnName : function(columnIndex){
    },
    isColumnEditable : function(columnIndex){
    },
    isColumnSortable : function(columnIndex){
    },
    sortByColumn : function(columnIndex, ascending){
    },
    getSortColumnIndex : function(){
    },
    isSortAscending : function(){
    },
    prefetchRows : function(firstRowIndex, lastRowIndex){
    },
    getValue : function(columnIndex, rowIndex){
    },
    getValueById : function(columnId, rowIndex){
    },
    setValue : function(columnIndex, rowIndex, value){
    },
    setValueById : function(columnId, rowIndex, value){
    }
  }
});

qx.Class.define("qx.ui.table.model.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  implement : qx.ui.table.ITableModel,
  events : {
    "dataChanged" : "qx.event.type.Data",
    "metaDataChanged" : "qx.event.type.Event",
    "sorted" : "qx.event.type.Data"
  },
  construct : function(){

    this.base(arguments);
    this.__columnIdArr = [];
    this.__columnNameArr = [];
    this.__columnIndexMap = {
    };
  },
  members : {
    __columnIdArr : null,
    __columnNameArr : null,
    __columnIndexMap : null,
    __internalChange : null,
    init : function(table){
    },
    getRowCount : function(){

      throw new Error("getRowCount is abstract");
    },
    getRowData : function(rowIndex){

      return null;
    },
    isColumnEditable : function(columnIndex){

      return false;
    },
    isColumnSortable : function(columnIndex){

      return false;
    },
    sortByColumn : function(columnIndex, ascending){
    },
    getSortColumnIndex : function(){

      return -1;
    },
    isSortAscending : function(){

      return true;
    },
    prefetchRows : function(firstRowIndex, lastRowIndex){
    },
    getValue : function(columnIndex, rowIndex){

      throw new Error("getValue is abstract");
    },
    getValueById : function(columnId, rowIndex){

      return this.getValue(this.getColumnIndexById(columnId), rowIndex);
    },
    setValue : function(columnIndex, rowIndex, value){

      throw new Error("setValue is abstract");
    },
    setValueById : function(columnId, rowIndex, value){

      this.setValue(this.getColumnIndexById(columnId), rowIndex, value);
    },
    getColumnCount : function(){

      return this.__columnIdArr.length;
    },
    getColumnIndexById : function(columnId){

      return this.__columnIndexMap[columnId];
    },
    getColumnId : function(columnIndex){

      return this.__columnIdArr[columnIndex];
    },
    getColumnName : function(columnIndex){

      return this.__columnNameArr[columnIndex];
    },
    setColumnIds : function(columnIdArr){

      this.__columnIdArr = columnIdArr;
      this.__columnIndexMap = {
      };
      for(var i = 0;i < columnIdArr.length;i++){

        this.__columnIndexMap[columnIdArr[i]] = i;
      };
      this.__columnNameArr = new Array(columnIdArr.length);
      if(!this.__internalChange){

        this.fireEvent("metaDataChanged");
      };
    },
    setColumnNamesByIndex : function(columnNameArr){

      if(this.__columnIdArr.length != columnNameArr.length){

        throw new Error("this.__columnIdArr and columnNameArr have different length: " + this.__columnIdArr.length + " != " + columnNameArr.length);
      };
      this.__columnNameArr = columnNameArr;
      this.fireEvent("metaDataChanged");
    },
    setColumnNamesById : function(columnNameMap){

      this.__columnNameArr = new Array(this.__columnIdArr.length);
      for(var i = 0;i < this.__columnIdArr.length;++i){

        this.__columnNameArr[i] = columnNameMap[this.__columnIdArr[i]];
      };
    },
    setColumns : function(columnNameArr, columnIdArr){

      var bSetIds = this.__columnIdArr.length == 0 || columnIdArr;
      if(columnIdArr == null){

        if(this.__columnIdArr.length == 0){

          columnIdArr = columnNameArr;
        } else {

          columnIdArr = this.__columnIdArr;
        };
      };
      if(columnIdArr.length != columnNameArr.length){

        throw new Error("columnIdArr and columnNameArr have different length: " + columnIdArr.length + " != " + columnNameArr.length);
      };
      if(bSetIds){

        this.__internalChange = true;
        this.setColumnIds(columnIdArr);
        this.__internalChange = false;
      };
      this.setColumnNamesByIndex(columnNameArr);
    }
  },
  destruct : function(){

    this.__columnIdArr = this.__columnNameArr = this.__columnIndexMap = null;
  }
});

qx.Class.define("qx.ui.treevirtual.SimpleTreeDataModel", {
  extend : qx.ui.table.model.Abstract,
  include : qx.ui.treevirtual.MTreePrimitive,
  construct : function(){

    this.base(arguments);
    this._rowArr = [];
    this._nodeArr = [];
    this._nodeRowMap = [];
    this._treeColumn = 0;
    this._selections = {
    };
    this._nodeArr.push(qx.ui.treevirtual.MTreePrimitive._getEmptyTree());
    this.__editableColArr = null;
  },
  properties : {
    filter : {
      check : "Function",
      nullable : true,
      apply : "_applyFilter"
    }
  },
  members : {
    __tree : null,
    __editableColArr : null,
    __tempTreeData : null,
    __recalculateLastChildFlags : null,
    _rowArr : null,
    _nodeArr : null,
    _nodeRowMap : null,
    _treeColumn : null,
    _selections : null,
    setTree : function(tree){

      this.__tree = tree;
    },
    getTree : function(){

      return this.__tree;
    },
    setEditable : function(editable){

      this.__editableColArr = [];
      for(var col = 0;col < this.getColumnCount();col++){

        this.__editableColArr[col] = editable;
      };
      this.fireEvent("metaDataChanged");
    },
    setColumnEditable : function(columnIndex, editable){

      if(editable != this.isColumnEditable(columnIndex)){

        if(this.__editableColArr == null){

          this.__editableColArr = [];
        };
        this.__editableColArr[columnIndex] = editable;
        this.fireEvent("metaDataChanged");
      };
    },
    isColumnEditable : function(columnIndex){

      if(columnIndex == this._treeColumn){

        return false;
      };
      return (this.__editableColArr ? this.__editableColArr[columnIndex] == true : false);
    },
    isColumnSortable : function(columnIndex){

      return false;
    },
    sortByColumn : function(columnIndex, ascending){

      throw new Error("Trees can not be sorted by column");
    },
    getSortColumnIndex : function(){

      return -1;
    },
    setTreeColumn : function(columnIndex){

      this._treeColumn = columnIndex;
    },
    getTreeColumn : function(){

      return this._treeColumn;
    },
    getRowCount : function(){

      return this._rowArr.length;
    },
    getRowData : function(rowIndex){

      return this._rowArr[rowIndex];
    },
    getValue : function(columnIndex, rowIndex){

      if(rowIndex < 0 || rowIndex >= this._rowArr.length){

        throw new Error("this._rowArr row " + "(" + rowIndex + ") out of bounds: " + this._rowArr + " (0.." + (this._rowArr.length - 1) + ")");
      };
      if(columnIndex < 0 || columnIndex >= this._rowArr[rowIndex].length){

        throw new Error("this._rowArr column " + "(" + columnIndex + ") out of bounds: " + this._rowArr[rowIndex] + " (0.." + (this._rowArr[rowIndex].length - 1) + ")");
      };
      return this._rowArr[rowIndex][columnIndex];
    },
    setValue : function(columnIndex, rowIndex, value){

      if(columnIndex == this._treeColumn){

        return;
      };
      var node = this.getNodeFromRow(rowIndex);
      if(node.columnData[columnIndex] != value){

        node.columnData[columnIndex] = value;
        this.setData();
        if(this.hasListener("dataChanged")){

          var data = {
            firstRow : rowIndex,
            lastRow : rowIndex,
            firstColumn : columnIndex,
            lastColumn : columnIndex
          };
          this.fireDataEvent("dataChanged", data);
        };
      };
    },
    getNode : function(rowIndex){

      if(rowIndex < 0 || rowIndex >= this._rowArr.length){

        throw new Error("this._rowArr row " + "(" + rowIndex + ") out of bounds: " + this._rowArr + " (0.." + (this._rowArr.length - 1) + ")");
      };
      return this._rowArr[rowIndex][this._treeColumn];
    },
    addBranch : function(parentNodeId, label, bOpened, bHideOpenCloseButton, icon, iconSelected){

      return qx.ui.treevirtual.MTreePrimitive._addNode(this._nodeArr, parentNodeId, label, bOpened, bHideOpenCloseButton, qx.ui.treevirtual.MTreePrimitive.Type.BRANCH, icon, iconSelected);
    },
    addLeaf : function(parentNodeId, label, icon, iconSelected){

      return qx.ui.treevirtual.MTreePrimitive._addNode(this._nodeArr, parentNodeId, label, false, false, qx.ui.treevirtual.MTreePrimitive.Type.LEAF, icon, iconSelected);
    },
    prune : function(nodeReference, bSelfAlso){

      var node;
      var nodeId;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
        nodeId = node.nodeId;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
      } else {

        throw new Error("Expected node object or node id");
      };
      for(var i = this._nodeArr[nodeId].children.length - 1;i >= 0;i--){

        this.prune(this._nodeArr[nodeId].children[i], true);
      };
      if(bSelfAlso && nodeId != 0){

        node = this._nodeArr[nodeId];
        qx.lang.Array.remove(this._nodeArr[node.parentNodeId].children, nodeId);
        if(this._selections[nodeId]){

          delete this._selections[nodeId];
        };
        this._nodeArr[nodeId] = null;
      };
    },
    move : function(moveNodeReference, parentNodeReference){

      var moveNode;
      var moveNodeId;
      var parentNode;
      var parentNodeId;
      parentNodeReference = parentNodeReference || 0;
      if(typeof (moveNodeReference) == "object"){

        moveNode = moveNodeReference;
        moveNodeId = moveNode.nodeId;
      } else if(typeof (moveNodeReference) == "number"){

        moveNodeId = moveNodeReference;
        moveNode = this._nodeArr[moveNodeId];
      } else {

        throw new Error("Expected move node object or node id");
      };
      if(typeof (parentNodeReference) == "object"){

        parentNode = parentNodeReference;
        parentNodeId = parentNode.nodeId;
      } else if(typeof (parentNodeReference) == "number"){

        parentNodeId = parentNodeReference;
        parentNode = this._nodeArr[parentNodeId];
      } else {

        throw new Error("Expected parent node object or node id");
      };
      if(parentNode.type == qx.ui.treevirtual.MTreePrimitive.Type.LEAF){

        throw new Error("Sorry, a LEAF may not have children.");
      };
      var oldParent = this._nodeArr[moveNode.parentNodeId];
      qx.lang.Array.remove(oldParent.children, moveNodeId);
      parentNode.children.push(moveNodeId);
      this._nodeArr[moveNodeId].parentNodeId = parentNodeId;
    },
    __inorder : function(nodeId, level){

      var filter = this.getFilter();
      var child = null;
      var childNodeId;
      var numChildren = this._nodeArr[nodeId].children.length;
      var index = 0;
      var children = this.__tempTreeData[nodeId] = [];
      for(var i = 0;i < numChildren;i++){

        childNodeId = this._nodeArr[nodeId].children[i];
        child = this._nodeArr[childNodeId];
        if(child == null || (filter && !filter.call(this, child))){

          this.__recalculateLastChildFlags = true;
          continue;
        };
        children.push(child);
        child.level = level;
        child.bFirstChild = (index == 0);
        if(!this.__recalculateLastChildFlags){

          this.__setLastChildFlag(child, i == numChildren - 1);
        };
        if(!child.columnData){

          child.columnData = [];
        };
        if(child.columnData.length < this.getColumnCount()){

          child.columnData[this.getColumnCount() - 1] = null;
        };
        var rowData = [];
        if(child.columnData){

          for(var j = 0;j < child.columnData.length;j++){

            if(j == this._treeColumn){

              rowData.push(child);
            } else {

              rowData.push(child.columnData[j]);
            };
          };
        } else {

          rowData.push(child);
        };
        this._nodeRowMap[child.nodeId] = this._rowArr.length;
        this._rowArr.push(rowData);
        if(child.bSelected){

          rowData.selected = true;
          this._selections[child.nodeId] = true;
        };
        if(child.bOpened){

          this.__inorder(childNodeId, level + 1);
        };
        index++;
      };
    },
    __calculateLastChildFlags : function(nodeId){

      var tempTreeData = this.__tempTreeData;
      var children = tempTreeData[nodeId];
      var numChildren = children.length;
      for(var i = 0;i < numChildren;i++){

        var child = children[i];
        this.__setLastChildFlag(child, i == numChildren - 1);
        var hasChildren = tempTreeData[child.nodeId] && tempTreeData[child.nodeId].length > 0;
        if(hasChildren){

          this.__calculateLastChildFlags(child.nodeId);
        };
      };
    },
    __setLastChildFlag : function(node, isLastChild){

      node.lastChild = [isLastChild];
      var parent = this._nodeArr[node.parentNodeId];
      while(parent.nodeId){

        var bLast = parent.lastChild[parent.lastChild.length - 1];
        node.lastChild.unshift(bLast);
        parent = this._nodeArr[parent.parentNodeId];
      };
    },
    __render : function(){

      this.__tempTreeData = [];
      this.__recalculateLastChildFlags = false;
      this._rowArr = [];
      this._nodeRowMap = [];
      this._selections = {
      };
      this.__inorder(0, 1);
      if(this.__recalculateLastChildFlags){

        this.__calculateLastChildFlags(0);
      };
      this.__tempTreeData = null;
      if(this.hasListener("dataChanged")){

        var data = {
          firstRow : 0,
          lastRow : this._rowArr.length - 1,
          firstColumn : 0,
          lastColumn : this.getColumnCount() - 1
        };
        this.fireDataEvent("dataChanged", data);
      };
    },
    setData : function(nodeArr){

      if(nodeArr instanceof Array){

        this._nodeArr = nodeArr;
      } else if(nodeArr !== null && nodeArr !== undefined){

        throw new Error("Expected array of node objects or null/undefined; " + "got " + typeof (nodeArr));
      };
      this.__render();
      var selectionModel = this.getTree().getSelectionModel();
      var selections = this._selections;
      for(var nodeId in selections){

        var nRowIndex = this.getRowFromNodeId(nodeId);
        selectionModel.setSelectionInterval(nRowIndex, nRowIndex);
      };
    },
    getData : function(){

      return this._nodeArr;
    },
    clearData : function(){

      this._clearSelections();
      this.setData([qx.ui.treevirtual.MTreePrimitive._getEmptyTree()]);
    },
    setColumnData : function(nodeId, columnIndex, data){

      this._nodeArr[nodeId].columnData[columnIndex] = data;
    },
    getColumnData : function(nodeId, columnIndex){

      return this._nodeArr[nodeId].columnData[columnIndex];
    },
    setState : function(nodeReference, attributes){

      var node;
      var nodeId;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
        nodeId = node.nodeId;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
        node = this._nodeArr[nodeId];
      } else {

        throw new Error("Expected node object or node id");
      };
      for(var attribute in attributes){

        switch(attribute){case "bSelected":
        var nRowIndex = this.getRowFromNodeId(nodeId);
        var selectionModel = this.getTree().getSelectionModel();
        var TV = qx.ui.treevirtual.TreeVirtual;
        var bChangeSelection = (typeof (nRowIndex) === "number" && this.getTree().getSelectionMode() != TV.SelectionMode.NONE);
        if(attributes[attribute]){

          this._selections[nodeId] = true;
          if(bChangeSelection && !selectionModel.isSelectedIndex(nRowIndex)){

            selectionModel.setSelectionInterval(nRowIndex, nRowIndex);
          };
        } else {

          delete this._selections[nodeId];
          if(bChangeSelection && selectionModel.isSelectedIndex(nRowIndex)){

            selectionModel.removeSelectionInterval(nRowIndex, nRowIndex);
          };
        };
        break;case "bOpened":
        if(attributes[attribute] == node.bOpened){

          break;
        };
        var tree = this.__tree;
        if(node.bOpened){

          tree.fireDataEvent("treeClose", node);
        } else {

          if(node.children.length > 0){

            tree.fireDataEvent("treeOpenWithContent", node);
          } else {

            tree.fireDataEvent("treeOpenWhileEmpty", node);
          };
        };
        if(!node.bHideOpenClose){

          node.bOpened = !node.bOpened;
          tree.getSelectionModel()._resetSelection();
        };
        this.setData();
        break;default:
        break;};
        node[attribute] = attributes[attribute];
      };
    },
    getNodeRowMap : function(){

      return this._nodeRowMap;
    },
    getRowFromNodeId : function(nodeId){

      return this._nodeRowMap[nodeId];
    },
    getNodeFromRow : function(rowIndex){

      return this._nodeArr[this._rowArr[rowIndex][this._treeColumn].nodeId];
    },
    _clearSelections : function(){

      for(var selection in this._selections){

        this._nodeArr[selection].bSelected = false;
      };
      this._selections = {
      };
    },
    getSelectedNodes : function(){

      var nodes = [];
      for(var nodeId in this._selections){

        nodes.push(this._nodeArr[nodeId]);
      };
      return nodes;
    },
    _applyFilter : function(value, old){

      this.setData();
    }
  },
  destruct : function(){

    this._rowArr = this._nodeArr = this._nodeRowMap = this._selections = this.__tree = this.__tempTreeData = null;
  },
  defer : function(statics){

    statics.Type = qx.ui.treevirtual.MTreePrimitive.Type;
  }
});

qx.Class.define("qx.ui.table.selection.Model", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__selectedRangeArr = [];
    this.__anchorSelectionIndex = -1;
    this.__leadSelectionIndex = -1;
    this.hasBatchModeRefCount = 0;
    this.__hadChangeEventInBatchMode = false;
  },
  events : {
    "changeSelection" : "qx.event.type.Event"
  },
  statics : {
    NO_SELECTION : 1,
    SINGLE_SELECTION : 2,
    SINGLE_INTERVAL_SELECTION : 3,
    MULTIPLE_INTERVAL_SELECTION : 4,
    MULTIPLE_INTERVAL_SELECTION_TOGGLE : 5
  },
  properties : {
    selectionMode : {
      init : 2,
      check : [1, 2, 3, 4, 5],
      apply : "_applySelectionMode"
    }
  },
  members : {
    __hadChangeEventInBatchMode : null,
    __anchorSelectionIndex : null,
    __leadSelectionIndex : null,
    __selectedRangeArr : null,
    _applySelectionMode : function(selectionMode){

      this.resetSelection();
    },
    setBatchMode : function(batchMode){

      if(batchMode){

        this.hasBatchModeRefCount += 1;
      } else {

        if(this.hasBatchModeRefCount == 0){

          throw new Error("Try to turn off batch mode althoug it was not turned on.");
        };
        this.hasBatchModeRefCount -= 1;
        if(this.__hadChangeEventInBatchMode){

          this.__hadChangeEventInBatchMode = false;
          this._fireChangeSelection();
        };
      };
      return this.hasBatchMode();
    },
    hasBatchMode : function(){

      return this.hasBatchModeRefCount > 0;
    },
    getAnchorSelectionIndex : function(){

      return this.__anchorSelectionIndex;
    },
    _setAnchorSelectionIndex : function(index){

      this.__anchorSelectionIndex = index;
    },
    getLeadSelectionIndex : function(){

      return this.__leadSelectionIndex;
    },
    _setLeadSelectionIndex : function(index){

      this.__leadSelectionIndex = index;
    },
    _getSelectedRangeArr : function(){

      return this.__selectedRangeArr;
    },
    resetSelection : function(){

      if(!this.isSelectionEmpty()){

        this._resetSelection();
        this._fireChangeSelection();
      };
    },
    isSelectionEmpty : function(){

      return this.__selectedRangeArr.length == 0;
    },
    getSelectedCount : function(){

      var selectedCount = 0;
      for(var i = 0;i < this.__selectedRangeArr.length;i++){

        var range = this.__selectedRangeArr[i];
        selectedCount += range.maxIndex - range.minIndex + 1;
      };
      return selectedCount;
    },
    isSelectedIndex : function(index){

      for(var i = 0;i < this.__selectedRangeArr.length;i++){

        var range = this.__selectedRangeArr[i];
        if(index >= range.minIndex && index <= range.maxIndex){

          return true;
        };
      };
      return false;
    },
    getSelectedRanges : function(){

      var retVal = [];
      for(var i = 0;i < this.__selectedRangeArr.length;i++){

        retVal.push({
          minIndex : this.__selectedRangeArr[i].minIndex,
          maxIndex : this.__selectedRangeArr[i].maxIndex
        });
      };
      return retVal;
    },
    iterateSelection : function(iterator, object){

      for(var i = 0;i < this.__selectedRangeArr.length;i++){

        for(var j = this.__selectedRangeArr[i].minIndex;j <= this.__selectedRangeArr[i].maxIndex;j++){

          iterator.call(object, j);
        };
      };
    },
    setSelectionInterval : function(fromIndex, toIndex){

      var me = this.self(arguments);
      switch(this.getSelectionMode()){case me.NO_SELECTION:
      return;case me.SINGLE_SELECTION:
      if(this.isSelectedIndex(toIndex)){

        return;
      };
      fromIndex = toIndex;
      break;case me.MULTIPLE_INTERVAL_SELECTION_TOGGLE:
      this.setBatchMode(true);
      try{

        for(var i = fromIndex;i <= toIndex;i++){

          if(!this.isSelectedIndex(i)){

            this._addSelectionInterval(i, i);
          } else {

            this.removeSelectionInterval(i, i);
          };
        };
      } catch(e) {

        throw e;
      }finally{

        this.setBatchMode(false);
      };
      this._fireChangeSelection();
      return;};
      this._resetSelection();
      this._addSelectionInterval(fromIndex, toIndex);
      this._fireChangeSelection();
    },
    addSelectionInterval : function(fromIndex, toIndex){

      var SelectionModel = qx.ui.table.selection.Model;
      switch(this.getSelectionMode()){case SelectionModel.NO_SELECTION:
      return;case SelectionModel.MULTIPLE_INTERVAL_SELECTION:case SelectionModel.MULTIPLE_INTERVAL_SELECTION_TOGGLE:
      this._addSelectionInterval(fromIndex, toIndex);
      this._fireChangeSelection();
      break;default:
      this.setSelectionInterval(fromIndex, toIndex);
      break;};
    },
    removeSelectionInterval : function(fromIndex, toIndex){

      this.__anchorSelectionIndex = fromIndex;
      this.__leadSelectionIndex = toIndex;
      var minIndex = Math.min(fromIndex, toIndex);
      var maxIndex = Math.max(fromIndex, toIndex);
      for(var i = 0;i < this.__selectedRangeArr.length;i++){

        var range = this.__selectedRangeArr[i];
        if(range.minIndex > maxIndex){

          break;
        } else if(range.maxIndex >= minIndex){

          var minIsIn = (range.minIndex >= minIndex) && (range.minIndex <= maxIndex);
          var maxIsIn = (range.maxIndex >= minIndex) && (range.maxIndex <= maxIndex);
          if(minIsIn && maxIsIn){

            this.__selectedRangeArr.splice(i, 1);
            i--;
          } else if(minIsIn){

            range.minIndex = maxIndex + 1;
          } else if(maxIsIn){

            range.maxIndex = minIndex - 1;
          } else {

            var newRange = {
              minIndex : maxIndex + 1,
              maxIndex : range.maxIndex
            };
            this.__selectedRangeArr.splice(i + 1, 0, newRange);
            range.maxIndex = minIndex - 1;
            break;
          };;
        };
      };
      this._fireChangeSelection();
    },
    _resetSelection : function(){

      this.__selectedRangeArr = [];
      this.__anchorSelectionIndex = -1;
      this.__leadSelectionIndex = -1;
    },
    _addSelectionInterval : function(fromIndex, toIndex){

      this.__anchorSelectionIndex = fromIndex;
      this.__leadSelectionIndex = toIndex;
      var minIndex = Math.min(fromIndex, toIndex);
      var maxIndex = Math.max(fromIndex, toIndex);
      var newRangeIndex = 0;
      for(;newRangeIndex < this.__selectedRangeArr.length;newRangeIndex++){

        var range = this.__selectedRangeArr[newRangeIndex];
        if(range.minIndex > minIndex){

          break;
        };
      };
      this.__selectedRangeArr.splice(newRangeIndex, 0, {
        minIndex : minIndex,
        maxIndex : maxIndex
      });
      var lastRange = this.__selectedRangeArr[0];
      for(var i = 1;i < this.__selectedRangeArr.length;i++){

        var range = this.__selectedRangeArr[i];
        if(lastRange.maxIndex + 1 >= range.minIndex){

          lastRange.maxIndex = Math.max(lastRange.maxIndex, range.maxIndex);
          this.__selectedRangeArr.splice(i, 1);
          i--;
        } else {

          lastRange = range;
        };
      };
    },
    _dumpRanges : function(){

      var text = "Ranges:";
      for(var i = 0;i < this.__selectedRangeArr.length;i++){

        var range = this.__selectedRangeArr[i];
        text += " [" + range.minIndex + ".." + range.maxIndex + "]";
      };
      this.debug(text);
    },
    _fireChangeSelection : function(){

      if(this.hasBatchMode()){

        this.__hadChangeEventInBatchMode = true;
      } else {

        this.fireEvent("changeSelection");
      };
    }
  },
  destruct : function(){

    this.__selectedRangeArr = null;
  }
});

qx.Class.define("qx.ui.table.Table", {
  extend : qx.ui.core.Widget,
  include : qx.ui.core.MDragDropScrolling,
  construct : function(tableModel, custom){

    this.base(arguments);
    if(!custom){

      custom = {
      };
    };
    if(custom.initiallyHiddenColumns){

      this.setInitiallyHiddenColumns(custom.initiallyHiddenColumns);
    };
    if(custom.selectionManager){

      this.setNewSelectionManager(custom.selectionManager);
    };
    if(custom.selectionModel){

      this.setNewSelectionModel(custom.selectionModel);
    };
    if(custom.tableColumnModel){

      this.setNewTableColumnModel(custom.tableColumnModel);
    };
    if(custom.tablePane){

      this.setNewTablePane(custom.tablePane);
    };
    if(custom.tablePaneHeader){

      this.setNewTablePaneHeader(custom.tablePaneHeader);
    };
    if(custom.tablePaneScroller){

      this.setNewTablePaneScroller(custom.tablePaneScroller);
    };
    if(custom.tablePaneModel){

      this.setNewTablePaneModel(custom.tablePaneModel);
    };
    if(custom.columnMenu){

      this.setNewColumnMenu(custom.columnMenu);
    };
    this._setLayout(new qx.ui.layout.VBox());
    this.__scrollerParent = new qx.ui.container.Composite(new qx.ui.layout.HBox());
    this._add(this.__scrollerParent, {
      flex : 1
    });
    this.setDataRowRenderer(new qx.ui.table.rowrenderer.Default(this));
    this.__selectionManager = this.getNewSelectionManager()(this);
    this.setSelectionModel(this.getNewSelectionModel()(this));
    this.setTableModel(tableModel || this.getEmptyTableModel());
    this.setMetaColumnCounts([-1]);
    this.setTabIndex(1);
    this.addListener("keypress", this._onKeyPress);
    this.addListener("focus", this._onFocusChanged);
    this.addListener("blur", this._onFocusChanged);
    var spacer = new qx.ui.core.Widget().set({
      height : 0
    });
    this._add(spacer);
    spacer.addListener("resize", this._onResize, this);
    this.__focusedCol = null;
    this.__focusedRow = null;
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
    this.initStatusBarVisible();
    tableModel = this.getTableModel();
    if(tableModel.init && typeof (tableModel.init) == "function"){

      tableModel.init(this);
    };
  },
  events : {
    "columnVisibilityMenuCreateStart" : "qx.event.type.Data",
    "columnVisibilityMenuCreateEnd" : "qx.event.type.Data",
    "tableWidthChanged" : "qx.event.type.Event",
    "verticalScrollBarChanged" : "qx.event.type.Data",
    "cellTap" : "qx.ui.table.pane.CellEvent",
    "cellDbltap" : "qx.ui.table.pane.CellEvent",
    "cellContextmenu" : "qx.ui.table.pane.CellEvent",
    "dataEdited" : "qx.event.type.Data"
  },
  statics : {
    __redirectEvents : {
      cellTap : 1,
      cellDbltap : 1,
      cellContextmenu : 1
    }
  },
  properties : {
    appearance : {
      refine : true,
      init : "table"
    },
    focusable : {
      refine : true,
      init : true
    },
    minWidth : {
      refine : true,
      init : 50
    },
    initiallyHiddenColumns : {
      init : null
    },
    selectable : {
      refine : true,
      init : false
    },
    selectionModel : {
      check : "qx.ui.table.selection.Model",
      apply : "_applySelectionModel",
      event : "changeSelectionModel"
    },
    tableModel : {
      check : "qx.ui.table.ITableModel",
      apply : "_applyTableModel",
      event : "changeTableModel"
    },
    rowHeight : {
      check : "Number",
      init : 20,
      apply : "_applyRowHeight",
      event : "changeRowHeight",
      themeable : true
    },
    forceLineHeight : {
      check : "Boolean",
      init : true
    },
    headerCellsVisible : {
      check : "Boolean",
      init : true,
      apply : "_applyHeaderCellsVisible",
      themeable : true
    },
    headerCellHeight : {
      check : "Integer",
      init : 16,
      apply : "_applyHeaderCellHeight",
      event : "changeHeaderCellHeight",
      nullable : true,
      themeable : true
    },
    statusBarVisible : {
      check : "Boolean",
      init : true,
      apply : "_applyStatusBarVisible"
    },
    additionalStatusBarText : {
      nullable : true,
      init : null,
      apply : "_applyAdditionalStatusBarText"
    },
    columnVisibilityButtonVisible : {
      check : "Boolean",
      init : true,
      apply : "_applyColumnVisibilityButtonVisible",
      themeable : true
    },
    metaColumnCounts : {
      check : "Object",
      apply : "_applyMetaColumnCounts"
    },
    focusCellOnPointerMove : {
      check : "Boolean",
      init : false,
      apply : "_applyFocusCellOnPointerMove"
    },
    rowFocusChangeModifiesSelection : {
      check : "Boolean",
      init : true
    },
    showCellFocusIndicator : {
      check : "Boolean",
      init : true,
      apply : "_applyShowCellFocusIndicator"
    },
    contextMenuFromDataCellsOnly : {
      check : "Boolean",
      init : true,
      apply : "_applyContextMenuFromDataCellsOnly"
    },
    keepFirstVisibleRowComplete : {
      check : "Boolean",
      init : true,
      apply : "_applyKeepFirstVisibleRowComplete"
    },
    alwaysUpdateCells : {
      check : "Boolean",
      init : false
    },
    resetSelectionOnHeaderTap : {
      check : "Boolean",
      init : true,
      apply : "_applyResetSelectionOnHeaderTap"
    },
    dataRowRenderer : {
      check : "qx.ui.table.IRowRenderer",
      init : null,
      nullable : true,
      event : "changeDataRowRenderer"
    },
    modalCellEditorPreOpenFunction : {
      check : "Function",
      init : null,
      nullable : true
    },
    newColumnMenu : {
      check : "Function",
      init : function(){

        return new qx.ui.table.columnmenu.Button();
      }
    },
    newSelectionManager : {
      check : "Function",
      init : function(obj){

        return new qx.ui.table.selection.Manager(obj);
      }
    },
    newSelectionModel : {
      check : "Function",
      init : function(obj){

        return new qx.ui.table.selection.Model(obj);
      }
    },
    newTableColumnModel : {
      check : "Function",
      init : function(table){

        return new qx.ui.table.columnmodel.Basic(table);
      }
    },
    newTablePane : {
      check : "Function",
      init : function(obj){

        return new qx.ui.table.pane.Pane(obj);
      }
    },
    newTablePaneHeader : {
      check : "Function",
      init : function(obj){

        return new qx.ui.table.pane.Header(obj);
      }
    },
    newTablePaneScroller : {
      check : "Function",
      init : function(obj){

        return new qx.ui.table.pane.Scroller(obj);
      }
    },
    newTablePaneModel : {
      check : "Function",
      init : function(columnModel){

        return new qx.ui.table.pane.Model(columnModel);
      }
    }
  },
  members : {
    __focusedCol : null,
    __focusedRow : null,
    __scrollerParent : null,
    __selectionManager : null,
    __additionalStatusBarText : null,
    __lastRowCount : null,
    __internalChange : null,
    __columnMenuButtons : null,
    __columnModel : null,
    __emptyTableModel : null,
    __hadVerticalScrollBar : null,
    __timer : null,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "statusbar":
      control = new qx.ui.basic.Label();
      control.set({
        allowGrowX : true
      });
      this._add(control);
      break;case "column-button":
      control = this.getNewColumnMenu()();
      control.set({
        focusable : false
      });
      var menu = control.factory("menu", {
        table : this
      });
      menu.addListener("appear", this._initColumnMenu, this);
      break;};
      return control || this.base(arguments, id);
    },
    _applySelectionModel : function(value, old){

      this.__selectionManager.setSelectionModel(value);
      if(old != null){

        old.removeListener("changeSelection", this._onSelectionChanged, this);
      };
      value.addListener("changeSelection", this._onSelectionChanged, this);
    },
    _applyRowHeight : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].updateVerScrollBarMaximum();
      };
    },
    _applyHeaderCellsVisible : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        if(value){

          scrollerArr[i]._showChildControl("header");
        } else {

          scrollerArr[i]._excludeChildControl("header");
        };
      };
      if(this.getColumnVisibilityButtonVisible()){

        this._applyColumnVisibilityButtonVisible(value);
      };
    },
    _applyHeaderCellHeight : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].getHeader().setHeight(value);
      };
    },
    getEmptyTableModel : function(){

      if(!this.__emptyTableModel){

        this.__emptyTableModel = new qx.ui.table.model.Simple();
        this.__emptyTableModel.setColumns([]);
        this.__emptyTableModel.setData([]);
      };
      return this.__emptyTableModel;
    },
    _applyTableModel : function(value, old){

      this.getTableColumnModel().init(value.getColumnCount(), this);
      if(old != null){

        old.removeListener("metaDataChanged", this._onTableModelMetaDataChanged, this);
        old.removeListener("dataChanged", this._onTableModelDataChanged, this);
      };
      value.addListener("metaDataChanged", this._onTableModelMetaDataChanged, this);
      value.addListener("dataChanged", this._onTableModelDataChanged, this);
      this._updateStatusBar();
      this._updateTableData(0, value.getRowCount(), 0, value.getColumnCount());
      this._onTableModelMetaDataChanged();
      if(old && value.init && typeof (value.init) == "function"){

        value.init(this);
      };
    },
    getTableColumnModel : function(){

      if(!this.__columnModel){

        var columnModel = this.__columnModel = this.getNewTableColumnModel()(this);
        columnModel.addListener("visibilityChanged", this._onColVisibilityChanged, this);
        columnModel.addListener("widthChanged", this._onColWidthChanged, this);
        columnModel.addListener("orderChanged", this._onColOrderChanged, this);
        var tableModel = this.getTableModel();
        columnModel.init(tableModel.getColumnCount(), this);
        var scrollerArr = this._getPaneScrollerArr();
        for(var i = 0;i < scrollerArr.length;i++){

          var paneScroller = scrollerArr[i];
          var paneModel = paneScroller.getTablePaneModel();
          paneModel.setTableColumnModel(columnModel);
        };
      };
      return this.__columnModel;
    },
    _applyStatusBarVisible : function(value, old){

      if(value){

        this._showChildControl("statusbar");
      } else {

        this._excludeChildControl("statusbar");
      };
      if(value){

        this._updateStatusBar();
      };
    },
    _applyAdditionalStatusBarText : function(value, old){

      this.__additionalStatusBarText = value;
      this._updateStatusBar();
    },
    _applyColumnVisibilityButtonVisible : function(value, old){

      if(value){

        this._showChildControl("column-button");
      } else {

        this._excludeChildControl("column-button");
      };
    },
    _applyMetaColumnCounts : function(value, old){

      var metaColumnCounts = value;
      var scrollerArr = this._getPaneScrollerArr();
      var handlers = {
      };
      if(value > old){

        var manager = qx.event.Registration.getManager(scrollerArr[0]);
        for(var evName in qx.ui.table.Table.__redirectEvents){

          handlers[evName] = {
          };
          handlers[evName].capture = manager.getListeners(scrollerArr[0], evName, true);
          handlers[evName].bubble = manager.getListeners(scrollerArr[0], evName, false);
        };
      };
      this._cleanUpMetaColumns(metaColumnCounts.length);
      var leftX = 0;
      for(var i = 0;i < scrollerArr.length;i++){

        var paneScroller = scrollerArr[i];
        var paneModel = paneScroller.getTablePaneModel();
        paneModel.setFirstColumnX(leftX);
        paneModel.setMaxColumnCount(metaColumnCounts[i]);
        leftX += metaColumnCounts[i];
      };
      if(metaColumnCounts.length > scrollerArr.length){

        var columnModel = this.getTableColumnModel();
        for(var i = scrollerArr.length;i < metaColumnCounts.length;i++){

          var paneModel = this.getNewTablePaneModel()(columnModel);
          paneModel.setFirstColumnX(leftX);
          paneModel.setMaxColumnCount(metaColumnCounts[i]);
          leftX += metaColumnCounts[i];
          var paneScroller = this.getNewTablePaneScroller()(this);
          paneScroller.setTablePaneModel(paneModel);
          paneScroller.addListener("changeScrollY", this._onScrollY, this);
          for(evName in qx.ui.table.Table.__redirectEvents){

            if(!handlers[evName]){

              break;
            };
            if(handlers[evName].capture && handlers[evName].capture.length > 0){

              var capture = handlers[evName].capture;
              for(var j = 0;j < capture.length;j++){

                var context = capture[j].context;
                if(!context){

                  context = this;
                } else if(context == scrollerArr[0]){

                  context = paneScroller;
                };
                paneScroller.addListener(evName, capture[j].handler, context, true);
              };
            };
            if(handlers[evName].bubble && handlers[evName].bubble.length > 0){

              var bubble = handlers[evName].bubble;
              for(var j = 0;j < bubble.length;j++){

                var context = bubble[j].context;
                if(!context){

                  context = this;
                } else if(context == scrollerArr[0]){

                  context = paneScroller;
                };
                paneScroller.addListener(evName, bubble[j].handler, context, false);
              };
            };
          };
          var flex = (i == metaColumnCounts.length - 1) ? 1 : 0;
          this.__scrollerParent.add(paneScroller, {
            flex : flex
          });
          scrollerArr = this._getPaneScrollerArr();
        };
      };
      for(var i = 0;i < scrollerArr.length;i++){

        var paneScroller = scrollerArr[i];
        var isLast = (i == (scrollerArr.length - 1));
        paneScroller.getHeader().setHeight(this.getHeaderCellHeight());
        paneScroller.setTopRightWidget(isLast ? this.getChildControl("column-button") : null);
      };
      if(!this.isColumnVisibilityButtonVisible()){

        this._excludeChildControl("column-button");
      };
      this._updateScrollerWidths();
      this._updateScrollBarVisibility();
    },
    _applyFocusCellOnPointerMove : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].setFocusCellOnPointerMove(value);
      };
    },
    _applyShowCellFocusIndicator : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].setShowCellFocusIndicator(value);
      };
    },
    _applyContextMenuFromDataCellsOnly : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].setContextMenuFromDataCellsOnly(value);
      };
    },
    _applyKeepFirstVisibleRowComplete : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onKeepFirstVisibleRowCompleteChanged();
      };
    },
    _applyResetSelectionOnHeaderTap : function(value, old){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].setResetSelectionOnHeaderTap(value);
      };
    },
    getSelectionManager : function(){

      return this.__selectionManager;
    },
    _getPaneScrollerArr : function(){

      return this.__scrollerParent.getChildren();
    },
    getPaneScroller : function(metaColumn){

      return this._getPaneScrollerArr()[metaColumn];
    },
    _cleanUpMetaColumns : function(fromMetaColumn){

      var scrollerArr = this._getPaneScrollerArr();
      if(scrollerArr != null){

        for(var i = scrollerArr.length - 1;i >= fromMetaColumn;i--){

          scrollerArr[i].destroy();
        };
      };
    },
    _onChangeLocale : function(evt){

      this.updateContent();
      this._updateStatusBar();
    },
    _onChangeTheme : function(){

      this.base(arguments);
      this.getDataRowRenderer().initThemeValues();
      this.updateContent();
      this._updateStatusBar();
    },
    _onSelectionChanged : function(evt){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onSelectionChanged();
      };
      this._updateStatusBar();
    },
    _onTableModelMetaDataChanged : function(evt){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onTableModelMetaDataChanged();
      };
      this._updateStatusBar();
    },
    _onTableModelDataChanged : function(evt){

      var data = evt.getData();
      this._updateTableData(data.firstRow, data.lastRow, data.firstColumn, data.lastColumn, data.removeStart, data.removeCount);
    },
    _updateTableData : function(firstRow, lastRow, firstColumn, lastColumn, removeStart, removeCount){

      var scrollerArr = this._getPaneScrollerArr();
      if(removeCount){

        this.getSelectionModel().removeSelectionInterval(removeStart, removeStart + removeCount);
        if(this.__focusedRow >= removeStart && this.__focusedRow < (removeStart + removeCount)){

          this.setFocusedCell();
        };
      };
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onTableModelDataChanged(firstRow, lastRow, firstColumn, lastColumn);
      };
      var rowCount = this.getTableModel().getRowCount();
      if(rowCount != this.__lastRowCount){

        this.__lastRowCount = rowCount;
        this._updateScrollBarVisibility();
        this._updateStatusBar();
      };
    },
    _onScrollY : function(evt){

      if(!this.__internalChange){

        this.__internalChange = true;
        var scrollerArr = this._getPaneScrollerArr();
        for(var i = 0;i < scrollerArr.length;i++){

          scrollerArr[i].setScrollY(evt.getData());
        };
        this.__internalChange = false;
      };
    },
    _onKeyPress : function(evt){

      if(!this.getEnabled()){

        return;
      };
      var oldFocusedRow = this.__focusedRow;
      var consumed = true;
      var identifier = evt.getKeyIdentifier();
      if(this.isEditing()){

        if(evt.getModifiers() == 0){

          switch(identifier){case "Enter":
          this.stopEditing();
          var oldFocusedRow = this.__focusedRow;
          this.moveFocusedCell(0, 1);
          if(this.__focusedRow != oldFocusedRow){

            consumed = this.startEditing();
          };
          break;case "Escape":
          this.cancelEditing();
          this.focus();
          break;default:
          consumed = false;
          break;};
        };
      } else {

        if(evt.isCtrlPressed()){

          consumed = true;
          switch(identifier){case "A":
          var rowCount = this.getTableModel().getRowCount();
          if(rowCount > 0){

            this.getSelectionModel().setSelectionInterval(0, rowCount - 1);
          };
          break;default:
          consumed = false;
          break;};
        } else {

          switch(identifier){case "Space":
          this.__selectionManager.handleSelectKeyDown(this.__focusedRow, evt);
          break;case "F2":case "Enter":
          this.startEditing();
          consumed = true;
          break;case "Home":
          this.setFocusedCell(this.__focusedCol, 0, true);
          break;case "End":
          var rowCount = this.getTableModel().getRowCount();
          this.setFocusedCell(this.__focusedCol, rowCount - 1, true);
          break;case "Left":
          this.moveFocusedCell(-1, 0);
          break;case "Right":
          this.moveFocusedCell(1, 0);
          break;case "Up":
          this.moveFocusedCell(0, -1);
          break;case "Down":
          this.moveFocusedCell(0, 1);
          break;case "PageUp":case "PageDown":
          var scroller = this.getPaneScroller(0);
          var pane = scroller.getTablePane();
          var rowHeight = this.getRowHeight();
          var direction = (identifier == "PageUp") ? -1 : 1;
          rowCount = pane.getVisibleRowCount() - 1;
          scroller.setScrollY(scroller.getScrollY() + direction * rowCount * rowHeight);
          this.moveFocusedCell(0, direction * rowCount);
          break;default:
          consumed = false;};
        };
      };
      if(oldFocusedRow != this.__focusedRow && this.getRowFocusChangeModifiesSelection()){

        this.__selectionManager.handleMoveKeyDown(this.__focusedRow, evt);
      };
      if(consumed){

        evt.preventDefault();
        evt.stopPropagation();
      };
    },
    _onFocusChanged : function(evt){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onFocusChanged();
      };
    },
    _onColVisibilityChanged : function(evt){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onColVisibilityChanged();
      };
      var data = evt.getData();
      if(this.__columnMenuButtons != null && data.col != null && data.visible != null){

        this.__columnMenuButtons[data.col].setVisible(data.visible);
      };
      this._updateScrollerWidths();
      this._updateScrollBarVisibility();
    },
    _onColWidthChanged : function(evt){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        var data = evt.getData();
        scrollerArr[i].setColumnWidth(data.col, data.newWidth);
      };
      this._updateScrollerWidths();
      this._updateScrollBarVisibility();
    },
    _onColOrderChanged : function(evt){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onColOrderChanged();
      };
      this._updateScrollerWidths();
      this._updateScrollBarVisibility();
    },
    getTablePaneScrollerAtPageX : function(pageX){

      var metaCol = this._getMetaColumnAtPageX(pageX);
      return (metaCol != -1) ? this.getPaneScroller(metaCol) : null;
    },
    setFocusedCell : function(col, row, scrollVisible){

      if(!this.isEditing() && (col != this.__focusedCol || row != this.__focusedRow)){

        if(col === null){

          col = 0;
        };
        this.__focusedCol = col;
        this.__focusedRow = row;
        var scrollerArr = this._getPaneScrollerArr();
        for(var i = 0;i < scrollerArr.length;i++){

          scrollerArr[i].setFocusedCell(col, row);
        };
        if(col != null && scrollVisible){

          this.scrollCellVisible(col, row);
        };
      };
    },
    resetSelection : function(){

      this.getSelectionModel().resetSelection();
    },
    resetCellFocus : function(){

      this.setFocusedCell(null, null, false);
    },
    getFocusedColumn : function(){

      return this.__focusedCol;
    },
    getFocusedRow : function(){

      return this.__focusedRow;
    },
    highlightFocusedRow : function(bHighlight){

      this.getDataRowRenderer().setHighlightFocusRow(bHighlight);
    },
    clearFocusedRowHighlight : function(evt){

      if(evt){

        var relatedTarget = evt.getRelatedTarget();
        if(relatedTarget instanceof qx.ui.table.pane.Pane || relatedTarget instanceof qx.ui.table.pane.FocusIndicator){

          return;
        };
      };
      this.resetCellFocus();
      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].onFocusChanged();
      };
    },
    moveFocusedCell : function(deltaX, deltaY){

      var col = this.__focusedCol;
      var row = this.__focusedRow;
      if(col == null || row == null){

        return;
      };
      if(deltaX != 0){

        var columnModel = this.getTableColumnModel();
        var x = columnModel.getVisibleX(col);
        var colCount = columnModel.getVisibleColumnCount();
        x = qx.lang.Number.limit(x + deltaX, 0, colCount - 1);
        col = columnModel.getVisibleColumnAtX(x);
      };
      if(deltaY != 0){

        var tableModel = this.getTableModel();
        row = qx.lang.Number.limit(row + deltaY, 0, tableModel.getRowCount() - 1);
      };
      this.setFocusedCell(col, row, true);
    },
    scrollCellVisible : function(col, row){

      var elem = this.getContentElement().getDomElement();
      if(!elem){

        this.addListenerOnce("appear", function(){

          this.scrollCellVisible(col, row);
        }, this);
      };
      var columnModel = this.getTableColumnModel();
      var x = columnModel.getVisibleX(col);
      var metaColumn = this._getMetaColumnAtColumnX(x);
      if(metaColumn != -1){

        this.getPaneScroller(metaColumn).scrollCellVisible(col, row);
      };
    },
    isEditing : function(){

      if(this.__focusedCol != null){

        var x = this.getTableColumnModel().getVisibleX(this.__focusedCol);
        var metaColumn = this._getMetaColumnAtColumnX(x);
        return this.getPaneScroller(metaColumn).isEditing();
      };
      return false;
    },
    startEditing : function(){

      if(this.__focusedCol != null){

        var x = this.getTableColumnModel().getVisibleX(this.__focusedCol);
        var metaColumn = this._getMetaColumnAtColumnX(x);
        var started = this.getPaneScroller(metaColumn).startEditing();
        return started;
      };
      return false;
    },
    stopEditing : function(){

      if(this.__focusedCol != null){

        var x = this.getTableColumnModel().getVisibleX(this.__focusedCol);
        var metaColumn = this._getMetaColumnAtColumnX(x);
        this.getPaneScroller(metaColumn).stopEditing();
      };
    },
    cancelEditing : function(){

      if(this.__focusedCol != null){

        var x = this.getTableColumnModel().getVisibleX(this.__focusedCol);
        var metaColumn = this._getMetaColumnAtColumnX(x);
        this.getPaneScroller(metaColumn).cancelEditing();
      };
    },
    updateContent : function(){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].getTablePane().updateContent(true);
      };
    },
    blockHeaderElements : function(){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].getHeader().getBlocker().blockContent(20);
      };
      this.getChildControl("column-button").getBlocker().blockContent(20);
    },
    unblockHeaderElements : function(){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        scrollerArr[i].getHeader().getBlocker().unblock();
      };
      this.getChildControl("column-button").getBlocker().unblock();
    },
    _getMetaColumnAtPageX : function(pageX){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        var pos = scrollerArr[i].getContentLocation();
        if(pageX >= pos.left && pageX <= pos.right){

          return i;
        };
      };
      return -1;
    },
    _getMetaColumnAtColumnX : function(visXPos){

      var metaColumnCounts = this.getMetaColumnCounts();
      var rightXPos = 0;
      for(var i = 0;i < metaColumnCounts.length;i++){

        var counts = metaColumnCounts[i];
        rightXPos += counts;
        if(counts == -1 || visXPos < rightXPos){

          return i;
        };
      };
      return -1;
    },
    _updateStatusBar : function(){

      var tableModel = this.getTableModel();
      if(this.getStatusBarVisible()){

        var selectedRowCount = this.getSelectionModel().getSelectedCount();
        var rowCount = tableModel.getRowCount();
        var text;
        if(rowCount >= 0){

          if(selectedRowCount == 0){

            text = this.trn("one row", "%1 rows", rowCount, rowCount);
          } else {

            text = this.trn("one of one row", "%1 of %2 rows", rowCount, selectedRowCount, rowCount);
          };
        };
        if(this.__additionalStatusBarText){

          if(text){

            text += this.__additionalStatusBarText;
          } else {

            text = this.__additionalStatusBarText;
          };
        };
        if(text){

          this.getChildControl("statusbar").setValue(text);
        };
      };
    },
    _updateScrollerWidths : function(){

      var scrollerArr = this._getPaneScrollerArr();
      for(var i = 0;i < scrollerArr.length;i++){

        var isLast = (i == (scrollerArr.length - 1));
        var width = scrollerArr[i].getTablePaneModel().getTotalWidth();
        scrollerArr[i].setPaneWidth(width);
        var flex = isLast ? 1 : 0;
        scrollerArr[i].setLayoutProperties({
          flex : flex
        });
      };
    },
    _updateScrollBarVisibility : function(){

      if(!this.getBounds()){

        return;
      };
      var horBar = qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;
      var verBar = qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;
      var scrollerArr = this._getPaneScrollerArr();
      var horNeeded = false;
      var verNeeded = false;
      for(var i = 0;i < scrollerArr.length;i++){

        var isLast = (i == (scrollerArr.length - 1));
        var bars = scrollerArr[i].getNeededScrollBars(horNeeded, !isLast);
        if(bars & horBar){

          horNeeded = true;
        };
        if(isLast && (bars & verBar)){

          verNeeded = true;
        };
      };
      for(var i = 0;i < scrollerArr.length;i++){

        var isLast = (i == (scrollerArr.length - 1));
        scrollerArr[i].setHorizontalScrollBarVisible(horNeeded);
        if(isLast){

          if(this.__hadVerticalScrollBar == null){

            this.__hadVerticalScrollBar = scrollerArr[i].getVerticalScrollBarVisible();
            this.__timer = qx.event.Timer.once(function(){

              this.__hadVerticalScrollBar = null;
              this.__timer = null;
            }, this, 0);
          };
        };
        scrollerArr[i].setVerticalScrollBarVisible(isLast && verNeeded);
        if(isLast && verNeeded != this.__hadVerticalScrollBar){

          this.fireDataEvent("verticalScrollBarChanged", verNeeded);
        };
      };
    },
    _initColumnMenu : function(){

      var tableModel = this.getTableModel();
      var columnModel = this.getTableColumnModel();
      var columnButton = this.getChildControl("column-button");
      columnButton.empty();
      var menu = columnButton.getMenu();
      var data = {
        table : this,
        menu : menu,
        columnButton : columnButton
      };
      this.fireDataEvent("columnVisibilityMenuCreateStart", data);
      this.__columnMenuButtons = {
      };
      for(var col = 0,l = tableModel.getColumnCount();col < l;col++){

        var menuButton = columnButton.factory("menu-button", {
          text : tableModel.getColumnName(col),
          column : col,
          bVisible : columnModel.isColumnVisible(col)
        });
        qx.core.Assert.assertInterface(menuButton, qx.ui.table.IColumnMenuItem);
        menuButton.addListener("changeVisible", this._createColumnVisibilityCheckBoxHandler(col), this);
        this.__columnMenuButtons[col] = menuButton;
      };
      data = {
        table : this,
        menu : menu,
        columnButton : columnButton
      };
      this.fireDataEvent("columnVisibilityMenuCreateEnd", data);
    },
    _createColumnVisibilityCheckBoxHandler : function(col){

      return function(evt){

        var columnModel = this.getTableColumnModel();
        columnModel.setColumnVisible(col, evt.getData());
      };
    },
    setColumnWidth : function(col, width){

      this.getTableColumnModel().setColumnWidth(col, width);
    },
    _onResize : function(){

      this.fireEvent("tableWidthChanged");
      this._updateScrollerWidths();
      this._updateScrollBarVisibility();
    },
    addListener : function(type, listener, self, capture){

      if(this.self(arguments).__redirectEvents[type]){

        var id = [type];
        for(var i = 0,arr = this._getPaneScrollerArr();i < arr.length;i++){

          id.push(arr[i].addListener.apply(arr[i], arguments));
        };
        return id.join('"');
      } else {

        return this.base(arguments, type, listener, self, capture);
      };
    },
    removeListener : function(type, listener, self, capture){

      if(this.self(arguments).__redirectEvents[type]){

        for(var i = 0,arr = this._getPaneScrollerArr();i < arr.length;i++){

          arr[i].removeListener.apply(arr[i], arguments);
        };
      } else {

        this.base(arguments, type, listener, self, capture);
      };
    },
    removeListenerById : function(id){

      var ids = id.split('"');
      var type = ids.shift();
      if(this.self(arguments).__redirectEvents[type]){

        var removed = true;
        for(var i = 0,arr = this._getPaneScrollerArr();i < arr.length;i++){

          removed = arr[i].removeListenerById.call(arr[i], ids[i]) && removed;
        };
        return removed;
      } else {

        return this.base(arguments, id);
      };
    },
    destroy : function(){

      this.getChildControl("column-button").getMenu().destroy();
      this.base(arguments);
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
    var selectionModel = this.getSelectionModel();
    if(selectionModel){

      selectionModel.dispose();
    };
    var dataRowRenderer = this.getDataRowRenderer();
    if(dataRowRenderer){

      dataRowRenderer.dispose();
    };
    this._cleanUpMetaColumns(0);
    this.getTableColumnModel().dispose();
    this._disposeObjects("__selectionManager", "__scrollerParent", "__emptyTableModel", "__emptyTableModel", "__columnModel", "__timer");
    this._disposeMap("__columnMenuButtons");
  }
});

qx.Interface.define("qx.ui.table.IRowRenderer", {
  members : {
    updateDataRowElement : function(rowInfo, rowElement){
    },
    getRowHeightStyle : function(height){
    },
    createRowStyle : function(rowInfo){
    },
    getRowClass : function(rowInfo){
    }
  }
});

qx.Class.define("qx.ui.table.rowrenderer.Default", {
  extend : qx.core.Object,
  implement : qx.ui.table.IRowRenderer,
  construct : function(){

    this.base(arguments);
    this.initThemeValues();
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Color.getInstance().addListener("changeTheme", this.initThemeValues, this);
      qx.theme.manager.Font.getInstance().addListener("changeTheme", this.initThemeValues, this);
    };
  },
  properties : {
    highlightFocusRow : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    _colors : null,
    __fontStyle : null,
    __fontStyleString : null,
    initThemeValues : function(){

      this.__fontStyleString = "";
      this.__fontStyle = {
      };
      this._colors = {
      };
      this._renderFont(qx.theme.manager.Font.getInstance().resolve("default"));
      var colorMgr = qx.theme.manager.Color.getInstance();
      this._colors.bgcolFocusedSelected = colorMgr.resolve("table-row-background-focused-selected");
      this._colors.bgcolFocused = colorMgr.resolve("table-row-background-focused");
      this._colors.bgcolSelected = colorMgr.resolve("table-row-background-selected");
      this._colors.bgcolEven = colorMgr.resolve("table-row-background-even");
      this._colors.bgcolOdd = colorMgr.resolve("table-row-background-odd");
      this._colors.colSelected = colorMgr.resolve("table-row-selected");
      this._colors.colNormal = colorMgr.resolve("table-row");
      this._colors.horLine = colorMgr.resolve("table-row-line");
    },
    _insetY : 1,
    _renderFont : function(font){

      if(font){

        this.__fontStyle = font.getStyles();
        this.__fontStyleString = qx.bom.element.Style.compile(this.__fontStyle);
        this.__fontStyleString = this.__fontStyleString.replace(/"/g, "'");
      } else {

        this.__fontStyleString = "";
        this.__fontStyle = qx.bom.Font.getDefaultStyles();
      };
    },
    updateDataRowElement : function(rowInfo, rowElem){

      var fontStyle = this.__fontStyle;
      var style = rowElem.style;
      qx.bom.element.Style.setStyles(rowElem, fontStyle);
      if(rowInfo.focusedRow && this.getHighlightFocusRow()){

        style.backgroundColor = rowInfo.selected ? this._colors.bgcolFocusedSelected : this._colors.bgcolFocused;
      } else {

        if(rowInfo.selected){

          style.backgroundColor = this._colors.bgcolSelected;
        } else {

          style.backgroundColor = (rowInfo.row % 2 == 0) ? this._colors.bgcolEven : this._colors.bgcolOdd;
        };
      };
      style.color = rowInfo.selected ? this._colors.colSelected : this._colors.colNormal;
      style.borderBottom = "1px solid " + this._colors.horLine;
    },
    getRowHeightStyle : function(height){

      if(qx.core.Environment.get("css.boxmodel") == "content"){

        height -= this._insetY;
      };
      return "height:" + height + "px;";
    },
    createRowStyle : function(rowInfo){

      var rowStyle = [];
      rowStyle.push(";");
      rowStyle.push(this.__fontStyleString);
      rowStyle.push("background-color:");
      if(rowInfo.focusedRow && this.getHighlightFocusRow()){

        rowStyle.push(rowInfo.selected ? this._colors.bgcolFocusedSelected : this._colors.bgcolFocused);
      } else {

        if(rowInfo.selected){

          rowStyle.push(this._colors.bgcolSelected);
        } else {

          rowStyle.push((rowInfo.row % 2 == 0) ? this._colors.bgcolEven : this._colors.bgcolOdd);
        };
      };
      rowStyle.push(';color:');
      rowStyle.push(rowInfo.selected ? this._colors.colSelected : this._colors.colNormal);
      rowStyle.push(';border-bottom: 1px solid ', this._colors.horLine);
      return rowStyle.join("");
    },
    getRowClass : function(rowInfo){

      return "";
    },
    getRowAttributes : function(rowInfo){

      return "";
    }
  },
  destruct : function(){

    this._colors = this.__fontStyle = this.__fontStyleString = null;
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Color.getInstance().removeListener("changeTheme", this.initThemeValues, this);
      qx.theme.manager.Font.getInstance().removeListener("changeTheme", this.initThemeValues, this);
    };
  }
});

qx.Interface.define("qx.ui.table.IColumnMenuButton", {
  properties : {
    menu : {
    }
  },
  members : {
    factory : function(item, options){

      return true;
    },
    empty : function(){

      return true;
    }
  }
});

qx.Class.define("qx.ui.table.columnmenu.Button", {
  extend : qx.ui.form.MenuButton,
  implement : qx.ui.table.IColumnMenuButton,
  construct : function(){

    this.base(arguments);
    this.__blocker = new qx.ui.core.Blocker(this);
  },
  members : {
    __columnMenuButtons : null,
    __blocker : null,
    factory : function(item, options){

      switch(item){case "menu":
      var menu = new qx.ui.menu.Menu();
      this.setMenu(menu);
      return menu;case "menu-button":
      var menuButton = new qx.ui.table.columnmenu.MenuItem(options.text);
      menuButton.setVisible(options.bVisible);
      this.getMenu().add(menuButton);
      return menuButton;case "user-button":
      var button = new qx.ui.menu.Button(options.text);
      button.set({
        appearance : "table-column-reset-button"
      });
      return button;case "separator":
      return new qx.ui.menu.Separator();default:
      throw new Error("Unrecognized factory request: " + item);};
    },
    getBlocker : function(){

      return this.__blocker;
    },
    empty : function(){

      var menu = this.getMenu();
      var entries = menu.getChildren();
      for(var i = 0,l = entries.length;i < l;i++){

        entries[0].destroy();
      };
    }
  },
  destruct : function(){

    this.__blocker.dispose();
  }
});

qx.Interface.define("qx.ui.table.IColumnMenuItem", {
  properties : {
    visible : {
    }
  },
  events : {
    changeVisible : "qx.event.type.Data"
  }
});

qx.Interface.define("qx.ui.form.IBooleanForm", {
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    setValue : function(value){

      return arguments.length == 1;
    },
    resetValue : function(){
    },
    getValue : function(){
    }
  }
});

qx.Class.define("qx.ui.menu.CheckBox", {
  extend : qx.ui.menu.AbstractButton,
  implement : [qx.ui.form.IBooleanForm],
  construct : function(label, menu){

    this.base(arguments);
    if(label != null){

      if(label.translate){

        this.setLabel(label.translate());
      } else {

        this.setLabel(label);
      };
    };
    if(menu != null){

      this.setMenu(menu);
    };
    this.addListener("execute", this._onExecute, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "menu-checkbox"
    },
    value : {
      check : "Boolean",
      init : false,
      apply : "_applyValue",
      event : "changeValue",
      nullable : true
    }
  },
  members : {
    _bindableProperties : ["enabled", "label", "toolTipText", "value", "menu"],
    _applyValue : function(value, old){

      value ? this.addState("checked") : this.removeState("checked");
    },
    _onExecute : function(e){

      this.toggleValue();
    },
    _onTap : function(e){

      if(e.isLeftPressed()){

        this.execute();
      } else {

        if(this.getContextMenu()){

          return;
        };
      };
      qx.ui.menu.Manager.getInstance().hideAll();
    },
    _onKeyPress : function(e){

      this.execute();
    }
  }
});

qx.Class.define("qx.ui.table.columnmenu.MenuItem", {
  extend : qx.ui.menu.CheckBox,
  implement : qx.ui.table.IColumnMenuItem,
  properties : {
    visible : {
      check : "Boolean",
      init : true,
      apply : "_applyVisible",
      event : "changeVisible"
    }
  },
  construct : function(text){

    this.base(arguments, text);
    this.addListener("changeValue", function(e){

      this.bInListener = true;
      this.setVisible(e.getData());
      this.bInListener = false;
    });
  },
  members : {
    __bInListener : false,
    _applyVisible : function(value, old){

      if(!this.bInListener){

        this.setValue(value);
      };
    }
  }
});

qx.Class.define("qx.ui.table.pane.Pane", {
  extend : qx.ui.core.Widget,
  construct : function(paneScroller){

    this.base(arguments);
    this.__paneScroller = paneScroller;
    this.__lastColCount = 0;
    this.__lastRowCount = 0;
    this.__rowCache = [];
    this.addListener("track", this._onTrack, this);
  },
  events : {
    "paneReloadsData" : "qx.event.type.Data",
    "paneUpdated" : "qx.event.type.Event"
  },
  properties : {
    firstVisibleRow : {
      check : "Number",
      init : 0,
      apply : "_applyFirstVisibleRow"
    },
    visibleRowCount : {
      check : "Number",
      init : 0,
      apply : "_applyVisibleRowCount"
    },
    maxCacheLines : {
      check : "Number",
      init : 1000,
      apply : "_applyMaxCacheLines"
    },
    allowShrinkX : {
      refine : true,
      init : false
    }
  },
  members : {
    __lastRowCount : null,
    __lastColCount : null,
    __paneScroller : null,
    __tableContainer : null,
    __focusedRow : null,
    __focusedCol : null,
    __rowCache : null,
    __rowCacheCount : 0,
    _applyFirstVisibleRow : function(value, old){

      this.updateContent(false, value - old);
    },
    _applyVisibleRowCount : function(value, old){

      this.updateContent(true);
    },
    _getContentHint : function(){

      return {
        width : this.getPaneScroller().getTablePaneModel().getTotalWidth(),
        height : 400
      };
    },
    getPaneScroller : function(){

      return this.__paneScroller;
    },
    getTable : function(){

      return this.__paneScroller.getTable();
    },
    setFocusedCell : function(col, row, massUpdate){

      if(col != this.__focusedCol || row != this.__focusedRow){

        var oldRow = this.__focusedRow;
        this.__focusedCol = col;
        this.__focusedRow = row;
        if(row != oldRow && !massUpdate){

          if(oldRow !== null){

            this.updateContent(false, null, oldRow, true);
          };
          if(row !== null){

            this.updateContent(false, null, row, true);
          };
        };
      };
    },
    _onTrack : function(e){

      if(!this.getTable().getDraggable()){

        return;
      };
      var delta = e.getDelta();
      var distance = qx.event.handler.DragDrop.MIN_DRAG_DISTANCE;
      if(Math.abs(delta.x) > distance || Math.abs(delta.y) > distance){

        var gestureHandler = qx.event.Registration.getManager(window).getHandler(qx.event.handler.Gesture);
        gestureHandler.updateGestureTarget(e.getPointerId(), this.getContentElement().getDomElement());
      };
    },
    onSelectionChanged : function(){

      this.updateContent(false, null, null, true);
    },
    onFocusChanged : function(){

      this.updateContent(false, null, null, true);
    },
    setColumnWidth : function(col, width){

      this.updateContent(true);
    },
    onColOrderChanged : function(){

      this.updateContent(true);
    },
    onPaneModelChanged : function(){

      this.updateContent(true);
    },
    onTableModelDataChanged : function(firstRow, lastRow, firstColumn, lastColumn){

      this.__rowCacheClear();
      var paneFirstRow = this.getFirstVisibleRow();
      var rowCount = this.getVisibleRowCount();
      if(lastRow == -1 || lastRow >= paneFirstRow && firstRow < paneFirstRow + rowCount){

        this.updateContent();
      };
    },
    onTableModelMetaDataChanged : function(){

      this.updateContent(true);
    },
    _applyMaxCacheLines : function(value, old){

      if(this.__rowCacheCount >= value && value !== -1){

        this.__rowCacheClear();
      };
    },
    __rowCacheClear : function(){

      this.__rowCache = [];
      this.__rowCacheCount = 0;
    },
    __rowCacheGet : function(row, selected, focused){

      if(!selected && !focused && this.__rowCache[row]){

        return this.__rowCache[row];
      } else {

        return null;
      };
    },
    __rowCacheSet : function(row, rowString, selected, focused){

      var maxCacheLines = this.getMaxCacheLines();
      if(!selected && !focused && !this.__rowCache[row] && maxCacheLines > 0){

        this._applyMaxCacheLines(maxCacheLines);
        this.__rowCache[row] = rowString;
        this.__rowCacheCount += 1;
      };
    },
    updateContent : function(completeUpdate, scrollOffset, onlyRow, onlySelectionOrFocusChanged){

      if(completeUpdate){

        this.__rowCacheClear();
      };
      if(scrollOffset && Math.abs(scrollOffset) <= Math.min(10, this.getVisibleRowCount())){

        this._scrollContent(scrollOffset);
      } else if(onlySelectionOrFocusChanged && !this.getTable().getAlwaysUpdateCells()){

        this._updateRowStyles(onlyRow);
      } else {

        this._updateAllRows();
      };
    },
    _updateRowStyles : function(onlyRow){

      var elem = this.getContentElement().getDomElement();
      if(!elem || !elem.firstChild){

        this._updateAllRows();
        return;
      };
      var table = this.getTable();
      var selectionModel = table.getSelectionModel();
      var tableModel = table.getTableModel();
      var rowRenderer = table.getDataRowRenderer();
      var rowNodes = elem.firstChild.childNodes;
      var cellInfo = {
        table : table
      };
      var row = this.getFirstVisibleRow();
      var y = 0;
      var end = rowNodes.length;
      if(onlyRow != null){

        var offset = onlyRow - row;
        if(offset >= 0 && offset < end){

          row = onlyRow;
          y = offset;
          end = offset + 1;
        } else {

          return;
        };
      };
      for(;y < end;y++,row++){

        cellInfo.row = row;
        cellInfo.selected = selectionModel.isSelectedIndex(row);
        cellInfo.focusedRow = (this.__focusedRow == row);
        cellInfo.rowData = tableModel.getRowData(row);
        rowRenderer.updateDataRowElement(cellInfo, rowNodes[y]);
      };
    },
    _getRowsHtml : function(firstRow, rowCount){

      var table = this.getTable();
      var selectionModel = table.getSelectionModel();
      var tableModel = table.getTableModel();
      var columnModel = table.getTableColumnModel();
      var paneModel = this.getPaneScroller().getTablePaneModel();
      var rowRenderer = table.getDataRowRenderer();
      tableModel.prefetchRows(firstRow, firstRow + rowCount - 1);
      var rowHeight = table.getRowHeight();
      var colCount = paneModel.getColumnCount();
      var left = 0;
      var cols = [];
      for(var x = 0;x < colCount;x++){

        var col = paneModel.getColumnAtX(x);
        var cellWidth = columnModel.getColumnWidth(col);
        cols.push({
          col : col,
          xPos : x,
          editable : tableModel.isColumnEditable(col),
          focusedCol : this.__focusedCol == col,
          styleLeft : left,
          styleWidth : cellWidth
        });
        left += cellWidth;
      };
      var rowsArr = [];
      var paneReloadsData = false;
      for(var row = firstRow;row < firstRow + rowCount;row++){

        var selected = selectionModel.isSelectedIndex(row);
        var focusedRow = (this.__focusedRow == row);
        var cachedRow = this.__rowCacheGet(row, selected, focusedRow);
        if(cachedRow){

          rowsArr.push(cachedRow);
          continue;
        };
        var rowHtml = [];
        var cellInfo = {
          table : table
        };
        cellInfo.styleHeight = rowHeight;
        cellInfo.row = row;
        cellInfo.selected = selected;
        cellInfo.focusedRow = focusedRow;
        cellInfo.rowData = tableModel.getRowData(row);
        if(!cellInfo.rowData){

          paneReloadsData = true;
        };
        rowHtml.push('<div ');
        var rowAttributes = rowRenderer.getRowAttributes(cellInfo);
        if(rowAttributes){

          rowHtml.push(rowAttributes);
        };
        var rowClass = rowRenderer.getRowClass(cellInfo);
        if(rowClass){

          rowHtml.push('class="', rowClass, '" ');
        };
        var rowStyle = rowRenderer.createRowStyle(cellInfo);
        rowStyle += ";position:relative;" + rowRenderer.getRowHeightStyle(rowHeight) + "width:100%;";
        if(rowStyle){

          rowHtml.push('style="', rowStyle, '" ');
        };
        rowHtml.push('>');
        var stopLoop = false;
        for(x = 0;x < colCount && !stopLoop;x++){

          var col_def = cols[x];
          for(var attr in col_def){

            cellInfo[attr] = col_def[attr];
          };
          var col = cellInfo.col;
          cellInfo.value = tableModel.getValue(col, row);
          var cellRenderer = columnModel.getDataCellRenderer(col);
          cellInfo.style = cellRenderer.getDefaultCellStyle();
          stopLoop = cellRenderer.createDataCellHtml(cellInfo, rowHtml) || false;
        };
        rowHtml.push('</div>');
        var rowString = rowHtml.join("");
        this.__rowCacheSet(row, rowString, selected, focusedRow);
        rowsArr.push(rowString);
      };
      this.fireDataEvent("paneReloadsData", paneReloadsData);
      return rowsArr.join("");
    },
    _scrollContent : function(rowOffset){

      var el = this.getContentElement().getDomElement();
      if(!(el && el.firstChild)){

        this._updateAllRows();
        return;
      };
      var tableBody = el.firstChild;
      var tableChildNodes = tableBody.childNodes;
      var rowCount = this.getVisibleRowCount();
      var firstRow = this.getFirstVisibleRow();
      var tabelModel = this.getTable().getTableModel();
      var modelRowCount = 0;
      modelRowCount = tabelModel.getRowCount();
      if(firstRow + rowCount > modelRowCount){

        this._updateAllRows();
        return;
      };
      var removeRowBase = rowOffset < 0 ? rowCount + rowOffset : 0;
      var addRowBase = rowOffset < 0 ? 0 : rowCount - rowOffset;
      for(var i = Math.abs(rowOffset) - 1;i >= 0;i--){

        var rowElem = tableChildNodes[removeRowBase];
        try{

          tableBody.removeChild(rowElem);
        } catch(exp) {

          break;
        };
      };
      if(!this.__tableContainer){

        this.__tableContainer = document.createElement("div");
      };
      var tableDummy = '<div>';
      tableDummy += this._getRowsHtml(firstRow + addRowBase, Math.abs(rowOffset));
      tableDummy += '</div>';
      this.__tableContainer.innerHTML = tableDummy;
      var newTableRows = this.__tableContainer.firstChild.childNodes;
      if(rowOffset > 0){

        for(var i = newTableRows.length - 1;i >= 0;i--){

          var rowElem = newTableRows[0];
          tableBody.appendChild(rowElem);
        };
      } else {

        for(var i = newTableRows.length - 1;i >= 0;i--){

          var rowElem = newTableRows[newTableRows.length - 1];
          tableBody.insertBefore(rowElem, tableBody.firstChild);
        };
      };
      if(this.__focusedRow !== null){

        this._updateRowStyles(this.__focusedRow - rowOffset);
        this._updateRowStyles(this.__focusedRow);
      };
      this.fireEvent("paneUpdated");
    },
    _updateAllRows : function(){

      var elem = this.getContentElement().getDomElement();
      if(!elem){

        this.addListenerOnce("appear", arguments.callee, this);
        return;
      };
      var table = this.getTable();
      var tableModel = table.getTableModel();
      var paneModel = this.getPaneScroller().getTablePaneModel();
      var colCount = paneModel.getColumnCount();
      var rowHeight = table.getRowHeight();
      var firstRow = this.getFirstVisibleRow();
      var rowCount = this.getVisibleRowCount();
      var modelRowCount = tableModel.getRowCount();
      if(firstRow + rowCount > modelRowCount){

        rowCount = Math.max(0, modelRowCount - firstRow);
      };
      var rowWidth = paneModel.getTotalWidth();
      var htmlArr;
      if(rowCount > 0){

        htmlArr = ["<div style='", "width: 100%;", (table.getForceLineHeight() ? "line-height: " + rowHeight + "px;" : ""), "overflow: hidden;", "'>", this._getRowsHtml(firstRow, rowCount), "</div>"];
      } else {

        htmlArr = [];
      };
      var data = htmlArr.join("");
      elem.innerHTML = data;
      this.setWidth(rowWidth);
      this.__lastColCount = colCount;
      this.__lastRowCount = rowCount;
      this.fireEvent("paneUpdated");
    }
  },
  destruct : function(){

    this.__tableContainer = this.__paneScroller = this.__rowCache = null;
    this.removeListener("track", this._onTrack, this);
  }
});

qx.Class.define("qx.ui.table.pane.Header", {
  extend : qx.ui.core.Widget,
  construct : function(paneScroller){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.HBox());
    this.__blocker = new qx.ui.core.Blocker(this);
    this.__paneScroller = paneScroller;
  },
  members : {
    __paneScroller : null,
    __moveFeedback : null,
    __lastPointerOverColumn : null,
    __blocker : null,
    getPaneScroller : function(){

      return this.__paneScroller;
    },
    getTable : function(){

      return this.__paneScroller.getTable();
    },
    getBlocker : function(){

      return this.__blocker;
    },
    onColOrderChanged : function(){

      this._updateContent(true);
    },
    onPaneModelChanged : function(){

      this._updateContent(true);
    },
    onTableModelMetaDataChanged : function(){

      this._updateContent();
    },
    setColumnWidth : function(col, width, isPointerAction){

      var child = this.getHeaderWidgetAtColumn(col);
      if(child != null){

        child.setWidth(width);
      };
    },
    setPointerOverColumn : function(col){

      if(col != this.__lastPointerOverColumn){

        if(this.__lastPointerOverColumn != null){

          var widget = this.getHeaderWidgetAtColumn(this.__lastPointerOverColumn);
          if(widget != null){

            widget.removeState("hovered");
          };
        };
        if(col != null){

          this.getHeaderWidgetAtColumn(col).addState("hovered");
        };
        this.__lastPointerOverColumn = col;
      };
    },
    getHeaderWidgetAtColumn : function(col){

      var xPos = this.getPaneScroller().getTablePaneModel().getX(col);
      return this._getChildren()[xPos];
    },
    showColumnMoveFeedback : function(col, x){

      var pos = this.getContentLocation();
      if(this.__moveFeedback == null){

        var table = this.getTable();
        var xPos = this.getPaneScroller().getTablePaneModel().getX(col);
        var cellWidget = this._getChildren()[xPos];
        var tableModel = table.getTableModel();
        var columnModel = table.getTableColumnModel();
        var cellInfo = {
          xPos : xPos,
          col : col,
          name : tableModel.getColumnName(col),
          table : table
        };
        var cellRenderer = columnModel.getHeaderCellRenderer(col);
        var feedback = cellRenderer.createHeaderCell(cellInfo);
        var size = cellWidget.getBounds();
        feedback.setWidth(size.width);
        feedback.setHeight(size.height);
        feedback.setZIndex(1000000);
        feedback.setOpacity(0.8);
        feedback.setLayoutProperties({
          top : pos.top
        });
        this.getApplicationRoot().add(feedback);
        this.__moveFeedback = feedback;
      };
      this.__moveFeedback.setLayoutProperties({
        left : pos.left + x
      });
      this.__moveFeedback.show();
    },
    hideColumnMoveFeedback : function(){

      if(this.__moveFeedback != null){

        this.__moveFeedback.destroy();
        this.__moveFeedback = null;
      };
    },
    isShowingColumnMoveFeedback : function(){

      return this.__moveFeedback != null;
    },
    _updateContent : function(completeUpdate){

      var table = this.getTable();
      var tableModel = table.getTableModel();
      var columnModel = table.getTableColumnModel();
      var paneModel = this.getPaneScroller().getTablePaneModel();
      var children = this._getChildren();
      var colCount = paneModel.getColumnCount();
      var sortedColumn = tableModel.getSortColumnIndex();
      if(completeUpdate){

        this._cleanUpCells();
      };
      var cellInfo = {
      };
      cellInfo.sortedAscending = tableModel.isSortAscending();
      for(var x = 0;x < colCount;x++){

        var col = paneModel.getColumnAtX(x);
        if(col === undefined){

          continue;
        };
        var colWidth = columnModel.getColumnWidth(col);
        var cellRenderer = columnModel.getHeaderCellRenderer(col);
        cellInfo.xPos = x;
        cellInfo.col = col;
        cellInfo.name = tableModel.getColumnName(col);
        cellInfo.editable = tableModel.isColumnEditable(col);
        cellInfo.sorted = (col == sortedColumn);
        cellInfo.table = table;
        var cachedWidget = children[x];
        if(cachedWidget == null){

          cachedWidget = cellRenderer.createHeaderCell(cellInfo);
          cachedWidget.set({
            width : colWidth
          });
          this._add(cachedWidget);
        } else {

          cellRenderer.updateHeaderCell(cellInfo, cachedWidget);
        };
        if(x === 0){

          cachedWidget.addState("first");
          cachedWidget.removeState("last");
        } else if(x === colCount - 1){

          cachedWidget.removeState("first");
          cachedWidget.addState("last");
        } else {

          cachedWidget.removeState("first");
          cachedWidget.removeState("last");
        };
      };
    },
    _cleanUpCells : function(){

      var children = this._getChildren();
      for(var x = children.length - 1;x >= 0;x--){

        var cellWidget = children[x];
        cellWidget.destroy();
      };
    }
  },
  destruct : function(){

    this.__blocker.dispose();
    this._disposeObjects("__paneScroller");
  }
});

qx.Class.define("qx.ui.table.pane.Scroller", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.scroll.MScrollBarFactory],
  construct : function(table){

    this.base(arguments);
    this.__table = table;
    var grid = new qx.ui.layout.Grid();
    grid.setColumnFlex(0, 1);
    grid.setRowFlex(1, 1);
    this._setLayout(grid);
    this.__header = this._showChildControl("header");
    this.__tablePane = this._showChildControl("pane");
    this.__top = new qx.ui.container.Composite(new qx.ui.layout.HBox()).set({
      minWidth : 0
    });
    this._add(this.__top, {
      row : 0,
      column : 0,
      colSpan : 2
    });
    this._headerClipper = this._createHeaderClipper();
    this._headerClipper.add(this.__header);
    this._headerClipper.addListener("losecapture", this._onChangeCaptureHeader, this);
    this._headerClipper.addListener("pointermove", this._onPointermoveHeader, this);
    this._headerClipper.addListener("pointerdown", this._onPointerdownHeader, this);
    this._headerClipper.addListener("pointerup", this._onPointerupHeader, this);
    this._headerClipper.addListener("tap", this._onTapHeader, this);
    this.__top.add(this._headerClipper, {
      flex : 1
    });
    this._paneClipper = this._createPaneClipper();
    this._paneClipper.add(this.__tablePane);
    this._paneClipper.addListener("roll", this._onRoll, this);
    this._paneClipper.addListener("pointermove", this._onPointermovePane, this);
    this._paneClipper.addListener("pointerdown", this._onPointerdownPane, this);
    this._paneClipper.addListener("tap", this._onTapPane, this);
    this._paneClipper.addListener("contextmenu", this._onContextMenu, this);
    this._paneClipper.addListener("dbltap", this._onDbltapPane, this);
    this._paneClipper.addListener("resize", this._onResizePane, this);
    if(qx.core.Environment.get("os.scrollBarOverlayed")){

      this.__clipperContainer = new qx.ui.container.Composite();
      this.__clipperContainer.setLayout(new qx.ui.layout.Canvas());
      this.__clipperContainer.add(this._paneClipper, {
        edge : 0
      });
      this._add(this.__clipperContainer, {
        row : 1,
        column : 0
      });
    } else {

      this._add(this._paneClipper, {
        row : 1,
        column : 0
      });
    };
    this.__horScrollBar = this._showChildControl("scrollbar-x");
    this.__verScrollBar = this._showChildControl("scrollbar-y");
    this.__focusIndicator = this.getChildControl("focus-indicator");
    this.initShowCellFocusIndicator();
    this.getChildControl("resize-line").hide();
    this.addListener("pointerout", this._onPointerout, this);
    this.addListener("appear", this._onAppear, this);
    this.addListener("disappear", this._onDisappear, this);
    this.__timer = new qx.event.Timer();
    this.__timer.addListener("interval", this._oninterval, this);
    this.initScrollTimeout();
  },
  statics : {
    MIN_COLUMN_WIDTH : 10,
    RESIZE_REGION_RADIUS : 5,
    TAP_TOLERANCE : 5,
    HORIZONTAL_SCROLLBAR : 1,
    VERTICAL_SCROLLBAR : 2
  },
  events : {
    "changeScrollY" : "qx.event.type.Data",
    "changeScrollX" : "qx.event.type.Data",
    "cellTap" : "qx.ui.table.pane.CellEvent",
    "cellDbltap" : "qx.ui.table.pane.CellEvent",
    "cellContextmenu" : "qx.ui.table.pane.CellEvent",
    "beforeSort" : "qx.event.type.Data"
  },
  properties : {
    horizontalScrollBarVisible : {
      check : "Boolean",
      init : false,
      apply : "_applyHorizontalScrollBarVisible",
      event : "changeHorizontalScrollBarVisible"
    },
    verticalScrollBarVisible : {
      check : "Boolean",
      init : false,
      apply : "_applyVerticalScrollBarVisible",
      event : "changeVerticalScrollBarVisible"
    },
    tablePaneModel : {
      check : "qx.ui.table.pane.Model",
      apply : "_applyTablePaneModel",
      event : "changeTablePaneModel"
    },
    liveResize : {
      check : "Boolean",
      init : false
    },
    focusCellOnPointerMove : {
      check : "Boolean",
      init : false
    },
    selectBeforeFocus : {
      check : "Boolean",
      init : false
    },
    showCellFocusIndicator : {
      check : "Boolean",
      init : true,
      apply : "_applyShowCellFocusIndicator"
    },
    contextMenuFromDataCellsOnly : {
      check : "Boolean",
      init : true
    },
    resetSelectionOnHeaderTap : {
      check : "Boolean",
      init : true
    },
    scrollTimeout : {
      check : "Integer",
      init : 100,
      apply : "_applyScrollTimeout"
    },
    appearance : {
      refine : true,
      init : "table-scroller"
    }
  },
  members : {
    __lastRowCount : null,
    __table : null,
    __updateInterval : null,
    __updateContentPlanned : null,
    __onintervalWrapper : null,
    _moveColumn : null,
    __lastMoveColPos : null,
    _lastMoveTargetX : null,
    _lastMoveTargetScroller : null,
    __lastMovePointerPageX : null,
    __resizeColumn : null,
    __lastResizePointerPageX : null,
    __lastResizeWidth : null,
    __lastPointerDownCell : null,
    __firedTapEvent : false,
    __ignoreTap : null,
    __lastPointerPageX : null,
    __lastPointerPageY : null,
    __focusedCol : null,
    __focusedRow : null,
    __cellEditor : null,
    __cellEditorFactory : null,
    __topRightWidget : null,
    __horScrollBar : null,
    __verScrollBar : null,
    __header : null,
    _headerClipper : null,
    __tablePane : null,
    _paneClipper : null,
    __clipperContainer : null,
    __focusIndicator : null,
    __top : null,
    __timer : null,
    getPaneInsetRight : function(){

      var topRight = this.getTopRightWidget();
      var topRightWidth = topRight && topRight.isVisible() && topRight.getBounds() ? topRight.getBounds().width + topRight.getMarginLeft() + topRight.getMarginRight() : 0;
      var scrollBar = this.__verScrollBar;
      var scrollBarWidth = this.getVerticalScrollBarVisible() ? this.getVerticalScrollBarWidth() + scrollBar.getMarginLeft() + scrollBar.getMarginRight() : 0;
      return Math.max(topRightWidth, scrollBarWidth);
    },
    setPaneWidth : function(width){

      if(this.isVerticalScrollBarVisible()){

        width += this.getPaneInsetRight();
      };
      this.setWidth(width);
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "header":
      control = (this.getTable().getNewTablePaneHeader())(this);
      break;case "pane":
      control = (this.getTable().getNewTablePane())(this);
      break;case "focus-indicator":
      control = new qx.ui.table.pane.FocusIndicator(this);
      control.setUserBounds(0, 0, 0, 0);
      control.setZIndex(1000);
      control.addListener("pointerup", this._onPointerupFocusIndicator, this);
      this._paneClipper.add(control);
      control.show();
      control.setDecorator(null);
      break;case "resize-line":
      control = new qx.ui.core.Widget();
      control.setUserBounds(0, 0, 0, 0);
      control.setZIndex(1000);
      this._paneClipper.add(control);
      break;case "scrollbar-x":
      control = this._createScrollBar("horizontal").set({
        alignY : "bottom"
      });
      control.addListener("scroll", this._onScrollX, this);
      if(this.__clipperContainer != null){

        control.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);
        this.__clipperContainer.add(control, {
          bottom : 0,
          right : 0,
          left : 0
        });
      } else {

        this._add(control, {
          row : 2,
          column : 0
        });
      };
      break;case "scrollbar-y":
      control = this._createScrollBar("vertical");
      control.addListener("scroll", this._onScrollY, this);
      if(this.__clipperContainer != null){

        this.__clipperContainer.add(control, {
          right : 0,
          bottom : 0,
          top : 0
        });
      } else {

        this._add(control, {
          row : 1,
          column : 1
        });
      };
      break;};
      return control || this.base(arguments, id);
    },
    _applyHorizontalScrollBarVisible : function(value, old){

      this.__horScrollBar.setVisibility(value ? "visible" : "excluded");
    },
    _applyVerticalScrollBarVisible : function(value, old){

      this.__verScrollBar.setVisibility(value ? "visible" : "excluded");
    },
    _applyTablePaneModel : function(value, old){

      if(old != null){

        old.removeListener("modelChanged", this._onPaneModelChanged, this);
      };
      value.addListener("modelChanged", this._onPaneModelChanged, this);
    },
    _applyShowCellFocusIndicator : function(value, old){

      if(value){

        this.__focusIndicator.setDecorator("table-scroller-focus-indicator");
        this._updateFocusIndicator();
      } else {

        if(this.__focusIndicator){

          this.__focusIndicator.setDecorator(null);
        };
      };
    },
    getScrollY : function(){

      return this.__verScrollBar.getPosition();
    },
    setScrollY : function(scrollY, renderSync){

      this.__verScrollBar.scrollTo(scrollY);
      if(renderSync){

        this._updateContent();
      };
    },
    getScrollX : function(){

      return this.__horScrollBar.getPosition();
    },
    setScrollX : function(scrollX){

      this.__horScrollBar.scrollTo(scrollX);
    },
    getTable : function(){

      return this.__table;
    },
    _createPaneClipper : function(){

      return new qx.ui.table.pane.Clipper();
    },
    _createHeaderClipper : function(){

      return new qx.ui.table.pane.Clipper();
    },
    onColVisibilityChanged : function(){

      this.updateHorScrollBarMaximum();
      this._updateFocusIndicator();
    },
    setColumnWidth : function(col, width){

      this.__header.setColumnWidth(col, width);
      this.__tablePane.setColumnWidth(col, width);
      var paneModel = this.getTablePaneModel();
      var x = paneModel.getX(col);
      if(x != -1){

        this.updateHorScrollBarMaximum();
        this._updateFocusIndicator();
      };
    },
    onColOrderChanged : function(){

      this.__header.onColOrderChanged();
      this.__tablePane.onColOrderChanged();
      this.updateHorScrollBarMaximum();
    },
    onTableModelDataChanged : function(firstRow, lastRow, firstColumn, lastColumn){

      this.__tablePane.onTableModelDataChanged(firstRow, lastRow, firstColumn, lastColumn);
      var rowCount = this.getTable().getTableModel().getRowCount();
      if(rowCount != this.__lastRowCount){

        this.updateVerScrollBarMaximum();
        if(this.getFocusedRow() >= rowCount){

          if(rowCount == 0){

            this.setFocusedCell(null, null);
          } else {

            this.setFocusedCell(this.getFocusedColumn(), rowCount - 1);
          };
        };
        this.__lastRowCount = rowCount;
      };
    },
    onSelectionChanged : function(){

      this.__tablePane.onSelectionChanged();
    },
    onFocusChanged : function(){

      this.__tablePane.onFocusChanged();
    },
    onTableModelMetaDataChanged : function(){

      this.__header.onTableModelMetaDataChanged();
      this.__tablePane.onTableModelMetaDataChanged();
    },
    _onPaneModelChanged : function(){

      this.__header.onPaneModelChanged();
      this.__tablePane.onPaneModelChanged();
    },
    _onResizePane : function(){

      this.updateHorScrollBarMaximum();
      this.updateVerScrollBarMaximum();
      this._updateContent();
      this.__header._updateContent();
      this.__table._updateScrollBarVisibility();
    },
    updateHorScrollBarMaximum : function(){

      var paneSize = this._paneClipper.getInnerSize();
      if(!paneSize){

        return;
      };
      var scrollSize = this.getTablePaneModel().getTotalWidth();
      var scrollBar = this.__horScrollBar;
      if(paneSize.width < scrollSize){

        var max = Math.max(0, scrollSize - paneSize.width);
        scrollBar.setMaximum(max);
        scrollBar.setKnobFactor(paneSize.width / scrollSize);
        var pos = scrollBar.getPosition();
        scrollBar.setPosition(Math.min(pos, max));
      } else {

        scrollBar.setMaximum(0);
        scrollBar.setKnobFactor(1);
        scrollBar.setPosition(0);
      };
    },
    updateVerScrollBarMaximum : function(){

      var paneSize = this._paneClipper.getInnerSize();
      if(!paneSize){

        return;
      };
      var tableModel = this.getTable().getTableModel();
      var rowCount = tableModel.getRowCount();
      if(this.getTable().getKeepFirstVisibleRowComplete()){

        rowCount += 1;
      };
      var rowHeight = this.getTable().getRowHeight();
      var scrollSize = rowCount * rowHeight;
      var scrollBar = this.__verScrollBar;
      if(paneSize.height < scrollSize){

        var max = Math.max(0, scrollSize - paneSize.height);
        scrollBar.setMaximum(max);
        scrollBar.setKnobFactor(paneSize.height / scrollSize);
        var pos = scrollBar.getPosition();
        scrollBar.setPosition(Math.min(pos, max));
      } else {

        scrollBar.setMaximum(0);
        scrollBar.setKnobFactor(1);
        scrollBar.setPosition(0);
      };
    },
    onKeepFirstVisibleRowCompleteChanged : function(){

      this.updateVerScrollBarMaximum();
      this._updateContent();
    },
    _onAppear : function(){

      this._startInterval(this.getScrollTimeout());
    },
    _onDisappear : function(){

      this._stopInterval();
    },
    _onScrollX : function(e){

      var scrollLeft = e.getData();
      this.fireDataEvent("changeScrollX", scrollLeft, e.getOldData());
      this._headerClipper.scrollToX(scrollLeft);
      this._paneClipper.scrollToX(scrollLeft);
    },
    _onScrollY : function(e){

      this.fireDataEvent("changeScrollY", e.getData(), e.getOldData());
      this._postponedUpdateContent();
    },
    _onRoll : function(e){

      var table = this.getTable();
      if(e.getPointerType() == "mouse" || !table.getEnabled()){

        return;
      };
      var delta = e.getDelta();
      if(delta.y > 0 && delta.y < 1){

        delta.y = 1;
      } else if(delta.y < 0 && delta.y > -1){

        delta.y = -1;
      };
      this.__verScrollBar.scrollBy(parseInt(delta.y, 10));
      var scrolled = delta.y != 0 && !this.__isAtEdge(this.__verScrollBar, delta.y);
      if(delta.x > 0 && delta.x < 1){

        delta.x = 1;
      } else if(delta.x < 0 && delta.x > -1){

        delta.x = -1;
      };
      this.__horScrollBar.scrollBy(parseInt(delta.x, 10));
      if(this.__lastPointerPageX && this.getFocusCellOnPointerMove()){

        this._focusCellAtPagePos(this.__lastPointerPageX, this.__lastPointerPageY);
      };
      scrolled = scrolled || (delta.x != 0 && !this.__isAtEdge(this.__horScrollBar, delta.x));
      if(scrolled){

        e.stop();
      } else {

        e.stopMomentum();
      };
    },
    __isAtEdge : function(scrollBar, delta){

      var position = scrollBar.getPosition();
      return (delta < 0 && position <= 0) || (delta > 0 && position >= scrollBar.getMaximum());
    },
    __handleResizeColumn : function(pageX){

      var table = this.getTable();
      var headerCell = this.__header.getHeaderWidgetAtColumn(this.__resizeColumn);
      var minColumnWidth = headerCell.getSizeHint().minWidth;
      var newWidth = Math.max(minColumnWidth, this.__lastResizeWidth + pageX - this.__lastResizePointerPageX);
      if(this.getLiveResize()){

        var columnModel = table.getTableColumnModel();
        columnModel.setColumnWidth(this.__resizeColumn, newWidth, true);
      } else {

        this.__header.setColumnWidth(this.__resizeColumn, newWidth, true);
        var paneModel = this.getTablePaneModel();
        this._showResizeLine(paneModel.getColumnLeft(this.__resizeColumn) + newWidth);
      };
      this.__lastResizePointerPageX += newWidth - this.__lastResizeWidth;
      this.__lastResizeWidth = newWidth;
    },
    __handleMoveColumn : function(pageX){

      var tapTolerance = qx.ui.table.pane.Scroller.TAP_TOLERANCE;
      if(this.__header.isShowingColumnMoveFeedback() || pageX > this.__lastMovePointerPageX + tapTolerance || pageX < this.__lastMovePointerPageX - tapTolerance){

        this.__lastMoveColPos += pageX - this.__lastMovePointerPageX;
        this.__header.showColumnMoveFeedback(this._moveColumn, this.__lastMoveColPos);
        var targetScroller = this.__table.getTablePaneScrollerAtPageX(pageX);
        if(this._lastMoveTargetScroller && this._lastMoveTargetScroller != targetScroller){

          this._lastMoveTargetScroller.hideColumnMoveFeedback();
        };
        if(targetScroller != null){

          this._lastMoveTargetX = targetScroller.showColumnMoveFeedback(pageX);
        } else {

          this._lastMoveTargetX = null;
        };
        this._lastMoveTargetScroller = targetScroller;
        this.__lastMovePointerPageX = pageX;
      };
    },
    _onPointermoveHeader : function(e){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      var useResizeCursor = false;
      var pointerOverColumn = null;
      var pageX = e.getDocumentLeft();
      var pageY = e.getDocumentTop();
      this.__lastPointerPageX = pageX;
      this.__lastPointerPageY = pageY;
      if(this.__resizeColumn != null){

        this.__handleResizeColumn(pageX);
        useResizeCursor = true;
        e.stopPropagation();
      } else if(this._moveColumn != null){

        this.__handleMoveColumn(pageX);
        e.stopPropagation();
      } else {

        var resizeCol = this._getResizeColumnForPageX(pageX);
        if(resizeCol != -1){

          useResizeCursor = true;
        } else {

          var tableModel = table.getTableModel();
          var col = this._getColumnForPageX(pageX);
          if(col != null && tableModel.isColumnSortable(col)){

            pointerOverColumn = col;
          };
        };
      };
      var cursor = useResizeCursor ? "col-resize" : null;
      this.getApplicationRoot().setGlobalCursor(cursor);
      this.setCursor(cursor);
      this.__header.setPointerOverColumn(pointerOverColumn);
    },
    _onPointermovePane : function(e){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      var pageX = e.getDocumentLeft();
      var pageY = e.getDocumentTop();
      this.__lastPointerPageX = pageX;
      this.__lastPointerPageY = pageY;
      var row = this._getRowForPagePos(pageX, pageY);
      if(row != null && this._getColumnForPageX(pageX) != null){

        if(this.getFocusCellOnPointerMove()){

          this._focusCellAtPagePos(pageX, pageY);
        };
      };
      this.__header.setPointerOverColumn(null);
    },
    _onPointerdownHeader : function(e){

      if(!this.getTable().getEnabled()){

        return;
      };
      var pageX = e.getDocumentLeft();
      var resizeCol = this._getResizeColumnForPageX(pageX);
      if(resizeCol != -1){

        this._startResizeHeader(resizeCol, pageX);
        e.stop();
      } else {

        var moveCol = this._getColumnForPageX(pageX);
        if(moveCol != null){

          this._startMoveHeader(moveCol, pageX);
          e.stop();
        };
      };
    },
    _startResizeHeader : function(resizeCol, pageX){

      var columnModel = this.getTable().getTableColumnModel();
      this.__resizeColumn = resizeCol;
      this.__lastResizePointerPageX = pageX;
      this.__lastResizeWidth = columnModel.getColumnWidth(this.__resizeColumn);
      this._headerClipper.capture();
    },
    _startMoveHeader : function(moveCol, pageX){

      this._moveColumn = moveCol;
      this.__lastMovePointerPageX = pageX;
      this.__lastMoveColPos = this.getTablePaneModel().getColumnLeft(moveCol);
      this._headerClipper.capture();
    },
    _onPointerdownPane : function(e){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      if(table.isEditing()){

        table.stopEditing();
      };
      var pageX = e.getDocumentLeft();
      var pageY = e.getDocumentTop();
      var row = this._getRowForPagePos(pageX, pageY);
      var col = this._getColumnForPageX(pageX);
      if(row !== null){

        this.__lastPointerDownCell = {
          row : row,
          col : col
        };
        this.__firedTapEvent = false;
      };
    },
    _onPointerupFocusIndicator : function(e){

      if(this.__lastPointerDownCell && !this.__firedTapEvent && !this.isEditing() && this.__focusIndicator.getRow() == this.__lastPointerDownCell.row && this.__focusIndicator.getColumn() == this.__lastPointerDownCell.col){

        this.fireEvent("cellTap", qx.ui.table.pane.CellEvent, [this, e, this.__lastPointerDownCell.row, this.__lastPointerDownCell.col], true);
        this.__firedTapEvent = true;
      } else if(!this.isEditing()){

        this._onPointerdownPane(e);
      };
    },
    _onChangeCaptureHeader : function(e){

      if(this.__resizeColumn != null){

        this._stopResizeHeader();
      };
      if(this._moveColumn != null){

        this._stopMoveHeader();
      };
    },
    _stopResizeHeader : function(){

      var columnModel = this.getTable().getTableColumnModel();
      if(!this.getLiveResize()){

        this._hideResizeLine();
        columnModel.setColumnWidth(this.__resizeColumn, this.__lastResizeWidth, true);
      };
      this.__resizeColumn = null;
      this._headerClipper.releaseCapture();
      this.getApplicationRoot().setGlobalCursor(null);
      this.setCursor(null);
      if(this.isEditing()){

        var height = this.__cellEditor.getBounds().height;
        this.__cellEditor.setUserBounds(0, 0, this.__lastResizeWidth, height);
      };
    },
    _stopMoveHeader : function(){

      var columnModel = this.getTable().getTableColumnModel();
      var paneModel = this.getTablePaneModel();
      this.__header.hideColumnMoveFeedback();
      if(this._lastMoveTargetScroller){

        this._lastMoveTargetScroller.hideColumnMoveFeedback();
      };
      if(this._lastMoveTargetX != null){

        var fromVisXPos = paneModel.getFirstColumnX() + paneModel.getX(this._moveColumn);
        var toVisXPos = this._lastMoveTargetX;
        if(toVisXPos != fromVisXPos && toVisXPos != fromVisXPos + 1){

          var fromCol = columnModel.getVisibleColumnAtX(fromVisXPos);
          var toCol = columnModel.getVisibleColumnAtX(toVisXPos);
          var fromOverXPos = columnModel.getOverallX(fromCol);
          var toOverXPos = (toCol != null) ? columnModel.getOverallX(toCol) : columnModel.getOverallColumnCount();
          if(toOverXPos > fromOverXPos){

            toOverXPos--;
          };
          columnModel.moveColumn(fromOverXPos, toOverXPos);
          this._updateFocusIndicator();
        };
      };
      this._moveColumn = null;
      this._lastMoveTargetX = null;
      this._headerClipper.releaseCapture();
    },
    _onPointerupHeader : function(e){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      if(this.__resizeColumn != null){

        this._stopResizeHeader();
        this.__ignoreTap = true;
        e.stop();
      } else if(this._moveColumn != null){

        this._stopMoveHeader();
        e.stop();
      };
    },
    _onTapHeader : function(e){

      if(this.__ignoreTap){

        this.__ignoreTap = false;
        return;
      };
      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      var tableModel = table.getTableModel();
      var pageX = e.getDocumentLeft();
      var resizeCol = this._getResizeColumnForPageX(pageX);
      if(resizeCol == -1){

        var col = this._getColumnForPageX(pageX);
        if(col != null && tableModel.isColumnSortable(col)){

          var sortCol = tableModel.getSortColumnIndex();
          var ascending = (col != sortCol) ? true : !tableModel.isSortAscending();
          var data = {
            column : col,
            ascending : ascending,
            tapEvent : e
          };
          if(this.fireDataEvent("beforeSort", data, null, true)){

            if(table.isEditing()){

              table.stopEditing();
            };
            tableModel.sortByColumn(col, ascending);
            if(this.getResetSelectionOnHeaderTap()){

              table.getSelectionModel().resetSelection();
            };
          };
        };
      };
      e.stop();
    },
    _onTapPane : function(e){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      var pageX = e.getDocumentLeft();
      var pageY = e.getDocumentTop();
      var row = this._getRowForPagePos(pageX, pageY);
      var col = this._getColumnForPageX(pageX);
      if(row != null && col != null){

        var selectBeforeFocus = this.getSelectBeforeFocus();
        if(selectBeforeFocus){

          table.getSelectionManager().handleTap(row, e);
        };
        if(!this.getFocusCellOnPointerMove()){

          this._focusCellAtPagePos(pageX, pageY);
        };
        if(!selectBeforeFocus){

          table.getSelectionManager().handleTap(row, e);
        };
        if(this.__focusIndicator.isHidden() || (this.__lastPointerDownCell && !this.__firedTapEvent && !this.isEditing() && row == this.__lastPointerDownCell.row && col == this.__lastPointerDownCell.col)){

          this.fireEvent("cellTap", qx.ui.table.pane.CellEvent, [this, e, row, col], true);
          this.__firedTapEvent = true;
        };
      };
    },
    _onContextMenu : function(e){

      var pageX = e.getDocumentLeft();
      var pageY = e.getDocumentTop();
      var row = this._getRowForPagePos(pageX, pageY);
      var col = this._getColumnForPageX(pageX);
      if(row === null && this.getContextMenuFromDataCellsOnly()){

        return;
      };
      if(!this.getShowCellFocusIndicator() || row === null || (this.__lastPointerDownCell && row == this.__lastPointerDownCell.row && col == this.__lastPointerDownCell.col)){

        this.fireEvent("cellContextmenu", qx.ui.table.pane.CellEvent, [this, e, row, col], true);
        var menu = this.getTable().getContextMenu();
        if(menu){

          if(menu.getChildren().length > 0){

            menu.openAtPointer(e);
          } else {

            menu.exclude();
          };
          e.preventDefault();
        };
      };
    },
    _onContextMenuOpen : function(e){
    },
    _onDbltapPane : function(e){

      var pageX = e.getDocumentLeft();
      var pageY = e.getDocumentTop();
      var col = this._getColumnForPageX(pageX);
      if(col !== null){

        this._focusCellAtPagePos(pageX, pageY);
        this.startEditing();
        var row = this._getRowForPagePos(pageX, pageY);
        if(row != -1 && row != null){

          this.fireEvent("cellDbltap", qx.ui.table.pane.CellEvent, [this, e, row], true);
        };
      };
    },
    _onPointerout : function(e){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      if(this.__resizeColumn == null){

        this.setCursor(null);
        this.getApplicationRoot().setGlobalCursor(null);
      };
      this.__header.setPointerOverColumn(null);
      if(this.getFocusCellOnPointerMove()){

        this.__table.setFocusedCell();
      };
    },
    _showResizeLine : function(x){

      var resizeLine = this._showChildControl("resize-line");
      var width = resizeLine.getWidth();
      var paneBounds = this._paneClipper.getBounds();
      resizeLine.setUserBounds(x - Math.round(width / 2), 0, width, paneBounds.height);
    },
    _hideResizeLine : function(){

      this._excludeChildControl("resize-line");
    },
    showColumnMoveFeedback : function(pageX){

      var paneModel = this.getTablePaneModel();
      var columnModel = this.getTable().getTableColumnModel();
      var paneLeft = this.__tablePane.getContentLocation().left;
      var colCount = paneModel.getColumnCount();
      var targetXPos = 0;
      var targetX = 0;
      var currX = paneLeft;
      for(var xPos = 0;xPos < colCount;xPos++){

        var col = paneModel.getColumnAtX(xPos);
        var colWidth = columnModel.getColumnWidth(col);
        if(pageX < currX + colWidth / 2){

          break;
        };
        currX += colWidth;
        targetXPos = xPos + 1;
        targetX = currX - paneLeft;
      };
      var scrollerLeft = this._paneClipper.getContentLocation().left;
      var scrollerWidth = this._paneClipper.getBounds().width;
      var scrollX = scrollerLeft - paneLeft;
      targetX = qx.lang.Number.limit(targetX, scrollX + 2, scrollX + scrollerWidth - 1);
      this._showResizeLine(targetX);
      return paneModel.getFirstColumnX() + targetXPos;
    },
    hideColumnMoveFeedback : function(){

      this._hideResizeLine();
    },
    _focusCellAtPagePos : function(pageX, pageY){

      var row = this._getRowForPagePos(pageX, pageY);
      if(row != -1 && row != null){

        var col = this._getColumnForPageX(pageX);
        this.__table.setFocusedCell(col, row);
      };
    },
    setFocusedCell : function(col, row){

      if(!this.isEditing()){

        this.__tablePane.setFocusedCell(col, row, this.__updateContentPlanned);
        this.__focusedCol = col;
        this.__focusedRow = row;
        this._updateFocusIndicator();
      };
    },
    getFocusedColumn : function(){

      return this.__focusedCol;
    },
    getFocusedRow : function(){

      return this.__focusedRow;
    },
    scrollCellVisible : function(col, row){

      var paneModel = this.getTablePaneModel();
      var xPos = paneModel.getX(col);
      if(xPos != -1){

        var clipperSize = this._paneClipper.getInnerSize();
        if(!clipperSize){

          return;
        };
        var columnModel = this.getTable().getTableColumnModel();
        var colLeft = paneModel.getColumnLeft(col);
        var colWidth = columnModel.getColumnWidth(col);
        var rowHeight = this.getTable().getRowHeight();
        var rowTop = row * rowHeight;
        var scrollX = this.getScrollX();
        var scrollY = this.getScrollY();
        var minScrollX = Math.min(colLeft, colLeft + colWidth - clipperSize.width);
        var maxScrollX = colLeft;
        this.setScrollX(Math.max(minScrollX, Math.min(maxScrollX, scrollX)));
        var minScrollY = rowTop + rowHeight - clipperSize.height;
        if(this.getTable().getKeepFirstVisibleRowComplete()){

          minScrollY += rowHeight;
        };
        var maxScrollY = rowTop;
        this.setScrollY(Math.max(minScrollY, Math.min(maxScrollY, scrollY)), true);
      };
    },
    isEditing : function(){

      return this.__cellEditor != null;
    },
    startEditing : function(){

      var table = this.getTable();
      var tableModel = table.getTableModel();
      var col = this.__focusedCol;
      if(!this.isEditing() && (col != null) && tableModel.isColumnEditable(col)){

        var row = this.__focusedRow;
        var xPos = this.getTablePaneModel().getX(col);
        var value = tableModel.getValue(col, row);
        this.scrollCellVisible(xPos, row);
        this.__cellEditorFactory = table.getTableColumnModel().getCellEditorFactory(col);
        var cellInfo = {
          col : col,
          row : row,
          xPos : xPos,
          value : value,
          table : table
        };
        this.__cellEditor = this.__cellEditorFactory.createCellEditor(cellInfo);
        if(this.__cellEditor === null){

          return false;
        } else if(this.__cellEditor instanceof qx.ui.window.Window){

          this.__cellEditor.setModal(true);
          this.__cellEditor.setShowClose(false);
          this.__cellEditor.addListener("close", this._onCellEditorModalWindowClose, this);
          var f = table.getModalCellEditorPreOpenFunction();
          if(f != null){

            f(this.__cellEditor, cellInfo);
          };
          this.__cellEditor.open();
        } else {

          var size = this.__focusIndicator.getInnerSize();
          this.__cellEditor.setUserBounds(0, 0, size.width, size.height);
          this.__focusIndicator.addListener("pointerdown", function(e){

            this.__lastPointerDownCell = {
              row : this.__focusedRow,
              col : this.__focusedCol
            };
            e.stopPropagation();
          }, this);
          this.__focusIndicator.add(this.__cellEditor);
          this.__focusIndicator.addState("editing");
          this.__focusIndicator.setKeepActive(false);
          this.__focusIndicator.setDecorator("table-scroller-focus-indicator");
          this.__cellEditor.focus();
          this.__cellEditor.activate();
        };
        return true;
      };
      return false;
    },
    stopEditing : function(){

      if(!this.getShowCellFocusIndicator()){

        this.__focusIndicator.setDecorator(null);
      };
      this.flushEditor();
      this.cancelEditing();
    },
    flushEditor : function(){

      if(this.isEditing()){

        var value = this.__cellEditorFactory.getCellEditorValue(this.__cellEditor);
        var oldValue = this.getTable().getTableModel().getValue(this.__focusedCol, this.__focusedRow);
        this.getTable().getTableModel().setValue(this.__focusedCol, this.__focusedRow, value);
        this.__table.focus();
        this.__table.fireDataEvent("dataEdited", {
          row : this.__focusedRow,
          col : this.__focusedCol,
          oldValue : oldValue,
          value : value
        });
      };
    },
    cancelEditing : function(){

      if(this.isEditing() && !this.__cellEditor.pendingDispose){

        if(this._cellEditorIsModalWindow){

          this.__cellEditor.destroy();
          this.__cellEditor = null;
          this.__cellEditorFactory = null;
          this.__cellEditor.pendingDispose = true;
        } else {

          this.__focusIndicator.removeState("editing");
          this.__focusIndicator.setKeepActive(true);
          this.__cellEditor.destroy();
          this.__cellEditor = null;
          this.__cellEditorFactory = null;
        };
      };
    },
    _onCellEditorModalWindowClose : function(e){

      this.stopEditing();
    },
    _getColumnForPageX : function(pageX){

      var columnModel = this.getTable().getTableColumnModel();
      var paneModel = this.getTablePaneModel();
      var colCount = paneModel.getColumnCount();
      var currX = this.__tablePane.getContentLocation().left;
      for(var x = 0;x < colCount;x++){

        var col = paneModel.getColumnAtX(x);
        var colWidth = columnModel.getColumnWidth(col);
        currX += colWidth;
        if(pageX < currX){

          return col;
        };
      };
      return null;
    },
    _getResizeColumnForPageX : function(pageX){

      var columnModel = this.getTable().getTableColumnModel();
      var paneModel = this.getTablePaneModel();
      var colCount = paneModel.getColumnCount();
      var currX = this.__header.getContentLocation().left;
      var regionRadius = qx.ui.table.pane.Scroller.RESIZE_REGION_RADIUS;
      for(var x = 0;x < colCount;x++){

        var col = paneModel.getColumnAtX(x);
        var colWidth = columnModel.getColumnWidth(col);
        currX += colWidth;
        if(pageX >= (currX - regionRadius) && pageX <= (currX + regionRadius)){

          return col;
        };
      };
      return -1;
    },
    _getRowForPagePos : function(pageX, pageY){

      var panePos = this.__tablePane.getContentLocation();
      if(pageX < panePos.left || pageX > panePos.right){

        return null;
      };
      if(pageY >= panePos.top && pageY <= panePos.bottom){

        var rowHeight = this.getTable().getRowHeight();
        var scrollY = this.__verScrollBar.getPosition();
        if(this.getTable().getKeepFirstVisibleRowComplete()){

          scrollY = Math.floor(scrollY / rowHeight) * rowHeight;
        };
        var tableY = scrollY + pageY - panePos.top;
        var row = Math.floor(tableY / rowHeight);
        var tableModel = this.getTable().getTableModel();
        var rowCount = tableModel.getRowCount();
        return (row < rowCount) ? row : null;
      };
      var headerPos = this.__header.getContentLocation();
      if(pageY >= headerPos.top && pageY <= headerPos.bottom && pageX <= headerPos.right){

        return -1;
      };
      return null;
    },
    setTopRightWidget : function(widget){

      var oldWidget = this.__topRightWidget;
      if(oldWidget != null){

        this.__top.remove(oldWidget);
      };
      if(widget != null){

        this.__top.add(widget);
      };
      this.__topRightWidget = widget;
    },
    getTopRightWidget : function(){

      return this.__topRightWidget;
    },
    getHeader : function(){

      return this.__header;
    },
    getTablePane : function(){

      return this.__tablePane;
    },
    getVerticalScrollBarWidth : function(){

      var scrollBar = this.__verScrollBar;
      return scrollBar.isVisible() ? (scrollBar.getSizeHint().width || 0) : 0;
    },
    getNeededScrollBars : function(forceHorizontal, preventVertical){

      var verScrollBar = this.__verScrollBar;
      var verBarWidth = verScrollBar.getSizeHint().width + verScrollBar.getMarginLeft() + verScrollBar.getMarginRight();
      var horScrollBar = this.__horScrollBar;
      var horBarHeight = horScrollBar.getSizeHint().height + horScrollBar.getMarginTop() + horScrollBar.getMarginBottom();
      var clipperSize = this._paneClipper.getInnerSize();
      var viewWidth = clipperSize ? clipperSize.width : 0;
      if(this.getVerticalScrollBarVisible()){

        viewWidth += verBarWidth;
      };
      var viewHeight = clipperSize ? clipperSize.height : 0;
      if(this.getHorizontalScrollBarVisible()){

        viewHeight += horBarHeight;
      };
      var tableModel = this.getTable().getTableModel();
      var rowCount = tableModel.getRowCount();
      var paneWidth = this.getTablePaneModel().getTotalWidth();
      var paneHeight = this.getTable().getRowHeight() * rowCount;
      var horNeeded = false;
      var verNeeded = false;
      if(paneWidth > viewWidth){

        horNeeded = true;
        if(paneHeight > viewHeight - horBarHeight){

          verNeeded = true;
        };
      } else if(paneHeight > viewHeight){

        verNeeded = true;
        if(!preventVertical && (paneWidth > viewWidth - verBarWidth)){

          horNeeded = true;
        };
      };
      var horBar = qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;
      var verBar = qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;
      return ((forceHorizontal || horNeeded) ? horBar : 0) | ((preventVertical || !verNeeded) ? 0 : verBar);
    },
    getPaneClipper : function(){

      return this._paneClipper;
    },
    getScrollAreaContainer : function(){

      return this.getPaneClipper();
    },
    _applyScrollTimeout : function(value, old){

      this._startInterval(value);
    },
    _startInterval : function(timeout){

      this.__timer.setInterval(timeout);
      this.__timer.start();
    },
    _stopInterval : function(){

      this.__timer.stop();
    },
    _postponedUpdateContent : function(){

      this._updateContent();
    },
    _oninterval : qx.event.GlobalError.observeMethod(function(){

      if(this.__updateContentPlanned && !this.__tablePane._layoutPending){

        this.__updateContentPlanned = false;
        this._updateContent();
      };
    }),
    _updateContent : function(){

      var paneSize = this._paneClipper.getInnerSize();
      if(!paneSize){

        return;
      };
      var paneHeight = paneSize.height;
      var scrollX = this.__horScrollBar.getPosition();
      var scrollY = this.__verScrollBar.getPosition();
      var rowHeight = this.getTable().getRowHeight();
      var firstRow = Math.floor(scrollY / rowHeight);
      var oldFirstRow = this.__tablePane.getFirstVisibleRow();
      this.__tablePane.setFirstVisibleRow(firstRow);
      var visibleRowCount = Math.ceil(paneHeight / rowHeight);
      var paneOffset = 0;
      var firstVisibleRowComplete = this.getTable().getKeepFirstVisibleRowComplete();
      if(!firstVisibleRowComplete){

        visibleRowCount++;
        paneOffset = scrollY % rowHeight;
      };
      this.__tablePane.setVisibleRowCount(visibleRowCount);
      if(firstRow != oldFirstRow){

        this._updateFocusIndicator();
      };
      this._paneClipper.scrollToX(scrollX);
      if(!firstVisibleRowComplete){

        this._paneClipper.scrollToY(paneOffset);
      };
    },
    _updateFocusIndicator : function(){

      var table = this.getTable();
      if(!table.getEnabled()){

        return;
      };
      this.__focusIndicator.moveToCell(this.__focusedCol, this.__focusedRow);
    }
  },
  destruct : function(){

    this._stopInterval();
    var tablePaneModel = this.getTablePaneModel();
    if(tablePaneModel){

      tablePaneModel.dispose();
    };
    this.__lastPointerDownCell = this.__topRightWidget = this.__table = null;
    this._disposeObjects("__horScrollBar", "__verScrollBar", "_headerClipper", "_paneClipper", "__focusIndicator", "__header", "__tablePane", "__top", "__timer", "__clipperContainer");
  }
});

qx.Class.define("qx.ui.table.pane.FocusIndicator", {
  extend : qx.ui.container.Composite,
  construct : function(scroller){

    this.base(arguments);
    this.__scroller = scroller;
    this.setKeepActive(true);
    this.addListener("keypress", this._onKeyPress, this);
  },
  properties : {
    visibility : {
      refine : true,
      init : "excluded"
    },
    row : {
      check : "Integer",
      nullable : true
    },
    column : {
      check : "Integer",
      nullable : true
    }
  },
  members : {
    __scroller : null,
    _onKeyPress : function(e){

      var iden = e.getKeyIdentifier();
      if(iden !== "Escape" && iden !== "Enter"){

        e.stopPropagation();
      };
    },
    moveToCell : function(col, row){

      if(!this.__scroller.getShowCellFocusIndicator() && !this.__scroller.getTable().getTableModel().isColumnEditable(col)){

        this.exclude();
        return;
      } else {

        this.show();
      };
      if(col == null){

        this.hide();
        this.setRow(null);
        this.setColumn(null);
      } else {

        var xPos = this.__scroller.getTablePaneModel().getX(col);
        if(xPos == -1){

          this.hide();
          this.setRow(null);
          this.setColumn(null);
        } else {

          var table = this.__scroller.getTable();
          var columnModel = table.getTableColumnModel();
          var paneModel = this.__scroller.getTablePaneModel();
          var firstRow = this.__scroller.getTablePane().getFirstVisibleRow();
          var rowHeight = table.getRowHeight();
          this.setUserBounds(paneModel.getColumnLeft(col) - 2, (row - firstRow) * rowHeight - 2, columnModel.getColumnWidth(col) + 3, rowHeight + 3);
          this.show();
          this.setRow(row);
          this.setColumn(col);
        };
      };
    }
  },
  destruct : function(){

    this.__scroller = null;
  }
});

qx.Class.define("qx.ui.table.pane.Clipper", {
  extend : qx.ui.container.Composite,
  construct : function(){

    this.base(arguments, new qx.ui.layout.Grow());
    this.setMinWidth(0);
  },
  members : {
    scrollToX : function(value){

      this.getContentElement().scrollToX(value, false);
    },
    scrollToY : function(value){

      this.getContentElement().scrollToY(value, true);
    }
  }
});

qx.Class.define("qx.ui.table.pane.CellEvent", {
  extend : qx.event.type.Pointer,
  properties : {
    row : {
      check : "Integer",
      nullable : true
    },
    column : {
      check : "Integer",
      nullable : true
    }
  },
  members : {
    init : function(scroller, me, row, column){

      me.clone(this);
      this.setBubbles(false);
      if(row != null){

        this.setRow(row);
      } else {

        this.setRow(scroller._getRowForPagePos(this.getDocumentLeft(), this.getDocumentTop()));
      };
      if(column != null){

        this.setColumn(column);
      } else {

        this.setColumn(scroller._getColumnForPageX(this.getDocumentLeft()));
      };
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone.set({
        row : this.getRow(),
        column : this.getColumn()
      });
      return clone;
    }
  }
});

qx.Class.define("qx.lang.Number", {
  statics : {
    isInRange : function(nr, vmin, vmax){

      return nr >= vmin && nr <= vmax;
    },
    isBetweenRange : function(nr, vmin, vmax){

      return nr > vmin && nr < vmax;
    },
    limit : function(nr, vmin, vmax){

      if(vmax != null && nr > vmax){

        return vmax;
      } else if(vmin != null && nr < vmin){

        return vmin;
      } else {

        return nr;
      };
    }
  }
});

qx.Interface.define("qx.ui.window.IWindowManager", {
  members : {
    setDesktop : function(desktop){

      this.assertInterface(desktop, qx.ui.window.IDesktop);
    },
    changeActiveWindow : function(active, oldActive){
    },
    updateStack : function(){
    },
    bringToFront : function(win){

      this.assertInstance(win, qx.ui.window.Window);
    },
    sendToBack : function(win){

      this.assertInstance(win, qx.ui.window.Window);
    }
  }
});

qx.Interface.define("qx.ui.window.IDesktop", {
  members : {
    setWindowManager : function(manager){

      this.assertInterface(manager, qx.ui.window.IWindowManager);
    },
    getWindows : function(){
    },
    supportsMaximize : function(){
    },
    blockContent : function(zIndex){

      this.assertInteger(zIndex);
    },
    unblock : function(){
    },
    isBlocked : function(){
    }
  }
});

qx.Class.define("qx.ui.window.Manager", {
  extend : qx.core.Object,
  implement : qx.ui.window.IWindowManager,
  members : {
    __desktop : null,
    setDesktop : function(desktop){

      this.__desktop = desktop;
      this.updateStack();
    },
    getDesktop : function(){

      return this.__desktop;
    },
    changeActiveWindow : function(active, oldActive){

      if(active){

        this.bringToFront(active);
        active.setActive(true);
      };
      if(oldActive){

        oldActive.resetActive();
      };
    },
    _minZIndex : 1e5,
    updateStack : function(){

      qx.ui.core.queue.Widget.add(this);
    },
    syncWidget : function(){

      this.__desktop.forceUnblock();
      var windows = this.__desktop.getWindows();
      var zIndex = this._minZIndex;
      var zIndexOnTop = zIndex + windows.length * 2;
      var zIndexModal = zIndex + windows.length * 4;
      var active = null;
      for(var i = 0,l = windows.length;i < l;i++){

        var win = windows[i];
        if(!win.isVisible()){

          continue;
        };
        active = active || win;
        if(win.isModal()){

          win.setZIndex(zIndexModal);
          this.__desktop.blockContent(zIndexModal - 1);
          zIndexModal += 2;
          active = win;
        } else if(win.isAlwaysOnTop()){

          win.setZIndex(zIndexOnTop);
          zIndexOnTop += 2;
        } else {

          win.setZIndex(zIndex);
          zIndex += 2;
        };
        if(!active.isModal() && win.isActive() || win.getZIndex() > active.getZIndex()){

          active = win;
        };
      };
      this.__desktop.setActiveWindow(active);
    },
    bringToFront : function(win){

      var windows = this.__desktop.getWindows();
      var removed = qx.lang.Array.remove(windows, win);
      if(removed){

        windows.push(win);
        this.updateStack();
      };
    },
    sendToBack : function(win){

      var windows = this.__desktop.getWindows();
      var removed = qx.lang.Array.remove(windows, win);
      if(removed){

        windows.unshift(win);
        this.updateStack();
      };
    }
  },
  destruct : function(){

    this._disposeObjects("__desktop");
  }
});

qx.Mixin.define("qx.ui.core.MMovable", {
  properties : {
    movable : {
      check : "Boolean",
      init : true
    },
    useMoveFrame : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __moveHandle : null,
    __moveFrame : null,
    __dragRange : null,
    __dragLeft : null,
    __dragTop : null,
    __parentLeft : null,
    __parentTop : null,
    __blockerAdded : false,
    __oldBlockerColor : null,
    __oldBlockerOpacity : 0,
    _activateMoveHandle : function(widget){

      if(this.__moveHandle){

        throw new Error("The move handle could not be redefined!");
      };
      this.__moveHandle = widget;
      widget.addListener("pointerdown", this._onMovePointerDown, this);
      widget.addListener("pointerup", this._onMovePointerUp, this);
      widget.addListener("pointermove", this._onMovePointerMove, this);
      widget.addListener("losecapture", this.__onMoveLoseCapture, this);
    },
    __getMoveFrame : function(){

      var frame = this.__moveFrame;
      if(!frame){

        frame = this.__moveFrame = new qx.ui.core.Widget();
        frame.setAppearance("move-frame");
        frame.exclude();
        qx.core.Init.getApplication().getRoot().add(frame);
      };
      return frame;
    },
    __showMoveFrame : function(){

      var location = this.getContentLocation();
      var bounds = this.getBounds();
      var frame = this.__getMoveFrame();
      frame.setUserBounds(location.left, location.top, bounds.width, bounds.height);
      frame.show();
      frame.setZIndex(this.getZIndex() + 1);
    },
    __computeMoveCoordinates : function(e){

      var range = this.__dragRange;
      var pointerLeft = Math.max(range.left, Math.min(range.right, e.getDocumentLeft()));
      var pointerTop = Math.max(range.top, Math.min(range.bottom, e.getDocumentTop()));
      var viewportLeft = this.__dragLeft + pointerLeft;
      var viewportTop = this.__dragTop + pointerTop;
      return {
        viewportLeft : parseInt(viewportLeft, 10),
        viewportTop : parseInt(viewportTop, 10),
        parentLeft : parseInt(viewportLeft - this.__parentLeft, 10),
        parentTop : parseInt(viewportTop - this.__parentTop, 10)
      };
    },
    _onMoveRoll : function(e){

      e.stop();
    },
    _onMovePointerDown : function(e){

      if(!this.getMovable() || this.hasState("maximized")){

        return;
      };
      this.addListener("roll", this._onMoveRoll, this);
      var parent = this.getLayoutParent();
      var parentLocation = parent.getContentLocation();
      var parentBounds = parent.getBounds();
      if(qx.Class.implementsInterface(parent, qx.ui.window.IDesktop)){

        if(!parent.isBlocked()){

          this.__oldBlockerColor = parent.getBlockerColor();
          this.__oldBlockerOpacity = parent.getBlockerOpacity();
          parent.setBlockerColor(null);
          parent.setBlockerOpacity(1);
          parent.blockContent(this.getZIndex() - 1);
          this.__blockerAdded = true;
        };
      };
      this.__dragRange = {
        left : parentLocation.left,
        top : parentLocation.top,
        right : parentLocation.left + parentBounds.width,
        bottom : parentLocation.top + parentBounds.height
      };
      var widgetLocation = this.getContentLocation();
      this.__parentLeft = parentLocation.left;
      this.__parentTop = parentLocation.top;
      this.__dragLeft = widgetLocation.left - e.getDocumentLeft();
      this.__dragTop = widgetLocation.top - e.getDocumentTop();
      this.addState("move");
      this.__moveHandle.capture();
      if(this.getUseMoveFrame()){

        this.__showMoveFrame();
      };
      e.stop();
    },
    _onMovePointerMove : function(e){

      if(!this.hasState("move")){

        return;
      };
      var coords = this.__computeMoveCoordinates(e);
      if(this.getUseMoveFrame()){

        this.__getMoveFrame().setDomPosition(coords.viewportLeft, coords.viewportTop);
      } else {

        var insets = this.getLayoutParent().getInsets();
        this.setDomPosition(coords.parentLeft - (insets.left || 0), coords.parentTop - (insets.top || 0));
      };
      e.stopPropagation();
    },
    _onMovePointerUp : function(e){

      if(this.hasListener("roll", this._onMoveRoll, this)){

        this.removeListener("roll", this._onMoveRoll, this);
      };
      if(!this.hasState("move")){

        return;
      };
      this.removeState("move");
      var parent = this.getLayoutParent();
      if(qx.Class.implementsInterface(parent, qx.ui.window.IDesktop)){

        if(this.__blockerAdded){

          parent.unblock();
          parent.setBlockerColor(this.__oldBlockerColor);
          parent.setBlockerOpacity(this.__oldBlockerOpacity);
          this.__oldBlockerColor = null;
          this.__oldBlockerOpacity = 0;
          this.__blockerAdded = false;
        };
      };
      this.__moveHandle.releaseCapture();
      var coords = this.__computeMoveCoordinates(e);
      var insets = this.getLayoutParent().getInsets();
      this.setLayoutProperties({
        left : coords.parentLeft - (insets.left || 0),
        top : coords.parentTop - (insets.top || 0)
      });
      if(this.getUseMoveFrame()){

        this.__getMoveFrame().exclude();
      };
      e.stopPropagation();
    },
    __onMoveLoseCapture : function(e){

      if(!this.hasState("move")){

        return;
      };
      this.removeState("move");
      if(this.getUseMoveFrame()){

        this.__getMoveFrame().exclude();
      };
    }
  },
  destruct : function(){

    this._disposeObjects("__moveFrame", "__moveHandle");
    this.__dragRange = null;
  }
});

qx.Mixin.define("qx.ui.core.MContentPadding", {
  properties : {
    contentPaddingTop : {
      check : "Integer",
      init : 0,
      apply : "_applyContentPadding",
      themeable : true
    },
    contentPaddingRight : {
      check : "Integer",
      init : 0,
      apply : "_applyContentPadding",
      themeable : true
    },
    contentPaddingBottom : {
      check : "Integer",
      init : 0,
      apply : "_applyContentPadding",
      themeable : true
    },
    contentPaddingLeft : {
      check : "Integer",
      init : 0,
      apply : "_applyContentPadding",
      themeable : true
    },
    contentPadding : {
      group : ["contentPaddingTop", "contentPaddingRight", "contentPaddingBottom", "contentPaddingLeft"],
      mode : "shorthand",
      themeable : true
    }
  },
  members : {
    __contentPaddingSetter : {
      contentPaddingTop : "setPaddingTop",
      contentPaddingRight : "setPaddingRight",
      contentPaddingBottom : "setPaddingBottom",
      contentPaddingLeft : "setPaddingLeft"
    },
    __contentPaddingThemedSetter : {
      contentPaddingTop : "setThemedPaddingTop",
      contentPaddingRight : "setThemedPaddingRight",
      contentPaddingBottom : "setThemedPaddingBottom",
      contentPaddingLeft : "setThemedPaddingLeft"
    },
    __contentPaddingResetter : {
      contentPaddingTop : "resetPaddingTop",
      contentPaddingRight : "resetPaddingRight",
      contentPaddingBottom : "resetPaddingBottom",
      contentPaddingLeft : "resetPaddingLeft"
    },
    _applyContentPadding : function(value, old, name, variant){

      var target = this._getContentPaddingTarget();
      if(value == null){

        var resetter = this.__contentPaddingResetter[name];
        target[resetter]();
      } else {

        if(variant == "setThemed" || variant == "resetThemed"){

          var setter = this.__contentPaddingThemedSetter[name];
          target[setter](value);
        } else {

          var setter = this.__contentPaddingSetter[name];
          target[setter](value);
        };
      };
    }
  }
});

qx.Mixin.define("qx.ui.core.MResizable", {
  construct : function(){

    var content = this.getContentElement();
    content.addListener("pointerdown", this.__onResizePointerDown, this, true);
    content.addListener("pointerup", this.__onResizePointerUp, this);
    content.addListener("pointermove", this.__onResizePointerMove, this);
    content.addListener("pointerout", this.__onResizePointerOut, this);
    content.addListener("losecapture", this.__onResizeLoseCapture, this);
    var domElement = content.getDomElement();
    if(domElement == null){

      domElement = window;
    };
    this.__dragDropHandler = qx.event.Registration.getManager(domElement).getHandler(qx.event.handler.DragDrop);
  },
  properties : {
    resizableTop : {
      check : "Boolean",
      init : true
    },
    resizableRight : {
      check : "Boolean",
      init : true
    },
    resizableBottom : {
      check : "Boolean",
      init : true
    },
    resizableLeft : {
      check : "Boolean",
      init : true
    },
    resizable : {
      group : ["resizableTop", "resizableRight", "resizableBottom", "resizableLeft"],
      mode : "shorthand"
    },
    resizeSensitivity : {
      check : "Integer",
      init : 5
    },
    useResizeFrame : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    __dragDropHandler : null,
    __resizeFrame : null,
    __resizeActive : null,
    __resizeLeft : null,
    __resizeTop : null,
    __resizeStart : null,
    __resizeRange : null,
    RESIZE_TOP : 1,
    RESIZE_BOTTOM : 2,
    RESIZE_LEFT : 4,
    RESIZE_RIGHT : 8,
    _getResizeFrame : function(){

      var frame = this.__resizeFrame;
      if(!frame){

        frame = this.__resizeFrame = new qx.ui.core.Widget();
        frame.setAppearance("resize-frame");
        frame.exclude();
        qx.core.Init.getApplication().getRoot().add(frame);
      };
      return frame;
    },
    __showResizeFrame : function(){

      var location = this.getContentLocation();
      var frame = this._getResizeFrame();
      frame.setUserBounds(location.left, location.top, location.right - location.left, location.bottom - location.top);
      frame.show();
      frame.setZIndex(this.getZIndex() + 1);
    },
    __computeResizeResult : function(e){

      var resizeActive = this.__resizeActive;
      var hint = this.getSizeHint();
      var range = this.__resizeRange;
      var start = this.__resizeStart;
      var width = start.width;
      var height = start.height;
      var left = start.left;
      var top = start.top;
      var diff;
      if((resizeActive & this.RESIZE_TOP) || (resizeActive & this.RESIZE_BOTTOM)){

        diff = Math.max(range.top, Math.min(range.bottom, e.getDocumentTop())) - this.__resizeTop;
        if(resizeActive & this.RESIZE_TOP){

          height -= diff;
        } else {

          height += diff;
        };
        if(height < hint.minHeight){

          height = hint.minHeight;
        } else if(height > hint.maxHeight){

          height = hint.maxHeight;
        };
        if(resizeActive & this.RESIZE_TOP){

          top += start.height - height;
        };
      };
      if((resizeActive & this.RESIZE_LEFT) || (resizeActive & this.RESIZE_RIGHT)){

        diff = Math.max(range.left, Math.min(range.right, e.getDocumentLeft())) - this.__resizeLeft;
        if(resizeActive & this.RESIZE_LEFT){

          width -= diff;
        } else {

          width += diff;
        };
        if(width < hint.minWidth){

          width = hint.minWidth;
        } else if(width > hint.maxWidth){

          width = hint.maxWidth;
        };
        if(resizeActive & this.RESIZE_LEFT){

          left += start.width - width;
        };
      };
      return {
        viewportLeft : left,
        viewportTop : top,
        parentLeft : start.bounds.left + left - start.left,
        parentTop : start.bounds.top + top - start.top,
        width : width,
        height : height
      };
    },
    __resizeCursors : {
      '1' : "n-resize",
      '2' : "s-resize",
      '4' : "w-resize",
      '8' : "e-resize",
      '5' : "nw-resize",
      '6' : "sw-resize",
      '9' : "ne-resize",
      '10' : "se-resize"
    },
    __computeResizeMode : function(e){

      var location = this.getContentLocation();
      var pointerTolerance = this.getResizeSensitivity();
      var pointerLeft = e.getDocumentLeft();
      var pointerTop = e.getDocumentTop();
      var resizeActive = this.__computeResizeActive(location, pointerLeft, pointerTop, pointerTolerance);
      if(resizeActive > 0){

        resizeActive = resizeActive | this.__computeResizeActive(location, pointerLeft, pointerTop, pointerTolerance * 2);
      };
      this.__resizeActive = resizeActive;
    },
    __computeResizeActive : function(location, pointerLeft, pointerTop, pointerTolerance){

      var resizeActive = 0;
      if(this.getResizableTop() && Math.abs(location.top - pointerTop) < pointerTolerance && pointerLeft > location.left - pointerTolerance && pointerLeft < location.right + pointerTolerance){

        resizeActive += this.RESIZE_TOP;
      } else if(this.getResizableBottom() && Math.abs(location.bottom - pointerTop) < pointerTolerance && pointerLeft > location.left - pointerTolerance && pointerLeft < location.right + pointerTolerance){

        resizeActive += this.RESIZE_BOTTOM;
      };
      if(this.getResizableLeft() && Math.abs(location.left - pointerLeft) < pointerTolerance && pointerTop > location.top - pointerTolerance && pointerTop < location.bottom + pointerTolerance){

        resizeActive += this.RESIZE_LEFT;
      } else if(this.getResizableRight() && Math.abs(location.right - pointerLeft) < pointerTolerance && pointerTop > location.top - pointerTolerance && pointerTop < location.bottom + pointerTolerance){

        resizeActive += this.RESIZE_RIGHT;
      };
      return resizeActive;
    },
    __onResizePointerDown : function(e){

      if(!this.__resizeActive || !this.getEnabled() || e.getPointerType() == "touch"){

        return;
      };
      this.addState("resize");
      this.__resizeLeft = e.getDocumentLeft();
      this.__resizeTop = e.getDocumentTop();
      var location = this.getContentLocation();
      var bounds = this.getBounds();
      this.__resizeStart = {
        top : location.top,
        left : location.left,
        width : location.right - location.left,
        height : location.bottom - location.top,
        bounds : qx.lang.Object.clone(bounds)
      };
      var parent = this.getLayoutParent();
      var parentLocation = parent.getContentLocation();
      var parentBounds = parent.getBounds();
      this.__resizeRange = {
        left : parentLocation.left,
        top : parentLocation.top,
        right : parentLocation.left + parentBounds.width,
        bottom : parentLocation.top + parentBounds.height
      };
      if(this.getUseResizeFrame()){

        this.__showResizeFrame();
      };
      this.capture();
      e.stop();
    },
    __onResizePointerUp : function(e){

      if(!this.hasState("resize") || !this.getEnabled() || e.getPointerType() == "touch"){

        return;
      };
      if(this.getUseResizeFrame()){

        this._getResizeFrame().exclude();
      };
      var bounds = this.__computeResizeResult(e);
      this.setWidth(bounds.width);
      this.setHeight(bounds.height);
      if(this.getResizableLeft() || this.getResizableTop()){

        this.setLayoutProperties({
          left : bounds.parentLeft,
          top : bounds.parentTop
        });
      };
      this.__resizeActive = 0;
      this.removeState("resize");
      this.resetCursor();
      this.getApplicationRoot().resetGlobalCursor();
      this.releaseCapture();
      e.stopPropagation();
    },
    __onResizeLoseCapture : function(e){

      if(!this.__resizeActive){

        return;
      };
      this.resetCursor();
      this.getApplicationRoot().resetGlobalCursor();
      this.removeState("move");
      if(this.getUseResizeFrame()){

        this._getResizeFrame().exclude();
      };
    },
    __onResizePointerMove : function(e){

      if(!this.getEnabled() || e.getPointerType() == "touch"){

        return;
      };
      if(this.hasState("resize")){

        var bounds = this.__computeResizeResult(e);
        if(this.getUseResizeFrame()){

          var frame = this._getResizeFrame();
          frame.setUserBounds(bounds.viewportLeft, bounds.viewportTop, bounds.width, bounds.height);
        } else {

          this.setWidth(bounds.width);
          this.setHeight(bounds.height);
          if(this.getResizableLeft() || this.getResizableTop()){

            this.setLayoutProperties({
              left : bounds.parentLeft,
              top : bounds.parentTop
            });
          };
        };
        e.stopPropagation();
      } else if(!this.hasState("maximized") && !this.__dragDropHandler.isSessionActive()){

        this.__computeResizeMode(e);
        var resizeActive = this.__resizeActive;
        var root = this.getApplicationRoot();
        if(resizeActive){

          var cursor = this.__resizeCursors[resizeActive];
          this.setCursor(cursor);
          root.setGlobalCursor(cursor);
        } else if(this.getCursor()){

          this.resetCursor();
          root.resetGlobalCursor();
        };
      };
    },
    __onResizePointerOut : function(e){

      if(e.getPointerType() == "touch"){

        return;
      };
      if(this.getCursor() && !this.hasState("resize")){

        this.resetCursor();
        this.getApplicationRoot().resetGlobalCursor();
      };
    }
  },
  destruct : function(){

    if(this.__resizeFrame != null && !qx.core.ObjectRegistry.inShutDown){

      this.__resizeFrame.destroy();
      this.__resizeFrame = null;
    };
    this.__dragDropHandler = null;
  }
});

qx.Class.define("qx.ui.window.Window", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MRemoteChildrenHandling, qx.ui.core.MRemoteLayoutHandling, qx.ui.core.MResizable, qx.ui.core.MMovable, qx.ui.core.MContentPadding],
  construct : function(caption, icon){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.VBox());
    this._createChildControl("captionbar");
    this._createChildControl("pane");
    if(icon != null){

      this.setIcon(icon);
    };
    if(caption != null){

      this.setCaption(caption);
    };
    this._updateCaptionBar();
    this.addListener("pointerdown", this._onWindowPointerDown, this, true);
    this.addListener("focusout", this._onWindowFocusOut, this);
    qx.core.Init.getApplication().getRoot().add(this);
    this.initVisibility();
    qx.ui.core.FocusHandler.getInstance().addRoot(this);
    this._getResizeFrame().setAppearance("window-resize-frame");
  },
  statics : {
    DEFAULT_MANAGER_CLASS : qx.ui.window.Manager
  },
  events : {
    "beforeClose" : "qx.event.type.Event",
    "close" : "qx.event.type.Event",
    "beforeMinimize" : "qx.event.type.Event",
    "minimize" : "qx.event.type.Event",
    "beforeMaximize" : "qx.event.type.Event",
    "maximize" : "qx.event.type.Event",
    "beforeRestore" : "qx.event.type.Event",
    "restore" : "qx.event.type.Event"
  },
  properties : {
    appearance : {
      refine : true,
      init : "window"
    },
    visibility : {
      refine : true,
      init : "excluded"
    },
    focusable : {
      refine : true,
      init : true
    },
    active : {
      check : "Boolean",
      init : false,
      apply : "_applyActive",
      event : "changeActive"
    },
    alwaysOnTop : {
      check : "Boolean",
      init : false,
      event : "changeAlwaysOnTop"
    },
    modal : {
      check : "Boolean",
      init : false,
      event : "changeModal",
      apply : "_applyModal"
    },
    caption : {
      apply : "_applyCaptionBarChange",
      event : "changeCaption",
      nullable : true
    },
    icon : {
      check : "String",
      nullable : true,
      apply : "_applyCaptionBarChange",
      event : "changeIcon",
      themeable : true
    },
    status : {
      check : "String",
      nullable : true,
      apply : "_applyStatus",
      event : "changeStatus"
    },
    showClose : {
      check : "Boolean",
      init : true,
      apply : "_applyCaptionBarChange",
      themeable : true
    },
    showMaximize : {
      check : "Boolean",
      init : true,
      apply : "_applyCaptionBarChange",
      themeable : true
    },
    showMinimize : {
      check : "Boolean",
      init : true,
      apply : "_applyCaptionBarChange",
      themeable : true
    },
    allowClose : {
      check : "Boolean",
      init : true,
      apply : "_applyCaptionBarChange"
    },
    allowMaximize : {
      check : "Boolean",
      init : true,
      apply : "_applyCaptionBarChange"
    },
    allowMinimize : {
      check : "Boolean",
      init : true,
      apply : "_applyCaptionBarChange"
    },
    showStatusbar : {
      check : "Boolean",
      init : false,
      apply : "_applyShowStatusbar"
    }
  },
  members : {
    __restoredTop : null,
    __restoredLeft : null,
    getChildrenContainer : function(){

      return this.getChildControl("pane");
    },
    _forwardStates : {
      active : true,
      maximized : true,
      showStatusbar : true,
      modal : true
    },
    setLayoutParent : function(parent){

      if(qx.core.Environment.get("qx.debug")){

        parent && this.assertInterface(parent, qx.ui.window.IDesktop, "Windows can only be added to widgets, which implement the interface " + "qx.ui.window.IDesktop. All root widgets implement this interface.");
      };
      this.base(arguments, parent);
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "statusbar":
      control = new qx.ui.container.Composite(new qx.ui.layout.HBox());
      this._add(control);
      control.add(this.getChildControl("statusbar-text"));
      break;case "statusbar-text":
      control = new qx.ui.basic.Label();
      control.setValue(this.getStatus());
      break;case "pane":
      control = new qx.ui.container.Composite();
      this._add(control, {
        flex : 1
      });
      break;case "captionbar":
      var layout = new qx.ui.layout.Grid();
      layout.setRowFlex(0, 1);
      layout.setColumnFlex(1, 1);
      control = new qx.ui.container.Composite(layout);
      this._add(control);
      control.addListener("dbltap", this._onCaptionPointerDblTap, this);
      this._activateMoveHandle(control);
      break;case "icon":
      control = new qx.ui.basic.Image(this.getIcon());
      this.getChildControl("captionbar").add(control, {
        row : 0,
        column : 0
      });
      break;case "title":
      control = new qx.ui.basic.Label(this.getCaption());
      control.setWidth(0);
      control.setAllowGrowX(true);
      var captionBar = this.getChildControl("captionbar");
      captionBar.add(control, {
        row : 0,
        column : 1
      });
      break;case "minimize-button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.addListener("execute", this._onMinimizeButtonTap, this);
      this.getChildControl("captionbar").add(control, {
        row : 0,
        column : 2
      });
      break;case "restore-button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.addListener("execute", this._onRestoreButtonTap, this);
      this.getChildControl("captionbar").add(control, {
        row : 0,
        column : 3
      });
      break;case "maximize-button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.addListener("execute", this._onMaximizeButtonTap, this);
      this.getChildControl("captionbar").add(control, {
        row : 0,
        column : 4
      });
      break;case "close-button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.addListener("execute", this._onCloseButtonTap, this);
      this.getChildControl("captionbar").add(control, {
        row : 0,
        column : 6
      });
      break;};
      return control || this.base(arguments, id);
    },
    _updateCaptionBar : function(){

      var btn;
      var icon = this.getIcon();
      if(icon){

        this.getChildControl("icon").setSource(icon);
        this._showChildControl("icon");
      } else {

        this._excludeChildControl("icon");
      };
      var caption = this.getCaption();
      if(caption){

        this.getChildControl("title").setValue(caption);
        this._showChildControl("title");
      } else {

        this._excludeChildControl("title");
      };
      if(this.getShowMinimize()){

        this._showChildControl("minimize-button");
        btn = this.getChildControl("minimize-button");
        this.getAllowMinimize() ? btn.resetEnabled() : btn.setEnabled(false);
      } else {

        this._excludeChildControl("minimize-button");
      };
      if(this.getShowMaximize()){

        if(this.isMaximized()){

          this._showChildControl("restore-button");
          this._excludeChildControl("maximize-button");
        } else {

          this._showChildControl("maximize-button");
          this._excludeChildControl("restore-button");
        };
        btn = this.getChildControl("maximize-button");
        this.getAllowMaximize() ? btn.resetEnabled() : btn.setEnabled(false);
      } else {

        this._excludeChildControl("maximize-button");
        this._excludeChildControl("restore-button");
      };
      if(this.getShowClose()){

        this._showChildControl("close-button");
        btn = this.getChildControl("close-button");
        this.getAllowClose() ? btn.resetEnabled() : btn.setEnabled(false);
      } else {

        this._excludeChildControl("close-button");
      };
    },
    close : function(){

      if(!this.isVisible()){

        return;
      };
      if(this.fireNonBubblingEvent("beforeClose", qx.event.type.Event, [false, true])){

        this.hide();
        this.fireEvent("close");
      };
    },
    open : function(){

      this.show();
      this.setActive(true);
      this.focus();
    },
    center : function(){

      var parent = this.getLayoutParent();
      if(parent){

        var bounds = parent.getBounds();
        if(bounds){

          var hint = this.getSizeHint();
          var left = Math.round((bounds.width - hint.width) / 2);
          var top = Math.round((bounds.height - hint.height) / 2);
          if(top < 0){

            top = 0;
          };
          this.moveTo(left, top);
          return;
        };
      };
      if(qx.core.Environment.get("qx.debug")){

        this.warn("Centering depends on parent bounds!");
      };
    },
    maximize : function(){

      if(this.isMaximized()){

        return;
      };
      var parent = this.getLayoutParent();
      if(parent != null && parent.supportsMaximize()){

        if(this.fireNonBubblingEvent("beforeMaximize", qx.event.type.Event, [false, true])){

          if(!this.isVisible()){

            this.open();
          };
          var props = this.getLayoutProperties();
          this.__restoredLeft = props.left === undefined ? 0 : props.left;
          this.__restoredTop = props.top === undefined ? 0 : props.top;
          this.setLayoutProperties({
            left : null,
            top : null,
            edge : 0
          });
          this.addState("maximized");
          this._updateCaptionBar();
          this.fireEvent("maximize");
        };
      };
    },
    minimize : function(){

      if(!this.isVisible()){

        return;
      };
      if(this.fireNonBubblingEvent("beforeMinimize", qx.event.type.Event, [false, true])){

        var props = this.getLayoutProperties();
        this.__restoredLeft = props.left === undefined ? 0 : props.left;
        this.__restoredTop = props.top === undefined ? 0 : props.top;
        this.removeState("maximized");
        this.hide();
        this.fireEvent("minimize");
      };
    },
    restore : function(){

      if(this.getMode() === "normal"){

        return;
      };
      if(this.fireNonBubblingEvent("beforeRestore", qx.event.type.Event, [false, true])){

        if(!this.isVisible()){

          this.open();
        };
        var left = this.__restoredLeft;
        var top = this.__restoredTop;
        this.setLayoutProperties({
          edge : null,
          left : left,
          top : top
        });
        this.removeState("maximized");
        this._updateCaptionBar();
        this.fireEvent("restore");
      };
    },
    moveTo : function(left, top){

      if(this.isMaximized()){

        return;
      };
      this.setLayoutProperties({
        left : left,
        top : top
      });
    },
    isMaximized : function(){

      return this.hasState("maximized");
    },
    getMode : function(){

      if(!this.isVisible()){

        return "minimized";
      } else {

        if(this.isMaximized()){

          return "maximized";
        } else {

          return "normal";
        };
      };
    },
    _applyActive : function(value, old){

      if(old){

        this.removeState("active");
      } else {

        this.addState("active");
      };
    },
    _applyModal : function(value, old){

      if(old){

        this.removeState("modal");
      } else {

        this.addState("modal");
      };
    },
    _getContentPaddingTarget : function(){

      return this.getChildControl("pane");
    },
    _applyShowStatusbar : function(value, old){

      var resizeFrame = this._getResizeFrame();
      if(value){

        this.addState("showStatusbar");
        resizeFrame.addState("showStatusbar");
      } else {

        this.removeState("showStatusbar");
        resizeFrame.removeState("showStatusbar");
      };
      if(value){

        this._showChildControl("statusbar");
      } else {

        this._excludeChildControl("statusbar");
      };
    },
    _applyCaptionBarChange : function(value, old){

      this._updateCaptionBar();
    },
    _applyStatus : function(value, old){

      var label = this.getChildControl("statusbar-text", true);
      if(label){

        label.setValue(value);
      };
    },
    _applyFocusable : function(value, old){

      if(qx.core.Environment.get("engine.name") !== "mshtml"){

        this.base(arguments, value, old);
      };
    },
    _onWindowEventStop : function(e){

      e.stopPropagation();
    },
    _onWindowPointerDown : function(e){

      this.setActive(true);
    },
    _onWindowFocusOut : function(e){

      if(this.getModal()){

        return;
      };
      var current = e.getRelatedTarget();
      if(current != null && !qx.ui.core.Widget.contains(this, current)){

        this.setActive(false);
      };
    },
    _onCaptionPointerDblTap : function(e){

      if(this.getAllowMaximize()){

        this.isMaximized() ? this.restore() : this.maximize();
      };
    },
    _onMinimizeButtonTap : function(e){

      this.minimize();
      this.getChildControl("minimize-button").reset();
    },
    _onRestoreButtonTap : function(e){

      this.restore();
      this.getChildControl("restore-button").reset();
    },
    _onMaximizeButtonTap : function(e){

      this.maximize();
      this.getChildControl("maximize-button").reset();
    },
    _onCloseButtonTap : function(e){

      this.close();
      this.getChildControl("close-button").reset();
    }
  }
});

qx.Class.define("qx.ui.core.FocusHandler", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this.base(arguments);
    this.__roots = {
    };
  },
  members : {
    __roots : null,
    __activeChild : null,
    __focusedChild : null,
    __currentRoot : null,
    connectTo : function(root){

      root.addListener("keypress", this.__onKeyPress, this);
      root.addListener("focusin", this._onFocusIn, this, true);
      root.addListener("focusout", this._onFocusOut, this, true);
      root.addListener("activate", this._onActivate, this, true);
      root.addListener("deactivate", this._onDeactivate, this, true);
    },
    addRoot : function(widget){

      this.__roots[widget.$$hash] = widget;
    },
    removeRoot : function(widget){

      delete this.__roots[widget.$$hash];
    },
    getActiveWidget : function(){

      return this.__activeChild;
    },
    isActive : function(widget){

      return this.__activeChild == widget;
    },
    getFocusedWidget : function(){

      return this.__focusedChild;
    },
    isFocused : function(widget){

      return this.__focusedChild == widget;
    },
    isFocusRoot : function(widget){

      return !!this.__roots[widget.$$hash];
    },
    _onActivate : function(e){

      var target = e.getTarget();
      this.__activeChild = target;
      var root = this.__findFocusRoot(target);
      if(root != this.__currentRoot){

        this.__currentRoot = root;
      };
    },
    _onDeactivate : function(e){

      var target = e.getTarget();
      if(this.__activeChild == target){

        this.__activeChild = null;
      };
    },
    _onFocusIn : function(e){

      var target = e.getTarget();
      if(target != this.__focusedChild){

        this.__focusedChild = target;
        target.visualizeFocus();
      };
    },
    _onFocusOut : function(e){

      var target = e.getTarget();
      if(target == this.__focusedChild){

        this.__focusedChild = null;
        target.visualizeBlur();
      };
    },
    __onKeyPress : function(e){

      if(e.getKeyIdentifier() != "Tab"){

        return;
      };
      if(!this.__currentRoot){

        return;
      };
      e.stopPropagation();
      e.preventDefault();
      var current = this.__focusedChild;
      if(!e.isShiftPressed()){

        var next = current ? this.__getWidgetAfter(current) : this.__getFirstWidget();
      } else {

        var next = current ? this.__getWidgetBefore(current) : this.__getLastWidget();
      };
      if(next){

        next.tabFocus();
      };
    },
    __findFocusRoot : function(widget){

      var roots = this.__roots;
      while(widget){

        if(roots[widget.$$hash]){

          return widget;
        };
        widget = widget.getLayoutParent();
      };
      return null;
    },
    __compareTabOrder : function(widget1, widget2){

      if(widget1 === widget2){

        return 0;
      };
      var tab1 = widget1.getTabIndex() || 0;
      var tab2 = widget2.getTabIndex() || 0;
      if(tab1 != tab2){

        return tab1 - tab2;
      };
      var el1 = widget1.getContentElement().getDomElement();
      var el2 = widget2.getContentElement().getDomElement();
      var Location = qx.bom.element.Location;
      var loc1 = Location.get(el1);
      var loc2 = Location.get(el2);
      if(loc1.top != loc2.top){

        return loc1.top - loc2.top;
      };
      if(loc1.left != loc2.left){

        return loc1.left - loc2.left;
      };
      var z1 = widget1.getZIndex();
      var z2 = widget2.getZIndex();
      if(z1 != z2){

        return z1 - z2;
      };
      return 0;
    },
    __getFirstWidget : function(){

      return this.__getFirst(this.__currentRoot, null);
    },
    __getLastWidget : function(){

      return this.__getLast(this.__currentRoot, null);
    },
    __getWidgetAfter : function(widget){

      var root = this.__currentRoot;
      if(root == widget){

        return this.__getFirstWidget();
      };
      while(widget && widget.getAnonymous()){

        widget = widget.getLayoutParent();
      };
      if(widget == null){

        return [];
      };
      var result = [];
      this.__collectAllAfter(root, widget, result);
      result.sort(this.__compareTabOrder);
      var len = result.length;
      return len > 0 ? result[0] : this.__getFirstWidget();
    },
    __getWidgetBefore : function(widget){

      var root = this.__currentRoot;
      if(root == widget){

        return this.__getLastWidget();
      };
      while(widget && widget.getAnonymous()){

        widget = widget.getLayoutParent();
      };
      if(widget == null){

        return [];
      };
      var result = [];
      this.__collectAllBefore(root, widget, result);
      result.sort(this.__compareTabOrder);
      var len = result.length;
      return len > 0 ? result[len - 1] : this.__getLastWidget();
    },
    __collectAllAfter : function(parent, widget, result){

      var children = parent.getLayoutChildren();
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(!(child instanceof qx.ui.core.Widget)){

          continue;
        };
        if(!this.isFocusRoot(child) && child.isEnabled() && child.isVisible()){

          if(child.isTabable() && this.__compareTabOrder(widget, child) < 0){

            result.push(child);
          };
          this.__collectAllAfter(child, widget, result);
        };
      };
    },
    __collectAllBefore : function(parent, widget, result){

      var children = parent.getLayoutChildren();
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(!(child instanceof qx.ui.core.Widget)){

          continue;
        };
        if(!this.isFocusRoot(child) && child.isEnabled() && child.isVisible()){

          if(child.isTabable() && this.__compareTabOrder(widget, child) > 0){

            result.push(child);
          };
          this.__collectAllBefore(child, widget, result);
        };
      };
    },
    __getFirst : function(parent, firstWidget){

      var children = parent.getLayoutChildren();
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(!(child instanceof qx.ui.core.Widget)){

          continue;
        };
        if(!this.isFocusRoot(child) && child.isEnabled() && child.isVisible()){

          if(child.isTabable()){

            if(firstWidget == null || this.__compareTabOrder(child, firstWidget) < 0){

              firstWidget = child;
            };
          };
          firstWidget = this.__getFirst(child, firstWidget);
        };
      };
      return firstWidget;
    },
    __getLast : function(parent, lastWidget){

      var children = parent.getLayoutChildren();
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(!(child instanceof qx.ui.core.Widget)){

          continue;
        };
        if(!this.isFocusRoot(child) && child.isEnabled() && child.isVisible()){

          if(child.isTabable()){

            if(lastWidget == null || this.__compareTabOrder(child, lastWidget) > 0){

              lastWidget = child;
            };
          };
          lastWidget = this.__getLast(child, lastWidget);
        };
      };
      return lastWidget;
    }
  },
  destruct : function(){

    this._disposeMap("__roots");
    this.__focusedChild = this.__activeChild = this.__currentRoot = null;
  }
});

qx.Class.define("qx.ui.table.pane.Model", {
  extend : qx.core.Object,
  construct : function(tableColumnModel){

    this.base(arguments);
    this.setTableColumnModel(tableColumnModel);
  },
  events : {
    "modelChanged" : "qx.event.type.Event"
  },
  statics : {
    EVENT_TYPE_MODEL_CHANGED : "modelChanged"
  },
  properties : {
    firstColumnX : {
      check : "Integer",
      init : 0,
      apply : "_applyFirstColumnX"
    },
    maxColumnCount : {
      check : "Number",
      init : -1,
      apply : "_applyMaxColumnCount"
    }
  },
  members : {
    __columnCount : null,
    __tableColumnModel : null,
    _applyFirstColumnX : function(value, old){

      this.__columnCount = null;
      this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);
    },
    _applyMaxColumnCount : function(value, old){

      this.__columnCount = null;
      this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);
    },
    setTableColumnModel : function(tableColumnModel){

      if(this.__tableColumnModel){

        this.__tableColumnModel.removeListener("visibilityChangedPre", this._onColVisibilityChanged, this);
        this.__tableColumnModel.removeListener("headerCellRendererChanged", this._onColVisibilityChanged, this);
      };
      this.__tableColumnModel = tableColumnModel;
      this.__tableColumnModel.addListener("visibilityChangedPre", this._onColVisibilityChanged, this);
      this.__tableColumnModel.addListener("headerCellRendererChanged", this._onHeaderCellRendererChanged, this);
      this.__columnCount = null;
    },
    _onColVisibilityChanged : function(evt){

      this.__columnCount = null;
      this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);
    },
    _onHeaderCellRendererChanged : function(evt){

      this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);
    },
    getColumnCount : function(){

      if(this.__columnCount == null){

        var firstX = this.getFirstColumnX();
        var maxColCount = this.getMaxColumnCount();
        var totalColCount = this.__tableColumnModel.getVisibleColumnCount();
        if(maxColCount == -1 || (firstX + maxColCount) > totalColCount){

          this.__columnCount = totalColCount - firstX;
        } else {

          this.__columnCount = maxColCount;
        };
      };
      return this.__columnCount;
    },
    getColumnAtX : function(xPos){

      var firstX = this.getFirstColumnX();
      return this.__tableColumnModel.getVisibleColumnAtX(firstX + xPos);
    },
    getX : function(col){

      var firstX = this.getFirstColumnX();
      var maxColCount = this.getMaxColumnCount();
      var x = this.__tableColumnModel.getVisibleX(col) - firstX;
      if(x >= 0 && (maxColCount == -1 || x < maxColCount)){

        return x;
      } else {

        return -1;
      };
    },
    getColumnLeft : function(col){

      var left = 0;
      var colCount = this.getColumnCount();
      for(var x = 0;x < colCount;x++){

        var currCol = this.getColumnAtX(x);
        if(currCol == col){

          return left;
        };
        left += this.__tableColumnModel.getColumnWidth(currCol);
      };
      return -1;
    },
    getTotalWidth : function(){

      var totalWidth = 0;
      var colCount = this.getColumnCount();
      for(var x = 0;x < colCount;x++){

        var col = this.getColumnAtX(x);
        totalWidth += this.__tableColumnModel.getColumnWidth(col);
      };
      return totalWidth;
    }
  },
  destruct : function(){

    if(this.__tableColumnModel){

      this.__tableColumnModel.removeListener("visibilityChangedPre", this._onColVisibilityChanged, this);
      this.__tableColumnModel.removeListener("headerCellRendererChanged", this._onColVisibilityChanged, this);
    };
    this.__tableColumnModel = null;
  }
});

qx.Class.define("qx.ui.table.model.Simple", {
  extend : qx.ui.table.model.Abstract,
  construct : function(){

    this.base(arguments);
    this.__rowArr = [];
    this.__sortColumnIndex = -1;
    this.__sortMethods = [];
    this.__editableColArr = null;
  },
  properties : {
    caseSensitiveSorting : {
      check : "Boolean",
      init : true
    }
  },
  statics : {
    _defaultSortComparatorAscending : function(row1, row2){

      var obj1 = row1[arguments.callee.columnIndex];
      var obj2 = row2[arguments.callee.columnIndex];
      if(qx.lang.Type.isNumber(obj1) && qx.lang.Type.isNumber(obj2)){

        var result = isNaN(obj1) ? isNaN(obj2) ? 0 : 1 : isNaN(obj2) ? -1 : null;
        if(result != null){

          return result;
        };
      };
      return (obj1 > obj2) ? 1 : ((obj1 == obj2) ? 0 : -1);
    },
    _defaultSortComparatorInsensitiveAscending : function(row1, row2){

      var obj1 = (row1[arguments.callee.columnIndex].toLowerCase ? row1[arguments.callee.columnIndex].toLowerCase() : row1[arguments.callee.columnIndex]);
      var obj2 = (row2[arguments.callee.columnIndex].toLowerCase ? row2[arguments.callee.columnIndex].toLowerCase() : row2[arguments.callee.columnIndex]);
      if(qx.lang.Type.isNumber(obj1) && qx.lang.Type.isNumber(obj2)){

        var result = isNaN(obj1) ? isNaN(obj2) ? 0 : 1 : isNaN(obj2) ? -1 : null;
        if(result != null){

          return result;
        };
      };
      return (obj1 > obj2) ? 1 : ((obj1 == obj2) ? 0 : -1);
    },
    _defaultSortComparatorDescending : function(row1, row2){

      var obj1 = row1[arguments.callee.columnIndex];
      var obj2 = row2[arguments.callee.columnIndex];
      if(qx.lang.Type.isNumber(obj1) && qx.lang.Type.isNumber(obj2)){

        var result = isNaN(obj1) ? isNaN(obj2) ? 0 : 1 : isNaN(obj2) ? -1 : null;
        if(result != null){

          return result;
        };
      };
      return (obj1 < obj2) ? 1 : ((obj1 == obj2) ? 0 : -1);
    },
    _defaultSortComparatorInsensitiveDescending : function(row1, row2){

      var obj1 = (row1[arguments.callee.columnIndex].toLowerCase ? row1[arguments.callee.columnIndex].toLowerCase() : row1[arguments.callee.columnIndex]);
      var obj2 = (row2[arguments.callee.columnIndex].toLowerCase ? row2[arguments.callee.columnIndex].toLowerCase() : row2[arguments.callee.columnIndex]);
      if(qx.lang.Type.isNumber(obj1) && qx.lang.Type.isNumber(obj2)){

        var result = isNaN(obj1) ? isNaN(obj2) ? 0 : 1 : isNaN(obj2) ? -1 : null;
        if(result != null){

          return result;
        };
      };
      return (obj1 < obj2) ? 1 : ((obj1 == obj2) ? 0 : -1);
    }
  },
  members : {
    __rowArr : null,
    __editableColArr : null,
    __sortableColArr : null,
    __sortMethods : null,
    __sortColumnIndex : null,
    __sortAscending : null,
    getRowData : function(rowIndex){

      var rowData = this.__rowArr[rowIndex];
      if(rowData == null || rowData.originalData == null){

        return rowData;
      } else {

        return rowData.originalData;
      };
    },
    getRowDataAsMap : function(rowIndex){

      var rowData = this.__rowArr[rowIndex];
      if(rowData != null){

        var map = {
        };
        for(var col = 0;col < this.getColumnCount();col++){

          map[this.getColumnId(col)] = rowData[col];
        };
        if(rowData.originalData != null){

          for(var key in rowData.originalData){

            if(map[key] == undefined){

              map[key] = rowData.originalData[key];
            };
          };
        };
        return map;
      };
      return (rowData && rowData.originalData) ? rowData.originalData : null;
    },
    getDataAsMapArray : function(){

      var len = this.getRowCount();
      var data = [];
      for(var i = 0;i < len;i++){

        data.push(this.getRowDataAsMap(i));
      };
      return data;
    },
    setEditable : function(editable){

      this.__editableColArr = [];
      for(var col = 0;col < this.getColumnCount();col++){

        this.__editableColArr[col] = editable;
      };
      this.fireEvent("metaDataChanged");
    },
    setColumnEditable : function(columnIndex, editable){

      if(editable != this.isColumnEditable(columnIndex)){

        if(this.__editableColArr == null){

          this.__editableColArr = [];
        };
        this.__editableColArr[columnIndex] = editable;
        this.fireEvent("metaDataChanged");
      };
    },
    isColumnEditable : function(columnIndex){

      return this.__editableColArr ? (this.__editableColArr[columnIndex] == true) : false;
    },
    setColumnSortable : function(columnIndex, sortable){

      if(sortable != this.isColumnSortable(columnIndex)){

        if(this.__sortableColArr == null){

          this.__sortableColArr = [];
        };
        this.__sortableColArr[columnIndex] = sortable;
        this.fireEvent("metaDataChanged");
      };
    },
    isColumnSortable : function(columnIndex){

      return (this.__sortableColArr ? (this.__sortableColArr[columnIndex] !== false) : true);
    },
    sortByColumn : function(columnIndex, ascending){

      var comparator;
      var sortMethods = this.__sortMethods[columnIndex];
      if(sortMethods){

        comparator = (ascending ? sortMethods.ascending : sortMethods.descending);
      } else {

        if(this.getCaseSensitiveSorting()){

          comparator = (ascending ? qx.ui.table.model.Simple._defaultSortComparatorAscending : qx.ui.table.model.Simple._defaultSortComparatorDescending);
        } else {

          comparator = (ascending ? qx.ui.table.model.Simple._defaultSortComparatorInsensitiveAscending : qx.ui.table.model.Simple._defaultSortComparatorInsensitiveDescending);
        };
      };
      comparator.columnIndex = columnIndex;
      this.__rowArr.sort(comparator);
      this.__sortColumnIndex = columnIndex;
      this.__sortAscending = ascending;
      var data = {
        columnIndex : columnIndex,
        ascending : ascending
      };
      this.fireDataEvent("sorted", data);
      this.fireEvent("metaDataChanged");
    },
    setSortMethods : function(columnIndex, compare){

      var methods;
      if(qx.lang.Type.isFunction(compare)){

        methods = {
          ascending : compare,
          descending : function(row1, row2){

            return compare(row2, row1);
          }
        };
      } else {

        methods = compare;
      };
      this.__sortMethods[columnIndex] = methods;
    },
    getSortMethods : function(columnIndex){

      return this.__sortMethods[columnIndex];
    },
    clearSorting : function(){

      if(this.__sortColumnIndex != -1){

        this.__sortColumnIndex = -1;
        this.__sortAscending = true;
        this.fireEvent("metaDataChanged");
      };
    },
    getSortColumnIndex : function(){

      return this.__sortColumnIndex;
    },
    _setSortColumnIndex : function(columnIndex){

      this.__sortColumnIndex = columnIndex;
    },
    isSortAscending : function(){

      return this.__sortAscending;
    },
    _setSortAscending : function(ascending){

      this.__sortAscending = ascending;
    },
    getRowCount : function(){

      return this.__rowArr.length;
    },
    getValue : function(columnIndex, rowIndex){

      if(rowIndex < 0 || rowIndex >= this.__rowArr.length){

        throw new Error("this.__rowArr out of bounds: " + rowIndex + " (0.." + this.__rowArr.length + ")");
      };
      return this.__rowArr[rowIndex][columnIndex];
    },
    setValue : function(columnIndex, rowIndex, value){

      if(this.__rowArr[rowIndex][columnIndex] != value){

        this.__rowArr[rowIndex][columnIndex] = value;
        if(this.hasListener("dataChanged")){

          var data = {
            firstRow : rowIndex,
            lastRow : rowIndex,
            firstColumn : columnIndex,
            lastColumn : columnIndex
          };
          this.fireDataEvent("dataChanged", data);
        };
        if(columnIndex == this.__sortColumnIndex){

          this.clearSorting();
        };
      };
    },
    setData : function(rowArr, clearSorting){

      this.__rowArr = rowArr;
      if(this.hasListener("dataChanged")){

        var data = {
          firstRow : 0,
          lastRow : rowArr.length - 1,
          firstColumn : 0,
          lastColumn : this.getColumnCount() - 1
        };
        this.fireDataEvent("dataChanged", data);
      };
      if(clearSorting !== false){

        this.clearSorting();
      };
    },
    getData : function(){

      return this.__rowArr;
    },
    setDataAsMapArray : function(mapArr, rememberMaps, clearSorting){

      this.setData(this._mapArray2RowArr(mapArr, rememberMaps), clearSorting);
    },
    addRows : function(rowArr, startIndex, clearSorting){

      if(startIndex == null){

        startIndex = this.__rowArr.length;
      };
      rowArr.splice(0, 0, startIndex, 0);
      Array.prototype.splice.apply(this.__rowArr, rowArr);
      var data = {
        firstRow : startIndex,
        lastRow : this.__rowArr.length - 1,
        firstColumn : 0,
        lastColumn : this.getColumnCount() - 1
      };
      this.fireDataEvent("dataChanged", data);
      if(clearSorting !== false){

        this.clearSorting();
      };
    },
    addRowsAsMapArray : function(mapArr, startIndex, rememberMaps, clearSorting){

      this.addRows(this._mapArray2RowArr(mapArr, rememberMaps), startIndex, clearSorting);
    },
    setRows : function(rowArr, startIndex, clearSorting){

      if(startIndex == null){

        startIndex = 0;
      };
      rowArr.splice(0, 0, startIndex, rowArr.length);
      Array.prototype.splice.apply(this.__rowArr, rowArr);
      var data = {
        firstRow : startIndex,
        lastRow : this.__rowArr.length - 1,
        firstColumn : 0,
        lastColumn : this.getColumnCount() - 1
      };
      this.fireDataEvent("dataChanged", data);
      if(clearSorting !== false){

        this.clearSorting();
      };
    },
    setRowsAsMapArray : function(mapArr, startIndex, rememberMaps, clearSorting){

      this.setRows(this._mapArray2RowArr(mapArr, rememberMaps), startIndex, clearSorting);
    },
    removeRows : function(startIndex, howMany, clearSorting){

      this.__rowArr.splice(startIndex, howMany);
      var data = {
        firstRow : startIndex,
        lastRow : this.__rowArr.length - 1,
        firstColumn : 0,
        lastColumn : this.getColumnCount() - 1,
        removeStart : startIndex,
        removeCount : howMany
      };
      this.fireDataEvent("dataChanged", data);
      if(clearSorting !== false){

        this.clearSorting();
      };
    },
    _mapArray2RowArr : function(mapArr, rememberMaps){

      var rowCount = mapArr.length;
      var columnCount = this.getColumnCount();
      var dataArr = new Array(rowCount);
      var columnArr;
      for(var i = 0;i < rowCount;++i){

        columnArr = [];
        if(rememberMaps){

          columnArr.originalData = mapArr[i];
        };
        for(var j = 0;j < columnCount;++j){

          columnArr[j] = mapArr[i][this.getColumnId(j)];
        };
        dataArr[i] = columnArr;
      };
      return dataArr;
    }
  },
  destruct : function(){

    this.__rowArr = this.__editableColArr = this.__sortMethods = this.__sortableColArr = null;
  }
});

qx.Class.define("qx.ui.treevirtual.TreeVirtual", {
  extend : qx.ui.table.Table,
  construct : function(headings, custom){

    if(!custom){

      custom = {
      };
    };
    if(!custom.dataModel){

      custom.dataModel = new qx.ui.treevirtual.SimpleTreeDataModel();
    };
    if(custom.treeColumn === undefined){

      custom.treeColumn = 0;
      custom.dataModel.setTreeColumn(custom.treeColumn);
    };
    if(!custom.treeDataCellRenderer){

      custom.treeDataCellRenderer = new qx.ui.treevirtual.SimpleTreeDataCellRenderer();
    };
    if(!custom.defaultDataCellRenderer){

      custom.defaultDataCellRenderer = new qx.ui.treevirtual.DefaultDataCellRenderer();
    };
    if(!custom.dataRowRenderer){

      custom.dataRowRenderer = new qx.ui.treevirtual.SimpleTreeDataRowRenderer();
    };
    if(!custom.selectionManager){

      custom.selectionManager = function(obj){

        return new qx.ui.treevirtual.SelectionManager(obj);
      };
    };
    if(!custom.tableColumnModel){

      custom.tableColumnModel = function(obj){

        return new qx.ui.table.columnmodel.Resize(obj);
      };
    };
    if(qx.lang.Type.isString(headings)){

      headings = [headings];
    };
    custom.dataModel.setColumns(headings);
    custom.dataModel.setTreeColumn(custom.treeColumn);
    custom.dataModel.setTree(this);
    this.base(arguments, custom.dataModel, custom);
    this.addListener("dataEdited", function(e){

      this.getDataModel().setData();
    }, this);
    this.setColumnVisibilityButtonVisible(headings.length > 1);
    this.setRowHeight(16);
    this.setMetaColumnCounts(headings.length > 1 ? [1, -1] : [1]);
    this.setOverflow("hidden");
    var stdcr = custom.treeDataCellRenderer;
    var ddcr = custom.defaultDataCellRenderer;
    var tcm = this.getTableColumnModel();
    var treeCol = this.getDataModel().getTreeColumn();
    for(var i = 0;i < headings.length;i++){

      tcm.setDataCellRenderer(i, i == treeCol ? stdcr : ddcr);
    };
    this.setDataRowRenderer(custom.dataRowRenderer);
    this.setFocusCellOnPointerMove(true);
    this.setShowCellFocusIndicator(false);
    var scrollers = this._getPaneScrollerArr();
    for(var i = 0;i < scrollers.length;i++){

      scrollers[i].setSelectBeforeFocus(true);
    };
  },
  events : {
    "treeOpenWithContent" : "qx.event.type.Data",
    "treeOpenWhileEmpty" : "qx.event.type.Data",
    "treeClose" : "qx.event.type.Data",
    "changeSelection" : "qx.event.type.Data"
  },
  statics : {
    SelectionMode : {
      NONE : qx.ui.table.selection.Model.NO_SELECTION,
      SINGLE : qx.ui.table.selection.Model.SINGLE_SELECTION,
      SINGLE_INTERVAL : qx.ui.table.selection.Model.SINGLE_INTERVAL_SELECTION,
      MULTIPLE_INTERVAL : qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION,
      MULTIPLE_INTERVAL_TOGGLE : qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION_TOGGLE
    }
  },
  properties : {
    openCloseClickSelectsRow : {
      check : "Boolean",
      init : false
    },
    appearance : {
      refine : true,
      init : "treevirtual"
    }
  },
  members : {
    getDataModel : function(){

      return this.getTableModel();
    },
    setUseTreeLines : function(b){

      var dataModel = this.getDataModel();
      var treeCol = dataModel.getTreeColumn();
      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);
      dcr.setUseTreeLines(b);
      if(dataModel.hasListener("dataChanged")){

        var data = {
          firstRow : 0,
          lastRow : dataModel.getRowCount() - 1,
          firstColumn : 0,
          lastColumn : dataModel.getColumnCount() - 1
        };
        dataModel.fireDataEvent("dataChanged", data);
      };
    },
    getUseTreeLines : function(){

      var treeCol = this.getDataModel().getTreeColumn();
      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);
      return dcr.getUseTreeLines();
    },
    setAlwaysShowOpenCloseSymbol : function(b){

      var dataModel = this.getDataModel();
      var treeCol = dataModel.getTreeColumn();
      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);
      dcr.setAlwaysShowOpenCloseSymbol(b);
      if(dataModel.hasListener("dataChanged")){

        var data = {
          firstRow : 0,
          lastRow : dataModel.getRowCount() - 1,
          firstColumn : 0,
          lastColumn : dataModel.getColumnCount() - 1
        };
        dataModel.fireDataEvent("dataChanged", data);
      };
    },
    setExcludeFirstLevelTreeLines : function(b){

      var dataModel = this.getDataModel();
      var treeCol = dataModel.getTreeColumn();
      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);
      dcr.setExcludeFirstLevelTreeLines(b);
      if(dataModel.hasListener("dataChanged")){

        var data = {
          firstRow : 0,
          lastRow : dataModel.getRowCount() - 1,
          firstColumn : 0,
          lastColumn : dataModel.getColumnCount() - 1
        };
        dataModel.fireDataEvent("dataChanged", data);
      };
    },
    getExcludeFirstLevelTreeLines : function(){

      var treeCol = this.getDataModel().getTreeColumn();
      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);
      return dcr.getExcludeFirstLevelTreeLines();
    },
    getAlwaysShowOpenCloseSymbol : function(){

      var treeCol = this.getDataModel().getTreeColumn();
      var dcr = this.getTableColumnModel().getDataCellRenderer(treeCol);
      return dcr.getAlwaysShowOpenCloseSymbol();
    },
    setSelectionMode : function(mode){

      this.getSelectionModel().setSelectionMode(mode);
    },
    getSelectionMode : function(){

      return this.getSelectionModel().getSelectionMode();
    },
    getHierarchy : function(nodeReference){

      var _this = this;
      var components = [];
      var node;
      var nodeId;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
        nodeId = node.nodeId;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
      } else {

        throw new Error("Expected node object or node id");
      };
      function addHierarchy(nodeId){

        if(!nodeId){

          return;
        };
        var node = _this.getDataModel().getData()[nodeId];
        components.unshift(node.label);
        addHierarchy(node.parentNodeId);
      };
      addHierarchy(nodeId);
      return components;
    },
    getSelectedNodes : function(){

      return this.getDataModel().getSelectedNodes();
    },
    _onKeyPress : function(evt){

      if(!this.getEnabled()){

        return;
      };
      var identifier = evt.getKeyIdentifier();
      var consumed = false;
      var modifiers = evt.getModifiers();
      if(modifiers == 0){

        switch(identifier){case "Enter":
        var dm = this.getDataModel();
        var focusedCol = this.getFocusedColumn();
        var treeCol = dm.getTreeColumn();
        if(focusedCol == treeCol){

          var focusedRow = this.getFocusedRow();
          var node = dm.getNode(focusedRow);
          if(!node.bHideOpenClose && node.type != qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF){

            dm.setState(node, {
              bOpened : !node.bOpened
            });
          };
          consumed = true;
        };
        break;case "Left":
        this.moveFocusedCell(-1, 0);
        break;case "Right":
        this.moveFocusedCell(1, 0);
        break;};
      } else if(modifiers == qx.event.type.Dom.CTRL_MASK){

        switch(identifier){case "Left":
        var dm = this.getDataModel();
        var focusedRow = this.getFocusedRow();
        var treeCol = dm.getTreeColumn();
        var node = dm.getNode(focusedRow);
        if((node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH) && !node.bHideOpenClose && node.bOpened){

          dm.setState(node, {
            bOpened : !node.bOpened
          });
        };
        this.setFocusedCell(treeCol, focusedRow, true);
        consumed = true;
        break;case "Right":
        var dm = this.getDataModel();
        focusedRow = this.getFocusedRow();
        treeCol = dm.getTreeColumn();
        node = dm.getNode(focusedRow);
        if((node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH) && !node.bHideOpenClose && !node.bOpened){

          dm.setState(node, {
            bOpened : !node.bOpened
          });
        };
        this.setFocusedCell(treeCol, focusedRow, true);
        consumed = true;
        break;};
      } else if(modifiers == qx.event.type.Dom.SHIFT_MASK){

        switch(identifier){case "Left":
        var dm = this.getDataModel();
        var focusedRow = this.getFocusedRow();
        var treeCol = dm.getTreeColumn();
        var node = dm.getNode(focusedRow);
        if(node.parentNodeId){

          var rowIndex = dm.getRowFromNodeId(node.parentNodeId);
          this.setFocusedCell(this._focusedCol, rowIndex, true);
        };
        consumed = true;
        break;case "Right":
        var dm = this.getDataModel();
        focusedRow = this.getFocusedRow();
        treeCol = dm.getTreeColumn();
        node = dm.getNode(focusedRow);
        if((node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH) && !node.bHideOpenClose){

          if(!node.bOpened){

            dm.setState(node, {
              bOpened : !node.bOpened
            });
          };
          if(node.children.length > 0){

            this.moveFocusedCell(0, 1);
          };
        };
        consumed = true;
        break;};
      };;
      if(consumed){

        evt.preventDefault();
        evt.stopPropagation();
      } else {

        this.base(arguments, evt);
      };
    },
    _onSelectionChanged : function(evt){

      this.getDataModel()._clearSelections();
      if(this.getSelectionMode() != qx.ui.treevirtual.TreeVirtual.SelectionMode.NONE){

        var selectedNodes = this._calculateSelectedNodes();
        this.fireDataEvent("changeSelection", selectedNodes);
      };
      this.base(arguments, evt);
    },
    _calculateSelectedNodes : function(){

      var stdcm = this.getDataModel();
      var selectedRanges = this.getSelectionModel().getSelectedRanges();
      var selectedNodes = [];
      var node;
      for(var i = 0;i < selectedRanges.length;i++){

        for(var j = selectedRanges[i].minIndex;j <= selectedRanges[i].maxIndex;j++){

          node = stdcm.getNode(j);
          stdcm.setState(node, {
            bSelected : true
          });
          selectedNodes.push(node);
        };
      };
      return selectedNodes;
    },
    setOverflow : function(s){

      if(s != "hidden"){

        throw new Error("Tree overflow must be hidden.  " + "The internal elements of it will scroll.");
      };
    }
  }
});

qx.Class.define("qx.ui.treevirtual.SimpleTreeDataCellRenderer", {
  extend : qx.ui.table.cellrenderer.Abstract,
  construct : function(){

    var STDCR = qx.ui.treevirtual.SimpleTreeDataCellRenderer;
    if(STDCR.__bVirgin){

      STDCR.__preloadImages();
      STDCR.__bVirgin = false;
    };
    this.base(arguments);
    this.__am = qx.util.AliasManager.getInstance();
    this.__rm = qx.util.ResourceManager.getInstance();
    this.__tm = qx.theme.manager.Appearance.getInstance();
    this.BLANK = this.__rm.toUri(this.__am.resolve("static/blank.gif"));
  },
  statics : {
    __icon : {
    },
    __bVirgin : true,
    __preloadImages : function(){

      var STDCR = qx.ui.treevirtual.SimpleTreeDataCellRenderer;
      var ImageLoader = qx.io.ImageLoader;
      var am = qx.util.AliasManager.getInstance();
      var rm = qx.util.ResourceManager.getInstance();
      var tm = qx.theme.manager.Appearance.getInstance();
      var loadImage = function(f){

        ImageLoader.load(rm.toUri(am.resolve(f)));
      };
      STDCR.__icon.line = tm.styleFrom("treevirtual-line");
      loadImage(STDCR.__icon.line.icon);
      STDCR.__icon.contract = tm.styleFrom("treevirtual-contract");
      loadImage(STDCR.__icon.contract.icon);
      STDCR.__icon.expand = tm.styleFrom("treevirtual-expand");
      loadImage(STDCR.__icon.expand.icon);
      STDCR.__icon.onlyContract = tm.styleFrom("treevirtual-only-contract");
      loadImage(STDCR.__icon.onlyContract.icon);
      STDCR.__icon.onlyExpand = tm.styleFrom("treevirtual-only-expand");
      loadImage(STDCR.__icon.onlyExpand.icon);
      STDCR.__icon.startContract = tm.styleFrom("treevirtual-start-contract");
      loadImage(STDCR.__icon.startContract.icon);
      STDCR.__icon.startExpand = tm.styleFrom("treevirtual-start-expand");
      loadImage(STDCR.__icon.startExpand.icon);
      STDCR.__icon.endContract = tm.styleFrom("treevirtual-end-contract");
      loadImage(STDCR.__icon.endContract.icon);
      STDCR.__icon.endExpand = tm.styleFrom("treevirtual-end-expand");
      loadImage(STDCR.__icon.endExpand.icon);
      STDCR.__icon.crossContract = tm.styleFrom("treevirtual-cross-contract");
      loadImage(STDCR.__icon.crossContract.icon);
      STDCR.__icon.crossExpand = tm.styleFrom("treevirtual-cross-expand");
      loadImage(STDCR.__icon.crossExpand.icon);
      STDCR.__icon.end = tm.styleFrom("treevirtual-end");
      loadImage(STDCR.__icon.end.icon);
      STDCR.__icon.cross = tm.styleFrom("treevirtual-cross");
      loadImage(STDCR.__icon.cross.icon);
    }
  },
  properties : {
    useTreeLines : {
      check : "Boolean",
      init : true
    },
    excludeFirstLevelTreeLines : {
      check : "Boolean",
      init : false
    },
    alwaysShowOpenCloseSymbol : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __am : null,
    __tm : null,
    __rm : null,
    _onChangeTheme : function(){

      this.base(arguments);
      qx.ui.treevirtual.SimpleTreeDataCellRenderer.__preloadImages();
    },
    _getCellStyle : function(cellInfo){

      var node = cellInfo.value;
      var html = this.base(arguments, cellInfo) + (node.cellStyle ? node.cellStyle + ";" : "");
      return html;
    },
    _getContentHtml : function(cellInfo){

      var html = "";
      var pos = 0;
      var extra = this._addExtraContentBeforeIndentation(cellInfo, pos);
      html += extra.html;
      pos = extra.pos;
      var indentation = this._addIndentation(cellInfo, pos);
      html += indentation.html;
      pos = indentation.pos;
      extra = this._addExtraContentBeforeIcon(cellInfo, pos);
      html += extra.html;
      pos = extra.pos;
      var icon = this._addIcon(cellInfo, pos);
      html += icon.html;
      pos = icon.pos;
      extra = this._addExtraContentBeforeLabel(cellInfo, pos);
      html += extra.html;
      pos = extra.pos;
      html += this._addLabel(cellInfo, pos);
      return html;
    },
    _addImage : function(imageInfo){

      var html = [];
      var source = this.__rm.toUri(this.__am.resolve(imageInfo.url));
      if(imageInfo.position){

        var pos = imageInfo.position;
        html.push('<div style="position:absolute;');
        if(qx.core.Environment.get("css.boxsizing")){

          html.push(qx.bom.element.BoxSizing.compile("content-box"));
        };
        if(pos.top !== undefined){

          html.push('top:' + pos.top + 'px;');
        };
        if(pos.right !== undefined){

          html.push('right:' + pos.right + 'px;');
        };
        if(pos.bottom !== undefined){

          html.push('bottom:' + pos.bottom + 'px;');
        };
        if(pos.left !== undefined){

          html.push('left:' + pos.left + 'px;');
        };
        if(pos.width !== undefined){

          html.push('width:' + pos.width + 'px;');
        };
        if(pos.height !== undefined){

          html.push('height:' + pos.height + 'px;');
        };
        html.push('">');
      };
      html.push('<div style="');
      html.push('background-image:url(' + source + ');');
      html.push('background-repeat:no-repeat;');
      if(imageInfo.imageWidth && imageInfo.imageHeight){

        html.push(';width:' + imageInfo.imageWidth + 'px' + ';height:' + imageInfo.imageHeight + 'px');
      };
      var tooltip = imageInfo.tooltip;
      if(tooltip != null){

        html.push('" title="' + tooltip);
      };
      html.push('">&nbsp;</div>');
      if(imageInfo.position){

        html.push('</div>');
      };
      return html.join("");
    },
    _addIndentation : function(cellInfo, pos){

      var node = cellInfo.value;
      var imageData;
      var html = "";
      var bUseTreeLines = this.getUseTreeLines();
      var bExcludeFirstLevelTreeLines = this.getExcludeFirstLevelTreeLines();
      var bAlwaysShowOpenCloseSymbol = this.getAlwaysShowOpenCloseSymbol();
      for(var i = 0;i < node.level;i++){

        imageData = this._getIndentSymbol(i, node, bUseTreeLines, bAlwaysShowOpenCloseSymbol, bExcludeFirstLevelTreeLines);
        var rowHeight = cellInfo.table.getRowHeight();
        html += this._addImage({
          url : imageData.icon,
          position : {
            top : 0 + (imageData.paddingTop || 0),
            left : pos + (imageData.paddingLeft || 0),
            width : rowHeight + 3,
            height : rowHeight
          },
          imageWidth : rowHeight,
          imageHeight : rowHeight
        });
        pos += rowHeight + 3;
      };
      return ({
        html : html,
        pos : pos
      });
    },
    _addIcon : function(cellInfo, pos){

      var node = cellInfo.value;
      var imageUrl = (node.bSelected ? node.iconSelected : node.icon);
      if(!imageUrl){

        if(node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF){

          var o = this.__tm.styleFrom("treevirtual-file");
        } else {

          var states = {
            opened : node.bOpened
          };
          var o = this.__tm.styleFrom("treevirtual-folder", states);
        };
        imageUrl = o.icon;
      };
      var rowHeight = cellInfo.table.getRowHeight();
      var html = this._addImage({
        url : imageUrl,
        position : {
          top : 0,
          left : pos,
          width : rowHeight + 3,
          height : rowHeight
        },
        imageWidth : rowHeight,
        imageHeight : rowHeight
      });
      return ({
        html : html,
        pos : pos + rowHeight + 3
      });
    },
    _addLabel : function(cellInfo, pos){

      var node = cellInfo.value;
      var label = node.label;
      if(qx.core.Environment.get("qx.dynlocale")){

        if(label && label.translate){

          label = label.translate();
        };
      };
      var html = '<div style="position:absolute;' + 'left:' + pos + 'px;' + 'top:0;' + (node.labelStyle ? node.labelStyle + ";" : "") + '">' + '<span' + (cellInfo.labelSpanStyle ? 'style="' + cellInfo.labelSpanStyle + ';"' : "") + '>' + label + '</span>' + '</div>';
      return html;
    },
    _addExtraContentBeforeIndentation : function(cellInfo, pos){

      return {
        html : '',
        pos : pos
      };
    },
    _addExtraContentBeforeIcon : function(cellInfo, pos){

      return {
        html : '',
        pos : pos
      };
    },
    _addExtraContentBeforeLabel : function(cellInfo, pos){

      return {
        html : '',
        pos : pos
      };
    },
    _getIndentSymbol : function(column, node, bUseTreeLines, bAlwaysShowOpenCloseSymbol, bExcludeFirstLevelTreeLines){

      var STDCR = qx.ui.treevirtual.SimpleTreeDataCellRenderer;
      if(column == 0 && bExcludeFirstLevelTreeLines){

        bUseTreeLines = false;
      };
      if(column < node.level - 1){

        return (bUseTreeLines && !node.lastChild[column] ? STDCR.__icon.line : {
          icon : this.BLANK
        });
      };
      var bLastChild = node.lastChild[node.lastChild.length - 1];
      if(node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH && !node.bHideOpenClose){

        if(node.children.length > 0 || bAlwaysShowOpenCloseSymbol){

          if(!bUseTreeLines){

            return (node.bOpened ? STDCR.__icon.contract : STDCR.__icon.expand);
          };
          if(column == 0 && node.bFirstChild){

            if(bLastChild){

              return (node.bOpened ? STDCR.__icon.onlyContract : STDCR.__icon.onlyExpand);
            } else {

              return (node.bOpened ? STDCR.__icon.startContract : STDCR.__icon.startExpand);
            };
          };
          if(bLastChild){

            return (node.bOpened ? STDCR.__icon.endContract : STDCR.__icon.endExpand);
          };
          return (node.bOpened ? STDCR.__icon.crossContract : STDCR.__icon.crossExpand);
        };
      };
      if(bUseTreeLines){

        if(node.parentNodeId == 0){

          if(bLastChild && node.bFirstChild){

            return {
              icon : this.BLANK
            };
          };
          if(bLastChild){

            return STDCR.__icon.end;
          };
          if(node.bFirstChild && node.type == qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH){

            return (node.bOpened ? STDCR.__icon.startContract : STDCR.__icon.startExpand);
          };
        };
        return (bLastChild ? STDCR.__icon.end : STDCR.__icon.cross);
      };
      return {
        icon : this.BLANK
      };
    }
  },
  destruct : function(){

    this.__am = this.__rm = this.__tm = null;
  }
});

qx.Class.define("qx.ui.treevirtual.DefaultDataCellRenderer", {
  extend : qx.ui.table.cellrenderer.Default
});

qx.Class.define("qx.ui.treevirtual.SimpleTreeDataRowRenderer", {
  extend : qx.ui.table.rowrenderer.Default,
  construct : function(){

    this.base(arguments);
  },
  members : {
    updateDataRowElement : function(rowInfo, rowElem){

      var tree = rowInfo.table;
      var rowData = rowInfo.rowData;
      var tableModel = tree.getTableModel();
      var treeCol = tableModel.getTreeColumn();
      var node = rowData[treeCol];
      rowInfo.selected = node.bSelected;
      if(node.bSelected){

        var row = rowInfo.row;
        tree.getSelectionModel()._addSelectionInterval(row, row);
      };
      this.base(arguments, rowInfo, rowElem);
    }
  }
});

qx.Class.define("qx.ui.virtual.selection.Abstract", {
  extend : qx.ui.core.selection.Abstract,
  construct : function(pane, selectionDelegate){

    this.base(arguments);
    if(qx.core.Environment.get("qx.debug")){

      this.assertInstance(pane, qx.ui.virtual.core.Pane);
    };
    this._pane = pane;
    this._delegate = selectionDelegate || {
    };
  },
  members : {
    _isSelectable : function(item){

      return this._delegate.isItemSelectable ? this._delegate.isItemSelectable(item) : true;
    },
    _styleSelectable : function(item, type, enabled){

      if(this._delegate.styleSelectable){

        this._delegate.styleSelectable(item, type, enabled);
      };
    },
    attachPointerEvents : function(){

      var paneElement = this._pane.getContentElement();
      paneElement.addListener("pointerdown", this.handlePointerDown, this);
      paneElement.addListener("tap", this.handleTap, this);
      paneElement.addListener("pointerover", this.handlePointerOver, this);
      paneElement.addListener("pointermove", this.handlePointerMove, this);
      paneElement.addListener("losecapture", this.handleLoseCapture, this);
    },
    detatchPointerEvents : function(){

      var paneElement = this._pane.getContentElement();
      paneElement.removeListener("pointerdown", this.handlePointerDown, this);
      paneElement.removeListener("tap", this.handleTap, this);
      paneElement.removeListener("pointerover", this.handlePointerOver, this);
      paneElement.removeListener("pointermove", this.handlePointerMove, this);
      paneElement.removeListener("losecapture", this.handleLoseCapture, this);
    },
    attachKeyEvents : function(target){

      target.addListener("keypress", this.handleKeyPress, this);
    },
    detachKeyEvents : function(target){

      target.removeListener("keypress", this.handleKeyPress, this);
    },
    attachListEvents : function(list){

      list.addListener("addItem", this.handleAddItem, this);
      list.addListener("removeItem", this.handleRemoveItem, this);
    },
    detachListEvents : function(list){

      list.removeListener("addItem", this.handleAddItem, this);
      list.removeListener("removeItem", this.handleRemoveItem, this);
    },
    _capture : function(){

      this._pane.capture();
    },
    _releaseCapture : function(){

      this._pane.releaseCapture();
    },
    _getScroll : function(){

      return {
        left : this._pane.getScrollX(),
        top : this._pane.getScrollY()
      };
    },
    _scrollBy : function(xoff, yoff){

      this._pane.setScrollX(this._pane.getScrollX() + xoff);
      this._pane.setScrollY(this._pane.getScrollY() + yoff);
    },
    _getLocation : function(){

      var elem = this._pane.getContentElement().getDomElement();
      return elem ? qx.bom.element.Location.get(elem) : null;
    },
    _getDimension : function(){

      return this._pane.getInnerSize();
    }
  },
  destruct : function(){

    this._pane = this._delegate = null;
  }
});

qx.Class.define("qx.ui.virtual.core.Pane", {
  extend : qx.ui.core.Widget,
  construct : function(rowCount, columnCount, cellHeight, cellWidth){

    this.base(arguments);
    this.__rowConfig = new qx.ui.virtual.core.Axis(cellHeight, rowCount);
    this.__columnConfig = new qx.ui.virtual.core.Axis(cellWidth, columnCount);
    this.__scrollTop = 0;
    this.__scrollLeft = 0;
    this.__paneHeight = 0;
    this.__paneWidth = 0;
    this.__layerWindow = {
    };
    this.__jobs = {
    };
    this.__layerContainer = new qx.ui.container.Composite();
    this.__layerContainer.setUserBounds(0, 0, 0, 0);
    this._add(this.__layerContainer);
    this.__layers = [];
    this.__rowConfig.addListener("change", this.fullUpdate, this);
    this.__columnConfig.addListener("change", this.fullUpdate, this);
    this.addListener("resize", this._onResize, this);
    this.addListenerOnce("appear", this._onAppear, this);
    this.addListener("pointerdown", this._onPointerDown, this);
    this.addListener("tap", this._onTap, this);
    this.addListener("dbltap", this._onDbltap, this);
    this.addListener("contextmenu", this._onContextmenu, this);
  },
  events : {
    cellTap : "qx.ui.virtual.core.CellEvent",
    cellContextmenu : "qx.ui.virtual.core.CellEvent",
    cellDbltap : "qx.ui.virtual.core.CellEvent",
    update : "qx.event.type.Event",
    scrollX : "qx.event.type.Data",
    scrollY : "qx.event.type.Data"
  },
  properties : {
    width : {
      refine : true,
      init : 400
    },
    height : {
      refine : true,
      init : 300
    }
  },
  members : {
    __rowConfig : null,
    __columnConfig : null,
    __scrollTop : null,
    __scrollLeft : null,
    __paneHeight : null,
    __paneWidth : null,
    __layerWindow : null,
    __jobs : null,
    __layerContainer : null,
    __layers : null,
    __dontFireUpdate : null,
    __columnSizes : null,
    __rowSizes : null,
    __pointerDownCoords : null,
    getRowConfig : function(){

      return this.__rowConfig;
    },
    getColumnConfig : function(){

      return this.__columnConfig;
    },
    getChildren : function(){

      return [this.__layerContainer];
    },
    addLayer : function(layer){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInterface(layer, qx.ui.virtual.core.ILayer);
      };
      this.__layers.push(layer);
      layer.setUserBounds(0, 0, 0, 0);
      this.__layerContainer.add(layer);
    },
    getLayers : function(){

      return this.__layers;
    },
    getVisibleLayers : function(){

      var layers = [];
      for(var i = 0;i < this.__layers.length;i++){

        var layer = this.__layers[i];
        if(layer.isVisible()){

          layers.push(layer);
        };
      };
      return layers;
    },
    getScrollMaxX : function(){

      var paneSize = this.getInnerSize();
      if(paneSize){

        return Math.max(0, this.__columnConfig.getTotalSize() - paneSize.width);
      };
      return 0;
    },
    getScrollMaxY : function(){

      var paneSize = this.getInnerSize();
      if(paneSize){

        return Math.max(0, this.__rowConfig.getTotalSize() - paneSize.height);
      };
      return 0;
    },
    setScrollY : function(value){

      var max = this.getScrollMaxY();
      if(value < 0){

        value = 0;
      } else if(value > max){

        value = max;
      };
      if(this.__scrollTop !== value){

        var old = this.__scrollTop;
        this.__scrollTop = value;
        this._deferredUpdateScrollPosition();
        this.fireDataEvent("scrollY", value, old);
      };
    },
    getScrollY : function(){

      return this.__scrollTop;
    },
    setScrollX : function(value){

      var max = this.getScrollMaxX();
      if(value < 0){

        value = 0;
      } else if(value > max){

        value = max;
      };
      if(value !== this.__scrollLeft){

        var old = this.__scrollLeft;
        this.__scrollLeft = value;
        this._deferredUpdateScrollPosition();
        this.fireDataEvent("scrollX", value, old);
      };
    },
    getScrollX : function(){

      return this.__scrollLeft;
    },
    getScrollSize : function(){

      return {
        width : this.__columnConfig.getTotalSize(),
        height : this.__rowConfig.getTotalSize()
      };
    },
    scrollRowIntoView : function(row){

      var bounds = this.getBounds();
      if(!bounds){

        this.addListenerOnce("appear", function(){

          qx.event.Timer.once(function(){

            this.scrollRowIntoView(row);
          }, this, 0);
        }, this);
        return;
      };
      var itemTop = this.__rowConfig.getItemPosition(row);
      var itemBottom = itemTop + this.__rowConfig.getItemSize(row);
      var scrollTop = this.getScrollY();
      if(itemTop < scrollTop){

        this.setScrollY(itemTop);
      } else if(itemBottom > scrollTop + bounds.height){

        this.setScrollY(itemBottom - bounds.height);
      };
    },
    scrollColumnIntoView : function(column){

      var bounds = this.getBounds();
      if(!bounds){

        this.addListenerOnce("appear", function(){

          qx.event.Timer.once(function(){

            this.scrollColumnIntoView(column);
          }, this, 0);
        }, this);
        return;
      };
      var itemLeft = this.__columnConfig.getItemPosition(column);
      var itemRight = itemLeft + this.__columnConfig.getItemSize(column);
      var scrollLeft = this.getScrollX();
      if(itemLeft < scrollLeft){

        this.setScrollX(itemLeft);
      } else if(itemRight > scrollLeft + bounds.width){

        this.setScrollX(itemRight - bounds.width);
      };
    },
    scrollCellIntoView : function(column, row){

      var bounds = this.getBounds();
      if(!bounds){

        this.addListenerOnce("appear", function(){

          qx.event.Timer.once(function(){

            this.scrollCellIntoView(column, row);
          }, this, 0);
        }, this);
        return;
      };
      this.scrollColumnIntoView(column);
      this.scrollRowIntoView(row);
    },
    getCellAtPosition : function(documentX, documentY){

      var rowData,columnData;
      var paneLocation = this.getContentLocation();
      if(!paneLocation || documentY < paneLocation.top || documentY >= paneLocation.bottom || documentX < paneLocation.left || documentX >= paneLocation.right){

        return null;
      };
      rowData = this.__rowConfig.getItemAtPosition(this.getScrollY() + documentY - paneLocation.top);
      columnData = this.__columnConfig.getItemAtPosition(this.getScrollX() + documentX - paneLocation.left);
      if(!rowData || !columnData){

        return null;
      };
      return {
        row : rowData.index,
        column : columnData.index
      };
    },
    prefetchX : function(minLeft, maxLeft, minRight, maxRight){

      var layers = this.getVisibleLayers();
      if(layers.length == 0){

        return;
      };
      var bounds = this.getBounds();
      if(!bounds){

        return;
      };
      var paneRight = this.__scrollLeft + bounds.width;
      var rightAvailable = this.__paneWidth - paneRight;
      if(this.__scrollLeft - this.__layerWindow.left < Math.min(this.__scrollLeft, minLeft) || this.__layerWindow.right - paneRight < Math.min(rightAvailable, minRight)){

        var left = Math.min(this.__scrollLeft, maxLeft);
        var right = Math.min(rightAvailable, maxRight);
        this._setLayerWindow(layers, this.__scrollLeft - left, this.__scrollTop, bounds.width + left + right, bounds.height, false);
      };
    },
    prefetchY : function(minAbove, maxAbove, minBelow, maxBelow){

      var layers = this.getVisibleLayers();
      if(layers.length == 0){

        return;
      };
      var bounds = this.getBounds();
      if(!bounds){

        return;
      };
      var paneBottom = this.__scrollTop + bounds.height;
      var belowAvailable = this.__paneHeight - paneBottom;
      if(this.__scrollTop - this.__layerWindow.top < Math.min(this.__scrollTop, minAbove) || this.__layerWindow.bottom - paneBottom < Math.min(belowAvailable, minBelow)){

        var above = Math.min(this.__scrollTop, maxAbove);
        var below = Math.min(belowAvailable, maxBelow);
        this._setLayerWindow(layers, this.__scrollLeft, this.__scrollTop - above, bounds.width, bounds.height + above + below, false);
      };
    },
    _onResize : function(){

      if(this.getContentElement().getDomElement()){

        this.__dontFireUpdate = true;
        this._updateScrollPosition();
        this.__dontFireUpdate = null;
        this.fireEvent("update");
      };
    },
    _onAppear : function(){

      this.fullUpdate();
    },
    _onPointerDown : function(e){

      this.__pointerDownCoords = this.getCellAtPosition(e.getDocumentLeft(), e.getDocumentTop());
    },
    _onTap : function(e){

      this.__handlePointerCellEvent(e, "cellTap");
    },
    _onContextmenu : function(e){

      this.__handlePointerCellEvent(e, "cellContextmenu");
    },
    _onDbltap : function(e){

      this.__handlePointerCellEvent(e, "cellDbltap");
    },
    __handlePointerCellEvent : function(e, cellEventType){

      var coords = this.getCellAtPosition(e.getDocumentLeft(), e.getDocumentTop());
      if(!coords){

        return;
      };
      var pointerDownCoords = this.__pointerDownCoords;
      if(pointerDownCoords == null || pointerDownCoords.row !== coords.row || pointerDownCoords.column !== coords.column){

        return;
      };
      this.fireNonBubblingEvent(cellEventType, qx.ui.virtual.core.CellEvent, [this, e, coords.row, coords.column]);
    },
    syncWidget : function(jobs){

      if(this.__jobs._fullUpdate){

        this._fullUpdate();
      } else if(this.__jobs._updateScrollPosition){

        this._updateScrollPosition();
      };
      this.__jobs = {
      };
    },
    _setLayerWindow : function(layers, left, top, minWidth, minHeight, doFullUpdate){

      var rowCellData = this.__rowConfig.getItemAtPosition(top);
      if(rowCellData){

        var firstRow = rowCellData.index;
        var rowSizes = this.__rowConfig.getItemSizes(firstRow, minHeight + rowCellData.offset);
        var layerHeight = qx.lang.Array.sum(rowSizes);
        var layerTop = top - rowCellData.offset;
        var layerBottom = top - rowCellData.offset + layerHeight;
      } else {

        var firstRow = 0;
        var rowSizes = [];
        var layerHeight = 0;
        var layerTop = 0;
        var layerBottom = 0;
      };
      var columnCellData = this.__columnConfig.getItemAtPosition(left);
      if(columnCellData){

        var firstColumn = columnCellData.index;
        var columnSizes = this.__columnConfig.getItemSizes(firstColumn, minWidth + columnCellData.offset);
        var layerWidth = qx.lang.Array.sum(columnSizes);
        var layerLeft = left - columnCellData.offset;
        var layerRight = left - columnCellData.offset + layerWidth;
      } else {

        var firstColumn = 0;
        var columnSizes = [];
        var layerWidth = 0;
        var layerLeft = 0;
        var layerRight = 0;
      };
      this.__layerWindow = {
        top : layerTop,
        bottom : layerBottom,
        left : layerLeft,
        right : layerRight
      };
      this.__layerContainer.setUserBounds((this.getPaddingLeft() || 0) + (this.__layerWindow.left - this.__scrollLeft), (this.getPaddingTop() || 0) + (this.__layerWindow.top - this.__scrollTop), layerWidth, layerHeight);
      this.__columnSizes = columnSizes;
      this.__rowSizes = rowSizes;
      for(var i = 0;i < this.__layers.length;i++){

        var layer = this.__layers[i];
        layer.setUserBounds(0, 0, layerWidth, layerHeight);
        if(doFullUpdate){

          layer.fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
        } else {

          layer.updateLayerWindow(firstRow, firstColumn, rowSizes, columnSizes);
        };
      };
    },
    __checkPaneResize : function(){

      if(this.__dontFireUpdate){

        return;
      };
      var scrollSize = this.getScrollSize();
      if(this.__paneHeight !== scrollSize.height || this.__paneWidth !== scrollSize.width){

        this.__paneHeight = scrollSize.height;
        this.__paneWidth = scrollSize.width;
        this.fireEvent("update");
      };
    },
    fullUpdate : function(){

      this.__jobs._fullUpdate = 1;
      qx.ui.core.queue.Widget.add(this);
    },
    isUpdatePending : function(){

      return !!this.__jobs._fullUpdate;
    },
    _fullUpdate : function(){

      var layers = this.getVisibleLayers();
      if(layers.length == 0){

        this.__checkPaneResize();
        return;
      };
      var bounds = this.getBounds();
      if(!bounds){

        return;
      };
      this._setLayerWindow(layers, this.__scrollLeft, this.__scrollTop, bounds.width, bounds.height, true);
      this.__checkPaneResize();
    },
    _deferredUpdateScrollPosition : function(){

      this.__jobs._updateScrollPosition = 1;
      qx.ui.core.queue.Widget.add(this);
    },
    _updateScrollPosition : function(){

      var layers = this.getVisibleLayers();
      if(layers.length == 0){

        this.__checkPaneResize();
        return;
      };
      var bounds = this.getBounds();
      if(!bounds){

        return;
      };
      var paneWindow = {
        top : this.__scrollTop,
        bottom : this.__scrollTop + bounds.height,
        left : this.__scrollLeft,
        right : this.__scrollLeft + bounds.width
      };
      if(this.__layerWindow.top <= paneWindow.top && this.__layerWindow.bottom >= paneWindow.bottom && this.__layerWindow.left <= paneWindow.left && this.__layerWindow.right >= paneWindow.right){

        this.__layerContainer.setUserBounds((this.getPaddingLeft() || 0) + (this.__layerWindow.left - paneWindow.left), (this.getPaddingTop() || 0) + (this.__layerWindow.top - paneWindow.top), this.__layerWindow.right - this.__layerWindow.left, this.__layerWindow.bottom - this.__layerWindow.top);
      } else {

        this._setLayerWindow(layers, this.__scrollLeft, this.__scrollTop, bounds.width, bounds.height, false);
      };
      this.__checkPaneResize();
    }
  },
  destruct : function(){

    this._disposeArray("__layers");
    this._disposeObjects("__rowConfig", "__columnConfig", "__layerContainer");
    this.__layerWindow = this.__jobs = this.__columnSizes = this.__rowSizes = null;
  }
});

qx.Class.define("qx.ui.virtual.core.Axis", {
  extend : qx.core.Object,
  construct : function(defaultItemSize, itemCount){

    this.base(arguments);
    this.itemCount = itemCount;
    this.defaultItemSize = defaultItemSize;
    this.customSizes = {
    };
  },
  events : {
    "change" : "qx.event.type.Event"
  },
  members : {
    __ranges : null,
    getDefaultItemSize : function(){

      return this.defaultItemSize;
    },
    setDefaultItemSize : function(defaultItemSize){

      if(this.defaultItemSize !== defaultItemSize){

        this.defaultItemSize = defaultItemSize;
        this.__ranges = null;
        this.fireNonBubblingEvent("change");
      };
    },
    getItemCount : function(){

      return this.itemCount;
    },
    setItemCount : function(itemCount){

      if(this.itemCount !== itemCount){

        this.itemCount = itemCount;
        this.__ranges = null;
        this.fireNonBubblingEvent("change");
      };
    },
    setItemSize : function(index, size){

      if(qx.core.Environment.get("qx.debug")){

        this.assertArgumentsCount(arguments, 2, 2);
        this.assert(size > 0 || size === null, "'size' must be 'null' or an integer larger than 0.");
      };
      if(this.customSizes[index] == size){

        return;
      };
      if(size === null){

        delete this.customSizes[index];
      } else {

        this.customSizes[index] = size;
      };
      this.__ranges = null;
      this.fireNonBubblingEvent("change");
    },
    getItemSize : function(index){

      return this.customSizes[index] || this.defaultItemSize;
    },
    resetItemSizes : function(){

      this.customSizes = {
      };
      this.__ranges = null;
      this.fireNonBubblingEvent("change");
    },
    __getRanges : function(){

      if(this.__ranges){

        return this.__ranges;
      };
      var defaultSize = this.defaultItemSize;
      var itemCount = this.itemCount;
      var indexes = [];
      for(var key in this.customSizes){

        var index = parseInt(key, 10);
        if(index < itemCount){

          indexes.push(index);
        };
      };
      if(indexes.length == 0){

        var ranges = [{
          startIndex : 0,
          endIndex : itemCount - 1,
          firstItemSize : defaultSize,
          rangeStart : 0,
          rangeEnd : itemCount * defaultSize - 1
        }];
        this.__ranges = ranges;
        return ranges;
      };
      indexes.sort(function(a, b){

        return a > b ? 1 : -1;
      });
      var ranges = [];
      var correctionSum = 0;
      for(var i = 0;i < indexes.length;i++){

        var index = indexes[i];
        if(index >= itemCount){

          break;
        };
        var cellSize = this.customSizes[index];
        var rangeStart = index * defaultSize + correctionSum;
        correctionSum += cellSize - defaultSize;
        ranges[i] = {
          startIndex : index,
          firstItemSize : cellSize,
          rangeStart : rangeStart
        };
        if(i > 0){

          ranges[i - 1].rangeEnd = rangeStart - 1;
          ranges[i - 1].endIndex = index - 1;
        };
      };
      if(ranges[0].rangeStart > 0){

        ranges.unshift({
          startIndex : 0,
          endIndex : ranges[0].startIndex - 1,
          firstItemSize : defaultSize,
          rangeStart : 0,
          rangeEnd : ranges[0].rangeStart - 1
        });
      };
      var lastRange = ranges[ranges.length - 1];
      var remainingItemsSize = (itemCount - lastRange.startIndex - 1) * defaultSize;
      lastRange.rangeEnd = lastRange.rangeStart + lastRange.firstItemSize + remainingItemsSize - 1;
      lastRange.endIndex = itemCount - 1;
      this.__ranges = ranges;
      return ranges;
    },
    __findRangeByPosition : function(position){

      var ranges = this.__ranges || this.__getRanges();
      var start = 0;
      var end = ranges.length - 1;
      while(true){

        var pivot = start + ((end - start) >> 1);
        var range = ranges[pivot];
        if(range.rangeEnd < position){

          start = pivot + 1;
        } else if(range.rangeStart > position){

          end = pivot - 1;
        } else {

          return range;
        };
      };
    },
    getItemAtPosition : function(position){

      if(position < 0 || position >= this.getTotalSize()){

        return null;
      };
      var range = this.__findRangeByPosition(position);
      var startPos = range.rangeStart;
      var index = range.startIndex;
      var firstItemSize = range.firstItemSize;
      if(startPos + firstItemSize > position){

        return {
          index : index,
          offset : position - startPos
        };
      } else {

        var defaultSize = this.defaultItemSize;
        return {
          index : index + 1 + Math.floor((position - startPos - firstItemSize) / defaultSize),
          offset : (position - startPos - firstItemSize) % defaultSize
        };
      };
    },
    __findRangeByIndex : function(index){

      var ranges = this.__ranges || this.__getRanges();
      var start = 0;
      var end = ranges.length - 1;
      while(true){

        var pivot = start + ((end - start) >> 1);
        var range = ranges[pivot];
        if(range.endIndex < index){

          start = pivot + 1;
        } else if(range.startIndex > index){

          end = pivot - 1;
        } else {

          return range;
        };
      };
    },
    getItemPosition : function(index){

      if(index < 0 || index >= this.itemCount){

        return null;
      };
      var range = this.__findRangeByIndex(index);
      if(range.startIndex == index){

        return range.rangeStart;
      } else {

        return range.rangeStart + range.firstItemSize + (index - range.startIndex - 1) * this.defaultItemSize;
      };
    },
    getTotalSize : function(){

      var ranges = this.__ranges || this.__getRanges();
      return ranges[ranges.length - 1].rangeEnd + 1;
    },
    getItemSizes : function(startIndex, minSizeSum){

      var customSizes = this.customSizes;
      var defaultSize = this.defaultItemSize;
      var sum = 0;
      var sizes = [];
      var i = 0;
      while(sum < minSizeSum){

        var itemSize = customSizes[startIndex++] || defaultSize;
        sum += itemSize;
        sizes[i++] = itemSize;
        if(startIndex >= this.itemCount){

          break;
        };
      };
      return sizes;
    }
  },
  destruct : function(){

    this.customSizes = this.__ranges = null;
  }
});

qx.Class.define("qx.ui.virtual.core.CellEvent", {
  extend : qx.event.type.Pointer,
  properties : {
    row : {
      check : "Integer",
      nullable : true
    },
    column : {
      check : "Integer",
      nullable : true
    }
  },
  members : {
    init : function(scroller, me, row, column){

      me.clone(this);
      this.setBubbles(false);
      this.setRow(row);
      this.setColumn(column);
    }
  }
});

qx.Class.define("qx.ui.virtual.selection.Row", {
  extend : qx.ui.virtual.selection.Abstract,
  members : {
    _getItemCount : function(){

      return this._pane.getRowConfig().getItemCount();
    },
    _getSelectableFromPointerEvent : function(event){

      var cell = this._pane.getCellAtPosition(event.getDocumentLeft(), event.getDocumentTop());
      if(!cell){

        return null;
      };
      return this._isSelectable(cell.row) ? cell.row : null;
    },
    getSelectables : function(all){

      var selectables = [];
      for(var i = 0,l = this._getItemCount();i < l;i++){

        if(this._isSelectable(i)){

          selectables.push(i);
        };
      };
      return selectables;
    },
    _getSelectableRange : function(item1, item2){

      var selectables = [];
      var min = Math.min(item1, item2);
      var max = Math.max(item1, item2);
      for(var i = min;i <= max;i++){

        if(this._isSelectable(i)){

          selectables.push(i);
        };
      };
      return selectables;
    },
    _getFirstSelectable : function(){

      var count = this._getItemCount();
      for(var i = 0;i < count;i++){

        if(this._isSelectable(i)){

          return i;
        };
      };
      return null;
    },
    _getLastSelectable : function(){

      var count = this._getItemCount();
      for(var i = count - 1;i >= 0;i--){

        if(this._isSelectable(i)){

          return i;
        };
      };
      return null;
    },
    _getRelatedSelectable : function(item, relation){

      if(relation == "above"){

        var startIndex = item - 1;
        var endIndex = 0;
        var increment = -1;
      } else if(relation == "under"){

        var startIndex = item + 1;
        var endIndex = this._getItemCount() - 1;
        var increment = 1;
      } else {

        return null;
      };
      for(var i = startIndex;i !== endIndex + increment;i += increment){

        if(this._isSelectable(i)){

          return i;
        };
      };
      return null;
    },
    _getPage : function(lead, up){

      if(up){

        return this._getFirstSelectable();
      } else {

        return this._getLastSelectable();
      };
    },
    _selectableToHashCode : function(item){

      return item;
    },
    _scrollItemIntoView : function(item){

      this._pane.scrollRowIntoView(item);
    },
    _getSelectableLocationX : function(item){

      return {
        left : 0,
        right : this._pane.getColumnConfig().getTotalSize() - 1
      };
    },
    _getSelectableLocationY : function(item){

      var rowConfig = this._pane.getRowConfig();
      var itemTop = rowConfig.getItemPosition(item);
      var itemBottom = itemTop + rowConfig.getItemSize(item) - 1;
      return {
        top : itemTop,
        bottom : itemBottom
      };
    }
  }
});

qx.Class.define("qx.ui.virtual.selection.Column", {
  extend : qx.ui.virtual.selection.Row,
  members : {
    _getItemCount : function(){

      return this._pane.getColumnConfig().getItemCount();
    },
    _getSelectableFromPointerEvent : function(event){

      var cell = this._pane.getCellAtPosition(event.getDocumentLeft(), event.getDocumentTop());
      if(!cell){

        return null;
      };
      return this._isSelectable(cell.column) ? cell.column : null;
    },
    _getRelatedSelectable : function(item, relation){

      if(relation == "left"){

        var startIndex = item - 1;
        var endIndex = 0;
        var increment = -1;
      } else if(relation == "right"){

        var startIndex = item + 1;
        var endIndex = this._getItemCount() - 1;
        var increment = 1;
      } else {

        return null;
      };
      for(var i = startIndex;i !== endIndex + increment;i += increment){

        if(this._isSelectable(i)){

          return i;
        };
      };
      return null;
    },
    _scrollItemIntoView : function(item){

      this._pane.scrollColumnIntoView(item);
    },
    _getSelectableLocationX : function(item){

      var columnConfig = this._pane.getColumnConfig();
      var itemLeft = columnConfig.getItemPosition(item);
      var itemRight = itemLeft + columnConfig.getItemSize(item) - 1;
      return {
        left : itemLeft,
        right : itemRight
      };
    },
    _getSelectableLocationY : function(item){

      return {
        top : 0,
        bottom : this._pane.getRowConfig().getTotalSize() - 1
      };
    }
  }
});

qx.Class.define("qx.theme.manager.Icon", {
  type : "singleton",
  extend : qx.core.Object,
  properties : {
    theme : {
      check : "Theme",
      nullable : true,
      apply : "_applyTheme",
      event : "changeTheme"
    }
  },
  members : {
    _applyTheme : function(value, old){

      var aliasManager = qx.util.AliasManager.getInstance();
      if(old){

        for(var alias in old.aliases){

          aliasManager.remove(alias);
        };
      };
      if(value){

        for(var alias in value.aliases){

          aliasManager.add(alias, value.aliases[alias]);
        };
      };
    }
  }
});

qx.Bootstrap.define("qx.Theme", {
  statics : {
    define : function(name, config){

      if(!config){

        var config = {
        };
      };
      config.include = this.__normalizeArray(config.include);
      config.patch = this.__normalizeArray(config.patch);
      if(qx.core.Environment.get("qx.debug")){

        this.__validateConfig(name, config);
      };
      var theme = {
        $$type : "Theme",
        name : name,
        title : config.title,
        toString : this.genericToString
      };
      if(config.extend){

        theme.supertheme = config.extend;
      };
      theme.basename = qx.Bootstrap.createNamespace(name, theme);
      this.__convert(theme, config);
      this.__initializeAliases(theme, config);
      this.$$registry[name] = theme;
      for(var i = 0,a = config.include,l = a.length;i < l;i++){

        this.include(theme, a[i]);
      };
      for(var i = 0,a = config.patch,l = a.length;i < l;i++){

        this.patch(theme, a[i]);
      };
    },
    __normalizeArray : function(objectOrArray){

      if(!objectOrArray){

        return [];
      };
      if(qx.Bootstrap.isArray(objectOrArray)){

        return objectOrArray;
      } else {

        return [objectOrArray];
      };
    },
    __initializeAliases : function(theme, config){

      var aliases = config.aliases || {
      };
      if(config.extend && config.extend.aliases){

        qx.Bootstrap.objectMergeWith(aliases, config.extend.aliases, false);
      };
      theme.aliases = aliases;
    },
    getAll : function(){

      return this.$$registry;
    },
    getByName : function(name){

      return this.$$registry[name];
    },
    isDefined : function(name){

      return this.getByName(name) !== undefined;
    },
    getTotalNumber : function(){

      return qx.Bootstrap.objectGetLength(this.$$registry);
    },
    genericToString : function(){

      return "[Theme " + this.name + "]";
    },
    __extractType : function(config){

      for(var i = 0,keys = this.__inheritableKeys,l = keys.length;i < l;i++){

        if(config[keys[i]]){

          return keys[i];
        };
      };
    },
    __convert : function(theme, config){

      var type = this.__extractType(config);
      if(config.extend && !type){

        type = config.extend.type;
      };
      theme.type = type || "other";
      var clazz = function(){
      };
      if(config.extend){

        clazz.prototype = new config.extend.$$clazz;
      };
      var target = clazz.prototype;
      var source = config[type];
      for(var id in source){

        target[id] = source[id];
        if(target[id].base){

          if(qx.core.Environment.get("qx.debug")){

            if(!config.extend){

              throw new Error("Found base flag in entry '" + id + "' of theme '" + config.name + "'. Base flags are not allowed for themes without a valid super theme!");
            };
          };
          target[id].base = config.extend;
        };
      };
      theme.$$clazz = clazz;
      theme[type] = new clazz;
    },
    $$registry : {
    },
    __inheritableKeys : ["colors", "borders", "decorations", "fonts", "icons", "widgets", "appearances", "meta"],
    __allowedKeys : qx.core.Environment.select("qx.debug", {
      "true" : {
        "title" : "string",
        "aliases" : "object",
        "type" : "string",
        "extend" : "object",
        "colors" : "object",
        "borders" : "object",
        "decorations" : "object",
        "fonts" : "object",
        "icons" : "object",
        "widgets" : "object",
        "appearances" : "object",
        "meta" : "object",
        "include" : "object",
        "patch" : "object"
      },
      "default" : null
    }),
    __metaKeys : qx.core.Environment.select("qx.debug", {
      "true" : {
        "color" : "object",
        "border" : "object",
        "decoration" : "object",
        "font" : "object",
        "icon" : "object",
        "appearance" : "object",
        "widget" : "object"
      },
      "default" : null
    }),
    __validateConfig : qx.core.Environment.select("qx.debug", {
      "true" : function(name, config){

        var allowed = this.__allowedKeys;
        for(var key in config){

          if(allowed[key] === undefined){

            throw new Error('The configuration key "' + key + '" in theme "' + name + '" is not allowed!');
          };
          if(config[key] == null){

            throw new Error('Invalid key "' + key + '" in theme "' + name + '"! The value is undefined/null!');
          };
          if(allowed[key] !== null && typeof config[key] !== allowed[key]){

            throw new Error('Invalid type of key "' + key + '" in theme "' + name + '"! The type of the key must be "' + allowed[key] + '"!');
          };
        };
        var maps = ["colors", "borders", "decorations", "fonts", "icons", "widgets", "appearances", "meta"];
        for(var i = 0,l = maps.length;i < l;i++){

          var key = maps[i];
          if(config[key] !== undefined && (config[key] instanceof Array || config[key] instanceof RegExp || config[key] instanceof Date || config[key].classname !== undefined)){

            throw new Error('Invalid key "' + key + '" in theme "' + name + '"! The value needs to be a map!');
          };
        };
        var counter = 0;
        for(var i = 0,l = maps.length;i < l;i++){

          var key = maps[i];
          if(config[key]){

            counter++;
          };
          if(counter > 1){

            throw new Error("You can only define one theme category per file! Invalid theme: " + name);
          };
        };
        if(config.meta){

          var value;
          for(var key in config.meta){

            value = config.meta[key];
            if(this.__metaKeys[key] === undefined){

              throw new Error('The key "' + key + '" is not allowed inside a meta theme block.');
            };
            if(typeof value !== this.__metaKeys[key]){

              throw new Error('The type of the key "' + key + '" inside the meta block is wrong.');
            };
            if(!(typeof value === "object" && value !== null && value.$$type === "Theme")){

              throw new Error('The content of a meta theme must reference to other themes. The value for "' + key + '" in theme "' + name + '" is invalid: ' + value);
            };
          };
        };
        if(config.extend && config.extend.$$type !== "Theme"){

          throw new Error('Invalid extend in theme "' + name + '": ' + config.extend);
        };
        if(config.include){

          for(var i = 0,l = config.include.length;i < l;i++){

            if(typeof (config.include[i]) == "undefined" || config.include[i].$$type !== "Theme"){

              throw new Error('Invalid include in theme "' + name + '": ' + config.include[i]);
            };
          };
        };
        if(config.patch){

          for(var i = 0,l = config.patch.length;i < l;i++){

            if(typeof (config.patch[i]) == "undefined" || config.patch[i].$$type !== "Theme"){

              throw new Error('Invalid patch in theme "' + name + '": ' + config.patch[i]);
            };
          };
        };
      },
      "default" : function(){
      }
    }),
    patch : function(theme, mixinTheme){

      this.__checkForInvalidTheme(mixinTheme);
      var type = this.__extractType(mixinTheme);
      if(type !== this.__extractType(theme)){

        throw new Error("The mixins '" + theme.name + "' are not compatible '" + mixinTheme.name + "'!");
      };
      var source = mixinTheme[type];
      var target = theme.$$clazz.prototype;
      for(var key in source){

        target[key] = source[key];
      };
    },
    include : function(theme, mixinTheme){

      this.__checkForInvalidTheme(mixinTheme);
      var type = mixinTheme.type;
      if(type !== theme.type){

        throw new Error("The mixins '" + theme.name + "' are not compatible '" + mixinTheme.name + "'!");
      };
      var source = mixinTheme[type];
      var target = theme.$$clazz.prototype;
      for(var key in source){

        if(target[key] !== undefined){

          continue;
        };
        target[key] = source[key];
      };
    },
    __checkForInvalidTheme : function(mixinTheme){

      if(typeof mixinTheme === "undefined" || mixinTheme == null){

        var errorObj = new Error("Mixin theme is not a valid theme!");
        if(qx.core.Environment.get("qx.debug")){

          var stackTrace = qx.dev.StackTrace.getStackTraceFromError(errorObj);
          qx.Bootstrap.error(this, stackTrace);
        };
        throw errorObj;
      };
    }
  }
});

qx.Theme.define("qx.theme.indigo.Font", {
  fonts : {
    "default" : {
      size : 12,
      family : ["Lucida Grande", "DejaVu Sans", "Verdana", "sans-serif"],
      color : "font",
      lineHeight : 1.8
    },
    "bold" : {
      size : 12,
      family : ["Lucida Grande", "DejaVu Sans", "Verdana", "sans-serif"],
      bold : true,
      color : "font",
      lineHeight : 1.8
    },
    "headline" : {
      size : 22,
      family : ["serif"],
      sources : [{
        family : "JosefinSlab",
        source : ["qx/decoration/Indigo/font/JosefinSlab-SemiBold.woff", "qx/decoration/Indigo/font/JosefinSlab-SemiBold.ttf"]
      }]
    },
    "small" : {
      size : 11,
      family : ["Lucida Grande", "DejaVu Sans", "Verdana", "sans-serif"],
      color : "font",
      lineHeight : 1.8
    },
    "monospace" : {
      size : 11,
      family : ["DejaVu Sans Mono", "Courier New", "monospace"],
      color : "font",
      lineHeight : 1.8
    }
  }
});

qx.Theme.define("qx.theme.simple.Appearance", {
  appearances : {
    "widget" : {
    },
    "label" : {
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "image" : {
      style : function(states){

        return {
          opacity : !states.replacement && states.disabled ? 0.3 : undefined
        };
      }
    },
    "atom" : {
    },
    "atom/label" : "label",
    "atom/icon" : "image",
    "root" : {
      style : function(states){

        return {
          backgroundColor : "background",
          textColor : "text",
          font : "default"
        };
      }
    },
    "popup" : {
      style : function(states){

        return {
          decorator : "popup",
          backgroundColor : "background-pane"
        };
      }
    },
    "tooltip" : {
      include : "popup",
      style : function(states){

        return {
          backgroundColor : "tooltip",
          textColor : "tooltip-text",
          decorator : "tooltip",
          padding : [1, 3, 2, 3],
          offset : [10, 5, 5, 5]
        };
      }
    },
    "tooltip/atom" : "atom",
    "tooltip-error" : {
      include : "tooltip",
      style : function(states){

        return {
          textColor : "text-selected",
          showTimeout : 100,
          hideTimeout : 10000,
          decorator : "tooltip-error",
          font : "bold",
          backgroundColor : undefined
        };
      }
    },
    "tooltip-error/atom" : "atom",
    "iframe" : {
      style : function(states){

        return {
          backgroundColor : "white",
          decorator : "main-dark"
        };
      }
    },
    "move-frame" : {
      style : function(states){

        return {
          decorator : "main-dark"
        };
      }
    },
    "resize-frame" : "move-frame",
    "dragdrop-cursor" : {
      style : function(states){

        var icon = "nodrop";
        if(states.copy){

          icon = "copy";
        } else if(states.move){

          icon = "move";
        } else if(states.alias){

          icon = "alias";
        };;
        return {
          source : qx.theme.simple.Image.URLS["cursor-" + icon],
          position : "right-top",
          offset : [2, 16, 2, 6]
        };
      }
    },
    "slidebar" : {
    },
    "slidebar/scrollpane" : {
    },
    "slidebar/content" : {
    },
    "slidebar/button-forward" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["arrow-" + (states.vertical ? "down" : "right")]
        };
      }
    },
    "slidebar/button-backward" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["arrow-" + (states.vertical ? "up" : "left")]
        };
      }
    },
    "table" : "widget",
    "table/statusbar" : {
      style : function(states){

        return {
          decorator : "statusbar",
          padding : [2, 5]
        };
      }
    },
    "table/column-button" : {
      alias : "button",
      style : function(states){

        return {
          decorator : "table-header-column-button",
          padding : 3,
          icon : qx.theme.simple.Image.URLS["select-column-order"]
        };
      }
    },
    "table-column-reset-button" : {
      include : "menu-button",
      alias : "menu-button",
      style : function(){

        return {
          icon : "icon/16/actions/view-refresh.png"
        };
      }
    },
    "table-scroller/scrollbar-x" : "scrollbar",
    "table-scroller/scrollbar-y" : "scrollbar",
    "table-scroller" : "widget",
    "table-scroller/header" : {
      style : function(){

        return {
          decorator : "table-header"
        };
      }
    },
    "table-scroller/pane" : {
    },
    "table-scroller/focus-indicator" : {
      style : function(states){

        return {
          decorator : "main"
        };
      }
    },
    "table-scroller/resize-line" : {
      style : function(states){

        return {
          backgroundColor : "button-border",
          width : 3
        };
      }
    },
    "table-header-cell" : {
      alias : "atom",
      style : function(states){

        return {
          decorator : states.first ? "table-header-cell-first" : "table-header-cell",
          minWidth : 13,
          font : "bold",
          paddingTop : 3,
          paddingLeft : 5,
          cursor : states.disabled ? undefined : "pointer",
          sortIcon : states.sorted ? (qx.theme.simple.Image.URLS["table-" + (states.sortedAscending ? "ascending" : "descending")]) : undefined
        };
      }
    },
    "table-header-cell/icon" : {
      include : "atom/icon",
      style : function(states){

        return {
          paddingRight : 5
        };
      }
    },
    "table-header-cell/sort-icon" : {
      style : function(states){

        return {
          alignY : "middle",
          alignX : "right",
          paddingRight : 5
        };
      }
    },
    "table-editor-textfield" : {
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined,
          padding : [2, 2]
        };
      }
    },
    "table-editor-selectbox" : {
      include : "selectbox",
      alias : "selectbox",
      style : function(states){

        return {
          padding : [0, 2]
        };
      }
    },
    "table-editor-combobox" : {
      include : "combobox",
      alias : "combobox",
      style : function(states){

        return {
          decorator : undefined
        };
      }
    },
    "progressive-table-header" : {
      style : function(states){

        return {
          decorator : "progressive-table-header"
        };
      }
    },
    "progressive-table-header-cell" : {
      style : function(states){

        return {
          decorator : "progressive-table-header-cell",
          padding : [5, 6, 5, 6]
        };
      }
    },
    "treevirtual" : {
      include : "textfield",
      alias : "table",
      style : function(states, superStyles){

        return {
          padding : [superStyles.padding[0] + 2, superStyles.padding[1] + 1]
        };
      }
    },
    "treevirtual-folder" : {
      style : function(states){

        return {
          icon : (states.opened ? "icon/16/places/folder-open.png" : "icon/16/places/folder.png"),
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "treevirtual-file" : {
      include : "treevirtual-folder",
      alias : "treevirtual-folder",
      style : function(states){

        return {
          icon : "icon/16/mimetypes/text-plain.png",
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "treevirtual-line" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-line"]
        };
      }
    },
    "treevirtual-contract" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["tree-minus"]
        };
      }
    },
    "treevirtual-expand" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["tree-plus"]
        };
      }
    },
    "treevirtual-only-contract" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-minus-only"]
        };
      }
    },
    "treevirtual-only-expand" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-plus-only"]
        };
      }
    },
    "treevirtual-start-contract" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-minus-start"]
        };
      }
    },
    "treevirtual-start-expand" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-plus-start"]
        };
      }
    },
    "treevirtual-end-contract" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-minus-end"]
        };
      }
    },
    "treevirtual-end-expand" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-plus-end"]
        };
      }
    },
    "treevirtual-cross-contract" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-minus-cross"]
        };
      }
    },
    "treevirtual-cross-expand" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-plus-cross"]
        };
      }
    },
    "treevirtual-end" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-end"]
        };
      }
    },
    "treevirtual-cross" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["treevirtual-cross"]
        };
      }
    },
    "resizer" : {
      style : function(states){

        return {
          decorator : "main-dark"
        };
      }
    },
    "splitpane" : {
    },
    "splitpane/splitter" : {
      style : function(states){

        return {
          backgroundColor : "light-background"
        };
      }
    },
    "splitpane/splitter/knob" : {
      style : function(states){

        return {
          source : qx.theme.simple.Image.URLS["knob-" + (states.horizontal ? "horizontal" : "vertical")],
          padding : 2
        };
      }
    },
    "splitpane/slider" : {
      style : function(states){

        return {
          backgroundColor : "border-light-shadow",
          opacity : 0.3
        };
      }
    },
    "menu" : {
      style : function(states){

        var result = {
          backgroundColor : "background",
          decorator : "main",
          spacingX : 6,
          spacingY : 1,
          iconColumnWidth : 16,
          arrowColumnWidth : 4,
          padding : 1,
          placementModeY : states.submenu || states.contextmenu ? "best-fit" : "keep-align"
        };
        if(states.submenu){

          result.position = "right-top";
          result.offset = [-2, -3];
        };
        if(states.contextmenu){

          result.offset = 4;
        };
        return result;
      }
    },
    "menu/slidebar" : "menu-slidebar",
    "menu-slidebar" : "widget",
    "menu-slidebar-button" : {
      style : function(states){

        return {
          backgroundColor : states.hovered ? "background-selected" : undefined,
          padding : 6,
          center : true
        };
      }
    },
    "menu-slidebar/button-backward" : {
      include : "menu-slidebar-button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["arrow-up" + (states.hovered ? "-invert" : "")]
        };
      }
    },
    "menu-slidebar/button-forward" : {
      include : "menu-slidebar-button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["arrow-down" + (states.hovered ? "-invert" : "")]
        };
      }
    },
    "menu-separator" : {
      style : function(states){

        return {
          height : 0,
          decorator : "menu-separator",
          marginTop : 4,
          marginBottom : 4,
          marginLeft : 2,
          marginRight : 2
        };
      }
    },
    "menu-button" : {
      alias : "atom",
      style : function(states){

        return {
          backgroundColor : states.selected ? "background-selected" : undefined,
          textColor : states.selected ? "text-selected" : undefined,
          padding : [2, 6]
        };
      }
    },
    "menu-button/icon" : {
      include : "image",
      style : function(states){

        return {
          alignY : "middle"
        };
      }
    },
    "menu-button/label" : {
      include : "label",
      style : function(states){

        return {
          alignY : "middle",
          padding : 1
        };
      }
    },
    "menu-button/shortcut" : {
      include : "label",
      style : function(states){

        return {
          alignY : "middle",
          marginLeft : 14,
          padding : 1
        };
      }
    },
    "menu-button/arrow" : {
      include : "image",
      style : function(states){

        return {
          source : qx.theme.simple.Image.URLS["arrow-right" + (states.selected ? "-invert" : "")],
          alignY : "middle"
        };
      }
    },
    "menu-checkbox" : {
      alias : "menu-button",
      include : "menu-button",
      style : function(states){

        return {
          icon : !states.checked ? undefined : qx.theme.simple.Image.URLS["menu-checkbox" + (states.selected ? "-invert" : "")]
        };
      }
    },
    "menu-radiobutton" : {
      alias : "menu-button",
      include : "menu-button",
      style : function(states){

        return {
          icon : !states.checked ? undefined : qx.theme.simple.Image.URLS["menu-radiobutton" + (states.selected ? "-invert" : "")]
        };
      }
    },
    "menubar" : {
      style : function(states){

        return {
          backgroundColor : "light-background",
          padding : [4, 2]
        };
      }
    },
    "menubar-button" : {
      style : function(states){

        var decorator;
        var padding = [2, 6];
        if(!states.disabled){

          if(states.pressed){

            decorator = "menubar-button-pressed";
            padding = [1, 5, 2, 5];
          } else if(states.hovered){

            decorator = "menubar-button-hovered";
            padding = [1, 5];
          };
        };
        return {
          padding : padding,
          cursor : states.disabled ? undefined : "pointer",
          textColor : "link",
          decorator : decorator
        };
      }
    },
    "virtual-list" : "list",
    "virtual-list/row-layer" : "row-layer",
    "row-layer" : "widget",
    "column-layer" : "widget",
    "group-item" : {
      include : "label",
      alias : "label",
      style : function(states){

        return {
          padding : 4,
          backgroundColor : "#BABABA",
          textColor : "white",
          font : "bold"
        };
      }
    },
    "virtual-selectbox" : "selectbox",
    "virtual-selectbox/dropdown" : "popup",
    "virtual-selectbox/dropdown/list" : {
      alias : "virtual-list"
    },
    "virtual-combobox" : "combobox",
    "virtual-combobox/dropdown" : "popup",
    "virtual-combobox/dropdown/list" : {
      alias : "virtual-list"
    },
    "virtual-tree" : {
      include : "tree",
      alias : "tree",
      style : function(states){

        return {
          itemHeight : 21
        };
      }
    },
    "virtual-tree-folder" : "tree-folder",
    "virtual-tree-file" : "tree-file",
    "cell" : {
      style : function(states){

        return {
          backgroundColor : states.selected ? "table-row-background-selected" : "table-row-background-even",
          textColor : states.selected ? "text-selected" : "text",
          padding : [3, 6]
        };
      }
    },
    "cell-string" : "cell",
    "cell-number" : {
      include : "cell",
      style : function(states){

        return {
          textAlign : "right"
        };
      }
    },
    "cell-image" : "cell",
    "cell-boolean" : "cell",
    "cell-atom" : "cell",
    "cell-date" : "cell",
    "cell-html" : "cell",
    "scrollbar" : {
    },
    "scrollbar/slider" : {
    },
    "scrollbar/slider/knob" : {
      style : function(states){

        var decorator = "scroll-knob";
        if(!states.disabled){

          if(states.hovered && !states.pressed && !states.checked){

            decorator = "scroll-knob-hovered";
          } else if(states.hovered && (states.pressed || states.checked)){

            decorator = "scroll-knob-pressed-hovered";
          } else if(states.pressed || states.checked){

            decorator = "scroll-knob-pressed";
          };;
        };
        return {
          height : 14,
          width : 14,
          cursor : states.disabled ? undefined : "pointer",
          decorator : decorator,
          minHeight : states.horizontal ? undefined : 20,
          minWidth : states.horizontal ? 20 : undefined
        };
      }
    },
    "scrollbar/button" : {
      style : function(states){

        var styles = {
        };
        styles.padding = 4;
        var icon = "";
        if(states.left){

          icon = "left";
          styles.marginRight = 2;
        } else if(states.right){

          icon += "right";
          styles.marginLeft = 2;
        } else if(states.up){

          icon += "up";
          styles.marginBottom = 2;
        } else {

          icon += "down";
          styles.marginTop = 2;
        };;
        styles.icon = qx.theme.simple.Image.URLS["arrow-" + icon];
        styles.cursor = "pointer";
        styles.decorator = "button-box";
        return styles;
      }
    },
    "scrollbar/button-begin" : "scrollbar/button",
    "scrollbar/button-end" : "scrollbar/button",
    "scrollarea/corner" : {
      style : function(states){

        return {
          backgroundColor : "background"
        };
      }
    },
    "scrollarea" : "widget",
    "scrollarea/pane" : "widget",
    "scrollarea/scrollbar-x" : "scrollbar",
    "scrollarea/scrollbar-y" : "scrollbar",
    "textfield" : {
      style : function(states){

        var textColor;
        if(states.disabled){

          textColor = "text-disabled";
        } else if(states.showingPlaceholder){

          textColor = "text-placeholder";
        } else {

          textColor = undefined;
        };
        var decorator;
        var padding;
        if(states.disabled){

          decorator = "inset";
          padding = [2, 3];
        } else if(states.invalid){

          decorator = "border-invalid";
          padding = [1, 2];
        } else if(states.focused){

          decorator = "focused-inset";
          padding = [1, 2];
        } else {

          padding = [2, 3];
          decorator = "inset";
        };;
        return {
          decorator : decorator,
          padding : padding,
          textColor : textColor,
          backgroundColor : states.disabled ? "background-disabled" : "white"
        };
      }
    },
    "textarea" : "textfield",
    "radiobutton/icon" : {
      style : function(states){

        var decorator = "radiobutton";
        if(states.focused && !states.invalid){

          decorator = "radiobutton-focused";
        };
        decorator += states.invalid && !states.disabled ? "-invalid" : "";
        var backgroundColor;
        if(states.disabled && states.checked){

          backgroundColor = "background-disabled-checked";
        } else if(states.disabled){

          backgroundColor = "background-disabled";
        } else if(states.checked){

          backgroundColor = "background-selected";
        };;
        return {
          decorator : decorator,
          width : 12,
          height : 12,
          backgroundColor : backgroundColor
        };
      }
    },
    "radiobutton" : {
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["blank"]
        };
      }
    },
    "form-renderer-label" : {
      include : "label",
      style : function(){

        return {
          paddingTop : 3
        };
      }
    },
    "checkbox" : {
      alias : "atom",
      style : function(states){

        var icon;
        if(states.checked){

          icon = qx.theme.simple.Image.URLS["checkbox-checked"];
        } else if(states.undetermined){

          icon = qx.theme.simple.Image.URLS["checkbox-undetermined"];
        } else {

          icon = qx.theme.simple.Image.URLS["blank"];
        };
        return {
          icon : icon,
          gap : 6
        };
      }
    },
    "checkbox/icon" : {
      style : function(states){

        var decorator = "checkbox";
        if(states.focused && !states.invalid){

          decorator = "checkbox-focused";
        };
        decorator += states.invalid && !states.disabled ? "-invalid" : "";
        var padding;
        if(states.checked){

          padding = 2;
        } else if(states.undetermined){

          padding = [4, 2];
        };
        return {
          decorator : decorator,
          width : 12,
          height : 12,
          padding : padding,
          backgroundColor : "white"
        };
      }
    },
    "spinner" : {
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "spinner/textfield" : "textfield",
    "spinner/upbutton" : {
      alias : "combobox/button",
      include : "combobox/button",
      style : function(states){

        var decorator = "button-box-top-right";
        if(states.hovered && !states.pressed && !states.checked){

          decorator = "button-box-hovered-top-right";
        } else if(states.hovered && (states.pressed || states.checked)){

          decorator = "button-box-pressed-hovered-top-right";
        } else if(states.pressed || states.checked){

          decorator = "button-box-pressed-top-right";
        };;
        return {
          icon : qx.theme.simple.Image.URLS["arrow-up-small"],
          decorator : decorator,
          width : 17
        };
      }
    },
    "spinner/downbutton" : {
      alias : "combobox/button",
      include : "combobox/button",
      style : function(states){

        var decorator = "button-box-bottom-right";
        if(states.hovered && !states.pressed && !states.checked){

          decorator = "button-box-hovered-bottom-right";
        } else if(states.hovered && (states.pressed || states.checked)){

          decorator = "button-box-pressed-hovered-bottom-right";
        } else if(states.pressed || states.checked){

          decorator = "button-box-pressed-bottom-right";
        };;
        return {
          icon : qx.theme.simple.Image.URLS["arrow-down-small"],
          decorator : decorator,
          width : 17
        };
      }
    },
    "selectbox" : "button-frame",
    "selectbox/atom" : "atom",
    "selectbox/popup" : "popup",
    "selectbox/list" : {
      alias : "list",
      include : "list",
      style : function(){

        return {
          decorator : undefined
        };
      }
    },
    "selectbox/arrow" : {
      include : "image",
      style : function(states){

        return {
          source : qx.theme.simple.Image.URLS["arrow-down"],
          paddingRight : 4,
          paddingLeft : 5
        };
      }
    },
    "combobox" : {
    },
    "combobox/button" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        var decorator = "button-box-right-borderless";
        if(states.hovered && !states.pressed && !states.checked){

          decorator = "button-box-hovered-right-borderless";
        } else if(states.hovered && (states.pressed || states.checked)){

          decorator = "button-box-pressed-hovered-right-borderless";
        } else if(states.pressed || states.checked){

          decorator = "button-box-pressed-right-borderless";
        };;
        return {
          icon : qx.theme.simple.Image.URLS["arrow-down"],
          decorator : decorator,
          padding : [0, 5],
          width : 19
        };
      }
    },
    "combobox/popup" : "popup",
    "combobox/list" : {
      alias : "list"
    },
    "combobox/textfield" : "textfield",
    "datefield" : "textfield",
    "datefield/button" : {
      alias : "combobox/button",
      include : "combobox/button",
      style : function(states){

        return {
          icon : "icon/16/apps/office-calendar.png",
          padding : [0, 0, 0, 3],
          backgroundColor : undefined,
          decorator : undefined,
          width : 19
        };
      }
    },
    "datefield/textfield" : {
      alias : "textfield",
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined,
          padding : 0
        };
      }
    },
    "datefield/list" : {
      alias : "datechooser",
      include : "datechooser",
      style : function(states){

        return {
          decorator : undefined
        };
      }
    },
    "list" : {
      alias : "scrollarea",
      include : "textfield"
    },
    "listitem" : {
      alias : "atom",
      style : function(states){

        var padding = [3, 5, 3, 5];
        if(states.lead){

          padding = [2, 4, 2, 4];
        };
        if(states.dragover){

          padding[2] -= 2;
        };
        var backgroundColor;
        if(states.selected){

          backgroundColor = "background-selected";
          if(states.disabled){

            backgroundColor += "-disabled";
          };
        };
        return {
          gap : 4,
          padding : padding,
          backgroundColor : backgroundColor,
          textColor : states.selected ? "text-selected" : undefined,
          decorator : states.lead ? "lead-item" : states.dragover ? "dragover" : undefined,
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "slider" : {
      style : function(states){

        var decorator;
        var padding;
        if(states.disabled){

          decorator = "inset";
          padding = [2, 3];
        } else if(states.invalid){

          decorator = "border-invalid";
          padding = [1, 2];
        } else if(states.focused){

          decorator = "focused-inset";
          padding = [1, 2];
        } else {

          padding = [2, 3];
          decorator = "inset";
        };;
        return {
          decorator : decorator,
          padding : padding
        };
      }
    },
    "slider/knob" : "scrollbar/slider/knob",
    "button-frame" : {
      alias : "atom",
      style : function(states){

        var decorator = "button-box";
        if(!states.disabled){

          if(states.hovered && !states.pressed && !states.checked){

            decorator = "button-box-hovered";
          } else if(states.hovered && (states.pressed || states.checked)){

            decorator = "button-box-pressed-hovered";
          } else if(states.pressed || states.checked){

            decorator = "button-box-pressed";
          };;
        };
        if(states.invalid && !states.disabled){

          decorator += "-invalid";
        } else if(states.focused){

          decorator += "-focused";
        };
        return {
          decorator : decorator,
          padding : [3, 8],
          cursor : states.disabled ? undefined : "pointer",
          minWidth : 5,
          minHeight : 5
        };
      }
    },
    "button-frame/label" : {
      alias : "atom/label",
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "button" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        return {
          center : true
        };
      }
    },
    "hover-button" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          decorator : states.hovered ? "button-hover" : undefined
        };
      }
    },
    "menubutton" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["arrow-down"],
          iconPosition : "right"
        };
      }
    },
    "splitbutton" : {
    },
    "splitbutton/button" : {
      alias : "atom",
      style : function(states){

        var decorator = "button-box";
        if(!states.disabled){

          if(states.pressed || states.checked){

            decorator += "-pressed";
          };
          if(states.hovered){

            decorator += "-hovered";
          };
        };
        if(states.focused){

          decorator += "-focused";
        };
        decorator += "-left";
        return {
          decorator : decorator,
          padding : [3, 8],
          cursor : states.disabled ? undefined : "pointer"
        };
      }
    },
    "splitbutton/arrow" : {
      style : function(states){

        var decorator = "button-box";
        if(!states.disabled){

          if(states.pressed || states.checked){

            decorator += "-pressed";
          };
          if(states.hovered){

            decorator += "-hovered";
          };
        };
        if(states.focused){

          decorator += "-focused";
        };
        decorator += "-right";
        return {
          icon : qx.theme.simple.Image.URLS["arrow-down"],
          decorator : decorator,
          cursor : states.disabled ? undefined : "pointer",
          padding : [3, 4]
        };
      }
    },
    "groupbox" : {
    },
    "groupbox/legend" : {
      alias : "atom",
      style : function(states){

        return {
          textColor : states.invalid ? "invalid" : undefined,
          padding : 5,
          margin : 4,
          font : "bold"
        };
      }
    },
    "groupbox/frame" : {
      style : function(states){

        return {
          backgroundColor : "background",
          padding : [6, 9],
          margin : [18, 2, 2, 2],
          decorator : "white-box"
        };
      }
    },
    "check-groupbox" : "groupbox",
    "check-groupbox/legend" : {
      alias : "checkbox",
      include : "checkbox",
      style : function(states){

        return {
          textColor : states.invalid ? "invalid" : undefined,
          padding : 5,
          margin : 4,
          font : "bold"
        };
      }
    },
    "radio-groupbox" : "groupbox",
    "radio-groupbox/legend" : {
      alias : "radiobutton",
      include : "radiobutton",
      style : function(states){

        return {
          textColor : states.invalid ? "invalid" : undefined,
          padding : 5,
          margin : 4,
          font : "bold"
        };
      }
    },
    "tree-folder/open" : {
      include : "image",
      style : function(states){

        return {
          source : states.opened ? qx.theme.simple.Image.URLS["tree-minus"] : qx.theme.simple.Image.URLS["tree-plus"]
        };
      }
    },
    "tree-folder" : {
      style : function(states){

        var backgroundColor;
        if(states.selected){

          backgroundColor = "background-selected";
          if(states.disabled){

            backgroundColor += "-disabled";
          };
        };
        return {
          padding : [2, 8, 2, 5],
          icon : states.opened ? "icon/16/places/folder-open.png" : "icon/16/places/folder.png",
          backgroundColor : backgroundColor,
          iconOpened : "icon/16/places/folder-open.png",
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "tree-folder/icon" : {
      include : "image",
      style : function(states){

        return {
          padding : [0, 4, 0, 0]
        };
      }
    },
    "tree-folder/label" : {
      style : function(states){

        return {
          padding : [1, 2],
          textColor : states.selected && !states.disabled ? "text-selected" : undefined
        };
      }
    },
    "tree-file" : {
      include : "tree-folder",
      alias : "tree-folder",
      style : function(states){

        return {
          icon : "icon/16/mimetypes/text-plain.png",
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "tree" : {
      include : "list",
      alias : "list",
      style : function(states){

        return {
          contentPadding : states.invalid && !states.disabled ? [3, 0] : [4, 1],
          padding : states.focused ? 0 : 1
        };
      }
    },
    "window" : {
      style : function(states){

        return {
          contentPadding : [10, 10, 10, 10],
          backgroundColor : "background",
          decorator : states.maximized ? undefined : states.active ? "window-active" : "window"
        };
      }
    },
    "window-resize-frame" : "resize-frame",
    "window/pane" : {
    },
    "window/captionbar" : {
      style : function(states){

        return {
          backgroundColor : states.active ? "light-background" : "background-disabled",
          padding : 8,
          font : "bold",
          decorator : "window-caption"
        };
      }
    },
    "window/icon" : {
      style : function(states){

        return {
          marginRight : 4
        };
      }
    },
    "window/title" : {
      style : function(states){

        return {
          cursor : "default",
          font : "bold",
          marginRight : 20,
          alignY : "middle"
        };
      }
    },
    "window/minimize-button" : {
      alias : "button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["window-minimize"],
          padding : [1, 2],
          cursor : states.disabled ? undefined : "pointer"
        };
      }
    },
    "window/restore-button" : {
      alias : "button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["window-restore"],
          padding : [1, 2],
          cursor : states.disabled ? undefined : "pointer"
        };
      }
    },
    "window/maximize-button" : {
      alias : "button",
      style : function(states){

        return {
          icon : qx.theme.simple.Image.URLS["window-maximize"],
          padding : [1, 2],
          cursor : states.disabled ? undefined : "pointer"
        };
      }
    },
    "window/close-button" : {
      alias : "button",
      style : function(states){

        return {
          marginLeft : 2,
          icon : qx.theme.simple.Image.URLS["window-close"],
          padding : [1, 2],
          cursor : states.disabled ? undefined : "pointer"
        };
      }
    },
    "window/statusbar" : {
      style : function(states){

        return {
          decorator : "statusbar",
          padding : [2, 6]
        };
      }
    },
    "window/statusbar-text" : "label",
    "datechooser" : {
      style : function(states){

        return {
          decorator : "main",
          minWidth : 220
        };
      }
    },
    "datechooser/navigation-bar" : {
      style : function(states){

        return {
          backgroundColor : "background",
          textColor : states.disabled ? "text-disabled" : states.invalid ? "invalid" : undefined,
          padding : [2, 10]
        };
      }
    },
    "datechooser/last-year-button-tooltip" : "tooltip",
    "datechooser/last-month-button-tooltip" : "tooltip",
    "datechooser/next-year-button-tooltip" : "tooltip",
    "datechooser/next-month-button-tooltip" : "tooltip",
    "datechooser/last-year-button" : "datechooser/button",
    "datechooser/last-month-button" : "datechooser/button",
    "datechooser/next-year-button" : "datechooser/button",
    "datechooser/next-month-button" : "datechooser/button",
    "datechooser/button/icon" : {
    },
    "datechooser/button" : {
      style : function(states){

        var result = {
          width : 17,
          show : "icon",
          cursor : states.disabled ? undefined : "pointer"
        };
        if(states.lastYear){

          result.icon = qx.theme.simple.Image.URLS["arrow-rewind"];
        } else if(states.lastMonth){

          result.icon = qx.theme.simple.Image.URLS["arrow-left"];
        } else if(states.nextYear){

          result.icon = qx.theme.simple.Image.URLS["arrow-forward"];
        } else if(states.nextMonth){

          result.icon = qx.theme.simple.Image.URLS["arrow-right"];
        };;;
        return result;
      }
    },
    "datechooser/month-year-label" : {
      style : function(states){

        return {
          font : "bold",
          textAlign : "center"
        };
      }
    },
    "datechooser/date-pane" : {
      style : function(states){

        return {
          decorator : "datechooser-date-pane",
          backgroundColor : "background"
        };
      }
    },
    "datechooser/weekday" : {
      style : function(states){

        return {
          decorator : "datechooser-weekday",
          font : "bold",
          textAlign : "center",
          textColor : states.disabled ? "text-disabled" : states.weekend ? "background-selected-dark" : "background",
          backgroundColor : states.weekend ? "background" : "background-selected-dark",
          paddingTop : 2
        };
      }
    },
    "datechooser/day" : {
      style : function(states){

        return {
          textAlign : "center",
          decorator : states.today ? "main" : undefined,
          textColor : states.disabled ? "text-disabled" : states.selected ? "text-selected" : states.otherMonth ? "text-disabled" : undefined,
          backgroundColor : states.disabled ? undefined : states.selected ? "background-selected" : undefined,
          padding : states.today ? [1, 3] : [2, 4]
        };
      }
    },
    "datechooser/week" : {
      style : function(states){

        return {
          textAlign : "center",
          textColor : "background-selected-dark",
          padding : [2, 4],
          decorator : states.header ? "datechooser-week-header" : "datechooser-week"
        };
      }
    },
    "progressbar" : {
      style : function(states){

        return {
          decorator : "progressbar",
          padding : 1,
          backgroundColor : "white",
          width : 200,
          height : 20
        };
      }
    },
    "progressbar/progress" : {
      style : function(states){

        return {
          backgroundColor : states.disabled ? "background-disabled-checked" : "background-selected"
        };
      }
    },
    "toolbar" : {
      style : function(states){

        return {
          backgroundColor : "light-background",
          padding : 0
        };
      }
    },
    "toolbar/part" : {
      style : function(states){

        return {
          margin : [0, 15]
        };
      }
    },
    "toolbar/part/container" : {
    },
    "toolbar/part/handle" : {
    },
    "toolbar-separator" : {
      style : function(states){

        return {
          decorator : "toolbar-separator",
          margin : [7, 0],
          width : 4
        };
      }
    },
    "toolbar-button" : {
      alias : "atom",
      style : function(states){

        var decorator = "button-box";
        if(states.disabled){

          decorator = "button-box";
        } else if(states.hovered && !states.pressed && !states.checked){

          decorator = "button-box-hovered";
        } else if(states.hovered && (states.pressed || states.checked)){

          decorator = "button-box-pressed-hovered";
        } else if(states.pressed || states.checked){

          decorator = "button-box-pressed";
        };;;
        if(states.left){

          decorator += "-left";
        } else if(states.right){

          decorator += "-right";
        } else if(states.middle){

          decorator += "-middle";
        };;
        var margin = [7, 10];
        if(states.left || states.middle || states.right){

          margin = [7, 0];
        };
        return {
          cursor : states.disabled ? undefined : "pointer",
          decorator : decorator,
          margin : margin,
          padding : [3, 5]
        };
      }
    },
    "toolbar-menubutton" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        return {
          showArrow : true
        };
      }
    },
    "toolbar-menubutton/arrow" : {
      alias : "image",
      include : "image",
      style : function(states){

        return {
          source : qx.theme.simple.Image.URLS["arrow-down"],
          cursor : states.disabled ? undefined : "pointer",
          padding : [0, 5],
          marginLeft : 2
        };
      }
    },
    "toolbar-splitbutton" : {
    },
    "toolbar-splitbutton/button" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        var decorator = "button-box";
        if(states.disabled){

          decorator = "button-box";
        } else if(states.hovered && !states.pressed && !states.checked){

          decorator = "button-box-hovered";
        } else if(states.hovered && (states.pressed || states.checked)){

          decorator = "button-box-pressed-hovered";
        } else if(states.pressed || states.checked){

          decorator = "button-box-pressed";
        };;;
        if(states.left){

          decorator += "-left";
        } else if(states.right){

          decorator += "-middle";
        } else if(states.middle){

          decorator += "-middle";
        };;
        return {
          icon : qx.theme.simple.Image.URLS["arrow-down"],
          decorator : decorator
        };
      }
    },
    "toolbar-splitbutton/arrow" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        var decorator = "button-box";
        if(states.disabled){

          decorator = "button-box";
        } else if(states.hovered && !states.pressed && !states.checked){

          decorator = "button-box-hovered";
        } else if(states.hovered && (states.pressed || states.checked)){

          decorator = "button-box-pressed-hovered";
        } else if(states.pressed || states.checked){

          decorator = "button-box-pressed";
        };;;
        if(states.left){

          decorator += "-middle";
        } else if(states.right){

          decorator += "-right";
        } else if(states.middle){

          decorator += "-middle";
        };;
        return {
          icon : qx.theme.simple.Image.URLS["arrow-down"],
          decorator : decorator
        };
      }
    },
    "tabview" : {
    },
    "tabview/bar" : {
      alias : "slidebar",
      style : function(states){

        var marginTop = 0,marginRight = 0,marginBottom = 0,marginLeft = 0;
        if(states.barTop){

          marginBottom -= 1;
        } else if(states.barBottom){

          marginTop -= 1;
        } else if(states.barRight){

          marginLeft -= 1;
        } else {

          marginRight -= 1;
        };;
        return {
          marginBottom : marginBottom,
          marginTop : marginTop,
          marginLeft : marginLeft,
          marginRight : marginRight
        };
      }
    },
    "tabview/bar/button-forward" : {
      include : "slidebar/button-forward",
      alias : "slidebar/button-forward",
      style : function(states){

        if(states.barTop){

          return {
            marginTop : 4,
            marginBottom : 2,
            decorator : null
          };
        } else if(states.barBottom){

          return {
            marginTop : 2,
            marginBottom : 4,
            decorator : null
          };
        } else if(states.barLeft){

          return {
            marginLeft : 4,
            marginRight : 2,
            decorator : null
          };
        } else {

          return {
            marginLeft : 2,
            marginRight : 4,
            decorator : null
          };
        };;
      }
    },
    "tabview/bar/button-backward" : {
      include : "slidebar/button-backward",
      alias : "slidebar/button-backward",
      style : function(states){

        if(states.barTop){

          return {
            marginTop : 4,
            marginBottom : 2,
            decorator : null
          };
        } else if(states.barBottom){

          return {
            marginTop : 2,
            marginBottom : 4,
            decorator : null
          };
        } else if(states.barLeft){

          return {
            marginLeft : 4,
            marginRight : 2,
            decorator : null
          };
        } else {

          return {
            marginLeft : 2,
            marginRight : 4,
            decorator : null
          };
        };;
      }
    },
    "tabview/pane" : {
      style : function(states){

        return {
          backgroundColor : "background",
          decorator : "main",
          padding : 10
        };
      }
    },
    "tabview-page" : "widget",
    "tabview-page/button" : {
      style : function(states){

        var decorator;
        if(states.barTop || states.barBottom){

          var padding = [8, 16, 8, 13];
        } else {

          var padding = [8, 4, 8, 4];
        };
        if(states.checked){

          if(states.barTop){

            decorator = "tabview-page-button-top";
          } else if(states.barBottom){

            decorator = "tabview-page-button-bottom";
          } else if(states.barRight){

            decorator = "tabview-page-button-right";
          } else if(states.barLeft){

            decorator = "tabview-page-button-left";
          };;;
        } else {

          for(var i = 0;i < padding.length;i++){

            padding[i] += 1;
          };
          if(states.barTop){

            padding[2] -= 1;
          } else if(states.barBottom){

            padding[0] -= 1;
          } else if(states.barRight){

            padding[3] -= 1;
          } else if(states.barLeft){

            padding[1] -= 1;
          };;;
        };
        return {
          zIndex : states.checked ? 10 : 5,
          decorator : decorator,
          textColor : states.disabled ? "text-disabled" : states.checked ? null : "link",
          padding : padding,
          cursor : "pointer"
        };
      }
    },
    "tabview-page/button/label" : {
      alias : "label",
      style : function(states){

        return {
          padding : [0, 1, 0, 1]
        };
      }
    },
    "tabview-page/button/icon" : "image",
    "tabview-page/button/close-button" : {
      alias : "atom",
      style : function(states){

        return {
          cursor : states.disabled ? undefined : "pointer",
          icon : qx.theme.simple.Image.URLS["tabview-close"]
        };
      }
    },
    "colorpopup" : {
      alias : "popup",
      include : "popup",
      style : function(states){

        return {
          padding : 5
        };
      }
    },
    "colorpopup/field" : {
      style : function(states){

        return {
          margin : 2,
          width : 14,
          height : 14,
          backgroundColor : "background",
          decorator : "main-dark"
        };
      }
    },
    "colorpopup/selector-button" : "button",
    "colorpopup/auto-button" : "button",
    "colorpopup/preview-pane" : "groupbox",
    "colorpopup/current-preview" : {
      style : function(state){

        return {
          height : 20,
          padding : 4,
          marginLeft : 4,
          decorator : "main-dark",
          allowGrowX : true
        };
      }
    },
    "colorpopup/selected-preview" : {
      style : function(state){

        return {
          height : 20,
          padding : 4,
          marginRight : 4,
          decorator : "main-dark",
          allowGrowX : true
        };
      }
    },
    "colorpopup/colorselector-okbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "icon/16/actions/dialog-ok.png"
        };
      }
    },
    "colorpopup/colorselector-cancelbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "icon/16/actions/dialog-cancel.png"
        };
      }
    },
    "colorselector" : "widget",
    "colorselector/control-bar" : "widget",
    "colorselector/visual-pane" : "groupbox",
    "colorselector/control-pane" : "widget",
    "colorselector/preset-grid" : "widget",
    "colorselector/colorbucket" : {
      style : function(states){

        return {
          decorator : "main-dark",
          width : 16,
          height : 16
        };
      }
    },
    "colorselector/preset-field-set" : "groupbox",
    "colorselector/input-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 12
        };
      }
    },
    "colorselector/preview-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 12
        };
      }
    },
    "colorselector/hex-field-composite" : "widget",
    "colorselector/hex-field" : "textfield",
    "colorselector/rgb-spinner-composite" : "widget",
    "colorselector/rgb-spinner-red" : "spinner",
    "colorselector/rgb-spinner-green" : "spinner",
    "colorselector/rgb-spinner-blue" : "spinner",
    "colorselector/hsb-spinner-composite" : "widget",
    "colorselector/hsb-spinner-hue" : "spinner",
    "colorselector/hsb-spinner-saturation" : "spinner",
    "colorselector/hsb-spinner-brightness" : "spinner",
    "colorselector/preview-content-old" : {
      style : function(states){

        return {
          decorator : "main-dark",
          width : 50,
          height : 25
        };
      }
    },
    "colorselector/preview-content-new" : {
      style : function(states){

        return {
          decorator : "main-dark",
          backgroundColor : "white",
          width : 50,
          height : 25
        };
      }
    },
    "colorselector/hue-saturation-field" : {
      style : function(states){

        return {
          decorator : "main-dark",
          margin : 5
        };
      }
    },
    "colorselector/brightness-field" : {
      style : function(states){

        return {
          decorator : "main-dark",
          margin : [5, 7]
        };
      }
    },
    "colorselector/hue-saturation-pane" : "widget",
    "colorselector/hue-saturation-handle" : "widget",
    "colorselector/brightness-pane" : "widget",
    "colorselector/brightness-handle" : "widget",
    "app-header" : {
      style : function(states){

        return {
          font : "headline",
          textColor : "text-selected",
          backgroundColor : "background-selected-dark",
          padding : [8, 12]
        };
      }
    },
    "app-header-label" : {
      style : function(states){

        return {
          paddingTop : 5
        };
      }
    },
    "app-splitpane" : {
      alias : "splitpane",
      style : function(states){

        return {
          padding : [0, 10, 10, 10],
          backgroundColor : "light-background"
        };
      }
    }
  }
});

qx.Class.define("qx.theme.simple.Image", {
  extend : qx.core.Object,
  statics : {
    URLS : {
      "blank" : "qx/static/blank.png",
      "checkbox-checked" : "decoration/checkbox/checked.png",
      "checkbox-undetermined" : "decoration/checkbox/undetermined.png",
      "window-minimize" : "decoration/window/minimize.gif",
      "window-maximize" : "decoration/window/maximize.gif",
      "window-restore" : "decoration/window/restore.gif",
      "window-close" : "decoration/window/close.gif",
      "cursor-copy" : "decoration/cursors/copy.gif",
      "cursor-move" : "decoration/cursors/move.gif",
      "cursor-alias" : "decoration/cursors/alias.gif",
      "cursor-nodrop" : "decoration/cursors/nodrop.gif",
      "arrow-right" : "decoration/arrows/right.gif",
      "arrow-left" : "decoration/arrows/left.gif",
      "arrow-up" : "decoration/arrows/up.gif",
      "arrow-down" : "decoration/arrows/down.gif",
      "arrow-forward" : "decoration/arrows/forward.gif",
      "arrow-rewind" : "decoration/arrows/rewind.gif",
      "arrow-down-small" : "decoration/arrows/down-small.gif",
      "arrow-up-small" : "decoration/arrows/up-small.gif",
      "arrow-up-invert" : "decoration/arrows/up-invert.gif",
      "arrow-down-invert" : "decoration/arrows/down-invert.gif",
      "arrow-right-invert" : "decoration/arrows/right-invert.gif",
      "knob-horizontal" : "decoration/splitpane/knob-horizontal.png",
      "knob-vertical" : "decoration/splitpane/knob-vertical.png",
      "tree-minus" : "decoration/tree/minus.gif",
      "tree-plus" : "decoration/tree/plus.gif",
      "select-column-order" : "decoration/table/select-column-order.png",
      "table-ascending" : "decoration/table/ascending.png",
      "table-descending" : "decoration/table/descending.png",
      "treevirtual-line" : "decoration/treevirtual/line.gif",
      "treevirtual-minus-only" : "decoration/treevirtual/only_minus.gif",
      "treevirtual-plus-only" : "decoration/treevirtual/only_plus.gif",
      "treevirtual-minus-start" : "decoration/treevirtual/start_minus.gif",
      "treevirtual-plus-start" : "decoration/treevirtual/start_plus.gif",
      "treevirtual-minus-end" : "decoration/treevirtual/end_minus.gif",
      "treevirtual-plus-end" : "decoration/treevirtual/end_plus.gif",
      "treevirtual-minus-cross" : "decoration/treevirtual/cross_minus.gif",
      "treevirtual-plus-cross" : "decoration/treevirtual/cross_plus.gif",
      "treevirtual-end" : "decoration/treevirtual/end.gif",
      "treevirtual-cross" : "decoration/treevirtual/cross.gif",
      "menu-checkbox" : "decoration/menu/checkbox.gif",
      "menu-checkbox-invert" : "decoration/menu/checkbox-invert.gif",
      "menu-radiobutton-invert" : "decoration/menu/radiobutton-invert.gif",
      "menu-radiobutton" : "decoration/menu/radiobutton.gif",
      "tabview-close" : "decoration/tabview/close.gif"
    }
  }
});

qx.Theme.define("qx.theme.indigo.Appearance", {
  extend : qx.theme.simple.Appearance,
  appearances : {
    "colorselector/input-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 0
        };
      }
    },
    "colorselector/preview-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 0
        };
      }
    },
    "toolbar" : {
      style : function(states){

        return {
          backgroundColor : "light-background",
          padding : [4, 0]
        };
      }
    },
    "splitpane/splitter/knob" : {
      style : function(states){

        return {
          source : qx.theme.simple.Image.URLS["knob-" + (states.horizontal ? "horizontal" : "vertical")],
          padding : 3
        };
      }
    },
    "window" : {
      style : function(states){

        return {
          contentPadding : [10, 10, 10, 10],
          backgroundColor : states.maximized ? "background" : undefined,
          decorator : states.maximized ? undefined : states.active ? "window-active" : "window"
        };
      }
    },
    "window/captionbar" : {
      style : function(states){

        var active = states.active && !states.disabled;
        return {
          padding : [3, 8, active ? 1 : 3, 8],
          textColor : active ? "highlight" : "font",
          decorator : active ? "window-caption-active" : "window-caption"
        };
      }
    },
    "window/title" : {
      style : function(states){

        return {
          cursor : "default",
          font : "default",
          marginRight : 20,
          alignY : "middle"
        };
      }
    },
    "virtual-tree" : {
      include : "tree",
      alias : "tree",
      style : function(states){

        return {
          itemHeight : 27
        };
      }
    },
    "app-header" : {
      style : function(states){

        return {
          font : "headline",
          textColor : "text-selected",
          decorator : "app-header",
          padding : 10
        };
      }
    },
    "app-header-label" : {
      style : function(states){

        return {
          paddingTop : 5
        };
      }
    },
    "app-splitpane" : {
      alias : "splitpane",
      style : function(states){

        return {
          padding : [0, 10, 10, 10],
          backgroundColor : "light-background"
        };
      }
    }
  }
});

qx.Theme.define("qx.theme.icon.Tango", {
  title : "Tango",
  aliases : {
    "icon" : "qx/icon/Tango"
  }
});

qx.Theme.define("qx.theme.simple.Decoration", {
  aliases : {
    decoration : "qx/decoration/Simple"
  },
  decorations : {
    "border-blue" : {
      style : {
        width : 4,
        color : "background-selected"
      }
    },
    "main" : {
      style : {
        width : 1,
        color : "border-main"
      }
    },
    "main-dark" : {
      style : {
        width : 1,
        color : "button-border"
      }
    },
    "popup" : {
      style : {
        width : 1,
        color : "window-border",
        shadowLength : 2,
        shadowBlurRadius : 5,
        shadowColor : "shadow"
      }
    },
    "dragover" : {
      style : {
        bottom : [2, "solid", "dark-blue"]
      }
    },
    "button-box" : {
      style : {
        radius : 3,
        width : 1,
        color : "button-border",
        gradientStart : ["button-box-bright", 40],
        gradientEnd : ["button-box-dark", 70],
        backgroundColor : "button-box-bright"
      }
    },
    "button-box-pressed" : {
      include : "button-box",
      style : {
        gradientStart : ["button-box-bright-pressed", 40],
        gradientEnd : ["button-box-dark-pressed", 70],
        backgroundColor : "button-box-bright-pressed"
      }
    },
    "button-box-pressed-hovered" : {
      include : "button-box-pressed",
      style : {
        color : "button-border-hovered"
      }
    },
    "button-box-hovered" : {
      include : "button-box",
      style : {
        color : "button-border-hovered"
      }
    },
    "button-box-invalid" : {
      include : "button-box",
      style : {
        color : "invalid"
      }
    },
    "button-box-pressed-invalid" : {
      include : "button-box-pressed",
      style : {
        color : "invalid"
      }
    },
    "button-box-hovered-invalid" : {
      include : "button-box-invalid"
    },
    "button-box-pressed-hovered-invalid" : {
      include : "button-box-pressed-invalid"
    },
    "button-box-focused" : {
      include : "button-box",
      style : {
        color : "background-selected"
      }
    },
    "button-box-pressed-focused" : {
      include : "button-box-pressed",
      style : {
        color : "background-selected"
      }
    },
    "button-box-hovered-focused" : {
      include : "button-box-focused"
    },
    "button-box-pressed-hovered-focused" : {
      include : "button-box-pressed-focused"
    },
    "button-box-right" : {
      include : "button-box",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-pressed-right" : {
      include : "button-box-pressed",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-pressed-hovered-right" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-hovered-right" : {
      include : "button-box-hovered",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-focused-right" : {
      include : "button-box-focused",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-hovered-focused-right" : {
      include : "button-box-hovered-focused",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-pressed-focused-right" : {
      include : "button-box-pressed-focused",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-pressed-hovered-focused-right" : {
      include : "button-box-pressed-hovered-focused",
      style : {
        radius : [0, 3, 3, 0]
      }
    },
    "button-box-right-borderless" : {
      include : "button-box",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-pressed-right-borderless" : {
      include : "button-box-pressed",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-pressed-hovered-right-borderless" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-hovered-right-borderless" : {
      include : "button-box-hovered",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-top-right" : {
      include : "button-box",
      style : {
        radius : [0, 3, 0, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-pressed-top-right" : {
      include : "button-box-pressed",
      style : {
        radius : [0, 3, 0, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-pressed-hovered-top-right" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [0, 3, 0, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-hovered-top-right" : {
      include : "button-box-hovered",
      style : {
        radius : [0, 3, 0, 0],
        width : [1, 1, 1, 0]
      }
    },
    "button-box-bottom-right" : {
      include : "button-box",
      style : {
        radius : [0, 0, 3, 0],
        width : [0, 1, 1, 0]
      }
    },
    "button-box-pressed-bottom-right" : {
      include : "button-box-pressed",
      style : {
        radius : [0, 0, 3, 0],
        width : [0, 1, 1, 0]
      }
    },
    "button-box-pressed-hovered-bottom-right" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [0, 0, 3, 0],
        width : [0, 1, 1, 0]
      }
    },
    "button-box-hovered-bottom-right" : {
      include : "button-box-hovered",
      style : {
        radius : [0, 0, 3, 0],
        width : [0, 1, 1, 0]
      }
    },
    "button-box-bottom-left" : {
      include : "button-box",
      style : {
        radius : [0, 0, 0, 3],
        width : [0, 0, 1, 1]
      }
    },
    "button-box-pressed-bottom-left" : {
      include : "button-box-pressed",
      style : {
        radius : [0, 0, 0, 3],
        width : [0, 0, 1, 1]
      }
    },
    "button-box-pressed-hovered-bottom-left" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [0, 0, 0, 3],
        width : [0, 0, 1, 1]
      }
    },
    "button-box-hovered-bottom-left" : {
      include : "button-box-hovered",
      style : {
        radius : [0, 0, 0, 3],
        width : [0, 0, 1, 1]
      }
    },
    "button-box-top-left" : {
      include : "button-box",
      style : {
        radius : [3, 0, 0, 0],
        width : [1, 0, 0, 1]
      }
    },
    "button-box-pressed-top-left" : {
      include : "button-box-pressed",
      style : {
        radius : [3, 0, 0, 0],
        width : [1, 0, 0, 1]
      }
    },
    "button-box-pressed-hovered-top-left" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [3, 0, 0, 0],
        width : [1, 0, 0, 1]
      }
    },
    "button-box-hovered-top-left" : {
      include : "button-box-hovered",
      style : {
        radius : [3, 0, 0, 0],
        width : [1, 0, 0, 1]
      }
    },
    "button-box-middle" : {
      include : "button-box",
      style : {
        radius : 0,
        width : [1, 0, 1, 1]
      }
    },
    "button-box-pressed-middle" : {
      include : "button-box-pressed",
      style : {
        radius : 0,
        width : [1, 0, 1, 1]
      }
    },
    "button-box-pressed-hovered-middle" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : 0,
        width : [1, 0, 1, 1]
      }
    },
    "button-box-hovered-middle" : {
      include : "button-box-hovered",
      style : {
        radius : 0,
        width : [1, 0, 1, 1]
      }
    },
    "button-box-left" : {
      include : "button-box",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-pressed-left" : {
      include : "button-box-pressed",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-pressed-hovered-left" : {
      include : "button-box-pressed-hovered",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-hovered-left" : {
      include : "button-box-hovered",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-focused-left" : {
      include : "button-box-focused",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-hovered-focused-left" : {
      include : "button-box-hovered-focused",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-pressed-hovered-focused-left" : {
      include : "button-box-pressed-hovered-focused",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "button-box-pressed-focused-left" : {
      include : "button-box-pressed-focused",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "separator-horizontal" : {
      style : {
        widthLeft : 1,
        colorLeft : "border-separator"
      }
    },
    "separator-vertical" : {
      style : {
        widthTop : 1,
        colorTop : "border-separator"
      }
    },
    "scroll-knob" : {
      style : {
        radius : 3,
        width : 1,
        color : "button-border",
        backgroundColor : "scrollbar-bright"
      }
    },
    "scroll-knob-pressed" : {
      include : "scroll-knob",
      style : {
        backgroundColor : "scrollbar-dark"
      }
    },
    "scroll-knob-hovered" : {
      include : "scroll-knob",
      style : {
        color : "button-border-hovered"
      }
    },
    "scroll-knob-pressed-hovered" : {
      include : "scroll-knob-pressed",
      style : {
        color : "button-border-hovered"
      }
    },
    "button-hover" : {
      style : {
        backgroundColor : "button",
        radius : 3
      }
    },
    "window" : {
      style : {
        width : 1,
        color : "window-border",
        innerWidth : 4,
        innerColor : "window-border-inner",
        shadowLength : 1,
        shadowBlurRadius : 3,
        shadowColor : "shadow",
        backgroundColor : "background"
      }
    },
    "window-active" : {
      include : "window",
      style : {
        shadowLength : 2,
        shadowBlurRadius : 5
      }
    },
    "window-caption" : {
      style : {
        width : [0, 0, 2, 0],
        color : "window-border-inner"
      }
    },
    "white-box" : {
      style : {
        width : 1,
        color : "white-box-border",
        shadowBlurRadius : 2,
        shadowColor : "#999999",
        radius : 7,
        backgroundColor : "white",
        shadowLength : 0
      }
    },
    "inset" : {
      style : {
        width : 1,
        color : ["border-light-shadow", "border-light", "border-light", "border-light"]
      }
    },
    "focused-inset" : {
      style : {
        width : 2,
        color : "background-selected"
      }
    },
    "border-invalid" : {
      style : {
        width : 2,
        color : "invalid"
      }
    },
    "lead-item" : {
      style : {
        width : 1,
        style : "dotted",
        color : "border-lead"
      }
    },
    "tooltip" : {
      style : {
        width : 1,
        color : "tooltip-text",
        shadowLength : 1,
        shadowBlurRadius : 2,
        shadowColor : "shadow"
      }
    },
    "tooltip-error" : {
      style : {
        radius : 5,
        backgroundColor : "invalid"
      }
    },
    "toolbar-separator" : {
      style : {
        widthLeft : 1,
        colorLeft : "button-border"
      }
    },
    "menu-separator" : {
      style : {
        widthTop : 1,
        colorTop : "background-selected"
      }
    },
    "menubar-button-hovered" : {
      style : {
        width : 1,
        color : "border-main",
        radius : 3,
        backgroundColor : "white"
      }
    },
    "menubar-button-pressed" : {
      include : "menubar-button-hovered",
      style : {
        radius : [3, 3, 0, 0],
        width : [1, 1, 0, 1]
      }
    },
    "datechooser-date-pane" : {
      style : {
        widthTop : 1,
        colorTop : "gray",
        style : "solid"
      }
    },
    "datechooser-weekday" : {
      style : {
        widthBottom : 1,
        colorBottom : "gray",
        style : "solid"
      }
    },
    "datechooser-week" : {
      style : {
        widthRight : 1,
        colorRight : "gray",
        style : "solid"
      }
    },
    "datechooser-week-header" : {
      style : {
        widthBottom : 1,
        colorBottom : "gray",
        widthRight : 1,
        colorRight : "gray",
        style : "solid"
      }
    },
    "tabview-page-button-top" : {
      style : {
        width : [1, 1, 0, 1],
        backgroundColor : "background",
        color : "border-main",
        radius : [3, 3, 0, 0]
      }
    },
    "tabview-page-button-bottom" : {
      include : "tabview-page-button-top",
      style : {
        radius : [0, 0, 3, 3],
        width : [0, 1, 1, 1]
      }
    },
    "tabview-page-button-left" : {
      include : "tabview-page-button-top",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1]
      }
    },
    "tabview-page-button-right" : {
      include : "tabview-page-button-top",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0]
      }
    },
    "statusbar" : {
      style : {
        widthTop : 1,
        colorTop : "background-selected",
        styleTop : "solid"
      }
    },
    "table-scroller-focus-indicator" : {
      style : {
        width : 2,
        color : "table-focus-indicator",
        style : "solid"
      }
    },
    "table-header" : {
      include : "button-box",
      style : {
        radius : 0,
        width : [1, 0, 1, 0]
      }
    },
    "table-header-column-button" : {
      include : "table-header",
      style : {
        width : 1,
        color : "button-border"
      }
    },
    "table-header-cell" : {
      style : {
        widthRight : 1,
        color : "button-border"
      }
    },
    "table-header-cell-first" : {
      include : "table-header-cell",
      style : {
        widthLeft : 1
      }
    },
    "progressive-table-header" : {
      include : "button-box",
      style : {
        radius : 0,
        width : [1, 0, 1, 1]
      }
    },
    "progressive-table-header-cell" : {
      style : {
        widthRight : 1,
        color : "button-border"
      }
    },
    "progressbar" : {
      style : {
        backgroundColor : "#FFF",
        width : 1,
        color : "border-separator"
      }
    },
    "radiobutton" : {
      style : {
        radius : 10,
        width : 1,
        color : "button-border",
        innerColor : "background",
        innerWidth : 2
      }
    },
    "radiobutton-focused" : {
      include : "radiobutton",
      style : {
        color : "background-selected"
      }
    },
    "radiobutton-invalid" : {
      include : "radiobutton",
      style : {
        color : "invalid"
      }
    },
    "checkbox" : {
      style : {
        width : 1,
        color : "button-border"
      }
    },
    "checkbox-focused" : {
      include : "checkbox",
      style : {
        color : "background-selected"
      }
    },
    "checkbox-invalid" : {
      include : "checkbox",
      style : {
        color : "invalid"
      }
    }
  }
});

qx.Theme.define("qx.theme.indigo.Decoration", {
  extend : qx.theme.simple.Decoration,
  aliases : {
    decoration : "qx/decoration/Simple"
  },
  decorations : {
    "window" : {
      style : {
        width : 1,
        color : "window-border",
        shadowLength : 1,
        shadowBlurRadius : 3,
        shadowColor : "shadow",
        backgroundColor : "background",
        radius : 3
      }
    },
    "window-caption" : {
      style : {
        radius : [3, 3, 0, 0],
        color : "window-border",
        widthBottom : 1
      }
    },
    "window-caption-active" : {
      style : {
        radius : [3, 3, 0, 0],
        color : "highlight",
        widthBottom : 3
      }
    },
    "white-box" : {
      style : {
        width : 1,
        color : "white-box-border",
        backgroundColor : "white"
      }
    },
    "statusbar" : {
      style : {
        widthTop : 1,
        colorTop : "border-main",
        styleTop : "solid"
      }
    },
    "app-header" : {
      style : {
        innerWidthBottom : 1,
        innerColorBottom : "highlight-shade",
        widthBottom : 9,
        colorBottom : "highlight",
        gradientStart : ["#505154", 0],
        gradientEnd : ["#323335", 100],
        backgroundColor : "#323335"
      }
    }
  }
});

qx.Theme.define("qx.theme.indigo.Color", {
  colors : {
    "background" : "white",
    "dark-blue" : "#323335",
    "light-background" : "#F4F4F4",
    "font" : "#262626",
    "highlight" : "#3D72C9",
    "highlight-shade" : "#5583D0",
    "background-selected" : "#3D72C9",
    "background-selected-disabled" : "#CDCDCD",
    "background-selected-dark" : "#323335",
    "background-disabled" : "#F7F7F7",
    "background-disabled-checked" : "#BBBBBB",
    "background-pane" : "white",
    "tabview-unselected" : "#1866B5",
    "tabview-button-border" : "#134983",
    "tabview-label-active-disabled" : "#D9D9D9",
    "link" : "#24B",
    "scrollbar-bright" : "#F1F1F1",
    "scrollbar-dark" : "#EBEBEB",
    "button" : "#E8F0E3",
    "button-border" : "#BBB",
    "button-border-hovered" : "#939393",
    "invalid" : "#C00F00",
    "button-box-bright" : "#F9F9F9",
    "button-box-dark" : "#E3E3E3",
    "button-box-bright-pressed" : "#BABABA",
    "button-box-dark-pressed" : "#EBEBEB",
    "border-lead" : "#888888",
    "window-border" : "#dddddd",
    "window-border-inner" : "#F4F4F4",
    "white-box-border" : "#dddddd",
    "shadow" : qx.core.Environment.get("css.rgba") ? "rgba(0, 0, 0, 0.4)" : "#666666",
    "border-main" : "#dddddd",
    "border-light" : "#B7B7B7",
    "border-light-shadow" : "#686868",
    "border-separator" : "#808080",
    "text" : "#262626",
    "text-disabled" : "#A7A6AA",
    "text-selected" : "white",
    "text-placeholder" : "#CBC8CD",
    "tooltip" : "#FE0",
    "tooltip-text" : "black",
    "table-header" : [242, 242, 242],
    "table-focus-indicator" : "#3D72C9",
    "table-header-cell" : [235, 234, 219],
    "table-row-background-focused-selected" : "#3D72C9",
    "table-row-background-focused" : "#F4F4F4",
    "table-row-background-selected" : [51, 94, 168],
    "table-row-background-even" : "white",
    "table-row-background-odd" : "white",
    "table-row-selected" : [255, 255, 255],
    "table-row" : [0, 0, 0],
    "table-row-line" : "#EEE",
    "table-column-line" : "#EEE",
    "progressive-table-header" : "#AAAAAA",
    "progressive-table-row-background-even" : [250, 248, 243],
    "progressive-table-row-background-odd" : [255, 255, 255],
    "progressive-progressbar-background" : "gray",
    "progressive-progressbar-indicator-done" : "#CCCCCC",
    "progressive-progressbar-indicator-undone" : "white",
    "progressive-progressbar-percent-background" : "gray",
    "progressive-progressbar-percent-text" : "white"
  }
});

qx.Theme.define("qx.theme.Indigo", {
  title : "Indigo",
  meta : {
    color : qx.theme.indigo.Color,
    decoration : qx.theme.indigo.Decoration,
    font : qx.theme.indigo.Font,
    appearance : qx.theme.indigo.Appearance,
    icon : qx.theme.icon.Tango
  }
});

qx.Bootstrap.define("qx.util.Request", {
  statics : {
    isCrossDomain : function(url){

      var result = qx.util.Uri.parseUri(url),location = window.location;
      if(!location){

        return false;
      };
      var protocol = location.protocol;
      if(!(url.indexOf("//") !== -1)){

        return false;
      };
      if(protocol.substr(0, protocol.length - 1) == result.protocol && location.host === result.host && location.port === result.port){

        return false;
      };
      return true;
    },
    isSuccessful : function(status){

      return (status >= 200 && status < 300 || status === 304);
    },
    isMethod : function(method){

      var knownMethods = ["GET", "POST", "PUT", "DELETE", "HEAD", "OPTIONS", "TRACE", "CONNECT", "PATCH"];
      return (knownMethods.indexOf(method) !== -1) ? true : false;
    },
    methodAllowsRequestBody : function(method){

      return !((/^(GET|HEAD)$/).test(method));
    }
  }
});

qx.Bootstrap.define("qx.module.event.Touch", {
  statics : {
    TYPES : ["tap", "longtap", "swipe", "dbltap"],
    normalize : function(event, element, type){

      if(!event){

        return event;
      };
      event._type = type;
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(statics.TYPES, statics.normalize);
  }
});

qx.Interface.define("qx.ui.form.IRadioItem", {
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    setValue : function(value){
    },
    getValue : function(){
    },
    setGroup : function(value){

      this.assertInstance(value, qx.ui.form.RadioGroup);
    },
    getGroup : function(){
    }
  }
});

qx.Mixin.define("qx.ui.form.MModelProperty", {
  properties : {
    model : {
      nullable : true,
      event : "changeModel",
      apply : "_applyModel",
      dereference : true
    }
  },
  members : {
    _applyModel : function(value, old){
    }
  }
});

qx.Interface.define("qx.ui.form.IModel", {
  events : {
    "changeModel" : "qx.event.type.Data"
  },
  members : {
    setModel : function(value){
    },
    getModel : function(){
    },
    resetModel : function(){
    }
  }
});

qx.Class.define("qx.ui.form.RadioButton", {
  extend : qx.ui.form.Button,
  include : [qx.ui.form.MForm, qx.ui.form.MModelProperty],
  implement : [qx.ui.form.IRadioItem, qx.ui.form.IForm, qx.ui.form.IBooleanForm, qx.ui.form.IModel],
  construct : function(label){

    if(qx.core.Environment.get("qx.debug")){

      this.assertArgumentsCount(arguments, 0, 1);
    };
    this.base(arguments, label);
    this.addListener("execute", this._onExecute);
    this.addListener("keypress", this._onKeyPress);
  },
  properties : {
    group : {
      check : "qx.ui.form.RadioGroup",
      nullable : true,
      apply : "_applyGroup"
    },
    value : {
      check : "Boolean",
      nullable : true,
      event : "changeValue",
      apply : "_applyValue",
      init : false
    },
    appearance : {
      refine : true,
      init : "radiobutton"
    },
    allowGrowX : {
      refine : true,
      init : false
    }
  },
  members : {
    _forwardStates : {
      checked : true,
      focused : true,
      invalid : true,
      hovered : true
    },
    _bindableProperties : ["enabled", "label", "toolTipText", "value", "menu"],
    _applyValue : function(value, old){

      value ? this.addState("checked") : this.removeState("checked");
    },
    _applyGroup : function(value, old){

      if(old){

        old.remove(this);
      };
      if(value){

        value.add(this);
      };
    },
    _onExecute : function(e){

      var grp = this.getGroup();
      if(grp && grp.getAllowEmptySelection()){

        this.toggleValue();
      } else {

        this.setValue(true);
      };
    },
    _onKeyPress : function(e){

      var grp = this.getGroup();
      if(!grp){

        return;
      };
      switch(e.getKeyIdentifier()){case "Left":case "Up":
      grp.selectPrevious();
      break;case "Right":case "Down":
      grp.selectNext();
      break;};
    }
  }
});

qx.Class.define("qx.ui.tabview.TabButton", {
  extend : qx.ui.form.RadioButton,
  implement : qx.ui.form.IRadioItem,
  construct : function(){

    this.base(arguments);
    var layout = new qx.ui.layout.Grid(2, 0);
    layout.setRowAlign(0, "left", "middle");
    layout.setColumnAlign(0, "right", "middle");
    this._getLayout().dispose();
    this._setLayout(layout);
    this.initShowCloseButton();
  },
  events : {
    "close" : "qx.event.type.Data"
  },
  properties : {
    showCloseButton : {
      check : "Boolean",
      init : false,
      apply : "_applyShowCloseButton"
    }
  },
  members : {
    _forwardStates : {
      focused : true,
      checked : true
    },
    _applyIconPosition : function(value, old){

      var children = {
        icon : this.getChildControl("icon"),
        label : this.getChildControl("label"),
        closeButton : this.getShowCloseButton() ? this.getChildControl("close-button") : null
      };
      for(var child in children){

        if(children[child]){

          this._remove(children[child]);
        };
      };
      switch(value){case "top":
      this._add(children.label, {
        row : 3,
        column : 2
      });
      this._add(children.icon, {
        row : 1,
        column : 2
      });
      if(children.closeButton){

        this._add(children.closeButton, {
          row : 0,
          column : 4
        });
      };
      break;case "bottom":
      this._add(children.label, {
        row : 1,
        column : 2
      });
      this._add(children.icon, {
        row : 3,
        column : 2
      });
      if(children.closeButton){

        this._add(children.closeButton, {
          row : 0,
          column : 4
        });
      };
      break;case "left":
      this._add(children.label, {
        row : 0,
        column : 2
      });
      this._add(children.icon, {
        row : 0,
        column : 0
      });
      if(children.closeButton){

        this._add(children.closeButton, {
          row : 0,
          column : 4
        });
      };
      break;case "right":
      this._add(children.label, {
        row : 0,
        column : 0
      });
      this._add(children.icon, {
        row : 0,
        column : 2
      });
      if(children.closeButton){

        this._add(children.closeButton, {
          row : 0,
          column : 4
        });
      };
      break;};
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "label":
      var control = new qx.ui.basic.Label(this.getLabel());
      control.setAnonymous(true);
      this._add(control, {
        row : 0,
        column : 2
      });
      this._getLayout().setColumnFlex(2, 1);
      break;case "icon":
      control = new qx.ui.basic.Image(this.getIcon());
      control.setAnonymous(true);
      this._add(control, {
        row : 0,
        column : 0
      });
      break;case "close-button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.setKeepActive(true);
      control.addListener("tap", this._onCloseButtonTap, this);
      this._add(control, {
        row : 0,
        column : 4
      });
      if(!this.getShowCloseButton()){

        control.exclude();
      };
      break;};
      return control || this.base(arguments, id);
    },
    _onCloseButtonTap : function(){

      this.fireDataEvent("close", this);
    },
    _applyShowCloseButton : function(value, old){

      if(value){

        this._showChildControl("close-button");
      } else {

        this._excludeChildControl("close-button");
      };
    },
    _applyCenter : function(value){

      var layout = this._getLayout();
      if(value){

        layout.setColumnAlign(2, "center", "middle");
      } else {

        layout.setColumnAlign(2, "left", "middle");
      };
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  members : {
    _getCellStyle : function(cellInfo){

      return "";
    },
    _getCellExtras : function(cellInfo){

      return "";
    },
    _getContentHtml : function(cellInfo){

      return cellInfo.cellData || "";
    },
    render : function(cellInfo){

      var html = [];
      var style = this._getCellStyle(cellInfo);
      html.push("<div ", "class='", cellInfo.stylesheet, "' ");
      if(style){

        html.push("style='", style, "'");
      };
      html.push(this._getCellExtras(cellInfo), ">", this._getContentHtml(cellInfo), "</div>");
      return html.join("");
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Conditional", {
  extend : qx.ui.progressive.renderer.table.cell.Abstract,
  construct : function(align, color, style, weight){

    this.base(arguments);
    this.__numericAllowed = ["==", "!=", ">", "<", ">=", "<="];
    this.__betweenAllowed = ["between", "!between"];
    this.__conditions = [];
    this.__defaultTextAlign = align || "";
    this.__defaultColor = color || "";
    this.__defaultFontStyle = style || "";
    this.__defaultFontWeight = weight || "";
  },
  members : {
    __numericAllowed : null,
    __betweenAllowed : null,
    __conditions : null,
    __defaultTextAlign : null,
    __defaultColor : null,
    __defaultFontStyle : null,
    __defaultFontWeight : null,
    __applyFormatting : function(condition, style){

      if(condition.align){

        style["text-align"] = condition.align;
      };
      if(condition.color){

        style["color"] = condition.color;
      };
      if(condition.style){

        style["font-style"] = condition.style;
      };
      if(condition.weight){

        style["font-weight"] = condition.weight;
      };
    },
    addNumericCondition : function(condition, value1, align, color, style, weight, target){

      if(!qx.lang.Array.contains(this.__numericAllowed, condition) || value1 == null){

        throw new Error("Condition not recognized or value is null!");
      };
      this.__conditions.push({
        condition : condition,
        align : align,
        color : color,
        style : style,
        weight : weight,
        value1 : value1,
        target : target
      });
    },
    addBetweenCondition : function(condition, value1, value2, align, color, style, weight, target){

      if(!qx.lang.Array.contains(this.__betweenAllowed, condition) || value1 == null || value2 == null){

        throw new Error("Condition not recognized or value1/value2 is null!");
      };
      this.__conditions.push({
        condition : condition,
        align : align,
        color : color,
        style : style,
        weight : weight,
        value1 : value1,
        value2 : value2,
        target : target
      });
    },
    addRegex : function(regex, align, color, style, weight, target){

      if(!regex){

        throw new Error("regex cannot be null!");
      };
      this.__conditions.push({
        condition : "regex",
        align : align,
        color : color,
        style : style,
        weight : weight,
        regex : regex,
        target : target
      });
    },
    _getCellStyle : function(cellInfo){

      if(this.__conditions.length == 0){

        return cellInfo.style || "";
      };
      var i;
      var bTestPassed;
      var compareValue;
      var style = {
        "text-align" : this.__defaultTextAlign,
        "color" : this.__defaultColor,
        "font-style" : this.__defaultFontStyle,
        "font-weight" : this.__defaultFontWeight
      };
      for(i = 0;i < this.__conditions.length;i++){

        var test = this.__conditions[i];
        bTestPassed = false;
        if(qx.lang.Array.contains(this.__numericAllowed, test.condition)){

          if(test.target == null){

            compareValue = cellInfo.cellData;
          } else {

            compareValue = cellInfo.element.data[test.target];
          };
          switch(test.condition){case "==":
          if(compareValue == test.value1){

            bTestPassed = true;
          };
          break;case "!=":
          if(compareValue != test.value1){

            bTestPassed = true;
          };
          break;case ">":
          if(compareValue > test.value1){

            bTestPassed = true;
          };
          break;case "<":
          if(compareValue < test.value1){

            bTestPassed = true;
          };
          break;case ">=":
          if(compareValue >= test.value1){

            bTestPassed = true;
          };
          break;case "<=":
          if(compareValue <= test.value1){

            bTestPassed = true;
          };
          break;};
        } else if(qx.lang.Array.contains(this.__betweenAllowed, test.condition)){

          if(test.target == null){

            compareValue = cellInfo.cellData;
          } else {

            compareValue = cellInfo.element.data[test.target];
          };
          switch(test.condition){case "between":
          if(compareValue >= test.value1 && compareValue <= test.value2){

            bTestPassed = true;
          };
          break;case "!between":
          if(compareValue < test.value1 && compareValue > test.value2){

            bTestPassed = true;
          };
          break;};
        } else if(test.condition == "regex"){

          if(test.target == null){

            compareValue = cellInfo.cellData;
          } else {

            compareValue = cellInfo.element.data[test.target];
          };
          var the_pattern = new RegExp(test.value1, 'g');
          bTestPassed = the_pattern.test(compareValue);
        };;
        if(bTestPassed){

          this.__applyFormatting(test, style);
        };
        var styleString = [];
        for(var key in style){

          if(style[key]){

            styleString.push(key, ":", style[key], ";");
          };
        };
      };
      return styleString.join("");
    }
  },
  destruct : function(){

    this.__numericAllowed = this.__betweenAllowed = this.__conditions = null;
  }
});

qx.Interface.define("qx.ui.form.IColorForm", {
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    setValue : function(value){

      return arguments.length == 1;
    },
    resetValue : function(){
    },
    getValue : function(){
    }
  }
});

qx.Class.define("qx.ui.control.ColorSelector", {
  extend : qx.ui.core.Widget,
  implement : [qx.ui.form.IColorForm],
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.VBox());
    this._createChildControl("control-bar");
    this.addListener("appear", this._onAppear, this);
  },
  events : {
    "dialogok" : "qx.event.type.Event",
    "dialogcancel" : "qx.event.type.Event",
    "changeValue" : "qx.event.type.Data"
  },
  properties : {
    appearance : {
      refine : true,
      init : "colorselector"
    },
    red : {
      check : "Integer",
      init : 255,
      apply : "_applyRed"
    },
    green : {
      check : "Integer",
      init : 255,
      apply : "_applyGreen"
    },
    blue : {
      check : "Integer",
      init : 255,
      apply : "_applyBlue"
    },
    hue : {
      check : "Number",
      init : 0,
      apply : "_applyHue"
    },
    saturation : {
      check : "Number",
      init : 0,
      apply : "_applySaturation"
    },
    brightness : {
      check : "Number",
      init : 100,
      apply : "_applyBrightness"
    }
  },
  members : {
    __updateContext : null,
    __presetTable : ["maroon", "red", "orange", "yellow", "olive", "purple", "fuchsia", "lime", "green", "navy", "blue", "aqua", "teal", "black", "#333", "#666", "#999", "#BBB", "#EEE", "white"],
    __capture : "",
    __brightnessSubtract : 0,
    __hueSaturationSubtractTop : 0,
    __hueSaturationSubtractLeft : 0,
    __nullValue : true,
    __preventChangeValueEvent : false,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "control-bar":
      control = new qx.ui.container.Composite(new qx.ui.layout.HBox(10));
      control.add(this.getChildControl("control-pane"));
      control.add(this.getChildControl("visual-pane"));
      this._add(control);
      break;case "visual-pane":
      control = new qx.ui.groupbox.GroupBox(this.tr("Visual"));
      control.setLayout(new qx.ui.layout.HBox(10));
      control.add(this.getChildControl("hue-saturation-pane"));
      control.add(this.getChildControl("brightness-pane"));
      break;case "control-pane":
      control = new qx.ui.container.Composite(new qx.ui.layout.VBox(0));
      control.add(this.getChildControl("preset-field-set"));
      control.add(this.getChildControl("input-field-set"));
      control.add(this.getChildControl("preview-field-set"), {
        flex : 1
      });
      break;case "hue-saturation-pane":
      control = new qx.ui.container.Composite(new qx.ui.layout.Canvas());
      control.setAllowGrowY(false);
      control.addListener("roll", this._onHueSaturationPaneRoll, this);
      control.add(this.getChildControl("hue-saturation-field"));
      control.add(this.getChildControl("hue-saturation-handle"), {
        left : 0,
        top : 256
      });
      break;case "hue-saturation-field":
      control = new qx.ui.basic.Image("decoration/colorselector/huesaturation-field.jpg");
      control.addListener("pointerdown", this._onHueSaturationFieldPointerDown, this);
      break;case "hue-saturation-handle":
      control = new qx.ui.basic.Image("decoration/colorselector/huesaturation-handle.gif");
      control.addListener("pointerdown", this._onHueSaturationFieldPointerDown, this);
      control.addListener("pointerup", this._onHueSaturationHandlePointerUp, this);
      control.addListener("pointermove", this._onHueSaturationHandlePointerMove, this);
      break;case "brightness-pane":
      control = new qx.ui.container.Composite(new qx.ui.layout.Canvas());
      control.setAllowGrowY(false);
      control.addListener("roll", this._onBrightnessPaneRoll, this);
      control.add(this.getChildControl("brightness-field"));
      control.add(this.getChildControl("brightness-handle"));
      break;case "brightness-field":
      control = new qx.ui.basic.Image("decoration/colorselector/brightness-field.png");
      control.addListener("pointerdown", this._onBrightnessFieldPointerDown, this);
      break;case "brightness-handle":
      control = new qx.ui.basic.Image("decoration/colorselector/brightness-handle.gif");
      control.addListener("pointerdown", this._onBrightnessHandlePointerDown, this);
      control.addListener("pointerup", this._onBrightnessHandlePointerUp, this);
      control.addListener("pointermove", this._onBrightnessHandlePointerMove, this);
      break;case "preset-field-set":
      control = new qx.ui.groupbox.GroupBox(this.tr("Presets"));
      control.setLayout(new qx.ui.layout.Grow());
      control.add(this.getChildControl("preset-grid"));
      break;case "colorbucket":
      control = new qx.ui.core.Widget();
      control.addListener("pointerdown", this._onColorFieldTap, this);
      break;case "preset-grid":
      controlLayout = new qx.ui.layout.Grid(3, 3);
      control = new qx.ui.container.Composite(controlLayout);
      var colorField;
      var colorPos;
      for(var i = 0;i < 2;i++){

        for(var j = 0;j < 10;j++){

          colorPos = i * 10 + j;
          colorField = this.getChildControl("colorbucket#" + colorPos);
          colorField.setBackgroundColor(this.__presetTable[colorPos]);
          control.add(colorField, {
            column : j,
            row : i
          });
        };
      };
      break;case "input-field-set":
      control = new qx.ui.groupbox.GroupBox(this.tr("Details"));
      var controlLayout = new qx.ui.layout.VBox();
      controlLayout.setSpacing(10);
      control.setLayout(controlLayout);
      control.add(this.getChildControl("hex-field-composite"));
      control.add(this.getChildControl("rgb-spinner-composite"));
      control.add(this.getChildControl("hsb-spinner-composite"));
      break;case "preview-field-set":
      control = new qx.ui.groupbox.GroupBox(this.tr("Preview (Old/New)"));
      var controlLayout = new qx.ui.layout.HBox(10);
      control.setLayout(controlLayout);
      control.add(this.getChildControl("preview-content-old"), {
        flex : 1
      });
      control.add(this.getChildControl("preview-content-new"), {
        flex : 1
      });
      break;case "hex-field-composite":
      var layout = new qx.ui.layout.HBox(4);
      layout.setAlignY("middle");
      control = new qx.ui.container.Composite(layout);
      var hexLabel = new qx.ui.basic.Label(this.tr("Hex"));
      hexLabel.setWidth(30);
      control.add(hexLabel);
      var hexHelper = new qx.ui.basic.Label("#");
      control.add(hexHelper);
      control.add(this.getChildControl("hex-field"));
      break;case "hex-field":
      control = new qx.ui.form.TextField("FFFFFF");
      control.setMaxLength(6);
      control.setFilter(/[0-9A-Fa-f]/);
      control.setWidth(55);
      control.addListener("changeValue", this._onHexFieldChange, this);
      break;case "rgb-spinner-composite":
      var layout = new qx.ui.layout.HBox(4);
      layout.setAlignY("middle");
      control = new qx.ui.container.Composite(layout);
      var rgbSpinLabel = new qx.ui.basic.Label(this.tr("RGB"));
      rgbSpinLabel.setWidth(30);
      control.add(rgbSpinLabel);
      control.add(this.getChildControl("rgb-spinner-red"));
      control.add(this.getChildControl("rgb-spinner-green"));
      control.add(this.getChildControl("rgb-spinner-blue"));
      break;case "rgb-spinner-red":
      control = new qx.ui.form.Spinner(0, 255, 255);
      control.setWidth(50);
      control.addListener("changeValue", this._setRedFromSpinner, this);
      break;case "rgb-spinner-green":
      control = new qx.ui.form.Spinner(0, 255, 255);
      control.setWidth(50);
      control.addListener("changeValue", this._setGreenFromSpinner, this);
      break;case "rgb-spinner-blue":
      control = new qx.ui.form.Spinner(0, 255, 255);
      control.setWidth(50);
      control.addListener("changeValue", this._setBlueFromSpinner, this);
      break;case "hsb-spinner-composite":
      var layout = new qx.ui.layout.HBox(4);
      layout.setAlignY("middle");
      control = new qx.ui.container.Composite(layout);
      var hsbSpinLabel = new qx.ui.basic.Label(this.tr("HSB"));
      hsbSpinLabel.setWidth(30);
      control.add(hsbSpinLabel);
      control.add(this.getChildControl("hsb-spinner-hue"));
      control.add(this.getChildControl("hsb-spinner-saturation"));
      control.add(this.getChildControl("hsb-spinner-brightness"));
      break;case "hsb-spinner-hue":
      control = new qx.ui.form.Spinner(0, 0, 360);
      control.setWidth(50);
      control.addListener("changeValue", this._setHueFromSpinner, this);
      break;case "hsb-spinner-saturation":
      control = new qx.ui.form.Spinner(0, 0, 100);
      control.setWidth(50);
      control.addListener("changeValue", this._setSaturationFromSpinner, this);
      break;case "hsb-spinner-brightness":
      control = new qx.ui.form.Spinner(0, 100, 100);
      control.setWidth(50);
      control.addListener("changeValue", this._setBrightnessFromSpinner, this);
      break;case "preview-content-old":
      control = new qx.ui.core.Widget();
      break;case "preview-content-new":
      control = new qx.ui.core.Widget();
      break;};
      return control || this.base(arguments, id);
    },
    setValue : function(value){

      var rgb;
      if(value == null){

        this.__nullValue = true;
        rgb = [255, 255, 255];
      } else {

        rgb = qx.util.ColorUtil.stringToRgb(value);
        this.__nullValue = false;
      };
      this.__preventChangeValueEvent = true;
      this.setRed(rgb[0]);
      this.setGreen(rgb[1]);
      this.__preventChangeValueEvent = false;
      this.setBlue(rgb[2]);
    },
    getValue : function(){

      return this.__nullValue ? null : qx.util.ColorUtil.rgbToHexString([this.getRed(), this.getGreen(), this.getBlue()]);
    },
    resetValue : function(){

      this.__nullValue = true;
      this.__preventChangeValueEvent = true;
      this.setRed(255);
      this.setGreen(255);
      this.__preventChangeValueEvent = false;
      this.setBlue(255);
    },
    __fireChangeValueEvent : function(){

      if(!this.__preventChangeValueEvent){

        this.__nullValue = false;
        this.fireDataEvent("changeValue", this.getValue());
      };
    },
    _applyRed : function(value, old){

      if(this.__updateContext === null){

        this.__updateContext = "redModifier";
      };
      if(this.__updateContext !== "rgbSpinner"){

        this.getChildControl("rgb-spinner-red").setValue(value);
      };
      if(this.__updateContext !== "hexField"){

        this._setHexFromRgb();
      };
      switch(this.__updateContext){case "rgbSpinner":case "hexField":case "redModifier":
      this._setHueFromRgb();};
      this._setPreviewFromRgb();
      this.__fireChangeValueEvent();
      if(this.__updateContext === "redModifier"){

        this.__updateContext = null;
      };
    },
    _applyGreen : function(value, old){

      if(this.__updateContext === null){

        this.__updateContext = "greenModifier";
      };
      if(this.__updateContext !== "rgbSpinner"){

        this.getChildControl("rgb-spinner-green").setValue(value);
      };
      if(this.__updateContext !== "hexField"){

        this._setHexFromRgb();
      };
      switch(this.__updateContext){case "rgbSpinner":case "hexField":case "greenModifier":
      this._setHueFromRgb();};
      this._setPreviewFromRgb();
      this.__fireChangeValueEvent();
      if(this.__updateContext === "greenModifier"){

        this.__updateContext = null;
      };
    },
    _applyBlue : function(value, old){

      if(this.__updateContext === null){

        this.__updateContext = "blueModifier";
      };
      if(this.__updateContext !== "rgbSpinner"){

        this.getChildControl("rgb-spinner-blue").setValue(value);
      };
      if(this.__updateContext !== "hexField"){

        this._setHexFromRgb();
      };
      switch(this.__updateContext){case "rgbSpinner":case "hexField":case "blueModifier":
      this._setHueFromRgb();};
      this._setPreviewFromRgb();
      this.__fireChangeValueEvent();
      if(this.__updateContext === "blueModifier"){

        this.__updateContext = null;
      };
    },
    _applyHue : function(value, old){

      if(this.__updateContext === null){

        this.__updateContext = "hueModifier";
      };
      if(this.__updateContext !== "hsbSpinner"){

        this.getChildControl("hsb-spinner-hue").setValue(value);
      };
      if(this.__updateContext !== "hueSaturationField"){

        if(this.getChildControl("hue-saturation-handle").getBounds()){

          this.getChildControl("hue-saturation-handle").setDomLeft(Math.round(value / 1.40625) + this.getChildControl("hue-saturation-pane").getPaddingLeft());
        } else {

          this.getChildControl("hue-saturation-handle").setLayoutProperties({
            left : Math.round(value / 1.40625)
          });
        };
      };
      switch(this.__updateContext){case "hsbSpinner":case "hueSaturationField":case "hueModifier":
      this._setRgbFromHue();};
      this._setBrightnessGradiant();
      if(this.__updateContext === "hueModifier"){

        this.__updateContext = null;
      };
    },
    _applySaturation : function(value, old){

      if(this.__updateContext === null){

        this.__updateContext = "saturationModifier";
      };
      if(this.__updateContext !== "hsbSpinner"){

        this.getChildControl("hsb-spinner-saturation").setValue(value);
      };
      if(this.__updateContext !== "hueSaturationField"){

        this._setBrightnessGradiant();
        if(this.getChildControl("hue-saturation-handle").getBounds()){

          this.getChildControl("hue-saturation-handle").setDomTop(256 - Math.round(value * 2.56) + this.getChildControl("hue-saturation-pane").getPaddingTop());
        } else {

          this.getChildControl("hue-saturation-handle").setLayoutProperties({
            top : 256 - Math.round(value * 2.56)
          });
        };
      };
      switch(this.__updateContext){case "hsbSpinner":case "hueSaturationField":case "saturationModifier":
      this._setRgbFromHue();};
      if(this.__updateContext === "saturationModifier"){

        this.__updateContext = null;
      };
    },
    _applyBrightness : function(value, old){

      if(this.__updateContext === null){

        this.__updateContext = "brightnessModifier";
      };
      if(this.__updateContext !== "hsbSpinner"){

        this.getChildControl("hsb-spinner-brightness").setValue(value);
      };
      if(this.__updateContext !== "brightnessField"){

        var topValue = 256 - Math.round(value * 2.56);
        if(this.getChildControl("brightness-handle").getBounds()){

          this.getChildControl("brightness-handle").setDomTop(topValue + this.getChildControl("brightness-pane").getPaddingTop());
        } else {

          this.getChildControl("brightness-handle").setLayoutProperties({
            top : topValue
          });
        };
      };
      switch(this.__updateContext){case "hsbSpinner":case "brightnessField":case "brightnessModifier":
      this._setRgbFromHue();};
      if(this.__updateContext === "brightnessModifier"){

        this.__updateContext = null;
      };
    },
    _onBrightnessHandlePointerDown : function(e){

      this.getChildControl("brightness-handle").capture();
      this.__capture = "brightness-handle";
      var locationBrightnessField = this.getChildControl("brightness-field").getContentLocation();
      var locationBrightnessHandle = this.getChildControl("brightness-handle").getContentLocation();
      var fieldBounds = this.getChildControl("brightness-field").getBounds();
      this.__brightnessSubtract = locationBrightnessField.top + (e.getDocumentTop() - locationBrightnessHandle.top) - fieldBounds.top;
      e.stopPropagation();
    },
    _onBrightnessHandlePointerUp : function(e){

      this.getChildControl("brightness-handle").releaseCapture();
      this.__capture = null;
    },
    _onBrightnessHandlePointerMove : function(e){

      if(this.__capture === "brightness-handle"){

        this._setBrightnessOnFieldEvent(e);
        e.stopPropagation();
      };
    },
    _onBrightnessFieldPointerDown : function(e){

      var location = this.getChildControl("brightness-field").getContentLocation();
      var bounds = this.getChildControl("brightness-handle").getBounds();
      this.__brightnessSubtract = location.top + (bounds.height / 2);
      this._setBrightnessOnFieldEvent(e);
      this.getChildControl("brightness-handle").capture();
      this.__capture = "brightness-handle";
    },
    _onBrightnessPaneRoll : function(e){

      e.stop();
      if(e.getPointerType() != "wheel"){

        return;
      };
      this.setBrightness(qx.lang.Number.limit((this.getBrightness() - (e.getDelta().y / 10)), 0, 100));
    },
    _setBrightnessOnFieldEvent : function(e){

      var value = qx.lang.Number.limit(e.getDocumentTop() - this.__brightnessSubtract, 0, 256);
      this.__updateContext = "brightnessField";
      if(this.getChildControl("brightness-handle").getBounds()){

        this.getChildControl("brightness-handle").setDomTop(value);
      } else {

        this.getChildControl("brightness-handle").setLayoutProperties({
          top : value
        });
      };
      this.setBrightness(100 - Math.round(value / 2.56));
      this.__updateContext = null;
    },
    _onHueSaturationHandlePointerUp : function(e){

      if(this.__capture){

        e.stopPropagation();
        this.getChildControl("hue-saturation-handle").releaseCapture();
        this.__capture = null;
      };
    },
    _onHueSaturationHandlePointerMove : function(e){

      if(this.__capture === "hue-saturation-handle"){

        this._setHueSaturationOnFieldEvent(e);
        e.stopPropagation();
      };
    },
    _onHueSaturationFieldPointerDown : function(e){

      var location = this.getChildControl("hue-saturation-field").getContentLocation();
      var handleBounds = this.getChildControl("hue-saturation-handle").getBounds();
      var fieldBounds = this.getChildControl("hue-saturation-field").getBounds();
      this.__hueSaturationSubtractTop = location.top + (handleBounds.height / 2) - fieldBounds.top;
      this.__hueSaturationSubtractLeft = location.left + (handleBounds.width / 2) - fieldBounds.left;
      this._setHueSaturationOnFieldEvent(e);
      this.getChildControl("hue-saturation-handle").capture();
      this.__capture = "hue-saturation-handle";
    },
    _onHueSaturationPaneRoll : function(e){

      e.stop();
      if(e.getPointerType() != "wheel"){

        return;
      };
      var delta = e.getDelta();
      this.setSaturation(qx.lang.Number.limit(this.getSaturation() - delta.y / 10, 0, 100));
      this.setHue(qx.lang.Number.limit(this.getHue() + delta.x / 10, 0, 360));
    },
    _setHueSaturationOnFieldEvent : function(e){

      var vTop = qx.lang.Number.limit(e.getDocumentTop() - this.__hueSaturationSubtractTop, 0, 256);
      var vLeft = qx.lang.Number.limit(e.getDocumentLeft() - this.__hueSaturationSubtractLeft, 0, 256);
      this.getChildControl("hue-saturation-handle").setDomPosition(vLeft, vTop);
      this.__updateContext = "hueSaturationField";
      this.setSaturation(100 - Math.round(vTop / 2.56));
      this.setHue(Math.round(vLeft * 1.40625));
      this.__updateContext = null;
    },
    _setRedFromSpinner : function(){

      if(this.__updateContext !== null){

        return;
      };
      this.__updateContext = "rgbSpinner";
      this.setRed(this.getChildControl("rgb-spinner-red").getValue());
      this.__updateContext = null;
    },
    _setGreenFromSpinner : function(){

      if(this.__updateContext !== null){

        return;
      };
      this.__updateContext = "rgbSpinner";
      this.setGreen(this.getChildControl("rgb-spinner-green").getValue());
      this.__updateContext = null;
    },
    _setBlueFromSpinner : function(){

      if(this.__updateContext !== null){

        return;
      };
      this.__updateContext = "rgbSpinner";
      this.setBlue(this.getChildControl("rgb-spinner-blue").getValue());
      this.__updateContext = null;
    },
    _setHueFromSpinner : function(){

      if(this.__updateContext !== null){

        return;
      };
      this.__updateContext = "hsbSpinner";
      this.setHue(this.getChildControl("hsb-spinner-hue").getValue());
      this.__updateContext = null;
    },
    _setSaturationFromSpinner : function(){

      if(this.__updateContext !== null){

        return;
      };
      this.__updateContext = "hsbSpinner";
      this.setSaturation(this.getChildControl("hsb-spinner-saturation").getValue());
      this.__updateContext = null;
    },
    _setBrightnessFromSpinner : function(){

      if(this.__updateContext !== null){

        return;
      };
      this.__updateContext = "hsbSpinner";
      this.setBrightness(this.getChildControl("hsb-spinner-brightness").getValue());
      this.__updateContext = null;
    },
    _onHexFieldChange : function(e){

      if(this.__updateContext !== null){

        return;
      };
      try{

        var hexField = this.getChildControl("hex-field");
        var rgb = qx.util.ColorUtil.hexStringToRgb("#" + hexField.getValue());
      } catch(ex) {

        return;
      };
      this.__updateContext = "hexField";
      this.setRed(rgb[0]);
      this.setGreen(rgb[1]);
      this.setBlue(rgb[2]);
      this.__updateContext = null;
    },
    _setHexFromRgb : function(){

      var value = qx.util.ColorUtil.rgbToHexString([this.getRed(), this.getGreen(), this.getBlue()]);
      value = value.substring(1, value.length);
      this.getChildControl("hex-field").setValue(value);
    },
    _onColorFieldTap : function(e){

      var vColor = e.getTarget().getBackgroundColor();
      if(!vColor){

        this.error("Missing backgroundColor value for field: " + e.getTarget());
        return;
      };
      var rgb = qx.util.ColorUtil.stringToRgb(vColor);
      this.setRed(rgb[0]);
      this.setGreen(rgb[1]);
      this.setBlue(rgb[2]);
    },
    _setHueFromRgb : function(){

      switch(this.__updateContext){case "hsbSpinner":case "hueSaturationField":case "brightnessField":
      break;default:
      var hsb = qx.util.ColorUtil.rgbToHsb([this.getRed(), this.getGreen(), this.getBlue()]);
      this.setHue(hsb[0]);
      this.setSaturation(hsb[1]);
      this.setBrightness(hsb[2]);};
    },
    _setRgbFromHue : function(){

      switch(this.__updateContext){case "rgbSpinner":case "hexField":
      break;default:
      var vRgb = qx.util.ColorUtil.hsbToRgb([this.getHue(), this.getSaturation(), this.getBrightness()]);
      this.setRed(vRgb[0]);
      this.setGreen(vRgb[1]);
      this.setBlue(vRgb[2]);};
    },
    _setPreviewFromRgb : function(){

      var rgbString = qx.util.ColorUtil.rgbToRgbString([this.getRed(), this.getGreen(), this.getBlue()]);
      this.getChildControl("preview-content-new").setBackgroundColor(rgbString);
    },
    setPreviousColor : function(red, green, blue){

      var color = qx.util.ColorUtil.rgbToRgbString([red, green, blue]);
      this.getChildControl("preview-content-old").setBackgroundColor(color);
      this.setRed(red);
      this.setGreen(green);
      this.setBlue(blue);
    },
    _setBrightnessGradiant : function(){

      var ColorUtil = qx.util.ColorUtil;
      var helpRgb = ColorUtil.hsbToRgb([this.getHue(), this.getSaturation(), 255]);
      var helpRgbString = ColorUtil.rgbToRgbString(helpRgb);
      this.getChildControl("brightness-field").setBackgroundColor(helpRgbString);
    },
    _onAppear : function(e){

      var color = qx.util.ColorUtil.rgbToRgbString([this.getRed(), this.getGreen(), this.getBlue()]);
      this.getChildControl("preview-content-old").setBackgroundColor(color);
      this.getChildControl("preview-content-new").setBackgroundColor(color);
    }
  }
});

qx.Class.define("qx.ui.groupbox.GroupBox", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MRemoteChildrenHandling, qx.ui.core.MRemoteLayoutHandling, qx.ui.core.MContentPadding, qx.ui.form.MForm],
  implement : [qx.ui.form.IForm],
  construct : function(legend, icon){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.Canvas);
    this._createChildControl("frame");
    this._createChildControl("legend");
    if(legend != null){

      this.setLegend(legend);
    };
    if(icon != null){

      this.setIcon(icon);
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "groupbox"
    },
    legendPosition : {
      check : ["top", "middle"],
      init : "middle",
      apply : "_applyLegendPosition",
      themeable : true
    }
  },
  members : {
    _forwardStates : {
      invalid : true
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "frame":
      control = new qx.ui.container.Composite();
      this._add(control, {
        left : 0,
        top : 6,
        right : 0,
        bottom : 0
      });
      break;case "legend":
      control = new qx.ui.basic.Atom();
      control.addListener("resize", this._repositionFrame, this);
      this._add(control, {
        left : 0,
        right : 0
      });
      break;};
      return control || this.base(arguments, id);
    },
    _getContentPaddingTarget : function(){

      return this.getChildControl("frame");
    },
    _applyLegendPosition : function(e){

      if(this.getChildControl("legend").getBounds()){

        this._repositionFrame();
      };
    },
    _repositionFrame : function(){

      var legend = this.getChildControl("legend");
      var frame = this.getChildControl("frame");
      var height = legend.getBounds().height;
      if(this.getLegendPosition() == "middle"){

        frame.setLayoutProperties({
          "top" : Math.round(height / 2)
        });
      } else if(this.getLegendPosition() == "top"){

        frame.setLayoutProperties({
          "top" : height
        });
      };
    },
    getChildrenContainer : function(){

      return this.getChildControl("frame");
    },
    setLegend : function(legend){

      var control = this.getChildControl("legend");
      if(legend !== null){

        control.setLabel(legend);
        control.show();
      } else {

        control.exclude();
      };
    },
    getLegend : function(){

      return this.getChildControl("legend").getLabel();
    },
    setIcon : function(icon){

      this.getChildControl("legend").setIcon(icon);
    },
    getIcon : function(){

      return this.getChildControl("legend").getIcon();
    }
  }
});

qx.Class.define("qx.ui.form.Spinner", {
  extend : qx.ui.core.Widget,
  implement : [qx.ui.form.INumberForm, qx.ui.form.IRange, qx.ui.form.IForm],
  include : [qx.ui.core.MContentPadding, qx.ui.form.MForm],
  construct : function(min, value, max){

    this.base(arguments);
    var layout = new qx.ui.layout.Grid();
    layout.setColumnFlex(0, 1);
    layout.setRowFlex(0, 1);
    layout.setRowFlex(1, 1);
    this._setLayout(layout);
    this.addListener("keydown", this._onKeyDown, this);
    this.addListener("keyup", this._onKeyUp, this);
    this.addListener("roll", this._onRoll, this);
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
    this._createChildControl("textfield");
    this._createChildControl("upbutton");
    this._createChildControl("downbutton");
    if(min != null){

      this.setMinimum(min);
    };
    if(max != null){

      this.setMaximum(max);
    };
    if(value !== undefined){

      this.setValue(value);
    } else {

      this.initValue();
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "spinner"
    },
    focusable : {
      refine : true,
      init : true
    },
    singleStep : {
      check : "Number",
      init : 1
    },
    pageStep : {
      check : "Number",
      init : 10
    },
    minimum : {
      check : "Number",
      apply : "_applyMinimum",
      init : 0,
      event : "changeMinimum"
    },
    value : {
      check : "this._checkValue(value)",
      nullable : true,
      apply : "_applyValue",
      init : 0,
      event : "changeValue"
    },
    maximum : {
      check : "Number",
      apply : "_applyMaximum",
      init : 100,
      event : "changeMaximum"
    },
    wrap : {
      check : "Boolean",
      init : false,
      apply : "_applyWrap"
    },
    editable : {
      check : "Boolean",
      init : true,
      apply : "_applyEditable"
    },
    numberFormat : {
      check : "qx.util.format.NumberFormat",
      apply : "_applyNumberFormat",
      nullable : true
    },
    allowShrinkY : {
      refine : true,
      init : false
    }
  },
  members : {
    __lastValidValue : null,
    __pageUpMode : false,
    __pageDownMode : false,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "textfield":
      control = new qx.ui.form.TextField();
      control.setFilter(this._getFilterRegExp());
      control.addState("inner");
      control.setWidth(40);
      control.setFocusable(false);
      control.addListener("changeValue", this._onTextChange, this);
      this._add(control, {
        column : 0,
        row : 0,
        rowSpan : 2
      });
      break;case "upbutton":
      control = new qx.ui.form.RepeatButton();
      control.addState("inner");
      control.setFocusable(false);
      control.addListener("execute", this._countUp, this);
      this._add(control, {
        column : 1,
        row : 0
      });
      break;case "downbutton":
      control = new qx.ui.form.RepeatButton();
      control.addState("inner");
      control.setFocusable(false);
      control.addListener("execute", this._countDown, this);
      this._add(control, {
        column : 1,
        row : 1
      });
      break;};
      return control || this.base(arguments, id);
    },
    _getFilterRegExp : function(){

      var decimalSeparator = qx.locale.Number.getDecimalSeparator(qx.locale.Manager.getInstance().getLocale());
      var groupSeparator = qx.locale.Number.getGroupSeparator(qx.locale.Manager.getInstance().getLocale());
      var prefix = "";
      var postfix = "";
      if(this.getNumberFormat() !== null){

        prefix = this.getNumberFormat().getPrefix() || "";
        postfix = this.getNumberFormat().getPostfix() || "";
      };
      var filterRegExp = new RegExp("[0-9" + qx.lang.String.escapeRegexpChars(decimalSeparator) + qx.lang.String.escapeRegexpChars(groupSeparator) + qx.lang.String.escapeRegexpChars(prefix) + qx.lang.String.escapeRegexpChars(postfix) + "\-]");
      return filterRegExp;
    },
    _forwardStates : {
      focused : true,
      invalid : true
    },
    tabFocus : function(){

      var field = this.getChildControl("textfield");
      field.getFocusElement().focus();
      field.selectAllText();
    },
    _applyMinimum : function(value, old){

      if(this.getMaximum() < value){

        this.setMaximum(value);
      };
      if(this.getValue() < value){

        this.setValue(value);
      } else {

        this._updateButtons();
      };
    },
    _applyMaximum : function(value, old){

      if(this.getMinimum() > value){

        this.setMinimum(value);
      };
      if(this.getValue() > value){

        this.setValue(value);
      } else {

        this._updateButtons();
      };
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      this._updateButtons();
    },
    _checkValue : function(value){

      return typeof value === "number" && value >= this.getMinimum() && value <= this.getMaximum();
    },
    _applyValue : function(value, old){

      var textField = this.getChildControl("textfield");
      this._updateButtons();
      this.__lastValidValue = value;
      if(value !== null){

        if(this.getNumberFormat()){

          textField.setValue(this.getNumberFormat().format(value));
        } else {

          textField.setValue(value + "");
        };
      } else {

        textField.setValue("");
      };
    },
    _applyEditable : function(value, old){

      var textField = this.getChildControl("textfield");
      if(textField){

        textField.setReadOnly(!value);
      };
    },
    _applyWrap : function(value, old){

      this._updateButtons();
    },
    _applyNumberFormat : function(value, old){

      var textfield = this.getChildControl("textfield");
      textfield.setFilter(this._getFilterRegExp());
      this.getNumberFormat().addListener("changeNumberFormat", this._onChangeNumberFormat, this);
      this._applyValue(this.__lastValidValue, undefined);
    },
    _getContentPaddingTarget : function(){

      return this.getChildControl("textfield");
    },
    _updateButtons : function(){

      var upButton = this.getChildControl("upbutton");
      var downButton = this.getChildControl("downbutton");
      var value = this.getValue();
      if(!this.getEnabled()){

        upButton.setEnabled(false);
        downButton.setEnabled(false);
      } else {

        if(this.getWrap()){

          upButton.setEnabled(true);
          downButton.setEnabled(true);
        } else {

          if(value !== null && value < this.getMaximum()){

            upButton.setEnabled(true);
          } else {

            upButton.setEnabled(false);
          };
          if(value !== null && value > this.getMinimum()){

            downButton.setEnabled(true);
          } else {

            downButton.setEnabled(false);
          };
        };
      };
    },
    _onKeyDown : function(e){

      switch(e.getKeyIdentifier()){case "PageUp":
      this.__pageUpMode = true;case "Up":
      this.getChildControl("upbutton").press();
      break;case "PageDown":
      this.__pageDownMode = true;case "Down":
      this.getChildControl("downbutton").press();
      break;default:
      return;};
      e.stopPropagation();
      e.preventDefault();
    },
    _onKeyUp : function(e){

      switch(e.getKeyIdentifier()){case "PageUp":
      this.getChildControl("upbutton").release();
      this.__pageUpMode = false;
      break;case "Up":
      this.getChildControl("upbutton").release();
      break;case "PageDown":
      this.getChildControl("downbutton").release();
      this.__pageDownMode = false;
      break;case "Down":
      this.getChildControl("downbutton").release();
      break;};
    },
    _onRoll : function(e){

      if(e.getPointerType() != "wheel"){

        return;
      };
      var delta = e.getDelta().y;
      if(delta < 0){

        this._countUp();
      } else if(delta > 0){

        this._countDown();
      };
      e.stop();
    },
    _onTextChange : function(e){

      var textField = this.getChildControl("textfield");
      var value;
      if(this.getNumberFormat()){

        try{

          value = this.getNumberFormat().parse(textField.getValue());
        } catch(ex) {
        };
      };
      if(value === undefined){

        value = parseFloat(textField.getValue());
      };
      if(!isNaN(value)){

        if(value > this.getMaximum()){

          textField.setValue(this.getMaximum() + "");
          return;
        } else if(value < this.getMinimum()){

          textField.setValue(this.getMinimum() + "");
          return;
        };
        this.setValue(value);
      } else {

        this._applyValue(this.__lastValidValue, undefined);
      };
    },
    _onChangeLocale : function(ev){

      if(this.getNumberFormat() !== null){

        this.setNumberFormat(this.getNumberFormat());
        var textfield = this.getChildControl("textfield");
        textfield.setFilter(this._getFilterRegExp());
        textfield.setValue(this.getNumberFormat().format(this.getValue()));
      };
    },
    _onChangeNumberFormat : function(ev){

      var textfield = this.getChildControl("textfield");
      textfield.setFilter(this._getFilterRegExp());
      textfield.setValue(this.getNumberFormat().format(this.getValue()));
    },
    _countUp : function(){

      if(this.__pageUpMode){

        var newValue = this.getValue() + this.getPageStep();
      } else {

        var newValue = this.getValue() + this.getSingleStep();
      };
      if(this.getWrap()){

        if(newValue > this.getMaximum()){

          var diff = this.getMaximum() - newValue;
          newValue = this.getMinimum() - diff - 1;
        };
      };
      this.gotoValue(newValue);
    },
    _countDown : function(){

      if(this.__pageDownMode){

        var newValue = this.getValue() - this.getPageStep();
      } else {

        var newValue = this.getValue() - this.getSingleStep();
      };
      if(this.getWrap()){

        if(newValue < this.getMinimum()){

          var diff = this.getMinimum() + newValue;
          newValue = this.getMaximum() + diff + 1;
        };
      };
      this.gotoValue(newValue);
    },
    gotoValue : function(value){

      return this.setValue(Math.min(this.getMaximum(), Math.max(this.getMinimum(), value)));
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
  }
});

qx.Bootstrap.define("qx.module.event.Pinch", {
  statics : {
    TYPES : ["pinch"],
    BIND_METHODS : ["getScale"],
    getScale : function(){

      return this._original.scale;
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Pinch.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Pinch[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Pinch.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.ui.embed.AbstractIframe", {
  extend : qx.ui.core.Widget,
  construct : function(source){

    this.base(arguments);
    if(source){

      this.setSource(source);
    };
    this._getIframeElement().addListener("navigate", this.__onNavigate, this);
  },
  events : {
    "load" : "qx.event.type.Event",
    "navigate" : "qx.event.type.Data"
  },
  properties : {
    source : {
      check : "String",
      apply : "_applySource",
      init : "about:blank"
    },
    frameName : {
      check : "String",
      init : "",
      apply : "_applyFrameName"
    }
  },
  members : {
    _getIframeElement : function(){

      throw new Error("Abstract method call");
    },
    _applySource : function(value, old){

      this._getIframeElement().setSource(value);
    },
    _applyFrameName : function(value, old){

      this._getIframeElement().setAttribute("name", value);
    },
    getWindow : function(){

      return this._getIframeElement().getWindow();
    },
    getDocument : function(){

      return this._getIframeElement().getDocument();
    },
    getBody : function(){

      return this._getIframeElement().getBody();
    },
    getName : function(){

      return this._getIframeElement().getName();
    },
    reload : function(){

      this._getIframeElement().reload();
    },
    __onNavigate : function(e){

      var actualUrl = e.getData();
      if(actualUrl){

        this.setSource(actualUrl);
      };
      this.fireDataEvent("navigate", actualUrl);
    }
  }
});

qx.Class.define("qx.ui.embed.ThemedIframe", {
  extend : qx.ui.embed.AbstractIframe,
  include : qx.ui.core.scroll.MRoll,
  construct : function(source){

    this.base(arguments, source);
    var grid = new qx.ui.layout.Grid();
    grid.setColumnFlex(0, 1);
    grid.setRowFlex(0, 1);
    this._setLayout(grid);
    this._showChildControl("iframe");
  },
  properties : {
    appearance : {
      refine : true,
      init : "scrollarea"
    },
    scrollbarX : {
      check : ["auto", "on", "off"],
      init : "auto",
      themeable : true,
      apply : "_updateScrollbars"
    },
    scrollbarY : {
      check : ["auto", "on", "off"],
      init : "auto",
      themeable : true,
      apply : "_updateScrollbars"
    },
    scrollbar : {
      group : ["scrollbarX", "scrollbarY"]
    }
  },
  members : {
    __iframeSize : null,
    __iframeObserverId : null,
    _getIframeElement : function(){

      return this.getChildControl("iframe").getContentElement();
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "iframe":
      control = new qx.ui.embed.Iframe(this.getSource());
      control.addListener("load", this._onIframeLoad, this);
      control.addListener("resize", this._onIframeResize, this);
      this._add(control, {
        row : 0,
        column : 0
      });
      break;case "scrollbar-x":
      control = new qx.ui.core.scroll.ScrollBar("horizontal");
      control.setMinWidth(0);
      control.exclude();
      control.addListener("scroll", this._onScrollBarX, this);
      this._add(control, {
        row : 1,
        column : 0
      });
      break;case "scrollbar-y":
      control = new qx.ui.core.scroll.ScrollBar("vertical");
      control.setMinHeight(0);
      control.exclude();
      control.addListener("scroll", this._onScrollBarY, this);
      this._add(control, {
        row : 0,
        column : 1
      });
      break;case "corner":
      control = new qx.ui.core.Widget();
      control.setWidth(0);
      control.setHeight(0);
      control.exclude();
      this._add(control, {
        row : 1,
        column : 1
      });
      break;};
      return control || this.base(arguments, id);
    },
    _onIframeLoad : function(){

      this._disableScollbars();
      var body = this._getIframeElement().getBody();
      if(body){

        this._startIframeObserver();
        this._addRollListener();
      };
      this.fireEvent("load");
    },
    _onIframeResize : function(){

      this._updateScrollbars();
    },
    _disableScollbars : function(){

      this._excludeChildControl("scrollbar-x");
      this._excludeChildControl("scrollbar-y");
      this._excludeChildControl("corner");
      this._stopIframeObserver();
    },
    _addRollListener : function(){

      try{

        var body = this._getIframeElement().getBody();
        qx.bom.Element.addListener(body, "roll", this._onRoll, this);
        qx.bom.Element.addListener(body, "pointerdown", this._onPointerDownForRoll, this);
      } catch(e) {

        this._disableScollbars();
      };
    },
    _startIframeObserver : function(){

      if(this.__iframeObserverId){

        this._stopIframeObserver();
      };
      var idle = qx.event.Idle.getInstance();
      this.__iframeObserverId = idle.addListener("interval", this._onIframeObserverInterval, this);
    },
    _stopIframeObserver : function(){

      this.__iframeSize = null;
      if(!this.__iframeObserverId){

        return;
      };
      var idle = qx.event.Idle.getInstance();
      idle.removeListenerById(this.__iframeObserverId);
    },
    _onIframeObserverInterval : function(){

      var iframeSize = this._getIframeSize();
      if(!iframeSize){

        this._disableScollbars();
        return;
      };
      if(this.__iframeSize && iframeSize.width == this.__iframeSize.width && iframeSize.height == this.__iframeSize.height){

        return;
      };
      this.__iframeSize = iframeSize;
      this._preventIframeScrolling();
      this._updateScrollbars();
    },
    _preventIframeScrolling : function(){

      try{

        var win = this._getIframeElement().getWindow();
        var doc = this._getIframeElement().getDocument();
        if(qx.bom.Document.isStandardMode(win)){

          doc.documentElement.style.overflow = "hidden";
        } else {

          doc.body.style.overflow = "hidden";
        };
      } catch(e) {

        this._disableScollbars();
      };
    },
    _updateScrollbars : function(){

      var iframeSize = this.__iframeSize;
      var paneSize = this.getChildControl("iframe").getBounds();
      var innerSize = this.getChildControl("iframe").getInnerSize();
      if(!iframeSize || !innerSize || !innerSize){

        return;
      };
      var showX = false;
      var showY = false;
      var scrollbarX = this.getScrollbarX();
      var scrollbarY = this.getScrollbarY();
      if(scrollbarX === "auto" && scrollbarY === "auto"){

        var showX = iframeSize.width > innerSize.width;
        var showY = iframeSize.height > innerSize.height;
        if((showX || showY) && !(showX && showY)){

          if(showX){

            showY = iframeSize.height > paneSize.height;
          } else if(showY){

            showX = iframeSize.width > paneSize.width;
          };
        };
      } else {

        var showX = scrollbarX === "on";
        var showY = scrollbarY === "on";
        if(iframeSize.width > (showX ? paneSize.width : innerSize.width) && scrollbarX === "auto"){

          showX = true;
        };
        if(iframeSize.height > (showX ? paneSize.height : innerSize.height) && scrollbarY === "auto"){

          showY = true;
        };
      };
      this._configureScrollbar("scrollbar-x", showX, innerSize.width, iframeSize.width);
      this._configureScrollbar("scrollbar-y", showY, innerSize.height, iframeSize.height);
      this._updateCornerWidget();
    },
    _getIframeSize : function(){

      try{

        var win = this._getIframeElement().getWindow();
        var frameSize = {
          width : qx.bom.Document.getWidth(win),
          height : qx.bom.Document.getHeight(win)
        };
        return frameSize;
      } catch(e) {

        return null;
      };
    },
    _updateCornerWidget : function(){

      if(this._isChildControlVisible("scrollbar-x") && this._isChildControlVisible("scrollbar-y")){

        this._showChildControl("corner");
      } else {

        this._excludeChildControl("corner");
      };
    },
    _configureScrollbar : function(scrollbarId, show, containerSize, contentSize){

      if(!show){

        this._excludeChildControl(scrollbarId);
        return;
      };
      var bar = this._showChildControl(scrollbarId);
      if(containerSize >= contentSize){

        bar.set({
          position : 0,
          maximum : contentSize,
          knobFactor : 1,
          enabled : false
        });
      } else {

        bar.setMaximum(1000000);
        bar.set({
          position : Math.min(bar.getPosition(), contentSize),
          maximum : contentSize - containerSize,
          knobFactor : containerSize / contentSize,
          enabled : true
        });
      };
    },
    _onScrollBarX : function(e){

      this.scrollToX(e.getData());
    },
    _onScrollBarY : function(e){

      this.scrollToY(e.getData());
    },
    scrollToX : function(x){

      try{

        var win = this._getIframeElement().getWindow();
        win.scroll(x, qx.bom.Viewport.getScrollTop(win));
      } catch(e) {

        this._disableScollbars();
      };
    },
    scrollToY : function(y){

      try{

        var win = this._getIframeElement().getWindow();
        win.scroll(qx.bom.Viewport.getScrollLeft(win), y);
      } catch(e) {

        this._disableScollbars();
      };
    }
  },
  destruct : function(){

    this._stopIframeObserver();
    this.__iframeSize = null;
  }
});

qx.Class.define("qx.ui.embed.Iframe", {
  extend : qx.ui.embed.AbstractIframe,
  construct : function(source){

    if(source != null){

      this.__source = source;
    };
    this.base(arguments, source);
    qx.event.Registration.addListener(document.body, "pointerdown", this.block, this, true);
    qx.event.Registration.addListener(document.body, "pointerup", this.release, this, true);
    qx.event.Registration.addListener(document.body, "losecapture", this.release, this, true);
    this.__blockerElement = this._createBlockerElement();
    if((qx.core.Environment.get("engine.name") == "gecko")){

      this.addListenerOnce("appear", function(e){

        var element = this.getContentElement().getDomElement();
        qx.bom.Event.addNativeListener(element, "DOMNodeInserted", this._onDOMNodeInserted);
      });
      this._onDOMNodeInserted = qx.lang.Function.listener(this._syncSourceAfterDOMMove, this);
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "iframe"
    },
    nativeContextMenu : {
      refine : true,
      init : false
    },
    nativeHelp : {
      check : "Boolean",
      init : false,
      apply : "_applyNativeHelp"
    },
    scrollbar : {
      check : ["auto", "no", "yes"],
      nullable : true,
      themeable : true,
      apply : "_applyScrollbar"
    }
  },
  members : {
    __source : null,
    __blockerElement : null,
    renderLayout : function(left, top, width, height){

      this.base(arguments, left, top, width, height);
      var pixel = "px";
      var insets = this.getInsets();
      this.__blockerElement.setStyles({
        "left" : (left + insets.left) + pixel,
        "top" : (top + insets.top) + pixel,
        "width" : (width - insets.left - insets.right) + pixel,
        "height" : (height - insets.top - insets.bottom) + pixel
      });
    },
    _createContentElement : function(){

      var iframe = new qx.html.Iframe(this.__source);
      iframe.addListener("load", this._onIframeLoad, this);
      return iframe;
    },
    _getIframeElement : function(){

      return this.getContentElement();
    },
    _createBlockerElement : function(){

      var el = new qx.html.Blocker();
      el.setStyles({
        "zIndex" : 20,
        "display" : "none"
      });
      return el;
    },
    _onIframeLoad : function(e){

      this._applyNativeContextMenu(this.getNativeContextMenu(), null);
      this._applyNativeHelp(this.getNativeHelp(), null);
      this.fireNonBubblingEvent("load");
    },
    block : function(){

      this.__blockerElement.setStyle("display", "block");
    },
    release : function(){

      this.__blockerElement.setStyle("display", "none");
    },
    _applyNativeContextMenu : function(value, old){

      if(value !== false && old !== false){

        return;
      };
      var doc = this.getDocument();
      if(!doc){

        return;
      };
      try{

        var documentElement = doc.documentElement;
      } catch(e) {

        return;
      };
      if(old === false){

        qx.event.Registration.removeListener(documentElement, "contextmenu", this._onNativeContextMenu, this, true);
      };
      if(value === false){

        qx.event.Registration.addListener(documentElement, "contextmenu", this._onNativeContextMenu, this, true);
      };
    },
    _onNativeContextMenu : function(e){

      e.preventDefault();
    },
    _applyNativeHelp : function(value, old){

      if(qx.core.Environment.get("event.help")){

        var document = this.getDocument();
        if(!document){

          return;
        };
        try{

          if(old === false){

            qx.bom.Event.removeNativeListener(document, "help", (function(){

              return false;
            }));
          };
          if(value === false){

            qx.bom.Event.addNativeListener(document, "help", (function(){

              return false;
            }));
          };
        } catch(e) {

          if(qx.core.Environment.get("qx.debug")){

            this.warn("Unable to set 'nativeHelp' property, possibly due to security restrictions");
          };
        };
      };
    },
    _syncSourceAfterDOMMove : function(){

      var iframeDomElement = this.getContentElement().getDomElement();
      var iframeSource = iframeDomElement.src;
      if(iframeSource.charAt(iframeSource.length - 1) == "/"){

        iframeSource = iframeSource.substring(0, iframeSource.length - 1);
      };
      if(iframeSource != this.getSource()){

        qx.bom.Iframe.getWindow(iframeDomElement).stop();
        iframeDomElement.src = this.getSource();
      };
    },
    _applyScrollbar : function(value){

      this.getContentElement().setAttribute("scrolling", value);
    },
    setLayoutParent : function(parent){

      this.base(arguments, parent);
      if(parent){

        this.getLayoutParent().getContentElement().add(this.__blockerElement);
      };
    }
  },
  destruct : function(){

    if(this.getLayoutParent() && this.__blockerElement.getParent()){

      this.getLayoutParent().getContentElement().remove(this.__blockerElement);
    };
    this._disposeObjects("__blockerElement");
    qx.event.Registration.removeListener(document.body, "pointerdown", this.block, this, true);
    qx.event.Registration.removeListener(document.body, "pointerup", this.release, this, true);
    qx.event.Registration.removeListener(document.body, "losecapture", this.release, this, true);
  }
});

qx.Class.define("qx.html.Iframe", {
  extend : qx.html.Element,
  construct : function(url, styles, attributes){

    this.base(arguments, "iframe", styles, attributes);
    this.setSource(url);
    this.addListener("navigate", this.__onNavigate, this);
    qx.html.Element._modified[this.$$hash] = this;
    qx.html.Element._scheduleFlush("element");
  },
  events : {
    "load" : "qx.event.type.Event",
    "navigate" : "qx.event.type.Data"
  },
  members : {
    _applyProperty : function(name, value){

      this.base(arguments, name, value);
      if(name == "source"){

        var element = this.getDomElement();
        var currentUrl = qx.bom.Iframe.queryCurrentUrl(element);
        if(value === currentUrl){

          return;
        };
        qx.bom.Iframe.setSource(element, value);
      };
    },
    _createDomElement : function(){

      return qx.bom.Iframe.create(this._content);
    },
    getWindow : function(){

      var element = this.getDomElement();
      if(element){

        return qx.bom.Iframe.getWindow(element);
      } else {

        return null;
      };
    },
    getDocument : function(){

      var element = this.getDomElement();
      if(element){

        return qx.bom.Iframe.getDocument(element);
      } else {

        return null;
      };
    },
    getBody : function(){

      var element = this.getDomElement();
      if(element){

        return qx.bom.Iframe.getBody(element);
      } else {

        return null;
      };
    },
    setSource : function(source){

      this._setProperty("source", source, true);
      return this;
    },
    getSource : function(){

      return this._getProperty("source");
    },
    setName : function(name){

      this.setAttribute("name", name);
      return this;
    },
    getName : function(){

      return this.getAttribute("name");
    },
    reload : function(){

      var element = this.getDomElement();
      if(element){

        var url = this.getSource();
        this.setSource(null);
        this.setSource(url);
      };
    },
    __onNavigate : function(e){

      var actualUrl = e.getData();
      if(actualUrl){

        this.setSource(actualUrl);
      };
    }
  }
});

qx.Class.define("qx.ui.virtual.layer.GridLines", {
  extend : qx.ui.virtual.layer.Abstract,
  construct : function(orientation, lineColor, lineSize){

    this.base(arguments);
    this.setZIndex(11);
    if(lineColor){

      this.setDefaultLineColor(lineColor);
    };
    if(lineSize !== undefined){

      this.setDefaultLineSize(lineSize);
    };
    this.__lineColors = [];
    this.__lineSizes = [];
    this._isHorizontal = (orientation || "horizontal") == "horizontal";
  },
  properties : {
    defaultLineColor : {
      init : "gray",
      check : "Color",
      themeable : true
    },
    defaultLineSize : {
      init : 1,
      check : "PositiveInteger",
      themeable : true
    }
  },
  members : {
    __lineColors : null,
    __lineSizes : null,
    isHorizontal : function(){

      return this._isHorizontal;
    },
    setLineColor : function(index, color){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertPositiveNumber(index);
        qx.core.Assert.assertString(color);
      };
      this.__lineColors[index] = color;
      if(this.__isLineRendered(index)){

        this.updateLayerData();
      };
    },
    setLineSize : function(index, size){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertPositiveInteger(index);
        qx.core.Assert.assertPositiveInteger(size);
      };
      this.__lineSizes[index] = size;
      if(this.__isLineRendered(index)){

        this.updateLayerData();
      };
    },
    __isLineRendered : function(index){

      if(this._isHorizontal){

        var firstColumn = this.getFirstColumn();
        var lastColumn = firstColumn + this.getColumnSizes().length - 1;
        return index >= firstColumn && index <= lastColumn;
      } else {

        var firstRow = this.getFirstRow();
        var lastRow = firstRow + this.getRowSizes().length - 1;
        return index >= firstRow && index <= lastRow;
      };
    },
    getLineSize : function(index){

      return this.__lineSizes[index] || this.getDefaultLineSize();
    },
    getLineColor : function(index){

      return this.__lineColors[index] || this.getDefaultLineColor();
    },
    __renderHorizontalLines : function(htmlArr, firstRow, rowSizes){

      var top = 0;
      var color,height;
      for(var y = 0;y < rowSizes.length - 1;y++){

        color = this.getLineColor(firstRow + y);
        height = this.getLineSize(firstRow + y);
        top += rowSizes[y];
        htmlArr.push("<div style='", "position: absolute;", "height: " + height + "px;", "width: 100%;", "top:", top - ((height > 1) ? Math.floor(height / 2) : 1), "px;", "background-color:", color, "'>", "</div>");
      };
    },
    __renderVerticalLines : function(htmlArr, firstColumn, columnSizes){

      var left = 0;
      var color,width;
      for(var x = 0;x < columnSizes.length - 1;x++){

        color = this.getLineColor(firstColumn + x);
        width = this.getLineSize(firstColumn + x);
        left += columnSizes[x];
        htmlArr.push("<div style='", "position: absolute;", "width: " + width + "px;", "height: 100%;", "top: 0px;", "left:", left - ((width > 1) ? Math.floor(width / 2) : 1), "px;", "background-color:", color, "'>", "</div>");
      };
    },
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      var html = [];
      if(this._isHorizontal){

        this.__renderHorizontalLines(html, firstRow, rowSizes);
      } else {

        this.__renderVerticalLines(html, firstColumn, columnSizes);
      };
      this.getContentElement().setAttribute("html", html.join(""));
    },
    _updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      var rowChanged = firstRow !== this.getFirstRow() || rowSizes.length !== this.getRowSizes().length;
      var columnChanged = firstColumn !== this.getFirstColumn() || columnSizes.length !== this.getColumnSizes().length;
      if((this._isHorizontal && rowChanged) || (!this._isHorizontal && columnChanged)){

        this._fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
      };
    }
  },
  destruct : function(){

    this.__lineColors = this.__lineSizes = null;
  }
});

qx.Bootstrap.define("qx.module.util.Array", {
  statics : {
    cast : qx.lang.Array.cast,
    equals : qx.lang.Array.equals,
    exclude : qx.lang.Array.exclude,
    fromArguments : qx.lang.Array.fromArguments,
    insertAfter : qx.lang.Array.insertAfter,
    insertBefore : qx.lang.Array.insertBefore,
    max : qx.lang.Array.max,
    min : qx.lang.Array.min,
    remove : qx.lang.Array.remove,
    removeAll : qx.lang.Array.removeAll,
    unique : qx.lang.Array.unique
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      array : {
        cast : statics.cast,
        equals : statics.equals,
        exclude : statics.exclude,
        fromArguments : statics.fromArguments,
        insertAfter : statics.insertAfter,
        insertBefore : statics.insertBefore,
        max : statics.max,
        min : statics.min,
        remove : statics.remove,
        removeAll : statics.removeAll,
        unique : statics.unique
      }
    });
  }
});

qx.Class.define("qx.ui.groupbox.CheckGroupBox", {
  extend : qx.ui.groupbox.GroupBox,
  implement : [qx.ui.form.IExecutable, qx.ui.form.IBooleanForm, qx.ui.form.IModel],
  include : [qx.ui.form.MModelProperty],
  properties : {
    appearance : {
      refine : true,
      init : "check-groupbox"
    }
  },
  events : {
    "changeValue" : "qx.event.type.Data",
    "execute" : "qx.event.type.Event"
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "legend":
      control = new qx.ui.form.CheckBox();
      control.setValue(true);
      control.setAllowGrowX(true);
      control.addListener("changeValue", this._onRadioChangeValue, this);
      control.addListener("resize", this._repositionFrame, this);
      control.addListener("execute", this._onExecute, this);
      this._add(control, {
        left : 0,
        right : 0
      });};
      return control || this.base(arguments, id);
    },
    _onExecute : function(e){

      this.fireEvent("execute");
    },
    _onRadioChangeValue : function(e){

      var checked = e.getData() ? true : false;
      this.getChildrenContainer().setEnabled(checked);
      this.fireDataEvent("changeValue", checked, e.getOldData());
    },
    execute : function(){

      this.getChildControl("legend").execute();
    },
    setCommand : function(command){

      this.getChildControl("legend").setCommand(command);
    },
    getCommand : function(){

      return this.getChildControl("legend").getCommand();
    },
    getValue : function(){

      return this.getChildControl("legend").getValue();
    },
    setValue : function(value){

      this.getChildControl("legend").setValue(value);
    },
    resetValue : function(){

      this.getChildControl("legend").resetValue();
    }
  }
});

qx.Class.define("qx.ui.form.ToggleButton", {
  extend : qx.ui.basic.Atom,
  include : [qx.ui.core.MExecutable],
  implement : [qx.ui.form.IBooleanForm, qx.ui.form.IExecutable, qx.ui.form.IRadioItem],
  construct : function(label, icon){

    this.base(arguments, label, icon);
    this.addListener("pointerover", this._onPointerOver);
    this.addListener("pointerout", this._onPointerOut);
    this.addListener("pointerdown", this._onPointerDown);
    this.addListener("pointerup", this._onPointerUp);
    this.addListener("keydown", this._onKeyDown);
    this.addListener("keyup", this._onKeyUp);
    this.addListener("execute", this._onExecute, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "button"
    },
    focusable : {
      refine : true,
      init : true
    },
    value : {
      check : "Boolean",
      nullable : true,
      event : "changeValue",
      apply : "_applyValue",
      init : false
    },
    group : {
      check : "qx.ui.form.RadioGroup",
      nullable : true,
      apply : "_applyGroup"
    },
    triState : {
      check : "Boolean",
      apply : "_applyTriState",
      nullable : true,
      init : null
    }
  },
  members : {
    _applyGroup : function(value, old){

      if(old){

        old.remove(this);
      };
      if(value){

        value.add(this);
      };
    },
    _applyValue : function(value, old){

      value ? this.addState("checked") : this.removeState("checked");
      if(this.isTriState()){

        if(value === null){

          this.addState("undetermined");
        } else if(old === null){

          this.removeState("undetermined");
        };
      };
    },
    _applyTriState : function(value, old){

      this._applyValue(this.getValue());
    },
    _onExecute : function(e){

      this.toggleValue();
    },
    _onPointerOver : function(e){

      if(e.getTarget() !== this){

        return;
      };
      this.addState("hovered");
      if(this.hasState("abandoned")){

        this.removeState("abandoned");
        this.addState("pressed");
      };
    },
    _onPointerOut : function(e){

      if(e.getTarget() !== this){

        return;
      };
      this.removeState("hovered");
      if(this.hasState("pressed")){

        if(!this.getValue()){

          this.removeState("pressed");
        };
        this.addState("abandoned");
      };
    },
    _onPointerDown : function(e){

      if(!e.isLeftPressed()){

        return;
      };
      this.capture();
      this.removeState("abandoned");
      this.addState("pressed");
      e.stopPropagation();
    },
    _onPointerUp : function(e){

      this.releaseCapture();
      if(this.hasState("abandoned")){

        this.removeState("abandoned");
      } else if(this.hasState("pressed")){

        this.execute();
      };
      this.removeState("pressed");
      e.stopPropagation();
    },
    _onKeyDown : function(e){

      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      this.removeState("abandoned");
      this.addState("pressed");
      e.stopPropagation();};
    },
    _onKeyUp : function(e){

      if(!this.hasState("pressed")){

        return;
      };
      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      this.removeState("abandoned");
      this.execute();
      this.removeState("pressed");
      e.stopPropagation();};
    }
  }
});

qx.Class.define("qx.ui.form.CheckBox", {
  extend : qx.ui.form.ToggleButton,
  include : [qx.ui.form.MForm, qx.ui.form.MModelProperty],
  implement : [qx.ui.form.IForm, qx.ui.form.IModel],
  construct : function(label){

    if(qx.core.Environment.get("qx.debug")){

      this.assertArgumentsCount(arguments, 0, 1);
    };
    this.base(arguments, label);
    this.setValue(false);
  },
  properties : {
    appearance : {
      refine : true,
      init : "checkbox"
    },
    allowGrowX : {
      refine : true,
      init : false
    }
  },
  members : {
    _forwardStates : {
      invalid : true,
      focused : true,
      undetermined : true,
      checked : true,
      hovered : true
    },
    _bindableProperties : ["enabled", "label", "toolTipText", "value", "menu"]
  }
});

qx.Bootstrap.define("qx.module.TextSelection", {
  statics : {
    getTextSelection : function(){

      var el = this[0];
      if(el){

        if(!qx.module.TextSelection.__isInput(el)){

          el = qx.module.TextSelection.__getTextNode(el);
        };
        return el ? qx.bom.Selection.get(el) : null;
      };
      return null;
    },
    getTextSelectionLength : function(){

      var el = this[0];
      if(el){

        if(!qx.module.TextSelection.__isInput(el)){

          el = qx.module.TextSelection.__getTextNode(el);
        };
        return el ? qx.bom.Selection.getLength(el) : null;
      };
      return null;
    },
    getTextSelectionStart : function(){

      var el = this[0];
      if(el){

        if(!qx.module.TextSelection.__isInput(el)){

          el = qx.module.TextSelection.__getTextNode(el);
        };
        return el ? qx.bom.Selection.getStart(el) : null;
      };
      return null;
    },
    getTextSelectionEnd : function(){

      var el = this[0];
      if(el){

        if(!qx.module.TextSelection.__isInput(el)){

          el = qx.module.TextSelection.__getTextNode(el);
        };
        return el ? qx.bom.Selection.getEnd(el) : null;
      };
      return null;
    },
    setTextSelection : function(start, end){

      var el = this[0];
      if(el){

        if(!qx.module.TextSelection.__isInput(el)){

          el = qx.module.TextSelection.__getTextNode(el);
        };
        if(el){

          qx.bom.Selection.set(el, start, end);
        };
      };
      return this;
    },
    clearTextSelection : function(){

      this._forEachElement(function(el){

        if(!qx.module.TextSelection.__isInput(el)){

          el = qx.module.TextSelection.__getTextNode(el);
        };
        if(el){

          qx.bom.Selection.clear(el);
        };
      });
      return this;
    },
    __isInput : function(el){

      var tag = el.tagName ? el.tagName.toLowerCase() : null;
      return (tag === "input" || tag === "textarea");
    },
    __getTextNode : function(el){

      for(var i = 0,l = el.childNodes.length;i < l;i++){

        if(el.childNodes[i].nodeType === 3){

          return el.childNodes[i];
        };
      };
      return null;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "getTextSelection" : statics.getTextSelection,
      "getTextSelectionLength" : statics.getTextSelectionLength,
      "getTextSelectionStart" : statics.getTextSelectionStart,
      "getTextSelectionEnd" : statics.getTextSelectionEnd,
      "setTextSelection" : statics.setTextSelection,
      "clearTextSelection" : statics.clearTextSelection
    });
  }
});

qx.Class.define("qx.ui.splitpane.HLayout", {
  extend : qx.ui.layout.Abstract,
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(name === "type" || name === "flex", "The property '" + name + "' is not supported by the split layout!");
        if(name == "flex"){

          this.assertNumber(value);
        };
        if(name == "type"){

          this.assertString(value);
        };
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      var length = children.length;
      var child,type;
      var begin,splitter,slider,end;
      var paddingLeft = padding.left || 0;
      var paddingTop = padding.top || 0;
      for(var i = 0;i < length;i++){

        child = children[i];
        type = child.getLayoutProperties().type;
        if(type === "splitter"){

          splitter = child;
        } else if(type === "slider"){

          slider = child;
        } else if(!begin){

          begin = child;
        } else {

          end = child;
        };;
      };
      if(begin && end){

        var beginFlex = begin.getLayoutProperties().flex;
        var endFlex = end.getLayoutProperties().flex;
        if(beginFlex == null){

          beginFlex = 1;
        };
        if(endFlex == null){

          endFlex = 1;
        };
        var beginHint = begin.getSizeHint();
        var splitterHint = splitter.getSizeHint();
        var endHint = end.getSizeHint();
        var beginWidth = beginHint.width;
        var splitterWidth = splitterHint.width;
        var endWidth = endHint.width;
        if(beginFlex > 0 && endFlex > 0){

          var flexSum = beginFlex + endFlex;
          var flexAvailable = availWidth - splitterWidth;
          var beginWidth = Math.round((flexAvailable / flexSum) * beginFlex);
          var endWidth = flexAvailable - beginWidth;
          var sizes = qx.ui.layout.Util.arrangeIdeals(beginHint.minWidth, beginWidth, beginHint.maxWidth, endHint.minWidth, endWidth, endHint.maxWidth);
          beginWidth = sizes.begin;
          endWidth = sizes.end;
        } else if(beginFlex > 0){

          beginWidth = availWidth - splitterWidth - endWidth;
          if(beginWidth < beginHint.minWidth){

            beginWidth = beginHint.minWidth;
          };
          if(beginWidth > beginHint.maxWidth){

            beginWidth = beginHint.maxWidth;
          };
        } else if(endFlex > 0){

          endWidth = availWidth - beginWidth - splitterWidth;
          if(endWidth < endHint.minWidth){

            endWidth = endHint.minWidth;
          };
          if(endWidth > endHint.maxWidth){

            endWidth = endHint.maxWidth;
          };
        };;
        begin.renderLayout(paddingLeft, paddingTop, beginWidth, availHeight);
        splitter.renderLayout(beginWidth + paddingLeft, paddingTop, splitterWidth, availHeight);
        end.renderLayout(beginWidth + splitterWidth + paddingLeft, paddingTop, endWidth, availHeight);
      } else {

        splitter.renderLayout(0, 0, 0, 0);
        if(begin){

          begin.renderLayout(paddingLeft, paddingTop, availWidth, availHeight);
        } else if(end){

          end.renderLayout(paddingLeft, paddingTop, availWidth, availHeight);
        };
      };
    },
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var length = children.length;
      var child,hint,props;
      var minWidth = 0,width = 0,maxWidth = 0;
      var minHeight = 0,height = 0,maxHeight = 0;
      for(var i = 0;i < length;i++){

        child = children[i];
        props = child.getLayoutProperties();
        if(props.type === "slider"){

          continue;
        };
        hint = child.getSizeHint();
        minWidth += hint.minWidth;
        width += hint.width;
        maxWidth += hint.maxWidth;
        if(hint.minHeight > minHeight){

          minHeight = hint.minHeight;
        };
        if(hint.height > height){

          height = hint.height;
        };
        if(hint.maxHeight > maxHeight){

          maxHeight = hint.maxHeight;
        };
      };
      return {
        minWidth : minWidth,
        width : width,
        maxWidth : maxWidth,
        minHeight : minHeight,
        height : height,
        maxHeight : maxHeight
      };
    }
  }
});

qx.Interface.define("qx.ui.list.provider.IListProvider", {
  members : {
    createLayer : function(){
    },
    createItemRenderer : function(){
    },
    createGroupRenderer : function(){
    },
    styleSelectabled : function(row){
    },
    styleUnselectabled : function(row){
    },
    isSelectable : function(row){
    },
    setLabelPath : function(path){
    },
    setIconPath : function(path){
    },
    setLabelOptions : function(options){
    },
    setIconOptions : function(options){
    },
    setDelegate : function(delegate){
    },
    removeBindings : function(){
    }
  }
});

qx.Interface.define("qx.ui.virtual.core.IWidgetCellProvider", {
  members : {
    getCellWidget : function(row, column){
    },
    poolCellWidget : function(widget){
    }
  }
});

qx.Mixin.define("qx.ui.list.core.MWidgetController", {
  construct : function(){

    this.__boundItems = [];
  },
  properties : {
    labelPath : {
      check : "String",
      nullable : true
    },
    iconPath : {
      check : "String",
      nullable : true
    },
    groupLabelPath : {
      check : "String",
      nullable : true
    },
    labelOptions : {
      nullable : true
    },
    iconOptions : {
      nullable : true
    },
    groupLabelOptions : {
      nullable : true
    },
    delegate : {
      event : "changeDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    __boundItems : null,
    bindDefaultProperties : function(item, index){

      if(item.getUserData("cell.type") != "group"){

        this.bindProperty("", "model", null, item, index);
        this.bindProperty(this.getLabelPath(), "label", this.getLabelOptions(), item, index);
        if(this.getIconPath() != null){

          this.bindProperty(this.getIconPath(), "icon", this.getIconOptions(), item, index);
        };
      } else {

        this.bindProperty(this.getGroupLabelPath(), "value", this.getGroupLabelOptions(), item, index);
      };
    },
    bindProperty : function(sourcePath, targetProperty, options, targetWidget, index){

      var type = targetWidget.getUserData("cell.type");
      var bindPath = this.__getBindPath(index, sourcePath, type);
      if(options){

        options.ignoreConverter = "model";
      };
      var id = this._list.bind(bindPath, targetWidget, targetProperty, options);
      this.__addBinding(targetWidget, id);
    },
    bindPropertyReverse : function(targetPath, sourceProperty, options, sourceWidget, index){

      var type = sourceWidget.getUserData("cell.type");
      var bindPath = this.__getBindPath(index, targetPath, type);
      var id = sourceWidget.bind(sourceProperty, this._list, bindPath, options);
      this.__addBinding(sourceWidget, id);
    },
    removeBindings : function(){

      while(this.__boundItems.length > 0){

        var item = this.__boundItems.pop();
        this._removeBindingsFrom(item);
      };
    },
    _configureItem : function(item){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.configureItem != null){

        delegate.configureItem(item);
      };
    },
    _configureGroupItem : function(item){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.configureGroupItem != null){

        delegate.configureGroupItem(item);
      };
    },
    _bindItem : function(item, index){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.bindItem != null){

        delegate.bindItem(this, item, index);
      } else {

        this.bindDefaultProperties(item, index);
      };
    },
    _bindGroupItem : function(item, index){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.bindGroupItem != null){

        delegate.bindGroupItem(this, item, index);
      } else {

        this.bindDefaultProperties(item, index);
      };
    },
    _removeBindingsFrom : function(item){

      var bindings = this.__getBindings(item);
      while(bindings.length > 0){

        var id = bindings.pop();
        try{

          this._list.removeBinding(id);
        } catch(e) {

          item.removeBinding(id);
        };
      };
      if(qx.lang.Array.contains(this.__boundItems, item)){

        qx.lang.Array.remove(this.__boundItems, item);
      };
    },
    __getBindPath : function(index, path, type){

      var bindPath = "model[" + index + "]";
      if(type == "group"){

        bindPath = "groups[" + index + "]";
      };
      if(path != null && path != ""){

        bindPath += "." + path;
      };
      return bindPath;
    },
    __addBinding : function(widget, id){

      var bindings = this.__getBindings(widget);
      if(!qx.lang.Array.contains(bindings, id)){

        bindings.push(id);
      };
      if(!qx.lang.Array.contains(this.__boundItems, widget)){

        this.__boundItems.push(widget);
      };
    },
    __getBindings : function(widget){

      var bindings = widget.getUserData("BindingIds");
      if(bindings == null){

        bindings = [];
        widget.setUserData("BindingIds", bindings);
      };
      return bindings;
    }
  },
  destruct : function(){

    this.__boundItems = null;
  }
});

qx.Class.define("qx.ui.list.provider.WidgetProvider", {
  extend : qx.core.Object,
  implement : [qx.ui.virtual.core.IWidgetCellProvider, qx.ui.list.provider.IListProvider],
  include : [qx.ui.list.core.MWidgetController],
  construct : function(list){

    this.base(arguments);
    this._list = list;
    this._itemRenderer = this.createItemRenderer();
    this._groupRenderer = this.createGroupRenderer();
    this._itemRenderer.addListener("created", this._onItemCreated, this);
    this._groupRenderer.addListener("created", this._onGroupItemCreated, this);
    this._list.addListener("changeDelegate", this._onChangeDelegate, this);
  },
  members : {
    _itemRenderer : null,
    _groupRenderer : null,
    getCellWidget : function(row, column){

      var widget = null;
      if(!this._list._isGroup(row)){

        widget = this._itemRenderer.getCellWidget();
        widget.setUserData("cell.type", "item");
        this._bindItem(widget, this._list._lookup(row));
        if(this._list._manager.isItemSelected(row)){

          this._styleSelectabled(widget);
        } else {

          this._styleUnselectabled(widget);
        };
      } else {

        widget = this._groupRenderer.getCellWidget();
        widget.setUserData("cell.type", "group");
        this._bindGroupItem(widget, this._list._lookupGroup(row));
      };
      return widget;
    },
    poolCellWidget : function(widget){

      this._removeBindingsFrom(widget);
      if(widget.getUserData("cell.type") == "item"){

        this._itemRenderer.pool(widget);
      } else if(widget.getUserData("cell.type") == "group"){

        this._groupRenderer.pool(widget);
      };
      this._onPool(widget);
    },
    createLayer : function(){

      return new qx.ui.virtual.layer.WidgetCell(this);
    },
    createItemRenderer : function(){

      var createWidget = qx.util.Delegate.getMethod(this.getDelegate(), "createItem");
      if(createWidget == null){

        createWidget = function(){

          return new qx.ui.form.ListItem();
        };
      };
      var renderer = new qx.ui.virtual.cell.WidgetCell();
      renderer.setDelegate({
        createWidget : createWidget
      });
      return renderer;
    },
    createGroupRenderer : function(){

      var createWidget = qx.util.Delegate.getMethod(this.getDelegate(), "createGroupItem");
      if(createWidget == null){

        createWidget = function(){

          var group = new qx.ui.basic.Label();
          group.setAppearance("group-item");
          return group;
        };
      };
      var renderer = new qx.ui.virtual.cell.WidgetCell();
      renderer.setDelegate({
        createWidget : createWidget
      });
      return renderer;
    },
    styleSelectabled : function(row){

      var widget = this.__getWidgetFrom(row);
      this._styleSelectabled(widget);
    },
    styleUnselectabled : function(row){

      var widget = this.__getWidgetFrom(row);
      this._styleUnselectabled(widget);
    },
    isSelectable : function(row){

      if(this._list._isGroup(row)){

        return false;
      };
      var widget = this._list._layer.getRenderedCellWidget(row, 0);
      if(widget != null){

        return widget.isEnabled();
      } else {

        return true;
      };
    },
    _styleSelectabled : function(widget){

      this.__updateStates(widget, {
        selected : 1
      });
    },
    _styleUnselectabled : function(widget){

      this.__updateStates(widget, {
      });
    },
    _onPool : function(item){

      var onPool = qx.util.Delegate.getMethod(this.getDelegate(), "onPool");
      if(onPool != null){

        onPool(item);
      };
    },
    _onItemCreated : function(event){

      var widget = event.getData();
      this._configureItem(widget);
    },
    _onGroupItemCreated : function(event){

      var widget = event.getData();
      this._configureGroupItem(widget);
    },
    _onChangeDelegate : function(event){

      this._itemRenderer.dispose();
      this._itemRenderer = this.createItemRenderer();
      this._itemRenderer.addListener("created", this._onItemCreated, this);
      this._groupRenderer.dispose();
      this._groupRenderer = this.createGroupRenderer();
      this._groupRenderer.addListener("created", this._onGroupItemCreated, this);
      this.removeBindings();
      this._list.getPane().fullUpdate();
    },
    __getWidgetFrom : function(row){

      return this._list._layer.getRenderedCellWidget(row, 0);
    },
    __updateStates : function(widget, states){

      if(widget == null){

        return;
      };
      this._itemRenderer.updateStates(widget, states);
    }
  },
  destruct : function(){

    this._itemRenderer.dispose();
    this._groupRenderer.dispose();
    this._itemRenderer = this._groupRenderer = null;
  }
});

qx.Class.define("qx.ui.virtual.layer.WidgetCell", {
  extend : qx.ui.virtual.layer.Abstract,
  include : [qx.ui.core.MChildrenHandling],
  construct : function(widgetCellProvider){

    this.base(arguments);
    this.setZIndex(12);
    if(qx.core.Environment.get("qx.debug")){

      this.assertInterface(widgetCellProvider, qx.ui.virtual.core.IWidgetCellProvider);
    };
    this._cellProvider = widgetCellProvider;
    this.__spacerPool = [];
  },
  properties : {
    anonymous : {
      refine : true,
      init : false
    }
  },
  events : {
    updated : "qx.event.type.Event"
  },
  members : {
    __spacerPool : null,
    getRenderedCellWidget : function(row, column){

      var columnCount = this.getColumnSizes().length;
      var rowCount = this.getRowSizes().length;
      var firstRow = this.getFirstRow();
      var firstColumn = this.getFirstColumn();
      if(row < firstRow || row >= firstRow + rowCount || column < firstColumn || column >= firstColumn + columnCount){

        return null;
      };
      var childIndex = (column - firstColumn) + (row - firstRow) * columnCount;
      var widget = this._getChildren()[childIndex];
      if(widget.getUserData("cell.empty")){

        return null;
      } else {

        return widget;
      };
    },
    _getSpacer : function(){

      var spacer = this.__spacerPool.pop();
      if(!spacer){

        spacer = new qx.ui.core.Spacer();
        spacer.setUserData("cell.empty", 1);
      };
      return spacer;
    },
    _activateNotEmptyChild : function(elementToPool){

      var active = qx.ui.core.FocusHandler.getInstance().getActiveWidget();
      if(active == elementToPool || qx.ui.core.Widget.contains(elementToPool, active)){

        var children = this._getChildren();
        for(var i = children.length - 1;i >= 0;i--){

          if(!children[i].getUserData("cell.empty")){

            children[i].activate();
            break;
          };
        };
      };
    },
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      var cellProvider = this._cellProvider;
      var children = this._getChildren();
      for(var i = 0;i < children.length;i++){

        var child = children[i];
        if(child.getUserData("cell.empty")){

          this.__spacerPool.push(child);
        } else {

          this._activateNotEmptyChild(child);
          cellProvider.poolCellWidget(child);
        };
      };
      this._removeAll();
      var top = 0;
      var left = 0;
      for(var y = 0;y < rowSizes.length;y++){

        for(var x = 0;x < columnSizes.length;x++){

          var row = firstRow + y;
          var column = firstColumn + x;
          var item = cellProvider.getCellWidget(row, column) || this._getSpacer();
          item.setUserBounds(left, top, columnSizes[x], rowSizes[y]);
          item.setUserData("cell.row", row);
          item.setUserData("cell.column", column);
          this._add(item);
          left += columnSizes[x];
        };
        top += rowSizes[y];
        left = 0;
      };
      this.fireEvent("updated");
    },
    _updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      if(qx.core.Environment.get("qx.debug")){

        this.assertPositiveInteger(firstRow);
        this.assertPositiveInteger(firstColumn);
        this.assertArray(rowSizes);
        this.assertArray(columnSizes);
      };
      var lastRow = firstRow + rowSizes.length - 1;
      var lastColumn = firstColumn + columnSizes.length - 1;
      var overlap = {
        firstRow : Math.max(firstRow, this.getFirstRow()),
        lastRow : Math.min(lastRow, this._lastRow),
        firstColumn : Math.max(firstColumn, this.getFirstColumn()),
        lastColumn : Math.min(lastColumn, this._lastColumn)
      };
      this._lastColumn = lastColumn;
      this._lastRow = lastRow;
      if(overlap.firstRow > overlap.lastRow || overlap.firstColumn > overlap.lastColumn){

        return this._fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
      };
      var children = this._getChildren();
      var lineLength = this.getColumnSizes().length;
      var widgetsToMove = [];
      var widgetsToMoveIndexes = {
      };
      for(var row = firstRow;row <= lastRow;row++){

        widgetsToMove[row] = [];
        for(var column = firstColumn;column <= lastColumn;column++){

          if(row >= overlap.firstRow && row <= overlap.lastRow && column >= overlap.firstColumn && column <= overlap.lastColumn){

            var x = column - this.getFirstColumn();
            var y = row - this.getFirstRow();
            var index = y * lineLength + x;
            widgetsToMove[row][column] = children[index];
            widgetsToMoveIndexes[index] = true;
          };
        };
      };
      var cellProvider = this._cellProvider;
      var children = this._getChildren();
      for(var i = 0;i < children.length;i++){

        if(!widgetsToMoveIndexes[i]){

          var child = children[i];
          if(child.getUserData("cell.empty")){

            this.__spacerPool.push(child);
          } else {

            this._activateNotEmptyChild(child);
            cellProvider.poolCellWidget(child);
          };
        };
      };
      this._removeAll();
      var top = 0;
      var left = 0;
      for(var y = 0;y < rowSizes.length;y++){

        for(var x = 0;x < columnSizes.length;x++){

          var row = firstRow + y;
          var column = firstColumn + x;
          var item = widgetsToMove[row][column] || cellProvider.getCellWidget(row, column) || this._getSpacer();
          item.setUserBounds(left, top, columnSizes[x], rowSizes[y]);
          item.setUserData("cell.row", row);
          item.setUserData("cell.column", column);
          this._add(item);
          left += columnSizes[x];
        };
        top += rowSizes[y];
        left = 0;
      };
      this.fireEvent("updated");
    }
  },
  destruct : function(){

    var children = this._getChildren();
    for(var i = 0;i < children.length;i++){

      children[i].dispose();
    };
    this._cellProvider = this.__spacerPool = null;
  }
});

qx.Class.define("qx.util.Delegate", {
  statics : {
    getMethod : function(delegate, specificMethod){

      if(qx.util.Delegate.containsMethod(delegate, specificMethod)){

        return qx.lang.Function.bind(delegate[specificMethod], delegate);
      };
      return null;
    },
    containsMethod : function(delegate, specificMethod){

      var Type = qx.lang.Type;
      if(Type.isObject(delegate)){

        return Type.isFunction(delegate[specificMethod]);
      };
      return false;
    }
  }
});

qx.Interface.define("qx.ui.virtual.cell.IWidgetCell", {
  members : {
    getCellWidget : function(data, states){
    },
    pool : function(widget){
    },
    updateStates : function(widget, states){
    },
    updateData : function(widget, data){
    }
  }
});

qx.Class.define("qx.ui.virtual.cell.AbstractWidget", {
  extend : qx.core.Object,
  implement : [qx.ui.virtual.cell.IWidgetCell],
  construct : function(){

    this.base(arguments);
    this.__pool = [];
  },
  events : {
    "created" : "qx.event.type.Data"
  },
  members : {
    __pool : null,
    _createWidget : function(){

      throw new Error("abstract method call");
    },
    updateData : function(widget, data){

      throw new Error("abstract method call");
    },
    updateStates : function(widget, states){

      var oldStates = widget.getUserData("cell.states");
      if(oldStates){

        var newStates = states || {
        };
        for(var state in oldStates){

          if(!newStates[state]){

            widget.removeState(state);
          };
        };
      } else {

        oldStates = {
        };
      };
      if(states){

        for(var state in states){

          if(!oldStates.state){

            widget.addState(state);
          };
        };
      };
      widget.setUserData("cell.states", states);
    },
    getCellWidget : function(data, states){

      var widget = this.__getWidgetFromPool();
      this.updateStates(widget, states);
      this.updateData(widget, data);
      return widget;
    },
    pool : function(widget){

      this.__pool.push(widget);
    },
    _cleanupPool : function(){

      var widget = this.__pool.pop();
      while(widget){

        widget.destroy();
        widget = this.__pool.pop();
      };
    },
    __getWidgetFromPool : function(){

      var widget = this.__pool.shift();
      if(widget == null){

        widget = this._createWidget();
        this.fireDataEvent("created", widget);
      };
      return widget;
    }
  },
  destruct : function(){

    this._cleanupPool();
    this.__pool = null;
  }
});

qx.Class.define("qx.ui.virtual.cell.WidgetCell", {
  extend : qx.ui.virtual.cell.AbstractWidget,
  properties : {
    delegate : {
      apply : "_applyDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    _applyDelegate : function(value, old){

      this._cleanupPool();
    },
    _createWidget : function(){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.createWidget != null){

        return delegate.createWidget();
      } else {

        return new qx.ui.core.Widget();
      };
    },
    updateData : function(widget, data){

      for(var key in data){

        if(qx.Class.hasProperty(widget.constructor, key)){

          qx.util.PropertyUtil.setUserValue(widget, key, data[key]);
        } else {

          throw new Error("Can't update data! The key '" + key + "' is not a Property!");
        };
      };
    }
  }
});

qx.Class.define("qx.ui.form.ListItem", {
  extend : qx.ui.basic.Atom,
  implement : [qx.ui.form.IModel],
  include : [qx.ui.form.MModelProperty],
  construct : function(label, icon, model){

    this.base(arguments, label, icon);
    if(model != null){

      this.setModel(model);
    };
    this.addListener("pointerover", this._onPointerOver, this);
    this.addListener("pointerout", this._onPointerOut, this);
  },
  events : {
    "action" : "qx.event.type.Event"
  },
  properties : {
    appearance : {
      refine : true,
      init : "listitem"
    }
  },
  members : {
    _forwardStates : {
      focused : true,
      hovered : true,
      selected : true,
      dragover : true
    },
    _onPointerOver : function(){

      this.addState("hovered");
    },
    _onPointerOut : function(){

      this.removeState("hovered");
    }
  },
  destruct : function(){

    this.removeListener("pointerover", this._onPointerOver, this);
    this.removeListener("pointerout", this._onPointerOut, this);
  }
});

qx.Class.define("qx.ui.form.core.AbstractVirtualBox", {
  extend : qx.ui.core.Widget,
  include : qx.ui.form.MForm,
  implement : qx.ui.form.IForm,
  type : "abstract",
  construct : function(model){

    this.base(arguments);
    var layout = new qx.ui.layout.HBox();
    this._setLayout(layout);
    layout.setAlignY("middle");
    this.addListener("keypress", this._handleKeyboard, this);
    this.addListener("tap", this._handlePointer, this);
    this.addListener("blur", this._onBlur, this);
    this.addListener("resize", this._onResize, this);
    this._createChildControl("dropdown");
    if(model != null){

      this.initModel(model);
    } else {

      this.__defaultModel = new qx.data.Array();
      this.initModel(this.__defaultModel);
    };
  },
  properties : {
    focusable : {
      refine : true,
      init : true
    },
    width : {
      refine : true,
      init : 120
    },
    model : {
      check : "qx.data.Array",
      apply : "_applyModel",
      event : "changeModel",
      nullable : false,
      deferredInit : true
    },
    delegate : {
      apply : "_applyDelegate",
      event : "changeDelegate",
      init : null,
      nullable : true
    },
    labelPath : {
      check : "String",
      apply : "_applyLabelPath",
      event : "changeLabelPath",
      nullable : true
    },
    labelOptions : {
      apply : "_applyLabelOptions",
      event : "changeLabelOptions",
      nullable : true
    },
    iconPath : {
      check : "String",
      event : "changeIconPath",
      apply : "_applyIconPath",
      nullable : true
    },
    iconOptions : {
      apply : "_applyIconOptions",
      event : "changeIconOptions",
      nullable : true
    },
    itemHeight : {
      check : "Integer",
      init : 25,
      apply : "_applyRowHeight",
      themeable : true
    },
    maxListHeight : {
      check : "Number",
      apply : "_applyMaxListHeight",
      nullable : true,
      init : 200
    }
  },
  members : {
    __defaultModel : null,
    _forwardStates : {
      focused : true,
      invalid : true
    },
    refresh : function(){

      this.getChildControl("dropdown").getChildControl("list").refresh();
      qx.ui.core.queue.Widget.add(this);
    },
    open : function(){

      this._beforeOpen();
      this.getChildControl("dropdown").open();
    },
    close : function(){

      this._beforeClose();
      this.getChildControl("dropdown").close();
    },
    toggle : function(){

      var dropDown = this.getChildControl("dropdown");
      if(dropDown.isVisible()){

        this.close();
      } else {

        this.open();
      };
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "dropdown":
      control = new qx.ui.form.core.VirtualDropDownList(this);
      control.addListener("changeVisibility", this._onPopupChangeVisibility, this);
      break;};
      return control || this.base(arguments, id, hash);
    },
    _beforeOpen : function(){
    },
    _beforeClose : function(){
    },
    _getAction : function(event){

      var keyIdentifier = event.getKeyIdentifier();
      var isOpen = this.getChildControl("dropdown").isVisible();
      var isModifierPressed = this._isModifierPressed(event);
      if(!isOpen && !isModifierPressed && (keyIdentifier === "Down" || keyIdentifier === "Up")){

        return "open";
      } else if(isOpen && !isModifierPressed && keyIdentifier === "Escape"){

        return "close";
      } else {

        return null;
      };
    },
    _getBindPath : function(source, path){

      var bindPath = source + "[0]";
      if(path != null && path != ""){

        bindPath += "." + path;
      };
      return bindPath;
    },
    _isModifierPressed : function(event){

      var isAltPressed = event.isAltPressed();
      var isCtrlOrCommandPressed = event.isCtrlOrCommandPressed();
      var isShiftPressed = event.isShiftPressed();
      var isMetaPressed = event.isMetaPressed();
      return (isAltPressed || isCtrlOrCommandPressed || isShiftPressed || isMetaPressed);
    },
    _onBlur : function(event){

      this.close();
    },
    _handleKeyboard : function(event){

      var action = this._getAction(event);
      var isOpen = this.getChildControl("dropdown").isVisible();
      switch(action){case "open":
      this.open();
      break;case "close":
      this.close();
      break;default:
      if(isOpen){

        this.getChildControl("dropdown")._handleKeyboard(event);
      };
      break;};
    },
    _handlePointer : function(event){
    },
    _onResize : function(event){

      this.getChildControl("dropdown").setMinWidth(event.getData().width);
    },
    _onPopupChangeVisibility : function(event){

      event.getData() == "visible" ? this.addState("popupOpen") : this.removeState("popupOpen");
    },
    _applyModel : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setModel(value);
      qx.ui.core.queue.Widget.add(this);
    },
    _applyDelegate : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setDelegate(value);
    },
    _applyLabelPath : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setLabelPath(value);
      qx.ui.core.queue.Widget.add(this);
    },
    _applyLabelOptions : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setLabelOptions(value);
      qx.ui.core.queue.Widget.add(this);
    },
    _applyIconPath : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setIconPath(value);
      qx.ui.core.queue.Widget.add(this);
    },
    _applyIconOptions : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setIconOptions(value);
      qx.ui.core.queue.Widget.add(this);
    },
    _applyRowHeight : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setItemHeight(value);
    },
    _applyMaxListHeight : function(value, old){

      this.getChildControl("dropdown").getChildControl("list").setMaxHeight(value);
    }
  },
  destruct : function(){

    if(this.__defaultModel){

      this.__defaultModel.dispose();
    };
  }
});

qx.Class.define("qx.ui.form.core.VirtualDropDownList", {
  extend : qx.ui.popup.Popup,
  construct : function(target){

    qx.core.Assert.assertNotNull(target, "Invalid parameter 'target'!");
    qx.core.Assert.assertNotUndefined(target, "Invalid parameter 'target'!");
    qx.core.Assert.assertInterface(target, qx.ui.form.core.AbstractVirtualBox, "Invalid parameter 'target'!");
    this.base(arguments, new qx.ui.layout.VBox());
    this._target = target;
    this._createChildControl("list");
    this.addListener("changeVisibility", this.__onChangeVisibility, this);
    this.__defaultSelection = new qx.data.Array();
    this.initSelection(this.__defaultSelection);
  },
  properties : {
    autoHide : {
      refine : true,
      init : false
    },
    keepActive : {
      refine : true,
      init : true
    },
    selection : {
      check : "qx.data.Array",
      event : "changeSelection",
      apply : "_applySelection",
      nullable : false,
      deferredInit : true
    }
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    _target : null,
    _preselected : null,
    __ignoreSelection : false,
    __ignoreListSelection : false,
    __defaultSelection : null,
    open : function(){

      this.placeToWidget(this._target, true);
      this.show();
    },
    close : function(){

      this.hide();
    },
    setPreselected : function(modelItem){

      this._preselected = modelItem;
      this.__ignoreListSelection = true;
      var listSelection = this.getChildControl("list").getSelection();
      var helper = new qx.data.Array([modelItem]);
      this.__synchronizeSelection(helper, listSelection);
      helper.dispose();
      this.__ignoreListSelection = false;
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "list":
      control = new qx.ui.list.List().set({
        focusable : false,
        keepFocus : true,
        height : null,
        width : null,
        maxHeight : this._target.getMaxListHeight(),
        selectionMode : "one",
        quickSelection : true
      });
      control.getSelection().addListener("change", this._onListChangeSelection, this);
      control.addListener("tap", this._handlePointer, this);
      control.addListener("changeModel", this._onChangeModel, this);
      control.addListener("changeDelegate", this._onChangeDelegate, this);
      this.add(control, {
        flex : 1
      });
      break;};
      return control || this.base(arguments, id, hash);
    },
    _handleKeyboard : function(event){

      if(this.isVisible() && event.getKeyIdentifier() === "Enter"){

        this.__selectPreselected();
        return;
      };
      var clone = event.clone();
      clone.setTarget(this.getChildControl("list"));
      clone.setBubbles(false);
      this.getChildControl("list").dispatchEvent(clone);
    },
    _handlePointer : function(event){

      this.__selectPreselected();
    },
    __onChangeSelection : function(event){

      if(this.__ignoreSelection){

        return;
      };
      var selection = this.getSelection();
      var listSelection = this.getChildControl("list").getSelection();
      this.__ignoreListSelection = true;
      this.__synchronizeSelection(selection, listSelection);
      this.__ignoreListSelection = false;
      this.__ignoreSelection = true;
      this.__synchronizeSelection(listSelection, selection);
      this.__ignoreSelection = false;
    },
    _onListChangeSelection : function(event){

      if(this.__ignoreListSelection){

        return;
      };
      var listSelection = this.getChildControl("list").getSelection();
      if(this.isVisible()){

        this.setPreselected(listSelection.getItem(0));
      } else {

        this.__ignoreSelection = true;
        this.__synchronizeSelection(listSelection, this.getSelection());
        this.__ignoreSelection = false;
      };
    },
    __onChangeVisibility : function(event){

      if(this.isVisible()){

        if(this._preselected == null){

          var selection = this.getSelection();
          var listSelection = this.getChildControl("list").getSelection();
          this.__synchronizeSelection(selection, listSelection);
        };
        this.__adjustSize();
      } else {

        this.setPreselected(null);
      };
    },
    _onChangeModel : function(event){

      this.getSelection().removeAll();
    },
    _onChangeDelegate : function(event){

      this.getSelection().removeAll();
    },
    _applySelection : function(value, old){

      value.addListener("change", this.__onChangeSelection, this);
      if(old != null){

        old.removeListener("change", this.__onChangeSelection, this);
      };
      this.__synchronizeSelection(value, this.getChildControl("list").getSelection(value));
    },
    __selectPreselected : function(){

      if(this._preselected != null){

        var selection = this.getSelection();
        selection.splice(0, 1, this._preselected);
        this._preselected = null;
        this.close();
      };
    },
    __synchronizeSelection : function(source, target){

      if(source.equals(target)){

        return;
      };
      if(source.getLength() <= 0){

        target.removeAll();
      } else {

        var nativeArray = target.toArray();
        qx.lang.Array.removeAll(nativeArray);
        for(var i = 0;i < source.getLength();i++){

          nativeArray.push(source.getItem(i));
        };
        target.length = nativeArray.length;
        target.fireDataEvent("change", {
        });
      };
    },
    __adjustSize : function(){

      this.__adjustWidth();
      this.__adjustHeight();
    },
    __adjustWidth : function(){

      var width = this._target.getBounds().width;
      this.setWidth(width);
    },
    __adjustHeight : function(){

      var availableHeigth = this.__getAvailableHeigth();
      var maxListHeight = this._target.getMaxListHeight();
      var list = this.getChildControl("list");
      var itemsHeight = list.getPane().getRowConfig().getTotalSize();
      if(maxListHeight == null || itemsHeight < maxListHeight){

        maxListHeight = itemsHeight;
      };
      if(maxListHeight > availableHeigth){

        list.setMaxHeight(availableHeigth);
      } else if(maxListHeight < availableHeigth){

        list.setMaxHeight(maxListHeight);
      };
    },
    __getAvailableHeigth : function(){

      var distance = this.getLayoutLocation(this._target);
      var viewPortHeight = qx.bom.Viewport.getHeight();
      var toTop = distance.top;
      var toBottom = viewPortHeight - distance.bottom;
      return toTop > toBottom ? toTop : toBottom;
    }
  },
  destruct : function(){

    if(this.__defaultSelection){

      this.__defaultSelection.dispose();
    };
  }
});

qx.Class.define("qx.ui.virtual.core.Scroller", {
  extend : qx.ui.core.scroll.AbstractScrollArea,
  construct : function(rowCount, columnCount, cellHeight, cellWidth){

    this.base(arguments);
    this.__pane = new qx.ui.virtual.core.Pane(rowCount, columnCount, cellHeight, cellWidth);
    this.__pane.addListener("update", this._computeScrollbars, this);
    this.__pane.addListener("scrollX", this._onScrollPaneX, this);
    this.__pane.addListener("scrollY", this._onScrollPaneY, this);
    if(qx.core.Environment.get("os.scrollBarOverlayed")){

      this._add(this.__pane, {
        edge : 0
      });
    } else {

      this._add(this.__pane, {
        row : 0,
        column : 0
      });
    };
  },
  properties : {
    width : {
      refine : true,
      init : null
    },
    height : {
      refine : true,
      init : null
    }
  },
  members : {
    __pane : null,
    getPane : function(){

      return this.__pane;
    },
    _createChildControlImpl : function(id, hash){

      if(id == "pane"){

        return this.__pane;
      } else {

        return this.base(arguments, id);
      };
    },
    getItemTop : function(item){

      throw new Error("The method 'getItemTop' is not implemented!");
    },
    getItemBottom : function(item){

      throw new Error("The method 'getItemBottom' is not implemented!");
    },
    getItemLeft : function(item){

      throw new Error("The method 'getItemLeft' is not implemented!");
    },
    getItemRight : function(item){

      throw new Error("The method 'getItemRight' is not implemented!");
    },
    _onScrollBarX : function(e){

      this.__pane.setScrollX(e.getData());
    },
    _onScrollBarY : function(e){

      this.__pane.setScrollY(e.getData());
    }
  },
  destruct : function(){

    this.__pane.dispose();
    this.__pane = null;
  }
});

qx.Mixin.define("qx.ui.virtual.selection.MModel", {
  construct : function(){

    this._initSelectionManager();
    this.__defaultSelection = new qx.data.Array();
    this.initSelection(this.__defaultSelection);
  },
  properties : {
    selection : {
      check : "qx.data.Array",
      event : "changeSelection",
      apply : "_applySelection",
      nullable : false,
      deferredInit : true
    },
    selectionMode : {
      check : ["single", "multi", "additive", "one"],
      init : "single",
      apply : "_applySelectionMode"
    },
    dragSelection : {
      check : "Boolean",
      init : false,
      apply : "_applyDragSelection"
    },
    quickSelection : {
      check : "Boolean",
      init : false,
      apply : "_applyQuickSelection"
    }
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    _manager : null,
    __ignoreChangeSelection : false,
    __ignoreManagerChangeSelection : false,
    __defaultSelection : null,
    _initSelectionManager : function(){

      var self = this;
      var selectionDelegate = {
        isItemSelectable : function(row){

          return self._provider.isSelectable(row);
        },
        styleSelectable : function(row, type, wasAdded){

          if(type != "selected"){

            return;
          };
          if(wasAdded){

            self._provider.styleSelectabled(row);
          } else {

            self._provider.styleUnselectabled(row);
          };
        }
      };
      this._manager = new qx.ui.virtual.selection.Row(this.getPane(), selectionDelegate);
      this._manager.attachPointerEvents(this.getPane());
      this._manager.attachKeyEvents(this);
      this._manager.addListener("changeSelection", this._onManagerChangeSelection, this);
    },
    _updateSelection : function(){

      if(this._manager == null){

        return;
      };
      this._onChangeSelection();
    },
    _applySelection : function(value, old){

      value.addListener("change", this._onChangeSelection, this);
      if(old != null){

        old.removeListener("change", this._onChangeSelection, this);
      };
      this._onChangeSelection();
    },
    _applySelectionMode : function(value, old){

      this._manager.setMode(value);
    },
    _applyDragSelection : function(value, old){

      this._manager.setDrag(value);
    },
    _applyQuickSelection : function(value, old){

      this._manager.setQuick(value);
    },
    _onChangeSelection : function(e){

      if(this.__ignoreManagerChangeSelection == true){

        return;
      };
      this.__ignoreChangeSelection = true;
      var selection = this.getSelection();
      var newSelection = [];
      for(var i = 0;i < selection.getLength();i++){

        var item = selection.getItem(i);
        var selectables = this._getSelectables();
        var index = -1;
        if(selectables != null){

          index = selectables.indexOf(item);
        };
        var row = this._reverseLookup(index);
        if(row >= 0){

          newSelection.push(row);
        };
      };
      if(this._beforeApplySelection != null && qx.lang.Type.isFunction(this._beforeApplySelection)){

        this._beforeApplySelection(newSelection);
      };
      try{

        if(!qx.lang.Array.equals(newSelection, this._manager.getSelection())){

          this._manager.replaceSelection(newSelection);
        };
      } catch(ex) {

        this._manager.selectItem(newSelection[newSelection.length - 1]);
      };
      this.__synchronizeSelection();
      if(this._afterApplySelection != null && qx.lang.Type.isFunction(this._afterApplySelection)){

        this._afterApplySelection();
      };
      this.__ignoreChangeSelection = false;
    },
    _onManagerChangeSelection : function(e){

      if(this.__ignoreChangeSelection == true){

        return;
      };
      this.__ignoreManagerChangeSelection = true;
      this.__synchronizeSelection();
      this.__ignoreManagerChangeSelection = false;
    },
    __synchronizeSelection : function(){

      if(this.__isSelectionEquals()){

        return;
      };
      var managerSelection = this._manager.getSelection();
      var newSelection = [];
      for(var i = 0;i < managerSelection.length;i++){

        var item = this._getDataFromRow(managerSelection[i]);
        if(item != null){

          newSelection.push(item);
        };
      };
      this.__replaceSelection(newSelection);
    },
    __replaceSelection : function(newSelection){

      var selection = this.getSelection();
      if(newSelection.length > 0){

        var args = [0, selection.getLength()];
        args = args.concat(newSelection);
        var temp = selection.splice.apply(selection, args);
        temp.dispose();
      } else {

        selection.removeAll();
      };
    },
    __isSelectionEquals : function(){

      var selection = this.getSelection();
      var managerSelection = this._manager.getSelection();
      if(selection.getLength() !== managerSelection.length){

        return false;
      };
      for(var i = 0;i < selection.getLength();i++){

        var item = selection.getItem(i);
        var selectables = this._getSelectables();
        var index = -1;
        if(selectables != null){

          index = selectables.indexOf(item);
        };
        var row = this._reverseLookup(index);
        if(row !== managerSelection[i]){

          return false;
        };
      };
      return true;
    },
    _applyDefaultSelection : function(){

      if(this._manager != null){

        this._manager._applyDefaultSelection();
      };
    }
  },
  destruct : function(){

    this._manager.dispose();
    this._manager = null;
    if(this.__defaultSelection){

      this.__defaultSelection.dispose();
    };
  }
});

qx.Interface.define("qx.data.controller.ISelection", {
  members : {
    setSelection : function(value){
    },
    getSelection : function(){
    },
    resetSelection : function(){
    }
  }
});

qx.Class.define("qx.ui.list.List", {
  extend : qx.ui.virtual.core.Scroller,
  include : [qx.ui.virtual.selection.MModel],
  implement : qx.data.controller.ISelection,
  construct : function(model){

    this.base(arguments, 0, 1, 20, 100);
    this._init();
    this.__defaultGroups = new qx.data.Array();
    this.initGroups(this.__defaultGroups);
    if(model != null){

      this.initModel(model);
    };
    this.initItemHeight();
  },
  properties : {
    appearance : {
      refine : true,
      init : "virtual-list"
    },
    focusable : {
      refine : true,
      init : true
    },
    width : {
      refine : true,
      init : 100
    },
    height : {
      refine : true,
      init : 200
    },
    model : {
      check : "qx.data.IListData",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      deferredInit : true
    },
    itemHeight : {
      check : "Integer",
      init : 25,
      apply : "_applyRowHeight",
      themeable : true
    },
    labelPath : {
      check : "String",
      apply : "_applyLabelPath",
      nullable : true
    },
    iconPath : {
      check : "String",
      apply : "_applyIconPath",
      nullable : true
    },
    groupLabelPath : {
      check : "String",
      apply : "_applyGroupLabelPath",
      nullable : true
    },
    labelOptions : {
      apply : "_applyLabelOptions",
      nullable : true
    },
    iconOptions : {
      apply : "_applyIconOptions",
      nullable : true
    },
    groupLabelOptions : {
      apply : "_applyGroupLabelOptions",
      nullable : true
    },
    delegate : {
      apply : "_applyDelegate",
      event : "changeDelegate",
      init : null,
      nullable : true
    },
    autoGrouping : {
      check : "Boolean",
      init : true
    },
    groups : {
      check : "qx.data.Array",
      event : "changeGroups",
      nullable : false,
      deferredInit : true
    }
  },
  members : {
    _background : null,
    _provider : null,
    _layer : null,
    __lookupTable : null,
    __lookupTableForGroup : null,
    __groupHashMap : null,
    __groupStringsUsed : false,
    __groupObjectsUsed : false,
    __defaultGroupUsed : false,
    __defaultGroups : null,
    refresh : function(){

      this.__buildUpLookupTable();
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "row-layer":
      control = new qx.ui.virtual.layer.Row(null, null);
      break;};
      return control || this.base(arguments, id);
    },
    _init : function(){

      this._provider = new qx.ui.list.provider.WidgetProvider(this);
      this.__lookupTable = [];
      this.__lookupTableForGroup = [];
      this.__groupHashMap = {
      };
      this.__groupStringsUsed = false;
      this.__groupObjectsUsed = false;
      this.__defaultGroupUsed = false;
      this.getPane().addListener("resize", this._onResize, this);
      this._initBackground();
      this._initLayer();
    },
    _initBackground : function(){

      this._background = this.getChildControl("row-layer");
      this.getPane().addLayer(this._background);
    },
    _initLayer : function(){

      this._layer = this._provider.createLayer();
      this.getPane().addLayer(this._layer);
    },
    _getDataFromRow : function(row){

      var data = null;
      var model = this.getModel();
      if(model == null){

        return null;
      };
      if(this._isGroup(row)){

        data = this.getGroups().getItem(this._lookupGroup(row));
      } else {

        data = model.getItem(this._lookup(row));
      };
      if(data != null){

        return data;
      } else {

        return null;
      };
    },
    _getLookupTable : function(){

      return this.__lookupTable;
    },
    _lookup : function(row){

      return this.__lookupTable[row];
    },
    _lookupGroup : function(row){

      return this.__lookupTableForGroup.indexOf(row);
    },
    _reverseLookup : function(index){

      if(index < 0){

        return -1;
      };
      return this.__lookupTable.indexOf(index);
    },
    _isGroup : function(row){

      return this._lookup(row) == -1;
    },
    _getSelectables : function(){

      return this.getModel();
    },
    _applyModel : function(value, old){

      if(value != null){

        value.addListener("changeLength", this._onModelChange, this);
      };
      if(old != null){

        old.removeListener("changeLength", this._onModelChange, this);
      };
      this._provider.removeBindings();
      this._onModelChange();
    },
    _applyRowHeight : function(value, old){

      this.getPane().getRowConfig().setDefaultItemSize(value);
    },
    _applyLabelPath : function(value, old){

      this._provider.setLabelPath(value);
    },
    _applyIconPath : function(value, old){

      this._provider.setIconPath(value);
    },
    _applyGroupLabelPath : function(value, old){

      this._provider.setGroupLabelPath(value);
    },
    _applyLabelOptions : function(value, old){

      this._provider.setLabelOptions(value);
    },
    _applyIconOptions : function(value, old){

      this._provider.setIconOptions(value);
    },
    _applyGroupLabelOptions : function(value, old){

      this._provider.setGroupLabelOptions(value);
    },
    _applyDelegate : function(value, old){

      this._provider.setDelegate(value);
      this.__buildUpLookupTable();
    },
    _onResize : function(e){

      this.getPane().getColumnConfig().setItemSize(0, e.getData().width);
    },
    _onModelChange : function(e){

      this.__buildUpLookupTable();
      this._applyDefaultSelection();
    },
    __updateRowCount : function(){

      this.getPane().getRowConfig().setItemCount(this.__lookupTable.length);
      this.getPane().fullUpdate();
    },
    __buildUpLookupTable : function(){

      this.__lookupTable = [];
      this.__lookupTableForGroup = [];
      this.__groupHashMap = {
      };
      if(this.isAutoGrouping()){

        this.getGroups().removeAll();
      };
      var model = this.getModel();
      if(model != null){

        this._runDelegateFilter(model);
        this._runDelegateSorter(model);
        this._runDelegateGroup(model);
      };
      this._updateSelection();
      this.__updateRowCount();
    },
    _runDelegateFilter : function(model){

      var filter = qx.util.Delegate.getMethod(this.getDelegate(), "filter");
      for(var i = 0,l = model.length;i < l;++i){

        if(filter == null || filter(model.getItem(i))){

          this.__lookupTable.push(i);
        };
      };
    },
    _runDelegateSorter : function(model){

      if(this.__lookupTable.length == 0){

        return;
      };
      var sorter = qx.util.Delegate.getMethod(this.getDelegate(), "sorter");
      if(sorter != null){

        this.__lookupTable.sort(function(a, b){

          return sorter(model.getItem(a), model.getItem(b));
        });
      };
    },
    _runDelegateGroup : function(model){

      var groupMethod = qx.util.Delegate.getMethod(this.getDelegate(), "group");
      if(groupMethod != null){

        for(var i = 0,l = this.__lookupTable.length;i < l;++i){

          var index = this.__lookupTable[i];
          var item = this.getModel().getItem(index);
          var group = groupMethod(item);
          this.__addGroup(group, index);
        };
        this.__lookupTable = this.__createLookupFromGroup();
      };
    },
    __addGroup : function(group, index){

      if(group == null){

        this.__defaultGroupUsed = true;
        group = "???";
      };
      var name = this.__getUniqueGroupName(group);
      if(this.__groupHashMap[name] == null){

        this.__groupHashMap[name] = [];
        if(this.isAutoGrouping()){

          this.getGroups().push(group);
        };
      };
      this.__groupHashMap[name].push(index);
    },
    __createLookupFromGroup : function(){

      this.__checkGroupStructure();
      var result = [];
      var row = 0;
      var groups = this.getGroups();
      for(var i = 0;i < groups.getLength();i++){

        var group = groups.getItem(i);
        result.push(-1);
        this.__lookupTableForGroup.push(row);
        row++;
        var key = this.__getUniqueGroupName(group);
        var groupMembers = this.__groupHashMap[key];
        if(groupMembers != null){

          for(var k = 0;k < groupMembers.length;k++){

            result.push(groupMembers[k]);
            row++;
          };
        };
      };
      return result;
    },
    __getUniqueGroupName : function(group){

      var name = null;
      if(!qx.lang.Type.isString(group)){

        var index = this.getGroups().indexOf(group);
        this.__groupObjectsUsed = true;
        name = "group";
        if(index == -1){

          name += this.getGroups().getLength();
        } else {

          name += index;
        };
      } else {

        this.__groupStringsUsed = true;
        var name = group;
      };
      return name;
    },
    __checkGroupStructure : function(){

      if(this.__groupObjectsUsed && this.__defaultGroupUsed || this.__groupObjectsUsed && this.__groupStringsUsed){

        throw new Error("GroupingTypeError: You can't mix 'Objects' and 'Strings' as" + " group identifier!");
      };
    }
  },
  destruct : function(){

    var model = this.getModel();
    if(model != null){

      model.removeListener("changeLength", this._onModelChange, this);
    };
    var pane = this.getPane();
    if(pane != null){

      pane.removeListener("resize", this._onResize, this);
    };
    this._background.dispose();
    this._provider.dispose();
    this._layer.dispose();
    this._background = this._provider = this._layer = this.__lookupTable = this.__lookupTableForGroup = this.__groupHashMap = null;
    if(this.__defaultGroups){

      this.__defaultGroups.dispose();
    };
  }
});

qx.Class.define("qx.ui.virtual.layer.AbstractBackground", {
  extend : qx.ui.virtual.layer.Abstract,
  construct : function(colorEven, colorOdd){

    this.base(arguments);
    if(colorEven){

      this.setColorEven(colorEven);
    };
    if(colorOdd){

      this.setColorOdd(colorOdd);
    };
    this.__customColors = {
    };
    this.__decorators = {
    };
  },
  properties : {
    colorEven : {
      nullable : true,
      check : "Color",
      apply : "_applyColorEven",
      themeable : true
    },
    colorOdd : {
      nullable : true,
      check : "Color",
      apply : "_applyColorOdd",
      themeable : true
    }
  },
  members : {
    __colorEven : null,
    __colorOdd : null,
    __customColors : null,
    __decorators : null,
    setColor : function(index, color){

      if(color){

        this.__customColors[index] = qx.theme.manager.Color.getInstance().resolve(color);
      } else {

        delete (this.__customColors[index]);
      };
    },
    clearCustomColors : function(){

      this.__customColors = {
      };
      this.updateLayerData();
    },
    getColor : function(index){

      var customColor = this.__customColors[index];
      if(customColor){

        return customColor;
      } else {

        return index % 2 == 0 ? this.__colorEven : this.__colorOdd;
      };
    },
    _applyColorEven : function(value, old){

      if(value){

        this.__colorEven = qx.theme.manager.Color.getInstance().resolve(value);
      } else {

        this.__colorEven = null;
      };
      this.updateLayerData();
    },
    _applyColorOdd : function(value, old){

      if(value){

        this.__colorOdd = qx.theme.manager.Color.getInstance().resolve(value);
      } else {

        this.__colorOdd = null;
      };
      this.updateLayerData();
    },
    setBackground : function(index, decorator){

      if(decorator){

        this.__decorators[index] = qx.theme.manager.Decoration.getInstance().resolve(decorator);
      } else {

        delete (this.__decorators[index]);
      };
      this.updateLayerData();
    },
    getBackground : function(index){

      return this.__decorators[index];
    }
  },
  destruct : function(){

    this.__customColors = this.__decorators = null;
  }
});

qx.Class.define("qx.ui.virtual.layer.Row", {
  extend : qx.ui.virtual.layer.AbstractBackground,
  properties : {
    appearance : {
      refine : true,
      init : "row-layer"
    }
  },
  members : {
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      var html = [];
      var width = qx.lang.Array.sum(columnSizes);
      var top = 0;
      var row = firstRow;
      var childIndex = 0;
      for(var y = 0;y < rowSizes.length;y++){

        var color = this.getColor(row);
        var backgroundColor = color ? "background-color:" + color + ";" : "";
        var decorator = this.getBackground(row);
        var styles = decorator ? qx.bom.element.Style.compile(decorator.getStyles()) : "";
        html.push("<div style='", "position: absolute;", "left: 0;", "top:", top, "px;", "height:", rowSizes[y], "px;", "width:", width, "px;", backgroundColor, styles, "'>", "</div>");
        childIndex++;
        top += rowSizes[y];
        row += 1;
      };
      var el = this.getContentElement().getDomElement();
      el.style.display = "none";
      el.innerHTML = html.join("");
      el.style.display = "block";
      this._width = width;
    },
    _updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      if(firstRow !== this.getFirstRow() || rowSizes.length !== this.getRowSizes().length || this._width < qx.lang.Array.sum(columnSizes)){

        this._fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
      };
    },
    setColor : function(index, color){

      this.base(arguments, index, color);
      if(this.__isRowRendered(index)){

        this.updateLayerData();
      };
    },
    setBackground : function(index, decorator){

      this.base(arguments, index, decorator);
      if(this.__isRowRendered(index)){

        this.updateLayerData();
      };
    },
    __isRowRendered : function(index){

      var firstRow = this.getFirstRow();
      var lastRow = firstRow + this.getRowSizes().length - 1;
      return index >= firstRow && index <= lastRow;
    }
  }
});

qx.Class.define("qx.ui.form.VirtualSelectBox", {
  extend : qx.ui.form.core.AbstractVirtualBox,
  implement : qx.data.controller.ISelection,
  construct : function(model){

    this.base(arguments, model);
    this._createChildControl("atom");
    this._createChildControl("spacer");
    this._createChildControl("arrow");
    this.addListener("pointerover", this._onPointerOver, this);
    this.addListener("pointerout", this._onPointerOut, this);
    this.__bindings = [];
    this.initSelection(this.getChildControl("dropdown").getSelection());
    this.__searchTimer = new qx.event.Timer(500);
    this.__searchTimer.addListener("interval", this.__preselect, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "virtual-selectbox"
    },
    width : {
      refine : true,
      init : 120
    },
    selection : {
      check : "qx.data.Array",
      event : "changeSelection",
      apply : "_applySelection",
      nullable : false,
      deferredInit : true
    }
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    __searchValue : "",
    __searchTimer : null,
    __bindings : null,
    syncWidget : function(jobs){

      this._removeBindings();
      this._addBindings();
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "spacer":
      control = new qx.ui.core.Spacer();
      this._add(control, {
        flex : 1
      });
      break;case "atom":
      control = new qx.ui.form.ListItem("");
      control.setCenter(false);
      control.setAnonymous(true);
      this._add(control, {
        flex : 1
      });
      break;case "arrow":
      control = new qx.ui.basic.Image();
      control.setAnonymous(true);
      this._add(control);
      break;};
      return control || this.base(arguments, id, hash);
    },
    _getAction : function(event){

      var keyIdentifier = event.getKeyIdentifier();
      var isOpen = this.getChildControl("dropdown").isVisible();
      var isModifierPressed = this._isModifierPressed(event);
      if(!isOpen && !isModifierPressed && (keyIdentifier === "Enter" || keyIdentifier === "Space")){

        return "open";
      } else if(isOpen && event.isPrintable()){

        return "search";
      } else {

        return this.base(arguments, event);
      };
    },
    _addBindings : function(){

      var atom = this.getChildControl("atom");
      var modelPath = this._getBindPath("selection", "");
      var id = this.bind(modelPath, atom, "model", null);
      this.__bindings.push(id);
      var labelSourcePath = this._getBindPath("selection", this.getLabelPath());
      id = this.bind(labelSourcePath, atom, "label", this.getLabelOptions());
      this.__bindings.push(id);
      if(this.getIconPath() != null){

        var iconSourcePath = this._getBindPath("selection", this.getIconPath());
        id = this.bind(iconSourcePath, atom, "icon", this.getIconOptions());
        this.__bindings.push(id);
      };
    },
    _removeBindings : function(){

      while(this.__bindings.length > 0){

        var id = this.__bindings.pop();
        this.removeBinding(id);
      };
    },
    _handlePointer : function(event){

      this.base(arguments, event);
      var type = event.getType();
      if(type === "tap"){

        this.toggle();
      };
    },
    _handleKeyboard : function(event){

      var action = this._getAction(event);
      switch(action){case "search":
      this.__searchValue += this.__convertKeyIdentifier(event.getKeyIdentifier());
      this.__searchTimer.restart();
      break;default:
      this.base(arguments, event);
      break;};
    },
    _onPointerOver : function(event){

      if(!this.isEnabled() || event.getTarget() !== this){

        return;
      };
      if(this.hasState("abandoned")){

        this.removeState("abandoned");
        this.addState("pressed");
      };
      this.addState("hovered");
    },
    _onPointerOut : function(event){

      if(!this.isEnabled() || event.getTarget() !== this){

        return;
      };
      this.removeState("hovered");
      if(this.hasState("pressed")){

        this.removeState("pressed");
        this.addState("abandoned");
      };
    },
    _applySelection : function(value, old){

      this.getChildControl("dropdown").setSelection(value);
      qx.ui.core.queue.Widget.add(this);
    },
    __preselect : function(){

      this.__searchTimer.stop();
      var searchValue = this.__searchValue;
      if(searchValue == null || searchValue == ""){

        return;
      };
      var model = this.getModel();
      var list = this.getChildControl("dropdown").getChildControl("list");
      var selection = list.getSelection();
      var length = list._getLookupTable().length;
      var startIndex = model.indexOf(selection.getItem(0));
      var startRow = list._reverseLookup(startIndex);
      for(var i = 1;i <= length;i++){

        var row = (i + startRow) % length;
        var item = model.getItem(list._lookup(row));
        var value = item;
        if(this.getLabelPath() != null){

          value = qx.data.SingleValueBinding.resolvePropertyChain(item, this.getLabelPath());
          var labelOptions = this.getLabelOptions();
          if(labelOptions != null){

            var converter = qx.util.Delegate.getMethod(labelOptions, "converter");
            if(converter != null){

              value = converter(value, item);
            };
          };
        };
        if(qx.lang.String.startsWith(value.toLowerCase(), searchValue.toLowerCase())){

          selection.push(item);
          break;
        };
      };
      this.__searchValue = "";
    },
    __convertKeyIdentifier : function(keyIdentifier){

      if(keyIdentifier === "Space"){

        return " ";
      } else {

        return keyIdentifier;
      };
    }
  },
  destruct : function(){

    this._removeBindings();
    this.__searchTimer.removeListener("interval", this.__preselect, this);
    this.__searchTimer.dispose();
    this.__searchTimer = null;
  }
});

qx.Bootstrap.define("qx.event.handler.OrientationCore", {
  extend : Object,
  construct : function(targetWindow, emitter){

    this._window = targetWindow || window;
    this.__emitter = emitter;
    this._initObserver();
  },
  members : {
    __emitter : null,
    _window : null,
    _currentOrientation : null,
    __onNativeWrapper : null,
    __nativeEventType : null,
    _initObserver : function(){

      this.__onNativeWrapper = qx.lang.Function.listener(this._onNative, this);
      this.__nativeEventType = qx.bom.Event.supportsEvent(this._window, "orientationchange") ? "orientationchange" : "resize";
      qx.bom.Event.addNativeListener(this._window, this.__nativeEventType, this.__onNativeWrapper);
    },
    _stopObserver : function(){

      qx.bom.Event.removeNativeListener(this._window, this.__nativeEventType, this.__onNativeWrapper);
    },
    _onNative : function(domEvent){

      var orientation = qx.bom.Viewport.getOrientation();
      if(this._currentOrientation != orientation){

        this._currentOrientation = orientation;
        var mode = qx.bom.Viewport.isLandscape() ? "landscape" : "portrait";
        domEvent._orientation = orientation;
        domEvent._mode = mode;
        if(this.__emitter){

          this.__emitter.emit("orientationchange", domEvent);
        };
      };
    }
  },
  destruct : function(){

    this._stopObserver();
    this.__manager = this.__emitter = null;
  }
});

qx.Class.define("qx.data.controller.website.List", {
  extend : qx.core.Object,
  construct : function(model, target, templateId){

    this.base(arguments);
    if(templateId != null){

      this.setTemplateId(templateId);
    };
    if(model != null){

      this.setModel(model);
    };
    if(target != null){

      this.setTarget(target);
    };
  },
  properties : {
    model : {
      check : "Array",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      dereference : true
    },
    target : {
      check : "Element",
      apply : "_applyTarget",
      event : "changeTarget",
      nullable : true,
      init : null,
      dereference : true
    },
    templateId : {
      apply : "_applyTemplateId",
      event : "changeTemplateId",
      nullable : true,
      init : null
    },
    delegate : {
      apply : "_applyDelegate",
      event : "changeDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    __changeModelListenerId : null,
    __changeBubbleModelListenerId : null,
    _applyModel : function(value, old){

      if(old != undefined){

        if(this.__changeModelListenerId != undefined){

          old.removeListenerById(this.__changeModelListenerId);
        };
        if(this.__changeBubbleModelListenerId != undefined){

          old.removeListenerById(this.__changeBubbleModelListenerId);
        };
      };
      if(value != null){

        if(value instanceof qx.core.Object){

          this.__changeModelListenerId = value.addListener("change", this.update, this);
          this.__changeBubbleModelListenerId = value.addListener("changeBubble", this.update, this);
        };
      } else {

        var target = this.getTarget();
        if(target != null){

          this.__emptyTarget();
        };
      };
      this.update();
    },
    _applyTarget : function(value, old){

      this.update();
    },
    _applyTemplateId : function(value, old){

      this.update();
    },
    _applyDelegate : function(value, old){

      this.update();
    },
    __emptyTarget : function(){

      var target = this.getTarget();
      for(var i = target.children.length - 1;i >= 0;i--){

        var el = target.children[i];
        el.$$model = null;
        qx.dom.Element.remove(el);
      };
      target.innerHTML = "";
    },
    update : function(){

      var target = this.getTarget();
      var data = this.getModel();
      if(data instanceof qx.core.Object){

        data = qx.util.Serializer.toNativeObject(this.getModel());
      };
      var templateId = this.getTemplateId();
      if(target == null || data == null || templateId == null){

        return;
      };
      this.__emptyTarget();
      var configureItem = this.getDelegate() && this.getDelegate().configureItem;
      var filter = this.getDelegate() && this.getDelegate().filter;
      var createItem = this.getDelegate() && this.getDelegate().createItem;
      for(var i = 0;i < data.length;i++){

        var entry = data[i];
        if(filter && !filter(entry)){

          continue;
        };
        if(typeof entry != "object"){

          entry = {
            "." : data[i]
          };
        };
        var template;
        if(createItem){

          template = createItem(data[i]);
        } else {

          template = qx.bom.Template.get(templateId, entry);
        };
        if(qx.core.Environment.get("qx.debug")){

          this.assertNotNull(template);
        };
        if(configureItem){

          configureItem(template);
        };
        var model = this.getModel();
        var item = model.getItem ? model.getItem(i) : model[i];
        template.$$model = item;
        qx.dom.Element.insertEnd(template, target);
      };
    }
  }
});

qx.Class.define("qx.util.Serializer", {
  statics : {
    toUriParameter : function(object, qxSerializer, dateFormat){

      var result = "";
      var properties = qx.util.PropertyUtil.getAllProperties(object.constructor);
      for(var name in properties){

        if(properties[name].group != undefined){

          continue;
        };
        var value = object["get" + qx.lang.String.firstUp(name)]();
        if(qx.lang.Type.isArray(value)){

          var isdataArray = qx.data && qx.data.IListData && qx.Class.hasInterface(value && value.constructor, qx.data.IListData);
          for(var i = 0;i < value.length;i++){

            var valueAtI = isdataArray ? value.getItem(i) : value[i];
            result += this.__toUriParameter(name, valueAtI, qxSerializer);
          };
        } else if(qx.lang.Type.isDate(value) && dateFormat != null){

          result += this.__toUriParameter(name, dateFormat.format(value), qxSerializer);
        } else {

          result += this.__toUriParameter(name, value, qxSerializer);
        };
      };
      return result.substring(0, result.length - 1);
    },
    __toUriParameter : function(name, value, qxSerializer){

      if(value && value.$$type == "Class"){

        value = value.classname;
      };
      if(value && (value.$$type == "Interface" || value.$$type == "Mixin")){

        value = value.name;
      };
      if(value instanceof qx.core.Object && qxSerializer != null){

        var encValue = encodeURIComponent(qxSerializer(value));
        if(encValue === undefined){

          var encValue = encodeURIComponent(value);
        };
      } else {

        var encValue = encodeURIComponent(value);
      };
      return encodeURIComponent(name) + "=" + encValue + "&";
    },
    toNativeObject : function(object, qxSerializer, dateFormat){

      var result;
      if(object == null){

        return null;
      };
      if(qx.data && qx.data.IListData && qx.Class.hasInterface(object.constructor, qx.data.IListData)){

        result = [];
        for(var i = 0;i < object.getLength();i++){

          result.push(qx.util.Serializer.toNativeObject(object.getItem(i), qxSerializer, dateFormat));
        };
        return result;
      };
      if(qx.lang.Type.isArray(object)){

        result = [];
        for(var i = 0;i < object.length;i++){

          result.push(qx.util.Serializer.toNativeObject(object[i], qxSerializer, dateFormat));
        };
        return result;
      };
      if(object.$$type == "Class"){

        return object.classname;
      };
      if(object.$$type == "Interface" || object.$$type == "Mixin"){

        return object.name;
      };
      if(object instanceof qx.core.Object){

        if(qxSerializer != null){

          var returnValue = qxSerializer(object);
          if(returnValue != undefined){

            return returnValue;
          };
        };
        result = {
        };
        var properties = qx.util.PropertyUtil.getAllProperties(object.constructor);
        for(var name in properties){

          if(properties[name].group != undefined){

            continue;
          };
          var value = object["get" + qx.lang.String.firstUp(name)]();
          result[name] = qx.util.Serializer.toNativeObject(value, qxSerializer, dateFormat);
        };
        return result;
      };
      if(qx.lang.Type.isDate(object) && dateFormat != null){

        return dateFormat.format(object);
      };
      if(qx.locale && qx.locale.LocalizedString && object instanceof qx.locale.LocalizedString){

        return object.toString();
      };
      if(qx.lang.Type.isObject(object)){

        result = {
        };
        for(var key in object){

          result[key] = qx.util.Serializer.toNativeObject(object[key], qxSerializer, dateFormat);
        };
        return result;
      };
      return object;
    },
    toJson : function(object, qxSerializer, dateFormat){

      var result = "";
      if(object == null){

        return "null";
      };
      if(qx.data && qx.data.IListData && qx.Class.hasInterface(object.constructor, qx.data.IListData)){

        result += "[";
        for(var i = 0;i < object.getLength();i++){

          result += qx.util.Serializer.toJson(object.getItem(i), qxSerializer, dateFormat) + ",";
        };
        if(result != "["){

          result = result.substring(0, result.length - 1);
        };
        return result + "]";
      };
      if(qx.lang.Type.isArray(object)){

        result += "[";
        for(var i = 0;i < object.length;i++){

          result += qx.util.Serializer.toJson(object[i], qxSerializer, dateFormat) + ",";
        };
        if(result != "["){

          result = result.substring(0, result.length - 1);
        };
        return result + "]";
      };
      if(object.$$type == "Class"){

        return '"' + object.classname + '"';
      };
      if(object.$$type == "Interface" || object.$$type == "Mixin"){

        return '"' + object.name + '"';
      };
      if(object instanceof qx.core.Object){

        if(qxSerializer != null){

          var returnValue = qxSerializer(object);
          if(returnValue != undefined){

            return '"' + returnValue + '"';
          };
        };
        result += "{";
        var properties = qx.util.PropertyUtil.getAllProperties(object.constructor);
        for(var name in properties){

          if(properties[name].group != undefined){

            continue;
          };
          var value = object["get" + qx.lang.String.firstUp(name)]();
          result += '"' + name + '":' + qx.util.Serializer.toJson(value, qxSerializer, dateFormat) + ",";
        };
        if(result != "{"){

          result = result.substring(0, result.length - 1);
        };
        return result + "}";
      };
      if(qx.locale && qx.locale.LocalizedString && object instanceof qx.locale.LocalizedString){

        object = object.toString();
      };
      if(qx.lang.Type.isDate(object) && dateFormat != null){

        return '"' + dateFormat.format(object) + '"';
      };
      if(qx.lang.Type.isObject(object)){

        result += "{";
        for(var key in object){

          result += '"' + key + '":' + qx.util.Serializer.toJson(object[key], qxSerializer, dateFormat) + ",";
        };
        if(result != "{"){

          result = result.substring(0, result.length - 1);
        };
        return result + "}";
      };
      if(qx.lang.Type.isString(object)){

        object = object.replace(/([\\])/g, '\\\\');
        object = object.replace(/(["])/g, '\\"');
        object = object.replace(/([\r])/g, '\\r');
        object = object.replace(/([\f])/g, '\\f');
        object = object.replace(/([\n])/g, '\\n');
        object = object.replace(/([\t])/g, '\\t');
        object = object.replace(/([\b])/g, '\\b');
        return '"' + object + '"';
      };
      if(qx.lang.Type.isDate(object) || qx.lang.Type.isRegExp(object)){

        return '"' + object + '"';
      };
      return object + "";
    }
  }
});

qx.Bootstrap.define("qx.bom.Template", {
  statics : {
    version : null,
    render : null,
    renderToNode : function(template, view, partials){

      var renderedTmpl = this.render(template, view, partials);
      return this._createNodeFromTemplate(renderedTmpl);
    },
    get : function(id, view, partials){

      var template = document.getElementById(id);
      return this.renderToNode(template.innerHTML, view, partials);
    },
    _createNodeFromTemplate : function(template){

      if(template.search(/<|>/) === -1){

        return document.createTextNode(template);
      };
      var helper = qx.dom.Element.create("div");
      helper.innerHTML = template;
      return helper.children[0];
    }
  }
});
(function(){

  var exports;
  var define;
  (function(root, factory){

    if(typeof exports === "object" && exports){

      factory(exports);
    } else {

      var mustache = {
      };
      factory(mustache);
      if(typeof define === "function" && define.amd){

        define(mustache);
      } else {

        root.Mustache = mustache;
      };
    };
  }(this, function(mustache){

    var whiteRe = /\s*/;
    var spaceRe = /\s+/;
    var nonSpaceRe = /\S/;
    var eqRe = /\s*=/;
    var curlyRe = /\s*\}/;
    var tagRe = /#|\^|\/|>|\{|&|=|!/;
    var RegExp_test = RegExp.prototype.test;
    function testRegExp(re, string){

      return RegExp_test.call(re, string);
    };
    function isWhitespace(string){

      return !testRegExp(nonSpaceRe, string);
    };
    var Object_toString = Object.prototype.toString;
    var isArray = Array.isArray || function(object){

      return Object_toString.call(object) === '[object Array]';
    };
    function isFunction(object){

      return typeof object === 'function';
    };
    function escapeRegExp(string){

      return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
    };
    var entityMap = {
      "&" : "&amp;",
      "<" : "&lt;",
      ">" : "&gt;",
      '"' : '&quot;',
      "'" : '&#39;',
      "/" : '&#x2F;'
    };
    function escapeHtml(string){

      return String(string).replace(/[&<>"'\/]/g, function(s){

        return entityMap[s];
      });
    };
    function escapeTags(tags){

      if(!isArray(tags) || tags.length !== 2){

        throw new Error('Invalid tags: ' + tags);
      };
      return [new RegExp(escapeRegExp(tags[0]) + "\\s*"), new RegExp("\\s*" + escapeRegExp(tags[1]))];
    };
    function parseTemplate(template, tags){

      tags = tags || mustache.tags;
      template = template || '';
      if(typeof tags === 'string'){

        tags = tags.split(spaceRe);
      };
      var tagRes = escapeTags(tags);
      var scanner = new Scanner(template);
      var sections = [];
      var tokens = [];
      var spaces = [];
      var hasTag = false;
      var nonSpace = false;
      function stripSpace(){

        if(hasTag && !nonSpace){

          while(spaces.length){

            delete tokens[spaces.pop()];
          };
        } else {

          spaces = [];
        };
        hasTag = false;
        nonSpace = false;
      };
      var start,type,value,chr,token,openSection;
      while(!scanner.eos()){

        start = scanner.pos;
        value = scanner.scanUntil(tagRes[0]);
        if(value){

          for(var i = 0,len = value.length;i < len;++i){

            chr = value.charAt(i);
            if(isWhitespace(chr)){

              spaces.push(tokens.length);
            } else {

              nonSpace = true;
            };
            tokens.push(['text', chr, start, start + 1]);
            start += 1;
            if(chr === '\n'){

              stripSpace();
            };
          };
        };
        if(!scanner.scan(tagRes[0]))break;
        hasTag = true;
        type = scanner.scan(tagRe) || 'name';
        scanner.scan(whiteRe);
        if(type === '='){

          value = scanner.scanUntil(eqRe);
          scanner.scan(eqRe);
          scanner.scanUntil(tagRes[1]);
        } else if(type === '{'){

          value = scanner.scanUntil(new RegExp('\\s*' + escapeRegExp('}' + tags[1])));
          scanner.scan(curlyRe);
          scanner.scanUntil(tagRes[1]);
          type = '&';
        } else {

          value = scanner.scanUntil(tagRes[1]);
        };
        if(!scanner.scan(tagRes[1])){

          throw new Error('Unclosed tag at ' + scanner.pos);
        };
        token = [type, value, start, scanner.pos];
        tokens.push(token);
        if(type === '#' || type === '^'){

          sections.push(token);
        } else if(type === '/'){

          openSection = sections.pop();
          if(!openSection){

            throw new Error('Unopened section "' + value + '" at ' + start);
          };
          if(openSection[1] !== value){

            throw new Error('Unclosed section "' + openSection[1] + '" at ' + start);
          };
        } else if(type === 'name' || type === '{' || type === '&'){

          nonSpace = true;
        } else if(type === '='){

          tagRes = escapeTags(tags = value.split(spaceRe));
        };;;
      };
      openSection = sections.pop();
      if(openSection){

        throw new Error('Unclosed section "' + openSection[1] + '" at ' + scanner.pos);
      };
      return nestTokens(squashTokens(tokens));
    };
    function squashTokens(tokens){

      var squashedTokens = [];
      var token,lastToken;
      for(var i = 0,len = tokens.length;i < len;++i){

        token = tokens[i];
        if(token){

          if(token[0] === 'text' && lastToken && lastToken[0] === 'text'){

            lastToken[1] += token[1];
            lastToken[3] = token[3];
          } else {

            squashedTokens.push(token);
            lastToken = token;
          };
        };
      };
      return squashedTokens;
    };
    function nestTokens(tokens){

      var nestedTokens = [];
      var collector = nestedTokens;
      var sections = [];
      var token,section;
      for(var i = 0,len = tokens.length;i < len;++i){

        token = tokens[i];
        switch(token[0]){case '#':case '^':
        collector.push(token);
        sections.push(token);
        collector = token[4] = [];
        break;case '/':
        section = sections.pop();
        section[5] = token[2];
        collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;
        break;default:
        collector.push(token);};
      };
      return nestedTokens;
    };
    function Scanner(string){

      this.string = string;
      this.tail = string;
      this.pos = 0;
    };
    Scanner.prototype.eos = function(){

      return this.tail === "";
    };
    Scanner.prototype.scan = function(re){

      var match = this.tail.match(re);
      if(match && match.index === 0){

        var string = match[0];
        this.tail = this.tail.substring(string.length);
        this.pos += string.length;
        return string;
      };
      return "";
    };
    Scanner.prototype.scanUntil = function(re){

      var index = this.tail.search(re),match;
      switch(index){case -1:
      match = this.tail;
      this.tail = "";
      break;case 0:
      match = "";
      break;default:
      match = this.tail.substring(0, index);
      this.tail = this.tail.substring(index);};
      this.pos += match.length;
      return match;
    };
    function Context(view, parentContext){

      this.view = view == null ? {
      } : view;
      this.cache = {
        '.' : this.view
      };
      this.parent = parentContext;
    };
    Context.prototype.push = function(view){

      return new Context(view, this);
    };
    Context.prototype.lookup = function(name){

      var value;
      if(name in this.cache){

        value = this.cache[name];
      } else {

        var context = this;
        while(context){

          if(name.indexOf('.') > 0){

            value = context.view;
            var names = name.split('.'),i = 0;
            while(value != null && i < names.length){

              value = value[names[i++]];
            };
          } else {

            value = context.view[name];
          };
          if(value != null)break;
          context = context.parent;
        };
        this.cache[name] = value;
      };
      if(isFunction(value)){

        value = value.call(this.view);
      };
      return value;
    };
    function Writer(){

      this.cache = {
      };
    };
    Writer.prototype.clearCache = function(){

      this.cache = {
      };
    };
    Writer.prototype.parse = function(template, tags){

      var cache = this.cache;
      var tokens = cache[template];
      if(tokens == null){

        tokens = cache[template] = parseTemplate(template, tags);
      };
      return tokens;
    };
    Writer.prototype.render = function(template, view, partials){

      var tokens = this.parse(template);
      var context = (view instanceof Context) ? view : new Context(view);
      return this.renderTokens(tokens, context, partials, template);
    };
    Writer.prototype.renderTokens = function(tokens, context, partials, originalTemplate){

      var buffer = '';
      var self = this;
      function subRender(template){

        return self.render(template, context, partials);
      };
      var token,value;
      for(var i = 0,len = tokens.length;i < len;++i){

        token = tokens[i];
        switch(token[0]){case '#':
        value = context.lookup(token[1]);
        if(!value)continue;
        if(isArray(value)){

          for(var j = 0,jlen = value.length;j < jlen;++j){

            buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);
          };
        } else if(typeof value === 'object' || typeof value === 'string'){

          buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);
        } else if(isFunction(value)){

          if(typeof originalTemplate !== 'string'){

            throw new Error('Cannot use higher-order sections without the original template');
          };
          value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);
          if(value != null)buffer += value;
        } else {

          buffer += this.renderTokens(token[4], context, partials, originalTemplate);
        };;
        break;case '^':
        value = context.lookup(token[1]);
        if(!value || (isArray(value) && value.length === 0)){

          buffer += this.renderTokens(token[4], context, partials, originalTemplate);
        };
        break;case '>':
        if(!partials)continue;
        value = isFunction(partials) ? partials(token[1]) : partials[token[1]];
        if(value != null)buffer += this.renderTokens(this.parse(value), context, partials, value);
        break;case '&':
        value = context.lookup(token[1]);
        if(value != null)buffer += value;
        break;case 'name':
        value = context.lookup(token[1]);
        if(value != null)buffer += mustache.escape(value);
        break;case 'text':
        buffer += token[1];
        break;};
      };
      return buffer;
    };
    mustache.name = "mustache.js";
    mustache.version = "0.8.1";
    mustache.tags = ["{{", "}}"];
    var defaultWriter = new Writer();
    mustache.clearCache = function(){

      return defaultWriter.clearCache();
    };
    mustache.parse = function(template, tags){

      return defaultWriter.parse(template, tags);
    };
    mustache.render = function(template, view, partials){

      return defaultWriter.render(template, view, partials);
    };
    mustache.to_html = function(template, view, partials, send){

      var result = mustache.render(template, view, partials);
      if(isFunction(send)){

        send(result);
      } else {

        return result;
      };
    };
    mustache.escape = escapeHtml;
    mustache.Scanner = Scanner;
    mustache.Context = Context;
    mustache.Writer = Writer;
  }));
  qx.bom.Template.version = this.Mustache.version;
  qx.bom.Template.render = this.Mustache.render;
}).call({
});

qx.Interface.define("qx.ui.mobile.container.INavigation", {
  members : {
    getTitleWidget : function(){
    },
    getLeftContainer : function(){
    },
    getRightContainer : function(){
    }
  }
});

qx.Interface.define("qx.data.marshal.IMarshaler", {
  members : {
    toClass : function(data, includeBubbleEvents){
    },
    toModel : function(data){
    }
  }
});

qx.Class.define("qx.data.marshal.Json", {
  extend : qx.core.Object,
  implement : [qx.data.marshal.IMarshaler],
  construct : function(delegate){

    this.base(arguments);
    this.__delegate = delegate;
  },
  statics : {
    $$instance : null,
    createModel : function(data, includeBubbleEvents){

      if(this.$$instance === null){

        this.$$instance = new qx.data.marshal.Json();
      };
      this.$$instance.toClass(data, includeBubbleEvents);
      return this.$$instance.toModel(data);
    }
  },
  members : {
    __delegate : null,
    __jsonToHash : function(data){

      return Object.keys(data).sort().join('"');
    },
    toClass : function(data, includeBubbleEvents){

      this.__toClass(data, includeBubbleEvents, null, 0);
    },
    __toClass : function(data, includeBubbleEvents, parentProperty, depth){

      if(!qx.lang.Type.isObject(data) || !!data.$$isString || data instanceof qx.core.Object){

        if(data instanceof Array || qx.Bootstrap.getClass(data) == "Array"){

          for(var i = 0;i < data.length;i++){

            this.__toClass(data[i], includeBubbleEvents, parentProperty + "[" + i + "]", depth + 1);
          };
        };
        return;
      };
      var hash = this.__jsonToHash(data);
      if(this.__ignore(hash, parentProperty, depth)){

        return;
      };
      for(var key in data){

        this.__toClass(data[key], includeBubbleEvents, key, depth + 1);
      };
      if(qx.Class.isDefined("qx.data.model." + hash)){

        return;
      };
      if(this.__delegate && this.__delegate.getModelClass && this.__delegate.getModelClass(hash, data, parentProperty, depth) != null){

        return;
      };
      var properties = {
      };
      var members = {
        __disposeItem : this.__disposeItem
      };
      for(var key in data){

        if(this.__delegate && this.__delegate.getPropertyMapping){

          key = this.__delegate.getPropertyMapping(key, hash);
        };
        key = key.replace(/-|\.|\s+/g, "");
        if(qx.core.Environment.get("qx.debug")){

          this.assertTrue((/^[$0-9A-Za-z_]*$/).test(key), "The key '" + key + "' is not a valid JavaScript identifier.");
        };
        properties[key] = {
        };
        properties[key].nullable = true;
        properties[key].event = "change" + qx.lang.String.firstUp(key);
        if(includeBubbleEvents){

          properties[key].apply = "_applyEventPropagation";
        };
        if(this.__delegate && this.__delegate.getValidationRule){

          var rule = this.__delegate.getValidationRule(hash, key);
          if(rule){

            properties[key].validate = "_validate" + key;
            members["_validate" + key] = rule;
          };
        };
      };
      if(this.__delegate && this.__delegate.getModelSuperClass){

        var superClass = this.__delegate.getModelSuperClass(hash, parentProperty, depth) || qx.core.Object;
      } else {

        var superClass = qx.core.Object;
      };
      var mixins = [];
      if(this.__delegate && this.__delegate.getModelMixins){

        var delegateMixins = this.__delegate.getModelMixins(hash, parentProperty, depth);
        if(!qx.lang.Type.isArray(delegateMixins)){

          if(delegateMixins != null){

            mixins = [delegateMixins];
          };
        } else {

          mixins = delegateMixins;
        };
      };
      if(includeBubbleEvents){

        mixins.push(qx.data.marshal.MEventBubbling);
      };
      var newClass = {
        extend : superClass,
        include : mixins,
        properties : properties,
        members : members,
        destruct : this.__disposeProperties
      };
      qx.Class.define("qx.data.model." + hash, newClass);
    },
    __disposeProperties : function(){

      var properties = qx.util.PropertyUtil.getAllProperties(this.constructor);
      for(var desc in properties){

        this.__disposeItem(this.get(properties[desc].name));
      };
    },
    __disposeItem : function(item){

      if(!(item instanceof qx.core.Object)){

        return;
      };
      if(item.isDisposed()){

        return;
      };
      item.dispose();
    },
    __createInstance : function(hash, data, parentProperty, depth){

      var delegateClass;
      if(this.__delegate && this.__delegate.getModelClass){

        delegateClass = this.__delegate.getModelClass(hash, data, parentProperty, depth);
      };
      if(delegateClass != null){

        return (new delegateClass());
      } else {

        var className = "qx.data.model." + hash;
        var clazz = qx.Class.getByName(className);
        if(!clazz){

          throw new Error("Class '" + className + "' could not be found.");
        };
        return (new clazz());
      };
    },
    __ignore : function(hash, parentProperty, depth){

      var del = this.__delegate;
      return del && del.ignore && del.ignore(hash, parentProperty, depth);
    },
    toModel : function(data){

      return this.__toModel(data, null, 0);
    },
    __toModel : function(data, parentProperty, depth){

      var isObject = qx.lang.Type.isObject(data);
      var isArray = data instanceof Array || qx.Bootstrap.getClass(data) == "Array";
      if((!isObject && !isArray) || !!data.$$isString || data instanceof qx.core.Object){

        return data;
      } else if(this.__ignore(this.__jsonToHash(data), parentProperty, depth)){

        return data;
      } else if(isArray){

        var array = new qx.data.Array();
        array.setAutoDisposeItems(true);
        for(var i = 0;i < data.length;i++){

          array.push(this.__toModel(data[i], parentProperty + "[" + i + "]", depth + 1));
        };
        return array;
      } else if(isObject){

        var hash = this.__jsonToHash(data);
        var model = this.__createInstance(hash, data, parentProperty, depth);
        for(var key in data){

          var propertyName = key;
          if(this.__delegate && this.__delegate.getPropertyMapping){

            propertyName = this.__delegate.getPropertyMapping(key, hash);
          };
          var propertyNameReplaced = propertyName.replace(/-|\.|\s+/g, "");
          if((qx.core.Environment.get("qx.debug")) && qx.core.Environment.get("qx.debug.databinding")){

            if(propertyNameReplaced != propertyName){

              this.warn("The model contained an illegal name: '" + key + "'. Replaced it with '" + propertyName + "'.");
            };
          };
          propertyName = propertyNameReplaced;
          var setterName = "set" + qx.lang.String.firstUp(propertyName);
          if(model[setterName]){

            model[setterName](this.__toModel(data[key], key, depth + 1));
          };
        };
        return model;
      };;;
      throw new Error("Unsupported type!");
    }
  },
  destruct : function(){

    this.__delegate = null;
  }
});

qx.Class.define("qx.ui.virtual.selection.CellRectangle", {
  extend : qx.ui.virtual.selection.Abstract,
  members : {
    _getItemCount : function(){

      return this._pane.getRowConfig().getItemCount() * this._pane.getColumnConfig().getItemCount();
    },
    _getSelectableFromPointerEvent : function(event){

      var cell = this._pane.getCellAtPosition(event.getDocumentLeft(), event.getDocumentTop());
      if(!cell){

        return null;
      };
      return this._isSelectable(cell) ? cell : null;
    },
    getSelectables : function(all){

      var selectables = [];
      var rowCount = this._pane.getRowConfig().getItemCount();
      var columnCount = this._pane.getColumnConfig().getItemCount();
      for(var row = 0;row < rowCount;row++){

        for(var column = 0;column < columnCount;column++){

          var cell = {
            row : row,
            column : column
          };
          if(this._isSelectable(cell)){

            selectables.push(cell);
          };
        };
      };
      return selectables;
    },
    _getSelectableRange : function(item1, item2){

      var selectables = [];
      var minRow = Math.min(item1.row, item2.row);
      var maxRow = Math.max(item1.row, item2.row);
      var minColumn = Math.min(item1.column, item2.column);
      var maxColumn = Math.max(item1.column, item2.column);
      for(var row = minRow;row <= maxRow;row++){

        for(var column = minColumn;column <= maxColumn;column++){

          var cell = {
            row : row,
            column : column
          };
          if(this._isSelectable(cell)){

            selectables.push(cell);
          };
        };
      };
      return selectables;
    },
    _getFirstSelectable : function(){

      var rowCount = this._pane.getRowConfig().getItemCount();
      var columnCount = this._pane.getColumnConfig().getItemCount();
      for(var row = 0;row < rowCount;row++){

        for(var column = 0;column < columnCount;column++){

          var cell = {
            row : row,
            column : column
          };
          if(this._isSelectable(cell)){

            return cell;
          };
        };
      };
      return null;
    },
    _getLastSelectable : function(){

      var rowCount = this._pane.getRowConfig().getItemCount();
      var columnCount = this._pane.getColumnConfig().getItemCount();
      for(var column = columnCount - 1;column >= 0;column--){

        for(var row = rowCount - 1;row >= 0;row--){

          var cell = {
            row : row,
            column : column
          };
          if(this._isSelectable(cell)){

            return cell;
          };
        };
      };
      return null;
    },
    _getRelatedSelectable : function(item, relation){

      var cell = {
        row : item.row,
        column : item.column
      };
      switch(relation){case "above":
      for(var row = item.row - 1;row >= 0;row--){

        cell.row = row;
        if(this._isSelectable(cell)){

          return cell;
        };
      };
      break;case "under":
      var rowCount = this._pane.getRowConfig().getItemCount();
      for(var row = item.row + 1;row < rowCount;row++){

        cell.row = row;
        if(this._isSelectable(cell)){

          return cell;
        };
      };
      break;case "left":
      for(var column = item.column - 1;column >= 0;column--){

        cell.column = column;
        if(this._isSelectable(cell)){

          return cell;
        };
      };
      break;case "right":
      var columnCount = this._pane.getColumnConfig().getItemCount();
      for(var column = item.column + 1;column < columnCount;column++){

        cell.column = column;
        if(this._isSelectable(cell)){

          return cell;
        };
      };
      break;};
      return null;
    },
    _getPage : function(lead, up){

      if(up){

        return this._getFirstSelectable();
      } else {

        return this._getLastSelectable();
      };
    },
    _selectableToHashCode : function(item){

      return item.column + "x" + item.row;
    },
    _scrollItemIntoView : function(item){

      this._pane.scrollCellIntoView(item.column, item.row);
    },
    _getSelectableLocationX : function(item){

      var columnConfig = this._pane.getColumnConfig();
      var itemLeft = columnConfig.getItemPosition(item.column);
      var itemRight = itemLeft + columnConfig.getItemSize(item.column) - 1;
      return {
        left : itemLeft,
        right : itemRight
      };
    },
    _getSelectableLocationY : function(item){

      var rowConfig = this._pane.getRowConfig();
      var itemTop = rowConfig.getItemPosition(item.row);
      var itemBottom = itemTop + rowConfig.getItemSize(item.row) - 1;
      return {
        top : itemTop,
        bottom : itemBottom
      };
    }
  }
});

qx.Class.define("qx.ui.virtual.selection.CellLines", {
  extend : qx.ui.virtual.selection.CellRectangle,
  members : {
    _getSelectableRange : function(item1, item2){

      var selectables = [];
      var columnCount = this._pane.getColumnConfig().getItemCount();
      if(item1.row < item2.row || item1.row == item2.row && item1.column < item2.column){

        var start = item1.row * columnCount + item1.column;
        var end = item2.row * columnCount + item2.column;
      } else {

        var start = item2.row * columnCount + item2.column;
        var end = item1.row * columnCount + item1.column;
      };
      for(var i = start;i <= end;i++){

        var cell = {
          row : Math.floor(i / columnCount),
          column : i % columnCount
        };
        if(this._isSelectable(cell)){

          selectables.push(cell);
        };
      };
      return selectables;
    }
  }
});

qx.Class.define("qx.dev.unit.TestFunction", {
  extend : qx.core.Object,
  construct : function(testCase, methodName, testFunction){

    if(testFunction){

      this.setTestFunction(testFunction);
    };
    if(testCase){

      this.setClassName(testCase.classname);
      this.setTestClass(testCase);
    };
    this.setName(methodName);
  },
  properties : {
    testFunction : {
      check : "Function"
    },
    name : {
      check : "String"
    },
    className : {
      check : "String",
      init : ""
    },
    testClass : {
      check : "qx.dev.unit.TestCase",
      init : null
    }
  },
  members : {
    run : function(testResult){

      var inst = this.getTestClass();
      var method = this.getName();
      var testFunc = this;
      testResult.run(this, function(){

        inst.setTestFunc(testFunc);
        inst.setTestResult(testResult);
        try{

          inst[method]();
        } catch(ex) {

          throw ex;
        };
      });
    },
    setUp : function(){

      var inst = this.getTestClass();
      if(qx.lang.Type.isFunction(inst.setUp)){

        inst.setUp();
      };
    },
    tearDown : function(){

      var inst = this.getTestClass();
      if(qx.lang.Type.isFunction(inst.tearDown)){

        inst.tearDown();
      };
    },
    getFullName : function(){

      return [this.getClassName(), this.getName()].join(":");
    }
  }
});

qx.Class.define("qx.ui.table.model.Filtered", {
  extend : qx.ui.table.model.Simple,
  construct : function(){

    this.base(arguments);
    this.numericAllowed = new Array("==", "!=", ">", "<", ">=", "<=");
    this.betweenAllowed = new Array("between", "!between");
    this.__applyingFilters = false;
    this.Filters = new Array();
  },
  members : {
    __fullArr : null,
    __applyingFilters : null,
    _js_in_array : function(the_needle, the_haystack){

      var the_hay = the_haystack.toString();
      if(the_hay == ''){

        return false;
      };
      var the_pattern = new RegExp(the_needle, 'g');
      var matched = the_pattern.test(the_haystack);
      return matched;
    },
    addBetweenFilter : function(filter, value1, value2, target){

      if(this._js_in_array(filter, this.betweenAllowed) && target != null){

        if(value1 != null && value2 != null){

          var temp = new Array(filter, value1, value2, target);
        };
      };
      if(temp != null){

        this.Filters.push(temp);
      } else {

        throw new Error("Filter not recognized or value1/value2 is null!");
      };
    },
    addNumericFilter : function(filter, value1, target){

      var temp = null;
      if(this._js_in_array(filter, this.numericAllowed) && target != null){

        if(value1 != null){

          temp = [filter, value1, target];
        };
      };
      if(temp != null){

        this.Filters.push(temp);
      } else {

        throw new Error("Filter not recognized: value or target is null!");
      };
    },
    addRegex : function(regex, target, ignorecase){

      var regexarg;
      if(ignorecase){

        regexarg = 'gi';
      } else {

        regexarg = 'g';
      };
      if(regex != null && target != null){

        var temp = new Array("regex", regex, target, regexarg);
      };
      if(temp != null){

        this.Filters.push(temp);
      } else {

        throw new Error("regex cannot be null!");
      };
    },
    addNotRegex : function(regex, target, ignorecase){

      var regexarg;
      if(ignorecase){

        regexarg = 'gi';
      } else {

        regexarg = 'g';
      };
      if(regex != null && target != null){

        var temp = new Array("notregex", regex, target, regexarg);
      };
      if(temp != null){

        this.Filters.push(temp);
      } else {

        throw new Error("notregex cannot be null!");
      };
    },
    applyFilters : function(){

      var i;
      var filter_test;
      var compareValue;
      var rowArr = this.getData();
      var rowLength = rowArr.length;
      for(var row = 0;row < rowLength;row++){

        filter_test = false;
        for(i in this.Filters){

          if(this._js_in_array(this.Filters[i][0], this.numericAllowed) && filter_test == false){

            compareValue = this.getValueById(this.Filters[i][2], row);
            switch(this.Filters[i][0]){case "==":
            if(compareValue == this.Filters[i][1]){

              filter_test = true;
            };
            break;case "!=":
            if(compareValue != this.Filters[i][1]){

              filter_test = true;
            };
            break;case ">":
            if(compareValue > this.Filters[i][1]){

              filter_test = true;
            };
            break;case "<":
            if(compareValue < this.Filters[i][1]){

              filter_test = true;
            };
            break;case ">=":
            if(compareValue >= this.Filters[i][1]){

              filter_test = true;
            };
            break;case "<=":
            if(compareValue <= this.Filters[i][1]){

              filter_test = true;
            };
            break;};
          } else if(this._js_in_array(this.Filters[i][0], this.betweenAllowed) && filter_test == false){

            compareValue = this.getValueById(this.Filters[i][3], row);
            switch(this.Filters[i][0]){case "between":
            if(compareValue >= this.Filters[i][1] && compareValue <= this.Filters[i][2]){

              filter_test = true;
            };
            break;case "!between":
            if(compareValue < this.Filters[i][1] && compareValue > this.Filters[i][2]){

              filter_test = true;
            };
            break;};
          } else if(this.Filters[i][0] == "regex" && filter_test == false){

            compareValue = this.getValueById(this.Filters[i][2], row);
            var the_pattern = new RegExp(this.Filters[i][1], this.Filters[i][3]);
            filter_test = the_pattern.test(compareValue);
          } else if(this.Filters[i][0] == "notregex" && filter_test == false){

            compareValue = this.getValueById(this.Filters[i][2], row);
            var the_pattern = new RegExp(this.Filters[i][1], this.Filters[i][3]);
            filter_test = !the_pattern.test(compareValue);
          };;;
        };
        if(filter_test == true){

          this.hideRows(row, 1, false);
          row--;
          rowLength--;
        };
      };
      var data = {
        firstRow : 0,
        lastRow : rowLength - 1,
        firstColumn : 0,
        lastColumn : this.getColumnCount() - 1
      };
      this.fireDataEvent("dataChanged", data);
    },
    hideRows : function(rowNum, numOfRows, dispatchEvent){

      var rowArr = this.getData();
      dispatchEvent = (dispatchEvent != null ? dispatchEvent : true);
      if(!this.__applyingFilters){

        this.__fullArr = rowArr.slice(0);
        this.__applyingFilters = true;
      };
      if(numOfRows == null || numOfRows < 1){

        numOfRows = 1;
      };
      for(var kludge = rowNum;kludge < (rowArr.length - numOfRows);kludge++){

        rowArr[kludge] = rowArr[kludge + numOfRows];
      };
      this.removeRows(kludge, numOfRows);
      if(dispatchEvent){

        var data = {
          firstRow : 0,
          lastRow : rowArr.length - 1,
          firstColumn : 0,
          lastColumn : this.getColumnCount() - 1
        };
        this.fireDataEvent("dataChanged", data);
      };
    },
    resetHiddenRows : function(){

      if(!this.__fullArr){

        return;
      };
      this.Filters = [];
      this.setData(qx.lang.Array.clone(this.__fullArr));
    },
    setData : function(rowArr, clearSorting){

      this.__fullArr = qx.lang.Array.clone(rowArr);
      this.Filters = [];
      this.base(arguments, rowArr, clearSorting);
    }
  },
  destruct : function(){

    this.__fullArr = this.numericAllowed = this.betweenAllowed = this.Filters = null;
  }
});

qx.Mixin.define("qx.ui.mobile.core.MLayoutHandling", {
  members : {
    setLayout : function(layout){

      this._setLayout(layout);
    },
    getLayout : function(){

      return this._getLayout();
    }
  },
  statics : {
    remap : function(members){

      members.getLayout = members._getLayout;
      members.setLayout = members._setLayout;
    }
  }
});

qx.Mixin.define("qx.ui.mobile.core.MChildrenHandling", {
  members : {
    getChildren : function(){

      return this._getChildren();
    },
    hasChildren : function(){

      return this._hasChildren();
    },
    indexOf : function(child){

      return this._indexOf(child);
    },
    add : function(child, layoutProperties){

      this._add(child, layoutProperties);
    },
    addAt : function(child, index, options){

      this._addAt(child, index, options);
    },
    addBefore : function(child, before, layoutProperties){

      this._addBefore(child, before, layoutProperties);
    },
    addAfter : function(child, after, layoutProperties){

      this._addAfter(child, after, layoutProperties);
    },
    remove : function(child){

      this._remove(child);
    },
    removeAt : function(index){

      this._removeAt(index);
    },
    removeAll : function(){

      this._removeAll();
    }
  },
  statics : {
    remap : function(members){

      members.getChildren = members._getChildren;
      members.hasChildren = members._hasChildren;
      members.indexOf = members._indexOf;
      members.add = members._add;
      members.addAt = members._addAt;
      members.addBefore = members._addBefore;
      members.addAfter = members._addAfter;
      members.remove = members._remove;
      members.removeAt = members._removeAt;
      members.removeAll = members._removeAll;
    }
  }
});

qx.Class.define("qx.bom.Lifecycle", {
  statics : {
    onReady : function(callback, context){

      var Registration = qx.event.Registration;
      var appHandler = Registration.getManager(window).getHandler(qx.event.handler.Application);
      if(appHandler && appHandler.isApplicationReady()){

        callback.call(context);
      } else {

        Registration.addListener(window, "ready", callback, context);
      };
    },
    onShutdown : function(callback, context){

      qx.event.Registration.addListener(window, "shutdown", callback, context);
    }
  }
});

qx.Class.define("qx.ui.mobile.core.Widget", {
  extend : qx.core.Object,
  include : [qx.locale.MTranslation],
  construct : function(){

    this.base(arguments);
    this._setContainerElement(this._createContainerElement());
    this.__children = [];
    this.setId(this.getId());
    this.initDefaultCssClass();
    this.initName();
    this.initAnonymous();
    this.initActivatable();
  },
  events : {
    mousemove : "qx.event.type.Mouse",
    mouseover : "qx.event.type.Mouse",
    mouseout : "qx.event.type.Mouse",
    mousedown : "qx.event.type.Mouse",
    mouseup : "qx.event.type.Mouse",
    click : "qx.event.type.Mouse",
    dblclick : "qx.event.type.Mouse",
    contextmenu : "qx.event.type.Mouse",
    beforeContextmenuOpen : "qx.event.type.Mouse",
    mousewheel : "qx.event.type.MouseWheel",
    touchstart : "qx.event.type.Touch",
    touchend : "qx.event.type.Touch",
    touchmove : "qx.event.type.Touch",
    touchcancel : "qx.event.type.Touch",
    tap : "qx.event.type.Tap",
    longtap : "qx.event.type.Tap",
    swipe : "qx.event.type.Touch",
    rotate : "qx.event.type.Rotate",
    pinch : "qx.event.type.Pinch",
    track : "qx.event.type.Track",
    keyup : "qx.event.type.KeySequence",
    keydown : "qx.event.type.KeySequence",
    keypress : "qx.event.type.KeySequence",
    keyinput : "qx.event.type.KeyInput",
    domupdated : "qx.event.type.Event",
    appear : "qx.event.type.Event",
    disappear : "qx.event.type.Event",
    focus : "qx.event.type.Focus",
    blur : "qx.event.type.Focus",
    focusin : "qx.event.type.Focus",
    focusout : "qx.event.type.Focus",
    activate : "qx.event.type.Focus",
    deactivate : "qx.event.type.Focus",
    roll : "qx.event.type.Roll"
  },
  properties : {
    defaultCssClass : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applyDefaultCssClass"
    },
    enabled : {
      init : true,
      check : "Boolean",
      nullable : false,
      event : "changeEnabled",
      apply : "_applyEnabled"
    },
    name : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applyAttribute"
    },
    anonymous : {
      check : "Boolean",
      init : null,
      nullable : true,
      apply : "_applyStyle"
    },
    id : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applyId",
      transform : "_transformId",
      event : "changeId"
    },
    visibility : {
      check : ["visible", "hidden", "excluded"],
      init : "visible",
      apply : "_applyVisibility",
      event : "changeVisibility"
    },
    activatable : {
      check : "Boolean",
      init : false,
      apply : "_applyAttribute"
    },
    rotation : {
      check : "Number",
      nullable : true,
      init : null,
      apply : "_transform"
    },
    transformUnit : {
      check : ["rem", "px"],
      nullable : false,
      init : "rem",
      apply : "_transform"
    },
    scaleX : {
      check : "Number",
      nullable : true,
      init : null,
      apply : "_transform"
    },
    scaleY : {
      check : "Number",
      nullable : true,
      init : null,
      apply : "_transform"
    },
    translateX : {
      check : "Number",
      nullable : true,
      init : 0,
      apply : "_transform"
    },
    translateY : {
      check : "Number",
      nullable : true,
      init : 0,
      apply : "_transform"
    },
    translateZ : {
      check : "Number",
      nullable : true,
      init : 0,
      apply : "_transform"
    }
  },
  statics : {
    ID_PREFIX : "qx_id_",
    __registry : {
    },
    __idCounter : 0,
    __domUpdatedScheduleId : null,
    onShutdown : function(){

      window.clearTimeout(qx.ui.mobile.core.Widget.__domUpdatedScheduleId);
      delete qx.ui.mobile.core.Widget.__registry;
    },
    getCurrentId : function(){

      return qx.ui.mobile.core.Widget.__idCounter;
    },
    registerWidget : function(widget){

      var id = widget.getId();
      var registry = qx.ui.mobile.core.Widget.__registry;
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertUndefined(registry[id], "Widget with the id '" + id + "' is already registered");
      };
      registry[id] = widget;
    },
    unregisterWidget : function(id){

      delete qx.ui.mobile.core.Widget.__registry[id];
    },
    getWidgetById : function(id){

      return qx.ui.mobile.core.Widget.__registry[id];
    },
    scheduleDomUpdated : function(){

      if(qx.ui.mobile.core.Widget.__domUpdatedScheduleId == null){

        qx.ui.mobile.core.Widget.__domUpdatedScheduleId = window.setTimeout(qx.ui.mobile.core.Widget.domUpdated, 0);
      };
    },
    domUpdated : qx.event.GlobalError.observeMethod(function(){

      var clazz = qx.ui.mobile.core.Widget;
      window.clearTimeout(clazz.__domUpdatedScheduleId);
      clazz.__domUpdatedScheduleId = null;
      qx.event.handler.Appear.refresh();
      qx.ui.mobile.core.DomUpdatedHandler.refresh();
    }),
    addAttributeMapping : function(property, attribute, values){

      if(qx.core.Environment.get("qx.debug")){

        var attributeMapping = qx.ui.mobile.core.Widget.ATTRIBUTE_MAPPING;
        qx.core.Assert.assertUndefined(attributeMapping[property], "Attribute mapping for " + property + " already exists");
      };
      qx.ui.mobile.core.Widget.ATTRIBUTE_MAPPING[property] = {
        attribute : attribute,
        values : values
      };
    },
    addStyleMapping : function(property, style, values){

      if(qx.core.Environment.get("qx.debug")){

        var styleMapping = qx.ui.mobile.core.Widget.STYLE_MAPPING;
        qx.core.Assert.assertUndefined(styleMapping[property], "Style mapping for " + property + " already exists");
      };
      qx.ui.mobile.core.Widget.STYLE_MAPPING[property] = {
        style : style,
        values : values
      };
    },
    ATTRIBUTE_MAPPING : {
      "selectable" : {
        attribute : "data-selectable",
        values : {
          "true" : null,
          "false" : "false"
        }
      },
      "activatable" : {
        attribute : "data-activatable",
        values : {
          "true" : "true",
          "false" : null
        }
      },
      "readOnly" : {
        attribute : "readonly"
      }
    },
    STYLE_MAPPING : {
      "anonymous" : {
        style : "pointerEvents",
        values : {
          "true" : "none",
          "false" : null
        }
      }
    }
  },
  members : {
    __containerElement : null,
    __contentElement : null,
    __layoutParent : null,
    __children : null,
    __layoutManager : null,
    _getTagName : function(){

      return "div";
    },
    _createContainerElement : function(){

      return qx.dom.Element.create(this._getTagName());
    },
    _domUpdated : function(){

      qx.ui.mobile.core.Widget.scheduleDomUpdated();
    },
    _transformId : function(value){

      if(value == null){

        var clazz = qx.ui.mobile.core.Widget;
        value = clazz.ID_PREFIX + clazz.__idCounter++;
      };
      return value;
    },
    _applyId : function(value, old){

      if(old != null){

        qx.ui.mobile.core.Widget.unregisterWidget(old);
      };
      var element = this.getContainerElement();
      element.id = value;
      qx.ui.mobile.core.Widget.registerWidget(this);
    },
    _applyEnabled : function(value, old){

      if(value){

        this.removeCssClass("disabled");
        this._setStyle('anonymous', this.getAnonymous());
      } else {

        this.addCssClass("disabled");
        this._setStyle('anonymous', true);
      };
    },
    _add : function(child, layoutProperties){

      if(qx.core.Environment.get("qx.debug")){

        if(child.getLayoutParent() === this){

          throw new Error("The widget is already added this widget. Please remove it first.");
        };
      };
      this._initializeChildLayout(child, layoutProperties);
      this.getContentElement().appendChild(child.getContainerElement());
      this.__children.push(child);
      this._domUpdated();
    },
    _addAt : function(child, index, options){

      if(child.getLayoutParent() == this){

        qx.lang.Array.remove(this.__children, child);
      };
      var ref = this.__children[index];
      if(ref){

        this._addBefore(child, ref, options);
      } else {

        this._add(child, options);
      };
    },
    _addBefore : function(child, beforeWidget, layoutProperties){

      if(qx.core.Environment.get("qx.debug")){

        if(child.getLayoutParent() === this){

          throw new Error("The widget is already added this widget. Please remove it first.");
        };
        this.assertInArray(beforeWidget, this._getChildren(), "The 'before' widget is not a child of this widget!");
      };
      if(child == beforeWidget){

        return;
      };
      this._initializeChildLayout(child, layoutProperties);
      this.getContentElement().insertBefore(child.getContainerElement(), beforeWidget.getContainerElement());
      qx.lang.Array.insertBefore(this.__children, child, beforeWidget);
      this._domUpdated();
    },
    _addAfter : function(child, afterWidget, layoutProperties){

      if(qx.core.Environment.get("qx.debug")){

        if(child.getLayoutParent() === this){

          throw new Error("The child is already added to this widget. Please remove it first.");
        };
        this.assertInArray(afterWidget, this._getChildren(), "The 'after' widget is not a child of this widget!");
      };
      if(child == afterWidget){

        return;
      };
      this._initializeChildLayout(child, layoutProperties);
      var length = this._getChildren().length;
      var index = this._indexOf(afterWidget);
      if(index == length - 1){

        this.getContentElement().appendChild(child.getContainerElement());
      } else {

        var beforeWidget = this._getChildren()[index + 1];
        this.getContentElement().insertBefore(child.getContainerElement(), beforeWidget.getContainerElement());
      };
      qx.lang.Array.insertAfter(this.__children, child, afterWidget);
      this._domUpdated();
    },
    _remove : function(child){

      child.setLayoutParent(null);
      this._domUpdated();
    },
    _removeAt : function(index){

      if(!this.__children){

        throw new Error("This widget has no children!");
      };
      var child = this.__children[index];
      this._remove(child);
    },
    _removeAll : function(){

      var children = this.__children.concat();
      for(var i = 0,l = children.length;i < l;i++){

        this._remove(children[i]);
      };
      return children;
    },
    _indexOf : function(child){

      var children = this.__children;
      if(!children){

        return -1;
      };
      return children.indexOf(child);
    },
    setLayoutParent : function(parent){

      if(this.__layoutParent === parent){

        return;
      };
      var oldParent = this.__layoutParent;
      if(oldParent && !oldParent.$$disposed){

        this.__layoutParent.removeChild(this);
      };
      this.__layoutParent = parent || null;
    },
    removeChild : function(child){

      qx.lang.Array.remove(this.__children, child);
      this.getContentElement().removeChild(child.getContainerElement());
      var layout = this._getLayout();
      if(layout){

        layout.disconnectFromChildWidget(child);
      };
    },
    getLayoutParent : function(){

      return this.__layoutParent;
    },
    _getChildren : function(){

      return this.__children;
    },
    _hasChildren : function(){

      return this.__children && this.__children.length > 0;
    },
    _setLayout : function(layout){

      if(qx.core.Environment.get("qx.debug")){

        if(layout){

          this.assertInstance(layout, qx.ui.mobile.layout.Abstract);
        };
      };
      if(this.__layoutManager){

        this.__layoutManager.connectToWidget(null);
        for(var i = 0;i < this._getChildren().length;i++){

          var child = this._getChildren()[i];
          this.__layoutManager.disconnectFromChildWidget(child);
        };
      };
      if(layout){

        layout.connectToWidget(this);
      };
      this.__layoutManager = layout;
      this._domUpdated();
    },
    _initializeChildLayout : function(child, layoutProperties){

      child.setLayoutParent(this);
      child.setLayoutProperties(layoutProperties);
      var layout = this._getLayout();
      if(layout){

        layout.connectToChildWidget(child);
      };
    },
    _getLayout : function(){

      return this.__layoutManager;
    },
    setLayoutProperties : function(properties){

      var parent = this.getLayoutParent();
      if(parent){

        parent.updateLayoutProperties(this, properties);
      };
    },
    updateLayoutProperties : function(widget, properties){

      var layout = this._getLayout();
      if(layout){

        layout.setLayoutProperties(widget, properties);
      };
      this._domUpdated();
    },
    updateLayout : function(widget, action, properties){

      var layout = this._getLayout();
      if(layout){

        layout.updateLayout(widget, action, properties);
      };
      this._domUpdated();
    },
    _setHtml : function(value){

      this.getContentElement().innerHTML = value || "";
      this._domUpdated();
    },
    _transform : function(){

      var propertyValue = "";
      if(this.getRotation() != null){

        propertyValue = propertyValue + "rotate(" + this.getRotation() + "deg) ";
      };
      if(this.getScaleX() != null && this.getScaleY() != null){

        propertyValue = propertyValue + "scale(" + this.getScaleX() + "," + this.getScaleY() + ") ";
      };
      var resolutionFactor = 1;
      if(this.getTransformUnit() == "rem"){

        resolutionFactor = 16;
      };
      if(this.getTranslateX() != null && this.getTranslateY() != null){

        var isTransform3d = qx.core.Environment.get("css.transform.3d");
        if(isTransform3d && this.getTranslateZ() != null){

          propertyValue = propertyValue + "translate3d(" + (this.getTranslateX() / resolutionFactor) + this.getTransformUnit() + "," + (this.getTranslateY() / resolutionFactor) + this.getTransformUnit() + "," + (this.getTranslateZ() / resolutionFactor) + this.getTransformUnit() + ") ";
        } else {

          propertyValue = propertyValue + "translate(" + (this.getTranslateX() / resolutionFactor) + this.getTransformUnit() + "," + (this.getTranslateY() / resolutionFactor) + this.getTransformUnit() + ") ";
        };
      };
      qx.bom.element.Style.set(this.getContainerElement(), "transform", propertyValue);
    },
    _applyAttribute : function(value, old, attribute){

      this._setAttribute(attribute, value);
    },
    _setAttribute : function(attribute, value){

      var mapping = qx.ui.mobile.core.Widget.ATTRIBUTE_MAPPING[attribute];
      if(mapping){

        attribute = mapping.attribute || attribute;
        var values = mapping.values;
        value = values && typeof values[value] !== "undefined" ? values[value] : value;
      };
      var element = this.getContainerElement();
      if(value != null){

        qx.bom.element.Attribute.set(element, attribute, value);
      } else {

        qx.bom.element.Attribute.reset(element, attribute);
      };
      this._domUpdated();
    },
    _getAttribute : function(attribute){

      var element = this.getContainerElement();
      return qx.bom.element.Attribute.get(element, attribute);
    },
    _applyStyle : function(value, old, style){

      this._setStyle(style, value);
    },
    _setStyle : function(style, value){

      var mapping = qx.ui.mobile.core.Widget.STYLE_MAPPING[style];
      if(mapping){

        style = mapping.style || style;
        value = mapping.values[value];
      };
      var element = this.getContainerElement();
      if(value != null){

        qx.bom.element.Style.set(element, style, value);
      } else {

        qx.bom.element.Style.reset(element, style);
      };
      this._domUpdated();
    },
    _getStyle : function(style){

      var element = this.getContainerElement();
      return qx.bom.element.Style.get(element, style);
    },
    _applyDefaultCssClass : function(value, old){

      if(old){

        this.removeCssClass(old);
      };
      if(value){

        this.addCssClass(value);
      };
    },
    addCssClass : function(cssClass){

      qx.bom.element.Class.add(this.getContainerElement(), cssClass);
      this._domUpdated();
    },
    addCssClasses : function(cssClasses){

      if(cssClasses){

        qx.bom.element.Class.addClasses(this.getContainerElement(), cssClasses);
        this._domUpdated();
      };
    },
    removeCssClass : function(cssClass){

      qx.bom.element.Class.remove(this.getContainerElement(), cssClass);
      this._domUpdated();
    },
    removeCssClasses : function(cssClasses){

      if(cssClasses){

        qx.bom.element.Class.removeClasses(this.getContainerElement(), cssClasses);
        this._domUpdated();
      };
    },
    toggleCssClass : function(cssClass){

      if(this.hasCssClass(cssClass)){

        this.removeCssClass(cssClass);
      } else {

        this.addCssClass(cssClass);
      };
    },
    hasCssClass : function(cssClass){

      return qx.bom.element.Class.has(this.getContainerElement(), cssClass);
    },
    _applyVisibility : function(value, old){

      if(value == "excluded"){

        this.addCssClass("exclude");
      } else if(value == "visible"){

        this.removeCssClass("exclude");
        this._setStyle("visibility", "visible");
      } else if(value == "hidden"){

        this._setStyle("visibility", "hidden");
      };;
      this._domUpdated();
    },
    __setVisibility : function(action, properties){

      this.setVisibility(action);
      var parent = this.getLayoutParent();
      if(parent){

        parent.updateLayout(this, action, properties);
      };
    },
    show : function(properties){

      this.__setVisibility("visible", properties);
    },
    hide : function(properties){

      this.__setVisibility("hidden", properties);
    },
    exclude : function(properties){

      this.__setVisibility("excluded", properties);
    },
    isVisible : function(){

      return this.getVisibility() === "visible";
    },
    isHidden : function(){

      return this.getVisibility() !== "visible";
    },
    isExcluded : function(){

      return this.getVisibility() === "excluded";
    },
    isSeeable : function(){

      return this.getContainerElement().offsetWidth > 0;
    },
    _setContainerElement : function(element){

      this.__containerElement = element;
    },
    getContainerElement : function(){

      return this.__containerElement;
    },
    getContentElement : function(){

      if(!this.__contentElement){

        this.__contentElement = this._getContentElement();
      };
      return this.__contentElement;
    },
    _getContentElement : function(){

      return this.getContainerElement();
    },
    destroy : function(){

      if(this.$$disposed){

        return;
      };
      var parent = this.__layoutParent;
      if(parent){

        parent._remove(this);
      };
      this.dispose();
    }
  },
  destruct : function(){

    if(!qx.core.ObjectRegistry.inShutDown){

      qx.event.Registration.removeAllListeners(this);
      if(this.getId()){

        qx.ui.mobile.core.Widget.unregisterWidget(this.getId());
      };
    };
    this.__layoutParent = this.__containerElement = this.__contentElement = null;
    if(this.__layoutManager){

      this.__layoutManager.dispose();
    };
    this.__layoutManager = null;
  },
  defer : function(statics){

    qx.bom.Lifecycle.onShutdown(statics.onShutdown, statics);
  }
});

qx.Class.define("qx.ui.mobile.core.EventHandler", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(){

    this.base(arguments);
    this.__manager = qx.event.Registration.getManager(window);
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_FIRST,
    SUPPORTED_TYPES : {
      mousemove : 1,
      mouseover : 1,
      mouseout : 1,
      mousedown : 1,
      mouseup : 1,
      click : 1,
      dblclick : 1,
      contextmenu : 1,
      mousewheel : 1,
      keyup : 1,
      keydown : 1,
      keypress : 1,
      keyinput : 1,
      capture : 1,
      losecapture : 1,
      focusin : 1,
      focusout : 1,
      focus : 1,
      blur : 1,
      activate : 1,
      deactivate : 1,
      appear : 1,
      disappear : 1,
      dragstart : 1,
      dragend : 1,
      dragover : 1,
      dragleave : 1,
      drop : 1,
      drag : 1,
      dragchange : 1,
      droprequest : 1,
      roll : 1,
      touchstart : 1,
      touchend : 1,
      touchmove : 1,
      touchcancel : 1,
      tap : 1,
      longtap : 1,
      swipe : 1,
      dbltap : 1,
      track : 1,
      trackend : 1,
      trackstart : 1,
      pinch : 1,
      rotate : 1,
      pointermove : 1,
      pointerover : 1,
      pointerout : 1,
      pointerdown : 1,
      pointerup : 1,
      pointercancel : 1
    },
    IGNORE_CAN_HANDLE : false,
    __activeTarget : null,
    __scrollLeft : null,
    __scrollTop : null,
    __startY : null,
    __timer : null,
    __onPointerDown : function(domEvent){

      if(!domEvent.isPrimary()){

        return;
      };
      var EventHandler = qx.ui.mobile.core.EventHandler;
      EventHandler.__scrollLeft = qx.bom.Viewport.getScrollLeft();
      EventHandler.__scrollTop = qx.bom.Viewport.getScrollTop();
      EventHandler.__startY = domEvent.screenY;
      EventHandler.__cancelActiveStateTimer();
      var target = domEvent.getTarget();
      while(target && target.parentNode && target.parentNode.nodeType == 1 && qx.bom.element.Attribute.get(target, "data-activatable") != "true"){

        target = target.parentNode;
      };
      EventHandler.__activeTarget = target;
      EventHandler.___timer = window.setTimeout(function(){

        EventHandler.___timer = null;
        var target = EventHandler.__activeTarget;
        if(target && (qx.bom.element.Attribute.get(target, "data-selectable") != "false")){

          qx.bom.element.Class.add(target, "active");
        };
      }, 100);
    },
    __onPointerUp : function(domEvent){

      qx.ui.mobile.core.EventHandler.__removeActiveState();
    },
    __onPointerMove : function(domEvent){

      if(!domEvent.isPrimary()){

        return;
      };
      var EventHandler = qx.ui.mobile.core.EventHandler;
      var deltaY = domEvent.screenY - EventHandler.__startY;
      if(EventHandler.__activeTarget && Math.abs(deltaY) >= qx.event.handler.GestureCore.TAP_MAX_DISTANCE){

        EventHandler.__removeActiveState();
      };
      if(EventHandler.__activeTarget && (EventHandler.__scrollLeft != qx.bom.Viewport.getScrollLeft() || EventHandler.__scrollTop != qx.bom.Viewport.getScrollTop())){

        EventHandler.__removeActiveState();
      };
    },
    __cancelActiveStateTimer : function(){

      var EventHandler = qx.ui.mobile.core.EventHandler;
      if(EventHandler.___timer){

        window.clearTimeout(EventHandler.___timer);
        EventHandler.___timer = null;
      };
    },
    __removeActiveState : function(){

      var EventHandler = qx.ui.mobile.core.EventHandler;
      EventHandler.__cancelActiveStateTimer();
      var activeTarget = EventHandler.__activeTarget;
      if(activeTarget){

        qx.bom.element.Class.remove(activeTarget, "active");
      };
      EventHandler.__activeTarget = null;
    }
  },
  members : {
    __manager : null,
    canHandleEvent : function(target, type){

      return target instanceof qx.ui.mobile.core.Widget;
    },
    registerEvent : function(target, type, capture){

      var element = target.getContainerElement();
      qx.event.Registration.addListener(element, type, this._dispatchEvent, this, capture);
    },
    unregisterEvent : function(target, type, capture){

      var element = target.getContainerElement();
      qx.event.Registration.removeListener(element, type, this._dispatchEvent, this, capture);
    },
    _dispatchEvent : function(domEvent){

      var domTarget = domEvent.getTarget();
      if(!domTarget || domTarget.id == null){

        return;
      };
      var widgetTarget = qx.ui.mobile.core.Widget.getWidgetById(domTarget.id);
      if(domEvent.getRelatedTarget){

        var domRelatedTarget = domEvent.getRelatedTarget();
        if(domRelatedTarget && domRelatedTarget.id){

          var widgetRelatedTarget = qx.ui.mobile.core.Widget.getWidgetById(domRelatedTarget.id);
        };
      };
      var currentTarget = domEvent.getCurrentTarget();
      var currentWidget = qx.ui.mobile.core.Widget.getWidgetById(currentTarget.id);
      if(!currentWidget){

        return;
      };
      var capture = domEvent.getEventPhase() == qx.event.type.Event.CAPTURING_PHASE;
      var type = domEvent.getType();
      var listeners = this.__manager.getListeners(currentWidget, type, capture);
      if(!listeners || listeners.length === 0){

        return;
      };
      var widgetEvent = qx.event.Pool.getInstance().getObject(domEvent.constructor);
      domEvent.clone(widgetEvent);
      widgetEvent.setTarget(widgetTarget);
      widgetEvent.setRelatedTarget(widgetRelatedTarget || null);
      widgetEvent.setCurrentTarget(currentWidget);
      var orig = domEvent.getOriginalTarget();
      if(orig && orig.id){

        var widgetOriginalTarget = qx.ui.mobile.core.Widget.getWidgetById(orig.id);
        widgetEvent.setOriginalTarget(widgetOriginalTarget);
      } else {

        widgetEvent.setOriginalTarget(domTarget);
      };
      for(var i = 0,l = listeners.length;i < l;i++){

        var context = listeners[i].context || currentWidget;
        listeners[i].handler.call(context, widgetEvent);
      };
      if(widgetEvent.getPropagationStopped()){

        domEvent.stopPropagation();
      };
      if(widgetEvent.getDefaultPrevented()){

        domEvent.preventDefault();
      };
      qx.event.Pool.getInstance().poolObject(widgetEvent);
    }
  },
  destruct : function(){

    this.__manager = null;
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
    qx.event.Registration.addListener(document, "pointerdown", statics.__onPointerDown);
    qx.event.Registration.addListener(document, "pointerup", statics.__onPointerUp);
    qx.event.Registration.addListener(document, "pointercancel", statics.__onPointerUp);
    qx.event.Registration.addListener(document, "pointermove", statics.__onPointerMove);
  }
});

qx.Class.define("qx.ui.mobile.core.DomUpdatedHandler", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__targets = {
    };
    qx.ui.mobile.core.DomUpdatedHandler.__instances[this.$$hash] = this;
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      domupdated : 1
    },
    IGNORE_CAN_HANDLE : false,
    __instances : {
    },
    refresh : function(){

      var all = this.__instances;
      for(var hash in all){

        all[hash].refresh();
      };
    }
  },
  members : {
    __manager : null,
    __targets : null,
    canHandleEvent : function(target, type){

      return target instanceof qx.ui.mobile.core.Widget;
    },
    registerEvent : function(target, type, capture){

      var hash = target.$$hash;
      var targets = this.__targets;
      if(targets && !targets[hash]){

        targets[hash] = target;
      };
    },
    unregisterEvent : function(target, type, capture){

      var hash = target.$$hash;
      var targets = this.__targets;
      if(!targets){

        return;
      };
      if(targets[hash]){

        delete targets[hash];
      };
    },
    refresh : function(){

      var targets = this.__targets;
      var target;
      for(var hash in targets){

        target = targets[hash];
        if(target && !target.$$disposed && target.isSeeable()){

          var evt = qx.event.Registration.createEvent("domupdated");
          this.__manager.dispatchEvent(target, evt);
        };
      };
    }
  },
  destruct : function(){

    this.__manager = this.__targets = null;
    delete qx.ui.mobile.core.DomUpdatedHandler.__instances[this.$$hash];
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.ui.mobile.layout.Abstract", {
  extend : qx.core.Object,
  type : "abstract",
  events : {
    updateLayout : "qx.event.type.Data"
  },
  members : {
    _widget : null,
    __cachedProperties : null,
    __cachedChildLayoutProperties : null,
    _getCssClasses : function(){

      if(qx.core.Environment.get("qx.debug")){

        throw new Error("Abstract method call");
      };
    },
    _getSupportedChildLayoutProperties : function(){

      return null;
    },
    _setLayoutProperty : function(widget, property, value){

      if(qx.core.Environment.get("qx.debug")){

        throw new Error("Abstract method call");
      };
    },
    setLayoutProperties : function(widget, properties){

      if(properties == null){

        return;
      };
      var supportedChildLayoutProperties = this._getSupportedChildLayoutProperties();
      if(!supportedChildLayoutProperties){

        return;
      };
      for(var property in properties){

        if(!supportedChildLayoutProperties[property]){

          throw new Error("The layout does not support the " + property + " property");
        };
        var value = properties[property];
        this._setLayoutProperty(widget, property, value);
        this._addPropertyToChildLayoutCache(widget, property, value);
      };
    },
    connectToWidget : function(widget){

      if(this._widget){

        this._widget.removeCssClasses(this._getCssClasses());
      };
      this._widget = widget;
      if(widget){

        widget.addCssClasses(this._getCssClasses());
        if(this.__cachedProperties){

          for(var property in this.__cachedProperties){

            this.reset(property);
            this.set(property, this.__cachedProperties[property]);
          };
        };
      } else {

        this.__cachedProperties = null;
      };
    },
    connectToChildWidget : function(widget){
    },
    disconnectFromChildWidget : function(widget){
    },
    updateLayout : function(widget, action, properties){

      this.fireDataEvent("updateLayout", {
        widget : widget,
        action : action,
        properties : properties
      });
    },
    _addCachedProperty : function(property, value){

      if(!this.__cachedProperties){

        this.__cachedProperties = {
        };
      };
      this.__cachedProperties[property] = value;
    },
    _getChildLayoutPropertyValue : function(widget, property){

      var cache = this.__getChildLayoutPropertyCache(widget);
      return cache[property];
    },
    _addPropertyToChildLayoutCache : function(widget, property, value){

      var cache = this.__getChildLayoutPropertyCache(widget);
      if(value == null){

        delete cache[property];
      } else {

        cache[property] = value;
      };
    },
    __getChildLayoutPropertyCache : function(widget){

      if(!this.__cachedChildLayoutProperties){

        this.__cachedChildLayoutProperties = {
        };
      };
      var cache = this.__cachedChildLayoutProperties;
      var hash = widget.toHashCode();
      if(!cache[hash]){

        cache[hash] = {
        };
      };
      return cache[hash];
    }
  },
  destruct : function(){

    this._widget = null;
  }
});

qx.Class.define("qx.ui.mobile.container.Composite", {
  extend : qx.ui.mobile.core.Widget,
  include : [qx.ui.mobile.core.MChildrenHandling, qx.ui.mobile.core.MLayoutHandling],
  construct : function(layout){

    this.base(arguments);
    if(layout){

      this.setLayout(layout);
    };
  },
  defer : function(statics, members){

    qx.ui.mobile.core.MChildrenHandling.remap(members);
    qx.ui.mobile.core.MLayoutHandling.remap(members);
  }
});

qx.Class.define("qx.ui.mobile.list.renderer.group.Abstract", {
  extend : qx.ui.mobile.container.Composite,
  type : "abstract",
  construct : function(layout){

    this.base(arguments, layout);
    this.initSelectable();
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "group-item"
    },
    selectable : {
      check : "Boolean",
      init : false,
      apply : "_applyAttribute"
    },
    activatable : {
      refine : true,
      init : true
    }
  },
  members : {
    reset : function(){

      if(qx.core.Environment.get("qx.debug")){

        throw new Error("Abstract method call");
      };
    },
    _getTagName : function(){

      return "li";
    }
  }
});

qx.Class.define("qx.ui.mobile.list.renderer.group.Default", {
  extend : qx.ui.mobile.list.renderer.group.Abstract,
  construct : function(layout){

    this.base(arguments, layout || new qx.ui.mobile.layout.HBox().set({
      alignY : "middle"
    }));
    this._init();
  },
  members : {
    __image : null,
    __title : null,
    __rightContainer : null,
    getImageWidget : function(){

      return this.__image;
    },
    getTitleWidget : function(){

      return this.__title;
    },
    setImage : function(source){

      this.__image.setSource(source);
    },
    setTitle : function(title){

      if(title && title.translate){

        this.__title.setValue(title.translate());
      } else {

        this.__title.setValue(title);
      };
    },
    setGroup : function(groupTitle){

      this._setAttribute("data-group", groupTitle);
    },
    _init : function(){

      this.__image = this._createImage();
      this.add(this.__image);
      this.__rightContainer = this._createRightContainer();
      this.add(this.__rightContainer, {
        flex : 1
      });
      this.__title = this._createTitle();
      this.__rightContainer.add(this.__title);
    },
    _createRightContainer : function(){

      return new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());
    },
    _createImage : function(){

      var image = new qx.ui.mobile.basic.Image();
      image.setAnonymous(true);
      image.addCssClass("group-item-image");
      return image;
    },
    _createTitle : function(){

      var title = new qx.ui.mobile.basic.Label();
      title.setWrap(false);
      title.addCssClass("group-item-title");
      return title;
    },
    reset : function(){

      this.__image.setSource(null);
      this.__title.setValue("");
    }
  },
  destruct : function(){

    this._disposeObjects("__image", "__title", "__rightContainer");
  }
});

qx.Class.define("qx.ui.mobile.layout.AbstractBox", {
  extend : qx.ui.mobile.layout.Abstract,
  type : "abstract",
  construct : function(alignX, alignY, reversed){

    this.base(arguments);
    if(alignX){

      this.setAlignX(alignX);
    };
    if(alignY){

      this.setAlignY(alignY);
    };
    if(reversed){

      this.setReversed(reversed);
    };
  },
  properties : {
    alignX : {
      check : ["left", "center", "right"],
      nullable : true,
      init : null,
      apply : "_applyLayoutChange"
    },
    alignY : {
      check : ["top", "middle", "bottom"],
      nullable : true,
      init : null,
      apply : "_applyLayoutChange"
    },
    reversed : {
      check : "Boolean",
      nullable : true,
      init : null,
      apply : "_applyLayoutChange"
    }
  },
  statics : {
    PROPERTY_CSS_MAPPING : {
      "alignX" : {
        "hbox" : {
          "left" : "flex-justify-start",
          "center" : "flex-justify-center",
          "right" : "flex-justify-end"
        },
        "vbox" : {
          "left" : "flex-align-start",
          "center" : "flex-align-center",
          "right" : "flex-align-end"
        }
      },
      "alignY" : {
        "hbox" : {
          "top" : "flex-align-start",
          "middle" : "flex-align-center",
          "bottom" : "flex-align-end"
        },
        "vbox" : {
          "top" : "flex-justify-start",
          "middle" : "flex-justify-center",
          "bottom" : "flex-justify-end"
        }
      },
      "reversed" : {
        "hbox" : {
          "true" : "flex-reverse",
          "false" : null
        },
        "vbox" : {
          "true" : "flex-reverse",
          "false" : null
        }
      }
    },
    SUPPORTED_CHILD_LAYOUT_PROPERTIES : {
      "flex" : 1
    }
  },
  members : {
    _getSupportedChildLayoutProperties : function(){

      return qx.ui.mobile.layout.AbstractBox.SUPPORTED_CHILD_LAYOUT_PROPERTIES;
    },
    _setLayoutProperty : function(widget, property, value){

      if(property == "flex"){

        var old = this._getChildLayoutPropertyValue(widget, property);
        if(old != null){

          widget.removeCssClass("flex" + value);
        };
        widget.addCssClass("flex" + value);
      };
    },
    connectToWidget : function(widget){

      if(this._widget){

        this.resetAlignX();
        this.resetAlignY();
        this.resetReversed();
      };
      this.base(arguments, widget);
    },
    disconnectFromChildWidget : function(widget){

      this.base(arguments);
      for(var i = 0;i <= 6;i++){

        widget.removeCssClass("flex" + i);
      };
    },
    _applyLayoutChange : function(value, old, property){

      if(this._widget){

        var layoutCss = this._getCssClasses()[0];
        var CSS_MAPPING = qx.ui.mobile.layout.AbstractBox.PROPERTY_CSS_MAPPING[property][layoutCss];
        if(old){

          var oldCssClass = CSS_MAPPING[old];
          if(oldCssClass){

            this._widget.removeCssClass(oldCssClass);
          };
        };
        if(value){

          var cssClass = CSS_MAPPING[value];
          if(cssClass){

            this._widget.addCssClass(cssClass);
          };
        };
      } else {

        if(value){

          this._addCachedProperty(property, value);
        };
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.layout.HBox", {
  extend : qx.ui.mobile.layout.AbstractBox,
  members : {
    _getCssClasses : function(){

      return ["hbox"];
    }
  }
});

qx.Class.define("qx.ui.mobile.layout.VBox", {
  extend : qx.ui.mobile.layout.AbstractBox,
  members : {
    _getCssClasses : function(){

      return ["vbox"];
    }
  }
});

qx.Class.define("qx.ui.mobile.basic.Image", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(source){

    this.base(arguments);
    if(qx.ui.mobile.basic.Image.ROOT === null){

      qx.ui.mobile.basic.Image.ROOT = qx.core.Init.getApplication().getRoot();
    };
    if(source){

      this.setSource(source);
    } else {

      this.initSource();
    };
    qx.ui.mobile.basic.Image.ROOT.addListener("changeAppScale", this._onChangeAppScale, this);
  },
  events : {
    loadingFailed : "qx.event.type.Event",
    loaded : "qx.event.type.Event"
  },
  statics : {
    PIXEL_RATIOS : null,
    ROOT : null,
    PLACEHOLDER_IMAGE : null
  },
  properties : {
    source : {
      check : "String",
      nullable : true,
      init : null,
      apply : "_applySource"
    }
  },
  members : {
    _getTagName : function(){

      return "img";
    },
    _applySource : function(value, old){

      var source = value;
      var resourceManager = qx.util.ResourceManager.getInstance();
      var uri = resourceManager.toUri(source);
      if(source && source.indexOf('data:') != 0){

        if(resourceManager.has(source) && this._findHighResolutionSource(source)){

          return;
        };
        var ImageLoader = qx.io.ImageLoader;
        if(!ImageLoader.isFailed(uri) && !ImageLoader.isLoaded(uri)){

          ImageLoader.load(uri, this.__loaderCallback, this);
        };
      };
      this._setSource(uri);
    },
    _onChangeAppScale : function(){

      this._applySource(this.getSource());
    },
    _findHighResolutionSource : function(lowResImgSrc){

      var pixelRatioCandidates = qx.ui.mobile.basic.Image.PIXEL_RATIOS;
      var factor = qx.ui.mobile.basic.Image.ROOT.getAppScale();
      if(factor <= 1){

        return false;
      };
      var i = pixelRatioCandidates.length;
      while(i > 0 && factor > pixelRatioCandidates[--i]){
      };
      var hiResImgSrc;
      for(var k = i;k >= 0;k--){

        hiResImgSrc = this._getHighResolutionSource(lowResImgSrc, pixelRatioCandidates[k]);
        if(hiResImgSrc){

          this._createHighResolutionOverlay(hiResImgSrc, lowResImgSrc);
          return true;
        };
      };
      for(var k = i + 1;k < pixelRatioCandidates.length;k++){

        hiResImgSrc = this._getHighResolutionSource(lowResImgSrc, pixelRatioCandidates[k]);
        if(hiResImgSrc){

          this._createHighResolutionOverlay(hiResImgSrc, lowResImgSrc);
          return true;
        };
      };
      return false;
    },
    _getHighResolutionSource : function(source, pixelRatio){

      var fileExtIndex = source.lastIndexOf('.');
      if(fileExtIndex > -1){

        var pixelRatioIdentifier = "@" + pixelRatio + "x";
        var candidate = source.slice(0, fileExtIndex) + pixelRatioIdentifier + source.slice(fileExtIndex);
        if(qx.util.ResourceManager.getInstance().has(candidate)){

          return candidate;
        };
      };
      return null;
    },
    _createHighResolutionOverlay : function(highResSource, lowResSource){

      this._setSource(qx.ui.mobile.basic.Image.PLACEHOLDER_IMAGE);
      var resourceManager = qx.util.ResourceManager.getInstance();
      this._setStyle("backgroundImage", "url(" + resourceManager.toUri(highResSource) + ")");
      this._setStyle("backgroundSize", "100%");
      this._setStyle("backgroundRepeat", "no-repeat");
      this._setStyle("backgroundPosition", "50% 50%");
      this._setStyle("width", resourceManager.getImageWidth(lowResSource) / 16 + "rem");
      this._setStyle("height", resourceManager.getImageHeight(lowResSource) / 16 + "rem");
    },
    __loaderCallback : function(source, imageInfo){

      if(this.$$disposed === true){

        return;
      };
      if(imageInfo.failed){

        this.warn("Image could not be loaded: " + source);
        this.fireEvent("loadingFailed");
      } else if(imageInfo.aborted){

        return;
      } else {

        this.fireEvent("loaded");
      };
      this._domUpdated();
    },
    _setSource : function(source){

      this._setAttribute("src", source);
    },
    setDraggable : function(isDraggable){

      if(isDraggable){

        this._setAttribute("draggable", "true");
      } else {

        this._setAttribute("draggable", "false");
      };
    }
  },
  defer : function(statics){

    statics.PIXEL_RATIOS = ["3", "2", "1.5"];
    statics.PLACEHOLDER_IMAGE = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
  },
  destruct : function(){

    qx.ui.mobile.basic.Image.ROOT.removeListener("changeAppScale", this._onChangeAppScale, this);
  }
});

qx.Class.define("qx.ui.mobile.basic.Label", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(value){

    this.base(arguments);
    if(value){

      this.setValue(value);
    };
    this.initWrap();
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "label"
    },
    value : {
      nullable : true,
      init : null,
      check : "String",
      apply : "_applyValue",
      event : "changeValue"
    },
    anonymous : {
      refine : true,
      init : true
    },
    wrap : {
      check : "Boolean",
      init : true,
      apply : "_applyWrap"
    }
  },
  members : {
    _applyValue : function(value, old){

      this._setHtml(value);
    },
    _applyWrap : function(value, old){

      if(value){

        this.removeCssClass("no-wrap");
      } else {

        this.addCssClass("no-wrap");
      };
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        var content = this.getValue();
        if(content && content.translate){

          this.setValue(content.translate());
        };
      },
      "false" : null
    })
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
  }
});

qx.Class.define("qx.dev.unit.AbstractTestSuite", {
  extend : qx.core.Object,
  type : "abstract",
  construct : function(){

    this.base(arguments);
    this._tests = [];
  },
  members : {
    _tests : null,
    addTestFunction : function(name, fcn){

      this._tests.push(new qx.dev.unit.TestFunction(null, name, fcn));
    },
    addTestMethod : function(testCase, functionName){

      this._tests.push(new qx.dev.unit.TestFunction(testCase, functionName));
    },
    addFail : function(functionName, message){

      this.addTestFunction(functionName, function(){

        this.fail(message);
      });
    },
    run : function(testResult){

      for(var i = 0;i < this._tests.length;i++){

        (this._tests[i]).run(testResult);
      };
    },
    getTestMethods : function(){

      var methods = [];
      for(var i = 0;i < this._tests.length;i++){

        var test = this._tests[i];
        if(test instanceof qx.dev.unit.TestFunction){

          methods.push(test);
        };
      };
      return methods;
    }
  },
  destruct : function(){

    this._disposeArray("_tests");
  }
});

qx.Class.define("qx.dev.unit.TestClass", {
  extend : qx.dev.unit.AbstractTestSuite,
  construct : function(clazz){

    this.base(arguments);
    if(!clazz){

      this.addFail("existsCheck", "Unknown test class!");
      return;
    };
    if(!qx.Class.isSubClassOf(clazz, qx.dev.unit.TestCase)){

      this.addFail("Sub class check.", "The test class '" + clazz.classname + "'is not a sub class of 'qx.dev.unit.TestCase'");
      return;
    };
    var proto = clazz.prototype;
    var testCase = new clazz;
    for(var test in proto){

      if(qx.lang.Type.isFunction(proto[test]) && test.indexOf("test") == 0){

        this.addTestMethod(testCase, test);
      };
    };
    this.setName(clazz.classname);
  },
  properties : {
    name : {
      check : "String"
    }
  }
});

qx.Class.define("qx.dev.unit.TestCase", {
  extend : qx.core.Object,
  include : [qx.core.MAssert],
  events : {
    assertionFailed : "qx.event.type.Data"
  },
  properties : {
    testResult : {
      init : null
    },
    testFunc : {
      init : null
    }
  },
  members : {
    isDebugOn : function(){

      return (qx.core.Environment.get("qx.debug")) ? true : false;
    },
    wait : function(delay, deferredFunction, context){

      throw new qx.dev.unit.AsyncWrapper(delay, deferredFunction, context);
    },
    resume : function(deferredFunction, self){

      this.getTestResult().run(this.getTestFunc(), deferredFunction || (function(){
      }), self || this, true);
    },
    resumeHandler : function(deferredFunction, self){

      if(qx.core.Environment.get("qx.debug")){

        this.assertFunction(deferredFunction, "First parameter of resumeHandler() must be a function!");
      };
      var func = deferredFunction;
      var that = this;
      return function(){

        var args = qx.lang.Array.fromArguments(arguments);
        that.resume(func.bind.apply(func, [self || this].concat(args)), self);
      };
    },
    skip : function(message){

      throw new qx.dev.unit.RequirementError(null, message || "Called skip()");
    }
  }
});

qx.Class.define("qx.dev.unit.AsyncWrapper", {
  extend : qx.core.Object,
  construct : function(delay, deferredFunction, context){

    for(var i = 0;i < 2;i++){

      if(qx.lang.Type.isFunction(arguments[i])){

        this.setDeferredFunction(arguments[i]);
      } else if(qx.lang.Type.isNumber(arguments[i])){

        this.setDelay(arguments[i]);
      };
    };
    if(context){

      this.setContext(context);
    };
  },
  properties : {
    deferredFunction : {
      check : "Function",
      init : false
    },
    context : {
      check : "Object",
      init : null
    },
    delay : {
      check : "Integer",
      nullable : false,
      init : 5000
    }
  }
});

qx.Class.define("qx.dev.unit.RequirementError", {
  extend : Error,
  construct : function(requirement, message){

    this.__message = message || "Requirement not met";
    this.__requirement = requirement;
    var inst = Error.call(this, this.__message);
    if(inst.stack){

      this.stack = inst.stack;
    };
    if(inst.stacktrace){

      this.stacktrace = inst.stacktrace;
    };
  },
  members : {
    __message : null,
    __requirement : null,
    getRequirement : function(){

      return this.__requirement;
    },
    toString : function(){

      var msg = this.__message;
      if(this.__requirement){

        msg += ": " + this.__requirement;
      };
      return msg;
    }
  }
});

qx.Interface.define("qx.ui.form.IDateForm", {
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    setValue : function(value){

      return arguments.length == 1;
    },
    resetValue : function(){
    },
    getValue : function(){
    }
  }
});

qx.Class.define("qx.ui.control.DateChooser", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MExecutable, qx.ui.form.MForm],
  implement : [qx.ui.form.IExecutable, qx.ui.form.IForm, qx.ui.form.IDateForm],
  construct : function(date){

    this.base(arguments);
    var layout = new qx.ui.layout.VBox();
    this._setLayout(layout);
    this._createChildControl("navigation-bar");
    this._createChildControl("date-pane");
    this.addListener("keypress", this._onKeyPress);
    var DateChooser = qx.ui.control.DateChooser;
    if(!DateChooser.MONTH_YEAR_FORMAT){

      DateChooser.MONTH_YEAR_FORMAT = qx.locale.Date.getDateTimeFormat("yyyyMMMM", "MMMM yyyy");
    };
    var shownDate = (date != null) ? date : new Date();
    this.showMonth(shownDate.getMonth(), shownDate.getFullYear());
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._updateDatePane, this);
    };
    this.addListener("pointerdown", this._onPointerUpDown, this);
    this.addListener("pointerup", this._onPointerUpDown, this);
  },
  statics : {
    MONTH_YEAR_FORMAT : null,
    WEEKDAY_FORMAT : "EE",
    WEEK_FORMAT : "ww"
  },
  properties : {
    appearance : {
      refine : true,
      init : "datechooser"
    },
    width : {
      refine : true,
      init : 200
    },
    height : {
      refine : true,
      init : 150
    },
    shownMonth : {
      check : "Integer",
      init : null,
      nullable : true,
      event : "changeShownMonth"
    },
    shownYear : {
      check : "Integer",
      init : null,
      nullable : true,
      event : "changeShownYear"
    },
    value : {
      check : "Date",
      init : null,
      nullable : true,
      event : "changeValue",
      apply : "_applyValue"
    }
  },
  members : {
    __weekdayLabelArr : null,
    __dayLabelArr : null,
    __weekLabelArr : null,
    _forwardStates : {
      invalid : true
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "navigation-bar":
      control = new qx.ui.container.Composite(new qx.ui.layout.HBox());
      control.add(this.getChildControl("last-year-button"));
      control.add(this.getChildControl("last-month-button"));
      control.add(this.getChildControl("month-year-label"), {
        flex : 1
      });
      control.add(this.getChildControl("next-month-button"));
      control.add(this.getChildControl("next-year-button"));
      this._add(control);
      break;case "last-year-button-tooltip":
      control = new qx.ui.tooltip.ToolTip(this.tr("Last year"));
      break;case "last-year-button":
      control = new qx.ui.toolbar.Button();
      control.addState("lastYear");
      control.setFocusable(false);
      control.setToolTip(this.getChildControl("last-year-button-tooltip"));
      control.addListener("tap", this._onNavButtonTap, this);
      break;case "last-month-button-tooltip":
      control = new qx.ui.tooltip.ToolTip(this.tr("Last month"));
      break;case "last-month-button":
      control = new qx.ui.toolbar.Button();
      control.addState("lastMonth");
      control.setFocusable(false);
      control.setToolTip(this.getChildControl("last-month-button-tooltip"));
      control.addListener("tap", this._onNavButtonTap, this);
      break;case "next-month-button-tooltip":
      control = new qx.ui.tooltip.ToolTip(this.tr("Next month"));
      break;case "next-month-button":
      control = new qx.ui.toolbar.Button();
      control.addState("nextMonth");
      control.setFocusable(false);
      control.setToolTip(this.getChildControl("next-month-button-tooltip"));
      control.addListener("tap", this._onNavButtonTap, this);
      break;case "next-year-button-tooltip":
      control = new qx.ui.tooltip.ToolTip(this.tr("Next year"));
      break;case "next-year-button":
      control = new qx.ui.toolbar.Button();
      control.addState("nextYear");
      control.setFocusable(false);
      control.setToolTip(this.getChildControl("next-year-button-tooltip"));
      control.addListener("tap", this._onNavButtonTap, this);
      break;case "month-year-label":
      control = new qx.ui.basic.Label();
      control.setAllowGrowX(true);
      control.setAnonymous(true);
      break;case "week":
      control = new qx.ui.basic.Label();
      control.setAllowGrowX(true);
      control.setAllowGrowY(true);
      control.setSelectable(false);
      control.setAnonymous(true);
      control.setCursor("default");
      break;case "weekday":
      control = new qx.ui.basic.Label();
      control.setAllowGrowX(true);
      control.setAllowGrowY(true);
      control.setSelectable(false);
      control.setAnonymous(true);
      control.setCursor("default");
      break;case "day":
      control = new qx.ui.basic.Label();
      control.setAllowGrowX(true);
      control.setAllowGrowY(true);
      control.setCursor("default");
      control.addListener("pointerdown", this._onDayTap, this);
      control.addListener("dbltap", this._onDayDblTap, this);
      break;case "date-pane":
      var controlLayout = new qx.ui.layout.Grid();
      control = new qx.ui.container.Composite(controlLayout);
      for(var i = 0;i < 8;i++){

        controlLayout.setColumnFlex(i, 1);
      };
      for(var i = 0;i < 7;i++){

        controlLayout.setRowFlex(i, 1);
      };
      var label = this.getChildControl("week#0");
      label.addState("header");
      control.add(label, {
        column : 0,
        row : 0
      });
      this.__weekdayLabelArr = [];
      for(var i = 0;i < 7;i++){

        label = this.getChildControl("weekday#" + i);
        control.add(label, {
          column : i + 1,
          row : 0
        });
        this.__weekdayLabelArr.push(label);
      };
      this.__dayLabelArr = [];
      this.__weekLabelArr = [];
      for(var y = 0;y < 6;y++){

        var label = this.getChildControl("week#" + (y + 1));
        control.add(label, {
          column : 0,
          row : y + 1
        });
        this.__weekLabelArr.push(label);
        for(var x = 0;x < 7;x++){

          var label = this.getChildControl("day#" + ((y * 7) + x));
          control.add(label, {
            column : x + 1,
            row : y + 1
          });
          this.__dayLabelArr.push(label);
        };
      };
      this._add(control);
      break;};
      return control || this.base(arguments, id);
    },
    _applyValue : function(value, old){

      if((value != null) && (this.getShownMonth() != value.getMonth() || this.getShownYear() != value.getFullYear())){

        this.showMonth(value.getMonth(), value.getFullYear());
      } else {

        var newDay = (value == null) ? -1 : value.getDate();
        for(var i = 0;i < 6 * 7;i++){

          var dayLabel = this.__dayLabelArr[i];
          if(dayLabel.hasState("otherMonth")){

            if(dayLabel.hasState("selected")){

              dayLabel.removeState("selected");
            };
          } else {

            var day = parseInt(dayLabel.getValue(), 10);
            if(day == newDay){

              dayLabel.addState("selected");
            } else if(dayLabel.hasState("selected")){

              dayLabel.removeState("selected");
            };
          };
        };
      };
    },
    _onPointerUpDown : function(e){

      var target = e.getTarget();
      if(target == this.getChildControl("navigation-bar") || target == this.getChildControl("date-pane")){

        e.stopPropagation();
        return;
      };
    },
    _onNavButtonTap : function(evt){

      var year = this.getShownYear();
      var month = this.getShownMonth();
      switch(evt.getCurrentTarget()){case this.getChildControl("last-year-button"):
      year--;
      break;case this.getChildControl("last-month-button"):
      month--;
      if(month < 0){

        month = 11;
        year--;
      };
      break;case this.getChildControl("next-month-button"):
      month++;
      if(month >= 12){

        month = 0;
        year++;
      };
      break;case this.getChildControl("next-year-button"):
      year++;
      break;};
      this.showMonth(month, year);
    },
    _onDayTap : function(evt){

      var time = evt.getCurrentTarget().dateTime;
      this.setValue(new Date(time));
    },
    _onDayDblTap : function(){

      this.execute();
    },
    _onKeyPress : function(evt){

      var dayIncrement = null;
      var monthIncrement = null;
      var yearIncrement = null;
      if(evt.getModifiers() == 0){

        switch(evt.getKeyIdentifier()){case "Left":
        dayIncrement = -1;
        break;case "Right":
        dayIncrement = 1;
        break;case "Up":
        dayIncrement = -7;
        break;case "Down":
        dayIncrement = 7;
        break;case "PageUp":
        monthIncrement = -1;
        break;case "PageDown":
        monthIncrement = 1;
        break;case "Escape":
        if(this.getValue() != null){

          this.setValue(null);
          return;
        };
        break;case "Enter":case "Space":
        if(this.getValue() != null){

          this.execute();
        };
        return;};
      } else if(evt.isShiftPressed()){

        switch(evt.getKeyIdentifier()){case "PageUp":
        yearIncrement = -1;
        break;case "PageDown":
        yearIncrement = 1;
        break;};
      };
      if(dayIncrement != null || monthIncrement != null || yearIncrement != null){

        var date = this.getValue();
        if(date != null){

          date = new Date(date.getTime());
        };
        if(date == null){

          date = new Date();
        } else {

          if(dayIncrement != null){

            date.setDate(date.getDate() + dayIncrement);
          };
          if(monthIncrement != null){

            date.setMonth(date.getMonth() + monthIncrement);
          };
          if(yearIncrement != null){

            date.setFullYear(date.getFullYear() + yearIncrement);
          };
        };
        this.setValue(date);
      };
    },
    showMonth : function(month, year){

      if((month != null && month != this.getShownMonth()) || (year != null && year != this.getShownYear())){

        if(month != null){

          this.setShownMonth(month);
        };
        if(year != null){

          this.setShownYear(year);
        };
        this._updateDatePane();
      };
    },
    handleKeyPress : function(e){

      this._onKeyPress(e);
    },
    _updateDatePane : function(){

      var DateChooser = qx.ui.control.DateChooser;
      var today = new Date();
      var todayYear = today.getFullYear();
      var todayMonth = today.getMonth();
      var todayDayOfMonth = today.getDate();
      var selDate = this.getValue();
      var selYear = (selDate == null) ? -1 : selDate.getFullYear();
      var selMonth = (selDate == null) ? -1 : selDate.getMonth();
      var selDayOfMonth = (selDate == null) ? -1 : selDate.getDate();
      var shownMonth = this.getShownMonth();
      var shownYear = this.getShownYear();
      var startOfWeek = qx.locale.Date.getWeekStart();
      var helpDate = new Date(this.getShownYear(), this.getShownMonth(), 1);
      var monthYearFormat = new qx.util.format.DateFormat(DateChooser.MONTH_YEAR_FORMAT);
      this.getChildControl("month-year-label").setValue(monthYearFormat.format(helpDate));
      var firstDayOfWeek = helpDate.getDay();
      var firstSundayInMonth = 1 + ((7 - firstDayOfWeek) % 7);
      var weekDayFormat = new qx.util.format.DateFormat(DateChooser.WEEKDAY_FORMAT);
      for(var i = 0;i < 7;i++){

        var day = (i + startOfWeek) % 7;
        var dayLabel = this.__weekdayLabelArr[i];
        helpDate.setDate(firstSundayInMonth + day);
        dayLabel.setValue(weekDayFormat.format(helpDate));
        if(qx.locale.Date.isWeekend(day)){

          dayLabel.addState("weekend");
        } else {

          dayLabel.removeState("weekend");
        };
      };
      helpDate = new Date(shownYear, shownMonth, 1, 12, 0, 0);
      var nrDaysOfLastMonth = (7 + firstDayOfWeek - startOfWeek) % 7;
      helpDate.setDate(helpDate.getDate() - nrDaysOfLastMonth);
      var weekFormat = new qx.util.format.DateFormat(DateChooser.WEEK_FORMAT);
      for(var week = 0;week < 6;week++){

        this.__weekLabelArr[week].setValue(weekFormat.format(helpDate));
        for(var i = 0;i < 7;i++){

          var dayLabel = this.__dayLabelArr[week * 7 + i];
          var year = helpDate.getFullYear();
          var month = helpDate.getMonth();
          var dayOfMonth = helpDate.getDate();
          var isSelectedDate = (selYear == year && selMonth == month && selDayOfMonth == dayOfMonth);
          if(isSelectedDate){

            dayLabel.addState("selected");
          } else {

            dayLabel.removeState("selected");
          };
          if(month != shownMonth){

            dayLabel.addState("otherMonth");
          } else {

            dayLabel.removeState("otherMonth");
          };
          var isToday = (year == todayYear && month == todayMonth && dayOfMonth == todayDayOfMonth);
          if(isToday){

            dayLabel.addState("today");
          } else {

            dayLabel.removeState("today");
          };
          dayLabel.setValue("" + dayOfMonth);
          dayLabel.dateTime = helpDate.getTime();
          helpDate.setDate(helpDate.getDate() + 1);
        };
      };
      monthYearFormat.dispose();
      weekDayFormat.dispose();
      weekFormat.dispose();
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._updateDatePane, this);
    };
    this.__weekdayLabelArr = this.__dayLabelArr = this.__weekLabelArr = null;
  }
});

qx.Class.define("qx.ui.toolbar.Button", {
  extend : qx.ui.form.Button,
  construct : function(label, icon, command){

    this.base(arguments, label, icon, command);
    this.removeListener("keydown", this._onKeyDown);
    this.removeListener("keyup", this._onKeyUp);
  },
  properties : {
    appearance : {
      refine : true,
      init : "toolbar-button"
    },
    show : {
      refine : true,
      init : "inherit"
    },
    focusable : {
      refine : true,
      init : false
    }
  },
  members : {
    _applyVisibility : function(value, old){

      this.base(arguments, value, old);
      var parent = this.getLayoutParent();
      if(parent && parent instanceof qx.ui.toolbar.PartContainer){

        qx.ui.core.queue.Appearance.add(parent);
      };
    }
  }
});

qx.Class.define("qx.data.store.Json", {
  extend : qx.core.Object,
  construct : function(url, delegate){

    this.base(arguments);
    this._marshaler = new qx.data.marshal.Json(delegate);
    this._delegate = delegate;
    if(url != null){

      this.setUrl(url);
    };
  },
  events : {
    "loaded" : "qx.event.type.Data",
    "error" : "qx.event.type.Data"
  },
  properties : {
    model : {
      nullable : true,
      event : "changeModel"
    },
    state : {
      check : ["configured", "queued", "sending", "receiving", "completed", "aborted", "timeout", "failed"],
      init : "configured",
      event : "changeState"
    },
    url : {
      check : "String",
      apply : "_applyUrl",
      event : "changeUrl",
      nullable : true
    }
  },
  members : {
    _marshaler : null,
    _delegate : null,
    __request : null,
    _applyUrl : function(value, old){

      if(value != null){

        value = qx.util.AliasManager.getInstance().resolve(value);
        value = qx.util.ResourceManager.getInstance().toUri(value);
        this._createRequest(value);
      };
    },
    _getRequest : function(){

      return this.__request;
    },
    _setRequest : function(request){

      this.__request = request;
    },
    _createRequest : function(url){

      if(this.__request){

        this.__request.dispose();
        this.__request = null;
      };
      var req = new qx.io.request.Xhr(url);
      this._setRequest(req);
      req.setAccept("application/json");
      req.setParser("json");
      req.addListener("success", this._onSuccess, this);
      var del = this._delegate;
      if(del && qx.lang.Type.isFunction(del.configureRequest)){

        this._delegate.configureRequest(req);
      };
      req.addListener("changePhase", this._onChangePhase, this);
      req.addListener("fail", this._onFail, this);
      req.send();
    },
    _onChangePhase : function(ev){

      var requestPhase = ev.getData(),requestPhaseToStorePhase = {
      },state;
      requestPhaseToStorePhase = {
        "opened" : "configured",
        "sent" : "sending",
        "loading" : "receiving",
        "success" : "completed",
        "abort" : "aborted",
        "timeout" : "timeout",
        "statusError" : "failed"
      };
      state = requestPhaseToStorePhase[requestPhase];
      if(state){

        this.setState(state);
      };
    },
    _onFail : function(ev){

      var req = ev.getTarget();
      this.fireDataEvent("error", req);
    },
    _onSuccess : function(ev){

      if(this.isDisposed()){

        return;
      };
      var req = ev.getTarget(),data = req.getResponse();
      var del = this._delegate;
      if(del && qx.lang.Type.isFunction(del.manipulateData)){

        data = this._delegate.manipulateData(data);
      };
      this._marshaler.toClass(data, true);
      var oldModel = this.getModel();
      this.setModel(this._marshaler.toModel(data));
      if(oldModel && oldModel.dispose){

        oldModel.dispose();
      };
      this.fireDataEvent("loaded", this.getModel());
      if(this.__request){

        this.__request.dispose();
        this.__request = null;
      };
    },
    reload : function(){

      var url = this.getUrl();
      if(url != null){

        this._createRequest(url);
      };
    }
  },
  destruct : function(){

    if(this.__request != null){

      this._disposeObjects("__request");
    };
    this._disposeSingletonObjects("_marshaler");
    this._delegate = null;
  }
});

qx.Class.define("qx.io.request.AbstractRequest", {
  type : "abstract",
  extend : qx.core.Object,
  construct : function(url){

    this.base(arguments);
    if(url !== undefined){

      this.setUrl(url);
    };
    this.__requestHeaders = {
    };
    var transport = this._transport = this._createTransport();
    this._setPhase("unsent");
    this.__onReadyStateChangeBound = qx.lang.Function.bind(this._onReadyStateChange, this);
    this.__onLoadBound = qx.lang.Function.bind(this._onLoad, this);
    this.__onLoadEndBound = qx.lang.Function.bind(this._onLoadEnd, this);
    this.__onAbortBound = qx.lang.Function.bind(this._onAbort, this);
    this.__onTimeoutBound = qx.lang.Function.bind(this._onTimeout, this);
    this.__onErrorBound = qx.lang.Function.bind(this._onError, this);
    transport.onreadystatechange = this.__onReadyStateChangeBound;
    transport.onload = this.__onLoadBound;
    transport.onloadend = this.__onLoadEndBound;
    transport.onabort = this.__onAbortBound;
    transport.ontimeout = this.__onTimeoutBound;
    transport.onerror = this.__onErrorBound;
  },
  events : {
    "readyStateChange" : "qx.event.type.Event",
    "success" : "qx.event.type.Event",
    "load" : "qx.event.type.Event",
    "loadEnd" : "qx.event.type.Event",
    "abort" : "qx.event.type.Event",
    "timeout" : "qx.event.type.Event",
    "error" : "qx.event.type.Event",
    "statusError" : "qx.event.type.Event",
    "fail" : "qx.event.type.Event",
    "changeResponse" : "qx.event.type.Data",
    "changePhase" : "qx.event.type.Data"
  },
  properties : {
    url : {
      check : "String"
    },
    timeout : {
      check : "Number",
      nullable : true,
      init : 0
    },
    requestData : {
      check : function(value){

        return qx.lang.Type.isString(value) || qx.Class.isSubClassOf(value.constructor, qx.core.Object) || qx.lang.Type.isObject(value);
      },
      nullable : true
    },
    authentication : {
      check : "qx.io.request.authentication.IAuthentication",
      nullable : true
    }
  },
  members : {
    __onReadyStateChangeBound : null,
    __onLoadBound : null,
    __onLoadEndBound : null,
    __onAbortBound : null,
    __onTimeoutBound : null,
    __onErrorBound : null,
    __response : null,
    __abort : null,
    __phase : null,
    __requestHeaders : null,
    __requestHeadersDeprecated : null,
    _transport : null,
    _createTransport : function(){

      throw new Error("Abstract method call");
    },
    _getConfiguredUrl : function(){
    },
    _getConfiguredRequestHeaders : function(){
    },
    _getParsedResponse : function(){

      throw new Error("Abstract method call");
    },
    _getMethod : function(){

      return "GET";
    },
    _isAsync : function(){

      return true;
    },
    send : function(){

      var transport = this._transport,url,method,async,serializedData;
      url = this._getConfiguredUrl();
      if(/\#/.test(url)){

        url = url.replace(/\#.*/, "");
      };
      transport.timeout = this.getTimeout();
      method = this._getMethod();
      async = this._isAsync();
      if(qx.core.Environment.get("qx.debug.io")){

        this.debug("Open low-level request with method: " + method + ", url: " + url + ", async: " + async);
      };
      transport.open(method, url, async);
      this._setPhase("opened");
      serializedData = this._serializeData(this.getRequestData());
      this._setRequestHeaders();
      if(qx.core.Environment.get("qx.debug.io")){

        this.debug("Send low-level request");
      };
      method == "GET" ? transport.send() : transport.send(serializedData);
      this._setPhase("sent");
    },
    abort : function(){

      if(qx.core.Environment.get("qx.debug.io")){

        this.debug("Abort request");
      };
      this.__abort = true;
      this.__phase = "abort";
      this._transport.abort();
    },
    _setRequestHeaders : function(){

      var transport = this._transport,requestHeaders = this._getAllRequestHeaders();
      for(var key in requestHeaders){

        transport.setRequestHeader(key, requestHeaders[key]);
      };
    },
    _getAllRequestHeaders : function(){

      var requestHeaders = {
      };
      qx.lang.Object.mergeWith(requestHeaders, this._getConfiguredRequestHeaders());
      qx.lang.Object.mergeWith(requestHeaders, this.__getAuthRequestHeaders());
      qx.lang.Object.mergeWith(requestHeaders, this.__requestHeadersDeprecated);
      qx.lang.Object.mergeWith(requestHeaders, this.__requestHeaders);
      return requestHeaders;
    },
    __getAuthRequestHeaders : function(){

      var auth = this.getAuthentication(),headers = {
      };
      if(auth){

        auth.getAuthHeaders().forEach(function(header){

          headers[header.key] = header.value;
        });
        return headers;
      };
    },
    setRequestHeader : function(key, value){

      this.__requestHeaders[key] = value;
    },
    getRequestHeader : function(key){

      return this.__requestHeaders[key];
    },
    removeRequestHeader : function(key){

      if(this.__requestHeaders[key]){

        delete this.__requestHeaders[key];
      };
    },
    getTransport : function(){

      return this._transport;
    },
    getReadyState : function(){

      return this._transport.readyState;
    },
    getPhase : function(){

      return this.__phase;
    },
    getStatus : function(){

      return this._transport.status;
    },
    getStatusText : function(){

      return this._transport.statusText;
    },
    getResponseText : function(){

      return this._transport.responseText;
    },
    getAllResponseHeaders : function(){

      return this._transport.getAllResponseHeaders();
    },
    getResponseHeader : function(key){

      return this._transport.getResponseHeader(key);
    },
    overrideResponseContentType : function(contentType){

      return this._transport.overrideMimeType(contentType);
    },
    getResponseContentType : function(){

      return this.getResponseHeader("Content-Type");
    },
    isDone : function(){

      return this.getReadyState() === 4;
    },
    getResponse : function(){

      return this.__response;
    },
    _setResponse : function(response){

      var oldResponse = response;
      if(this.__response !== response){

        this.__response = response;
        this.fireEvent("changeResponse", qx.event.type.Data, [this.__response, oldResponse]);
      };
    },
    _onReadyStateChange : function(){

      var readyState = this.getReadyState();
      if(qx.core.Environment.get("qx.debug.io")){

        this.debug("Fire readyState: " + readyState);
      };
      this.fireEvent("readyStateChange");
      if(this.__abort){

        return;
      };
      if(readyState === 3){

        this._setPhase("loading");
      };
      if(this.isDone()){

        this.__onReadyStateDone();
      };
    },
    __onReadyStateDone : function(){

      if(qx.core.Environment.get("qx.debug.io")){

        this.debug("Request completed with HTTP status: " + this.getStatus());
      };
      this._setPhase("load");
      if(qx.util.Request.isSuccessful(this.getStatus())){

        if(qx.core.Environment.get("qx.debug.io")){

          this.debug("Response is of type: '" + this.getResponseContentType() + "'");
        };
        this._setResponse(this._getParsedResponse());
        this._fireStatefulEvent("success");
      } else {

        try{

          this._setResponse(this._getParsedResponse());
        } catch(e) {
        };
        if(this.getStatus() !== 0){

          this._fireStatefulEvent("statusError");
          this.fireEvent("fail");
        };
      };
    },
    _onLoad : function(){

      this.fireEvent("load");
    },
    _onLoadEnd : function(){

      this.fireEvent("loadEnd");
    },
    _onAbort : function(){

      this._fireStatefulEvent("abort");
    },
    _onTimeout : function(){

      this._fireStatefulEvent("timeout");
      this.fireEvent("fail");
    },
    _onError : function(){

      this.fireEvent("error");
      this.fireEvent("fail");
    },
    _fireStatefulEvent : function(evt){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertString(evt);
      };
      this._setPhase(evt);
      this.fireEvent(evt);
    },
    _setPhase : function(phase){

      var previousPhase = this.__phase;
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertString(phase);
        qx.core.Assert.assertMatch(phase, /^(unsent)|(opened)|(sent)|(loading)|(load)|(success)|(abort)|(timeout)|(statusError)$/);
      };
      this.__phase = phase;
      this.fireDataEvent("changePhase", phase, previousPhase);
    },
    _serializeData : function(data){

      var isPost = typeof this.getMethod !== "undefined" && this.getMethod() == "POST",isJson = (/application\/.*\+?json/).test(this.getRequestHeader("Content-Type"));
      if(!data){

        return null;
      };
      if(qx.lang.Type.isString(data)){

        return data;
      };
      if(qx.Class.isSubClassOf(data.constructor, qx.core.Object)){

        return qx.util.Serializer.toUriParameter(data);
      };
      if(isJson && (qx.lang.Type.isObject(data) || qx.lang.Type.isArray(data))){

        return qx.lang.Json.stringify(data);
      };
      if(qx.lang.Type.isObject(data)){

        return qx.util.Uri.toParameter(data, isPost);
      };
    }
  },
  environment : {
    "qx.debug.io" : false
  },
  destruct : function(){

    var transport = this._transport,noop = function(){
    };
    if(this._transport){

      transport.onreadystatechange = transport.onload = transport.onloadend = transport.onabort = transport.ontimeout = transport.onerror = noop;
      window.setTimeout(function(){

        transport.dispose();
      }, 0);
    };
  }
});

qx.Class.define("qx.io.request.Xhr", {
  extend : qx.io.request.AbstractRequest,
  construct : function(url, method){

    if(method !== undefined){

      this.setMethod(method);
    };
    this.base(arguments, url);
    this._parser = this._createResponseParser();
  },
  events : {
    "readyStateChange" : "qx.event.type.Event",
    "success" : "qx.event.type.Event",
    "load" : "qx.event.type.Event",
    "statusError" : "qx.event.type.Event"
  },
  properties : {
    method : {
      init : "GET"
    },
    async : {
      check : "Boolean",
      init : true
    },
    accept : {
      check : "String",
      nullable : true
    },
    cache : {
      check : function(value){

        return qx.lang.Type.isBoolean(value) || qx.lang.Type.isString(value);
      },
      init : true
    }
  },
  members : {
    _parser : null,
    _createTransport : function(){

      return new qx.bom.request.Xhr();
    },
    _getConfiguredUrl : function(){

      var url = this.getUrl(),serializedData;
      if(this.getMethod() === "GET" && this.getRequestData()){

        serializedData = this._serializeData(this.getRequestData());
        url = qx.util.Uri.appendParamsToUrl(url, serializedData);
      };
      if(this.getCache() === false){

        url = qx.util.Uri.appendParamsToUrl(url, {
          nocache : new Date().valueOf()
        });
      };
      return url;
    },
    _getConfiguredRequestHeaders : function(){

      var headers = {
      },isAllowsBody = qx.util.Request.methodAllowsRequestBody(this.getMethod());
      if(!qx.util.Request.isCrossDomain(this.getUrl())){

        headers["X-Requested-With"] = "XMLHttpRequest";
      };
      if(qx.lang.Type.isString(this.getCache())){

        headers["Cache-Control"] = this.getCache();
      };
      if(this.getRequestData() !== "null" && isAllowsBody){

        headers["Content-Type"] = "application/x-www-form-urlencoded";
      };
      if(this.getAccept()){

        if(qx.core.Environment.get("qx.debug.io")){

          this.debug("Accepting: '" + this.getAccept() + "'");
        };
        headers["Accept"] = this.getAccept();
      };
      return headers;
    },
    _getMethod : function(){

      return this.getMethod();
    },
    _isAsync : function(){

      return this.isAsync();
    },
    _createResponseParser : function(){

      return new qx.util.ResponseParser();
    },
    _getParsedResponse : function(){

      var response = this._transport.responseText,contentType = this.getResponseContentType() || "";
      return this._parser.parse(response, contentType);
    },
    setParser : function(parser){

      return this._parser.setParser(parser);
    }
  }
});

qx.Bootstrap.define("qx.bom.request.Xhr", {
  extend : Object,
  construct : function(){

    var boundFunc = qx.Bootstrap.bind(this.__onNativeReadyStateChange, this);
    if(qx.event && qx.event.GlobalError && qx.event.GlobalError.observeMethod){

      this.__onNativeReadyStateChangeBound = qx.event.GlobalError.observeMethod(boundFunc);
    } else {

      this.__onNativeReadyStateChangeBound = boundFunc;
    };
    this.__onNativeAbortBound = qx.Bootstrap.bind(this.__onNativeAbort, this);
    this.__onTimeoutBound = qx.Bootstrap.bind(this.__onTimeout, this);
    this.__initNativeXhr();
    this._emitter = new qx.event.Emitter();
    if(window.attachEvent){

      this.__onUnloadBound = qx.Bootstrap.bind(this.__onUnload, this);
      window.attachEvent("onunload", this.__onUnloadBound);
    };
  },
  statics : {
    UNSENT : 0,
    OPENED : 1,
    HEADERS_RECEIVED : 2,
    LOADING : 3,
    DONE : 4
  },
  events : {
    "readystatechange" : "qx.bom.request.Xhr",
    "error" : "qx.bom.request.Xhr",
    "loadend" : "qx.bom.request.Xhr",
    "timeout" : "qx.bom.request.Xhr",
    "abort" : "qx.bom.request.Xhr",
    "load" : "qx.bom.request.Xhr"
  },
  members : {
    readyState : 0,
    responseText : "",
    responseXML : null,
    status : 0,
    statusText : "",
    timeout : 0,
    open : function(method, url, async, user, password){

      this.__checkDisposed();
      if(typeof url === "undefined"){

        throw new Error("Not enough arguments");
      } else if(typeof method === "undefined"){

        method = "GET";
      };
      this.__abort = false;
      this.__send = false;
      this.__conditional = false;
      this.__url = url;
      if(typeof async == "undefined"){

        async = true;
      };
      this.__async = async;
      if(!this.__supportsManyRequests() && this.readyState > qx.bom.request.Xhr.UNSENT){

        this.dispose();
        this.__initNativeXhr();
      };
      this.__nativeXhr.onreadystatechange = this.__onNativeReadyStateChangeBound;
      try{

        if(qx.core.Environment.get("qx.debug.io")){

          qx.Bootstrap.debug(qx.bom.request.Xhr, "Open native request with method: " + method + ", url: " + url + ", async: " + async);
        };
        this.__nativeXhr.open(method, url, async, user, password);
      } catch(OpenError) {

        if(!qx.util.Request.isCrossDomain(url)){

          throw OpenError;
        };
        if(!this.__async){

          this.__openError = OpenError;
        };
        if(this.__async){

          if(window.XDomainRequest){

            this.readyState = 4;
            this.__nativeXhr = new XDomainRequest();
            this.__nativeXhr.onerror = qx.Bootstrap.bind(function(){

              this._emit("readystatechange");
              this._emit("error");
              this._emit("loadend");
            }, this);
            if(qx.core.Environment.get("qx.debug.io")){

              qx.Bootstrap.debug(qx.bom.request.Xhr, "Retry open native request with method: " + method + ", url: " + url + ", async: " + async);
            };
            this.__nativeXhr.open(method, url, async, user, password);
            return;
          };
          window.setTimeout(qx.Bootstrap.bind(function(){

            if(this.__disposed){

              return;
            };
            this.readyState = 4;
            this._emit("readystatechange");
            this._emit("error");
            this._emit("loadend");
          }, this));
        };
      };
      if(qx.core.Environment.get("engine.name") === "mshtml" && qx.core.Environment.get("browser.documentmode") < 9 && this.__nativeXhr.readyState > 0){

        this.__nativeXhr.setRequestHeader("If-Modified-Since", "-1");
      };
      if(qx.core.Environment.get("engine.name") === "gecko" && parseInt(qx.core.Environment.get("engine.version"), 10) < 2 && !this.__async){

        this.readyState = qx.bom.request.Xhr.OPENED;
        this._emit("readystatechange");
      };
    },
    setRequestHeader : function(key, value){

      this.__checkDisposed();
      if(key == "If-Match" || key == "If-Modified-Since" || key == "If-None-Match" || key == "If-Range"){

        this.__conditional = true;
      };
      this.__nativeXhr.setRequestHeader(key, value);
      return this;
    },
    send : function(data){

      this.__checkDisposed();
      if(!this.__async && this.__openError){

        throw this.__openError;
      };
      if(qx.core.Environment.get("engine.name") === "opera" && this.timeout === 0){

        this.timeout = 10000;
      };
      if(this.timeout > 0){

        this.__timerId = window.setTimeout(this.__onTimeoutBound, this.timeout);
      };
      data = typeof data == "undefined" ? null : data;
      try{

        if(qx.core.Environment.get("qx.debug.io")){

          qx.Bootstrap.debug(qx.bom.request.Xhr, "Send native request");
        };
        this.__nativeXhr.send(data);
      } catch(SendError) {

        if(!this.__async){

          throw SendError;
        };
        if(this._getProtocol() === "file:"){

          this.readyState = 2;
          this.__readyStateChange();
          var that = this;
          window.setTimeout(function(){

            if(that.__disposed){

              return;
            };
            that.readyState = 3;
            that.__readyStateChange();
            that.readyState = 4;
            that.__readyStateChange();
          });
        };
      };
      if(qx.core.Environment.get("engine.name") === "gecko" && !this.__async){

        this.__onNativeReadyStateChange();
      };
      this.__send = true;
      return this;
    },
    abort : function(){

      this.__checkDisposed();
      this.__abort = true;
      this.__nativeXhr.abort();
      if(this.__nativeXhr){

        this.readyState = this.__nativeXhr.readyState;
      };
      return this;
    },
    _emit : function(event){

      if(this["on" + event]){

        this["on" + event]();
      };
      this._emitter.emit(event, this);
    },
    onreadystatechange : function(){
    },
    onload : function(){
    },
    onloadend : function(){
    },
    onerror : function(){
    },
    onabort : function(){
    },
    ontimeout : function(){
    },
    on : function(name, listener, ctx){

      this._emitter.on(name, listener, ctx);
      return this;
    },
    getResponseHeader : function(header){

      this.__checkDisposed();
      return this.__nativeXhr.getResponseHeader(header);
    },
    getAllResponseHeaders : function(){

      this.__checkDisposed();
      return this.__nativeXhr.getAllResponseHeaders();
    },
    overrideMimeType : function(mimeType){

      this.__checkDisposed();
      if(this.__nativeXhr.overrideMimeType){

        this.__nativeXhr.overrideMimeType(mimeType);
      } else {

        throw new Error("Native XHR object doesn't support overrideMimeType.");
      };
      return this;
    },
    getRequest : function(){

      return this.__nativeXhr;
    },
    dispose : function(){

      if(this.__disposed){

        return false;
      };
      window.clearTimeout(this.__timerId);
      if(window.detachEvent){

        window.detachEvent("onunload", this.__onUnloadBound);
      };
      try{

        this.__nativeXhr.onreadystatechange;
      } catch(PropertiesNotAccessable) {

        return false;
      };
      var noop = function(){
      };
      this.__nativeXhr.onreadystatechange = noop;
      this.__nativeXhr.onload = noop;
      this.__nativeXhr.onerror = noop;
      this.abort();
      this.__nativeXhr = null;
      this.__disposed = true;
      return true;
    },
    isDisposed : function(){

      return !!this.__disposed;
    },
    _createNativeXhr : function(){

      var xhr = qx.core.Environment.get("io.xhr");
      if(xhr === "xhr"){

        return new XMLHttpRequest();
      };
      if(xhr == "activex"){

        return new window.ActiveXObject("Microsoft.XMLHTTP");
      };
      qx.Bootstrap.error(this, "No XHR support available.");
    },
    _getProtocol : function(){

      var url = this.__url;
      var protocolRe = /^(\w+:)\/\//;
      if(url !== null && url.match){

        var match = url.match(protocolRe);
        if(match && match[1]){

          return match[1];
        };
      };
      return window.location.protocol;
    },
    __nativeXhr : null,
    __async : null,
    __onNativeReadyStateChangeBound : null,
    __onNativeAbortBound : null,
    __onUnloadBound : null,
    __onTimeoutBound : null,
    __send : null,
    __url : null,
    __abort : null,
    __timeout : null,
    __disposed : null,
    __timerId : null,
    __openError : null,
    __conditional : null,
    __initNativeXhr : function(){

      this.__nativeXhr = this._createNativeXhr();
      this.__nativeXhr.onreadystatechange = this.__onNativeReadyStateChangeBound;
      if(this.__nativeXhr.onabort){

        this.__nativeXhr.onabort = this.__onNativeAbortBound;
      };
      this.__disposed = this.__send = this.__abort = false;
    },
    __onNativeAbort : function(){

      if(!this.__abort){

        this.abort();
      };
    },
    __onNativeReadyStateChange : function(){

      var nxhr = this.__nativeXhr,propertiesReadable = true;
      if(qx.core.Environment.get("qx.debug.io")){

        qx.Bootstrap.debug(qx.bom.request.Xhr, "Received native readyState: " + nxhr.readyState);
      };
      if(this.readyState == nxhr.readyState){

        return;
      };
      this.readyState = nxhr.readyState;
      if(this.readyState === qx.bom.request.Xhr.DONE && this.__abort && !this.__send){

        return;
      };
      if(!this.__async && (nxhr.readyState == 2 || nxhr.readyState == 3)){

        return;
      };
      this.status = 0;
      this.statusText = this.responseText = "";
      this.responseXML = null;
      if(this.readyState >= qx.bom.request.Xhr.HEADERS_RECEIVED){

        try{

          this.status = nxhr.status;
          this.statusText = nxhr.statusText;
          this.responseText = nxhr.responseText;
          this.responseXML = nxhr.responseXML;
        } catch(XhrPropertiesNotReadable) {

          propertiesReadable = false;
        };
        if(propertiesReadable){

          this.__normalizeStatus();
          this.__normalizeResponseXML();
        };
      };
      this.__readyStateChange();
      if(this.readyState == qx.bom.request.Xhr.DONE){

        if(nxhr){

          nxhr.onreadystatechange = function(){
          };
        };
      };
    },
    __readyStateChange : function(){

      var that = this;
      if(this.readyState === qx.bom.request.Xhr.DONE){

        window.clearTimeout(this.__timerId);
      };
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 8){

        if(this.__async && !this.__send && this.readyState >= qx.bom.request.Xhr.LOADING){

          if(this.readyState == qx.bom.request.Xhr.LOADING){

            return;
          };
          if(this.readyState == qx.bom.request.Xhr.DONE){

            window.setTimeout(function(){

              if(that.__disposed){

                return;
              };
              that.readyState = 3;
              that._emit("readystatechange");
              that.readyState = 4;
              that._emit("readystatechange");
              that.__readyStateChangeDone();
            });
            return;
          };
        };
      };
      this._emit("readystatechange");
      if(this.readyState === qx.bom.request.Xhr.DONE){

        this.__readyStateChangeDone();
      };
    },
    __readyStateChangeDone : function(){

      if(this.__timeout){

        this._emit("timeout");
        if(qx.core.Environment.get("engine.name") === "opera"){

          this._emit("error");
        };
        this.__timeout = false;
      } else {

        if(this.__abort){

          this._emit("abort");
        } else {

          if(this.__isNetworkError()){

            this._emit("error");
          } else {

            this._emit("load");
          };
        };
      };
      this._emit("loadend");
    },
    __isNetworkError : function(){

      var error;
      if(this._getProtocol() === "file:"){

        error = !this.responseText;
      } else {

        error = !this.statusText;
      };
      return error;
    },
    __onTimeout : function(){

      var nxhr = this.__nativeXhr;
      this.readyState = qx.bom.request.Xhr.DONE;
      this.__timeout = true;
      nxhr.abort();
      this.responseText = "";
      this.responseXML = null;
      this.__readyStateChange();
    },
    __normalizeStatus : function(){

      var isDone = this.readyState === qx.bom.request.Xhr.DONE;
      if(this._getProtocol() === "file:" && this.status === 0 && isDone){

        if(!this.__isNetworkError()){

          this.status = 200;
        };
      };
      if(this.status === 1223){

        this.status = 204;
      };
      if(qx.core.Environment.get("engine.name") === "opera"){

        if(isDone && this.__conditional && !this.__abort && this.status === 0){

          this.status = 304;
        };
      };
    },
    __normalizeResponseXML : function(){

      if(qx.core.Environment.get("engine.name") == "mshtml" && (this.getResponseHeader("Content-Type") || "").match(/[^\/]+\/[^\+]+\+xml/) && this.responseXML && !this.responseXML.documentElement){

        var dom = new window.ActiveXObject("Microsoft.XMLDOM");
        dom.async = false;
        dom.validateOnParse = false;
        dom.loadXML(this.responseText);
        this.responseXML = dom;
      };
    },
    __onUnload : function(){

      try{

        if(this){

          this.dispose();
        };
      } catch(e) {
      };
    },
    __supportsManyRequests : function(){

      var name = qx.core.Environment.get("engine.name");
      var version = qx.core.Environment.get("browser.version");
      return !(name == "mshtml" && version < 9 || name == "gecko" && version < 3.5);
    },
    __checkDisposed : function(){

      if(this.__disposed){

        throw new Error("Already disposed");
      };
    }
  },
  defer : function(){

    qx.core.Environment.add("qx.debug.io", false);
  }
});

qx.Bootstrap.define("qx.util.ResponseParser", {
  construct : function(parser){

    if(parser !== undefined){

      this.setParser(parser);
    };
  },
  statics : {
    PARSER : {
      json : qx.lang.Json.parse,
      xml : qx.xml.Document.fromString
    }
  },
  members : {
    __parser : null,
    parse : function(response, contentType){

      var parser = this._getParser(contentType);
      if(typeof parser === "function"){

        if(response !== ""){

          return parser.call(this, response);
        };
      };
      return response;
    },
    setParser : function(parser){

      if(typeof qx.util.ResponseParser.PARSER[parser] === "function"){

        return this.__parser = qx.util.ResponseParser.PARSER[parser];
      };
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertFunction(parser);
      };
      return this.__parser = parser;
    },
    _getParser : function(contentType){

      var parser = this.__parser,contentTypeOrig = "",contentTypeNormalized = "";
      if(parser){

        return parser;
      };
      contentTypeOrig = contentType || "";
      contentTypeNormalized = contentTypeOrig.replace(/;.*$/, "");
      if((/^application\/(\w|\.)*\+?json$/).test(contentTypeNormalized)){

        parser = qx.util.ResponseParser.PARSER.json;
      };
      if((/^application\/xml$/).test(contentTypeNormalized)){

        parser = qx.util.ResponseParser.PARSER.xml;
      };
      if((/[^\/]+\/[^\+]+\+xml$/).test(contentTypeOrig)){

        parser = qx.util.ResponseParser.PARSER.xml;
      };
      return parser;
    }
  }
});

qx.Class.define("qx.data.store.Jsonp", {
  extend : qx.data.store.Json,
  construct : function(url, delegate, callbackParam){

    if(callbackParam != undefined){

      this.setCallbackParam(callbackParam);
    };
    this.base(arguments, url, delegate);
  },
  properties : {
    callbackParam : {
      check : "String",
      init : "callback",
      nullable : true
    },
    callbackName : {
      check : "String",
      nullable : true
    }
  },
  members : {
    _createRequest : function(url){

      if(this._getRequest()){

        this._getRequest().dispose();
      };
      var req = new qx.io.request.Jsonp();
      this._setRequest(req);
      req.setCallbackParam(this.getCallbackParam());
      req.setCallbackName(this.getCallbackName());
      req.setUrl(url);
      req.addListener("success", this._onSuccess, this);
      var del = this._delegate;
      if(del && qx.lang.Type.isFunction(del.configureRequest)){

        this._delegate.configureRequest(req);
      };
      req.addListener("changePhase", this._onChangePhase, this);
      req.addListener("fail", this._onFail, this);
      req.send();
    }
  }
});

qx.Class.define("qx.io.request.Jsonp", {
  extend : qx.io.request.AbstractRequest,
  events : {
    "success" : "qx.event.type.Event",
    "load" : "qx.event.type.Event",
    "statusError" : "qx.event.type.Event"
  },
  properties : {
    cache : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    _createTransport : function(){

      return new qx.bom.request.Jsonp();
    },
    _getConfiguredUrl : function(){

      var url = this.getUrl(),serializedData;
      if(this.getRequestData()){

        serializedData = this._serializeData(this.getRequestData());
        url = qx.util.Uri.appendParamsToUrl(url, serializedData);
      };
      if(!this.getCache()){

        url = qx.util.Uri.appendParamsToUrl(url, {
          nocache : new Date().valueOf()
        });
      };
      return url;
    },
    _getParsedResponse : function(){

      return this._transport.responseJson;
    },
    setCallbackParam : function(param){

      this._transport.setCallbackParam(param);
    },
    setCallbackName : function(name){

      this._transport.setCallbackName(name);
    }
  }
});

qx.Bootstrap.define("qx.bom.request.Jsonp", {
  extend : qx.bom.request.Script,
  construct : function(){

    qx.bom.request.Script.apply(this);
    this.__generateId();
  },
  members : {
    responseJson : null,
    __id : null,
    __callbackParam : null,
    __callbackName : null,
    __callbackCalled : null,
    __customCallbackCreated : null,
    __generatedUrl : null,
    __disposed : null,
    __prefix : "",
    open : function(method, url){

      if(this.__disposed){

        return;
      };
      var query = {
      },callbackParam,callbackName,that = this;
      this.responseJson = null;
      this.__callbackCalled = false;
      callbackParam = this.__callbackParam || "callback";
      callbackName = this.__callbackName || this.__prefix + "qx.bom.request.Jsonp." + this.__id + ".callback";
      if(!this.__callbackName){

        this.constructor[this.__id] = this;
      } else {

        if(!window[this.__callbackName]){

          this.__customCallbackCreated = true;
          window[this.__callbackName] = function(data){

            that.callback(data);
          };
        } else {

          if(qx.core.Environment.get("qx.debug.io")){

            qx.Bootstrap.debug(qx.bom.request.Jsonp, "Callback " + this.__callbackName + " already exists");
          };
        };
      };
      if(qx.core.Environment.get("qx.debug.io")){

        qx.Bootstrap.debug(qx.bom.request.Jsonp, "Expecting JavaScript response to call: " + callbackName);
      };
      query[callbackParam] = callbackName;
      this.__generatedUrl = url = qx.util.Uri.appendParamsToUrl(url, query);
      this.__callBase("open", [method, url]);
    },
    callback : function(data){

      if(this.__disposed){

        return;
      };
      this.__callbackCalled = true;
      if(qx.core.Environment.get("qx.debug")){

        data = qx.lang.Json.stringify(data);
        data = qx.lang.Json.parse(data);
      };
      this.responseJson = data;
      this.constructor[this.__id] = undefined;
      this.__deleteCustomCallback();
    },
    setCallbackParam : function(param){

      this.__callbackParam = param;
      return this;
    },
    setCallbackName : function(name){

      this.__callbackName = name;
      return this;
    },
    setPrefix : function(prefix){

      this.__prefix = prefix;
    },
    getGeneratedUrl : function(){

      return this.__generatedUrl;
    },
    dispose : function(){

      this.__deleteCustomCallback();
      this.__callBase("dispose");
    },
    _onNativeLoad : function(){

      this.status = this.__callbackCalled ? 200 : 500;
      this.__callBase("_onNativeLoad");
    },
    __deleteCustomCallback : function(){

      if(this.__customCallbackCreated && window[this.__callbackName]){

        window[this.__callbackName] = undefined;
        this.__customCallbackCreated = false;
      };
    },
    __callBase : function(method, args){

      qx.bom.request.Script.prototype[method].apply(this, args || []);
    },
    __generateId : function(){

      this.__id = "qx" + (new Date().valueOf()) + ("" + Math.random()).substring(2, 5);
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.String", {
  extend : qx.ui.progressive.renderer.table.cell.Abstract,
  construct : function(){

    this.base(arguments);
  },
  members : {
    _getContentHtml : function(cellInfo){

      return qx.bom.String.escape(cellInfo.cellData);
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Icon", {
  type : "abstract",
  extend : qx.ui.progressive.renderer.table.cell.Abstract,
  construct : function(){

    this.base(arguments);
    var aliasManager = qx.util.AliasManager.getInstance();
    var resourceManager = qx.util.ResourceManager.getInstance();
    var blankImg = aliasManager.resolve("qx/static/blank.gif");
    this.__imageBlank = resourceManager.toUri(blankImg);
  },
  members : {
    __imageBlank : null,
    getBlankImage : function(){

      return this.__imageBlank;
    },
    _identifyImage : function(cellInfo){

      throw new Error("_identifyImage() is abstract");
    },
    _getCellStyle : function(cellInfo){

      var ret = this.base(arguments, cellInfo) + "text-align:center;" + "vertical-align:middle;";
      return ret;
    },
    _getContentHtml : function(cellInfo){

      var html = [];
      var imageData = this.__getImageData(cellInfo);
      html.push('<img ');
      if(qx.core.Environment.get("css.alphaimageloaderneeded") && /\.png$/i.test(imageData.url)){

        html.push('src="', this.__imageBlank, '" style="filter:', "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='", imageData.url, "',sizingMethod='scale')", '" ');
      } else {

        html.push('src="', imageData.url, '" ');
      };
      if(imageData.imageWidth){

        html.push(" width='", imageData.imageWidth, "px'");
      };
      if(imageData.imageHeight){

        html.push(" height='", imageData.imageHeight, "px'");
      };
      html.push(" style='padding-top:2px;'");
      if(imageData.tooltip){

        html.push(" title='", imageData.tooltip, "'");
      };
      if(imageData.extras){

        html.push(imageData.extras);
      };
      html.push(">");
      return html.join("");
    },
    __getImageData : function(cellInfo){

      var imageData = this._identifyImage(cellInfo);
      if(imageData == null || typeof imageData == "string"){

        imageData = {
          url : imageData,
          tooltip : null
        };
      };
      if(imageData.url == null){

        imageData.url = this.__imageBlank;
      };
      return imageData;
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Image", {
  extend : qx.ui.progressive.renderer.table.cell.Icon,
  construct : function(width, height){

    this.base(arguments);
    if(width === undefined){

      this.__imageWidth = width;
    } else {

      this.__imageWidth = 16;
    };
    if(height === undefined){

      this.__imageHeight = height;
    } else {

      this.__imageHeight = 16;
    };
  },
  members : {
    __imageWidth : null,
    __imageHeight : null,
    _identifyImage : function(cellInfo){

      var imageData = {
        imageWidth : this.__imageWidth,
        imageHeight : this.__imageHeight
      };
      var height;
      if(typeof (cellInfo.cellData) == "string"){

        imageData.url = cellInfo.cellData;
      } else {

        imageData.url = cellInfo.cellData.url;
        imageData.tooltip = cellInfo.cellData.tooltip;
        height = cellInfo.cellData.height;
      };
      if(imageData.url == ""){

        imageData.url = this._imageBlank;
      } else {

        var aliasManager = qx.util.AliasManager.getInstance();
        var resourceManager = qx.util.ResourceManager.getInstance();
        var resolved = aliasManager.resolve(imageData.url);
        imageData.url = resourceManager.toUri(resolved);
      };
      if(height){

        cellInfo.height = height;
      };
      return imageData;
    }
  }
});

qx.Interface.define("qx.ui.form.renderer.IFormRenderer", {
  members : {
    addItems : function(items, names, title, itemsOptions, headerOptions){
    },
    addButton : function(button, options){
    }
  }
});

qx.Class.define("qx.ui.splitpane.Pane", {
  extend : qx.ui.core.Widget,
  construct : function(orientation){

    this.base(arguments);
    this.__children = [];
    if(orientation){

      this.setOrientation(orientation);
    } else {

      this.initOrientation();
    };
    this.__blocker.addListener("pointerdown", this._onPointerDown, this);
    this.__blocker.addListener("pointerup", this._onPointerUp, this);
    this.__blocker.addListener("pointermove", this._onPointerMove, this);
    this.__blocker.addListener("pointerout", this._onPointerOut, this);
    this.__blocker.addListener("losecapture", this._onPointerUp, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "splitpane"
    },
    offset : {
      check : "Integer",
      init : 6,
      apply : "_applyOffset"
    },
    orientation : {
      init : "horizontal",
      check : ["horizontal", "vertical"],
      apply : "_applyOrientation"
    }
  },
  members : {
    __splitterOffset : null,
    __activeDragSession : false,
    __lastPointerX : null,
    __lastPointerY : null,
    __isHorizontal : null,
    __beginSize : null,
    __endSize : null,
    __children : null,
    __blocker : null,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "slider":
      control = new qx.ui.splitpane.Slider(this);
      control.exclude();
      this._add(control, {
        type : id
      });
      break;case "splitter":
      control = new qx.ui.splitpane.Splitter(this);
      this._add(control, {
        type : id
      });
      control.addListener("move", this.__onSplitterMove, this);
      break;};
      return control || this.base(arguments, id);
    },
    __onSplitterMove : function(e){

      this.__setBlockerPosition(e.getData());
    },
    __createBlocker : function(orientation){

      this.__blocker = new qx.ui.splitpane.Blocker(orientation);
      this.getContentElement().add(this.__blocker);
      var splitter = this.getChildControl("splitter");
      var splitterWidth = splitter.getWidth();
      if(!splitterWidth){

        splitter.addListenerOnce("appear", function(){

          this.__setBlockerPosition();
        }, this);
      };
      splitter.addListener("resize", function(e){

        var bounds = e.getData();
        if(bounds.height == 0 || bounds.width == 0){

          this.__blocker.hide();
        } else {

          this.__blocker.show();
        };
      }, this);
    },
    getBlocker : function(){

      return this.__blocker;
    },
    _applyOrientation : function(value, old){

      var slider = this.getChildControl("slider");
      var splitter = this.getChildControl("splitter");
      this.__isHorizontal = value === "horizontal";
      if(!this.__blocker){

        this.__createBlocker(value);
      };
      this.__blocker.setOrientation(value);
      var oldLayout = this._getLayout();
      if(oldLayout){

        oldLayout.dispose();
      };
      var newLayout = value === "vertical" ? new qx.ui.splitpane.VLayout : new qx.ui.splitpane.HLayout;
      this._setLayout(newLayout);
      splitter.removeState(old);
      splitter.addState(value);
      splitter.getChildControl("knob").removeState(old);
      splitter.getChildControl("knob").addState(value);
      slider.removeState(old);
      slider.addState(value);
      qx.ui.core.queue.Manager.flush();
      this.__setBlockerPosition();
    },
    _applyOffset : function(value, old){

      this.__setBlockerPosition();
    },
    __setBlockerPosition : function(bounds){

      var splitter = this.getChildControl("splitter");
      var offset = this.getOffset();
      var splitterBounds = splitter.getBounds();
      var splitterElem = splitter.getContentElement().getDomElement();
      if(!splitterElem){

        return;
      };
      if(this.__isHorizontal){

        var width = null;
        if(bounds){

          width = bounds.width;
        } else if(splitterBounds){

          width = splitterBounds.width;
        };
        var left = bounds && bounds.left;
        if(width){

          if(isNaN(left)){

            left = qx.bom.element.Location.getPosition(splitterElem).left;
          };
          this.__blocker.setWidth(offset, width);
          this.__blocker.setLeft(offset, left);
        };
      } else {

        var height = null;
        if(bounds){

          height = bounds.height;
        } else if(splitterBounds){

          height = splitterBounds.height;
        };
        var top = bounds && bounds.top;
        if(height){

          if(isNaN(top)){

            top = qx.bom.element.Location.getPosition(splitterElem).top;
          };
          this.__blocker.setHeight(offset, height);
          this.__blocker.setTop(offset, top);
        };
      };
    },
    add : function(widget, flex){

      if(flex == null){

        this._add(widget);
      } else {

        this._add(widget, {
          flex : flex
        });
      };
      this.__children.push(widget);
    },
    remove : function(widget){

      this._remove(widget);
      qx.lang.Array.remove(this.__children, widget);
    },
    getChildren : function(){

      return this.__children;
    },
    _onPointerDown : function(e){

      if(!e.isLeftPressed()){

        return;
      };
      var splitter = this.getChildControl("splitter");
      var splitterLocation = splitter.getContentLocation();
      var paneLocation = this.getContentLocation();
      this.__splitterOffset = this.__isHorizontal ? e.getDocumentLeft() - splitterLocation.left + paneLocation.left : e.getDocumentTop() - splitterLocation.top + paneLocation.top;
      var slider = this.getChildControl("slider");
      var splitterBounds = splitter.getBounds();
      slider.setUserBounds(splitterBounds.left, splitterBounds.top, splitterBounds.width, splitterBounds.height);
      slider.setZIndex(splitter.getZIndex() + 1);
      slider.show();
      this.__activeDragSession = true;
      this.__blocker.capture();
      e.stop();
    },
    _onPointerMove : function(e){

      this._setLastPointerPosition(e.getDocumentLeft(), e.getDocumentTop());
      if(this.__activeDragSession){

        this.__computeSizes();
        var slider = this.getChildControl("slider");
        var pos = this.__beginSize;
        if(this.__isHorizontal){

          slider.setDomLeft(pos);
          this.__blocker.setStyle("left", (pos - this.getOffset()) + "px");
        } else {

          slider.setDomTop(pos);
          this.__blocker.setStyle("top", (pos - this.getOffset()) + "px");
        };
        e.stop();
      };
    },
    _onPointerOut : function(e){

      this._setLastPointerPosition(e.getDocumentLeft(), e.getDocumentTop());
    },
    _onPointerUp : function(e){

      if(!this.__activeDragSession){

        return;
      };
      this._finalizeSizes();
      var slider = this.getChildControl("slider");
      slider.exclude();
      this.__activeDragSession = false;
      this.releaseCapture();
      e.stop();
    },
    _finalizeSizes : function(){

      var beginSize = this.__beginSize;
      var endSize = this.__endSize;
      if(beginSize == null){

        return;
      };
      var children = this._getChildren();
      var firstWidget = children[2];
      var secondWidget = children[3];
      var firstFlexValue = firstWidget.getLayoutProperties().flex;
      var secondFlexValue = secondWidget.getLayoutProperties().flex;
      if((firstFlexValue != 0) && (secondFlexValue != 0)){

        firstWidget.setLayoutProperties({
          flex : beginSize
        });
        secondWidget.setLayoutProperties({
          flex : endSize
        });
      } else {

        if(this.__isHorizontal){

          firstWidget.setWidth(beginSize);
          secondWidget.setWidth(endSize);
        } else {

          firstWidget.setHeight(beginSize);
          secondWidget.setHeight(endSize);
        };
      };
    },
    __computeSizes : function(){

      if(this.__isHorizontal){

        var min = "minWidth",size = "width",max = "maxWidth",pointer = this.__lastPointerX;
      } else {

        var min = "minHeight",size = "height",max = "maxHeight",pointer = this.__lastPointerY;
      };
      var children = this._getChildren();
      var beginHint = children[2].getSizeHint();
      var endHint = children[3].getSizeHint();
      var allocatedSize = children[2].getBounds()[size] + children[3].getBounds()[size];
      var beginSize = pointer - this.__splitterOffset;
      var endSize = allocatedSize - beginSize;
      if(beginSize < beginHint[min]){

        endSize -= beginHint[min] - beginSize;
        beginSize = beginHint[min];
      } else if(endSize < endHint[min]){

        beginSize -= endHint[min] - endSize;
        endSize = endHint[min];
      };
      if(beginSize > beginHint[max]){

        endSize += beginSize - beginHint[max];
        beginSize = beginHint[max];
      } else if(endSize > endHint[max]){

        beginSize += endSize - endHint[max];
        endSize = endHint[max];
      };
      this.__beginSize = beginSize;
      this.__endSize = endSize;
    },
    _isActiveDragSession : function(){

      return this.__activeDragSession;
    },
    _setLastPointerPosition : function(x, y){

      this.__lastPointerX = x;
      this.__lastPointerY = y;
    }
  },
  destruct : function(){

    this.__children = null;
  }
});

qx.Class.define("qx.ui.splitpane.Slider", {
  extend : qx.ui.core.Widget,
  properties : {
    allowShrinkX : {
      refine : true,
      init : false
    },
    allowShrinkY : {
      refine : true,
      init : false
    }
  }
});

qx.Class.define("qx.ui.splitpane.Splitter", {
  extend : qx.ui.core.Widget,
  construct : function(parentWidget){

    this.base(arguments);
    if(parentWidget.getOrientation() == "vertical"){

      this._setLayout(new qx.ui.layout.HBox(0, "center"));
      this._getLayout().setAlignY("middle");
    } else {

      this._setLayout(new qx.ui.layout.VBox(0, "middle"));
      this._getLayout().setAlignX("center");
    };
    this._createChildControl("knob");
  },
  properties : {
    allowShrinkX : {
      refine : true,
      init : false
    },
    allowShrinkY : {
      refine : true,
      init : false
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "knob":
      control = new qx.ui.basic.Image;
      this._add(control);
      break;};
      return control || this.base(arguments, id);
    }
  }
});

qx.Class.define("qx.ui.splitpane.Blocker", {
  extend : qx.html.Element,
  construct : function(orientation){

    var styles = {
      position : "absolute",
      zIndex : 11
    };
    if((qx.core.Environment.get("engine.name") == "mshtml")){

      styles.backgroundImage = "url(" + qx.util.ResourceManager.getInstance().toUri("qx/static/blank.gif") + ")";
      styles.backgroundRepeat = "repeat";
    };
    this.base(arguments, "div", styles);
    if(orientation){

      this.setOrientation(orientation);
    } else {

      this.initOrientation();
    };
  },
  properties : {
    orientation : {
      init : "horizontal",
      check : ["horizontal", "vertical"],
      apply : "_applyOrientation"
    }
  },
  members : {
    _applyOrientation : function(value, old){

      if(value == "horizontal"){

        this.setStyle("height", "100%");
        this.setStyle("cursor", "col-resize");
        this.setStyle("top", null);
      } else {

        this.setStyle("width", "100%");
        this.setStyle("left", null);
        this.setStyle("cursor", "row-resize");
      };
    },
    setWidth : function(offset, spliterSize){

      var width = spliterSize + 2 * offset;
      this.setStyle("width", width + "px");
    },
    setHeight : function(offset, spliterSize){

      var height = spliterSize + 2 * offset;
      this.setStyle("height", height + "px");
    },
    setLeft : function(offset, splitterLeft){

      var left = splitterLeft - offset;
      this.setStyle("left", left + "px");
    },
    setTop : function(offset, splitterTop){

      var top = splitterTop - offset;
      this.setStyle("top", top + "px");
    }
  }
});

qx.Class.define("qx.ui.splitpane.VLayout", {
  extend : qx.ui.layout.Abstract,
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(name === "type" || name === "flex", "The property '" + name + "' is not supported by the split layout!");
        if(name == "flex"){

          this.assertNumber(value);
        };
        if(name == "type"){

          this.assertString(value);
        };
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      var length = children.length;
      var child,type;
      var begin,splitter,slider,end;
      var paddingLeft = padding.left || 0;
      var paddingTop = padding.top || 0;
      for(var i = 0;i < length;i++){

        child = children[i];
        type = child.getLayoutProperties().type;
        if(type === "splitter"){

          splitter = child;
        } else if(type === "slider"){

          slider = child;
        } else if(!begin){

          begin = child;
        } else {

          end = child;
        };;
      };
      if(begin && end){

        var beginFlex = begin.getLayoutProperties().flex;
        var endFlex = end.getLayoutProperties().flex;
        if(beginFlex == null){

          beginFlex = 1;
        };
        if(endFlex == null){

          endFlex = 1;
        };
        var beginHint = begin.getSizeHint();
        var splitterHint = splitter.getSizeHint();
        var endHint = end.getSizeHint();
        var beginHeight = beginHint.height;
        var splitterHeight = splitterHint.height;
        var endHeight = endHint.height;
        if(beginFlex > 0 && endFlex > 0){

          var flexSum = beginFlex + endFlex;
          var flexAvailable = availHeight - splitterHeight;
          var beginHeight = Math.round((flexAvailable / flexSum) * beginFlex);
          var endHeight = flexAvailable - beginHeight;
          var sizes = qx.ui.layout.Util.arrangeIdeals(beginHint.minHeight, beginHeight, beginHint.maxHeight, endHint.minHeight, endHeight, endHint.maxHeight);
          beginHeight = sizes.begin;
          endHeight = sizes.end;
        } else if(beginFlex > 0){

          beginHeight = availHeight - splitterHeight - endHeight;
          if(beginHeight < beginHint.minHeight){

            beginHeight = beginHint.minHeight;
          };
          if(beginHeight > beginHint.maxHeight){

            beginHeight = beginHint.maxHeight;
          };
        } else if(endFlex > 0){

          endHeight = availHeight - beginHeight - splitterHeight;
          if(endHeight < endHint.minHeight){

            endHeight = endHint.minHeight;
          };
          if(endHeight > endHint.maxHeight){

            endHeight = endHint.maxHeight;
          };
        };;
        begin.renderLayout(paddingLeft, paddingTop, availWidth, beginHeight);
        splitter.renderLayout(paddingLeft, beginHeight + paddingTop, availWidth, splitterHeight);
        end.renderLayout(paddingLeft, beginHeight + splitterHeight + paddingTop, availWidth, endHeight);
      } else {

        splitter.renderLayout(0, 0, 0, 0);
        if(begin){

          begin.renderLayout(paddingLeft, paddingTop, availWidth, availHeight);
        } else if(end){

          end.renderLayout(paddingLeft, paddingTop, availWidth, availHeight);
        };
      };
    },
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var length = children.length;
      var child,hint,props;
      var minHeight = 0,height = 0,maxHeight = 0;
      var minWidth = 0,width = 0,maxWidth = 0;
      for(var i = 0;i < length;i++){

        child = children[i];
        props = child.getLayoutProperties();
        if(props.type === "slider"){

          continue;
        };
        hint = child.getSizeHint();
        minHeight += hint.minHeight;
        height += hint.height;
        maxHeight += hint.maxHeight;
        if(hint.minWidth > minWidth){

          minWidth = hint.minWidth;
        };
        if(hint.width > width){

          width = hint.width;
        };
        if(hint.maxWidth > maxWidth){

          maxWidth = hint.maxWidth;
        };
      };
      return {
        minHeight : minHeight,
        height : height,
        maxHeight : maxHeight,
        minWidth : minWidth,
        width : width,
        maxWidth : maxWidth
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.toolbar.Separator", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(){

    this.base(arguments);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "toolbar-separator"
    }
  }
});

qx.Interface.define("qx.ui.tree.core.IVirtualTree", {
  members : {
    isShowTopLevelOpenCloseIcons : function(){
    },
    getLookupTable : function(){
    },
    isNode : function(item){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInterface(item, qx.core.Object);
    },
    isNodeOpen : function(node){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInterface(node, qx.core.Object);
    },
    getLevel : function(row){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInteger(row);
    },
    hasChildren : function(node){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInterface(node, qx.core.Object);
    },
    openNode : function(node){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInterface(node, qx.core.Object);
    },
    closeNode : function(node){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInterface(node, qx.core.Object);
    },
    getSelection : function(){
    }
  }
});

qx.Class.define("qx.ui.tree.VirtualTree", {
  extend : qx.ui.virtual.core.Scroller,
  implement : [qx.ui.tree.core.IVirtualTree, qx.data.controller.ISelection],
  include : [qx.ui.virtual.selection.MModel, qx.ui.core.MContentPadding],
  construct : function(model, labelPath, childProperty){

    this.base(arguments, 0, 1, 20, 100);
    this._init();
    if(labelPath != null){

      this.setLabelPath(labelPath);
    };
    if(childProperty != null){

      this.setChildProperty(childProperty);
    };
    if(model != null){

      this.initModel(model);
    };
    this.initItemHeight();
    this.initOpenMode();
    this.addListener("keypress", this._onKeyPress, this);
  },
  events : {
    open : "qx.event.type.Data",
    close : "qx.event.type.Data"
  },
  properties : {
    appearance : {
      refine : true,
      init : "virtual-tree"
    },
    focusable : {
      refine : true,
      init : true
    },
    width : {
      refine : true,
      init : 100
    },
    height : {
      refine : true,
      init : 200
    },
    itemHeight : {
      check : "Integer",
      init : 25,
      apply : "_applyRowHeight",
      themeable : true
    },
    openMode : {
      check : ["tap", "dbltap", "none"],
      init : "dbltap",
      apply : "_applyOpenMode",
      event : "changeOpenMode",
      themeable : true
    },
    hideRoot : {
      check : "Boolean",
      init : false,
      apply : "_applyHideRoot"
    },
    showTopLevelOpenCloseIcons : {
      check : "Boolean",
      init : false,
      apply : "_applyShowTopLevelOpenCloseIcons"
    },
    showLeafs : {
      check : "Boolean",
      init : true,
      apply : "_applyShowLeafs"
    },
    childProperty : {
      check : "String",
      apply : "_applyChildProperty",
      nullable : true
    },
    labelPath : {
      check : "String",
      apply : "_applyLabelPath",
      nullable : true
    },
    iconPath : {
      check : "String",
      apply : "_applyIconPath",
      nullable : true
    },
    labelOptions : {
      apply : "_applyLabelOptions",
      nullable : true
    },
    iconOptions : {
      apply : "_applyIconOptions",
      nullable : true
    },
    model : {
      check : "qx.core.Object",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      deferredInit : true
    },
    delegate : {
      event : "changeDelegate",
      apply : "_applyDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    _provider : null,
    _layer : null,
    __lookupTable : null,
    __openNodes : null,
    __nestingLevel : null,
    __deferredCall : null,
    _itemWidth : 0,
    __parentChain : null,
    syncWidget : function(jobs){

      var firstRow = this._layer.getFirstRow();
      var rowSize = this._layer.getRowSizes().length;
      for(var row = firstRow;row < firstRow + rowSize;row++){

        var widget = this._layer.getRenderedCellWidget(row, 0);
        if(widget != null){

          this._itemWidth = Math.max(this._itemWidth, widget.getSizeHint().width);
        };
      };
      var paneWidth = this.getPane().getInnerSize().width;
      this.getPane().getColumnConfig().setItemSize(0, Math.max(this._itemWidth, paneWidth));
    },
    openNode : function(node){

      this.__openNode(node);
      this.buildLookupTable();
    },
    refresh : function(){

      this.buildLookupTable();
    },
    openNodeAndParents : function(node){

      this.__openNodeAndAllParents(this.getModel(), node);
      this.buildLookupTable();
    },
    closeNode : function(node){

      if(qx.lang.Array.contains(this.__openNodes, node)){

        qx.lang.Array.remove(this.__openNodes, node);
        this.fireDataEvent("close", node);
        this.buildLookupTable();
      };
    },
    isNodeOpen : function(node){

      return qx.lang.Array.contains(this.__openNodes, node);
    },
    _init : function(){

      this.__lookupTable = new qx.data.Array();
      this.__openNodes = [];
      this.__nestingLevel = [];
      this._initLayer();
    },
    _initLayer : function(){

      this._provider = new qx.ui.tree.provider.WidgetProvider(this);
      this._layer = this._provider.createLayer();
      this._layer.addListener("updated", this._onUpdated, this);
      this.getPane().addLayer(this._layer);
      this.getPane().addListenerOnce("resize", function(e){

        this.getPane().getColumnConfig().setItemSize(0, e.getData().width);
      }, this);
    },
    getLookupTable : function(){

      return this.__lookupTable;
    },
    _reverseLookup : function(index){

      return index;
    },
    _getDataFromRow : function(row){

      return this.__lookupTable.getItem(row);
    },
    _getSelectables : function(){

      return this.__lookupTable;
    },
    getOpenNodes : function(){

      return this.__openNodes;
    },
    isNode : function(item){

      return qx.ui.tree.core.Util.isNode(item, this.getChildProperty());
    },
    getLevel : function(row){

      return this.__nestingLevel[row];
    },
    hasChildren : function(node){

      return qx.ui.tree.core.Util.hasChildren(node, this.getChildProperty(), !this.isShowLeafs());
    },
    _getContentPaddingTarget : function(){

      return this.getPane();
    },
    _applyRowHeight : function(value, old){

      this.getPane().getRowConfig().setDefaultItemSize(value);
    },
    _applyOpenMode : function(value, old){

      var pane = this.getPane();
      if(value === "dbltap"){

        pane.addListener("cellDbltap", this._onOpen, this);
      } else if(value === "tap"){

        pane.addListener("cellTap", this._onOpen, this);
      };
      if(old === "dbltap"){

        pane.removeListener("cellDbltap", this._onOpen, this);
      } else if(old === "tap"){

        pane.removeListener("cellTap", this._onOpen, this);
      };
    },
    _applyHideRoot : function(value, old){

      this.buildLookupTable();
    },
    _applyShowTopLevelOpenCloseIcons : function(value, old){

      this.buildLookupTable();
    },
    _applyShowLeafs : function(value, old){

      this.buildLookupTable();
    },
    _applyChildProperty : function(value, old){

      this._provider.setChildProperty(value);
    },
    _applyLabelPath : function(value, old){

      this._provider.setLabelPath(value);
    },
    _applyIconPath : function(value, old){

      this._provider.setIconPath(value);
    },
    _applyLabelOptions : function(value, old){

      this._provider.setLabelOptions(value);
    },
    _applyIconOptions : function(value, old){

      this._provider.setIconOptions(value);
    },
    _applyModel : function(value, old){

      this.__openNodes = [];
      if(value != null){

        if(qx.core.Environment.get("qx.debug")){

          if(!qx.Class.hasMixin(value.constructor, qx.data.marshal.MEventBubbling)){

            this.warn("The model item doesn't support the Mixin 'qx.data." + "marshal.MEventBubbling'. Therefore the tree can not update " + "the view automatically on model changes.");
          };
        };
        value.addListener("changeBubble", this._onChangeBubble, this);
        this.__openNode(value);
      };
      if(old != null){

        old.removeListener("changeBubble", this._onChangeBubble, this);
      };
      this.__applyModelChanges();
    },
    _applyDelegate : function(value, old){

      this._provider.setDelegate(value);
      this.buildLookupTable();
    },
    _onChangeBubble : function(event){

      var data = event.getData();
      var propertyName = data.name;
      var index = propertyName.lastIndexOf(".");
      if(index != -1){

        propertyName = propertyName.substr(index + 1, propertyName.length);
      };
      if(qx.lang.String.startsWith(propertyName, this.getChildProperty())){

        var item = data.item;
        if(qx.Class.isSubClassOf(item.constructor, qx.data.Array)){

          if(index === -1){

            item = this.getModel();
          } else {

            var propertyChain = data.name.substr(0, index);
            item = qx.data.SingleValueBinding.resolvePropertyChain(this.getModel(), propertyChain);
          };
        };
        if(this.__lookupTable.indexOf(item) != -1){

          this.__applyModelChanges();
        };
      };
    },
    _onUpdated : function(event){

      if(this.__deferredCall == null){

        this.__deferredCall = new qx.util.DeferredCall(function(){

          qx.ui.core.queue.Widget.add(this);
        }, this);
      };
      this.__deferredCall.schedule();
    },
    _onOpen : function(event){

      var row = event.getRow();
      var item = this.__lookupTable.getItem(row);
      if(this.isNode(item)){

        if(this.isNodeOpen(item)){

          this.closeNode(item);
        } else {

          this.openNode(item);
        };
      };
    },
    _onKeyPress : function(e){

      var selection = this.getSelection();
      if(selection.getLength() > 0){

        var item = selection.getItem(0);
        var isNode = this.isNode(item);
        switch(e.getKeyIdentifier()){case "Left":
        if(isNode && this.isNodeOpen(item)){

          this.closeNode(item);
        } else {

          var parent = this.getParent(item);
          if(parent != null){

            selection.splice(0, 1, parent);
          };
        };
        break;case "Right":
        if(isNode && !this.isNodeOpen(item)){

          this.openNode(item);
        } else {

          if(isNode){

            var children = item.get(this.getChildProperty());
            if(children != null && children.getLength() > 0){

              selection.splice(0, 1, children.getItem(0));
            };
          };
        };
        break;case "Enter":case "Space":
        if(!isNode){

          return;
        };
        if(this.isNodeOpen(item)){

          this.closeNode(item);
        } else {

          this.openNode(item);
        };
        break;};
      };
    },
    _beforeApplySelection : function(newSelection){

      if(newSelection.length === 0 && this.getSelectionMode() === "one"){

        var visibleParent = this.__getVisibleParent();
        var row = this.getLookupTable().indexOf(visibleParent);
        if(row >= 0){

          newSelection.push(row);
        };
      };
    },
    _afterApplySelection : function(){

      var selection = this.getSelection();
      if(selection.getLength() > 0 && this.getSelectionMode() === "one"){

        this.__buildParentChain(selection.getItem(0));
      } else {

        this.__parentChain = [];
      };
    },
    __applyModelChanges : function(){

      this.buildLookupTable();
      this._applyDefaultSelection();
    },
    buildLookupTable : function(){

      if(this.getModel() != null && (this.getChildProperty() == null || this.getLabelPath() == null)){

        throw new Error("Could not build tree, because 'childProperty' and/" + "or 'labelPath' is 'null'!");
      };
      this._itemWidth = 0;
      var lookupTable = [];
      this.__nestingLevel = [];
      var nestedLevel = -1;
      var root = this.getModel();
      if(root != null){

        if(!this.isHideRoot()){

          nestedLevel++;
          lookupTable.push(root);
          this.__nestingLevel.push(nestedLevel);
        };
        if(this.isNodeOpen(root)){

          var visibleChildren = this.__getVisibleChildrenFrom(root, nestedLevel);
          lookupTable = lookupTable.concat(visibleChildren);
        };
      };
      if(!qx.lang.Array.equals(this.__lookupTable.toArray(), lookupTable)){

        this._provider.removeBindings();
        this.__lookupTable.removeAll();
        this.__lookupTable.append(lookupTable);
        this.__updateRowCount();
        this._updateSelection();
      };
    },
    __getVisibleChildrenFrom : function(node, nestedLevel){

      var visible = [];
      nestedLevel++;
      if(!this.isNode(node)){

        return visible;
      };
      var children = node.get(this.getChildProperty());
      if(children == null){

        return visible;
      };
      children = children.copy();
      var delegate = this.getDelegate();
      var filter = qx.util.Delegate.getMethod(delegate, "filter");
      var sorter = qx.util.Delegate.getMethod(delegate, "sorter");
      if(sorter != null){

        children.sort(sorter);
      };
      for(var i = 0;i < children.getLength();i++){

        var child = children.getItem(i);
        if(filter && !filter(child)){

          continue;
        };
        if(this.isNode(child)){

          this.__nestingLevel.push(nestedLevel);
          visible.push(child);
          if(this.isNodeOpen(child)){

            var visibleChildren = this.__getVisibleChildrenFrom(child, nestedLevel);
            visible = visible.concat(visibleChildren);
          };
        } else {

          if(this.isShowLeafs()){

            this.__nestingLevel.push(nestedLevel);
            visible.push(child);
          };
        };
      };
      children.dispose();
      return visible;
    },
    __openNode : function(node){

      if(!qx.lang.Array.contains(this.__openNodes, node)){

        this.__openNodes.push(node);
        this.fireDataEvent("open", node);
      };
    },
    __openNodeAndAllParents : function(startNode, targetNode){

      if(startNode === targetNode){

        this.__openNode(targetNode);
        return true;
      };
      if(!this.isNode(startNode)){

        return false;
      };
      var children = startNode.get(this.getChildProperty());
      if(children == null){

        return false;
      };
      for(var i = 0;i < children.getLength();i++){

        var child = children.getItem(i);
        var result = this.__openNodeAndAllParents(child, targetNode);
        if(result === true){

          this.__openNode(child);
          return true;
        };
      };
      return false;
    },
    __updateRowCount : function(){

      this.getPane().getRowConfig().setItemCount(this.__lookupTable.getLength());
      this.getPane().fullUpdate();
    },
    getParent : function(item){

      var index = this.__lookupTable.indexOf(item);
      if(index < 0){

        return null;
      };
      var level = this.__nestingLevel[index];
      while(index > 0){

        index--;
        var levelBevore = this.__nestingLevel[index];
        if(levelBevore < level){

          return this.__lookupTable.getItem(index);
        };
      };
      return null;
    },
    __buildParentChain : function(item){

      this.__parentChain = [];
      var parent = this.getParent(item);
      while(parent != null){

        this.__parentChain.unshift(parent);
        parent = this.getParent(parent);
      };
    },
    __getVisibleParent : function(){

      if(this.__parentChain == null){

        return this.getModel();
      };
      var lookupTable = this.getLookupTable();
      var parent = this.__parentChain.pop();
      while(parent != null){

        if(lookupTable.contains(parent)){

          return parent;
        };
        parent = this.__parentChain.pop();
      };
      return this.getModel();
    }
  },
  destruct : function(){

    var pane = this.getPane();
    if(pane != null){

      if(pane.hasListener("cellDbltap")){

        pane.removeListener("cellDbltap", this._onOpen, this);
      };
      if(pane.hasListener("cellTap")){

        pane.removeListener("cellTap", this._onOpen, this);
      };
    };
    if(!qx.core.ObjectRegistry.inShutDown && this.__deferredCall != null){

      this.__deferredCall.cancel();
      this.__deferredCall.dispose();
    };
    var model = this.getModel();
    if(model != null){

      model.removeListener("changeBubble", this._onChangeBubble, this);
    };
    this._layer.removeListener("updated", this._onUpdated, this);
    this._layer.destroy();
    this._provider.dispose();
    this.__lookupTable.dispose();
    this._layer = this._provider = this.__lookupTable = this.__openNodes = this.__deferredCall = null;
  }
});

qx.Interface.define("qx.ui.tree.provider.IVirtualTreeProvider", {
  members : {
    createLayer : function(){
    },
    createRenderer : function(){
    },
    setChildProperty : function(value){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertString(value);
    },
    setLabelPath : function(value){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertString(value);
    },
    styleSelectabled : function(row){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInteger(row);
    },
    styleUnselectabled : function(row){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInteger(row);
    },
    isSelectable : function(row){

      this.assertArgumentsCount(arguments, 1, 1);
      this.assertInteger(row);
    }
  }
});

qx.Mixin.define("qx.ui.tree.core.MWidgetController", {
  construct : function(){

    this.__boundItems = [];
  },
  properties : {
    labelPath : {
      check : "String",
      nullable : true
    },
    iconPath : {
      check : "String",
      nullable : true
    },
    labelOptions : {
      nullable : true
    },
    iconOptions : {
      nullable : true
    },
    childProperty : {
      check : "String",
      nullable : true
    },
    delegate : {
      event : "changeDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    __boundItems : null,
    bindDefaultProperties : function(item, index){

      this.bindProperty("", "model", null, item, index);
      this.bindProperty(this.getLabelPath(), "label", this.getLabelOptions(), item, index);
      try{

        this.bindProperty(this.getChildProperty() + ".length", "appearance", {
          converter : function(){

            return "virtual-tree-folder";
          }
        }, item, index);
      } catch(ex) {

        item.setAppearance("virtual-tree-file");
      };
      if(this.getIconPath() != null){

        this.bindProperty(this.getIconPath(), "icon", this.getIconOptions(), item, index);
      };
    },
    bindProperty : function(sourcePath, targetProperty, options, targetWidget, index){

      var bindPath = this.__getBindPath(index, sourcePath);
      var bindTarget = this._tree.getLookupTable();
      var id = bindTarget.bind(bindPath, targetWidget, targetProperty, options);
      this.__addBinding(targetWidget, id);
    },
    bindPropertyReverse : function(targetPath, sourceProperty, options, sourceWidget, index){

      var bindPath = this.__getBindPath(index, targetPath);
      var bindTarget = this._tree.getLookupTable();
      var id = sourceWidget.bind(sourceProperty, bindTarget, bindPath, options);
      this.__addBinding(sourceWidget, id);
    },
    removeBindings : function(){

      while(this.__boundItems.length > 0){

        var item = this.__boundItems.pop();
        this._removeBindingsFrom(item);
      };
    },
    _bindItem : function(item, index){

      var bindItem = qx.util.Delegate.getMethod(this.getDelegate(), "bindItem");
      if(bindItem != null){

        bindItem(this, item, index);
      } else {

        this.bindDefaultProperties(item, index);
      };
    },
    _removeBindingsFrom : function(item){

      var bindings = this.__getBindings(item);
      while(bindings.length > 0){

        var id = bindings.pop();
        try{

          this._tree.getLookupTable().removeBinding(id);
        } catch(e) {

          item.removeBinding(id);
        };
      };
      if(qx.lang.Array.contains(this.__boundItems, item)){

        qx.lang.Array.remove(this.__boundItems, item);
      };
    },
    __getBindPath : function(index, path){

      var bindPath = "[" + index + "]";
      if(path != null && path != ""){

        bindPath += "." + path;
      };
      return bindPath;
    },
    __addBinding : function(widget, id){

      var bindings = this.__getBindings(widget);
      if(!qx.lang.Array.contains(bindings, id)){

        bindings.push(id);
      };
      if(!qx.lang.Array.contains(this.__boundItems, widget)){

        this.__boundItems.push(widget);
      };
    },
    __getBindings : function(widget){

      var bindings = widget.getUserData("BindingIds");
      if(bindings == null){

        bindings = [];
        widget.setUserData("BindingIds", bindings);
      };
      return bindings;
    }
  },
  destruct : function(){

    this.__boundItems = null;
  }
});

qx.Class.define("qx.ui.tree.provider.WidgetProvider", {
  extend : qx.core.Object,
  implement : [qx.ui.virtual.core.IWidgetCellProvider, qx.ui.tree.provider.IVirtualTreeProvider],
  include : [qx.ui.tree.core.MWidgetController],
  construct : function(tree){

    this.base(arguments);
    this._tree = tree;
    this.addListener("changeDelegate", this._onChangeDelegate, this);
    this._onChangeDelegate();
  },
  members : {
    _tree : null,
    _renderer : null,
    getCellWidget : function(row, column){

      var item = this._tree.getLookupTable().getItem(row);
      var hasChildren = false;
      if(this._tree.isNode(item)){

        hasChildren = this._tree.hasChildren(item);
      };
      var widget = this._renderer.getCellWidget();
      widget.setOpen(hasChildren && this._tree.isNodeOpen(item));
      widget.addListener("changeOpen", this.__onOpenChanged, this);
      widget.setUserData("cell.childProperty", this.getChildProperty());
      widget.setUserData("cell.showLeafs", this._tree.isShowLeafs());
      if(this._tree.getSelection().contains(item)){

        this._styleSelectabled(widget);
      } else {

        this._styleUnselectabled(widget);
      };
      var level = this._tree.getLevel(row);
      if(!this._tree.isShowTopLevelOpenCloseIcons()){

        level -= 1;
      };
      widget.setUserData("cell.level", level);
      if(!this._tree.isShowTopLevelOpenCloseIcons() && level == -1){

        widget.setOpenSymbolMode("never");
      } else {

        widget.setOpenSymbolMode("auto");
      };
      this._bindItem(widget, row);
      qx.ui.core.queue.Widget.add(widget);
      return widget;
    },
    poolCellWidget : function(widget){

      widget.removeListener("changeOpen", this.__onOpenChanged, this);
      this._removeBindingsFrom(widget);
      this._renderer.pool(widget);
      this._onPool(widget);
    },
    createLayer : function(){

      return new qx.ui.virtual.layer.WidgetCell(this);
    },
    createRenderer : function(){

      var createItem = qx.util.Delegate.getMethod(this.getDelegate(), "createItem");
      if(createItem == null){

        createItem = function(){

          return new qx.ui.tree.VirtualTreeItem();
        };
      };
      var renderer = new qx.ui.virtual.cell.WidgetCell();
      renderer.setDelegate({
        createWidget : createItem
      });
      return renderer;
    },
    styleSelectabled : function(row){

      var widget = this._tree._layer.getRenderedCellWidget(row, 0);
      this._styleSelectabled(widget);
    },
    styleUnselectabled : function(row){

      var widget = this._tree._layer.getRenderedCellWidget(row, 0);
      this._styleUnselectabled(widget);
    },
    isSelectable : function(row){

      var widget = this._tree._layer.getRenderedCellWidget(row, 0);
      if(widget != null){

        return widget.isEnabled();
      } else {

        return true;
      };
    },
    _styleSelectabled : function(widget){

      if(widget == null){

        return;
      };
      this._renderer.updateStates(widget, {
        selected : 1
      });
    },
    _styleUnselectabled : function(widget){

      if(widget == null){

        return;
      };
      this._renderer.updateStates(widget, {
      });
    },
    _onPool : function(item){

      var onPool = qx.util.Delegate.getMethod(this.getDelegate(), "onPool");
      if(onPool != null){

        onPool(item);
      };
    },
    _onItemCreated : function(event){

      var configureItem = qx.util.Delegate.getMethod(this.getDelegate(), "configureItem");
      if(configureItem != null){

        var leaf = event.getData();
        configureItem(leaf);
      };
    },
    _onChangeDelegate : function(event){

      if(this._renderer != null){

        this._renderer.dispose();
        this.removeBindings();
      };
      this._renderer = this.createRenderer();
      this._renderer.addListener("created", this._onItemCreated, this);
    },
    __onOpenChanged : function(event){

      var widget = event.getTarget();
      var row = widget.getUserData("cell.row");
      var item = this._tree.getLookupTable().getItem(row);
      if(event.getData()){

        this._tree.openNode(item);
      } else {

        this._tree.closeNode(item);
      };
    }
  },
  destruct : function(){

    this.removeBindings();
    this._renderer.dispose();
    this._tree = this._renderer = null;
  }
});

qx.Class.define("qx.ui.tree.core.AbstractItem", {
  extend : qx.ui.core.Widget,
  type : "abstract",
  include : [qx.ui.form.MModelProperty],
  implement : [qx.ui.form.IModel],
  construct : function(label){

    this.base(arguments);
    if(label != null){

      this.setLabel(label);
    };
    this._setLayout(new qx.ui.layout.HBox());
    this._addWidgets();
    this.initOpen();
  },
  properties : {
    open : {
      check : "Boolean",
      init : false,
      event : "changeOpen",
      apply : "_applyOpen"
    },
    openSymbolMode : {
      check : ["always", "never", "auto"],
      init : "auto",
      event : "changeOpenSymbolMode",
      apply : "_applyOpenSymbolMode"
    },
    indent : {
      check : "Integer",
      init : 19,
      apply : "_applyIndent",
      event : "changeIndent",
      themeable : true
    },
    icon : {
      check : "String",
      apply : "_applyIcon",
      event : "changeIcon",
      nullable : true,
      themeable : true
    },
    iconOpened : {
      check : "String",
      apply : "_applyIconOpened",
      event : "changeIconOpened",
      nullable : true,
      themeable : true
    },
    label : {
      check : "String",
      apply : "_applyLabel",
      event : "changeLabel",
      init : ""
    }
  },
  members : {
    __labelAdded : null,
    __iconAdded : null,
    __spacer : null,
    _addWidgets : function(){

      throw new Error("Abstract method call.");
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "label":
      control = new qx.ui.basic.Label().set({
        alignY : "middle",
        anonymous : true,
        value : this.getLabel()
      });
      break;case "icon":
      control = new qx.ui.basic.Image().set({
        alignY : "middle",
        anonymous : true,
        source : this.getIcon()
      });
      break;case "open":
      control = new qx.ui.tree.core.FolderOpenButton().set({
        alignY : "middle"
      });
      control.addListener("changeOpen", this._onChangeOpen, this);
      control.addListener("resize", this._updateIndent, this);
      break;};
      return control || this.base(arguments, id);
    },
    addWidget : function(widget, options){

      this._add(widget, options);
    },
    addSpacer : function(){

      if(!this.__spacer){

        this.__spacer = new qx.ui.core.Spacer();
      } else {

        this._remove(this.__spacer);
      };
      this._add(this.__spacer);
    },
    addOpenButton : function(){

      this._add(this.getChildControl("open"));
    },
    _onChangeOpen : function(e){

      if(this.isOpenable()){

        this.setOpen(e.getData());
      };
    },
    addIcon : function(){

      var icon = this.getChildControl("icon");
      if(this.__iconAdded){

        this._remove(icon);
      };
      this._add(icon);
      this.__iconAdded = true;
    },
    addLabel : function(text){

      var label = this.getChildControl("label");
      if(this.__labelAdded){

        this._remove(label);
      };
      if(text){

        this.setLabel(text);
      } else {

        label.setValue(this.getLabel());
      };
      this._add(label);
      this.__labelAdded = true;
    },
    _applyIcon : function(value, old){

      if(!this.__getUserValueIconOpened()){

        this.__setIconSource(value);
      } else if(!this.isOpen()){

        this.__setIconSource(value);
      };
    },
    _applyIconOpened : function(value, old){

      if(this.isOpen()){

        if(this.__getUserValueIcon() && this.__getUserValueIconOpened()){

          this.__setIconSource(value);
        } else if(!this.__getUserValueIcon() && this.__getUserValueIconOpened()){

          this.__setIconSource(value);
        };
      };
    },
    _applyLabel : function(value, old){

      var label = this.getChildControl("label", true);
      if(label){

        label.setValue(value);
      };
    },
    _applyOpen : function(value, old){

      var open = this.getChildControl("open", true);
      if(open){

        open.setOpen(value);
      };
      var source;
      if(value){

        source = this.__getUserValueIconOpened() ? this.getIconOpened() : null;
      } else {

        source = this.getIcon();
      };
      if(source){

        this.__setIconSource(source);
      };
      value ? this.addState("opened") : this.removeState("opened");
    },
    __getUserValueIcon : function(){

      return qx.util.PropertyUtil.getUserValue(this, "icon");
    },
    __getUserValueIconOpened : function(){

      return qx.util.PropertyUtil.getUserValue(this, "iconOpened");
    },
    __setIconSource : function(url){

      var icon = this.getChildControl("icon", true);
      if(icon){

        icon.setSource(url);
      };
    },
    isOpenable : function(){

      var openMode = this.getOpenSymbolMode();
      return (openMode === "always" || openMode === "auto" && this.hasChildren());
    },
    _shouldShowOpenSymbol : function(){

      throw new Error("Abstract method call.");
    },
    _applyOpenSymbolMode : function(value, old){

      this._updateIndent();
    },
    _updateIndent : function(){

      var openWidth = 0;
      var open = this.getChildControl("open", true);
      if(open){

        if(this._shouldShowOpenSymbol()){

          open.show();
          var openBounds = open.getBounds();
          if(openBounds){

            openWidth = openBounds.width;
          } else {

            return;
          };
        } else {

          open.exclude();
        };
      };
      if(this.__spacer){

        this.__spacer.setWidth((this.getLevel() + 1) * this.getIndent() - openWidth);
      };
    },
    _applyIndent : function(value, old){

      this._updateIndent();
    },
    getLevel : function(){

      throw new Error("Abstract method call.");
    },
    syncWidget : function(jobs){

      this._updateIndent();
    },
    hasChildren : function(){

      throw new Error("Abstract method call.");
    }
  },
  destruct : function(){

    this._disposeObjects("__spacer");
  }
});

qx.Class.define("qx.ui.tree.core.FolderOpenButton", {
  extend : qx.ui.basic.Image,
  include : qx.ui.core.MExecutable,
  construct : function(){

    this.base(arguments);
    this.initOpen();
    this.addListener("tap", this._onTap);
    this.addListener("pointerdown", this._stopPropagation, this);
    this.addListener("pointerup", this._stopPropagation, this);
  },
  properties : {
    open : {
      check : "Boolean",
      init : false,
      event : "changeOpen",
      apply : "_applyOpen"
    }
  },
  members : {
    _applyOpen : function(value, old){

      value ? this.addState("opened") : this.removeState("opened");
      this.execute();
    },
    _stopPropagation : function(e){

      e.stopPropagation();
    },
    _onTap : function(e){

      this.toggleOpen();
      e.stopPropagation();
    }
  }
});

qx.Class.define("qx.ui.tree.VirtualTreeItem", {
  extend : qx.ui.tree.core.AbstractItem,
  properties : {
    appearance : {
      refine : true,
      init : "virtual-tree-folder"
    }
  },
  members : {
    _forwardStates : {
      selected : true
    },
    _addWidgets : function(){

      this.addSpacer();
      this.addOpenButton();
      this.addIcon();
      this.addLabel();
    },
    _shouldShowOpenSymbol : function(){

      var open = this.getChildControl("open", true);
      if(open == null){

        return false;
      };
      return this.isOpenable();
    },
    getLevel : function(){

      return this.getUserData("cell.level");
    },
    hasChildren : function(){

      var model = this.getModel();
      var childProperty = this.getUserData("cell.childProperty");
      var showLeafs = this.getUserData("cell.showLeafs");
      return qx.ui.tree.core.Util.hasChildren(model, childProperty, !showLeafs);
    },
    _applyModel : function(value, old){

      var childProperty = this.getUserData("cell.childProperty");
      var showLeafs = this.getUserData("cell.showLeafs");
      if(value != null && qx.ui.tree.core.Util.isNode(value, childProperty)){

        var eventType = "change" + qx.lang.String.firstUp(childProperty);
        if(qx.Class.hasProperty(value.constructor, childProperty)){

          value.addListener(eventType, this._onChangeChildProperty, this);
        };
        if(qx.ui.tree.core.Util.hasChildren(value, childProperty, !showLeafs)){

          value.get(childProperty).addListener("changeLength", this._onChangeLength, this);
          this._updateIndent();
        };
      };
      if(old != null && qx.ui.tree.core.Util.isNode(old, childProperty)){

        var eventType = "change" + qx.lang.String.firstUp(childProperty);
        old.removeListener(eventType, this._onChangeChildProperty, this);
        var oldChildren = old.get(childProperty);
        if(oldChildren){

          oldChildren.removeListener("changeLength", this._onChangeLength, this);
        };
      };
    },
    _onChangeLength : function(){

      this._updateIndent();
    },
    _onChangeChildProperty : function(e){

      var children = e.getData();
      var old = e.getOldData();
      if(children){

        this._updateIndent();
        children.addListener("changeLength", this._onChangeLength, this);
      };
      if(old){

        old.removeListener("changeLength", this._onChangeLength, this);
      };
    }
  }
});

qx.Class.define("qx.ui.tree.core.Util", {
  statics : {
    isNode : function(node, childProperty){

      if(node == null || childProperty == null){

        return false;
      };
      return qx.Class.hasProperty(node.constructor, childProperty);
    },
    hasChildren : function(node, childProperty, ignoreLeafs){

      if(node == null || childProperty == null || !this.isNode(node, childProperty)){

        return false;
      };
      var children = node.get(childProperty);
      if(children == null){

        return false;
      };
      if(!ignoreLeafs){

        return children.length > 0;
      } else {

        for(var i = 0;i < children.getLength();i++){

          var child = children.getItem(i);
          if(this.isNode(child, childProperty)){

            return true;
          };
        };
      };
      return false;
    }
  }
});

qx.Class.define("qx.log.appender.Console", {
  statics : {
    __main : null,
    __log : null,
    __cmd : null,
    __lastCommand : null,
    init : function(){

      var style = ['.qxconsole{z-index:10000;width:600px;height:300px;top:0px;right:0px;position:absolute;border-left:1px solid black;color:black;border-bottom:1px solid black;color:black;font-family:Consolas,Monaco,monospace;font-size:11px;line-height:1.2;}', '.qxconsole .control{background:#cdcdcd;border-bottom:1px solid black;padding:4px 8px;}', '.qxconsole .control a{text-decoration:none;color:black;}', '.qxconsole .messages{background:white;height:100%;width:100%;overflow:auto;}', '.qxconsole .messages div{padding:0px 4px;}', '.qxconsole .messages .user-command{color:blue}', '.qxconsole .messages .user-result{background:white}', '.qxconsole .messages .user-error{background:#FFE2D5}', '.qxconsole .messages .level-debug{background:white}', '.qxconsole .messages .level-info{background:#DEEDFA}', '.qxconsole .messages .level-warn{background:#FFF7D5}', '.qxconsole .messages .level-error{background:#FFE2D5}', '.qxconsole .messages .level-user{background:#E3EFE9}', '.qxconsole .messages .type-string{color:black;font-weight:normal;}', '.qxconsole .messages .type-number{color:#155791;font-weight:normal;}', '.qxconsole .messages .type-boolean{color:#15BC91;font-weight:normal;}', '.qxconsole .messages .type-array{color:#CC3E8A;font-weight:bold;}', '.qxconsole .messages .type-map{color:#CC3E8A;font-weight:bold;}', '.qxconsole .messages .type-key{color:#565656;font-style:italic}', '.qxconsole .messages .type-class{color:#5F3E8A;font-weight:bold}', '.qxconsole .messages .type-instance{color:#565656;font-weight:bold}', '.qxconsole .messages .type-stringify{color:#565656;font-weight:bold}', '.qxconsole .command{background:white;padding:2px 4px;border-top:1px solid black;}', '.qxconsole .command input{width:100%;border:0 none;font-family:Consolas,Monaco,monospace;font-size:11px;line-height:1.2;}', '.qxconsole .command input:focus{outline:none;}'];
      qx.bom.Stylesheet.createElement(style.join(""));
      var markup = ['<div class="qxconsole">', '<div class="control"><a href="javascript:qx.log.appender.Console.clear()">Clear</a> | <a href="javascript:qx.log.appender.Console.toggle()">Hide</a></div>', '<div class="messages">', '</div>', '<div class="command">', '<input type="text"/>', '</div>', '</div>'];
      var wrapper = document.createElement("DIV");
      wrapper.innerHTML = markup.join("");
      var main = wrapper.firstChild;
      document.body.appendChild(wrapper.firstChild);
      this.__main = main;
      this.__log = main.childNodes[1];
      this.__cmd = main.childNodes[2].firstChild;
      this.__onResize();
      qx.log.Logger.register(this);
      qx.core.ObjectRegistry.register(this);
    },
    dispose : function(){

      qx.event.Registration.removeListener(document.documentElement, "keypress", this.__onKeyPress, this);
      qx.log.Logger.unregister(this);
    },
    clear : function(){

      this.__log.innerHTML = "";
    },
    process : function(entry){

      this.__log.appendChild(qx.log.appender.Util.toHtml(entry));
      this.__scrollDown();
    },
    __scrollDown : function(){

      this.__log.scrollTop = this.__log.scrollHeight;
    },
    __visible : true,
    toggle : function(){

      if(!this.__main){

        this.init();
      } else if(this.__main.style.display == "none"){

        this.show();
      } else {

        this.__main.style.display = "none";
      };
    },
    show : function(){

      if(!this.__main){

        this.init();
      } else {

        this.__main.style.display = "block";
        this.__log.scrollTop = this.__log.scrollHeight;
      };
    },
    __history : [],
    execute : function(){

      var value = this.__cmd.value;
      if(value == ""){

        return;
      };
      if(value == "clear"){

        this.clear();
        return;
      };
      var command = document.createElement("div");
      command.innerHTML = qx.log.appender.Util.escapeHTML(">>> " + value);
      command.className = "user-command";
      this.__history.push(value);
      this.__lastCommand = this.__history.length;
      this.__log.appendChild(command);
      this.__scrollDown();
      try{

        var ret = window.eval(value);
      } catch(ex) {

        qx.log.Logger.error(ex);
      };
      if(ret !== undefined){

        qx.log.Logger.debug(ret);
      };
    },
    __onResize : function(e){

      this.__log.style.height = (this.__main.clientHeight - this.__main.firstChild.offsetHeight - this.__main.lastChild.offsetHeight) + "px";
    },
    __onKeyPress : function(e){

      if(e instanceof qx.event.type.Tap || e instanceof qx.event.type.Pointer){

        var target = e.getTarget();
        if(target && target.className && target.className.indexOf && target.className.indexOf("navigationbar") != -1){

          this.toggle();
        };
        return;
      };
      var iden = e.getKeyIdentifier();
      if((iden == "F7") || (iden == "D" && e.isCtrlPressed())){

        this.toggle();
        e.preventDefault();
      };
      if(!this.__main){

        return;
      };
      if(!qx.dom.Hierarchy.contains(this.__main, e.getTarget())){

        return;
      };
      if(iden == "Enter" && this.__cmd.value != ""){

        this.execute();
        this.__cmd.value = "";
      };
      if(iden == "Up" || iden == "Down"){

        this.__lastCommand += iden == "Up" ? -1 : 1;
        this.__lastCommand = Math.min(Math.max(0, this.__lastCommand), this.__history.length);
        var entry = this.__history[this.__lastCommand];
        this.__cmd.value = entry || "";
        this.__cmd.select();
      };
    }
  },
  defer : function(statics){

    qx.event.Registration.addListener(document.documentElement, "keypress", statics.__onKeyPress, statics);
    qx.event.Registration.addListener(document.documentElement, "longtap", statics.__onKeyPress, statics);
  }
});

qx.Bootstrap.define("qx.log.appender.Util", {
  statics : {
    toHtml : function(entry){

      var output = [];
      var item,msg,sub,list;
      output.push("<span class='offset'>", this.formatOffset(entry.offset, 6), "</span> ");
      if(entry.object){

        var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object);
        if(obj){

          output.push("<span class='object' title='Object instance with hash code: " + obj.$$hash + "'>", obj.classname, "[", obj.$$hash, "]</span>: ");
        };
      } else if(entry.clazz){

        output.push("<span class='object'>" + entry.clazz.classname, "</span>: ");
      };
      var items = entry.items;
      for(var i = 0,il = items.length;i < il;i++){

        item = items[i];
        msg = item.text;
        if(msg instanceof Array){

          var list = [];
          for(var j = 0,jl = msg.length;j < jl;j++){

            sub = msg[j];
            if(typeof sub === "string"){

              list.push("<span>" + this.escapeHTML(sub) + "</span>");
            } else if(sub.key){

              list.push("<span class='type-key'>" + sub.key + "</span>:<span class='type-" + sub.type + "'>" + this.escapeHTML(sub.text) + "</span>");
            } else {

              list.push("<span class='type-" + sub.type + "'>" + this.escapeHTML(sub.text) + "</span>");
            };
          };
          output.push("<span class='type-" + item.type + "'>");
          if(item.type === "map"){

            output.push("{", list.join(", "), "}");
          } else {

            output.push("[", list.join(", "), "]");
          };
          output.push("</span>");
        } else {

          output.push("<span class='type-" + item.type + "'>" + this.escapeHTML(msg) + "</span> ");
        };
      };
      var wrapper = document.createElement("DIV");
      wrapper.innerHTML = output.join("");
      wrapper.className = "level-" + entry.level;
      return wrapper;
    },
    formatOffset : function(offset, length){

      var str = offset.toString();
      var diff = (length || 6) - str.length;
      var pad = "";
      for(var i = 0;i < diff;i++){

        pad += "0";
      };
      return pad + str;
    },
    escapeHTML : function(value){

      return String(value).replace(/[<>&"']/g, this.__escapeHTMLReplace);
    },
    __escapeHTMLReplace : function(ch){

      var map = {
        "<" : "&lt;",
        ">" : "&gt;",
        "&" : "&amp;",
        "'" : "&#39;",
        '"' : "&quot;"
      };
      return map[ch] || "?";
    },
    toText : function(entry){

      return this.toTextArray(entry).join(" ");
    },
    toTextArray : function(entry){

      var output = [];
      output.push(this.formatOffset(entry.offset, 6));
      if(entry.object){

        var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object);
        if(obj){

          output.push(obj.classname + "[" + obj.$$hash + "]:");
        };
      } else if(entry.clazz){

        output.push(entry.clazz.classname + ":");
      };
      var items = entry.items;
      var item,msg;
      for(var i = 0,il = items.length;i < il;i++){

        item = items[i];
        msg = item.text;
        if(item.trace && item.trace.length > 0){

          if(typeof (this.FORMAT_STACK) == "function"){

            qx.log.Logger.deprecatedConstantWarning(qx.log.appender.Util, "FORMAT_STACK", "Use qx.dev.StackTrace.FORMAT_STACKTRACE instead");
            msg += "\n" + this.FORMAT_STACK(item.trace);
          } else {

            msg += "\n" + item.trace;
          };
        };
        if(msg instanceof Array){

          var list = [];
          for(var j = 0,jl = msg.length;j < jl;j++){

            list.push(msg[j].text);
          };
          if(item.type === "map"){

            output.push("{", list.join(", "), "}");
          } else {

            output.push("[", list.join(", "), "]");
          };
        } else {

          output.push(msg);
        };
      };
      return output;
    }
  }
});

qx.Class.define("qx.log.appender.RhinoConsole", {
  statics : {
    __OUT : null,
    __ERR : null,
    log : function(logMessage, level){

      if(level == "error"){

        this.__ERR.println(logMessage);
      } else {

        this.__OUT.println(logMessage);
      };
    },
    debug : function(logMessage){

      this.log(logMessage, "debug");
    },
    info : function(logMessage){

      this.log(logMessage, "info");
    },
    warn : function(logMessage){

      this.log(logMessage, "warn");
    },
    error : function(logMessage){

      this.log(logMessage, "error");
    },
    process : function(entry){

      var level = entry.level || "info";
      for(var prop in entry){

        if(prop == "items"){

          var items = entry[prop];
          for(var p = 0,l = items.length;p < l;p++){

            var item = items[p];
            this[level](item.text);
          };
        };
      };
    }
  },
  defer : function(){

    if(typeof (java) !== "undefined" && typeof (java.lang) !== "undefined"){

      qx.log.appender.RhinoConsole.__OUT = java.lang.System.out;
      qx.log.appender.RhinoConsole.__ERR = java.lang.System.err;
    };
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.Widths", {
  extend : qx.core.Object,
  construct : function(numColumns){

    this.base(arguments);
    this.__columnData = [];
    for(var i = 0;i < numColumns;i++){

      this.__columnData[i] = new qx.ui.core.ColumnData();
    };
  },
  members : {
    __columnData : null,
    getData : function(){

      return this.__columnData;
    },
    set : function(column, map){

      for(var key in map){

        switch(key){case "width":
        this.setWidth(column, map[key]);
        break;case "minWidth":
        this.setMinWidth(column, map[key]);
        break;case "maxWidth":
        this.setMaxWidth(column, map[key]);
        break;default:
        throw new Error("Unrecognized key: " + key);};
      };
    },
    setWidth : function(column, width){

      if(column > this.__columnData.length - 1 || column < 0){

        throw new Error("Column number out of range");
      };
      this.__columnData[column].setColumnWidth(width);
    },
    setMinWidth : function(column, width){

      if(column > this.__columnData.length - 1 || column < 0){

        throw new Error("Column number out of range");
      };
      this.__columnData[column].setMinWidth(width);
    },
    setMaxWidth : function(column, width){

      if(column > this.__columnData.length - 1 || column < 0){

        throw new Error("Column number out of range");
      };
      this.__columnData[column].setMaxWidth(width);
    }
  }
});

qx.Theme.define("qx.theme.modern.Color", {
  colors : {
    "background-application" : "#DFDFDF",
    "background-pane" : "#F3F3F3",
    "background-light" : "#FCFCFC",
    "background-medium" : "#EEEEEE",
    "background-splitpane" : "#AFAFAF",
    "background-tip" : "#ffffdd",
    "background-tip-error" : "#C72B2B",
    "background-odd" : "#E4E4E4",
    "progressbar-background" : "white",
    "text-light" : "#909090",
    "text-gray" : "#4a4a4a",
    "text-label" : "#1a1a1a",
    "text-title" : "#314a6e",
    "text-input" : "#000000",
    "text-hovered" : "#001533",
    "text-disabled" : "#7B7A7E",
    "text-selected" : "#fffefe",
    "text-active" : "#26364D",
    "text-inactive" : "#404955",
    "text-placeholder" : "#CBC8CD",
    "border-inner-scrollbar" : "white",
    "border-main" : "#4d4d4d",
    "menu-separator-top" : "#C5C5C5",
    "menu-separator-bottom" : "#FAFAFA",
    "border-separator" : "#808080",
    "border-toolbar-button-outer" : "#b6b6b6",
    "border-toolbar-border-inner" : "#f8f8f8",
    "border-toolbar-separator-right" : "#f4f4f4",
    "border-toolbar-separator-left" : "#b8b8b8",
    "border-input" : "#334866",
    "border-inner-input" : "white",
    "border-disabled" : "#B6B6B6",
    "border-pane" : "#00204D",
    "border-button" : "#666666",
    "border-column" : "#CCCCCC",
    "border-focused" : "#99C3FE",
    "invalid" : "#990000",
    "border-focused-invalid" : "#FF9999",
    "border-dragover" : "#33508D",
    "keyboard-focus" : "black",
    "table-pane" : "#F3F3F3",
    "table-focus-indicator" : "#0880EF",
    "table-row-background-focused-selected" : "#084FAB",
    "table-row-background-focused" : "#80B4EF",
    "table-row-background-selected" : "#084FAB",
    "table-row-background-even" : "#F3F3F3",
    "table-row-background-odd" : "#E4E4E4",
    "table-row-selected" : "#fffefe",
    "table-row" : "#1a1a1a",
    "table-row-line" : "#CCC",
    "table-column-line" : "#CCC",
    "table-header-hovered" : "white",
    "progressive-table-header" : "#AAAAAA",
    "progressive-table-header-border-right" : "#F2F2F2",
    "progressive-table-row-background-even" : "#F4F4F4",
    "progressive-table-row-background-odd" : "#E4E4E4",
    "progressive-progressbar-background" : "gray",
    "progressive-progressbar-indicator-done" : "#CCCCCC",
    "progressive-progressbar-indicator-undone" : "white",
    "progressive-progressbar-percent-background" : "gray",
    "progressive-progressbar-percent-text" : "white",
    "selected-start" : "#004DAD",
    "selected-end" : "#00368A",
    "background-selected" : "#00368A",
    "tabview-background" : "#07125A",
    "shadow" : qx.core.Environment.get("css.rgba") ? "rgba(0, 0, 0, 0.4)" : "#999999",
    "pane-start" : "#FBFBFB",
    "pane-end" : "#F0F0F0",
    "group-background" : "#E8E8E8",
    "group-border" : "#B4B4B4",
    "radiobutton-background" : "#EFEFEF",
    "checkbox-border" : "#314A6E",
    "checkbox-focus" : "#87AFE7",
    "checkbox-hovered" : "#B2D2FF",
    "checkbox-hovered-inner" : "#D1E4FF",
    "checkbox-inner" : "#EEEEEE",
    "checkbox-start" : "#E4E4E4",
    "checkbox-end" : "#F3F3F3",
    "checkbox-disabled-border" : "#787878",
    "checkbox-disabled-inner" : "#CACACA",
    "checkbox-disabled-start" : "#D0D0D0",
    "checkbox-disabled-end" : "#D8D8D8",
    "checkbox-hovered-inner-invalid" : "#FAF2F2",
    "checkbox-hovered-invalid" : "#F7E9E9",
    "radiobutton-checked" : "#005BC3",
    "radiobutton-disabled" : "#D5D5D5",
    "radiobutton-checked-disabled" : "#7B7B7B",
    "radiobutton-hovered-invalid" : "#F7EAEA",
    "tooltip-error" : "#C82C2C",
    "scrollbar-start" : "#CCCCCC",
    "scrollbar-end" : "#F1F1F1",
    "scrollbar-slider-start" : "#EEEEEE",
    "scrollbar-slider-end" : "#C3C3C3",
    "button-border-disabled" : "#959595",
    "button-start" : "#F0F0F0",
    "button-end" : "#AFAFAF",
    "button-disabled-start" : "#F4F4F4",
    "button-disabled-end" : "#BABABA",
    "button-hovered-start" : "#F0F9FE",
    "button-hovered-end" : "#8EB8D6",
    "button-focused" : "#83BAEA",
    "border-invalid" : "#930000",
    "input-start" : "#F0F0F0",
    "input-end" : "#FBFCFB",
    "input-focused-start" : "#D7E7F4",
    "input-focused-end" : "#5CB0FD",
    "input-focused-inner-invalid" : "#FF6B78",
    "input-border-disabled" : "#9B9B9B",
    "input-border-inner" : "white",
    "toolbar-start" : "#EFEFEF",
    "toolbar-end" : "#DDDDDD",
    "window-border" : "#00204D",
    "window-border-caption" : "#727272",
    "window-caption-active-text" : "white",
    "window-caption-active-start" : "#084FAA",
    "window-caption-active-end" : "#003B91",
    "window-caption-inactive-start" : "#F2F2F2",
    "window-caption-inactive-end" : "#DBDBDB",
    "window-statusbar-background" : "#EFEFEF",
    "tabview-start" : "#FCFCFC",
    "tabview-end" : "#EEEEEE",
    "tabview-inactive" : "#777D8D",
    "tabview-inactive-start" : "#EAEAEA",
    "tabview-inactive-end" : "#CECECE",
    "table-header-start" : "#E8E8E8",
    "table-header-end" : "#B3B3B3",
    "menu-start" : "#E8E8E9",
    "menu-end" : "#D9D9D9",
    "menubar-start" : "#E8E8E8",
    "groupitem-start" : "#A7A7A7",
    "groupitem-end" : "#949494",
    "groupitem-text" : "white",
    "virtual-row-layer-background-even" : "white",
    "virtual-row-layer-background-odd" : "white"
  }
});

qx.Interface.define("qx.ui.tree.core.IVirtualTreeDelegate", {
  members : {
    configureItem : function(item){
    },
    createItem : function(){
    },
    bindItem : function(controller, item, id){
    },
    onPool : function(item){
    },
    filter : function(data){
    },
    sorter : function(a, b){
    }
  }
});

qx.Class.define("qx.ui.virtual.layer.CellSpanManager", {
  extend : qx.core.Object,
  construct : function(rowConfig, columnConfig){

    this.base(arguments);
    if(qx.core.Environment.get("qx.debug")){

      this.assertInstance(rowConfig, qx.ui.virtual.core.Axis);
      this.assertInstance(columnConfig, qx.ui.virtual.core.Axis);
    };
    this._cells = {
    };
    this._invalidateSortCache();
    this._invalidatePositionCache();
    rowConfig.addListener("change", this._onRowConfigChange, this);
    columnConfig.addListener("change", this._onColumnConfigChange, this);
    this._rowConfig = rowConfig;
    this._columnConfig = columnConfig;
  },
  members : {
    addCell : function(id, row, column, rowSpan, columnSpan){

      this._cells[id] = {
        firstRow : row,
        lastRow : row + rowSpan - 1,
        firstColumn : column,
        lastColumn : column + columnSpan - 1,
        id : id
      };
      this._invalidateSortCache();
    },
    removeCell : function(id){

      delete (this._cells[id]);
      this._invalidateSortCache();
    },
    _invalidateSortCache : function(){

      this._sorted = {
      };
    },
    _getSortedCells : function(key){

      if(this._sorted[key]){

        return this._sorted[key];
      };
      var sorted = this._sorted[key] = qx.lang.Object.getValues(this._cells);
      sorted.sort(function(a, b){

        return a[key] < b[key] ? -1 : 1;
      });
      return sorted;
    },
    _findCellsInRange : function(key, min, max){

      var cells = this._getSortedCells(key);
      if(cells.length == 0){

        return {
        };
      };
      var start = 0;
      var end = cells.length - 1;
      while(true){

        var pivot = start + ((end - start) >> 1);
        var cell = cells[pivot];
        if(cell[key] >= min && (pivot == 0 || cells[pivot - 1][key] < min)){

          break;
        };
        if(cell[key] >= min){

          end = pivot - 1;
        } else {

          start = pivot + 1;
        };
        if(start > end){

          return {
          };
        };
      };
      var result = {
      };
      var cell = cells[pivot];
      while(cell && cell[key] >= min && cell[key] <= max){

        result[cell.id] = cell;
        cell = cells[pivot++];
      };
      return result;
    },
    findCellsInWindow : function(firstRow, firstColumn, rowCount, columnCount){

      var verticalInWindow = {
      };
      if(rowCount > 0){

        var lastRow = firstRow + rowCount - 1;
        qx.lang.Object.mergeWith(verticalInWindow, this._findCellsInRange("firstRow", firstRow, lastRow));
        qx.lang.Object.mergeWith(verticalInWindow, this._findCellsInRange("lastRow", firstRow, lastRow));
      };
      var horizontalInWindow = {
      };
      if(columnCount > 0){

        var lastColumn = firstColumn + columnCount - 1;
        qx.lang.Object.mergeWith(horizontalInWindow, this._findCellsInRange("firstColumn", firstColumn, lastColumn));
        qx.lang.Object.mergeWith(horizontalInWindow, this._findCellsInRange("lastColumn", firstColumn, lastColumn));
      };
      return this.__intersectionAsArray(horizontalInWindow, verticalInWindow);
    },
    __intersectionAsArray : function(setA, setB){

      var intersection = [];
      for(var key in setA){

        if(setB[key]){

          intersection.push(setB[key]);
        };
      };
      return intersection;
    },
    _onRowConfigChange : function(e){

      this._rowPos = [];
    },
    _onColumnConfigChange : function(e){

      this._columnPos = [];
    },
    _invalidatePositionCache : function(){

      this._rowPos = [];
      this._columnPos = [];
    },
    _getRowPosition : function(row){

      var pos = this._rowPos[row];
      if(pos !== undefined){

        return pos;
      };
      pos = this._rowPos[row] = this._rowConfig.getItemPosition(row);
      return pos;
    },
    _getColumnPosition : function(column){

      var pos = this._columnPos[column];
      if(pos !== undefined){

        return pos;
      };
      pos = this._columnPos[column] = this._columnConfig.getItemPosition(column);
      return pos;
    },
    _getSingleCellBounds : function(cell, firstVisibleRow, firstVisibleColumn){

      var bounds = {
        left : 0,
        top : 0,
        width : 0,
        height : 0
      };
      bounds.height = this._getRowPosition(cell.lastRow) + this._rowConfig.getItemSize(cell.lastRow) - this._getRowPosition(cell.firstRow);
      bounds.top = this._getRowPosition(cell.firstRow) - this._getRowPosition(firstVisibleRow);
      bounds.width = this._getColumnPosition(cell.lastColumn) + this._columnConfig.getItemSize(cell.lastColumn) - this._getColumnPosition(cell.firstColumn);
      bounds.left = this._getColumnPosition(cell.firstColumn) - this._getColumnPosition(firstVisibleColumn);
      return bounds;
    },
    getCellBounds : function(cells, firstVisibleRow, firstVisibleColumn){

      var bounds = [];
      for(var i = 0,l = cells.length;i < l;i++){

        bounds.push(this._getSingleCellBounds(cells[i], firstVisibleRow, firstVisibleColumn));
      };
      return bounds;
    },
    computeCellSpanMap : function(cells, firstRow, firstColumn, rowCount, columnCount){

      var map = [];
      if(rowCount <= 0){

        return map;
      };
      var lastRow = firstRow + rowCount - 1;
      for(var i = firstRow;i <= lastRow;i++){

        map[i] = [];
      };
      if(columnCount <= 0){

        return map;
      };
      var lastColumn = firstColumn + columnCount - 1;
      for(var i = 0,l = cells.length;i < l;i++){

        var cell = cells[i];
        var rowStartIndex = Math.max(firstRow, cell.firstRow);
        var rowEndIndex = Math.min(lastRow, cell.lastRow);
        var row;
        for(var rowIndex = rowStartIndex;rowIndex <= rowEndIndex;rowIndex++){

          row = map[rowIndex];
          var columnStartIndex = Math.max(firstColumn, cell.firstColumn);
          var columnEndIndex = Math.min(lastColumn, cell.lastColumn);
          for(var columnIndex = columnStartIndex;columnIndex <= columnEndIndex;columnIndex++){

            row[columnIndex] = 1;
          };
        };
      };
      return map;
    }
  },
  destruct : function(){

    this._rowConfig.removeListener("change", this._onRowConfigChange, this);
    this._columnConfig.removeListener("change", this._onColumnConfigChange, this);
    this._cells = this._sorted = this._rowPos = this._columnPos = this._rowConfig = this._columnConfig = null;
  }
});

qx.Class.define("qx.ui.mobile.embed.Canvas", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(){

    this.base(arguments);
  },
  members : {
    _getTagName : function(){

      return "canvas";
    },
    getCanvas : function(){

      return this.getContainerElement();
    },
    setWidth : function(width){

      this.getContainerElement().width = width;
    },
    getWidth : function(){

      return this.getContainerElement().width;
    },
    setHeight : function(height){

      this.getContainerElement().height = height;
    },
    getHeight : function(){

      return this.getContainerElement().height;
    },
    getContext2d : function(){

      return this.getContainerElement().getContext("2d");
    }
  }
});

qx.Class.define("qx.data.store.Rest", {
  extend : qx.core.Object,
  construct : function(resource, actionName, delegate){

    this.base(arguments);
    try{

      this.setResource(resource);
      this.setActionName(actionName);
    } catch(e) {

      this.dispose();
      throw e;
    };
    this._delegate = delegate;
    this._marshaler = new qx.data.marshal.Json(delegate);
    if(delegate && qx.lang.Type.isFunction(delegate.configureRequest)){

      this.__configureRequest();
    };
    this.__onActionSuccessBound = qx.lang.Function.bind(this.__onActionSuccess, this);
    this.__addListeners();
  },
  properties : {
    resource : {
      check : "qx.io.rest.Resource"
    },
    actionName : {
      check : "String"
    },
    model : {
      nullable : true,
      event : "changeModel"
    }
  },
  members : {
    _marshaler : null,
    _delegate : null,
    __onActionSuccessBound : null,
    __configureRequest : function(){

      var resource = this.getResource(),delegate = this._delegate;
      resource.configureRequest(delegate.configureRequest);
    },
    __addListeners : function(){

      var resource = this.getResource(),actionName = this.getActionName();
      if(resource && actionName){

        resource.addListener(this.getActionName() + "Success", this.__onActionSuccessBound);
      };
    },
    __onActionSuccess : function(e){

      var data = e.getData(),marshaler = this._marshaler,model,oldModel = this.getModel(),delegate = this._delegate;
      if(data){

        if(delegate && delegate.manipulateData){

          data = delegate.manipulateData(data);
        };
        marshaler.toClass(data, true);
        model = marshaler.toModel(data);
        if(model){

          this.setModel(model);
        };
      };
      if(oldModel && oldModel.dispose){

        oldModel.dispose();
      };
    }
  },
  destruct : function(){

    var model = this.getModel();
    if(model && typeof model.dispose === "function"){

      model.dispose();
    };
    this._marshaler && this._marshaler.dispose();
  }
});

qx.Bootstrap.define("qx.bom.client.Flash", {
  statics : {
    isAvailable : function(){

      return parseFloat(qx.bom.client.Flash.getVersion()) > 0;
    },
    getVersion : function(){

      if(navigator.plugins && typeof navigator.plugins["Shockwave Flash"] === "object"){

        var full = [0, 0, 0];
        var desc = navigator.plugins["Shockwave Flash"].description;
        if(typeof desc != "undefined"){

          desc = desc.replace(/^.*\s+(\S+\s+\S+$)/, "$1");
          full[0] = parseInt(desc.replace(/^(.*)\..*$/, "$1"), 10);
          full[1] = parseInt(desc.replace(/^.*\.(.*)\s.*$/, "$1"), 10);
          full[2] = /r/.test(desc) ? parseInt(desc.replace(/^.*r(.*)$/, "$1"), 10) : 0;
        };
        return full.join(".");
      } else if(window.ActiveXObject){

        var full = [0, 0, 0];
        var fp6Crash = false;
        try{

          var obj = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
        } catch(ex) {

          try{

            var obj = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
            full = [6, 0, 21];
            obj.AllowScriptAccess = "always";
          } catch(ex1) {

            if(full[0] == 6){

              fp6Crash = true;
            };
          };
          if(!fp6Crash){

            try{

              obj = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
            } catch(ex1) {
            };
          };
        };
        if(!fp6Crash && typeof obj == "object"){

          var info = obj.GetVariable("$version");
          if(typeof info != "undefined"){

            info = info.split(" ")[1].split(",");
            full[0] = parseInt(info[0], 10);
            full[1] = parseInt(info[1], 10);
            full[2] = parseInt(info[2], 10);
          };
        };
        return full.join(".");
      } else {

        return "";
      };
    },
    getExpressInstall : function(){

      var availableVersion = qx.bom.client.Flash.getVersion();
      if(availableVersion == ""){

        return false;
      };
      var os = qx.bom.client.OperatingSystem.getName();
      return (os == "win" || os == "osx") && qx.bom.client.Flash.__supportsVersion("6.0.65", availableVersion);
    },
    getStrictSecurityModel : function(){

      var version = qx.bom.client.Flash.getVersion();
      if(version == ""){

        return false;
      };
      var full = version.split(".");
      if(full[0] < 10){

        return qx.bom.client.Flash.__supportsVersion("9.0.151", version);
      } else {

        return qx.bom.client.Flash.__supportsVersion("10.0.12", version);
      };
    },
    _cachedSupportsVersion : {
    },
    __supportsVersion : function(input, availableVersion){

      var splitInput = input.split(".");
      var system = availableVersion || qx.bom.client.Flash.getVersion();
      system = system.split(".");
      for(var i = 0;i < splitInput.length;i++){

        var diff = parseInt(system[i], 10) - parseInt(splitInput[i], 10);
        if(diff > 0){

          return true;
        } else if(diff < 0){

          return false;
        };
      };
      return true;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("plugin.flash", statics.isAvailable);
    qx.core.Environment.add("plugin.flash.version", statics.getVersion);
    qx.core.Environment.add("plugin.flash.express", statics.getExpressInstall);
    qx.core.Environment.add("plugin.flash.strictsecurity", statics.getStrictSecurityModel);
  }
});

qx.Class.define("qx.ui.mobile.core.Blocker", {
  extend : qx.ui.mobile.core.Widget,
  type : "singleton",
  statics : {
    ROOT : null
  },
  construct : function(){

    this.base(arguments);
    if(qx.ui.mobile.core.Blocker.ROOT == null){

      qx.ui.mobile.core.Blocker.ROOT = qx.core.Init.getApplication().getRoot();
    };
    this.forceHide();
    qx.ui.mobile.core.Blocker.ROOT.add(this);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "blocker"
    }
  },
  members : {
    __count : 0,
    show : function(){

      if(this.__count == 0){

        this._updateSize();
        this.__registerEventListener();
        this.base(arguments);
      };
      this.__count++;
    },
    hide : function(){

      this.__count--;
      if(this.__count <= 0){

        this.__count = 0;
        this.__unregisterEventListener();
        this.exclude();
      };
    },
    forceHide : function(){

      this.__count = 0;
      this.hide();
    },
    isShown : function(){

      return this.__count > 0;
    },
    _updateSize : function(){

      if(qx.ui.mobile.core.Blocker.ROOT == this.getLayoutParent()){

        this.getContainerElement().style.top = qx.bom.Viewport.getScrollTop() + "px";
        this.getContainerElement().style.left = qx.bom.Viewport.getScrollLeft() + "px";
        this.getContainerElement().style.width = qx.bom.Viewport.getWidth() + "px";
        this.getContainerElement().style.height = qx.bom.Viewport.getHeight() + "px";
      } else if(this.getLayoutParent() != null){

        var dimension = qx.bom.element.Dimension.getSize(this.getLayoutParent().getContainerElement());
        this.getContainerElement().style.width = dimension.width + "px";
        this.getContainerElement().style.height = dimension.height + "px";
      };
    },
    _onScroll : function(evt){

      this._updateSize();
    },
    __registerEventListener : function(){

      qx.event.Registration.addListener(window, "resize", this._updateSize, this);
      qx.event.Registration.addListener(window, "scroll", this._onScroll, this);
      this.addListener("pointerdown", qx.bom.Event.preventDefault, this);
      this.addListener("pointerup", qx.bom.Event.preventDefault, this);
    },
    __unregisterEventListener : function(){

      qx.event.Registration.removeListener(window, "resize", this._updateSize, this);
      qx.event.Registration.removeListener(window, "scroll", this._onScroll, this);
      this.removeListener("pointerdown", qx.bom.Event.preventDefault, this);
      this.removeListener("pointerup", qx.bom.Event.preventDefault, this);
    }
  },
  destruct : function(){

    qx.ui.mobile.core.Blocker.ROOT.remove(this);
    this.__unregisterEventListener();
  }
});

qx.Class.define("qx.ui.form.SplitButton", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MExecutable],
  implement : [qx.ui.form.IExecutable],
  construct : function(label, icon, menu, command){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.HBox);
    this._createChildControl("arrow");
    this.addListener("pointerover", this._onPointerOver, this, true);
    this.addListener("pointerout", this._onPointerOut, this, true);
    this.addListener("keydown", this._onKeyDown);
    this.addListener("keyup", this._onKeyUp);
    if(label != null){

      this.setLabel(label);
    };
    if(icon != null){

      this.setIcon(icon);
    };
    if(menu != null){

      this.setMenu(menu);
    };
    if(command != null){

      this.setCommand(command);
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "splitbutton"
    },
    focusable : {
      refine : true,
      init : true
    },
    label : {
      apply : "_applyLabel",
      nullable : true,
      check : "String"
    },
    icon : {
      check : "String",
      apply : "_applyIcon",
      nullable : true,
      themeable : true
    },
    show : {
      init : "both",
      check : ["both", "label", "icon"],
      themeable : true,
      inheritable : true,
      apply : "_applyShow",
      event : "changeShow"
    },
    menu : {
      check : "qx.ui.menu.Menu",
      nullable : true,
      apply : "_applyMenu",
      event : "changeMenu"
    }
  },
  members : {
    __cursorIsOut : null,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "button":
      control = new qx.ui.form.Button;
      control.addListener("execute", this._onButtonExecute, this);
      control.setFocusable(false);
      this._addAt(control, 0, {
        flex : 1
      });
      break;case "arrow":
      control = new qx.ui.form.MenuButton();
      control.setFocusable(false);
      control.setShow("both");
      this._addAt(control, 1);
      break;};
      return control || this.base(arguments, id);
    },
    _forwardStates : {
      hovered : 1,
      focused : 1
    },
    _applyLabel : function(value, old){

      var button = this.getChildControl("button");
      value == null ? button.resetLabel() : button.setLabel(value);
    },
    _applyIcon : function(value, old){

      var button = this.getChildControl("button");
      value == null ? button.resetIcon() : button.setIcon(value);
    },
    _applyMenu : function(value, old){

      var arrow = this.getChildControl("arrow");
      if(value){

        arrow.resetEnabled();
        arrow.setMenu(value);
        value.setOpener(this);
        value.addListener("changeVisibility", this._onChangeMenuVisibility, this);
      } else {

        arrow.setEnabled(false);
        arrow.resetMenu();
      };
      if(old){

        old.removeListener("changeVisibility", this._onChangeMenuVisibility, this);
        old.resetOpener();
      };
    },
    _applyShow : function(value, old){
    },
    _onPointerOver : function(e){

      e.stopPropagation();
      this.addState("hovered");
      delete this.__cursorIsOut;
    },
    _onPointerOut : function(e){

      e.stopPropagation();
      if(!this.hasState("hovered")){

        return;
      };
      var related = e.getRelatedTarget();
      if(qx.ui.core.Widget.contains(this, related)){

        return;
      };
      var menu = this.getMenu();
      if(menu && menu.isVisible()){

        this.__cursorIsOut = true;
        return;
      };
      this.removeState("hovered");
    },
    _onKeyDown : function(e){

      var button = this.getChildControl("button");
      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      button.removeState("abandoned");
      button.addState("pressed");};
    },
    _onKeyUp : function(e){

      var button = this.getChildControl("button");
      switch(e.getKeyIdentifier()){case "Enter":case "Space":
      if(button.hasState("pressed")){

        button.removeState("abandoned");
        button.removeState("pressed");
        button.execute();
      };};
    },
    _onButtonExecute : function(e){

      this.execute();
    },
    _onChangeMenuVisibility : function(e){

      if(!this.getMenu().isVisible() && this.__cursorIsOut){

        this.removeState("hovered");
      };
    }
  }
});

qx.Class.define("qx.ui.toolbar.SplitButton", {
  extend : qx.ui.form.SplitButton,
  construct : function(label, icon, menu, command){

    this.base(arguments, label, icon, menu, command);
    this.removeListener("keydown", this._onKeyDown);
    this.removeListener("keyup", this._onKeyUp);
  },
  properties : {
    appearance : {
      refine : true,
      init : "toolbar-splitbutton"
    },
    focusable : {
      refine : true,
      init : false
    }
  },
  members : {
    _forwardStates : {
      hovered : true,
      focused : true,
      left : true,
      middle : true,
      right : true
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "button":
      control = new qx.ui.toolbar.Button;
      control.addListener("execute", this._onButtonExecute, this);
      this._addAt(control, 0);
      break;case "arrow":
      control = new qx.ui.toolbar.MenuButton;
      this._addAt(control, 1);
      break;};
      return control || this.base(arguments, id);
    }
  }
});

qx.Class.define("qx.ui.toolbar.MenuButton", {
  extend : qx.ui.menubar.Button,
  properties : {
    appearance : {
      refine : true,
      init : "toolbar-menubutton"
    },
    showArrow : {
      check : "Boolean",
      init : false,
      themeable : true,
      apply : "_applyShowArrow"
    }
  },
  members : {
    _applyVisibility : function(value, old){

      this.base(arguments, value, old);
      var menu = this.getMenu();
      if(value != "visible" && menu){

        menu.hide();
      };
      var parent = this.getLayoutParent();
      if(parent && parent instanceof qx.ui.toolbar.PartContainer){

        qx.ui.core.queue.Appearance.add(parent);
      };
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "arrow":
      control = new qx.ui.basic.Image();
      control.setAnonymous(true);
      this._addAt(control, 10);
      break;};
      return control || this.base(arguments, id);
    },
    _applyShowArrow : function(value, old){

      if(value){

        this._showChildControl("arrow");
      } else {

        this._excludeChildControl("arrow");
      };
    }
  }
});

qx.Class.define("qx.ui.table.cellrenderer.AbstractImage", {
  extend : qx.ui.table.cellrenderer.Abstract,
  type : "abstract",
  construct : function(){

    this.base(arguments);
    var clazz = this.self(arguments);
    if(!clazz.stylesheet){

      clazz.stylesheet = qx.bom.Stylesheet.createElement(".qooxdoo-table-cell-icon {" + "  text-align:center;" + "  padding-top:1px;" + "}");
    };
  },
  properties : {
    repeat : {
      check : function(value){

        var valid = ["scale", "scale-x", "scale-y", "repeat", "repeat-x", "repeat-y", "no-repeat"];
        return qx.lang.Array.contains(valid, value);
      },
      init : "no-repeat"
    }
  },
  members : {
    __defaultWidth : 16,
    __defaultHeight : 16,
    __imageData : null,
    _insetY : 2,
    _identifyImage : function(cellInfo){

      throw new Error("_identifyImage is abstract");
    },
    _getImageInfos : function(cellInfo){

      var imageData = this._identifyImage(cellInfo);
      if(imageData == null || typeof imageData == "string"){

        imageData = {
          url : imageData,
          tooltip : null
        };
      };
      if(!imageData.imageWidth || !imageData.imageHeight){

        var sizes = this.__getImageSize(imageData.url);
        imageData.imageWidth = sizes.width;
        imageData.imageHeight = sizes.height;
      };
      imageData.width = imageData.imageWidth;
      imageData.height = imageData.imageHeight;
      return imageData;
    },
    __getImageSize : function(source){

      var ResourceManager = qx.util.ResourceManager.getInstance();
      var ImageLoader = qx.io.ImageLoader;
      var width,height;
      if(ResourceManager.has(source)){

        width = ResourceManager.getImageWidth(source);
        height = ResourceManager.getImageHeight(source);
      } else if(ImageLoader.isLoaded(source)){

        width = ImageLoader.getWidth(source);
        height = ImageLoader.getHeight(source);
      } else {

        width = this.__defaultWidth;
        height = this.__defaultHeight;
      };
      return {
        width : width,
        height : height
      };
    },
    createDataCellHtml : function(cellInfo, htmlArr){

      this.__imageData = this._getImageInfos(cellInfo);
      return this.base(arguments, cellInfo, htmlArr);
    },
    _getCellClass : function(cellInfo){

      return this.base(arguments) + " qooxdoo-table-cell-icon";
    },
    _getContentHtml : function(cellInfo){

      var content = "<div></div>";
      if(this.__imageData.url){

        content = qx.bom.element.Decoration.create(this.__imageData.url, this.getRepeat(), {
          width : this.__imageData.width + "px",
          height : this.__imageData.height + "px",
          display : qx.core.Environment.get("css.inlineblock"),
          verticalAlign : "top",
          position : "static"
        });
      };
      return content;
    },
    _getCellAttributes : function(cellInfo){

      var tooltip = this.__imageData.tooltip;
      if(tooltip){

        return "title='" + tooltip + "'";
      } else {

        return "";
      };
    }
  },
  destruct : function(){

    this.__imageData = null;
  }
});

qx.Class.define("qx.ui.menu.RadioButton", {
  extend : qx.ui.menu.AbstractButton,
  include : [qx.ui.form.MModelProperty],
  implement : [qx.ui.form.IRadioItem, qx.ui.form.IBooleanForm, qx.ui.form.IModel],
  construct : function(label, menu){

    this.base(arguments);
    if(label != null){

      this.setLabel(label);
    };
    if(menu != null){

      this.setMenu(menu);
    };
    this.addListener("execute", this._onExecute, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "menu-radiobutton"
    },
    value : {
      check : "Boolean",
      nullable : true,
      event : "changeValue",
      apply : "_applyValue",
      init : false
    },
    group : {
      check : "qx.ui.form.RadioGroup",
      nullable : true,
      apply : "_applyGroup"
    }
  },
  members : {
    _bindableProperties : ["enabled", "label", "toolTipText", "value", "menu"],
    _applyValue : function(value, old){

      value ? this.addState("checked") : this.removeState("checked");
    },
    _applyGroup : function(value, old){

      if(old){

        old.remove(this);
      };
      if(value){

        value.add(this);
      };
    },
    _onExecute : function(e){

      var grp = this.getGroup();
      if(grp && grp.getAllowEmptySelection()){

        this.toggleValue();
      } else {

        this.setValue(true);
      };
    },
    _onTap : function(e){

      if(e.isLeftPressed()){

        this.execute();
      } else {

        if(this.getContextMenu()){

          return;
        };
      };
      qx.ui.menu.Manager.getInstance().hideAll();
    },
    _onKeyPress : function(e){

      this.execute();
    }
  }
});

qx.Class.define("qx.ui.form.AbstractSelectBox", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MRemoteChildrenHandling, qx.ui.form.MForm],
  implement : [qx.ui.form.IForm],
  type : "abstract",
  construct : function(){

    this.base(arguments);
    var layout = new qx.ui.layout.HBox();
    this._setLayout(layout);
    layout.setAlignY("middle");
    this.addListener("keypress", this._onKeyPress);
    this.addListener("blur", this._onBlur, this);
    this.addListener("resize", this._onResize, this);
  },
  properties : {
    focusable : {
      refine : true,
      init : true
    },
    width : {
      refine : true,
      init : 120
    },
    maxListHeight : {
      check : "Number",
      apply : "_applyMaxListHeight",
      nullable : true,
      init : 200
    },
    format : {
      check : "Function",
      init : function(item){

        return this._defaultFormat(item);
      },
      nullable : true
    }
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "list":
      control = new qx.ui.form.List().set({
        focusable : false,
        keepFocus : true,
        height : null,
        width : null,
        maxHeight : this.getMaxListHeight(),
        selectionMode : "one",
        quickSelection : true
      });
      control.addListener("changeSelection", this._onListChangeSelection, this);
      control.addListener("pointerdown", this._onListPointerDown, this);
      break;case "popup":
      control = new qx.ui.popup.Popup(new qx.ui.layout.VBox);
      control.setAutoHide(false);
      control.setKeepActive(true);
      control.addListener("tap", this.close, this);
      control.add(this.getChildControl("list"));
      control.addListener("changeVisibility", this._onPopupChangeVisibility, this);
      break;};
      return control || this.base(arguments, id);
    },
    _applyMaxListHeight : function(value, old){

      this.getChildControl("list").setMaxHeight(value);
    },
    getChildrenContainer : function(){

      return this.getChildControl("list");
    },
    open : function(){

      var popup = this.getChildControl("popup");
      popup.placeToWidget(this, true);
      popup.show();
    },
    close : function(){

      this.getChildControl("popup").hide();
    },
    toggle : function(){

      var isListOpen = this.getChildControl("popup").isVisible();
      if(isListOpen){

        this.close();
      } else {

        this.open();
      };
    },
    _defaultFormat : function(item){

      var valueLabel = item ? item.getLabel() : "";
      var rich = item ? item.getRich() : false;
      if(rich){

        valueLabel = valueLabel.replace(/<[^>]+?>/g, "");
        valueLabel = qx.bom.String.unescape(valueLabel);
      };
      return valueLabel;
    },
    _onBlur : function(e){

      this.close();
    },
    _onKeyPress : function(e){

      var identifier = e.getKeyIdentifier();
      var listPopup = this.getChildControl("popup");
      if(listPopup.isHidden() && (identifier == "PageDown" || identifier == "PageUp")){

        e.stopPropagation();
      } else if(!listPopup.isHidden() && identifier == "Escape"){

        this.close();
        e.stop();
      } else {

        this.getChildControl("list").handleKeyPress(e);
      };
    },
    _onResize : function(e){

      this.getChildControl("popup").setMinWidth(e.getData().width);
    },
    _onListChangeSelection : function(e){

      throw new Error("Abstract method: _onListChangeSelection()");
    },
    _onListPointerDown : function(e){

      throw new Error("Abstract method: _onListPointerDown()");
    },
    _onPopupChangeVisibility : function(e){

      e.getData() == "visible" ? this.addState("popupOpen") : this.removeState("popupOpen");
    }
  }
});

qx.Class.define("qx.ui.form.ComboBox", {
  extend : qx.ui.form.AbstractSelectBox,
  implement : [qx.ui.form.IStringForm],
  construct : function(){

    this.base(arguments);
    var textField = this._createChildControl("textfield");
    this._createChildControl("button");
    this.addListener("tap", this._onTap);
    this.addListener("focusin", function(e){

      textField.fireNonBubblingEvent("focusin", qx.event.type.Focus);
    }, this);
    this.addListener("focusout", function(e){

      textField.fireNonBubblingEvent("focusout", qx.event.type.Focus);
    }, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "combobox"
    },
    placeholder : {
      check : "String",
      nullable : true,
      apply : "_applyPlaceholder"
    }
  },
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  members : {
    __preSelectedItem : null,
    __onInputId : null,
    _applyPlaceholder : function(value, old){

      this.getChildControl("textfield").setPlaceholder(value);
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "textfield":
      control = new qx.ui.form.TextField();
      control.setFocusable(false);
      control.addState("inner");
      control.addListener("changeValue", this._onTextFieldChangeValue, this);
      control.addListener("blur", this.close, this);
      this._add(control, {
        flex : 1
      });
      break;case "button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.setKeepActive(true);
      control.addState("inner");
      control.addListener("execute", this.toggle, this);
      this._add(control);
      break;case "list":
      control = this.base(arguments, id);
      control.setSelectionMode("single");
      break;};
      return control || this.base(arguments, id);
    },
    _forwardStates : {
      focused : true,
      invalid : true
    },
    tabFocus : function(){

      var field = this.getChildControl("textfield");
      field.getFocusElement().focus();
      field.selectAllText();
    },
    focus : function(){

      this.base(arguments);
      this.getChildControl("textfield").getFocusElement().focus();
    },
    setValue : function(value){

      var textfield = this.getChildControl("textfield");
      if(textfield.getValue() == value){

        return;
      };
      textfield.setValue(value);
    },
    getValue : function(){

      return this.getChildControl("textfield").getValue();
    },
    resetValue : function(){

      this.getChildControl("textfield").setValue(null);
    },
    _onKeyPress : function(e){

      var popup = this.getChildControl("popup");
      var iden = e.getKeyIdentifier();
      if(iden == "Down" && e.isAltPressed()){

        this.getChildControl("button").addState("selected");
        this.toggle();
        e.stopPropagation();
      } else if(iden == "Enter"){

        if(popup.isVisible()){

          this._setPreselectedItem();
          this.resetAllTextSelection();
          this.close();
          e.stop();
        };
      } else if(popup.isVisible()){

        this.base(arguments, e);
      };;
    },
    _onTap : function(e){

      this.close();
    },
    _onListPointerDown : function(e){

      this._setPreselectedItem();
    },
    _setPreselectedItem : function(){

      if(this.__preSelectedItem){

        var label = this.__preSelectedItem.getLabel();
        if(this.getFormat() != null){

          label = this.getFormat().call(this, this.__preSelectedItem);
        };
        if(label && label.translate){

          label = label.translate();
        };
        this.setValue(label);
        this.__preSelectedItem = null;
      };
    },
    _onListChangeSelection : function(e){

      var current = e.getData();
      if(current.length > 0){

        var list = this.getChildControl("list");
        var ctx = list.getSelectionContext();
        if(ctx == "quick" || ctx == "key"){

          this.__preSelectedItem = current[0];
        } else {

          var label = current[0].getLabel();
          if(this.getFormat() != null){

            label = this.getFormat().call(this, current[0]);
          };
          if(label && label.translate){

            label = label.translate();
          };
          this.setValue(label);
          this.__preSelectedItem = null;
        };
      };
    },
    _onPopupChangeVisibility : function(e){

      this.base(arguments, e);
      var popup = this.getChildControl("popup");
      if(popup.isVisible()){

        var list = this.getChildControl("list");
        var value = this.getValue();
        var item = null;
        if(value){

          item = list.findItem(value);
        };
        if(item){

          list.setSelection([item]);
        } else {

          list.resetSelection();
        };
      } else {

        if(e.getOldData() == "visible"){

          this.tabFocus();
        };
      };
      this.getChildControl("button").removeState("selected");
    },
    _onTextFieldChangeValue : function(e){

      var value = e.getData();
      var list = this.getChildControl("list");
      if(value != null){

        var item = list.findItem(value, false);
        if(item){

          list.setSelection([item]);
        } else {

          list.resetSelection();
        };
      } else {

        list.resetSelection();
      };
      this.fireDataEvent("changeValue", value, e.getOldData());
    },
    getTextSelection : function(){

      return this.getChildControl("textfield").getTextSelection();
    },
    getTextSelectionLength : function(){

      return this.getChildControl("textfield").getTextSelectionLength();
    },
    setTextSelection : function(start, end){

      this.getChildControl("textfield").setTextSelection(start, end);
    },
    clearTextSelection : function(){

      this.getChildControl("textfield").clearTextSelection();
    },
    selectAllText : function(){

      this.getChildControl("textfield").selectAllText();
    },
    resetAllTextSelection : function(){

      this.clearTextSelection();
      this.selectAllText();
    }
  }
});

qx.Bootstrap.define("qx.application.Routing", {
  construct : function(){

    this.__messaging = new qx.event.Messaging();
    this.__navigationHandler = qx.bom.History.getInstance();
    this.__navigationHandler.addListener("changeState", this.__onChangeHash, this);
  },
  statics : {
    DEFAULT_PATH : "/",
    __back : [],
    __forward : []
  },
  members : {
    __navigationHandler : null,
    __messaging : null,
    __currentGetPath : null,
    init : function(defaultPath){

      if(qx.core.Environment.get("qx.debug")){

        if(defaultPath != null){

          qx.core.Assert.assertString(defaultPath, "Invalid argument 'defaultPath'");
        };
      };
      var path = this.getState();
      path = this._getPathOrFallback(path, defaultPath);
      this._executeGet(path, null, true);
    },
    _getPathOrFallback : function(path, defaultPath){

      if(path == "" || path == null || !this.__messaging.has("get", path)){

        path = defaultPath || qx.application.Routing.DEFAULT_PATH;
      };
      return path;
    },
    onGet : function(route, handler, scope){

      return this.__messaging.on("get", route, handler, scope);
    },
    on : function(route, handler, scope){

      return this.onGet(route, handler, scope);
    },
    onPost : function(route, handler, scope){

      return this.__messaging.on("post", route, handler, scope);
    },
    onPut : function(route, handler, scope){

      return this.__messaging.on("put", route, handler, scope);
    },
    onDelete : function(route, handler, scope){

      return this.__messaging.on("delete", route, handler, scope);
    },
    onAny : function(route, handler, scope){

      return this.__messaging.onAny(route, handler, scope);
    },
    remove : function(id){

      this.__messaging.remove(id);
    },
    __onChangeHash : function(evt){

      var path = evt.getData();
      path = this._getPathOrFallback(path);
      if(path != this.__currentGetPath){

        this._executeGet(path, null, true);
      };
    },
    _executeGet : function(path, customData, fromEvent){

      this.__currentGetPath = path;
      var history = this.__getFromHistory(path);
      if(history){

        if(!customData){

          customData = history.data.customData || {
          };
          customData.fromHistory = true;
          customData.action = history.action;
          customData.fromEvent = fromEvent;
        } else {

          this.__replaceCustomData(path, customData);
        };
      } else {

        this.__addToHistory(path, customData);
        qx.application.Routing.__forward = [];
      };
      this.__navigationHandler.setState(path);
      this.__messaging.emit("get", path, null, customData);
    },
    executeGet : function(path, customData){

      this._executeGet(path, customData);
    },
    execute : function(path, customData){

      this.executeGet(path, customData);
    },
    executePost : function(path, params, customData){

      this.__messaging.emit("post", path, params, customData);
    },
    executePut : function(path, params, customData){

      this.__messaging.emit("put", path, params, customData);
    },
    executeDelete : function(path, params, customData){

      this.__messaging.emit("delete", path, params, customData);
    },
    getState : function(){

      return this.__navigationHandler.getState();
    },
    __addToHistory : function(path, customData){

      qx.application.Routing.__back.unshift({
        path : path,
        customData : customData
      });
    },
    __replaceCustomData : function(path, customData){

      var register = [qx.application.Routing.__back, qx.application.Routing.__forward];
      for(var i = 0;i < register.length;i++){

        for(var j = 0;j < register[i].length;j++){

          if(register[i][j].path == path){

            register[i][j].customData = customData;
          };
        };
      };
    },
    __getFromHistory : function(path){

      var back = qx.application.Routing.__back;
      var forward = qx.application.Routing.__forward;
      var found = false;
      var entry = null;
      var length = back.length;
      for(var i = 0;i < length;i++){

        if(back[i].path == path){

          entry = back[i];
          var toForward = back.splice(0, i);
          for(var a = 0;a < toForward.length;a++){

            forward.unshift(toForward[a]);
          };
          found = true;
          break;
        };
      };
      if(found){

        return {
          data : entry,
          action : "back"
        };
      };
      var length = forward.length;
      for(var i = 0;i < length;i++){

        if(forward[i].path == path){

          entry = forward[i];
          var toBack = forward.splice(0, i + 1);
          for(var a = 0;a < toBack.length;a++){

            back.unshift(toBack[a]);
          };
          break;
        };
      };
      if(entry){

        return {
          data : entry,
          action : "forward"
        };
      };
      return entry;
    },
    back : function(customData){

      var data = customData;
      if(data){

        data["action"] = "back";
      } else {

        data = {
          "action" : "back"
        };
      };
      var path,back = qx.application.Routing.__back;
      if(back.length > 0){

        back.shift();
      };
      if(back.length > 0){

        var state = back.shift();
        this._executeGet(state.path, data);
      } else if(data.defaultPath){

        path = data.defaultPath;
        delete data.defaultPath;
        this._executeGet(path, data);
      } else if(qx.application.Routing.DEFAULT_PATH){

        this._executeGet(qx.application.Routing.DEFAULT_PATH, data);
      };;
    },
    dispose : function(){

      this.__navigationHandler.removeListener("changeState", this.__onChangeHash, this);
    }
  }
});

qx.Bootstrap.define("qx.event.Messaging", {
  construct : function(){

    this._listener = {
    } , this.__listenerIdCount = 0;
    this.__channelToIdMapping = {
    };
  },
  members : {
    _listener : null,
    __listenerIdCount : null,
    __channelToIdMapping : null,
    on : function(channel, type, handler, scope){

      return this._addListener(channel, type, handler, scope);
    },
    onAny : function(type, handler, scope){

      return this._addListener("any", type, handler, scope);
    },
    _addListener : function(channel, type, handler, scope){

      var listeners = this._listener[channel] = this._listener[channel] || {
      };
      var id = this.__listenerIdCount++;
      var params = [];
      var param = null;
      if(qx.lang.Type.isString(type)){

        var paramsRegexp = /\{([\w\d]+)\}/g;
        while((param = paramsRegexp.exec(type)) !== null){

          params.push(param[1]);
        };
        type = new RegExp("^" + type.replace(paramsRegexp, "([^\/]+)") + "$");
      };
      listeners[id] = {
        regExp : type,
        params : params,
        handler : handler,
        scope : scope
      };
      this.__channelToIdMapping[id] = channel;
      return id;
    },
    remove : function(id){

      var channel = this.__channelToIdMapping[id];
      var listener = this._listener[channel];
      delete listener[id];
      delete this.__channelToIdMapping[id];
    },
    has : function(channel, path){

      var listeners = this._listener[channel];
      if(!listeners || qx.lang.Object.isEmpty(listeners)){

        return false;
      };
      for(var id in listeners){

        var listener = listeners[id];
        if(listener.regExp.test(path)){

          return true;
        };
      };
      return false;
    },
    emit : function(channel, path, params, customData){

      this._emit(channel, path, params, customData);
    },
    _emit : function(channel, path, params, customData){

      var listenerMatchedAny = false;
      var listener = this._listener["any"];
      listenerMatchedAny = this._emitListeners(channel, path, listener, params, customData);
      var listenerMatched = false;
      listener = this._listener[channel];
      listenerMatched = this._emitListeners(channel, path, listener, params, customData);
      if(!listenerMatched && !listenerMatchedAny){

        qx.Bootstrap.info("No listener found for " + path);
      };
    },
    _emitListeners : function(channel, path, listeners, params, customData){

      if(!listeners || qx.lang.Object.isEmpty(listeners)){

        return false;
      };
      var listenerMatched = false;
      for(var id in listeners){

        var listener = listeners[id];
        listenerMatched |= this._emitRoute(channel, path, listener, params, customData);
      };
      return listenerMatched;
    },
    _emitRoute : function(channel, path, listener, params, customData){

      var match = listener.regExp.exec(path);
      if(match){

        var params = params || {
        };
        var param = null;
        var value = null;
        match.shift();
        for(var i = 0;i < match.length;i++){

          value = match[i];
          param = listener.params[i];
          if(param){

            params[param] = value;
          } else {

            params[i] = value;
          };
        };
        listener.handler.call(listener.scope, {
          path : path,
          params : params,
          customData : customData
        });
      };
      return match != undefined;
    }
  }
});

qx.Class.define("qx.bom.History", {
  extend : qx.core.Object,
  type : "abstract",
  construct : function(){

    this.base(arguments);
    this._baseUrl = window.location.href.split('#')[0] + '#';
    this._titles = {
    };
    this._setInitialState();
  },
  events : {
    "request" : "qx.event.type.Data"
  },
  statics : {
    SUPPORTS_HASH_CHANGE_EVENT : qx.core.Environment.get("event.hashchange"),
    getInstance : function(){

      var runsInIframe = !(window == window.top);
      if(!this.$$instance){

        if(runsInIframe && qx.core.Environment.get("browser.documentmode") == 9){

          this.$$instance = new qx.bom.HashHistory();
        } else if(runsInIframe && qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 9){

          this.$$instance = new qx.bom.IframeHistory();
        } else if(this.SUPPORTS_HASH_CHANGE_EVENT){

          this.$$instance = new qx.bom.NativeHistory();
        } else if((qx.core.Environment.get("engine.name") == "mshtml")){

          this.$$instance = new qx.bom.IframeHistory();
        } else {

          this.$$instance = new qx.bom.NativeHistory();
        };;;
      };
      return this.$$instance;
    }
  },
  properties : {
    title : {
      check : "String",
      event : "changeTitle",
      nullable : true,
      apply : "_applyTitle"
    },
    state : {
      check : "String",
      event : "changeState",
      nullable : true,
      apply : "_applyState"
    }
  },
  members : {
    _titles : null,
    _applyState : function(value, old){

      this._writeState(value);
    },
    _setInitialState : function(){

      this.setState(this._readState());
    },
    _encode : function(value){

      if(qx.lang.Type.isString(value)){

        return encodeURIComponent(value);
      };
      return "";
    },
    _decode : function(value){

      if(qx.lang.Type.isString(value)){

        return decodeURIComponent(value);
      };
      return "";
    },
    _applyTitle : function(title){

      if(title != null){

        document.title = title || "";
      };
    },
    addToHistory : function(state, newTitle){

      if(!qx.lang.Type.isString(state)){

        state = state + "";
      };
      if(qx.lang.Type.isString(newTitle)){

        this.setTitle(newTitle);
        this._titles[state] = newTitle;
      };
      if(this.getState() !== state){

        this._writeState(state);
      };
    },
    navigateBack : function(){

      qx.event.Timer.once(function(){

        history.back();
      }, this, 100);
    },
    navigateForward : function(){

      qx.event.Timer.once(function(){

        history.forward();
      }, this, 100);
    },
    _onHistoryLoad : function(state){

      this.setState(state);
      this.fireDataEvent("request", state);
      if(this._titles[state] != null){

        this.setTitle(this._titles[state]);
      };
    },
    _readState : function(){

      throw new Error("Abstract method call");
    },
    _writeState : function(){

      throw new Error("Abstract method call");
    },
    _setHash : function(value){

      var url = this._baseUrl + (value || "");
      var loc = window.location;
      if(url != loc.href){

        loc.href = url;
      };
    },
    _getHash : function(){

      var hash = /#(.*)$/.exec(window.location.href);
      return hash && hash[1] ? hash[1] : "";
    }
  },
  destruct : function(){

    this._titles = null;
  }
});

qx.Class.define("qx.bom.HashHistory", {
  extend : qx.bom.History,
  construct : function(){

    this.base(arguments);
    this._baseUrl = null;
    this.__initIframe();
  },
  members : {
    __checkOnHashChange : null,
    __iframe : null,
    __iframeReady : false,
    addToHistory : function(state, newTitle){

      if(!qx.lang.Type.isString(state)){

        state = state + "";
      };
      if(qx.lang.Type.isString(newTitle)){

        this.setTitle(newTitle);
        this._titles[state] = newTitle;
      };
      if(this.getState() !== state){

        this._writeState(state);
      };
    },
    __initIframe : function(){

      this.__iframe = this.__createIframe();
      document.body.appendChild(this.__iframe);
      this.__waitForIFrame(function(){

        this._baseUrl = this.__iframe.contentWindow.document.location.href;
        this.__attachListeners();
      }, this);
    },
    __createIframe : function(){

      var iframe = qx.bom.Iframe.create({
        src : qx.util.ResourceManager.getInstance().toUri(qx.core.Environment.get("qx.blankpage")) + "#"
      });
      iframe.style.visibility = "hidden";
      iframe.style.position = "absolute";
      iframe.style.left = "-1000px";
      iframe.style.top = "-1000px";
      return iframe;
    },
    __waitForIFrame : function(callback, context, retry){

      if(typeof retry === "undefined"){

        retry = 0;
      };
      if(!this.__iframe.contentWindow || !this.__iframe.contentWindow.document){

        if(retry > 20){

          throw new Error("can't initialize iframe");
        };
        qx.event.Timer.once(function(){

          this.__waitForIFrame(callback, context, ++retry);
        }, this, 10);
        return;
      };
      this.__iframeReady = true;
      callback.call(context || window);
    },
    __attachListeners : function(){

      qx.event.Idle.getInstance().addListener("interval", this.__onHashChange, this);
    },
    __detatchListeners : function(){

      qx.event.Idle.getInstance().removeListener("interval", this.__onHashChange, this);
    },
    __onHashChange : function(){

      var currentState = this._readState();
      if(qx.lang.Type.isString(currentState) && currentState != this.getState()){

        this._onHistoryLoad(currentState);
      };
    },
    _readState : function(){

      var hash = !this._getHash() ? "" : this._getHash().substr(1);
      return this._decode(hash);
    },
    _getHash : function(){

      if(!this.__iframeReady){

        return null;
      };
      return this.__iframe.contentWindow.document.location.hash;
    },
    _writeState : function(state){

      this._setHash(this._encode(state));
    },
    _setHash : function(value){

      if(!this.__iframe || !this._baseUrl){

        return;
      };
      var hash = !this.__iframe.contentWindow.document.location.hash ? "" : this.__iframe.contentWindow.document.location.hash.substr(1);
      if(value != hash){

        this.__iframe.contentWindow.document.location.hash = value;
      };
    }
  },
  destruct : function(){

    this.__detatchListeners();
    this.__iframe = null;
  }
});

qx.Class.define("qx.bom.IframeHistory", {
  extend : qx.bom.History,
  construct : function(){

    this.base(arguments);
    this.__initTimer();
  },
  members : {
    __iframe : null,
    __iframeReady : false,
    __writeStateTimner : null,
    __dontApplyState : null,
    __locationState : null,
    _setInitialState : function(){

      this.base(arguments);
      this.__locationState = this._getHash();
    },
    _setHash : function(value){

      this.base(arguments, value);
      this.__locationState = this._encode(value);
    },
    addToHistory : function(state, newTitle){

      if(!qx.lang.Type.isString(state)){

        state = state + "";
      };
      if(qx.lang.Type.isString(newTitle)){

        this.setTitle(newTitle);
        this._titles[state] = newTitle;
      };
      if(this.getState() !== state){

        this.setState(state);
      };
      this.fireDataEvent("request", state);
    },
    _onHistoryLoad : function(state){

      this._setState(state);
      this.fireDataEvent("request", state);
      if(this._titles[state] != null){

        this.setTitle(this._titles[state]);
      };
    },
    _setState : function(state){

      this.__dontApplyState = true;
      this.setState(state);
      this.__dontApplyState = false;
    },
    _applyState : function(value, old){

      if(this.__dontApplyState){

        return;
      };
      this._writeState(value);
    },
    _readState : function(){

      if(!this.__iframeReady){

        return this._decode(this._getHash());
      };
      var doc = this.__iframe.contentWindow.document;
      var elem = doc.getElementById("state");
      return elem ? this._decode(elem.innerText) : "";
    },
    _writeState : function(state){

      if(!this.__iframeReady){

        this.__clearWriteSateTimer();
        this.__writeStateTimner = qx.event.Timer.once(function(){

          this._writeState(state);
        }, this, 50);
        return;
      };
      this.__clearWriteSateTimer();
      var state = this._encode(state);
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.version") != 8){

        this._setHash(state);
      };
      var doc = this.__iframe.contentWindow.document;
      doc.open();
      doc.write('<html><body><div id="state">' + state + '</div></body></html>');
      doc.close();
    },
    __clearWriteSateTimer : function(){

      if(this.__writeStateTimner){

        this.__writeStateTimner.stop();
        this.__writeStateTimner.dispose();
      };
    },
    __initTimer : function(){

      this.__initIframe(function(){

        qx.event.Idle.getInstance().addListener("interval", this.__onHashChange, this);
      });
    },
    __onHashChange : function(e){

      var currentState = null;
      var locationState = this._getHash();
      if(!this.__isCurrentLocationState(locationState)){

        currentState = this.__storeLocationState(locationState);
      } else {

        currentState = this._readState();
      };
      if(qx.lang.Type.isString(currentState) && currentState != this.getState()){

        this._onHistoryLoad(currentState);
      };
    },
    __storeLocationState : function(locationState){

      locationState = this._decode(locationState);
      this._writeState(locationState);
      return locationState;
    },
    __isCurrentLocationState : function(locationState){

      return qx.lang.Type.isString(locationState) && locationState == this.__locationState;
    },
    __initIframe : function(handler){

      this.__iframe = this.__createIframe();
      document.body.appendChild(this.__iframe);
      this.__waitForIFrame(function(){

        this._writeState(this.getState());
        if(handler){

          handler.call(this);
        };
      }, this);
    },
    __createIframe : function(){

      var iframe = qx.bom.Iframe.create({
        src : qx.util.ResourceManager.getInstance().toUri(qx.core.Environment.get("qx.blankpage"))
      });
      iframe.style.visibility = "hidden";
      iframe.style.position = "absolute";
      iframe.style.left = "-1000px";
      iframe.style.top = "-1000px";
      return iframe;
    },
    __waitForIFrame : function(callback, context, retry){

      if(typeof retry === "undefined"){

        retry = 0;
      };
      if(!this.__iframe.contentWindow || !this.__iframe.contentWindow.document){

        if(retry > 20){

          throw new Error("can't initialize iframe");
        };
        qx.event.Timer.once(function(){

          this.__waitForIFrame(callback, context, ++retry);
        }, this, 10);
        return;
      };
      this.__iframeReady = true;
      callback.call(context || window);
    }
  },
  destruct : function(){

    this.__iframe = null;
    if(this.__writeStateTimner){

      this.__writeStateTimner.dispose();
      this.__writeStateTimner = null;
    };
    qx.event.Idle.getInstance().removeListener("interval", this.__onHashChange, this);
  }
});

qx.Class.define("qx.bom.NativeHistory", {
  extend : qx.bom.History,
  construct : function(){

    this.base(arguments);
    this.__attachListeners();
  },
  members : {
    __checkOnHashChange : null,
    __attachListeners : function(){

      if(qx.bom.History.SUPPORTS_HASH_CHANGE_EVENT){

        var boundFunc = qx.lang.Function.bind(this.__onHashChange, this);
        this.__checkOnHashChange = qx.event.GlobalError.observeMethod(boundFunc);
        qx.bom.Event.addNativeListener(window, "hashchange", this.__checkOnHashChange);
      } else {

        qx.event.Idle.getInstance().addListener("interval", this.__onHashChange, this);
      };
    },
    __detatchListeners : function(){

      if(qx.bom.History.SUPPORTS_HASH_CHANGE_EVENT){

        qx.bom.Event.removeNativeListener(window, "hashchange", this.__checkOnHashChange);
      } else {

        qx.event.Idle.getInstance().removeListener("interval", this.__onHashChange, this);
      };
    },
    __onHashChange : function(){

      var currentState = this._readState();
      if(qx.lang.Type.isString(currentState) && currentState != this.getState()){

        this._onHistoryLoad(currentState);
      };
    },
    _readState : function(){

      return this._decode(this._getHash());
    },
    _writeState : qx.core.Environment.select("engine.name", {
      "opera" : function(state){

        qx.event.Timer.once(function(){

          this._setHash(this._encode(state));
        }, this, 0);
      },
      "default" : function(state){

        this._setHash(this._encode(state));
      }
    })
  },
  destruct : function(){

    this.__detatchListeners();
  }
});

qx.Bootstrap.define("qx.log.appender.Native", {
  statics : {
    process : function(entry){

      if(qx.core.Environment.get("html.console")){

        var level = console[entry.level] ? entry.level : "log";
        if(console[level]){

          var args = qx.log.appender.Util.toText(entry);
          console[level](args);
        };
      };
    }
  },
  defer : function(statics){

    qx.log.Logger.register(statics);
  }
});

qx.Class.define("qx.ui.core.Command", {
  extend : qx.core.Object,
  construct : function(shortcut){

    this.base(arguments);
    this._shortcut = new qx.bom.Shortcut(shortcut);
    this._shortcut.addListener("execute", this.execute, this);
    if(shortcut !== undefined){

      this.setShortcut(shortcut);
    };
  },
  events : {
    "execute" : "qx.event.type.Data"
  },
  properties : {
    enabled : {
      init : true,
      check : "Boolean",
      event : "changeEnabled",
      apply : "_applyEnabled"
    },
    shortcut : {
      check : "String",
      apply : "_applyShortcut",
      nullable : true
    },
    label : {
      check : "String",
      nullable : true,
      event : "changeLabel"
    },
    icon : {
      check : "String",
      nullable : true,
      event : "changeIcon"
    },
    toolTipText : {
      check : "String",
      nullable : true,
      event : "changeToolTipText"
    },
    value : {
      nullable : true,
      event : "changeValue"
    },
    menu : {
      check : "qx.ui.menu.Menu",
      nullable : true,
      event : "changeMenu"
    }
  },
  members : {
    _shortcut : null,
    _applyEnabled : function(value){

      this._shortcut.setEnabled(value);
    },
    _applyShortcut : function(value){

      this._shortcut.setShortcut(value);
    },
    execute : function(target){

      this.fireDataEvent("execute", target);
    },
    toString : function(){

      return this._shortcut.toString();
    }
  },
  destruct : function(){

    this._disposeObjects("_shortcut");
    this.removeListener("execute", this.execute, this);
  }
});

qx.Class.define("qx.bom.Shortcut", {
  extend : qx.core.Object,
  construct : function(shortcut){

    this.base(arguments);
    this.__modifier = {
    };
    this.__key = null;
    if(shortcut != null){

      this.setShortcut(shortcut);
    };
    this.initEnabled();
  },
  events : {
    "execute" : "qx.event.type.Data"
  },
  properties : {
    enabled : {
      init : true,
      check : "Boolean",
      event : "changeEnabled",
      apply : "_applyEnabled"
    },
    shortcut : {
      check : "String",
      apply : "_applyShortcut",
      nullable : true
    },
    autoRepeat : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __modifier : "",
    __key : "",
    execute : function(target){

      this.fireDataEvent("execute", target);
    },
    __onKeyDown : function(event){

      if(this.getEnabled() && this.__matchesKeyEvent(event)){

        if(!this.isAutoRepeat()){

          this.execute(event.getTarget());
        };
        event.stop();
      };
    },
    __onKeyPress : function(event){

      if(this.getEnabled() && this.__matchesKeyEvent(event)){

        if(this.isAutoRepeat()){

          this.execute(event.getTarget());
        };
        event.stop();
      };
    },
    _applyEnabled : function(value, old){

      if(value){

        qx.event.Registration.addListener(document.documentElement, "keydown", this.__onKeyDown, this);
        qx.event.Registration.addListener(document.documentElement, "keypress", this.__onKeyPress, this);
      } else {

        qx.event.Registration.removeListener(document.documentElement, "keydown", this.__onKeyDown, this);
        qx.event.Registration.removeListener(document.documentElement, "keypress", this.__onKeyPress, this);
      };
    },
    _applyShortcut : function(value, old){

      if(value){

        if(value.search(/[\s]+/) != -1){

          var msg = "Whitespaces are not allowed within shortcuts";
          this.error(msg);
          throw new Error(msg);
        };
        this.__modifier = {
          "Control" : false,
          "Shift" : false,
          "Meta" : false,
          "Alt" : false
        };
        this.__key = null;
        var index;
        var a = [];
        while(value.length > 0 && index != -1){

          index = value.search(/[-+]+/);
          a.push((value.length == 1 || index == -1) ? value : value.substring(0, index));
          value = value.substring(index + 1);
        };
        var al = a.length;
        for(var i = 0;i < al;i++){

          var identifier = this.__normalizeKeyIdentifier(a[i]);
          switch(identifier){case "Control":case "Shift":case "Meta":case "Alt":
          this.__modifier[identifier] = true;
          break;case "Unidentified":
          var msg = "Not a valid key name for a shortcut: " + a[i];
          this.error(msg);
          throw msg;default:
          if(this.__key){

            var msg = "You can only specify one non modifier key!";
            this.error(msg);
            throw msg;
          };
          this.__key = identifier;};
        };
      };
      return true;
    },
    __matchesKeyEvent : function(e){

      var key = this.__key;
      if(!key){

        return false;
      };
      if((!this.__modifier.Shift && e.isShiftPressed()) || (this.__modifier.Shift && !e.isShiftPressed()) || (!this.__modifier.Control && e.isCtrlPressed()) || (this.__modifier.Control && !e.isCtrlPressed()) || (!this.__modifier.Meta && e.isMetaPressed()) || (this.__modifier.Meta && !e.isMetaPressed()) || (!this.__modifier.Alt && e.isAltPressed()) || (this.__modifier.Alt && !e.isAltPressed())){

        return false;
      };
      if(key == e.getKeyIdentifier()){

        return true;
      };
      return false;
    },
    __oldKeyNameToKeyIdentifierMap : {
      esc : "Escape",
      ctrl : "Control",
      print : "PrintScreen",
      del : "Delete",
      pageup : "PageUp",
      pagedown : "PageDown",
      numlock : "NumLock",
      numpad_0 : "0",
      numpad_1 : "1",
      numpad_2 : "2",
      numpad_3 : "3",
      numpad_4 : "4",
      numpad_5 : "5",
      numpad_6 : "6",
      numpad_7 : "7",
      numpad_8 : "8",
      numpad_9 : "9",
      numpad_divide : "/",
      numpad_multiply : "*",
      numpad_minus : "-",
      numpad_plus : "+"
    },
    __normalizeKeyIdentifier : function(keyName){

      var kbUtil = qx.event.util.Keyboard;
      var keyIdentifier = "Unidentified";
      if(kbUtil.isValidKeyIdentifier(keyName)){

        return keyName;
      };
      if(keyName.length == 1 && keyName >= "a" && keyName <= "z"){

        return keyName.toUpperCase();
      };
      keyName = keyName.toLowerCase();
      var keyIdentifier = this.__oldKeyNameToKeyIdentifierMap[keyName] || qx.lang.String.firstUp(keyName);
      if(kbUtil.isValidKeyIdentifier(keyIdentifier)){

        return keyIdentifier;
      } else {

        return "Unidentified";
      };
    },
    toString : function(){

      var key = this.__key;
      var str = [];
      for(var modifier in this.__modifier){

        if(this.__modifier[modifier]){

          str.push(qx.locale.Key.getKeyName("short", modifier));
        };
      };
      if(key){

        str.push(qx.locale.Key.getKeyName("short", key));
      };
      return str.join("+");
    }
  },
  destruct : function(){

    this.setEnabled(false);
    this.__modifier = this.__key = null;
  }
});

qx.Class.define("qx.locale.Key", {
  statics : {
    getKeyName : function(size, keyIdentifier, locale){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertInArray(size, ["short", "full"]);
      };
      var key = "key_" + size + "_" + keyIdentifier;
      if(qx.core.Environment.get("os.name") == "osx" && keyIdentifier == "Control"){

        key += "_Mac";
      };
      var localizedKey = qx.locale.Manager.getInstance().translate(key, [], locale);
      if(localizedKey == key){

        return qx.locale.Key._keyNames[key] || keyIdentifier;
      } else {

        return localizedKey;
      };
    }
  },
  defer : function(statics){

    var keyNames = {
    };
    var Manager = qx.locale.Manager;
    keyNames[Manager.marktr("key_short_Backspace")] = "Backspace";
    keyNames[Manager.marktr("key_short_Tab")] = "Tab";
    keyNames[Manager.marktr("key_short_Space")] = "Space";
    keyNames[Manager.marktr("key_short_Enter")] = "Enter";
    keyNames[Manager.marktr("key_short_Shift")] = "Shift";
    keyNames[Manager.marktr("key_short_Control")] = "Ctrl";
    keyNames[Manager.marktr("key_short_Control_Mac")] = "Ctrl";
    keyNames[Manager.marktr("key_short_Alt")] = "Alt";
    keyNames[Manager.marktr("key_short_CapsLock")] = "Caps";
    keyNames[Manager.marktr("key_short_Meta")] = "Meta";
    keyNames[Manager.marktr("key_short_Escape")] = "Esc";
    keyNames[Manager.marktr("key_short_Left")] = "Left";
    keyNames[Manager.marktr("key_short_Up")] = "Up";
    keyNames[Manager.marktr("key_short_Right")] = "Right";
    keyNames[Manager.marktr("key_short_Down")] = "Down";
    keyNames[Manager.marktr("key_short_PageUp")] = "PgUp";
    keyNames[Manager.marktr("key_short_PageDown")] = "PgDn";
    keyNames[Manager.marktr("key_short_End")] = "End";
    keyNames[Manager.marktr("key_short_Home")] = "Home";
    keyNames[Manager.marktr("key_short_Insert")] = "Ins";
    keyNames[Manager.marktr("key_short_Delete")] = "Del";
    keyNames[Manager.marktr("key_short_NumLock")] = "Num";
    keyNames[Manager.marktr("key_short_PrintScreen")] = "Print";
    keyNames[Manager.marktr("key_short_Scroll")] = "Scroll";
    keyNames[Manager.marktr("key_short_Pause")] = "Pause";
    keyNames[Manager.marktr("key_short_Win")] = "Win";
    keyNames[Manager.marktr("key_short_Apps")] = "Apps";
    keyNames[Manager.marktr("key_full_Backspace")] = "Backspace";
    keyNames[Manager.marktr("key_full_Tab")] = "Tabulator";
    keyNames[Manager.marktr("key_full_Space")] = "Space";
    keyNames[Manager.marktr("key_full_Enter")] = "Enter";
    keyNames[Manager.marktr("key_full_Shift")] = "Shift";
    keyNames[Manager.marktr("key_full_Control")] = "Control";
    keyNames[Manager.marktr("key_full_Control_Mac")] = "Control";
    keyNames[Manager.marktr("key_full_Alt")] = "Alt";
    keyNames[Manager.marktr("key_full_CapsLock")] = "CapsLock";
    keyNames[Manager.marktr("key_full_Meta")] = "Meta";
    keyNames[Manager.marktr("key_full_Escape")] = "Escape";
    keyNames[Manager.marktr("key_full_Left")] = "Left";
    keyNames[Manager.marktr("key_full_Up")] = "Up";
    keyNames[Manager.marktr("key_full_Right")] = "Right";
    keyNames[Manager.marktr("key_full_Down")] = "Down";
    keyNames[Manager.marktr("key_full_PageUp")] = "PageUp";
    keyNames[Manager.marktr("key_full_PageDown")] = "PageDown";
    keyNames[Manager.marktr("key_full_End")] = "End";
    keyNames[Manager.marktr("key_full_Home")] = "Home";
    keyNames[Manager.marktr("key_full_Insert")] = "Insert";
    keyNames[Manager.marktr("key_full_Delete")] = "Delete";
    keyNames[Manager.marktr("key_full_NumLock")] = "NumLock";
    keyNames[Manager.marktr("key_full_PrintScreen")] = "PrintScreen";
    keyNames[Manager.marktr("key_full_Scroll")] = "Scroll";
    keyNames[Manager.marktr("key_full_Pause")] = "Pause";
    keyNames[Manager.marktr("key_full_Win")] = "Win";
    keyNames[Manager.marktr("key_full_Apps")] = "Apps";
    statics._keyNames = keyNames;
  }
});

qx.Mixin.define("qx.dev.unit.MTestLoader", {
  properties : {
    suite : {
      check : "qx.dev.unit.TestSuite",
      nullable : true,
      init : null
    }
  },
  members : {
    _getClassNameFromUrl : function(){

      var params = window.location.search;
      var className = params.match(/[\?&]testclass=([A-Za-z0-9_\.]+)/);
      if(className){

        className = className[1];
      } else {

        className = "__unknown_class__";
      };
      return className;
    },
    setTestNamespace : function(namespace){

      var suite = new qx.dev.unit.TestSuite();
      suite.add(namespace);
      this.setSuite(suite);
    },
    runJsUnit : function(){

      var testResult = new qx.dev.unit.JsUnitTestResult();
      this.getSuite().run(testResult);
      testResult.exportToJsUnit();
    },
    runStandAlone : function(){

      var testResult = new qx.dev.unit.TestResult();
      testResult.addListener("failure", function(e){

        var ex = e.getData()[0].exception;
        var test = e.getData()[0].test;
        this.error("Test '" + test.getFullName() + "' failed: " + ex.message + " - " + ex.getComment());
        if(ex.getStackTrace){

          this.error("Stack trace: " + ex.getStackTrace().join("\n"));
        };
      }, this);
      testResult.addListener("error", function(e){

        var ex = e.getData()[0].exception;
        var test = e.getData()[0].test;
        this.error("The test '" + test.getFullName() + "' had an error: " + ex, ex);
      }, this);
      this.getSuite().run(testResult);
    },
    getTestDescriptions : function(){

      var desc = [];
      var classes = this.getSuite().getTestClasses();
      for(var i = 0;i < classes.length;i++){

        var cls = classes[i];
        var clsDesc = {
        };
        clsDesc.classname = cls.getName();
        clsDesc.tests = [];
        var methods = cls.getTestMethods();
        for(var j = 0;j < methods.length;j++){

          clsDesc.tests.push(methods[j].getName());
        };
        desc.push(clsDesc);
      };
      return qx.lang.Json.stringify(desc);
    },
    runTests : function(testResult, className, methodName){

      var classes = this.getSuite().getTestClasses();
      for(var i = 0;i < classes.length;i++){

        if(className == classes[i].getName()){

          var methods = classes[i].getTestMethods();
          for(var j = 0;j < methods.length;j++){

            if(methodName && methods[j].getName() != methodName){

              continue;
            };
            methods[j].run(testResult);
          };
          return;
        };
      };
    },
    runTestsFromNamespace : function(testResult, namespaceName){

      var classes = this.getSuite().getTestClasses();
      for(var i = 0;i < classes.length;i++){

        if(classes[i].getName().indexOf(namespaceName) == 0){

          classes[i].run(testResult);
        };
      };
    }
  }
});

qx.Class.define("qx.dev.unit.TestSuite", {
  extend : qx.dev.unit.AbstractTestSuite,
  construct : function(testClassOrNamespace){

    this.base(arguments);
    this._tests = [];
    if(testClassOrNamespace){

      this.add(testClassOrNamespace);
    };
  },
  members : {
    add : function(testClassOrNamespace){

      if(qx.lang.Type.isString(testClassOrNamespace)){

        var evalTestClassOrNamespace = window.eval(testClassOrNamespace);
        if(!evalTestClassOrNamespace){

          this.addFail(testClassOrNamespace, "The class/namespace '" + testClassOrNamespace + "' is undefined!");
        };
        testClassOrNamespace = evalTestClassOrNamespace;
      };
      if(qx.lang.Type.isFunction(testClassOrNamespace)){

        this.addTestClass(testClassOrNamespace);
      } else if(qx.lang.Type.isObject(testClassOrNamespace)){

        this.addTestNamespace(testClassOrNamespace);
      } else {

        this.addFail("existsCheck", "Unknown test class '" + testClassOrNamespace + "'!");
        return;
      };
    },
    addTestNamespace : function(namespace){

      if(qx.lang.Type.isFunction(namespace) && namespace.classname){

        if(qx.Class.isSubClassOf(namespace, qx.dev.unit.TestCase)){

          if(namespace.$$classtype !== "abstract"){

            this.addTestClass(namespace);
          };
          return;
        };
      } else if(qx.lang.Type.isObject(namespace) && !(namespace instanceof Array)){

        for(var key in namespace){

          this.addTestNamespace(namespace[key]);
        };
      };
    },
    addTestClass : function(clazz){

      this._tests.push(new qx.dev.unit.TestClass(clazz));
    },
    getTestClasses : function(){

      var classes = [];
      for(var i = 0;i < this._tests.length;i++){

        var test = this._tests[i];
        if(test instanceof qx.dev.unit.TestClass){

          classes.push(test);
        };
      };
      return classes;
    }
  }
});

qx.Class.define("qx.dev.unit.TestResult", {
  extend : qx.core.Object,
  events : {
    startTest : "qx.event.type.Data",
    endTest : "qx.event.type.Data",
    error : "qx.event.type.Data",
    failure : "qx.event.type.Data",
    wait : "qx.event.type.Data",
    skip : "qx.event.type.Data",
    endMeasurement : "qx.event.type.Data"
  },
  statics : {
    run : function(testResult, test, testFunction){

      testResult.run(test, testFunction);
    }
  },
  members : {
    _timeout : null,
    run : function(test, testFunction, self, resume){

      if(!this._timeout){

        this._timeout = {
        };
      };
      var testClass = test.getTestClass();
      if(!testClass.hasListener("assertionFailed")){

        testClass.addListener("assertionFailed", function(ev){

          var error = [{
            exception : ev.getData(),
            test : test
          }];
          this.fireDataEvent("failure", error);
        }, this);
      };
      if(resume && !this._timeout[test.getFullName()]){

        this._timeout[test.getFullName()] = "failed";
        var qxEx = new qx.type.BaseError("Error in asynchronous test", "resume() called before wait()");
        this._createError("failure", [qxEx], test);
        this.fireDataEvent("endTest", test);
        return;
      };
      this.fireDataEvent("startTest", test);
      if(qx.core.Environment.get("qx.debug.dispose")){

        qx.dev.Debug.startDisposeProfiling();
      };
      if(this._timeout[test.getFullName()]){

        if(this._timeout[test.getFullName()] !== "failed"){

          this._timeout[test.getFullName()].stop();
          this._timeout[test.getFullName()].dispose();
        };
        delete this._timeout[test.getFullName()];
      } else {

        try{

          test.setUp();
        } catch(ex) {

          try{

            this.tearDown(test);
          } catch(except) {
          };
          if(ex.classname == "qx.dev.unit.RequirementError"){

            this._createError("skip", [ex], test);
            this.fireDataEvent("endTest", test);
          } else {

            if(ex instanceof qx.type.BaseError && ex.message == qx.type.BaseError.DEFAULTMESSAGE){

              ex.message = "setUp failed";
            } else {

              ex.message = "setUp failed: " + ex.message;
            };
            this._createError("error", [ex], test);
            this.fireDataEvent("endTest", test);
          };
          return;
        };
      };
      try{

        testFunction.call(self || window);
      } catch(ex) {

        var error = true;
        if(ex instanceof qx.dev.unit.AsyncWrapper){

          if(this._timeout[test.getFullName()]){

            return;
          };
          if(ex.getDelay()){

            var that = this;
            var defaultTimeoutFunction = function(){

              throw new qx.core.AssertionError("Asynchronous Test Error", "Timeout reached before resume() was called.");
            };
            var timeoutFunc = (ex.getDeferredFunction() ? ex.getDeferredFunction() : defaultTimeoutFunction);
            var context = (ex.getContext() ? ex.getContext() : window);
            this._timeout[test.getFullName()] = qx.event.Timer.once(function(){

              this.run(test, timeoutFunc, context);
            }, that, ex.getDelay());
            this.fireDataEvent("wait", test);
          };
        } else if(ex instanceof qx.dev.unit.MeasurementResult){

          error = false;
          this._createError("endMeasurement", [ex], test);
        } else {

          try{

            this.tearDown(test);
          } catch(except) {
          };
          if(ex.classname == "qx.core.AssertionError"){

            this._createError("failure", [ex], test);
            this.fireDataEvent("endTest", test);
          } else if(ex.classname == "qx.dev.unit.RequirementError"){

            this._createError("skip", [ex], test);
            this.fireDataEvent("endTest", test);
          } else {

            this._createError("error", [ex], test);
            this.fireDataEvent("endTest", test);
          };
        };
      };
      if(!error){

        try{

          this.tearDown(test);
          this.fireDataEvent("endTest", test);
        } catch(ex) {

          if(ex instanceof qx.type.BaseError && ex.message == qx.type.BaseError.DEFAULTMESSAGE){

            ex.message = "tearDown failed";
          } else {

            ex.message = "tearDown failed: " + ex.message;
          };
          this._createError("error", [ex], test);
          this.fireDataEvent("endTest", test);
        };
      };
    },
    _createError : function(eventName, exceptions, test){

      var errors = [];
      for(var i = 0,l = exceptions.length;i < l;i++){

        errors.push({
          exception : exceptions[i],
          test : test
        });
      };
      this.fireDataEvent(eventName, errors);
    },
    __wrapAddListener : function(testFunction){

      testFunction._addedListeners = [];
      if(!qx.event.Registration.addListenerOriginal){

        qx.event.Registration.addListenerOriginal = qx.event.Registration.addListener;
        qx.event.Registration.addListener = function(target, type, listener, self, capture){

          var listenerId = qx.event.Registration.addListenerOriginal(target, type, listener, self, capture);
          var store = true;
          if((target.classname && target.classname.indexOf("testrunner.unit") == 0) || (self && self.classname && self.classname.indexOf("testrunner.unit") == 0)){

            store = false;
          };
          if(store){

            testFunction._addedListeners.push([target, listenerId]);
          };
          return listenerId;
        };
      };
    },
    __removeListeners : function(testFunction){

      if(testFunction._addedListeners){

        var listeners = testFunction._addedListeners;
        for(var i = 0,l = listeners.length;i < l;i++){

          var target = listeners[i][0];
          var id = listeners[i][1];
          try{

            qx.event.Registration.removeListenerById(target, id);
          } catch(ex) {
          };
        };
      };
    },
    tearDown : function(test){

      test.tearDown();
      var testClass = test.getTestClass();
      var specificTearDown = "tearDown" + qx.lang.String.firstUp(test.getName());
      if(testClass[specificTearDown]){

        testClass[specificTearDown]();
      };
      if(qx.core.Environment.get("qx.debug.dispose") && qx.dev.Debug.disposeProfilingActive){

        var testName = test.getFullName();
        var undisposed = qx.dev.Debug.stopDisposeProfiling();
        for(var i = 0;i < undisposed.length;i++){

          var trace;
          if(undisposed[i].stackTrace){

            trace = undisposed[i].stackTrace.join("\n");
          };
          window.top.qx.log.Logger.warn("Undisposed object in " + testName + ": " + undisposed[i].object.classname + "[" + undisposed[i].object.toHashCode() + "]" + "\n" + trace);
        };
      };
    }
  },
  destruct : function(){

    this._timeout = null;
  }
});

qx.Class.define("qx.dev.Debug", {
  statics : {
    disposeProfilingActive : false,
    debugObject : function(obj, initialMessage, maxLevel){

      qx.log.Logger.debug(this, qx.dev.Debug.debugObjectToString(obj, initialMessage, maxLevel, false));
    },
    debugObjectToString : function(obj, initialMessage, maxLevel, bHtml){

      if(!maxLevel){

        maxLevel = 10;
      };
      var eol = (bHtml ? "</span><br>" : "\n");
      var sol = function(currentLevel){

        var indentStr;
        if(!bHtml){

          indentStr = "";
          for(var i = 0;i < currentLevel;i++){

            indentStr += "  ";
          };
        } else {

          indentStr = "<span style='padding-left:" + (currentLevel * 8) + "px;'>";
        };
        return indentStr;
      };
      var message = "";
      var displayObj = function(obj, level, maxLevel){

        if(level > maxLevel){

          message += (sol(level) + "*** TOO MUCH RECURSION: not displaying ***" + eol);
          return;
        };
        if(typeof (obj) != "object"){

          message += sol(level) + obj + eol;
          return;
        };
        for(var prop in obj){

          if(typeof (obj[prop]) == "object"){

            try{

              if(obj[prop] instanceof Array){

                message += sol(level) + prop + ": " + "Array" + eol;
              } else if(obj[prop] === null){

                message += sol(level) + prop + ": " + "null" + eol;
                continue;
              } else if(obj[prop] === undefined){

                message += sol(level) + prop + ": " + "undefined" + eol;
                continue;
              } else {

                message += sol(level) + prop + ": " + "Object" + eol;
              };;
              displayObj(obj[prop], level + 1, maxLevel);
            } catch(e) {

              message += sol(level) + prop + ": EXCEPTION expanding property" + eol;
            };
          } else {

            message += sol(level) + prop + ": " + obj[prop] + eol;
          };
        };
      };
      if(initialMessage){

        message += sol(0) + initialMessage + eol;
      };
      if(obj instanceof Array){

        message += sol(0) + "Array, length=" + obj.length + ":" + eol;
      } else if(typeof (obj) == "object"){

        var count = 0;
        for(var prop in obj){

          count++;
        };
        message += sol(0) + "Object, count=" + count + ":" + eol;
      };
      message += sol(0) + "------------------------------------------------------------" + eol;
      try{

        displayObj(obj, 0, maxLevel);
      } catch(ex) {

        message += sol(0) + "*** EXCEPTION (" + ex + ") ***" + eol;
      };
      message += sol(0) + "============================================================" + eol;
      return message;
    },
    getFunctionName : function(func, functionType){

      var clazz = func.self;
      if(!clazz){

        return null;
      };
      while(func.wrapper){

        func = func.wrapper;
      };
      switch(functionType){case "construct":
      return func == clazz ? "construct" : null;case "members":
      return qx.lang.Object.getKeyFromValue(clazz, func);case "statics":
      return qx.lang.Object.getKeyFromValue(clazz.prototype, func);default:
      if(func == clazz){

        return "construct";
      };
      return (qx.lang.Object.getKeyFromValue(clazz.prototype, func) || qx.lang.Object.getKeyFromValue(clazz, func) || null);};
    },
    debugProperties : function(model, maxLevel, html, indent){

      if(maxLevel == null){

        maxLevel = 10;
      };
      if(indent == null){

        indent = 1;
      };
      var newLine = "";
      html ? newLine = "<br>" : newLine = "\r\n";
      var message = "";
      if(qx.lang.Type.isNumber(model) || qx.lang.Type.isString(model) || qx.lang.Type.isBoolean(model) || model == null || maxLevel <= 0){

        return model;
      } else if(qx.Class.hasInterface(model.constructor, qx.data.IListData)){

        for(var i = 0;i < model.length;i++){

          for(var j = 0;j < indent;j++){

            message += "-";
          };
          message += "index(" + i + "): " + this.debugProperties(model.getItem(i), maxLevel - 1, html, indent + 1) + newLine;
        };
        return message + newLine;
      } else if(model.constructor != null){

        var properties = model.constructor.$$properties;
        for(var key in properties){

          message += newLine;
          for(var j = 0;j < indent;j++){

            message += "-";
          };
          message += " " + key + ": " + this.debugProperties(model["get" + qx.lang.String.firstUp(key)](), maxLevel - 1, html, indent + 1);
        };
        return message;
      };;
      return "";
    },
    startDisposeProfiling : qx.core.Environment.select("qx.debug.dispose", {
      "true" : function(){

        this.disposeProfilingActive = true;
        this.__nextHashFirst = qx.core.ObjectRegistry.getNextHash();
      },
      "default" : (function(){
      })
    }),
    stopDisposeProfiling : qx.core.Environment.select("qx.debug.dispose", {
      "true" : function(checkFunction){

        if(!this.__nextHashFirst){

          qx.log.Logger.error("Call " + this.classname + ".startDisposeProfiling first.");
          return [];
        };
        this.disposeProfilingActive = false;
        var undisposedObjects = [];
        while(!qx.ui.core.queue.Dispose.isEmpty()){

          qx.ui.core.queue.Dispose.flush();
        };
        var nextHashLast = qx.core.ObjectRegistry.getNextHash();
        var postId = qx.core.ObjectRegistry.getPostId();
        var traces = qx.core.ObjectRegistry.getStackTraces();
        for(var hash = this.__nextHashFirst;hash < nextHashLast;hash++){

          var obj = qx.core.ObjectRegistry.fromHashCode(hash + postId);
          if(obj && obj.isDisposed && !obj.isDisposed()){

            if(checkFunction && typeof checkFunction == "function" && !checkFunction(obj)){

              continue;
            };
            if(obj.constructor.$$instance === obj){

              continue;
            };
            if(qx.Class.implementsInterface(obj, qx.event.IEventHandler)){

              continue;
            };
            if(obj.$$pooled){

              continue;
            };
            if(qx.Class.implementsInterface(obj, qx.ui.decoration.IDecorator) && qx.theme.manager.Decoration.getInstance().isCached(obj)){

              continue;
            };
            if(obj.$$ignoreDisposeWarning){

              continue;
            };
            if(obj instanceof qx.bom.Font && qx.theme.manager.Font.getInstance().isDynamic(obj)){

              continue;
            };
            undisposedObjects.push({
              object : obj,
              stackTrace : traces[hash + postId] ? traces[hash + postId] : null
            });
          };
        };
        delete this.__nextHashFirst;
        return undisposedObjects;
      },
      "default" : (function(){
      })
    })
  }
});

qx.Class.define("qx.dev.unit.MeasurementResult", {
  extend : Object,
  construct : function(message, iterations, ownTime, renderTime){

    this.__message = message;
    this.__iterations = iterations;
    this.__ownTime = ownTime;
    this.__renderTime = renderTime;
  },
  members : {
    __message : null,
    __iterations : null,
    __ownTime : null,
    __renderTime : null,
    getData : function(){

      return {
        message : this.__message,
        iterations : this.__iterations,
        ownTime : this.__ownTime,
        renderTime : this.__renderTime
      };
    },
    toString : function(){

      return ["Measured: " + this.__message, "Iterations: " + this.__iterations, "Time: " + this.__ownTime + "ms", "Render time: " + this.__renderTime + "ms"].join("\n");
    }
  }
});

qx.Class.define("qx.dev.unit.JsUnitTestResult", {
  extend : qx.dev.unit.TestResult,
  construct : function(){

    this.base(arguments);
    this.__testFunctionNames = [];
  },
  members : {
    __testFunctionNames : null,
    run : function(test, testFunction){

      var testFunctionName = "$test_" + test.getFullName().replace(/\W/g, "_");
      this.__testFunctionNames.push(testFunctionName);
      window[testFunctionName] = testFunction;
    },
    exportToJsUnit : function(){

      var self = this;
      window.exposeTestFunctionNames = function(){

        return self.__testFunctionNames;
      };
      window.isTestPageLoaded = true;
    }
  }
});

qx.Interface.define("qx.application.IApplication", {
  members : {
    main : function(){
    },
    finalize : function(){
    },
    close : function(){
    },
    terminate : function(){
    }
  }
});

qx.Class.define("qx.application.AbstractGui", {
  type : "abstract",
  extend : qx.core.Object,
  implement : [qx.application.IApplication],
  include : qx.locale.MTranslation,
  members : {
    __root : null,
    _createRootWidget : function(){

      throw new Error("Abstract method call");
    },
    getRoot : function(){

      return this.__root;
    },
    main : function(){

      qx.theme.manager.Meta.getInstance().initialize();
      qx.ui.tooltip.Manager.getInstance();
      var rule = ["-webkit-touch-callout: none;", "-ms-touch-select: none;", "-webkit-tap-highlight-color: rgba(0,0,0,0);", "-webkit-tap-highlight-color: transparent;"].join("");
      qx.ui.style.Stylesheet.getInstance().addRule("*", rule);
      this.__root = this._createRootWidget();
      window.scrollTo(0, 0);
    },
    finalize : function(){

      this.render();
    },
    render : function(){

      qx.ui.core.queue.Manager.flush();
    },
    close : function(val){
    },
    terminate : function(){
    }
  },
  destruct : function(){

    this.__root = null;
  }
});

qx.Class.define("qx.theme.manager.Meta", {
  type : "singleton",
  extend : qx.core.Object,
  properties : {
    theme : {
      check : "Theme",
      nullable : true,
      apply : "_applyTheme"
    }
  },
  members : {
    _applyTheme : function(value, old){

      var color = null;
      var decoration = null;
      var font = null;
      var icon = null;
      var appearance = null;
      if(value){

        color = value.meta.color || null;
        decoration = value.meta.decoration || null;
        font = value.meta.font || null;
        icon = value.meta.icon || null;
        appearance = value.meta.appearance || null;
      };
      var colorMgr = qx.theme.manager.Color.getInstance();
      var decorationMgr = qx.theme.manager.Decoration.getInstance();
      var fontMgr = qx.theme.manager.Font.getInstance();
      var iconMgr = qx.theme.manager.Icon.getInstance();
      var appearanceMgr = qx.theme.manager.Appearance.getInstance();
      colorMgr.setTheme(color);
      decorationMgr.setTheme(decoration);
      fontMgr.setTheme(font);
      iconMgr.setTheme(icon);
      appearanceMgr.setTheme(appearance);
    },
    initialize : function(){

      var env = qx.core.Environment;
      var theme,obj;
      theme = env.get("qx.theme");
      if(theme){

        obj = qx.Theme.getByName(theme);
        if(!obj){

          throw new Error("The theme to use is not available: " + theme);
        };
        this.setTheme(obj);
      };
    }
  },
  environment : {
    "qx.theme" : "qx.theme.Modern"
  }
});

qx.Class.define("qx.ui.tooltip.Manager", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    qx.event.Registration.addListener(document.body, "pointerover", this.__onPointerOverRoot, this, true);
    this.__showTimer = new qx.event.Timer();
    this.__showTimer.addListener("interval", this.__onShowInterval, this);
    this.__hideTimer = new qx.event.Timer();
    this.__hideTimer.addListener("interval", this.__onHideInterval, this);
    this.__pointerPosition = {
      left : 0,
      top : 0
    };
  },
  properties : {
    current : {
      check : "qx.ui.tooltip.ToolTip",
      nullable : true,
      apply : "_applyCurrent"
    },
    showInvalidToolTips : {
      check : "Boolean",
      init : true
    },
    showToolTips : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    __pointerPosition : null,
    __hideTimer : null,
    __showTimer : null,
    __sharedToolTip : null,
    __sharedErrorToolTip : null,
    getSharedTooltip : function(){

      if(!this.__sharedToolTip){

        this.__sharedToolTip = new qx.ui.tooltip.ToolTip().set({
          rich : true
        });
      };
      return this.__sharedToolTip;
    },
    getSharedErrorTooltip : function(){

      if(!this.__sharedErrorToolTip){

        this.__sharedErrorToolTip = new qx.ui.tooltip.ToolTip().set({
          appearance : "tooltip-error",
          rich : true
        });
        this.__sharedErrorToolTip.setLabel("");
        this.__sharedErrorToolTip.syncAppearance();
      };
      return this.__sharedErrorToolTip;
    },
    _applyCurrent : function(value, old){

      if(old && qx.ui.core.Widget.contains(old, value)){

        return;
      };
      if(old){

        if(!old.isDisposed()){

          old.exclude();
        };
        this.__showTimer.stop();
        this.__hideTimer.stop();
      };
      var Registration = qx.event.Registration;
      var el = document.body;
      if(value){

        this.__showTimer.startWith(value.getShowTimeout());
        Registration.addListener(el, "pointerout", this.__onPointerOutRoot, this, true);
        Registration.addListener(el, "focusout", this.__onFocusOutRoot, this, true);
        Registration.addListener(el, "pointermove", this.__onPointerMoveRoot, this, true);
      } else {

        Registration.removeListener(el, "pointerout", this.__onPointerOutRoot, this, true);
        Registration.removeListener(el, "focusout", this.__onFocusOutRoot, this, true);
        Registration.removeListener(el, "pointermove", this.__onPointerMoveRoot, this, true);
      };
    },
    __onShowInterval : function(e){

      var current = this.getCurrent();
      if(current && !current.isDisposed()){

        this.__hideTimer.startWith(current.getHideTimeout());
        if(current.getPlaceMethod() == "widget"){

          current.placeToWidget(current.getOpener());
        } else {

          current.placeToPoint(this.__pointerPosition);
        };
        current.show();
      };
      this.__showTimer.stop();
    },
    __onHideInterval : function(e){

      var current = this.getCurrent();
      if(current && !current.isDisposed()){

        current.exclude();
      };
      this.__hideTimer.stop();
      this.resetCurrent();
    },
    __onPointerMoveRoot : function(e){

      var pos = this.__pointerPosition;
      pos.left = Math.round(e.getDocumentLeft());
      pos.top = Math.round(e.getDocumentTop());
    },
    __onPointerOverRoot : function(e){

      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());
      this.__onPointerMoveRoot(e);
      this.showToolTip(target);
    },
    showToolTip : function(target){

      if(!target){

        return;
      };
      var tooltip,tooltipText,tooltipIcon,invalidMessage;
      while(target != null){

        tooltip = target.getToolTip();
        tooltipText = target.getToolTipText() || null;
        tooltipIcon = target.getToolTipIcon() || null;
        if(qx.Class.hasInterface(target.constructor, qx.ui.form.IForm) && !target.isValid()){

          invalidMessage = target.getInvalidMessage();
        };
        if(tooltip || tooltipText || tooltipIcon || invalidMessage){

          break;
        };
        target = target.getLayoutParent();
      };
      if(!target || !target.getEnabled() || target.isBlockToolTip() || (!invalidMessage && !this.getShowToolTips()) || (invalidMessage && !this.getShowInvalidToolTips())){

        return;
      };
      if(invalidMessage){

        tooltip = this.getSharedErrorTooltip().set({
          label : invalidMessage
        });
      };
      if(!tooltip){

        tooltip = this.getSharedTooltip().set({
          label : tooltipText,
          icon : tooltipIcon
        });
      };
      this.setCurrent(tooltip);
      tooltip.setOpener(target);
    },
    __onPointerOutRoot : function(e){

      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());
      if(!target){

        return;
      };
      var related = qx.ui.core.Widget.getWidgetByElement(e.getRelatedTarget());
      if(!related && e.getPointerType() == "mouse"){

        return;
      };
      var tooltip = this.getCurrent();
      if(tooltip && (related == tooltip || qx.ui.core.Widget.contains(tooltip, related))){

        return;
      };
      if(related && target && qx.ui.core.Widget.contains(target, related)){

        return;
      };
      if(tooltip && !related){

        this.setCurrent(null);
      } else {

        this.resetCurrent();
      };
    },
    __onFocusOutRoot : function(e){

      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());
      if(!target){

        return;
      };
      var tooltip = this.getCurrent();
      if(tooltip && tooltip == target.getToolTip()){

        this.setCurrent(null);
      };
    }
  },
  destruct : function(){

    qx.event.Registration.removeListener(document.body, "pointerover", this.__onPointerOverRoot, this, true);
    this._disposeObjects("__showTimer", "__hideTimer", "__sharedToolTip");
    this.__pointerPosition = null;
  }
});

qx.Class.define("qx.application.Inline", {
  extend : qx.application.AbstractGui,
  members : {
    _createRootWidget : function(){

      return new qx.ui.root.Page(document);
    }
  }
});

qx.Mixin.define("qx.ui.window.MDesktop", {
  properties : {
    activeWindow : {
      check : "qx.ui.window.Window",
      apply : "_applyActiveWindow",
      init : null,
      nullable : true
    }
  },
  members : {
    __windows : null,
    __manager : null,
    getWindowManager : function(){

      if(!this.__manager){

        this.setWindowManager(new qx.ui.window.Window.DEFAULT_MANAGER_CLASS());
      };
      return this.__manager;
    },
    supportsMaximize : function(){

      return true;
    },
    setWindowManager : function(manager){

      if(this.__manager){

        this.__manager.setDesktop(null);
      };
      manager.setDesktop(this);
      this.__manager = manager;
    },
    _onChangeActive : function(e){

      if(e.getData()){

        this.setActiveWindow(e.getTarget());
      } else if(this.getActiveWindow() == e.getTarget()){

        this.setActiveWindow(null);
      };
    },
    _applyActiveWindow : function(value, old){

      this.getWindowManager().changeActiveWindow(value, old);
      this.getWindowManager().updateStack();
    },
    _onChangeModal : function(e){

      this.getWindowManager().updateStack();
    },
    _onChangeVisibility : function(){

      this.getWindowManager().updateStack();
    },
    _afterAddChild : function(win){

      if(qx.Class.isDefined("qx.ui.window.Window") && win instanceof qx.ui.window.Window){

        this._addWindow(win);
      };
    },
    _addWindow : function(win){

      if(!qx.lang.Array.contains(this.getWindows(), win)){

        this.getWindows().push(win);
        win.addListener("changeActive", this._onChangeActive, this);
        win.addListener("changeModal", this._onChangeModal, this);
        win.addListener("changeVisibility", this._onChangeVisibility, this);
      };
      if(win.getActive()){

        this.setActiveWindow(win);
      };
      this.getWindowManager().updateStack();
    },
    _afterRemoveChild : function(win){

      if(qx.Class.isDefined("qx.ui.window.Window") && win instanceof qx.ui.window.Window){

        this._removeWindow(win);
      };
    },
    _removeWindow : function(win){

      qx.lang.Array.remove(this.getWindows(), win);
      win.removeListener("changeActive", this._onChangeActive, this);
      win.removeListener("changeModal", this._onChangeModal, this);
      win.removeListener("changeVisibility", this._onChangeVisibility, this);
      this.getWindowManager().updateStack();
    },
    getWindows : function(){

      if(!this.__windows){

        this.__windows = [];
      };
      return this.__windows;
    }
  },
  destruct : function(){

    this._disposeArray("__windows");
    this._disposeObjects("__manager");
  }
});

qx.Mixin.define("qx.ui.core.MBlocker", {
  properties : {
    blockerColor : {
      check : "Color",
      init : null,
      nullable : true,
      apply : "_applyBlockerColor",
      themeable : true
    },
    blockerOpacity : {
      check : "Number",
      init : 1,
      apply : "_applyBlockerOpacity",
      themeable : true
    }
  },
  members : {
    __blocker : null,
    _createBlocker : function(){

      return new qx.ui.core.Blocker(this);
    },
    _applyBlockerColor : function(value, old){

      this.getBlocker().setColor(value);
    },
    _applyBlockerOpacity : function(value, old){

      this.getBlocker().setOpacity(value);
    },
    block : function(){

      this.getBlocker().block();
    },
    isBlocked : function(){

      return this.__blocker && this.__blocker.isBlocked();
    },
    unblock : function(){

      if(this.__blocker){

        this.__blocker.unblock();
      };
    },
    forceUnblock : function(){

      if(this.__blocker){

        this.__blocker.forceUnblock();
      };
    },
    blockContent : function(zIndex){

      this.getBlocker().blockContent(zIndex);
    },
    getBlocker : function(){

      if(!this.__blocker){

        this.__blocker = this._createBlocker();
      };
      return this.__blocker;
    }
  },
  destruct : function(){

    this._disposeObjects("__blocker");
  }
});

qx.Class.define("qx.ui.root.Abstract", {
  type : "abstract",
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MChildrenHandling, qx.ui.core.MBlocker, qx.ui.window.MDesktop],
  construct : function(){

    this.base(arguments);
    qx.ui.core.FocusHandler.getInstance().addRoot(this);
    qx.ui.core.queue.Visibility.add(this);
    this.initNativeHelp();
    this.addListener("keypress", this.__preventScrollWhenFocused, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "root"
    },
    enabled : {
      refine : true,
      init : true
    },
    focusable : {
      refine : true,
      init : true
    },
    globalCursor : {
      check : "String",
      nullable : true,
      themeable : true,
      apply : "_applyGlobalCursor",
      event : "changeGlobalCursor"
    },
    nativeContextMenu : {
      refine : true,
      init : false
    },
    nativeHelp : {
      check : "Boolean",
      init : false,
      apply : "_applyNativeHelp"
    }
  },
  members : {
    __globalCursorStyleSheet : null,
    isRootWidget : function(){

      return true;
    },
    getLayout : function(){

      return this._getLayout();
    },
    _applyGlobalCursor : qx.core.Environment.select("engine.name", {
      "mshtml" : function(value, old){
      },
      "default" : function(value, old){

        var Stylesheet = qx.bom.Stylesheet;
        var sheet = this.__globalCursorStyleSheet;
        if(!sheet){

          this.__globalCursorStyleSheet = sheet = Stylesheet.createElement();
        };
        Stylesheet.removeAllRules(sheet);
        if(value){

          Stylesheet.addRule(sheet, "*", qx.bom.element.Cursor.compile(value).replace(";", "") + " !important");
        };
      }
    }),
    _applyNativeContextMenu : function(value, old){

      if(value){

        this.removeListener("contextmenu", this._onNativeContextMenu, this, true);
      } else {

        this.addListener("contextmenu", this._onNativeContextMenu, this, true);
      };
    },
    _onNativeContextMenu : function(e){

      if(e.getTarget().getNativeContextMenu()){

        return;
      };
      e.preventDefault();
    },
    __preventScrollWhenFocused : function(e){

      if(e.getKeyIdentifier() !== "Space"){

        return;
      };
      var target = e.getTarget();
      var focusHandler = qx.ui.core.FocusHandler.getInstance();
      if(!focusHandler.isFocused(target)){

        return;
      };
      var nodeName = target.getContentElement().getNodeName();
      if(nodeName === "input" || nodeName === "textarea"){

        return;
      };
      e.preventDefault();
    },
    _applyNativeHelp : function(value, old){

      if(qx.core.Environment.get("event.help")){

        if(old === false){

          qx.bom.Event.removeNativeListener(document, "help", (function(){

            return false;
          }));
        };
        if(value === false){

          qx.bom.Event.addNativeListener(document, "help", (function(){

            return false;
          }));
        };
      };
    }
  },
  destruct : function(){

    this.__globalCursorStyleSheet = null;
  },
  defer : function(statics, members){

    qx.ui.core.MChildrenHandling.remap(members);
  }
});

qx.Class.define("qx.ui.root.Page", {
  extend : qx.ui.root.Abstract,
  construct : function(doc){

    this.__doc = doc;
    this.base(arguments);
    this._setLayout(new qx.ui.layout.Basic());
    this.setZIndex(10000);
    qx.ui.core.queue.Layout.add(this);
    this.addListener("resize", this.__onResize, this);
    qx.ui.core.FocusHandler.getInstance().connectTo(this);
    if((qx.core.Environment.get("engine.name") == "mshtml")){

      this.setKeepFocus(true);
    };
  },
  members : {
    __timer : null,
    __doc : null,
    _createContentElement : function(){

      var elem = this.__doc.createElement("div");
      this.__doc.body.appendChild(elem);
      var root = new qx.html.Root(elem);
      root.setStyles({
        position : "absolute",
        textAlign : "left"
      });
      root.setAttribute("$$widget", this.toHashCode());
      if((qx.core.Environment.get("engine.name") == "gecko")){

        root.setAttribute("qxIsRootPage", 1);
      };
      return root;
    },
    _computeSizeHint : function(){

      var width = qx.bom.Document.getWidth(this._window);
      var height = qx.bom.Document.getHeight(this._window);
      return {
        minWidth : width,
        width : width,
        maxWidth : width,
        minHeight : height,
        height : height,
        maxHeight : height
      };
    },
    __onResize : function(e){

      this.getContentElement().setStyles({
        width : 0,
        height : 0
      });
    },
    supportsMaximize : function(){

      return false;
    },
    _applyPadding : function(value, old, name){

      if(value && (name == "paddingTop" || name == "paddingLeft")){

        throw new Error("The root widget does not support 'left', or 'top' paddings!");
      };
      this.base(arguments, value, old, name);
    }
  },
  destruct : function(){

    this.__doc = null;
  }
});

qx.Class.define("qx.ui.layout.Basic", {
  extend : qx.ui.layout.Abstract,
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assert(name == "left" || name == "top", "The property '" + name + "' is not supported by the Basic layout!");
        this.assertInteger(value);
      },
      "false" : null
    }),
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      var child,size,props,left,top;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        size = child.getSizeHint();
        props = child.getLayoutProperties();
        left = padding.left + (props.left || 0) + child.getMarginLeft();
        top = padding.top + (props.top || 0) + child.getMarginTop();
        child.renderLayout(left, top, size.width, size.height);
      };
    },
    _computeSizeHint : function(){

      var children = this._getLayoutChildren();
      var child,size,props;
      var neededWidth = 0,neededHeight = 0;
      var localWidth,localHeight;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        size = child.getSizeHint();
        props = child.getLayoutProperties();
        localWidth = size.width + (props.left || 0) + child.getMarginLeft() + child.getMarginRight();
        localHeight = size.height + (props.top || 0) + child.getMarginTop() + child.getMarginBottom();
        if(localWidth > neededWidth){

          neededWidth = localWidth;
        };
        if(localHeight > neededHeight){

          neededHeight = localHeight;
        };
      };
      return {
        width : neededWidth,
        height : neededHeight
      };
    }
  }
});

qx.Class.define("qx.html.Root", {
  extend : qx.html.Element,
  construct : function(elem){

    this.base(arguments);
    if(elem != null){

      this.useElement(elem);
    };
  },
  members : {
    useElement : function(elem){

      this.base(arguments, elem);
      this.setRoot(true);
      qx.html.Element._modified[this.$$hash] = this;
    }
  }
});

qx.Class.define("qx.dev.unit.TestLoaderInline", {
  extend : qx.application.Inline,
  include : [qx.dev.unit.MTestLoader],
  members : {
    main : function(){

      this.base(arguments);
      qx.log.appender.Console;
      this.setTestNamespace(this._getClassNameFromUrl());
      if(window.top.jsUnitTestSuite){

        this.runJsUnit();
        return;
      };
      if(window == window.top){

        this.runStandAlone();
        return;
      };
    }
  }
});

qx.Class.define("qx.ui.progressive.model.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  events : {
    "dataAvailable" : "qx.event.type.Data"
  },
  members : {
    getElementCount : function(){

      throw new Error("getElementCount() is abstract");
    },
    getNextElement : function(){

      throw new Error("getNextElement() is abstract");
    }
  }
});

qxWeb.define("qx.module.Placement", {
  statics : {
    placeTo : function(target, position, offsets, modeX, modeY){

      if(!this[0] || !target){

        return this;
      };
      target = qxWeb(target);
      var visible = this.isRendered();
      var displayStyleValue = null;
      var visibilityStyleValue = null;
      if(!visible){

        displayStyleValue = this[0].style.display;
        visibilityStyleValue = this[0].style.visibility;
        this.setStyles({
          position : "absolute",
          visibility : "hidden",
          display : "block"
        });
      };
      var axes = {
        x : qx.module.Placement._getAxis(modeX),
        y : qx.module.Placement._getAxis(modeY)
      };
      var size = {
        width : this.getWidth(),
        height : this.getHeight()
      };
      var parent = this.getParents();
      var area = {
        width : parent.getWidth(),
        height : parent.getHeight()
      };
      offsets = offsets || {
        top : 0,
        right : 0,
        bottom : 0,
        left : 0
      };
      var split = position.split("-");
      var edge = split[0];
      var align = split[1];
      var newPosition = {
        x : qx.module.Placement._getPositionX(edge, align),
        y : qx.module.Placement._getPositionY(edge, align)
      };
      var targetLocation;
      var parentPositioning = parent.getStyle("position");
      if(parentPositioning == "relative" || parentPositioning == "static"){

        targetLocation = target.getOffset();
      } else {

        var targetPos = target.getPosition();
        targetLocation = {
          top : targetPos.top,
          bottom : targetPos.top + target.getHeight(),
          left : targetPos.left,
          right : targetPos.left + target.getWidth()
        };
      };
      var newLocation = qx.module.Placement._computePlacement(axes, size, area, targetLocation, offsets, newPosition);
      while(parent.length > 0){

        if(parent.getStyle("position") == "relative"){

          var offset = parent.getOffset();
          var borderTop = parseInt(parent.getStyle("border-top-width")) || 0;
          var borderLeft = parseInt(parent.getStyle("border-left-width")) || 0;
          newLocation.left -= (offset.left + borderLeft);
          newLocation.top -= (offset.top + borderTop);
          parent = [];
        } else {

          parent = parent.getParents();
        };
      };
      if(!visible){

        this[0].style.display = displayStyleValue;
        this[0].style.visibility = visibilityStyleValue;
      };
      this.setStyles({
        position : "absolute",
        left : newLocation.left + "px",
        top : newLocation.top + "px"
      });
      return this;
    },
    _getAxis : function(mode){

      switch(mode){case "keep-align":
      return qx.util.placement.KeepAlignAxis;case "best-fit":
      return qx.util.placement.BestFitAxis;case "direct":default:
      return qx.util.placement.DirectAxis;};
    },
    _computePlacement : function(axes, size, area, target, offsets, position){

      var left = axes.x.computeStart(size.width, {
        start : target.left,
        end : target.right
      }, {
        start : offsets.left,
        end : offsets.right
      }, area.width, position.x);
      var top = axes.y.computeStart(size.height, {
        start : target.top,
        end : target.bottom
      }, {
        start : offsets.top,
        end : offsets.bottom
      }, area.height, position.y);
      return {
        left : left,
        top : top
      };
    },
    _getPositionX : function(edge, align){

      if(edge == "left"){

        return "edge-start";
      } else if(edge == "right"){

        return "edge-end";
      } else if(align == "left"){

        return "align-start";
      } else if(align == "center"){

        return "align-center";
      } else if(align == "right"){

        return "align-end";
      };;;;
    },
    _getPositionY : function(edge, align){

      if(edge == "top"){

        return "edge-start";
      } else if(edge == "bottom"){

        return "edge-end";
      } else if(align == "top"){

        return "align-start";
      } else if(align == "middle"){

        return "align-center";
      } else if(align == "bottom"){

        return "align-end";
      };;;;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "placeTo" : statics.placeTo
    });
  }
});

qx.Class.define("qx.ui.form.Resetter", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__items = [];
  },
  members : {
    __items : null,
    add : function(item){

      if(this._supportsValue(item)){

        var init = item.getValue();
      } else if(this.__supportsSingleSelection(item)){

        var init = item.getSelection();
      } else if(this.__supportsDataBindingSelection(item)){

        var init = item.getSelection().concat();
      } else {

        throw new Error("Item " + item + " not supported for reseting.");
      };;
      this.__items.push({
        item : item,
        init : init
      });
    },
    remove : function(item){

      for(var i = 0;i < this.__items.length;i++){

        var storedItem = this.__items[i];
        if(storedItem.item === item){

          this.__items.splice(i, 1);
          return true;
        };
      };
      return false;
    },
    reset : function(){

      for(var i = 0;i < this.__items.length;i++){

        var dataEntry = this.__items[i];
        this.__setItem(dataEntry.item, dataEntry.init);
      };
    },
    resetItem : function(item){

      var init;
      for(var i = 0;i < this.__items.length;i++){

        var dataEntry = this.__items[i];
        if(dataEntry.item === item){

          init = dataEntry.init;
          break;
        };
      };
      if(init === undefined){

        throw new Error("The given item has not been added.");
      };
      this.__setItem(item, init);
    },
    __setItem : function(item, init){

      if(this._supportsValue(item)){

        item.setValue(init);
      } else if(this.__supportsSingleSelection(item) || this.__supportsDataBindingSelection(item)){

        item.setSelection(init);
      };
    },
    redefine : function(){

      for(var i = 0;i < this.__items.length;i++){

        var item = this.__items[i].item;
        this.__items[i].init = this.__getCurrentValue(item);
      };
    },
    redefineItem : function(item){

      var dataEntry;
      for(var i = 0;i < this.__items.length;i++){

        if(this.__items[i].item === item){

          dataEntry = this.__items[i];
          break;
        };
      };
      if(dataEntry === undefined){

        throw new Error("The given item has not been added.");
      };
      dataEntry.init = this.__getCurrentValue(dataEntry.item);
    },
    __getCurrentValue : function(item){

      if(this._supportsValue(item)){

        return item.getValue();
      } else if(this.__supportsSingleSelection(item) || this.__supportsDataBindingSelection(item)){

        return item.getSelection();
      };
    },
    __supportsSingleSelection : function(formItem){

      var clazz = formItem.constructor;
      return qx.Class.hasInterface(clazz, qx.ui.core.ISingleSelection);
    },
    __supportsDataBindingSelection : function(formItem){

      var clazz = formItem.constructor;
      return qx.Class.hasInterface(clazz, qx.data.controller.ISelection);
    },
    _supportsValue : function(formItem){

      var clazz = formItem.constructor;
      return (qx.Class.hasInterface(clazz, qx.ui.form.IBooleanForm) || qx.Class.hasInterface(clazz, qx.ui.form.IColorForm) || qx.Class.hasInterface(clazz, qx.ui.form.IDateForm) || qx.Class.hasInterface(clazz, qx.ui.form.INumberForm) || qx.Class.hasInterface(clazz, qx.ui.form.IStringForm));
    }
  },
  destruct : function(){

    this.__items = null;
  }
});

qx.Class.define("qx.ui.mobile.list.renderer.Abstract", {
  extend : qx.ui.mobile.container.Composite,
  type : "abstract",
  construct : function(layout){

    this.base(arguments, layout);
    this.initSelectable();
    this.initRemovable();
    this.initShowArrow();
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "list-item"
    },
    selected : {
      check : "Boolean",
      init : false,
      apply : "_applySelected"
    },
    selectable : {
      check : "Boolean",
      init : true,
      apply : "_applyAttribute"
    },
    removable : {
      check : "Boolean",
      init : false,
      apply : "_applyRemovable"
    },
    showArrow : {
      check : "Boolean",
      init : false,
      apply : "_applyShowArrow"
    },
    activatable : {
      refine : true,
      init : true
    }
  },
  members : {
    reset : function(){

      if(qx.core.Environment.get("qx.debug")){

        throw new Error("Abstract method call");
      };
    },
    _getTagName : function(){

      return "li";
    },
    getRowIndexFromEvent : function(evt){

      return this.getRowIndex(evt.getOriginalTarget());
    },
    getRowIndex : function(element){

      while(element.tagName != "LI"){

        element = element.parentNode;
      };
      return element.getAttribute("data-row");
    },
    _applyShowArrow : function(value, old){

      if(value){

        this.addCssClass("arrow");
      } else {

        this.removeCssClass("arrow");
      };
    },
    _applyRemovable : function(value, old){

      if(value){

        this.addCssClass("removable");
      } else {

        this.removeCssClass("removable");
      };
    },
    _applySelected : function(value, old){

      if(value){

        this.addCssClass("selected");
      } else {

        this.removeCssClass("selected");
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.list.renderer.Default", {
  extend : qx.ui.mobile.list.renderer.Abstract,
  construct : function(layout){

    this.base(arguments, layout || new qx.ui.mobile.layout.HBox().set({
      alignY : "middle"
    }));
    this._init();
  },
  members : {
    __image : null,
    __title : null,
    __subtitle : null,
    __rightContainer : null,
    getImageWidget : function(){

      return this.__image;
    },
    getTitleWidget : function(){

      return this.__title;
    },
    getSubtitleWidget : function(){

      return this.__subtitle;
    },
    setImage : function(source){

      this.__image.setSource(source);
    },
    setTitle : function(title){

      if(title && title.translate){

        this.__title.setValue(title.translate());
      } else {

        this.__title.setValue(title);
      };
    },
    setSubtitle : function(subtitle){

      if(subtitle && subtitle.translate){

        this.__subtitle.setValue(subtitle.translate());
      } else {

        this.__subtitle.setValue(subtitle);
      };
    },
    _init : function(){

      this.__image = this._createImage();
      this.add(this.__image);
      this.__rightContainer = this._createRightContainer();
      this.add(this.__rightContainer, {
        flex : 1
      });
      this.__title = this._createTitle();
      this.__rightContainer.add(this.__title);
      this.__subtitle = this._createSubtitle();
      this.__rightContainer.add(this.__subtitle);
    },
    _createRightContainer : function(){

      return new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());
    },
    _createImage : function(){

      var image = new qx.ui.mobile.basic.Image();
      image.setAnonymous(true);
      image.addCssClass("list-item-image");
      return image;
    },
    _createTitle : function(){

      var title = new qx.ui.mobile.basic.Label();
      title.setWrap(false);
      title.addCssClass("list-item-title");
      return title;
    },
    _createSubtitle : function(){

      var subtitle = new qx.ui.mobile.basic.Label();
      subtitle.setWrap(false);
      subtitle.addCssClass("list-item-subtitle");
      return subtitle;
    },
    reset : function(){

      this.__image.setSource(null);
      this.__title.setValue("");
      this.__subtitle.setValue("");
    }
  },
  destruct : function(){

    this._disposeObjects("__image", "__title", "__subtitle", "__rightContainer");
  }
});

qx.Mixin.define("qx.ui.treevirtual.MFamily", {
  members : {
    familyGetFirstChild : function(nodeReference){

      var node;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
      } else if(typeof (nodeReference) == "number"){

        node = this.getTableModel().getData()[nodeReference];
      } else {

        throw new Error("Expected node object or node id");
      };
      if(node.children.length > 0){

        return node.children[0];
      };
      return null;
    },
    familyGetLastChild : function(nodeReference){

      var node;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
      } else if(typeof (nodeReference) == "number"){

        node = this.getTableModel().getData()[nodeReference];
      } else {

        throw new Error("Expected node object or node id");
      };
      if(node.children.length > 0){

        return node.children[node.children.length - 1];
      };
      return null;
    },
    familyGetNextSibling : function(nodeReference){

      var node;
      var nodeId;
      var nodes = this.getTableModel().getData();
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
        node = nodes[nodeId];
      } else {

        throw new Error("Expected node object or node id");
      };
      var myNodeId = node.nodeId;
      var parentChildren = nodes[node.parentNodeId].children;
      for(var i = 0;i < parentChildren.length;i++){

        if(parentChildren[i] == myNodeId){

          if(i < parentChildren.length - 1){

            return parentChildren[i + 1];
          };
          return null;
        };
      };
    },
    familyGetPrevSibling : function(nodeReference){

      var node;
      var nodeId;
      var nodes = this.getTableModel().getData();
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
        node = nodes[nodeId];
      } else {

        throw new Error("Expected node object or node id");
      };
      var myNodeId = node.nodeId;
      var parentChildren = nodes[node.parentNodeId].children;
      for(var i = 0;i < parentChildren.length;i++){

        if(parentChildren[i] == myNodeId){

          if(i > 0){

            return parentChildren[i - 1];
          };
          return null;
        };
      };
    }
  }
});

qx.Bootstrap.define("qx.ui.website.Table", {
  extend : qx.ui.website.Widget,
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  events : {
    "modelChanged" : "Array",
    "selectionChanged" : "qxWeb",
    "cellClicked" : "Object",
    "modelApplied" : "Array",
    "cellRender" : "Object"
  },
  statics : {
    _config : {
      caseSensitive : false,
      cellValueClass : "qx-cell-value-class",
      columnSelection : "none"
    },
    table : function(model){

      var table = new qx.ui.website.Table(this);
      table.init(model);
      return table;
    },
    __isNumber : function(n){

      return (Object.prototype.toString.call(n) === '[object Number]' || Object.prototype.toString.call(n) === '[object String]') && !isNaN(parseFloat(n)) && isFinite(n.toString().replace(/^-/, ''));
    },
    __isDate : function(val){

      var d = new Date(val);
      return !isNaN(d.valueOf());
    },
    __getIndex : function(htmlCollection, htmlElement){

      var index = -1;
      for(var i = 0,l = htmlCollection.length;i < l;i++){

        if(htmlCollection.item(i) == htmlElement){

          index = i;
          break;
        };
      };
      return index;
    },
    __getUID : function(){

      return ((new Date()).getTime() + "" + Math.floor(Math.random() * 1000000)).substr(0, 18);
    },
    __selectionTypes : ["single", "multiple", "none"],
    __internalCellClass : "qx-table-cell",
    __internalHeaderClass : "qx-table-header",
    __internalSelectionClass : "qx-row-selection-class",
    __internalInputClass : "qx-selection-input"
  },
  members : {
    init : function(){

      if(!this.base(arguments)){

        return false;
      };
      var model = arguments[0];
      this._forEachElementWrapped(function(table){

        if(qxWeb.getNodeName(table).toUpperCase() !== "TABLE"){

          throw new Error("collection should contains only table elements !!");
        };
        table.setProperty("__inputName", "input" + qx.ui.website.Table.__getUID());
        table.__getColumnMetaData(model);
        table.setModel(model);
        table.setSortingFunction(table.__defaultColumnSort);
        table.__registerEvents();
      }.bind(this));
      return true;
    },
    setModel : function(model){

      this._forEachElementWrapped(function(table){

        if(typeof model != "undefined"){

          if(qx.lang.Type.isArray(model)){

            table.setProperty("__model", model);
            table.__applyTemplate(model);
            this.emit("modelChanged", model);
          } else {

            throw new Error("model must be an Array !!");
          };
        } else {

          table.setProperty("__model", table.__getDataRows());
        };
      });
      return this;
    },
    setColumnType : function(columnName, type){

      this._forEachElementWrapped(function(table){

        table.__checkColumnExistance(columnName);
        table.getProperty("__columnMeta")[columnName].type = type;
      }.bind(this));
      return this;
    },
    getColumnType : function(columnName){

      this.eq(0).__checkColumnExistance(columnName);
      return this.eq(0).getProperty("__columnMeta")[columnName].type;
    },
    getCell : function(row, col){

      return qxWeb(this.eq(0).__getRoot().rows.item(row).cells.item(col));
    },
    setCompareFunction : function(type, compareFunc){

      type = qxWeb.string.firstUp(type);
      this._forEachElementWrapped(function(table){

        table.setProperty("__compare" + type, compareFunc);
      }.bind(this));
      return this;
    },
    unsetCompareFunction : function(type){

      type = qxWeb.string.firstUp(type);
      var compareFunc = this["__compare" + type] || this.__compareString;
      this._forEachElementWrapped(function(table){

        table.setProperty("__compare" + type, compareFunc);
      }.bind(this));
      return this;
    },
    getCompareFunction : function(type){

      type = qxWeb.string.firstUp(type);
      return this.eq(0).getProperty("__compare" + type) || this["__compare" + type];
    },
    setSortingFunction : function(func){

      this._forEachElementWrapped(function(table){

        table.setProperty("__sortingFunction", func);
      }.bind(this));
      return this;
    },
    unsetSortingFunction : function(){

      this._forEachElementWrapped(function(table){

        table.setProperty("__sortingFunction", this.__defaultColumnSort);
      }.bind(this));
      return this;
    },
    sort : function(columnName, dir){

      this.__checkColumnExistance(columnName);
      this._forEachElementWrapped(function(table){

        table.__setSortingClass(columnName, dir);
        table.__sortDOM(table.__sort(columnName, dir));
      }.bind(this));
      return this;
    },
    getSortingData : function(){

      return this.eq(0).getProperty("__sortingData");
    },
    setItemTemplate : function(columnName, template){

      this._forEachElementWrapped(function(table){

        table.getProperty("__columnMeta")[columnName].template = template;
        table.__applyTemplate(table.getProperty("__model"));
      });
      return this;
    },
    setItemTemplates : function(template){

      this._forEachElementWrapped(function(table){

        for(var key in this.getProperty("__columnMeta")){

          this.getProperty("__columnMeta")[key].template = template;
        };
        table.__applyTemplate(this.getProperty("__model"));
      });
      return this;
    },
    render : function(){

      this._forEachElementWrapped(function(table){

        var sortingData = table.getSortingData();
        var columnSelection = table.getConfig("columnSelection");
        if(qx.ui.website.Table.__selectionTypes.indexOf(columnSelection) != -1){

          table.__processSelectionInputs(columnSelection);
        };
        if(sortingData){

          table.__sortDOM(table.__sort(sortingData.columnName, sortingData.direction));
        };
      });
      return this;
    },
    __processSelectionInputs : function(columnSelection){

      var currentSelection = this.getProperty("__columnSelection") || "none";
      switch(columnSelection){case "none":
      if(currentSelection != "none"){

        qxWeb("." + qx.ui.website.Table.__internalSelectionClass).remove();
      };
      break;case "multiple":
      if(currentSelection == "none"){

        this.__createInputs("checkbox");
      } else if(currentSelection == "single"){

        qxWeb("." + qx.ui.website.Table.__internalSelectionClass + " input").setAttribute("type", "checkbox");
      };
      break;case "single":
      if(currentSelection == "none"){

        this.__createInputs("radio");
      } else if(currentSelection == "multiple"){

        qxWeb("." + qx.ui.website.Table.__internalSelectionClass + " input").setAttribute("type", "radio");
      };
      break;};
      this.setProperty("__columnSelection", columnSelection);
      return this;
    },
    __createInputs : function(type){

      var rows = this[0].rows;
      for(var i = 0;i < rows.length;i++){

        this.__createInput(rows.item(i), type);
      };
      return this;
    },
    __createInput : function(row, type, nodeName){

      if(typeof nodeName == "undefined"){

        nodeName = qxWeb.getNodeName(qxWeb(row.cells.item(0)));
      };
      var clazz = qx.ui.website.Table,inputName = this.getProperty("__inputName");
      var className = (nodeName == "th") ? clazz.__internalSelectionClass + " " + clazz.__internalHeaderClass : clazz.__internalSelectionClass;
      var inputNode = qxWeb.create("<" + nodeName + " class='" + className + "'><input name='" + inputName + "' class='" + clazz.__internalInputClass + "' type='" + type + "' /></" + nodeName + ">");
      if(row.cells.item(0)){

        inputNode.insertBefore(qxWeb(row.cells.item(0)));
      } else {

        inputNode.appendTo(qxWeb(row));
      };
    },
    __checkColumnExistance : function(columnName){

      var data = this.getProperty("__columnMeta");
      if(data && !data[columnName]){

        throw new Error("Column " + columnName + " does not exists !");
      };
    },
    __getHeaderRow : function(){

      var clazz = qx.ui.website.Table;
      var tHeadOrFoot = this[0].tHead || this[0].tFoot;
      if(tHeadOrFoot){

        return tHeadOrFoot.rows.item(0);
      } else {

        var headers = qxWeb("[data-name]." + clazz.__internalCellClass);
        return headers[0].parentNode;
      };
    },
    __getColumnMetaData : function(model){

      var tHead = this[0].tHead || this.__getRoot();
      var data = {
      };
      this.__addClassToHeaderAndFooter(this[0].tHead);
      this.__addClassToHeaderAndFooter(this[0].tFoot);
      var cells = null,colType = null,colName = null,uid = 0,cell = null;
      if(tHead && (tHead.rows.length > 0)){

        cells = tHead.rows.item(0).cells;
      } else if(model && model.length > 0){

        cells = model[0];
      };
      for(var i = 0,l = cells.length;i < l;i++){

        uid = qx.ui.website.Table.__getUID();
        if(cells.item){

          cell = qxWeb(cells.item(i));
          colType = cell.getData("type") || "String";
          colName = this.__getColumName(cells.item(i));
          if(!colName){

            colName = uid;
            cell.setData("name", colName);
          };
        } else {

          colType = "String";
          colName = uid;
        };
        data[colName] = {
          template : null,
          type : colType,
          name : colName
        };
      };
      this.setProperty("__columnMeta", data);
      return this;
    },
    __addClassToHeaderAndFooter : function(footOrHead){

      if(footOrHead && footOrHead.rows.length > 0){

        if(footOrHead.rows.item(0).cells.length > 0){

          if(!qxWeb(footOrHead.rows.item(0).cells.item(0)).hasClass(qx.ui.website.Table.__internalHeaderClass)){

            qxWeb(footOrHead.rows.item(0).cells).addClass(qx.ui.website.Table.__internalHeaderClass);
          };
        };
      };
      return this;
    },
    __sortDOM : function(dataRows){

      for(var i = 0,l = dataRows.length;i < l;i++){

        if(i){

          qxWeb(dataRows[i]).insertAfter(dataRows[i - 1]);
        } else {

          qxWeb(dataRows[i]).insertBefore(qxWeb(this.__getRoot().rows.item(0)));
        };
      };
      this.setProperty("__dataRows", dataRows);
      return this;
    },
    __registerEvents : function(){

      this.on("click", this.__detectClickedCell);
      this.on("cellClicked", function(data){

        this.getProperty("__sortingFunction").bind(this)(data);
      }, this);
      return this;
    },
    __selectionRendered : function(){

      return qxWeb("." + qx.ui.website.Table.__internalSelectionClass).length > 0;
    },
    __processSelection : function(cell){

      var clazz = qx.ui.website.Table;
      var inputs = qxWeb("." + clazz.__internalInputClass);
      var clickedInput = cell.find("input");
      var selectionMode = this.getConfig("columnSelection");
      var headerInput = qxWeb("." + clazz.__internalHeaderClass + " input");
      var selection = [];
      if(selectionMode == "multiple"){

        if(cell.hasClass(clazz.__internalHeaderClass)){

          inputs.setAttribute("checked", clickedInput[0].checked);
        };
        var checked = true;
        for(var i = 0;i < inputs.length;i++){

          if((inputs[i] != headerInput[0]) && (!inputs[i].checked)){

            checked = false;
            break;
          };
        };
        headerInput.setAttribute("checked", checked);
        inputs = inputs.toArray();
        if(checked){

          qxWeb.array.remove(inputs, headerInput[0]);
          selection = inputs;
        } else {

          selection = inputs.filter(function(input){

            return input.checked;
          });
        };
      } else {

        if(clickedInput[0] != headerInput[0]){

          selection.push(clickedInput[0]);
        };
      };
      var selectedRows = selection.map(function(elem){

        return elem.parentNode.parentNode;
      });
      this.emit("selectionChanged", qxWeb(selectedRows));
      return this;
    },
    __detectClickedCell : function(e){

      var target = e.getTarget();
      var cell = qxWeb(target);
      var clazz = qx.ui.website.Table;
      while(!(cell.hasClass(clazz.__internalCellClass) || cell.hasClass(clazz.__internalHeaderClass) || cell.hasClass(clazz.__internalSelectionClass))){

        if(cell.hasClass("qx.ui.website.Table")){

          cell = null;
          break;
        };
        cell = cell.getParents().eq(0);
      };
      if(cell.hasClass(clazz.__internalSelectionClass)){

        if(target.nodeName.toUpperCase() == "INPUT"){

          this.__processSelection(cell);
        };
      } else {

        if(cell && cell.length > 0){

          var row = cell[0].parentNode,cells = row.cells;
          var colNumber = qx.ui.website.Table.__getIndex(cells, cell[0]);
          var tHead = this.__getHeaderRow();
          var headCell = tHead.cells.item(colNumber);
          var colName = this.__getColumName(headCell);
          this.emit("cellClicked", {
            columnName : colName,
            cell : qxWeb(cell)
          });
        };
      };
      return this;
    },
    __applyTemplate : function(model){

      var self = this,cell,row;
      var tHead = this.__getHeaderRow();
      var createdRow = null,colMeta = null;
      var inputType = (this.getConfig("columnSelection") == "single") ? "radio" : "checkbox";
      if(this.__getRoot().rows.length > model.length){

        this.__deleteRows(model.length + 1);
      };
      var renderedColIndex = 0,templateApplied = true;
      for(var i = 0,rowCount = model.length;i < rowCount;i++){

        row = model[i];
        if(!this.__isRowRendered(i)){

          createdRow = this.__getRoot().insertRow(i);
          if(this.__selectionRendered()){

            this.__createInput(createdRow, inputType, "td");
          };
        };
        for(var j = 0,colCount = row.length;j < colCount;j++){

          renderedColIndex = j;
          if(self.__selectionRendered()){

            renderedColIndex = j + 1;
          };
          colMeta = self.__getDataForColumn(self.__getColumName(tHead.cells.item(renderedColIndex)));
          if(!colMeta.template){

            templateApplied = false;
            break;
          };
          if(!self.__isCellRendered(i, renderedColIndex)){

            self.__getRoot().rows.item(i).insertCell(renderedColIndex);
          };
          cell = self.getCell(i, renderedColIndex);
          if(!cell.hasClass(qx.ui.website.Table.__internalCellClass) && !cell.hasClass("qx-select-cell")){

            cell.addClass(qx.ui.website.Table.__internalCellClass);
          };
          cell.setHtml(qxWeb.template.render(colMeta.template, model[i][j]));
          this.emit("cellRender", {
            cell : cell,
            value : model[i][j]
          });
        };
        if(!colMeta.template){

          templateApplied = false;
          break;
        };
      };
      if(templateApplied){

        this.emit("modelApplied", model);
      };
      return this;
    },
    __deleteRows : function(startIndex){

      var renderedRows = this.__getRoot().rows;
      for(var i = startIndex;i < renderedRows.length;i++){

        this.__getRoot().deleteRow(i);
      };
      return this;
    },
    __getDataForColumn : function(columName){

      return this.getProperty("__columnMeta")[columName];
    },
    __getRoot : function(){

      return this[0].tBodies.item(0) || this[0];
    },
    __isRowRendered : function(index){

      if(this.__getRoot().rows.item(index)){

        return true;
      };
      return false;
    },
    __isCellRendered : function(rowIndex, colIndex){

      if(!this.__isRowRendered(rowIndex)){

        return false;
      };
      if(this.__getRoot().rows.item(rowIndex).cells.item(colIndex)){

        return true;
      };
      return false;
    },
    __setSortingClass : function(columnName, dir){

      var data = {
        columnName : columnName,
        direction : dir
      };
      this.setProperty("__sortingData", data);
      this.__addSortingClassToCol(this[0].tHead, columnName, dir);
      this.__addSortingClassToCol(this[0].tFoot, columnName, dir);
    },
    __addSortingClassToCol : function(HeaderOrFooter, columnName, dir){

      if(HeaderOrFooter && HeaderOrFooter.rows.length > 0){

        qxWeb(HeaderOrFooter.rows.item(0).cells).removeClasses(["qx-asc", "qx-desc"]);
        var cell = qxWeb("[data-name='" + columnName + "'], #" + columnName);
        cell.addClass("qx-" + dir);
      };
    },
    __sort : function(columnName, direction){

      var meta = this.__getDataForColumn(columnName);
      var columnType = qxWeb.string.firstUp(meta.type);
      if(!this["__compare" + columnType]){

        columnType = "String";
      };
      var compareFunc = this.getCompareFunction(columnType).bind(this);
      var model = this.__getDataRows();
      var columnIndex = this.__getColumnIndex(columnName);
      return model.sort(function(a, b){

        var x = this.__getCellValue(qxWeb(a.cells.item(columnIndex)));
        var y = this.__getCellValue(qxWeb(b.cells.item(columnIndex)));
        return compareFunc(x, y, direction);
      }.bind(this));
    },
    __compareNumber : function(x, y, direction){

      x = Number(x) || 0;
      y = Number(y) || 0;
      if(direction == "asc"){

        return x - y;
      } else if(direction == "desc"){

        return y - x;
      };
      return 0;
    },
    __getColumName : function(headerCell){

      return headerCell.getAttribute("data-name") || headerCell.getAttribute("id");
    },
    __compareDate : function(x, y, direction){

      x = qx.ui.website.Table.__isDate(x) ? new Date(x) : new Date(0);
      y = qx.ui.website.Table.__isDate(y) ? new Date(y) : new Date(0);
      return this.__compareNumber(x.getTime(), y.getTime());
    },
    __compareString : function(x, y, direction){

      if(!this.getConfig("caseSensitive")){

        x = x.toLowerCase();
        y = y.toLowerCase();
      };
      if(direction == "asc"){

        return ((x < y) ? -1 : ((x > y) ? 1 : 0));
      } else if(direction == "desc"){

        return ((x > y) ? -1 : ((x < y) ? 1 : 0));
      };
      return 0;
    },
    __getCellValue : function(cell){

      var valueNode = cell.find("." + this.getConfig("cellValueClass"));
      if(valueNode.length == 0){

        valueNode = cell;
      };
      return (valueNode.getTextContent() || "");
    },
    __getDataRows : function(){

      var tableNode = this[0];
      var rows = tableNode.rows,model = [],cell = null,cells = [];
      for(var i = 0,l = rows.length;i < l;i++){

        cells = rows.item(i).cells;
        if((cells.length > 0) && (cells[0].nodeName.toUpperCase() != "TD")){

          continue;
        };
        for(var j = 0,len = cells.length;j < len;j++){

          cell = qxWeb(cells[j]);
          if(!cell.hasClass(qx.ui.website.Table.__internalCellClass) && !cell.hasClass("qx-select-cell")){

            cell.addClass(qx.ui.website.Table.__internalCellClass);
          };
        };
        model.push(rows.item(i));
      };
      return model;
    },
    __defaultColumnSort : function(data){

      var dir = "asc";
      var sortedData = this.getSortingData();
      if(sortedData){

        if(data.columnName == sortedData.columnName){

          if(sortedData.direction == dir){

            dir = "desc";
          };
        };
      };
      if(data.cell[0].nodeName.toUpperCase() == "TH"){

        this.sort(data.columnName, dir);
      };
    },
    __getColumnIndex : function(columnName){

      var tHead = this.__getHeaderRow();
      var cells = tHead.cells;
      for(var i = 0;i < cells.length;i++){

        if(columnName == this.__getColumName(cells.item(i))){

          return i;
        };
      };
      return -1;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      table : statics.table
    });
  }
});

qx.Mixin.define("qx.ui.mobile.form.MState", {
  members : {
    __states : null,
    addState : function(state){

      if(this.__states === null){

        this.__states = {
        };
      };
      this.__states[state] = true;
      this.addCssClass(state);
    },
    hasState : function(state){

      return this.__states !== null && this.__states[state];
    },
    removeState : function(state){

      if(this.hasState(state)){

        delete this.__states[state];
        this.removeCssClass(state);
      };
    },
    replaceState : function(oldState, newState){

      if(this.hasState(oldState)){

        delete this.__states[oldState];
        this.__states[newState] = true;
        this.removeCssClass(oldState);
        this.addCssClass(newState);
      } else {

        this.addState(newState);
      };
    }
  }
});

qx.Mixin.define("qx.ui.mobile.form.MValue", {
  construct : function(value){

    if(value){

      this.setValue(value);
    };
    if(this._getTagName() == "input" || this._getTagName() == "textarea"){

      qx.event.Registration.addListener(this.getContentElement(), "change", this._onChangeContent, this);
      qx.event.Registration.addListener(this.getContentElement(), "input", this._onInput, this);
    };
    this.addListener("focus", this._onFocus, this);
    this.addListener("blur", this._onBlur, this);
  },
  events : {
    "input" : "qx.event.type.Data",
    "changeValue" : "qx.event.type.Data"
  },
  properties : {
    liveUpdate : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __oldValue : null,
    __inputTimeoutHandle : null,
    __hasFocus : null,
    _convertValue : function(value){

      if(typeof value === 'boolean'){

        return value;
      } else if(typeof value === 'number'){

        return value;
      } else {

        return value || "";
      };
    },
    _onFocus : function(){

      this.__hasFocus = true;
    },
    _onBlur : function(){

      this.__hasFocus = false;
    },
    hasFocus : function(){

      return this.__hasFocus;
    },
    setValue : function(value){

      value = this._convertValue(value);
      if(this.__oldValue != value){

        if(this._setValue){

          this._setValue(value);
        } else {

          this._setAttribute("value", value);
        };
        this.__fireChangeValue(value);
      };
    },
    getValue : function(){

      return this._convertValue(this._getValue ? this._getValue() : this._getAttribute("value"));
    },
    resetValue : function(){

      this.setValue(null);
    },
    _onChangeContent : function(evt){

      this.__fireChangeValue(this._convertValue(evt.getData()));
    },
    _onInput : function(evt){

      var data = evt.getData();
      this.fireDataEvent("input", data, true);
      if(this.getLiveUpdate()){

        if(this._setValue){

          this._setValue(data);
        } else {

          this.__fireChangeValue(this._convertValue(data));
        };
      };
    },
    _getCaretPosition : function(){

      var val = this.getContentElement().value;
      if(val && this._getAttribute("type") !== "number"){

        return val.slice(0, this.getContentElement().selectionStart).length;
      } else {

        return val.length;
      };
    },
    _setCaretPosition : function(position){

      if(position != null && this.hasFocus()){

        if(this._getAttribute("type") !== "number" && this.getContentElement().setSelectionRange){

          this.getContentElement().setSelectionRange(position, position);
        };
      };
    },
    __fireChangeValue : function(value){

      if(this.__oldValue != value){

        this.__oldValue = value;
        this.fireDataEvent("changeValue", value);
      };
    }
  },
  destruct : function(){

    this.removeListener("focus", this._onFocus, this);
    this.removeListener("blur", this._onBlur, this);
  }
});

qx.Class.define("qx.ui.mobile.form.Slider", {
  extend : qx.ui.mobile.core.Widget,
  include : [qx.ui.mobile.form.MValue, qx.ui.form.MForm, qx.ui.form.MModelProperty, qx.ui.mobile.form.MState],
  implement : [qx.ui.form.IForm, qx.ui.form.IModel, qx.ui.form.INumberForm],
  construct : function(){

    this.base(arguments);
    this._registerEventListener();
    this._refresh();
    this.addCssClass("gap");
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "slider"
    },
    minimum : {
      check : "Integer",
      init : 0,
      apply : "_refresh",
      event : "changeMinimum"
    },
    maximum : {
      check : "Integer",
      init : 100,
      apply : "_refresh",
      event : "changeMaximum"
    },
    step : {
      check : "Integer",
      init : 1,
      event : "changeStep"
    },
    reverseDirection : {
      check : "Boolean",
      init : false,
      apply : "_refresh"
    },
    displayValue : {
      init : "percent",
      check : ["value", "percent"],
      nullable : true,
      apply : "_applyDisplayValue"
    }
  },
  members : {
    _knobElement : null,
    _containerElementWidth : null,
    _containerElementLeft : null,
    _pixelPerStep : null,
    __value : 0,
    nextValue : function(){

      this.setValue(this.getValue() + this.getStep());
    },
    previousValue : function(){

      this.setValue(this.getValue() - this.getStep());
    },
    _createContainerElement : function(){

      var container = this.base(arguments);
      container.appendChild(this._createKnobElement());
      return container;
    },
    _createKnobElement : function(){

      return qx.dom.Element.create("div");
    },
    _registerEventListener : function(){

      this.addListener("pointerdown", this._onPointerDown, this);
      this.addListener("track", this._onTrack, this);
      this.addListener("appear", this._refresh, this);
      qx.event.Registration.addListener(window, "resize", this._refresh, this);
      qx.event.Registration.addListener(window, "orientationchange", this._refresh, this);
      this.addListenerOnce("domupdated", this._refresh, this);
    },
    _unregisterEventListener : function(){

      this.removeListener("pointerdown", this._onPointerDown, this);
      this.removeListener("track", this._onTrack, this);
      this.removeListener("appear", this._refresh, this);
      qx.event.Registration.removeListener(window, "resize", this._refresh, this);
      qx.event.Registration.removeListener(window, "orientationchange", this._refresh, this);
      this.removeListener("domupdated", this._refresh, this);
    },
    _refresh : function(){

      this._updateSizes();
      this._updateKnobPosition();
    },
    _updateSizes : function(){

      var containerElement = this.getContainerElement();
      if(containerElement){

        this._containerElementWidth = qx.bom.element.Dimension.getWidth(containerElement);
        this._containerElementLeft = qx.bom.element.Location.getLeft(containerElement);
        this._pixelPerStep = this._getPixelPerStep(this._containerElementWidth);
      };
    },
    _onPointerDown : function(evt){

      if(evt.isPrimary()){

        this._updateSizes();
        var position = this._getPosition(evt.getDocumentLeft());
        this.setValue(this._positionToValue(position));
        evt.stopPropagation();
      };
    },
    _onTrack : function(evt){

      var position = this._getPosition(evt.getDocumentLeft());
      this.setValue(this._positionToValue(position));
      evt.stopPropagation();
      evt.preventDefault();
    },
    _getPosition : function(documentLeft){

      return documentLeft - this._containerElementLeft;
    },
    _getKnobElement : function(){

      if(!this._knobElement){

        var element = this.getContainerElement();
        if(element){

          this._knobElement = element.childNodes[0];
        };
      };
      return this._knobElement;
    },
    _setValue : function(value){

      this.__value = value;
      qx.bom.AnimationFrame.request(this._refresh, this);
    },
    _getValue : function(){

      return this.__value;
    },
    _updateKnobPosition : function(){

      var percent = this._valueToPercent(this.getValue());
      var width = this._containerElementWidth;
      var position = Math.floor(this._percentToPosition(width, percent));
      var knobElement = this._getKnobElement();
      if(knobElement){

        qx.bom.element.Style.set(this._getKnobElement(), "width", width - (width - position) + "px");
        qx.bom.element.Attribute.set(this._getKnobElement(), "data-value", this.getValue());
        qx.bom.element.Attribute.set(this._getKnobElement(), "data-percent", Math.floor(percent));
      };
    },
    _applyDisplayValue : function(value, old){

      if(old != null){

        this.removeCssClass(old);
      };
      if(value != null){

        this.addCssClass(value);
      };
    },
    _getOffsetForKnob : function(position){

      var offset = 10;
      if(position < offset){

        return offset;
      } else if(position > this._containerElementWidth - offset){

        return this._containerElementWidth - offset;
      };
      return position;
    },
    _valueToPercent : function(value){

      var min = this.getMinimum();
      var value = this._limitValue(value);
      var percent = ((value - min) * 100) / this._getRange();
      if(this.isReverseDirection()){

        return 100 - percent;
      } else {

        return percent;
      };
    },
    _positionToValue : function(position){

      var value = this.getMinimum() + (Math.round(position / this._pixelPerStep) * this.getStep());
      value = this._limitValue(value);
      if(this.isReverseDirection()){

        var center = this.getMinimum() + this._getRange() / 2;
        var dist = center - value;
        value = center + dist;
      };
      return value;
    },
    _percentToPosition : function(width, percent){

      return width * (percent / 100);
    },
    _limitValue : function(value){

      value = Math.min(value, this.getMaximum());
      value = Math.max(value, this.getMinimum());
      return value;
    },
    _getPixelPerStep : function(width){

      return width / this._getOverallSteps();
    },
    _getOverallSteps : function(){

      return (this._getRange() / this.getStep());
    },
    _getRange : function(){

      return this.getMaximum() - this.getMinimum();
    }
  },
  destruct : function(){

    this._knobElement = null;
    this._unregisterEventListener();
  }
});

qx.Bootstrap.define("qx.module.dev.FakeServer", {
  statics : {
    configure : function(responseData){

      qx.dev.FakeServer.getInstance().configure(responseData);
    },
    removeResponse : function(method, url){

      qx.dev.FakeServer.getInstance().removeResponse(method, url);
    },
    addFilter : function(filter){

      qx.dev.FakeServer.getInstance().addFilter(filter);
    },
    removeFilter : function(filter){

      qx.dev.FakeServer.getInstance().removeFilter(filter);
    },
    respondWith : function(method, urlRegExp, response){

      qx.dev.FakeServer.getInstance().respondWith(method, urlRegExp, response);
    },
    getFakeServer : function(){

      return qx.dev.FakeServer.getInstance().getFakeServer();
    },
    restore : function(){

      qx.dev.FakeServer.getInstance().restore();
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "dev" : {
        "fakeServer" : {
          "configure" : statics.configure,
          "removeResponse" : statics.removeResponse,
          "addFilter" : statics.addFilter,
          "removeFilter" : statics.removeFilter,
          "respondWith" : statics.respondWith,
          "getFakeServer" : statics.getFakeServer,
          "restore" : statics.restore
        }
      }
    });
  }
});

qx.Bootstrap.define("qx.dev.FakeServer", {
  extend : Object,
  construct : function(){

    var clazz = qx.dev.FakeServer;
    if(!clazz.$$allowconstruct){

      var msg = clazz + " is a singleton! It is not possible to instantiate it directly." + "Use the static getInstance() method instead.";
      throw new Error(msg);
    };
    this.getFakeServer();
    this.__responses = [];
  },
  statics : {
    $$instance : null,
    $$allowconstruct : false,
    getInstance : function(){

      if(!this.$$instance){

        this.$$allowconstruct = true;
        this.$$instance = new this();
        delete this.$$allowconstruct;
      };
      return this.$$instance;
    }
  },
  members : {
    __sinon : null,
    __fakeServer : null,
    __responses : null,
    __filter : null,
    configure : function(responseData){

      responseData.forEach(function(item){

        var urlRegExp = item.url instanceof RegExp ? item.url : this._getRegExp(item.url);
        var response = [item.method, urlRegExp];
        var hasResponse = false;
        for(var i = 0,l = this.__responses.length;i < l;i++){

          var old = this.__responses[i];
          hasResponse = (old[0] == response[0] && old[1] == response[1]);
        };
        if(!hasResponse){

          this.__responses.push(response);
        };
        this.respondWith(item.method, urlRegExp, item.response);
      }.bind(this));
      var filter = this.__filter = this.__getCombinedFilter();
      this.addFilter(filter);
    },
    addFilter : function(filter){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertFunction(filter);
      };
      this.__sinon.FakeXMLHttpRequest.addFilter(filter);
    },
    removeFilter : function(filter){

      qx.lang.Array.remove(this.__sinon.FakeXMLHttpRequest.filters, filter);
    },
    removeResponse : function(method, url){

      qx.lang.Array.remove(this.__sinon.FakeXMLHttpRequest.filters, this.__filter);
      var urlRegExp = url instanceof RegExp ? url : this._getRegExp(url);
      this.__responses = this.__responses.filter(function(response){

        return (response[0] != method || response[1].toString() != urlRegExp.toString());
      });
      this.__fakeServer.responses = this.__fakeServer.responses.filter(function(response){

        return (response.method != method || response.url.toString() != urlRegExp.toString());
      });
      this.removeFilter(this.__filter);
      this.__filter = this.__getCombinedFilter();
      this.addFilter(this.__filter);
    },
    respondWith : function(method, urlRegExp, response){

      this.getFakeServer().respondWith(method, urlRegExp, response);
    },
    getFakeServer : function(){

      if(!this.__fakeServer){

        var sinon = this.__sinon = qx.dev.unit.Sinon.getSinon();
        sinon.FakeXMLHttpRequest.useFilters = true;
        this.__fakeServer = sinon.sandbox.useFakeServer();
        this.__fakeServer.autoRespond = true;
      };
      return this.__fakeServer;
    },
    restore : function(){

      this.__responses = [];
      this.removeFilter(this.__filter);
      this.__filter = null;
      this.__fakeServer.restore();
      this.__fakeServer = null;
    },
    _getRegExp : function(pattern){

      pattern = pattern.replace(/\{[^\/]*?\}/g, ".*?");
      return new RegExp(pattern);
    },
    __getCombinedFilter : function(){

      var responses = this.__responses;
      return function(method, url, async, username, password){

        for(var i = 0,l = responses.length;i < l;i++){

          var filterMethod = responses[i][0];
          var regExp = responses[i][1];
          if(method == filterMethod && regExp.test(url)){

            return false;
          };
        };
        return true;
      };
    }
  },
  destruct : function(){

    this.restore();
    this.__fakeServer = this.__sinon = null;
  }
});

qx.Bootstrap.define("qx.dev.unit.Sinon", {
  statics : {
    getSinon : null
  }
});
(function(){

  this.sinon = (function(){

    var samsam,formatio;
    function define(mod, deps, fn){

      if(mod == "samsam"){

        samsam = deps();
      } else {

        formatio = fn(samsam);
      };
    };
    define.amd = true;
    ((typeof define === "function" && define.amd && function(m){

      define("samsam", m);
    }) || (typeof module === "object" && function(m){

      module.exports = m();
    }) || function(m){

      this.samsam = m();
    })(function(){

      var o = Object.prototype;
      var div = typeof document !== "undefined" && document.createElement("div");
      function isNaN(value){

        var val = value;
        return typeof value === "number" && value !== val;
      };
      function getClass(value){

        return o.toString.call(value).split(/[ \]]/)[1];
      };
      function isArguments(object){

        if(typeof object !== "object" || typeof object.length !== "number" || getClass(object) === "Array"){

          return false;
        };
        if(typeof object.callee == "function"){

          return true;
        };
        try{

          object[object.length] = 6;
          delete object[object.length];
        } catch(e) {

          return true;
        };
        return false;
      };
      function isElement(object){

        if(!object || object.nodeType !== 1 || !div){

          return false;
        };
        try{

          object.appendChild(div);
          object.removeChild(div);
        } catch(e) {

          return false;
        };
        return true;
      };
      function keys(object){

        var ks = [],prop;
        for(prop in object){

          if(o.hasOwnProperty.call(object, prop)){

            ks.push(prop);
          };
        };
        return ks;
      };
      function isDate(value){

        return typeof value.getTime == "function" && value.getTime() == value.valueOf();
      };
      function isNegZero(value){

        return value === 0 && 1 / value === -Infinity;
      };
      function identical(obj1, obj2){

        if(obj1 === obj2 || (isNaN(obj1) && isNaN(obj2))){

          return obj1 !== 0 || isNegZero(obj1) === isNegZero(obj2);
        };
      };
      function deepEqualCyclic(obj1, obj2){

        var objects1 = [],objects2 = [],paths1 = [],paths2 = [],compared = {
        };
        function isObject(value){

          if(typeof value === 'object' && value !== null && !(value instanceof Boolean) && !(value instanceof Date) && !(value instanceof Number) && !(value instanceof RegExp) && !(value instanceof String)){

            return true;
          };
          return false;
        };
        function getIndex(objects, obj){

          var i;
          for(i = 0;i < objects.length;i++){

            if(objects[i] === obj){

              return i;
            };
          };
          return -1;
        };
        return (function deepEqual(obj1, obj2, path1, path2){

          var type1 = typeof obj1;
          var type2 = typeof obj2;
          if(obj1 === obj2 || isNaN(obj1) || isNaN(obj2) || obj1 == null || obj2 == null || type1 !== "object" || type2 !== "object"){

            return identical(obj1, obj2);
          };
          if(isElement(obj1) || isElement(obj2)){

            return false;
          };
          var isDate1 = isDate(obj1),isDate2 = isDate(obj2);
          if(isDate1 || isDate2){

            if(!isDate1 || !isDate2 || obj1.getTime() !== obj2.getTime()){

              return false;
            };
          };
          if(obj1 instanceof RegExp && obj2 instanceof RegExp){

            if(obj1.toString() !== obj2.toString()){

              return false;
            };
          };
          var class1 = getClass(obj1);
          var class2 = getClass(obj2);
          var keys1 = keys(obj1);
          var keys2 = keys(obj2);
          if(isArguments(obj1) || isArguments(obj2)){

            if(obj1.length !== obj2.length){

              return false;
            };
          } else {

            if(type1 !== type2 || class1 !== class2 || keys1.length !== keys2.length){

              return false;
            };
          };
          var key,i,l,value1,value2,isObject1,isObject2,index1,index2,newPath1,newPath2;
          for(i = 0,l = keys1.length;i < l;i++){

            key = keys1[i];
            if(!o.hasOwnProperty.call(obj2, key)){

              return false;
            };
            value1 = obj1[key];
            value2 = obj2[key];
            isObject1 = isObject(value1);
            isObject2 = isObject(value2);
            index1 = isObject1 ? getIndex(objects1, value1) : -1;
            index2 = isObject2 ? getIndex(objects2, value2) : -1;
            newPath1 = index1 !== -1 ? paths1[index1] : path1 + '[' + JSON.stringify(key) + ']';
            newPath2 = index2 !== -1 ? paths2[index2] : path2 + '[' + JSON.stringify(key) + ']';
            if(compared[newPath1 + newPath2]){

              return true;
            };
            if(index1 === -1 && isObject1){

              objects1.push(value1);
              paths1.push(newPath1);
            };
            if(index2 === -1 && isObject2){

              objects2.push(value2);
              paths2.push(newPath2);
            };
            if(isObject1 && isObject2){

              compared[newPath1 + newPath2] = true;
            };
            if(!deepEqual(value1, value2, newPath1, newPath2)){

              return false;
            };
          };
          return true;
        }(obj1, obj2, '$1', '$2'));
      };
      var match;
      function arrayContains(array, subset){

        if(subset.length === 0){

          return true;
        };
        var i,l,j,k;
        for(i = 0,l = array.length;i < l;++i){

          if(match(array[i], subset[0])){

            for(j = 0,k = subset.length;j < k;++j){

              if(!match(array[i + j], subset[j])){

                return false;
              };
            };
            return true;
          };
        };
        return false;
      };
      match = function match(object, matcher){

        if(matcher && typeof matcher.test === "function"){

          return matcher.test(object);
        };
        if(typeof matcher === "function"){

          return matcher(object) === true;
        };
        if(typeof matcher === "string"){

          matcher = matcher.toLowerCase();
          var notNull = typeof object === "string" || !!object;
          return notNull && (String(object)).toLowerCase().indexOf(matcher) >= 0;
        };
        if(typeof matcher === "number"){

          return matcher === object;
        };
        if(typeof matcher === "boolean"){

          return matcher === object;
        };
        if(getClass(object) === "Array" && getClass(matcher) === "Array"){

          return arrayContains(object, matcher);
        };
        if(matcher && typeof matcher === "object"){

          var prop;
          for(prop in matcher){

            if(!match(object[prop], matcher[prop])){

              return false;
            };
          };
          return true;
        };
        throw new Error("Matcher was not a string, a number, a " + "function, a boolean or an object");
      };
      return {
        isArguments : isArguments,
        isElement : isElement,
        isDate : isDate,
        isNegZero : isNegZero,
        identical : identical,
        deepEqual : deepEqualCyclic,
        match : match,
        keys : keys
      };
    });
    ((typeof define === "function" && define.amd && function(m){

      define("formatio", ["samsam"], m);
    }) || (typeof module === "object" && function(m){

      module.exports = m(require("samsam"));
    }) || function(m){

      this.formatio = m(this.samsam);
    })(function(samsam){

      var formatio = {
        excludeConstructors : ["Object", /^.$/],
        quoteStrings : true
      };
      var specialObjects = [];
      if(typeof global !== "undefined"){

        specialObjects.push({
          object : global,
          value : "[object global]"
        });
      };
      if(typeof document !== "undefined"){

        specialObjects.push({
          object : document,
          value : "[object HTMLDocument]"
        });
      };
      if(typeof window !== "undefined"){

        specialObjects.push({
          object : window,
          value : "[object Window]"
        });
      };
      function functionName(func){

        if(!func){

          return "";
        };
        if(func.displayName){

          return func.displayName;
        };
        if(func.name){

          return func.name;
        };
        var matches = func.toString().match(/function\s+([^\(]+)/m);
        return (matches && matches[1]) || "";
      };
      function constructorName(f, object){

        var name = functionName(object && object.constructor);
        var excludes = f.excludeConstructors || formatio.excludeConstructors || [];
        var i,l;
        for(i = 0,l = excludes.length;i < l;++i){

          if(typeof excludes[i] === "string" && excludes[i] === name){

            return "";
          } else if(excludes[i].test && excludes[i].test(name)){

            return "";
          };
        };
        return name;
      };
      function isCircular(object, objects){

        if(typeof object !== "object"){

          return false;
        };
        var i,l;
        for(i = 0,l = objects.length;i < l;++i){

          if(objects[i] === object){

            return true;
          };
        };
        return false;
      };
      function ascii(f, object, processed, indent){

        if(typeof object === "string"){

          var qs = f.quoteStrings;
          var quote = typeof qs !== "boolean" || qs;
          return processed || quote ? '"' + object + '"' : object;
        };
        if(typeof object === "function" && !(object instanceof RegExp)){

          return ascii.func(object);
        };
        processed = processed || [];
        if(isCircular(object, processed)){

          return "[Circular]";
        };
        if(Object.prototype.toString.call(object) === "[object Array]"){

          return ascii.array.call(f, object, processed);
        };
        if(!object){

          return String((1 / object) === -Infinity ? "-0" : object);
        };
        if(samsam.isElement(object)){

          return ascii.element(object);
        };
        if(typeof object.toString === "function" && object.toString !== Object.prototype.toString){

          return object.toString();
        };
        var i,l;
        for(i = 0,l = specialObjects.length;i < l;i++){

          if(object === specialObjects[i].object){

            return specialObjects[i].value;
          };
        };
        return ascii.object.call(f, object, processed, indent);
      };
      ascii.func = function(func){

        return "function " + functionName(func) + "() {}";
      };
      ascii.array = function(array, processed){

        processed = processed || [];
        processed.push(array);
        var i,l,pieces = [];
        for(i = 0,l = array.length;i < l;++i){

          pieces.push(ascii(this, array[i], processed));
        };
        return "[" + pieces.join(", ") + "]";
      };
      ascii.object = function(object, processed, indent){

        processed = processed || [];
        processed.push(object);
        indent = indent || 0;
        var pieces = [],properties = samsam.keys(object).sort();
        var length = 3;
        var prop,str,obj,i,l;
        for(i = 0,l = properties.length;i < l;++i){

          prop = properties[i];
          obj = object[prop];
          if(isCircular(obj, processed)){

            str = "[Circular]";
          } else {

            str = ascii(this, obj, processed, indent + 2);
          };
          str = (/\s/.test(prop) ? '"' + prop + '"' : prop) + ": " + str;
          length += str.length;
          pieces.push(str);
        };
        var cons = constructorName(this, object);
        var prefix = cons ? "[" + cons + "] " : "";
        var is = "";
        for(i = 0,l = indent;i < l;++i){

          is += " ";
        };
        if(length + indent > 80){

          return prefix + "{\n  " + is + pieces.join(",\n  " + is) + "\n" + is + "}";
        };
        return prefix + "{ " + pieces.join(", ") + " }";
      };
      ascii.element = function(element){

        var tagName = element.tagName.toLowerCase();
        var attrs = element.attributes,attr,pairs = [],attrName,i,l,val;
        for(i = 0,l = attrs.length;i < l;++i){

          attr = attrs.item(i);
          attrName = attr.nodeName.toLowerCase().replace("html:", "");
          val = attr.nodeValue;
          if(attrName !== "contenteditable" || val !== "inherit"){

            if(!!val){

              pairs.push(attrName + "=\"" + val + "\"");
            };
          };
        };
        var formatted = "<" + tagName + (pairs.length > 0 ? " " : "");
        var content = element.innerHTML;
        if(content.length > 20){

          content = content.substr(0, 20) + "[...]";
        };
        var res = formatted + pairs.join(" ") + ">" + content + "</" + tagName + ">";
        return res.replace(/ contentEditable="inherit"/, "");
      };
      function Formatio(options){

        for(var opt in options){

          this[opt] = options[opt];
        };
      };
      Formatio.prototype = {
        functionName : functionName,
        configure : function(options){

          return new Formatio(options);
        },
        constructorName : function(object){

          return constructorName(this, object);
        },
        ascii : function(object, processed, indent){

          return ascii(this, object, processed, indent);
        }
      };
      return Formatio.prototype;
    });
    var sinon = (function(formatio){

      var div = typeof document != "undefined" && document.createElement("div");
      var hasOwn = Object.prototype.hasOwnProperty;
      function isDOMNode(obj){

        var success = false;
        try{

          obj.appendChild(div);
          success = div.parentNode == obj;
        } catch(e) {

          return false;
        }finally{

          try{

            obj.removeChild(div);
          } catch(e) {
          };
        };
        return success;
      };
      function isElement(obj){

        return div && obj && obj.nodeType === 1 && isDOMNode(obj);
      };
      function isFunction(obj){

        return typeof obj === "function" || !!(obj && obj.constructor && obj.call && obj.apply);
      };
      function isReallyNaN(val){

        return typeof val === 'number' && isNaN(val);
      };
      function mirrorProperties(target, source){

        for(var prop in source){

          if(!hasOwn.call(target, prop)){

            target[prop] = source[prop];
          };
        };
      };
      function isRestorable(obj){

        return typeof obj === "function" && typeof obj.restore === "function" && obj.restore.sinon;
      };
      var sinon = {
        wrapMethod : function wrapMethod(object, property, method){

          if(!object){

            throw new TypeError("Should wrap property of object");
          };
          if(typeof method != "function"){

            throw new TypeError("Method wrapper should be function");
          };
          var wrappedMethod = object[property],error;
          if(!isFunction(wrappedMethod)){

            error = new TypeError("Attempted to wrap " + (typeof wrappedMethod) + " property " + property + " as function");
          };
          if(wrappedMethod.restore && wrappedMethod.restore.sinon){

            error = new TypeError("Attempted to wrap " + property + " which is already wrapped");
          };
          if(wrappedMethod.calledBefore){

            var verb = !!wrappedMethod.returns ? "stubbed" : "spied on";
            error = new TypeError("Attempted to wrap " + property + " which is already " + verb);
          };
          if(error){

            if(wrappedMethod._stack){

              error.stack += '\n--------------\n' + wrappedMethod._stack;
            };
            throw error;
          };
          var owned = object.hasOwnProperty ? object.hasOwnProperty(property) : hasOwn.call(object, property);
          object[property] = method;
          method.displayName = property;
          method._stack = (new Error('Stack Trace for original')).stack;
          method.restore = function(){

            if(!owned){

              delete object[property];
            };
            if(object[property] === method){

              object[property] = wrappedMethod;
            };
          };
          method.restore.sinon = true;
          mirrorProperties(method, wrappedMethod);
          return method;
        },
        extend : function extend(target){

          for(var i = 1,l = arguments.length;i < l;i += 1){

            for(var prop in arguments[i]){

              if(arguments[i].hasOwnProperty(prop)){

                target[prop] = arguments[i][prop];
              };
              if(arguments[i].hasOwnProperty("toString") && arguments[i].toString != target.toString){

                target.toString = arguments[i].toString;
              };
            };
          };
          return target;
        },
        create : function create(proto){

          var F = function(){
          };
          F.prototype = proto;
          return new F();
        },
        deepEqual : function deepEqual(a, b){

          if(sinon.match && sinon.match.isMatcher(a)){

            return a.test(b);
          };
          if(typeof a != 'object' || typeof b != 'object'){

            if(isReallyNaN(a) && isReallyNaN(b)){

              return true;
            } else {

              return a === b;
            };
          };
          if(isElement(a) || isElement(b)){

            return a === b;
          };
          if(a === b){

            return true;
          };
          if((a === null && b !== null) || (a !== null && b === null)){

            return false;
          };
          if(a instanceof RegExp && b instanceof RegExp){

            return (a.source === b.source) && (a.global === b.global) && (a.ignoreCase === b.ignoreCase) && (a.multiline === b.multiline);
          };
          var aString = Object.prototype.toString.call(a);
          if(aString != Object.prototype.toString.call(b)){

            return false;
          };
          if(aString == "[object Date]"){

            return a.valueOf() === b.valueOf();
          };
          var prop,aLength = 0,bLength = 0;
          if(aString == "[object Array]" && a.length !== b.length){

            return false;
          };
          for(prop in a){

            aLength += 1;
            if(!deepEqual(a[prop], b[prop])){

              return false;
            };
          };
          for(prop in b){

            bLength += 1;
          };
          return aLength == bLength;
        },
        functionName : function functionName(func){

          var name = func.displayName || func.name;
          if(!name){

            var matches = func.toString().match(/function ([^\s\(]+)/);
            name = matches && matches[1];
          };
          return name;
        },
        functionToString : function toString(){

          if(this.getCall && this.callCount){

            var thisValue,prop,i = this.callCount;
            while(i--){

              thisValue = this.getCall(i).thisValue;
              for(prop in thisValue){

                if(thisValue[prop] === this){

                  return prop;
                };
              };
            };
          };
          return this.displayName || "sinon fake";
        },
        getConfig : function(custom){

          var config = {
          };
          custom = custom || {
          };
          var defaults = sinon.defaultConfig;
          for(var prop in defaults){

            if(defaults.hasOwnProperty(prop)){

              config[prop] = custom.hasOwnProperty(prop) ? custom[prop] : defaults[prop];
            };
          };
          return config;
        },
        format : function(val){

          return "" + val;
        },
        defaultConfig : {
          injectIntoThis : true,
          injectInto : null,
          properties : ["spy", "stub", "mock", "clock", "server", "requests"],
          useFakeTimers : true,
          useFakeServer : true
        },
        timesInWords : function timesInWords(count){

          return count == 1 && "once" || count == 2 && "twice" || count == 3 && "thrice" || (count || 0) + " times";
        },
        calledInOrder : function(spies){

          for(var i = 1,l = spies.length;i < l;i++){

            if(!spies[i - 1].calledBefore(spies[i]) || !spies[i].called){

              return false;
            };
          };
          return true;
        },
        orderByFirstCall : function(spies){

          return spies.sort(function(a, b){

            var aCall = a.getCall(0);
            var bCall = b.getCall(0);
            var aId = aCall && aCall.callId || -1;
            var bId = bCall && bCall.callId || -1;
            return aId < bId ? -1 : 1;
          });
        },
        log : function(){
        },
        logError : function(label, err){

          var msg = label + " threw exception: ";
          sinon.log(msg + "[" + err.name + "] " + err.message);
          if(err.stack){

            sinon.log(err.stack);
          };
          setTimeout(function(){

            err.message = msg + err.message;
            throw err;
          }, 0);
        },
        typeOf : function(value){

          if(value === null){

            return "null";
          } else if(value === undefined){

            return "undefined";
          };
          var string = Object.prototype.toString.call(value);
          return string.substring(8, string.length - 1).toLowerCase();
        },
        createStubInstance : function(constructor){

          if(typeof constructor !== "function"){

            throw new TypeError("The constructor should be a function.");
          };
          return sinon.stub(sinon.create(constructor.prototype));
        },
        restore : function(object){

          if(object !== null && typeof object === "object"){

            for(var prop in object){

              if(isRestorable(object[prop])){

                object[prop].restore();
              };
            };
          } else if(isRestorable(object)){

            object.restore();
          };
        }
      };
      var isNode = typeof module !== "undefined" && module.exports;
      var isAMD = typeof define === 'function' && typeof define.amd === 'object' && define.amd;
      if(isAMD){

        define(function(){

          return sinon;
        });
      } else if(isNode){

        try{

          formatio = require("formatio");
        } catch(e) {
        };
        module.exports = sinon;
        module.exports.spy = require("./sinon/spy");
        module.exports.spyCall = require("./sinon/call");
        module.exports.behavior = require("./sinon/behavior");
        module.exports.stub = require("./sinon/stub");
        module.exports.mock = require("./sinon/mock");
        module.exports.collection = require("./sinon/collection");
        module.exports.assert = require("./sinon/assert");
        module.exports.sandbox = require("./sinon/sandbox");
        module.exports.test = require("./sinon/test");
        module.exports.testCase = require("./sinon/test_case");
        module.exports.assert = require("./sinon/assert");
        module.exports.match = require("./sinon/match");
      };
      if(formatio){

        var formatter = formatio.configure({
          quoteStrings : false
        });
        sinon.format = function(){

          return formatter.ascii.apply(formatter, arguments);
        };
      } else if(isNode){

        try{

          var util = require("util");
          sinon.format = function(value){

            return typeof value == "object" && value.toString === Object.prototype.toString ? util.inspect(value) : value;
          };
        } catch(e) {
        };
      };
      return sinon;
    }(typeof formatio == "object" && formatio));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function assertType(value, type, name){

        var actual = sinon.typeOf(value);
        if(actual !== type){

          throw new TypeError("Expected type of " + name + " to be " + type + ", but was " + actual);
        };
      };
      var matcher = {
        toString : function(){

          return this.message;
        }
      };
      function isMatcher(object){

        return matcher.isPrototypeOf(object);
      };
      function matchObject(expectation, actual){

        if(actual === null || actual === undefined){

          return false;
        };
        for(var key in expectation){

          if(expectation.hasOwnProperty(key)){

            var exp = expectation[key];
            var act = actual[key];
            if(match.isMatcher(exp)){

              if(!exp.test(act)){

                return false;
              };
            } else if(sinon.typeOf(exp) === "object"){

              if(!matchObject(exp, act)){

                return false;
              };
            } else if(!sinon.deepEqual(exp, act)){

              return false;
            };;
          };
        };
        return true;
      };
      matcher.or = function(m2){

        if(!arguments.length){

          throw new TypeError("Matcher expected");
        } else if(!isMatcher(m2)){

          m2 = match(m2);
        };
        var m1 = this;
        var or = sinon.create(matcher);
        or.test = function(actual){

          return m1.test(actual) || m2.test(actual);
        };
        or.message = m1.message + ".or(" + m2.message + ")";
        return or;
      };
      matcher.and = function(m2){

        if(!arguments.length){

          throw new TypeError("Matcher expected");
        } else if(!isMatcher(m2)){

          m2 = match(m2);
        };
        var m1 = this;
        var and = sinon.create(matcher);
        and.test = function(actual){

          return m1.test(actual) && m2.test(actual);
        };
        and.message = m1.message + ".and(" + m2.message + ")";
        return and;
      };
      var match = function(expectation, message){

        var m = sinon.create(matcher);
        var type = sinon.typeOf(expectation);
        switch(type){case "object":
        if(typeof expectation.test === "function"){

          m.test = function(actual){

            return expectation.test(actual) === true;
          };
          m.message = "match(" + sinon.functionName(expectation.test) + ")";
          return m;
        };
        var str = [];
        for(var key in expectation){

          if(expectation.hasOwnProperty(key)){

            str.push(key + ": " + expectation[key]);
          };
        };
        m.test = function(actual){

          return matchObject(expectation, actual);
        };
        m.message = "match(" + str.join(", ") + ")";
        break;case "number":
        m.test = function(actual){

          return expectation == actual;
        };
        break;case "string":
        m.test = function(actual){

          if(typeof actual !== "string"){

            return false;
          };
          return actual.indexOf(expectation) !== -1;
        };
        m.message = "match(\"" + expectation + "\")";
        break;case "regexp":
        m.test = function(actual){

          if(typeof actual !== "string"){

            return false;
          };
          return expectation.test(actual);
        };
        break;case "function":
        m.test = expectation;
        if(message){

          m.message = message;
        } else {

          m.message = "match(" + sinon.functionName(expectation) + ")";
        };
        break;default:
        m.test = function(actual){

          return sinon.deepEqual(expectation, actual);
        };};
        if(!m.message){

          m.message = "match(" + expectation + ")";
        };
        return m;
      };
      match.isMatcher = isMatcher;
      match.any = match(function(){

        return true;
      }, "any");
      match.defined = match(function(actual){

        return actual !== null && actual !== undefined;
      }, "defined");
      match.truthy = match(function(actual){

        return !!actual;
      }, "truthy");
      match.falsy = match(function(actual){

        return !actual;
      }, "falsy");
      match.same = function(expectation){

        return match(function(actual){

          return expectation === actual;
        }, "same(" + expectation + ")");
      };
      match.typeOf = function(type){

        assertType(type, "string", "type");
        return match(function(actual){

          return sinon.typeOf(actual) === type;
        }, "typeOf(\"" + type + "\")");
      };
      match.instanceOf = function(type){

        assertType(type, "function", "type");
        return match(function(actual){

          return actual instanceof type;
        }, "instanceOf(" + sinon.functionName(type) + ")");
      };
      function createPropertyMatcher(propertyTest, messagePrefix){

        return function(property, value){

          assertType(property, "string", "property");
          var onlyProperty = arguments.length === 1;
          var message = messagePrefix + "(\"" + property + "\"";
          if(!onlyProperty){

            message += ", " + value;
          };
          message += ")";
          return match(function(actual){

            if(actual === undefined || actual === null || !propertyTest(actual, property)){

              return false;
            };
            return onlyProperty || sinon.deepEqual(value, actual[property]);
          }, message);
        };
      };
      match.has = createPropertyMatcher(function(actual, property){

        if(typeof actual === "object"){

          return property in actual;
        };
        return actual[property] !== undefined;
      }, "has");
      match.hasOwn = createPropertyMatcher(function(actual, property){

        return actual.hasOwnProperty(property);
      }, "hasOwn");
      match.bool = match.typeOf("boolean");
      match.number = match.typeOf("number");
      match.string = match.typeOf("string");
      match.object = match.typeOf("object");
      match.func = match.typeOf("function");
      match.array = match.typeOf("array");
      match.regexp = match.typeOf("regexp");
      match.date = match.typeOf("date");
      if(commonJSModule){

        module.exports = match;
      } else {

        sinon.match = match;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function throwYieldError(proxy, text, args){

        var msg = sinon.functionName(proxy) + text;
        if(args.length){

          msg += " Received [" + slice.call(args).join(", ") + "]";
        };
        throw new Error(msg);
      };
      var slice = Array.prototype.slice;
      var callProto = {
        calledOn : function calledOn(thisValue){

          if(sinon.match && sinon.match.isMatcher(thisValue)){

            return thisValue.test(this.thisValue);
          };
          return this.thisValue === thisValue;
        },
        calledWith : function calledWith(){

          for(var i = 0,l = arguments.length;i < l;i += 1){

            if(!sinon.deepEqual(arguments[i], this.args[i])){

              return false;
            };
          };
          return true;
        },
        calledWithMatch : function calledWithMatch(){

          for(var i = 0,l = arguments.length;i < l;i += 1){

            var actual = this.args[i];
            var expectation = arguments[i];
            if(!sinon.match || !sinon.match(expectation).test(actual)){

              return false;
            };
          };
          return true;
        },
        calledWithExactly : function calledWithExactly(){

          return arguments.length == this.args.length && this.calledWith.apply(this, arguments);
        },
        notCalledWith : function notCalledWith(){

          return !this.calledWith.apply(this, arguments);
        },
        notCalledWithMatch : function notCalledWithMatch(){

          return !this.calledWithMatch.apply(this, arguments);
        },
        returned : function returned(value){

          return sinon.deepEqual(value, this.returnValue);
        },
        threw : function threw(error){

          if(typeof error === "undefined" || !this.exception){

            return !!this.exception;
          };
          return this.exception === error || this.exception.name === error;
        },
        calledWithNew : function calledWithNew(){

          return this.proxy.prototype && this.thisValue instanceof this.proxy;
        },
        calledBefore : function(other){

          return this.callId < other.callId;
        },
        calledAfter : function(other){

          return this.callId > other.callId;
        },
        callArg : function(pos){

          this.args[pos]();
        },
        callArgOn : function(pos, thisValue){

          this.args[pos].apply(thisValue);
        },
        callArgWith : function(pos){

          this.callArgOnWith.apply(this, [pos, null].concat(slice.call(arguments, 1)));
        },
        callArgOnWith : function(pos, thisValue){

          var args = slice.call(arguments, 2);
          this.args[pos].apply(thisValue, args);
        },
        "yield" : function(){

          this.yieldOn.apply(this, [null].concat(slice.call(arguments, 0)));
        },
        yieldOn : function(thisValue){

          var args = this.args;
          for(var i = 0,l = args.length;i < l;++i){

            if(typeof args[i] === "function"){

              args[i].apply(thisValue, slice.call(arguments, 1));
              return;
            };
          };
          throwYieldError(this.proxy, " cannot yield since no callback was passed.", args);
        },
        yieldTo : function(prop){

          this.yieldToOn.apply(this, [prop, null].concat(slice.call(arguments, 1)));
        },
        yieldToOn : function(prop, thisValue){

          var args = this.args;
          for(var i = 0,l = args.length;i < l;++i){

            if(args[i] && typeof args[i][prop] === "function"){

              args[i][prop].apply(thisValue, slice.call(arguments, 2));
              return;
            };
          };
          throwYieldError(this.proxy, " cannot yield to '" + prop + "' since no callback was passed.", args);
        },
        toString : function(){

          var callStr = this.proxy.toString() + "(";
          var args = [];
          for(var i = 0,l = this.args.length;i < l;++i){

            args.push(sinon.format(this.args[i]));
          };
          callStr = callStr + args.join(", ") + ")";
          if(typeof this.returnValue != "undefined"){

            callStr += " => " + sinon.format(this.returnValue);
          };
          if(this.exception){

            callStr += " !" + this.exception.name;
            if(this.exception.message){

              callStr += "(" + this.exception.message + ")";
            };
          };
          return callStr;
        }
      };
      callProto.invokeCallback = callProto.yield;
      function createSpyCall(spy, thisValue, args, returnValue, exception, id){

        if(typeof id !== "number"){

          throw new TypeError("Call id is not a number");
        };
        var proxyCall = sinon.create(callProto);
        proxyCall.proxy = spy;
        proxyCall.thisValue = thisValue;
        proxyCall.args = args;
        proxyCall.returnValue = returnValue;
        proxyCall.exception = exception;
        proxyCall.callId = id;
        return proxyCall;
      };
      createSpyCall.toString = callProto.toString;
      if(commonJSModule){

        module.exports = createSpyCall;
      } else {

        sinon.spyCall = createSpyCall;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      var push = Array.prototype.push;
      var slice = Array.prototype.slice;
      var callId = 0;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function spy(object, property){

        if(!property && typeof object == "function"){

          return spy.create(object);
        };
        if(!object && !property){

          return spy.create(function(){
          });
        };
        var method = object[property];
        return sinon.wrapMethod(object, property, spy.create(method));
      };
      function matchingFake(fakes, args, strict){

        if(!fakes){

          return;
        };
        for(var i = 0,l = fakes.length;i < l;i++){

          if(fakes[i].matches(args, strict)){

            return fakes[i];
          };
        };
      };
      function incrementCallCount(){

        this.called = true;
        this.callCount += 1;
        this.notCalled = false;
        this.calledOnce = this.callCount == 1;
        this.calledTwice = this.callCount == 2;
        this.calledThrice = this.callCount == 3;
      };
      function createCallProperties(){

        this.firstCall = this.getCall(0);
        this.secondCall = this.getCall(1);
        this.thirdCall = this.getCall(2);
        this.lastCall = this.getCall(this.callCount - 1);
      };
      var vars = "a,b,c,d,e,f,g,h,i,j,k,l";
      function createProxy(func){

        var p;
        if(func.length){

          eval("p = (function proxy(" + vars.substring(0, func.length * 2 - 1) + ") { return p.invoke(func, this, slice.call(arguments)); });");
        } else {

          p = function proxy(){

            return p.invoke(func, this, slice.call(arguments));
          };
        };
        return p;
      };
      var uuid = 0;
      var spyApi = {
        reset : function(){

          this.called = false;
          this.notCalled = true;
          this.calledOnce = false;
          this.calledTwice = false;
          this.calledThrice = false;
          this.callCount = 0;
          this.firstCall = null;
          this.secondCall = null;
          this.thirdCall = null;
          this.lastCall = null;
          this.args = [];
          this.returnValues = [];
          this.thisValues = [];
          this.exceptions = [];
          this.callIds = [];
          if(this.fakes){

            for(var i = 0;i < this.fakes.length;i++){

              this.fakes[i].reset();
            };
          };
        },
        create : function create(func){

          var name;
          if(typeof func != "function"){

            func = function(){
            };
          } else {

            name = sinon.functionName(func);
          };
          var proxy = createProxy(func);
          sinon.extend(proxy, spy);
          delete proxy.create;
          sinon.extend(proxy, func);
          proxy.reset();
          proxy.prototype = func.prototype;
          proxy.displayName = name || "spy";
          proxy.toString = sinon.functionToString;
          proxy._create = sinon.spy.create;
          proxy.id = "spy#" + uuid++;
          return proxy;
        },
        invoke : function invoke(func, thisValue, args){

          var matching = matchingFake(this.fakes, args);
          var exception,returnValue;
          incrementCallCount.call(this);
          push.call(this.thisValues, thisValue);
          push.call(this.args, args);
          push.call(this.callIds, callId++);
          try{

            if(matching){

              returnValue = matching.invoke(func, thisValue, args);
            } else {

              returnValue = (this.func || func).apply(thisValue, args);
            };
            var thisCall = this.getCall(this.callCount - 1);
            if(thisCall.calledWithNew() && typeof returnValue !== 'object'){

              returnValue = thisValue;
            };
          } catch(e) {

            exception = e;
          };
          push.call(this.exceptions, exception);
          push.call(this.returnValues, returnValue);
          createCallProperties.call(this);
          if(exception !== undefined){

            throw exception;
          };
          return returnValue;
        },
        getCall : function getCall(i){

          if(i < 0 || i >= this.callCount){

            return null;
          };
          return sinon.spyCall(this, this.thisValues[i], this.args[i], this.returnValues[i], this.exceptions[i], this.callIds[i]);
        },
        getCalls : function(){

          var calls = [];
          var i;
          for(i = 0;i < this.callCount;i++){

            calls.push(this.getCall(i));
          };
          return calls;
        },
        calledBefore : function calledBefore(spyFn){

          if(!this.called){

            return false;
          };
          if(!spyFn.called){

            return true;
          };
          return this.callIds[0] < spyFn.callIds[spyFn.callIds.length - 1];
        },
        calledAfter : function calledAfter(spyFn){

          if(!this.called || !spyFn.called){

            return false;
          };
          return this.callIds[this.callCount - 1] > spyFn.callIds[spyFn.callCount - 1];
        },
        withArgs : function(){

          var args = slice.call(arguments);
          if(this.fakes){

            var match = matchingFake(this.fakes, args, true);
            if(match){

              return match;
            };
          } else {

            this.fakes = [];
          };
          var original = this;
          var fake = this._create();
          fake.matchingAguments = args;
          fake.parent = this;
          push.call(this.fakes, fake);
          fake.withArgs = function(){

            return original.withArgs.apply(original, arguments);
          };
          for(var i = 0;i < this.args.length;i++){

            if(fake.matches(this.args[i])){

              incrementCallCount.call(fake);
              push.call(fake.thisValues, this.thisValues[i]);
              push.call(fake.args, this.args[i]);
              push.call(fake.returnValues, this.returnValues[i]);
              push.call(fake.exceptions, this.exceptions[i]);
              push.call(fake.callIds, this.callIds[i]);
            };
          };
          createCallProperties.call(fake);
          return fake;
        },
        matches : function(args, strict){

          var margs = this.matchingAguments;
          if(margs.length <= args.length && sinon.deepEqual(margs, args.slice(0, margs.length))){

            return !strict || margs.length == args.length;
          };
        },
        printf : function(format){

          var spy = this;
          var args = slice.call(arguments, 1);
          var formatter;
          return (format || "").replace(/%(.)/g, function(match, specifyer){

            formatter = spyApi.formatters[specifyer];
            if(typeof formatter == "function"){

              return formatter.call(null, spy, args);
            } else if(!isNaN(parseInt(specifyer, 10))){

              return sinon.format(args[specifyer - 1]);
            };
            return "%" + specifyer;
          });
        }
      };
      function delegateToCalls(method, matchAny, actual, notCalled){

        spyApi[method] = function(){

          if(!this.called){

            if(notCalled){

              return notCalled.apply(this, arguments);
            };
            return false;
          };
          var currentCall;
          var matches = 0;
          for(var i = 0,l = this.callCount;i < l;i += 1){

            currentCall = this.getCall(i);
            if(currentCall[actual || method].apply(currentCall, arguments)){

              matches += 1;
              if(matchAny){

                return true;
              };
            };
          };
          return matches === this.callCount;
        };
      };
      delegateToCalls("calledOn", true);
      delegateToCalls("alwaysCalledOn", false, "calledOn");
      delegateToCalls("calledWith", true);
      delegateToCalls("calledWithMatch", true);
      delegateToCalls("alwaysCalledWith", false, "calledWith");
      delegateToCalls("alwaysCalledWithMatch", false, "calledWithMatch");
      delegateToCalls("calledWithExactly", true);
      delegateToCalls("alwaysCalledWithExactly", false, "calledWithExactly");
      delegateToCalls("neverCalledWith", false, "notCalledWith", function(){

        return true;
      });
      delegateToCalls("neverCalledWithMatch", false, "notCalledWithMatch", function(){

        return true;
      });
      delegateToCalls("threw", true);
      delegateToCalls("alwaysThrew", false, "threw");
      delegateToCalls("returned", true);
      delegateToCalls("alwaysReturned", false, "returned");
      delegateToCalls("calledWithNew", true);
      delegateToCalls("alwaysCalledWithNew", false, "calledWithNew");
      delegateToCalls("callArg", false, "callArgWith", function(){

        throw new Error(this.toString() + " cannot call arg since it was not yet invoked.");
      });
      spyApi.callArgWith = spyApi.callArg;
      delegateToCalls("callArgOn", false, "callArgOnWith", function(){

        throw new Error(this.toString() + " cannot call arg since it was not yet invoked.");
      });
      spyApi.callArgOnWith = spyApi.callArgOn;
      delegateToCalls("yield", false, "yield", function(){

        throw new Error(this.toString() + " cannot yield since it was not yet invoked.");
      });
      spyApi.invokeCallback = spyApi.yield;
      delegateToCalls("yieldOn", false, "yieldOn", function(){

        throw new Error(this.toString() + " cannot yield since it was not yet invoked.");
      });
      delegateToCalls("yieldTo", false, "yieldTo", function(property){

        throw new Error(this.toString() + " cannot yield to '" + property + "' since it was not yet invoked.");
      });
      delegateToCalls("yieldToOn", false, "yieldToOn", function(property){

        throw new Error(this.toString() + " cannot yield to '" + property + "' since it was not yet invoked.");
      });
      spyApi.formatters = {
        "c" : function(spy){

          return sinon.timesInWords(spy.callCount);
        },
        "n" : function(spy){

          return spy.toString();
        },
        "C" : function(spy){

          var calls = [];
          for(var i = 0,l = spy.callCount;i < l;++i){

            var stringifiedCall = "    " + spy.getCall(i).toString();
            if(/\n/.test(calls[i - 1])){

              stringifiedCall = "\n" + stringifiedCall;
            };
            push.call(calls, stringifiedCall);
          };
          return calls.length > 0 ? "\n" + calls.join("\n") : "";
        },
        "t" : function(spy){

          var objects = [];
          for(var i = 0,l = spy.callCount;i < l;++i){

            push.call(objects, sinon.format(spy.thisValues[i]));
          };
          return objects.join(", ");
        },
        "*" : function(spy, args){

          var formatted = [];
          for(var i = 0,l = args.length;i < l;++i){

            push.call(formatted, sinon.format(args[i]));
          };
          return formatted.join(", ");
        }
      };
      sinon.extend(spy, spyApi);
      spy.spyCall = sinon.spyCall;
      if(commonJSModule){

        module.exports = spy;
      } else {

        sinon.spy = spy;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      var slice = Array.prototype.slice;
      var join = Array.prototype.join;
      var proto;
      var nextTick = (function(){

        if(typeof process === "object" && typeof process.nextTick === "function"){

          return process.nextTick;
        } else if(typeof setImmediate === "function"){

          return setImmediate;
        } else {

          return function(callback){

            setTimeout(callback, 0);
          };
        };
      })();
      function throwsException(error, message){

        if(typeof error == "string"){

          this.exception = new Error(message || "");
          this.exception.name = error;
        } else if(!error){

          this.exception = new Error("Error");
        } else {

          this.exception = error;
        };
        return this;
      };
      function getCallback(behavior, args){

        var callArgAt = behavior.callArgAt;
        if(callArgAt < 0){

          var callArgProp = behavior.callArgProp;
          for(var i = 0,l = args.length;i < l;++i){

            if(!callArgProp && typeof args[i] == "function"){

              return args[i];
            };
            if(callArgProp && args[i] && typeof args[i][callArgProp] == "function"){

              return args[i][callArgProp];
            };
          };
          return null;
        };
        return args[callArgAt];
      };
      function getCallbackError(behavior, func, args){

        if(behavior.callArgAt < 0){

          var msg;
          if(behavior.callArgProp){

            msg = sinon.functionName(behavior.stub) + " expected to yield to '" + behavior.callArgProp + "', but no object with such a property was passed.";
          } else {

            msg = sinon.functionName(behavior.stub) + " expected to yield, but no callback was passed.";
          };
          if(args.length > 0){

            msg += " Received [" + join.call(args, ", ") + "]";
          };
          return msg;
        };
        return "argument at index " + behavior.callArgAt + " is not a function: " + func;
      };
      function callCallback(behavior, args){

        if(typeof behavior.callArgAt == "number"){

          var func = getCallback(behavior, args);
          if(typeof func != "function"){

            throw new TypeError(getCallbackError(behavior, func, args));
          };
          if(behavior.callbackAsync){

            nextTick(function(){

              func.apply(behavior.callbackContext, behavior.callbackArguments);
            });
          } else {

            func.apply(behavior.callbackContext, behavior.callbackArguments);
          };
        };
      };
      proto = {
        create : function(stub){

          var behavior = sinon.extend({
          }, sinon.behavior);
          delete behavior.create;
          behavior.stub = stub;
          return behavior;
        },
        isPresent : function(){

          return (typeof this.callArgAt == 'number' || this.exception || typeof this.returnArgAt == 'number' || this.returnThis || this.returnValueDefined);
        },
        invoke : function(context, args){

          callCallback(this, args);
          if(this.exception){

            throw this.exception;
          } else if(typeof this.returnArgAt == 'number'){

            return args[this.returnArgAt];
          } else if(this.returnThis){

            return context;
          };;
          return this.returnValue;
        },
        onCall : function(index){

          return this.stub.onCall(index);
        },
        onFirstCall : function(){

          return this.stub.onFirstCall();
        },
        onSecondCall : function(){

          return this.stub.onSecondCall();
        },
        onThirdCall : function(){

          return this.stub.onThirdCall();
        },
        withArgs : function(){

          throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. ' + 'Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.');
        },
        callsArg : function callsArg(pos){

          if(typeof pos != "number"){

            throw new TypeError("argument index is not number");
          };
          this.callArgAt = pos;
          this.callbackArguments = [];
          this.callbackContext = undefined;
          this.callArgProp = undefined;
          this.callbackAsync = false;
          return this;
        },
        callsArgOn : function callsArgOn(pos, context){

          if(typeof pos != "number"){

            throw new TypeError("argument index is not number");
          };
          if(typeof context != "object"){

            throw new TypeError("argument context is not an object");
          };
          this.callArgAt = pos;
          this.callbackArguments = [];
          this.callbackContext = context;
          this.callArgProp = undefined;
          this.callbackAsync = false;
          return this;
        },
        callsArgWith : function callsArgWith(pos){

          if(typeof pos != "number"){

            throw new TypeError("argument index is not number");
          };
          this.callArgAt = pos;
          this.callbackArguments = slice.call(arguments, 1);
          this.callbackContext = undefined;
          this.callArgProp = undefined;
          this.callbackAsync = false;
          return this;
        },
        callsArgOnWith : function callsArgWith(pos, context){

          if(typeof pos != "number"){

            throw new TypeError("argument index is not number");
          };
          if(typeof context != "object"){

            throw new TypeError("argument context is not an object");
          };
          this.callArgAt = pos;
          this.callbackArguments = slice.call(arguments, 2);
          this.callbackContext = context;
          this.callArgProp = undefined;
          this.callbackAsync = false;
          return this;
        },
        yields : function(){

          this.callArgAt = -1;
          this.callbackArguments = slice.call(arguments, 0);
          this.callbackContext = undefined;
          this.callArgProp = undefined;
          this.callbackAsync = false;
          return this;
        },
        yieldsOn : function(context){

          if(typeof context != "object"){

            throw new TypeError("argument context is not an object");
          };
          this.callArgAt = -1;
          this.callbackArguments = slice.call(arguments, 1);
          this.callbackContext = context;
          this.callArgProp = undefined;
          this.callbackAsync = false;
          return this;
        },
        yieldsTo : function(prop){

          this.callArgAt = -1;
          this.callbackArguments = slice.call(arguments, 1);
          this.callbackContext = undefined;
          this.callArgProp = prop;
          this.callbackAsync = false;
          return this;
        },
        yieldsToOn : function(prop, context){

          if(typeof context != "object"){

            throw new TypeError("argument context is not an object");
          };
          this.callArgAt = -1;
          this.callbackArguments = slice.call(arguments, 2);
          this.callbackContext = context;
          this.callArgProp = prop;
          this.callbackAsync = false;
          return this;
        },
        "throws" : throwsException,
        throwsException : throwsException,
        returns : function returns(value){

          this.returnValue = value;
          this.returnValueDefined = true;
          return this;
        },
        returnsArg : function returnsArg(pos){

          if(typeof pos != "number"){

            throw new TypeError("argument index is not number");
          };
          this.returnArgAt = pos;
          return this;
        },
        returnsThis : function returnsThis(){

          this.returnThis = true;
          return this;
        }
      };
      for(var method in proto){

        if(proto.hasOwnProperty(method) && method.match(/^(callsArg|yields)/) && !method.match(/Async/)){

          proto[method + 'Async'] = (function(syncFnName){

            return function(){

              var result = this[syncFnName].apply(this, arguments);
              this.callbackAsync = true;
              return result;
            };
          })(method);
        };
      };
      if(commonJSModule){

        module.exports = proto;
      } else {

        sinon.behavior = proto;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function stub(object, property, func){

        if(!!func && typeof func != "function"){

          throw new TypeError("Custom stub should be function");
        };
        var wrapper;
        if(func){

          wrapper = sinon.spy && sinon.spy.create ? sinon.spy.create(func) : func;
        } else {

          wrapper = stub.create();
        };
        if(!object && typeof property === "undefined"){

          return sinon.stub.create();
        };
        if(typeof property === "undefined" && typeof object == "object"){

          for(var prop in object){

            if(typeof object[prop] === "function"){

              stub(object, prop);
            };
          };
          return object;
        };
        return sinon.wrapMethod(object, property, wrapper);
      };
      function getDefaultBehavior(stub){

        return stub.defaultBehavior || getParentBehaviour(stub) || sinon.behavior.create(stub);
      };
      function getParentBehaviour(stub){

        return (stub.parent && getCurrentBehavior(stub.parent));
      };
      function getCurrentBehavior(stub){

        var behavior = stub.behaviors[stub.callCount - 1];
        return behavior && behavior.isPresent() ? behavior : getDefaultBehavior(stub);
      };
      var uuid = 0;
      sinon.extend(stub, (function(){

        var proto = {
          create : function create(){

            var functionStub = function(){

              return getCurrentBehavior(functionStub).invoke(this, arguments);
            };
            functionStub.id = "stub#" + uuid++;
            var orig = functionStub;
            functionStub = sinon.spy.create(functionStub);
            functionStub.func = orig;
            sinon.extend(functionStub, stub);
            functionStub._create = sinon.stub.create;
            functionStub.displayName = "stub";
            functionStub.toString = sinon.functionToString;
            functionStub.defaultBehavior = null;
            functionStub.behaviors = [];
            return functionStub;
          },
          resetBehavior : function(){

            var i;
            this.defaultBehavior = null;
            this.behaviors = [];
            delete this.returnValue;
            delete this.returnArgAt;
            this.returnThis = false;
            if(this.fakes){

              for(i = 0;i < this.fakes.length;i++){

                this.fakes[i].resetBehavior();
              };
            };
          },
          onCall : function(index){

            if(!this.behaviors[index]){

              this.behaviors[index] = sinon.behavior.create(this);
            };
            return this.behaviors[index];
          },
          onFirstCall : function(){

            return this.onCall(0);
          },
          onSecondCall : function(){

            return this.onCall(1);
          },
          onThirdCall : function(){

            return this.onCall(2);
          }
        };
        for(var method in sinon.behavior){

          if(sinon.behavior.hasOwnProperty(method) && !proto.hasOwnProperty(method) && method != 'create' && method != 'withArgs' && method != 'invoke'){

            proto[method] = (function(behaviorMethod){

              return function(){

                this.defaultBehavior = this.defaultBehavior || sinon.behavior.create(this);
                this.defaultBehavior[behaviorMethod].apply(this.defaultBehavior, arguments);
                return this;
              };
            }(method));
          };
        };
        return proto;
      }()));
      if(commonJSModule){

        module.exports = stub;
      } else {

        sinon.stub = stub;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      var push = [].push;
      var match;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      match = sinon.match;
      if(!match && commonJSModule){

        match = require("./match");
      };
      function mock(object){

        if(!object){

          return sinon.expectation.create("Anonymous mock");
        };
        return mock.create(object);
      };
      sinon.mock = mock;
      sinon.extend(mock, (function(){

        function each(collection, callback){

          if(!collection){

            return;
          };
          for(var i = 0,l = collection.length;i < l;i += 1){

            callback(collection[i]);
          };
        };
        return {
          create : function create(object){

            if(!object){

              throw new TypeError("object is null");
            };
            var mockObject = sinon.extend({
            }, mock);
            mockObject.object = object;
            delete mockObject.create;
            return mockObject;
          },
          expects : function expects(method){

            if(!method){

              throw new TypeError("method is falsy");
            };
            if(!this.expectations){

              this.expectations = {
              };
              this.proxies = [];
            };
            if(!this.expectations[method]){

              this.expectations[method] = [];
              var mockObject = this;
              sinon.wrapMethod(this.object, method, function(){

                return mockObject.invokeMethod(method, this, arguments);
              });
              push.call(this.proxies, method);
            };
            var expectation = sinon.expectation.create(method);
            push.call(this.expectations[method], expectation);
            return expectation;
          },
          restore : function restore(){

            var object = this.object;
            each(this.proxies, function(proxy){

              if(typeof object[proxy].restore == "function"){

                object[proxy].restore();
              };
            });
          },
          verify : function verify(){

            var expectations = this.expectations || {
            };
            var messages = [],met = [];
            each(this.proxies, function(proxy){

              each(expectations[proxy], function(expectation){

                if(!expectation.met()){

                  push.call(messages, expectation.toString());
                } else {

                  push.call(met, expectation.toString());
                };
              });
            });
            this.restore();
            if(messages.length > 0){

              sinon.expectation.fail(messages.concat(met).join("\n"));
            } else {

              sinon.expectation.pass(messages.concat(met).join("\n"));
            };
            return true;
          },
          invokeMethod : function invokeMethod(method, thisValue, args){

            var expectations = this.expectations && this.expectations[method];
            var length = expectations && expectations.length || 0,i;
            for(i = 0;i < length;i += 1){

              if(!expectations[i].met() && expectations[i].allowsCall(thisValue, args)){

                return expectations[i].apply(thisValue, args);
              };
            };
            var messages = [],available,exhausted = 0;
            for(i = 0;i < length;i += 1){

              if(expectations[i].allowsCall(thisValue, args)){

                available = available || expectations[i];
              } else {

                exhausted += 1;
              };
              push.call(messages, "    " + expectations[i].toString());
            };
            if(exhausted === 0){

              return available.apply(thisValue, args);
            };
            messages.unshift("Unexpected call: " + sinon.spyCall.toString.call({
              proxy : method,
              args : args
            }));
            sinon.expectation.fail(messages.join("\n"));
          }
        };
      }()));
      var times = sinon.timesInWords;
      sinon.expectation = (function(){

        var slice = Array.prototype.slice;
        var _invoke = sinon.spy.invoke;
        function callCountInWords(callCount){

          if(callCount == 0){

            return "never called";
          } else {

            return "called " + times(callCount);
          };
        };
        function expectedCallCountInWords(expectation){

          var min = expectation.minCalls;
          var max = expectation.maxCalls;
          if(typeof min == "number" && typeof max == "number"){

            var str = times(min);
            if(min != max){

              str = "at least " + str + " and at most " + times(max);
            };
            return str;
          };
          if(typeof min == "number"){

            return "at least " + times(min);
          };
          return "at most " + times(max);
        };
        function receivedMinCalls(expectation){

          var hasMinLimit = typeof expectation.minCalls == "number";
          return !hasMinLimit || expectation.callCount >= expectation.minCalls;
        };
        function receivedMaxCalls(expectation){

          if(typeof expectation.maxCalls != "number"){

            return false;
          };
          return expectation.callCount == expectation.maxCalls;
        };
        function verifyMatcher(possibleMatcher, arg){

          if(match && match.isMatcher(possibleMatcher)){

            return possibleMatcher.test(arg);
          } else {

            return true;
          };
        };
        return {
          minCalls : 1,
          maxCalls : 1,
          create : function create(methodName){

            var expectation = sinon.extend(sinon.stub.create(), sinon.expectation);
            delete expectation.create;
            expectation.method = methodName;
            return expectation;
          },
          invoke : function invoke(func, thisValue, args){

            this.verifyCallAllowed(thisValue, args);
            return _invoke.apply(this, arguments);
          },
          atLeast : function atLeast(num){

            if(typeof num != "number"){

              throw new TypeError("'" + num + "' is not number");
            };
            if(!this.limitsSet){

              this.maxCalls = null;
              this.limitsSet = true;
            };
            this.minCalls = num;
            return this;
          },
          atMost : function atMost(num){

            if(typeof num != "number"){

              throw new TypeError("'" + num + "' is not number");
            };
            if(!this.limitsSet){

              this.minCalls = null;
              this.limitsSet = true;
            };
            this.maxCalls = num;
            return this;
          },
          never : function never(){

            return this.exactly(0);
          },
          once : function once(){

            return this.exactly(1);
          },
          twice : function twice(){

            return this.exactly(2);
          },
          thrice : function thrice(){

            return this.exactly(3);
          },
          exactly : function exactly(num){

            if(typeof num != "number"){

              throw new TypeError("'" + num + "' is not a number");
            };
            this.atLeast(num);
            return this.atMost(num);
          },
          met : function met(){

            return !this.failed && receivedMinCalls(this);
          },
          verifyCallAllowed : function verifyCallAllowed(thisValue, args){

            if(receivedMaxCalls(this)){

              this.failed = true;
              sinon.expectation.fail(this.method + " already called " + times(this.maxCalls));
            };
            if("expectedThis" in this && this.expectedThis !== thisValue){

              sinon.expectation.fail(this.method + " called with " + thisValue + " as thisValue, expected " + this.expectedThis);
            };
            if(!("expectedArguments" in this)){

              return;
            };
            if(!args){

              sinon.expectation.fail(this.method + " received no arguments, expected " + sinon.format(this.expectedArguments));
            };
            if(args.length < this.expectedArguments.length){

              sinon.expectation.fail(this.method + " received too few arguments (" + sinon.format(args) + "), expected " + sinon.format(this.expectedArguments));
            };
            if(this.expectsExactArgCount && args.length != this.expectedArguments.length){

              sinon.expectation.fail(this.method + " received too many arguments (" + sinon.format(args) + "), expected " + sinon.format(this.expectedArguments));
            };
            for(var i = 0,l = this.expectedArguments.length;i < l;i += 1){

              if(!verifyMatcher(this.expectedArguments[i], args[i])){

                sinon.expectation.fail(this.method + " received wrong arguments " + sinon.format(args) + ", didn't match " + this.expectedArguments.toString());
              };
              if(!sinon.deepEqual(this.expectedArguments[i], args[i])){

                sinon.expectation.fail(this.method + " received wrong arguments " + sinon.format(args) + ", expected " + sinon.format(this.expectedArguments));
              };
            };
          },
          allowsCall : function allowsCall(thisValue, args){

            if(this.met() && receivedMaxCalls(this)){

              return false;
            };
            if("expectedThis" in this && this.expectedThis !== thisValue){

              return false;
            };
            if(!("expectedArguments" in this)){

              return true;
            };
            args = args || [];
            if(args.length < this.expectedArguments.length){

              return false;
            };
            if(this.expectsExactArgCount && args.length != this.expectedArguments.length){

              return false;
            };
            for(var i = 0,l = this.expectedArguments.length;i < l;i += 1){

              if(!verifyMatcher(this.expectedArguments[i], args[i])){

                return false;
              };
              if(!sinon.deepEqual(this.expectedArguments[i], args[i])){

                return false;
              };
            };
            return true;
          },
          withArgs : function withArgs(){

            this.expectedArguments = slice.call(arguments);
            return this;
          },
          withExactArgs : function withExactArgs(){

            this.withArgs.apply(this, arguments);
            this.expectsExactArgCount = true;
            return this;
          },
          on : function on(thisValue){

            this.expectedThis = thisValue;
            return this;
          },
          toString : function(){

            var args = (this.expectedArguments || []).slice();
            if(!this.expectsExactArgCount){

              push.call(args, "[...]");
            };
            var callStr = sinon.spyCall.toString.call({
              proxy : this.method || "anonymous mock expectation",
              args : args
            });
            var message = callStr.replace(", [...", "[, ...") + " " + expectedCallCountInWords(this);
            if(this.met()){

              return "Expectation met: " + message;
            };
            return "Expected " + message + " (" + callCountInWords(this.callCount) + ")";
          },
          verify : function verify(){

            if(!this.met()){

              sinon.expectation.fail(this.toString());
            } else {

              sinon.expectation.pass(this.toString());
            };
            return true;
          },
          pass : function(message){

            sinon.assert.pass(message);
          },
          fail : function(message){

            var exception = new Error(message);
            exception.name = "ExpectationError";
            throw exception;
          }
        };
      }());
      if(commonJSModule){

        module.exports = mock;
      } else {

        sinon.mock = mock;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      var push = [].push;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function getFakes(fakeCollection){

        if(!fakeCollection.fakes){

          fakeCollection.fakes = [];
        };
        return fakeCollection.fakes;
      };
      function each(fakeCollection, method){

        var fakes = getFakes(fakeCollection);
        for(var i = 0,l = fakes.length;i < l;i += 1){

          if(typeof fakes[i][method] == "function"){

            fakes[i][method]();
          };
        };
      };
      function compact(fakeCollection){

        var fakes = getFakes(fakeCollection);
        var i = 0;
        while(i < fakes.length){

          fakes.splice(i, 1);
        };
      };
      var collection = {
        verify : function resolve(){

          each(this, "verify");
        },
        restore : function restore(){

          each(this, "restore");
          compact(this);
        },
        verifyAndRestore : function verifyAndRestore(){

          var exception;
          try{

            this.verify();
          } catch(e) {

            exception = e;
          };
          this.restore();
          if(exception){

            throw exception;
          };
        },
        add : function add(fake){

          push.call(getFakes(this), fake);
          return fake;
        },
        spy : function spy(){

          return this.add(sinon.spy.apply(sinon, arguments));
        },
        stub : function stub(object, property, value){

          if(property){

            var original = object[property];
            if(typeof original != "function"){

              if(!hasOwnProperty.call(object, property)){

                throw new TypeError("Cannot stub non-existent own property " + property);
              };
              object[property] = value;
              return this.add({
                restore : function(){

                  object[property] = original;
                }
              });
            };
          };
          if(!property && !!object && typeof object == "object"){

            var stubbedObj = sinon.stub.apply(sinon, arguments);
            for(var prop in stubbedObj){

              if(typeof stubbedObj[prop] === "function"){

                this.add(stubbedObj[prop]);
              };
            };
            return stubbedObj;
          };
          return this.add(sinon.stub.apply(sinon, arguments));
        },
        mock : function mock(){

          return this.add(sinon.mock.apply(sinon, arguments));
        },
        inject : function inject(obj){

          var col = this;
          obj.spy = function(){

            return col.spy.apply(col, arguments);
          };
          obj.stub = function(){

            return col.stub.apply(col, arguments);
          };
          obj.mock = function(){

            return col.mock.apply(col, arguments);
          };
          return obj;
        }
      };
      if(commonJSModule){

        module.exports = collection;
      } else {

        sinon.collection = collection;
      };
    }(typeof sinon == "object" && sinon || null));
    if(typeof sinon == "undefined"){

      var sinon = {
      };
    };
    (function(global){

      var timeoutResult = setTimeout(function(){
      }, 0);
      var addTimerReturnsObject = typeof timeoutResult === 'object';
      clearTimeout(timeoutResult);
      var id = 1;
      function addTimer(args, recurring){

        if(args.length === 0){

          throw new Error("Function requires at least 1 parameter");
        };
        if(typeof args[0] === "undefined"){

          throw new Error("Callback must be provided to timer calls");
        };
        var toId = id++;
        var delay = args[1] || 0;
        if(!this.timeouts){

          this.timeouts = {
          };
        };
        this.timeouts[toId] = {
          id : toId,
          func : args[0],
          callAt : this.now + delay,
          invokeArgs : Array.prototype.slice.call(args, 2)
        };
        if(recurring === true){

          this.timeouts[toId].interval = delay;
        };
        if(addTimerReturnsObject){

          return {
            id : toId,
            ref : function(){
            },
            unref : function(){
            }
          };
        } else {

          return toId;
        };
      };
      function parseTime(str){

        if(!str){

          return 0;
        };
        var strings = str.split(":");
        var l = strings.length,i = l;
        var ms = 0,parsed;
        if(l > 3 || !/^(\d\d:){0,2}\d\d?$/.test(str)){

          throw new Error("tick only understands numbers and 'h:m:s'");
        };
        while(i--){

          parsed = parseInt(strings[i], 10);
          if(parsed >= 60){

            throw new Error("Invalid time " + str);
          };
          ms += parsed * Math.pow(60, (l - i - 1));
        };
        return ms * 1000;
      };
      function createObject(object){

        var newObject;
        if(Object.create){

          newObject = Object.create(object);
        } else {

          var F = function(){
          };
          F.prototype = object;
          newObject = new F();
        };
        newObject.Date.clock = newObject;
        return newObject;
      };
      sinon.clock = {
        now : 0,
        create : function create(now){

          var clock = createObject(this);
          if(typeof now == "number"){

            clock.now = now;
          };
          if(!!now && typeof now == "object"){

            throw new TypeError("now should be milliseconds since UNIX epoch");
          };
          return clock;
        },
        setTimeout : function setTimeout(callback, timeout){

          return addTimer.call(this, arguments, false);
        },
        clearTimeout : function clearTimeout(timerId){

          if(!this.timeouts){

            this.timeouts = [];
          };
          if(timerId in this.timeouts){

            delete this.timeouts[timerId];
          };
        },
        setInterval : function setInterval(callback, timeout){

          return addTimer.call(this, arguments, true);
        },
        clearInterval : function clearInterval(timerId){

          this.clearTimeout(timerId);
        },
        setImmediate : function setImmediate(callback){

          var passThruArgs = Array.prototype.slice.call(arguments, 1);
          return addTimer.call(this, [callback, 0].concat(passThruArgs), false);
        },
        clearImmediate : function clearImmediate(timerId){

          this.clearTimeout(timerId);
        },
        tick : function tick(ms){

          ms = typeof ms == "number" ? ms : parseTime(ms);
          var tickFrom = this.now,tickTo = this.now + ms,previous = this.now;
          var timer = this.firstTimerInRange(tickFrom, tickTo);
          var firstException;
          while(timer && tickFrom <= tickTo){

            if(this.timeouts[timer.id]){

              tickFrom = this.now = timer.callAt;
              try{

                this.callTimer(timer);
              } catch(e) {

                firstException = firstException || e;
              };
            };
            timer = this.firstTimerInRange(previous, tickTo);
            previous = tickFrom;
          };
          this.now = tickTo;
          if(firstException){

            throw firstException;
          };
          return this.now;
        },
        firstTimerInRange : function(from, to){

          var timer,smallest = null,originalTimer;
          for(var id in this.timeouts){

            if(this.timeouts.hasOwnProperty(id)){

              if(this.timeouts[id].callAt < from || this.timeouts[id].callAt > to){

                continue;
              };
              if(smallest === null || this.timeouts[id].callAt < smallest){

                originalTimer = this.timeouts[id];
                smallest = this.timeouts[id].callAt;
                timer = {
                  func : this.timeouts[id].func,
                  callAt : this.timeouts[id].callAt,
                  interval : this.timeouts[id].interval,
                  id : this.timeouts[id].id,
                  invokeArgs : this.timeouts[id].invokeArgs
                };
              };
            };
          };
          return timer || null;
        },
        callTimer : function(timer){

          if(typeof timer.interval == "number"){

            this.timeouts[timer.id].callAt += timer.interval;
          } else {

            delete this.timeouts[timer.id];
          };
          try{

            if(typeof timer.func == "function"){

              timer.func.apply(null, timer.invokeArgs);
            } else {

              eval(timer.func);
            };
          } catch(e) {

            var exception = e;
          };
          if(!this.timeouts[timer.id]){

            if(exception){

              throw exception;
            };
            return;
          };
          if(exception){

            throw exception;
          };
        },
        reset : function reset(){

          this.timeouts = {
          };
        },
        Date : (function(){

          var NativeDate = Date;
          function ClockDate(year, month, date, hour, minute, second, ms){

            switch(arguments.length){case 0:
            return new NativeDate(ClockDate.clock.now);case 1:
            return new NativeDate(year);case 2:
            return new NativeDate(year, month);case 3:
            return new NativeDate(year, month, date);case 4:
            return new NativeDate(year, month, date, hour);case 5:
            return new NativeDate(year, month, date, hour, minute);case 6:
            return new NativeDate(year, month, date, hour, minute, second);default:
            return new NativeDate(year, month, date, hour, minute, second, ms);};
          };
          return mirrorDateProperties(ClockDate, NativeDate);
        }())
      };
      function mirrorDateProperties(target, source){

        if(source.now){

          target.now = function now(){

            return target.clock.now;
          };
        } else {

          delete target.now;
        };
        if(source.toSource){

          target.toSource = function toSource(){

            return source.toSource();
          };
        } else {

          delete target.toSource;
        };
        target.toString = function toString(){

          return source.toString();
        };
        target.prototype = source.prototype;
        target.parse = source.parse;
        target.UTC = source.UTC;
        target.prototype.toUTCString = source.prototype.toUTCString;
        for(var prop in source){

          if(source.hasOwnProperty(prop)){

            target[prop] = source[prop];
          };
        };
        return target;
      };
      var methods = ["Date", "setTimeout", "setInterval", "clearTimeout", "clearInterval"];
      if(typeof global.setImmediate !== "undefined"){

        methods.push("setImmediate");
      };
      if(typeof global.clearImmediate !== "undefined"){

        methods.push("clearImmediate");
      };
      function restore(){

        var method;
        for(var i = 0,l = this.methods.length;i < l;i++){

          method = this.methods[i];
          if(global[method].hadOwnProperty){

            global[method] = this["_" + method];
          } else {

            try{

              delete global[method];
            } catch(e) {
            };
          };
        };
        this.methods = [];
      };
      function stubGlobal(method, clock){

        clock[method].hadOwnProperty = Object.prototype.hasOwnProperty.call(global, method);
        clock["_" + method] = global[method];
        if(method == "Date"){

          var date = mirrorDateProperties(clock[method], global[method]);
          global[method] = date;
        } else {

          global[method] = function(){

            return clock[method].apply(clock, arguments);
          };
          for(var prop in clock[method]){

            if(clock[method].hasOwnProperty(prop)){

              global[method][prop] = clock[method][prop];
            };
          };
        };
        global[method].clock = clock;
      };
      sinon.useFakeTimers = function useFakeTimers(now){

        var clock = sinon.clock.create(now);
        clock.restore = restore;
        clock.methods = Array.prototype.slice.call(arguments, typeof now == "number" ? 1 : 0);
        if(clock.methods.length === 0){

          clock.methods = methods;
        };
        for(var i = 0,l = clock.methods.length;i < l;i++){

          stubGlobal(clock.methods[i], clock);
        };
        return clock;
      };
    }(typeof global != "undefined" && typeof global !== "function" ? global : this));
    sinon.timers = {
      setTimeout : setTimeout,
      clearTimeout : clearTimeout,
      setImmediate : (typeof setImmediate !== "undefined" ? setImmediate : undefined),
      clearImmediate : (typeof clearImmediate !== "undefined" ? clearImmediate : undefined),
      setInterval : setInterval,
      clearInterval : clearInterval,
      Date : Date
    };
    if(typeof module !== 'undefined' && module.exports){

      module.exports = sinon;
    };
    if(typeof sinon == "undefined"){

      this.sinon = {
      };
    };
    (function(){

      var push = [].push;
      sinon.Event = function Event(type, bubbles, cancelable, target){

        this.initEvent(type, bubbles, cancelable, target);
      };
      sinon.Event.prototype = {
        initEvent : function(type, bubbles, cancelable, target){

          this.type = type;
          this.bubbles = bubbles;
          this.cancelable = cancelable;
          this.target = target;
        },
        stopPropagation : function(){
        },
        preventDefault : function(){

          this.defaultPrevented = true;
        }
      };
      sinon.ProgressEvent = function ProgressEvent(type, progressEventRaw, target){

        this.initEvent(type, false, false, target);
        this.loaded = progressEventRaw.loaded || null;
        this.total = progressEventRaw.total || null;
      };
      sinon.ProgressEvent.prototype = new sinon.Event();
      sinon.ProgressEvent.prototype.constructor = sinon.ProgressEvent;
      sinon.CustomEvent = function CustomEvent(type, customData, target){

        this.initEvent(type, false, false, target);
        this.detail = customData.detail || null;
      };
      sinon.CustomEvent.prototype = new sinon.Event();
      sinon.CustomEvent.prototype.constructor = sinon.CustomEvent;
      sinon.EventTarget = {
        addEventListener : function addEventListener(event, listener){

          this.eventListeners = this.eventListeners || {
          };
          this.eventListeners[event] = this.eventListeners[event] || [];
          push.call(this.eventListeners[event], listener);
        },
        removeEventListener : function removeEventListener(event, listener){

          var listeners = this.eventListeners && this.eventListeners[event] || [];
          for(var i = 0,l = listeners.length;i < l;++i){

            if(listeners[i] == listener){

              return listeners.splice(i, 1);
            };
          };
        },
        dispatchEvent : function dispatchEvent(event){

          var type = event.type;
          var listeners = this.eventListeners && this.eventListeners[type] || [];
          for(var i = 0;i < listeners.length;i++){

            if(typeof listeners[i] == "function"){

              listeners[i].call(this, event);
            } else {

              listeners[i].handleEvent(event);
            };
          };
          return !!event.defaultPrevented;
        }
      };
    }());
    (function(global){

      if(typeof sinon === "undefined"){

        global.sinon = {
        };
      };
      var supportsProgress = typeof ProgressEvent !== "undefined";
      var supportsCustomEvent = typeof CustomEvent !== "undefined";
      sinon.xhr = {
        XMLHttpRequest : global.XMLHttpRequest
      };
      var xhr = sinon.xhr;
      xhr.GlobalXMLHttpRequest = global.XMLHttpRequest;
      xhr.GlobalActiveXObject = global.ActiveXObject;
      xhr.supportsActiveX = typeof xhr.GlobalActiveXObject != "undefined";
      xhr.supportsXHR = typeof xhr.GlobalXMLHttpRequest != "undefined";
      xhr.workingXHR = xhr.supportsXHR ? xhr.GlobalXMLHttpRequest : xhr.supportsActiveX ? function(){

        return new xhr.GlobalActiveXObject("MSXML2.XMLHTTP.3.0");
      } : false;
      xhr.supportsCORS = 'withCredentials' in (new sinon.xhr.GlobalXMLHttpRequest());
      var unsafeHeaders = {
        "Accept-Charset" : true,
        "Accept-Encoding" : true,
        "Connection" : true,
        "Content-Length" : true,
        "Cookie" : true,
        "Cookie2" : true,
        "Content-Transfer-Encoding" : true,
        "Date" : true,
        "Expect" : true,
        "Host" : true,
        "Keep-Alive" : true,
        "Referer" : true,
        "TE" : true,
        "Trailer" : true,
        "Transfer-Encoding" : true,
        "Upgrade" : true,
        "User-Agent" : true,
        "Via" : true
      };
      function FakeXMLHttpRequest(){

        this.readyState = FakeXMLHttpRequest.UNSENT;
        this.requestHeaders = {
        };
        this.requestBody = null;
        this.status = 0;
        this.statusText = "";
        this.upload = new UploadProgress();
        if(sinon.xhr.supportsCORS){

          this.withCredentials = false;
        };
        var xhr = this;
        var events = ["loadstart", "load", "abort", "loadend"];
        function addEventListener(eventName){

          xhr.addEventListener(eventName, function(event){

            var listener = xhr["on" + eventName];
            if(listener && typeof listener == "function"){

              listener.call(this, event);
            };
          });
        };
        for(var i = events.length - 1;i >= 0;i--){

          addEventListener(events[i]);
        };
        if(typeof FakeXMLHttpRequest.onCreate == "function"){

          FakeXMLHttpRequest.onCreate(this);
        };
      };
      function UploadProgress(){

        this.eventListeners = {
          "progress" : [],
          "load" : [],
          "abort" : [],
          "error" : []
        };
      };
      UploadProgress.prototype.addEventListener = function(event, listener){

        this.eventListeners[event].push(listener);
      };
      UploadProgress.prototype.removeEventListener = function(event, listener){

        var listeners = this.eventListeners[event] || [];
        for(var i = 0,l = listeners.length;i < l;++i){

          if(listeners[i] == listener){

            return listeners.splice(i, 1);
          };
        };
      };
      UploadProgress.prototype.dispatchEvent = function(event){

        var listeners = this.eventListeners[event.type] || [];
        for(var i = 0,listener;(listener = listeners[i]) != null;i++){

          listener(event);
        };
      };
      function verifyState(xhr){

        if(xhr.readyState !== FakeXMLHttpRequest.OPENED){

          throw new Error("INVALID_STATE_ERR");
        };
        if(xhr.sendFlag){

          throw new Error("INVALID_STATE_ERR");
        };
      };
      function each(collection, callback){

        if(!collection)return;
        for(var i = 0,l = collection.length;i < l;i += 1){

          callback(collection[i]);
        };
      };
      function some(collection, callback){

        for(var index = 0;index < collection.length;index++){

          if(callback(collection[index]) === true)return true;
        };
        return false;
      };
      var apply = function(obj, method, args){

        switch(args.length){case 0:
        return obj[method]();case 1:
        return obj[method](args[0]);case 2:
        return obj[method](args[0], args[1]);case 3:
        return obj[method](args[0], args[1], args[2]);case 4:
        return obj[method](args[0], args[1], args[2], args[3]);case 5:
        return obj[method](args[0], args[1], args[2], args[3], args[4]);};
      };
      FakeXMLHttpRequest.filters = [];
      FakeXMLHttpRequest.addFilter = function(fn){

        this.filters.push(fn);
      };
      var IE6Re = /MSIE 6/;
      FakeXMLHttpRequest.defake = function(fakeXhr, xhrArgs){

        var xhr = new sinon.xhr.workingXHR();
        each(["open", "setRequestHeader", "send", "abort", "getResponseHeader", "getAllResponseHeaders", "addEventListener", "overrideMimeType", "removeEventListener"], function(method){

          fakeXhr[method] = function(){

            return apply(xhr, method, arguments);
          };
        });
        var copyAttrs = function(args){

          each(args, function(attr){

            try{

              fakeXhr[attr] = xhr[attr];
            } catch(e) {

              if(!IE6Re.test(navigator.userAgent))throw e;
            };
          });
        };
        var stateChange = function(){

          fakeXhr.readyState = xhr.readyState;
          if(xhr.readyState >= FakeXMLHttpRequest.HEADERS_RECEIVED){

            copyAttrs(["status", "statusText"]);
          };
          if(xhr.readyState >= FakeXMLHttpRequest.LOADING){

            copyAttrs(["responseText"]);
          };
          if(xhr.readyState === FakeXMLHttpRequest.DONE){

            copyAttrs(["responseXML"]);
          };
          if(fakeXhr.onreadystatechange)fakeXhr.onreadystatechange.call(fakeXhr, {
            target : fakeXhr
          });
        };
        if(xhr.addEventListener){

          for(var event in fakeXhr.eventListeners){

            if(fakeXhr.eventListeners.hasOwnProperty(event)){

              each(fakeXhr.eventListeners[event], function(handler){

                xhr.addEventListener(event, handler);
              });
            };
          };
          xhr.addEventListener("readystatechange", stateChange);
        } else {

          xhr.onreadystatechange = stateChange;
        };
        apply(xhr, "open", xhrArgs);
      };
      FakeXMLHttpRequest.useFilters = false;
      function verifyRequestOpened(xhr){

        if(xhr.readyState != FakeXMLHttpRequest.OPENED){

          throw new Error("INVALID_STATE_ERR - " + xhr.readyState);
        };
      };
      function verifyRequestSent(xhr){

        if(xhr.readyState == FakeXMLHttpRequest.DONE){

          throw new Error("Request done");
        };
      };
      function verifyHeadersReceived(xhr){

        if(xhr.async && xhr.readyState != FakeXMLHttpRequest.HEADERS_RECEIVED){

          throw new Error("No headers received");
        };
      };
      function verifyResponseBodyType(body){

        if(typeof body != "string"){

          var error = new Error("Attempted to respond to fake XMLHttpRequest with " + body + ", which is not a string.");
          error.name = "InvalidBodyException";
          throw error;
        };
      };
      sinon.extend(FakeXMLHttpRequest.prototype, sinon.EventTarget, {
        async : true,
        open : function open(method, url, async, username, password){

          this.method = method;
          this.url = url;
          this.async = typeof async == "boolean" ? async : true;
          this.username = username;
          this.password = password;
          this.responseText = null;
          this.responseXML = null;
          this.requestHeaders = {
          };
          this.sendFlag = false;
          if(sinon.FakeXMLHttpRequest.useFilters === true){

            var xhrArgs = arguments;
            var defake = some(FakeXMLHttpRequest.filters, function(filter){

              return filter.apply(this, xhrArgs);
            });
            if(defake){

              return sinon.FakeXMLHttpRequest.defake(this, arguments);
            };
          };
          this.readyStateChange(FakeXMLHttpRequest.OPENED);
        },
        readyStateChange : function readyStateChange(state){

          this.readyState = state;
          if(typeof this.onreadystatechange == "function"){

            try{

              this.onreadystatechange();
            } catch(e) {

              sinon.logError("Fake XHR onreadystatechange handler", e);
            };
          };
          this.dispatchEvent(new sinon.Event("readystatechange"));
          switch(this.readyState){case FakeXMLHttpRequest.DONE:
          this.dispatchEvent(new sinon.Event("load", false, false, this));
          this.dispatchEvent(new sinon.Event("loadend", false, false, this));
          this.upload.dispatchEvent(new sinon.Event("load", false, false, this));
          if(supportsProgress){

            this.upload.dispatchEvent(new sinon.ProgressEvent('progress', {
              loaded : 100,
              total : 100
            }));
          };
          break;};
        },
        setRequestHeader : function setRequestHeader(header, value){

          verifyState(this);
          if(unsafeHeaders[header] || /^(Sec-|Proxy-)/.test(header)){

            throw new Error("Refused to set unsafe header \"" + header + "\"");
          };
          if(this.requestHeaders[header]){

            this.requestHeaders[header] += "," + value;
          } else {

            this.requestHeaders[header] = value;
          };
        },
        setResponseHeaders : function setResponseHeaders(headers){

          verifyRequestOpened(this);
          this.responseHeaders = {
          };
          for(var header in headers){

            if(headers.hasOwnProperty(header)){

              this.responseHeaders[header] = headers[header];
            };
          };
          if(this.async){

            this.readyStateChange(FakeXMLHttpRequest.HEADERS_RECEIVED);
          } else {

            this.readyState = FakeXMLHttpRequest.HEADERS_RECEIVED;
          };
        },
        send : function send(data){

          verifyState(this);
          if(!/^(get|head)$/i.test(this.method)){

            if(this.requestHeaders["Content-Type"]){

              var value = this.requestHeaders["Content-Type"].split(";");
              this.requestHeaders["Content-Type"] = value[0] + ";charset=utf-8";
            } else {

              this.requestHeaders["Content-Type"] = "text/plain;charset=utf-8";
            };
            this.requestBody = data;
          };
          this.errorFlag = false;
          this.sendFlag = this.async;
          this.readyStateChange(FakeXMLHttpRequest.OPENED);
          if(typeof this.onSend == "function"){

            this.onSend(this);
          };
          this.dispatchEvent(new sinon.Event("loadstart", false, false, this));
        },
        abort : function abort(){

          this.aborted = true;
          this.responseText = null;
          this.errorFlag = true;
          this.requestHeaders = {
          };
          if(this.readyState > sinon.FakeXMLHttpRequest.UNSENT && this.sendFlag){

            this.readyStateChange(sinon.FakeXMLHttpRequest.DONE);
            this.sendFlag = false;
          };
          this.readyState = sinon.FakeXMLHttpRequest.UNSENT;
          this.dispatchEvent(new sinon.Event("abort", false, false, this));
          this.upload.dispatchEvent(new sinon.Event("abort", false, false, this));
          if(typeof this.onerror === "function"){

            this.onerror();
          };
        },
        getResponseHeader : function getResponseHeader(header){

          if(this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED){

            return null;
          };
          if(/^Set-Cookie2?$/i.test(header)){

            return null;
          };
          header = header.toLowerCase();
          for(var h in this.responseHeaders){

            if(h.toLowerCase() == header){

              return this.responseHeaders[h];
            };
          };
          return null;
        },
        getAllResponseHeaders : function getAllResponseHeaders(){

          if(this.readyState < FakeXMLHttpRequest.HEADERS_RECEIVED){

            return "";
          };
          var headers = "";
          for(var header in this.responseHeaders){

            if(this.responseHeaders.hasOwnProperty(header) && !/^Set-Cookie2?$/i.test(header)){

              headers += header + ": " + this.responseHeaders[header] + "\r\n";
            };
          };
          return headers;
        },
        setResponseBody : function setResponseBody(body){

          verifyRequestSent(this);
          verifyHeadersReceived(this);
          verifyResponseBodyType(body);
          var chunkSize = this.chunkSize || 10;
          var index = 0;
          this.responseText = "";
          do {

            if(this.async){

              this.readyStateChange(FakeXMLHttpRequest.LOADING);
            };
            this.responseText += body.substring(index, index + chunkSize);
            index += chunkSize;
          }while((index < body.length));
          var type = this.getResponseHeader("Content-Type");
          if(this.responseText && (!type || /(text\/xml)|(application\/xml)|(\+xml)/.test(type))){

            try{

              this.responseXML = FakeXMLHttpRequest.parseXML(this.responseText);
            } catch(e) {
            };
          };
          if(this.async){

            this.readyStateChange(FakeXMLHttpRequest.DONE);
          } else {

            this.readyState = FakeXMLHttpRequest.DONE;
          };
        },
        respond : function respond(status, headers, body){

          this.status = typeof status == "number" ? status : 200;
          this.statusText = FakeXMLHttpRequest.statusCodes[this.status];
          this.setResponseHeaders(headers || {
          });
          this.setResponseBody(body || "");
        },
        uploadProgress : function uploadProgress(progressEventRaw){

          if(supportsProgress){

            this.upload.dispatchEvent(new sinon.ProgressEvent("progress", progressEventRaw));
          };
        },
        uploadError : function uploadError(error){

          if(supportsCustomEvent){

            this.upload.dispatchEvent(new sinon.CustomEvent("error", {
              "detail" : error
            }));
          };
        }
      });
      sinon.extend(FakeXMLHttpRequest, {
        UNSENT : 0,
        OPENED : 1,
        HEADERS_RECEIVED : 2,
        LOADING : 3,
        DONE : 4
      });
      FakeXMLHttpRequest.parseXML = function parseXML(text){

        var xmlDoc;
        if(typeof DOMParser != "undefined"){

          var parser = new DOMParser();
          xmlDoc = parser.parseFromString(text, "text/xml");
        } else {

          xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
          xmlDoc.async = "false";
          xmlDoc.loadXML(text);
        };
        return xmlDoc;
      };
      FakeXMLHttpRequest.statusCodes = {
        '100' : "Continue",
        '101' : "Switching Protocols",
        '200' : "OK",
        '201' : "Created",
        '202' : "Accepted",
        '203' : "Non-Authoritative Information",
        '204' : "No Content",
        '205' : "Reset Content",
        '206' : "Partial Content",
        '300' : "Multiple Choice",
        '301' : "Moved Permanently",
        '302' : "Found",
        '303' : "See Other",
        '304' : "Not Modified",
        '305' : "Use Proxy",
        '307' : "Temporary Redirect",
        '400' : "Bad Request",
        '401' : "Unauthorized",
        '402' : "Payment Required",
        '403' : "Forbidden",
        '404' : "Not Found",
        '405' : "Method Not Allowed",
        '406' : "Not Acceptable",
        '407' : "Proxy Authentication Required",
        '408' : "Request Timeout",
        '409' : "Conflict",
        '410' : "Gone",
        '411' : "Length Required",
        '412' : "Precondition Failed",
        '413' : "Request Entity Too Large",
        '414' : "Request-URI Too Long",
        '415' : "Unsupported Media Type",
        '416' : "Requested Range Not Satisfiable",
        '417' : "Expectation Failed",
        '422' : "Unprocessable Entity",
        '500' : "Internal Server Error",
        '501' : "Not Implemented",
        '502' : "Bad Gateway",
        '503' : "Service Unavailable",
        '504' : "Gateway Timeout",
        '505' : "HTTP Version Not Supported"
      };
      sinon.useFakeXMLHttpRequest = function(){

        sinon.FakeXMLHttpRequest.restore = function restore(keepOnCreate){

          if(xhr.supportsXHR){

            global.XMLHttpRequest = xhr.GlobalXMLHttpRequest;
          };
          if(xhr.supportsActiveX){

            global.ActiveXObject = xhr.GlobalActiveXObject;
          };
          delete sinon.FakeXMLHttpRequest.restore;
          if(keepOnCreate !== true){

            delete sinon.FakeXMLHttpRequest.onCreate;
          };
        };
        if(xhr.supportsXHR){

          global.XMLHttpRequest = sinon.FakeXMLHttpRequest;
        };
        if(xhr.supportsActiveX){

          global.ActiveXObject = function ActiveXObject(objId){

            if(objId == "Microsoft.XMLHTTP" || /^Msxml2\.XMLHTTP/i.test(objId)){

              return new sinon.FakeXMLHttpRequest();
            };
            return new xhr.GlobalActiveXObject(objId);
          };
        };
        return sinon.FakeXMLHttpRequest;
      };
      sinon.FakeXMLHttpRequest = FakeXMLHttpRequest;
    })(typeof global === "object" ? global : this);
    if(typeof module !== 'undefined' && module.exports){

      module.exports = sinon;
    };
    if(typeof sinon == "undefined"){

      var sinon = {
      };
    };
    sinon.fakeServer = (function(){

      var push = [].push;
      function F(){
      };
      function create(proto){

        F.prototype = proto;
        return new F();
      };
      function responseArray(handler){

        var response = handler;
        if(Object.prototype.toString.call(handler) != "[object Array]"){

          response = [200, {
          }, handler];
        };
        if(typeof response[2] != "string"){

          throw new TypeError("Fake server response body should be string, but was " + typeof response[2]);
        };
        return response;
      };
      var wloc = typeof window !== "undefined" ? window.location : {
      };
      var rCurrLoc = new RegExp("^" + wloc.protocol + "//" + wloc.host);
      function matchOne(response, reqMethod, reqUrl){

        var rmeth = response.method;
        var matchMethod = !rmeth || rmeth.toLowerCase() == reqMethod.toLowerCase();
        var url = response.url;
        var matchUrl = !url || url == reqUrl || (typeof url.test == "function" && url.test(reqUrl));
        return matchMethod && matchUrl;
      };
      function match(response, request){

        var requestUrl = request.url;
        if(!/^https?:\/\//.test(requestUrl) || rCurrLoc.test(requestUrl)){

          requestUrl = requestUrl.replace(rCurrLoc, "");
        };
        if(matchOne(response, this.getHTTPMethod(request), requestUrl)){

          if(typeof response.response == "function"){

            var ru = response.url;
            var args = [request].concat(ru && typeof ru.exec == "function" ? ru.exec(requestUrl).slice(1) : []);
            return response.response.apply(response, args);
          };
          return true;
        };
        return false;
      };
      function log(response, request){

        var str;
        str = "Request:\n" + sinon.format(request) + "\n\n";
        str += "Response:\n" + sinon.format(response) + "\n\n";
        sinon.log(str);
      };
      return {
        create : function(){

          var server = create(this);
          this.xhr = sinon.useFakeXMLHttpRequest();
          server.requests = [];
          this.xhr.onCreate = function(xhrObj){

            server.addRequest(xhrObj);
          };
          return server;
        },
        addRequest : function addRequest(xhrObj){

          var server = this;
          push.call(this.requests, xhrObj);
          xhrObj.onSend = function(){

            server.handleRequest(this);
            if(server.autoRespond && !server.responding){

              setTimeout(function(){

                server.responding = false;
                server.respond();
              }, server.autoRespondAfter || 10);
              server.responding = true;
            };
          };
        },
        getHTTPMethod : function getHTTPMethod(request){

          if(this.fakeHTTPMethods && /post/i.test(request.method)){

            var matches = (request.requestBody || "").match(/_method=([^\b;]+)/);
            return !!matches ? matches[1] : request.method;
          };
          return request.method;
        },
        handleRequest : function handleRequest(xhr){

          if(xhr.async){

            if(!this.queue){

              this.queue = [];
            };
            push.call(this.queue, xhr);
          } else {

            this.processRequest(xhr);
          };
        },
        respondWith : function respondWith(method, url, body){

          if(arguments.length == 1 && typeof method != "function"){

            this.response = responseArray(method);
            return;
          };
          if(!this.responses){

            this.responses = [];
          };
          if(arguments.length == 1){

            body = method;
            url = method = null;
          };
          if(arguments.length == 2){

            body = url;
            url = method;
            method = null;
          };
          push.call(this.responses, {
            method : method,
            url : url,
            response : typeof body == "function" ? body : responseArray(body)
          });
        },
        respond : function respond(){

          if(arguments.length > 0)this.respondWith.apply(this, arguments);
          var queue = this.queue || [];
          var requests = queue.splice(0, queue.length);
          var request;
          while(request = requests.shift()){

            this.processRequest(request);
          };
        },
        processRequest : function processRequest(request){

          try{

            if(request.aborted){

              return;
            };
            var response = this.response || [404, {
            }, ""];
            if(this.responses){

              for(var l = this.responses.length,i = l - 1;i >= 0;i--){

                if(match.call(this, this.responses[i], request)){

                  response = this.responses[i].response;
                  break;
                };
              };
            };
            if(request.readyState != 4){

              log(response, request);
              request.respond(response[0], response[1], response[2]);
            };
          } catch(e) {

            sinon.logError("Fake server request processing", e);
          };
        },
        restore : function restore(){

          return this.xhr.restore && this.xhr.restore.apply(this.xhr, arguments);
        }
      };
    }());
    if(typeof module !== 'undefined' && module.exports){

      module.exports = sinon;
    };
    (function(){

      function Server(){
      };
      Server.prototype = sinon.fakeServer;
      sinon.fakeServerWithClock = new Server();
      sinon.fakeServerWithClock.addRequest = function addRequest(xhr){

        if(xhr.async){

          if(typeof setTimeout.clock == "object"){

            this.clock = setTimeout.clock;
          } else {

            this.clock = sinon.useFakeTimers();
            this.resetClock = true;
          };
          if(!this.longestTimeout){

            var clockSetTimeout = this.clock.setTimeout;
            var clockSetInterval = this.clock.setInterval;
            var server = this;
            this.clock.setTimeout = function(fn, timeout){

              server.longestTimeout = Math.max(timeout, server.longestTimeout || 0);
              return clockSetTimeout.apply(this, arguments);
            };
            this.clock.setInterval = function(fn, timeout){

              server.longestTimeout = Math.max(timeout, server.longestTimeout || 0);
              return clockSetInterval.apply(this, arguments);
            };
          };
        };
        return sinon.fakeServer.addRequest.call(this, xhr);
      };
      sinon.fakeServerWithClock.respond = function respond(){

        var returnVal = sinon.fakeServer.respond.apply(this, arguments);
        if(this.clock){

          this.clock.tick(this.longestTimeout || 0);
          this.longestTimeout = 0;
          if(this.resetClock){

            this.clock.restore();
            this.resetClock = false;
          };
        };
        return returnVal;
      };
      sinon.fakeServerWithClock.restore = function restore(){

        if(this.clock){

          this.clock.restore();
        };
        return sinon.fakeServer.restore.apply(this, arguments);
      };
    }());
    if(typeof module !== 'undefined' && module.exports){

      var sinon = require("../sinon");
      sinon.extend(sinon, require("./util/fake_timers"));
    };
    (function(){

      var push = [].push;
      function exposeValue(sandbox, config, key, value){

        if(!value){

          return;
        };
        if(config.injectInto && !(key in config.injectInto)){

          config.injectInto[key] = value;
          sandbox.injectedKeys.push(key);
        } else {

          push.call(sandbox.args, value);
        };
      };
      function prepareSandboxFromConfig(config){

        var sandbox = sinon.create(sinon.sandbox);
        if(config.useFakeServer){

          if(typeof config.useFakeServer == "object"){

            sandbox.serverPrototype = config.useFakeServer;
          };
          sandbox.useFakeServer();
        };
        if(config.useFakeTimers){

          if(typeof config.useFakeTimers == "object"){

            sandbox.useFakeTimers.apply(sandbox, config.useFakeTimers);
          } else {

            sandbox.useFakeTimers();
          };
        };
        return sandbox;
      };
      sinon.sandbox = sinon.extend(sinon.create(sinon.collection), {
        useFakeTimers : function useFakeTimers(){

          this.clock = sinon.useFakeTimers.apply(sinon, arguments);
          return this.add(this.clock);
        },
        serverPrototype : sinon.fakeServer,
        useFakeServer : function useFakeServer(){

          var proto = this.serverPrototype || sinon.fakeServer;
          if(!proto || !proto.create){

            return null;
          };
          this.server = proto.create();
          return this.add(this.server);
        },
        inject : function(obj){

          sinon.collection.inject.call(this, obj);
          if(this.clock){

            obj.clock = this.clock;
          };
          if(this.server){

            obj.server = this.server;
            obj.requests = this.server.requests;
          };
          return obj;
        },
        restore : function(){

          sinon.collection.restore.apply(this, arguments);
          this.restoreContext();
        },
        restoreContext : function(){

          if(this.injectedKeys){

            for(var i = 0,j = this.injectedKeys.length;i < j;i++){

              delete this.injectInto[this.injectedKeys[i]];
            };
            this.injectedKeys = [];
          };
        },
        create : function(config){

          if(!config){

            return sinon.create(sinon.sandbox);
          };
          var sandbox = prepareSandboxFromConfig(config);
          sandbox.args = sandbox.args || [];
          sandbox.injectedKeys = [];
          sandbox.injectInto = config.injectInto;
          var prop,value,exposed = sandbox.inject({
          });
          if(config.properties){

            for(var i = 0,l = config.properties.length;i < l;i++){

              prop = config.properties[i];
              value = exposed[prop] || prop == "sandbox" && sandbox;
              exposeValue(sandbox, config, prop, value);
            };
          } else {

            exposeValue(sandbox, config, "sandbox", value);
          };
          return sandbox;
        }
      });
      sinon.sandbox.useFakeXMLHttpRequest = sinon.sandbox.useFakeServer;
      if(typeof module !== 'undefined' && module.exports){

        module.exports = sinon.sandbox;
      };
    }());
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function test(callback){

        var type = typeof callback;
        if(type != "function"){

          throw new TypeError("sinon.test needs to wrap a test function, got " + type);
        };
        return function(){

          var config = sinon.getConfig(sinon.config);
          config.injectInto = config.injectIntoThis && this || config.injectInto;
          var sandbox = sinon.sandbox.create(config);
          var exception,result;
          var args = Array.prototype.slice.call(arguments).concat(sandbox.args);
          try{

            result = callback.apply(this, args);
          } catch(e) {

            exception = e;
          };
          if(typeof exception !== "undefined"){

            sandbox.restore();
            throw exception;
          } else {

            sandbox.verifyAndRestore();
          };
          return result;
        };
      };
      test.config = {
        injectIntoThis : true,
        injectInto : null,
        properties : ["spy", "stub", "mock", "clock", "server", "requests"],
        useFakeTimers : true,
        useFakeServer : true
      };
      if(commonJSModule){

        module.exports = test;
      } else {

        sinon.test = test;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon){

      var commonJSModule = typeof module !== 'undefined' && module.exports;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon || !Object.prototype.hasOwnProperty){

        return;
      };
      function createTest(property, setUp, tearDown){

        return function(){

          if(setUp){

            setUp.apply(this, arguments);
          };
          var exception,result;
          try{

            result = property.apply(this, arguments);
          } catch(e) {

            exception = e;
          };
          if(tearDown){

            tearDown.apply(this, arguments);
          };
          if(exception){

            throw exception;
          };
          return result;
        };
      };
      function testCase(tests, prefix){

        if(!tests || typeof tests != "object"){

          throw new TypeError("sinon.testCase needs an object with test functions");
        };
        prefix = prefix || "test";
        var rPrefix = new RegExp("^" + prefix);
        var methods = {
        },testName,property,method;
        var setUp = tests.setUp;
        var tearDown = tests.tearDown;
        for(testName in tests){

          if(tests.hasOwnProperty(testName)){

            property = tests[testName];
            if(/^(setUp|tearDown)$/.test(testName)){

              continue;
            };
            if(typeof property == "function" && rPrefix.test(testName)){

              method = property;
              if(setUp || tearDown){

                method = createTest(property, setUp, tearDown);
              };
              methods[testName] = sinon.test(method);
            } else {

              methods[testName] = tests[testName];
            };
          };
        };
        return methods;
      };
      if(commonJSModule){

        module.exports = testCase;
      } else {

        sinon.testCase = testCase;
      };
    }(typeof sinon == "object" && sinon || null));
    (function(sinon, global){

      var commonJSModule = typeof module !== "undefined" && module.exports;
      var slice = Array.prototype.slice;
      var assert;
      if(!sinon && commonJSModule){

        sinon = require("../sinon");
      };
      if(!sinon){

        return;
      };
      function verifyIsStub(){

        var method;
        for(var i = 0,l = arguments.length;i < l;++i){

          method = arguments[i];
          if(!method){

            assert.fail("fake is not a spy");
          };
          if(typeof method != "function"){

            assert.fail(method + " is not a function");
          };
          if(typeof method.getCall != "function"){

            assert.fail(method + " is not stubbed");
          };
        };
      };
      function failAssertion(object, msg){

        object = object || global;
        var failMethod = object.fail || assert.fail;
        failMethod.call(object, msg);
      };
      function mirrorPropAsAssertion(name, method, message){

        if(arguments.length == 2){

          message = method;
          method = name;
        };
        assert[name] = function(fake){

          verifyIsStub(fake);
          var args = slice.call(arguments, 1);
          var failed = false;
          if(typeof method == "function"){

            failed = !method(fake);
          } else {

            failed = typeof fake[method] == "function" ? !fake[method].apply(fake, args) : !fake[method];
          };
          if(failed){

            failAssertion(this, fake.printf.apply(fake, [message].concat(args)));
          } else {

            assert.pass(name);
          };
        };
      };
      function exposedName(prefix, prop){

        return !prefix || /^fail/.test(prop) ? prop : prefix + prop.slice(0, 1).toUpperCase() + prop.slice(1);
      };
      assert = {
        failException : "AssertError",
        fail : function fail(message){

          var error = new Error(message);
          error.name = this.failException || assert.failException;
          throw error;
        },
        pass : function pass(assertion){
        },
        callOrder : function assertCallOrder(){

          verifyIsStub.apply(null, arguments);
          var expected = "",actual = "";
          if(!sinon.calledInOrder(arguments)){

            try{

              expected = [].join.call(arguments, ", ");
              var calls = slice.call(arguments);
              var i = calls.length;
              while(i){

                if(!calls[--i].called){

                  calls.splice(i, 1);
                };
              };
              actual = sinon.orderByFirstCall(calls).join(", ");
            } catch(e) {
            };
            failAssertion(this, "expected " + expected + " to be " + "called in order but were called as " + actual);
          } else {

            assert.pass("callOrder");
          };
        },
        callCount : function assertCallCount(method, count){

          verifyIsStub(method);
          if(method.callCount != count){

            var msg = "expected %n to be called " + sinon.timesInWords(count) + " but was called %c%C";
            failAssertion(this, method.printf(msg));
          } else {

            assert.pass("callCount");
          };
        },
        expose : function expose(target, options){

          if(!target){

            throw new TypeError("target is null or undefined");
          };
          var o = options || {
          };
          var prefix = typeof o.prefix == "undefined" && "assert" || o.prefix;
          var includeFail = typeof o.includeFail == "undefined" || !!o.includeFail;
          for(var method in this){

            if(method != "export" && (includeFail || !/^(fail)/.test(method))){

              target[exposedName(prefix, method)] = this[method];
            };
          };
          return target;
        },
        match : function match(actual, expectation){

          var matcher = sinon.match(expectation);
          if(matcher.test(actual)){

            assert.pass("match");
          } else {

            var formatted = ["expected value to match", "    expected = " + sinon.format(expectation), "    actual = " + sinon.format(actual)];
            failAssertion(this, formatted.join("\n"));
          };
        }
      };
      mirrorPropAsAssertion("called", "expected %n to have been called at least once but was never called");
      mirrorPropAsAssertion("notCalled", function(spy){

        return !spy.called;
      }, "expected %n to not have been called but was called %c%C");
      mirrorPropAsAssertion("calledOnce", "expected %n to be called once but was called %c%C");
      mirrorPropAsAssertion("calledTwice", "expected %n to be called twice but was called %c%C");
      mirrorPropAsAssertion("calledThrice", "expected %n to be called thrice but was called %c%C");
      mirrorPropAsAssertion("calledOn", "expected %n to be called with %1 as this but was called with %t");
      mirrorPropAsAssertion("alwaysCalledOn", "expected %n to always be called with %1 as this but was called with %t");
      mirrorPropAsAssertion("calledWithNew", "expected %n to be called with new");
      mirrorPropAsAssertion("alwaysCalledWithNew", "expected %n to always be called with new");
      mirrorPropAsAssertion("calledWith", "expected %n to be called with arguments %*%C");
      mirrorPropAsAssertion("calledWithMatch", "expected %n to be called with match %*%C");
      mirrorPropAsAssertion("alwaysCalledWith", "expected %n to always be called with arguments %*%C");
      mirrorPropAsAssertion("alwaysCalledWithMatch", "expected %n to always be called with match %*%C");
      mirrorPropAsAssertion("calledWithExactly", "expected %n to be called with exact arguments %*%C");
      mirrorPropAsAssertion("alwaysCalledWithExactly", "expected %n to always be called with exact arguments %*%C");
      mirrorPropAsAssertion("neverCalledWith", "expected %n to never be called with arguments %*%C");
      mirrorPropAsAssertion("neverCalledWithMatch", "expected %n to never be called with match %*%C");
      mirrorPropAsAssertion("threw", "%n did not throw exception%C");
      mirrorPropAsAssertion("alwaysThrew", "%n did not always throw exception%C");
      if(commonJSModule){

        module.exports = assert;
      } else {

        sinon.assert = assert;
      };
    }(typeof sinon == "object" && sinon || null, typeof window != "undefined" ? window : (typeof self != "undefined") ? self : global));
    return sinon;
  }.call(typeof window != 'undefined' && window || {
  }));
  this.sinon.assert.fail = function(msg){

    this.fail(msg, true);
  };
  var origSinon = this.sinon;
  var Sinon = qx.dev.unit.Sinon;
  Sinon.getSinon = function(){

    return origSinon;
  };
}).call(this);

qx.Class.define("qx.ui.mobile.layout.CardAnimation", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this._cardAnimationsMap = {
      "slide" : {
        "in" : qx.util.Animation.SLIDE_LEFT_IN,
        "out" : qx.util.Animation.SLIDE_LEFT_OUT,
        "reverse" : {
          "in" : qx.util.Animation.SLIDE_RIGHT_IN,
          "out" : qx.util.Animation.SLIDE_RIGHT_OUT
        }
      },
      "fade" : {
        "in" : qx.util.Animation.FADE_IN,
        "out" : qx.util.Animation.FADE_OUT,
        "reverse" : {
          "in" : qx.util.Animation.FADE_IN,
          "out" : qx.util.Animation.FADE_OUT
        }
      },
      "pop" : {
        "in" : qx.util.Animation.POP_IN,
        "out" : qx.util.Animation.POP_OUT,
        "reverse" : {
          "in" : qx.util.Animation.POP_IN,
          "out" : qx.util.Animation.POP_OUT
        }
      },
      "slideup" : {
        "in" : qx.util.Animation.SLIDE_UP_IN,
        "out" : qx.util.Animation.SLIDE_UP_OUT,
        "reverse" : {
          "in" : qx.util.Animation.SLIDE_DOWN_IN,
          "out" : qx.util.Animation.SLIDE_DOWN_OUT
        }
      },
      "flip" : {
        "in" : qx.util.Animation.FLIP_LEFT_IN,
        "out" : qx.util.Animation.FLIP_LEFT_OUT,
        "reverse" : {
          "in" : qx.util.Animation.FLIP_RIGHT_IN,
          "out" : qx.util.Animation.FLIP_RIGHT_OUT
        }
      },
      "swap" : {
        "in" : qx.util.Animation.SWAP_LEFT_IN,
        "out" : qx.util.Animation.SWAP_LEFT_OUT,
        "reverse" : {
          "in" : qx.util.Animation.SWAP_RIGHT_IN,
          "out" : qx.util.Animation.SWAP_RIGHT_OUT
        }
      },
      "cube" : {
        "in" : qx.util.Animation.CUBE_LEFT_IN,
        "out" : qx.util.Animation.CUBE_LEFT_OUT,
        "reverse" : {
          "in" : qx.util.Animation.CUBE_RIGHT_IN,
          "out" : qx.util.Animation.CUBE_RIGHT_OUT
        }
      }
    };
  },
  members : {
    _cardAnimationsMap : null,
    getAnimation : function(animationName, direction, reverse){

      if(qx.core.Environment.get("qx.debug")){

        if(!reverse){

          this.assertNotUndefined(this._cardAnimationsMap[animationName], "Animation '" + animationName + "' is not defined.");
          this.assertNotUndefined(this._cardAnimationsMap[animationName][direction], "Animation '" + animationName + " " + direction + "' is not defined.");
        } else {

          this.assertNotUndefined(this._cardAnimationsMap[animationName], "Animation Reverse'" + animationName + "' is not defined.");
          this.assertNotUndefined(this._cardAnimationsMap[animationName]["reverse"], "Animation Reverse'" + animationName + "' is not defined.");
          this.assertNotUndefined(this._cardAnimationsMap[animationName]["reverse"][direction], "Animation Reverse'" + animationName + " " + direction + "' is not defined.");
        };
      };
      var animation = this._cardAnimationsMap[animationName];
      var animationObject = {
      };
      if(!reverse){

        animationObject = animation[direction];
      } else {

        animationObject = animation["reverse"][direction];
      };
      return animationObject;
    },
    getMap : function(){

      return this._cardAnimationsMap;
    }
  },
  destruct : function(){

    this._cardAnimationsMap = null;
  }
});

qx.Bootstrap.define("qx.util.Animation", {
  statics : {
    SLIDE_LEFT_IN : {
      duration : 350,
      timing : "linear",
      origin : "bottom center",
      keyFrames : {
        '0' : {
          translate : ["100%"]
        },
        '100' : {
          translate : ["0%"]
        }
      }
    },
    SLIDE_LEFT_OUT : {
      duration : 350,
      timing : "linear",
      origin : "bottom center",
      keyFrames : {
        '0' : {
          translate : ["0px"]
        },
        '100' : {
          translate : ["-100%"]
        }
      }
    },
    SLIDE_RIGHT_IN : {
      duration : 350,
      timing : "linear",
      origin : "bottom center",
      keyFrames : {
        '0' : {
          translate : ["-100%"]
        },
        '100' : {
          translate : ["0%"]
        }
      }
    },
    SLIDE_RIGHT_OUT : {
      duration : 350,
      timing : "linear",
      origin : "bottom center",
      keyFrames : {
        '0' : {
          translate : ["0px"]
        },
        '100' : {
          translate : ["100%"]
        }
      }
    },
    FADE_IN : {
      duration : 350,
      timing : "linear",
      origin : "bottom center",
      keyFrames : {
        '0' : {
          opacity : ["0"]
        },
        '100' : {
          opacity : ["1"]
        }
      }
    },
    FADE_OUT : {
      duration : 350,
      timing : "linear",
      origin : "bottom center",
      keyFrames : {
        '0' : {
          opacity : ["1"]
        },
        '100' : {
          opacity : ["0"]
        }
      }
    },
    POP_IN : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          scale : [".2", ".2"]
        },
        '100' : {
          scale : ["1", "1"]
        }
      }
    },
    POP_OUT : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          scale : ["1", "1"]
        },
        '100' : {
          scale : [".2", ".2"]
        }
      }
    },
    SHRINK_HEIGHT : {
      duration : 400,
      timing : "linear",
      origin : "top center",
      keep : 100,
      keyFrames : {
        '0' : {
          scale : ["1", "1"],
          opacity : 1
        },
        '100' : {
          scale : ["1", "0"],
          opacity : 0
        }
      }
    },
    GROW_HEIGHT : {
      duration : 400,
      timing : "linear",
      origin : "top center",
      keep : 100,
      keyFrames : {
        '0' : {
          scale : ["1", "0"],
          opacity : 0
        },
        '100' : {
          scale : ["1", "1"],
          opacity : 1
        }
      }
    },
    SHRINK_WIDTH : {
      duration : 400,
      timing : "linear",
      origin : "left center",
      keep : 100,
      keyFrames : {
        '0' : {
          scale : ["1", "1"],
          opacity : 1
        },
        '100' : {
          scale : ["0", "1"],
          opacity : 0
        }
      }
    },
    GROW_WIDTH : {
      duration : 400,
      timing : "linear",
      origin : "left center",
      keep : 100,
      keyFrames : {
        '0' : {
          scale : ["0", "1"],
          opacity : 0
        },
        '100' : {
          scale : ["1", "1"],
          opacity : 1
        }
      }
    },
    SHRINK : {
      duration : 400,
      timing : "linear",
      origin : "left top",
      keep : 100,
      keyFrames : {
        '0' : {
          scale : ["1", "1"],
          opacity : 1
        },
        '100' : {
          scale : ["0", "0"],
          opacity : 0
        }
      }
    },
    GROW : {
      duration : 400,
      timing : "linear",
      origin : "left top",
      keep : 100,
      keyFrames : {
        '0' : {
          scale : ["0", "0"],
          opacity : 0
        },
        '100' : {
          scale : ["1", "1"],
          opacity : 1
        }
      }
    },
    SLIDE_UP_IN : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          translate : ["0px", "100%"]
        },
        '100' : {
          translate : ["0px", "0px"]
        }
      }
    },
    SLIDE_UP_OUT : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          translate : ["0px", "0px"]
        },
        '100' : {
          translate : ["0px", "0px"]
        }
      }
    },
    SLIDE_DOWN_IN : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          translate : ["0px", "0px"]
        },
        '100' : {
          translate : ["0px", "0px"]
        }
      }
    },
    SLIDE_DOWN_OUT : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          translate : ["0px", "0px"]
        },
        '100' : {
          translate : ["0px", "100%"]
        }
      }
    },
    FLIP_LEFT_IN : {
      duration : 350,
      timing : "linear",
      origin : "center",
      keyFrames : {
        '0' : {
          opacity : 0
        },
        '49' : {
          opacity : 0
        },
        '50' : {
          rotate : ["0deg", "90deg"],
          scale : [".8", "1"],
          opacity : 1
        },
        '100' : {
          rotate : ["0deg", "0deg"],
          scale : ["1", "1"],
          opacity : 1
        }
      }
    },
    FLIP_LEFT_OUT : {
      duration : 350,
      timing : "linear",
      origin : "center center",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "0deg"],
          scale : ["1", "1"]
        },
        '100' : {
          rotate : ["0deg", "-180deg"],
          scale : [".8", "1"]
        }
      }
    },
    FLIP_RIGHT_IN : {
      duration : 350,
      timing : "linear",
      origin : "center center",
      keyFrames : {
        '0' : {
          opacity : 0
        },
        '49' : {
          opacity : 0
        },
        '50' : {
          rotate : ["0deg", "-90deg"],
          scale : [".8", "1"],
          opacity : 1
        },
        '100' : {
          rotate : ["0deg", "0deg"],
          scale : ["1", "1"],
          opacity : 1
        }
      }
    },
    FLIP_RIGHT_OUT : {
      duration : 350,
      timing : "linear",
      origin : "center center",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "0deg"],
          scale : ["1", "1"]
        },
        '100' : {
          rotate : ["0deg", "180deg"],
          scale : [".8", "1"]
        }
      }
    },
    SWAP_LEFT_IN : {
      duration : 700,
      timing : "ease-out",
      origin : "center center",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "-70deg"],
          translate : ["0px", "0px", "-800px"],
          opacity : "0"
        },
        '35' : {
          rotate : ["0deg", "-20deg"],
          translate : ["-180px", "0px", "-400px"],
          opacity : "1"
        },
        '100' : {
          rotate : ["0deg", "0deg"],
          translate : ["0px", "0px", "0px"],
          opacity : "1"
        }
      }
    },
    SWAP_LEFT_OUT : {
      duration : 700,
      timing : "ease-out",
      origin : "center center",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "0deg"],
          translate : ["0px", "0px", "0px"],
          opacity : "1"
        },
        '35' : {
          rotate : ["0deg", "20deg"],
          translate : ["-180px", "0px", "-400px"],
          opacity : ".5"
        },
        '100' : {
          rotate : ["0deg", "70deg"],
          translate : ["0px", "0px", "-800px"],
          opacity : "0"
        }
      }
    },
    SWAP_RIGHT_IN : {
      duration : 700,
      timing : "ease-out",
      origin : "center center",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "70deg"],
          translate : ["0px", "0px", "-800px"],
          opacity : "0"
        },
        '35' : {
          rotate : ["0deg", "20deg"],
          translate : ["-180px", "0px", "-400px"],
          opacity : "1"
        },
        '100' : {
          rotate : ["0deg", "0deg"],
          translate : ["0px", "0px", "0px"],
          opacity : "1"
        }
      }
    },
    SWAP_RIGHT_OUT : {
      duration : 700,
      timing : "ease-out",
      origin : "center center",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "0deg"],
          translate : ["0px", "0px", "0px"],
          opacity : "1"
        },
        '35' : {
          rotate : ["0deg", "-20deg"],
          translate : ["180px", "0px", "-400px"],
          opacity : ".5"
        },
        '100' : {
          rotate : ["0deg", "-70deg"],
          translate : ["0px", "0px", "-800px"],
          opacity : "0"
        }
      }
    },
    CUBE_LEFT_IN : {
      duration : 550,
      timing : "linear",
      origin : "100% 50%",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "90deg"],
          scale : ".5",
          translate : ["0", "0", "0px"],
          opacity : [".5"]
        },
        '100' : {
          rotate : ["0deg", "0deg"],
          scale : "1",
          translate : ["0", "0", "0"],
          opacity : ["1"]
        }
      }
    },
    CUBE_LEFT_OUT : {
      duration : 550,
      timing : "linear",
      origin : "0% 50%",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "0deg"],
          scale : "1",
          translate : ["0", "0", "0px"],
          opacity : ["1"]
        },
        '100' : {
          rotate : ["0deg", "-90deg"],
          scale : ".5",
          translate : ["0", "0", "0"],
          opacity : [".5"]
        }
      }
    },
    CUBE_RIGHT_IN : {
      duration : 550,
      timing : "linear",
      origin : "0% 50%",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "-90deg"],
          scale : ".5",
          translate : ["0", "0", "0px"],
          opacity : [".5"]
        },
        '100' : {
          rotate : ["0deg", "0deg"],
          scale : "1",
          translate : ["0", "0", "0"],
          opacity : ["1"]
        }
      }
    },
    CUBE_RIGHT_OUT : {
      duration : 550,
      timing : "linear",
      origin : "100% 50%",
      keyFrames : {
        '0' : {
          rotate : ["0deg", "0deg"],
          scale : "1",
          translate : ["0", "0", "0px"],
          opacity : ["1"]
        },
        '100' : {
          rotate : ["0deg", "90deg"],
          scale : ".5",
          translate : ["0", "0", "0"],
          opacity : [".5"]
        }
      }
    }
  }
});

qx.Class.define("qx.event.handler.ElementResize", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__manager = manager;
    this.__elements = {
    };
    this.__timer = new qx.event.Timer(200);
    this.__timer.addListener("interval", this._onInterval, this);
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      resize : true
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : false
  },
  members : {
    __elements : null,
    __manager : null,
    __timer : null,
    canHandleEvent : function(target, type){

      return target.tagName.toLowerCase() !== "body";
    },
    registerEvent : function(target, type, capture){

      var hash = qx.core.ObjectRegistry.toHashCode(target);
      var elements = this.__elements;
      if(!elements[hash]){

        elements[hash] = {
          element : target,
          width : qx.bom.element.Dimension.getWidth(target),
          height : qx.bom.element.Dimension.getHeight(target)
        };
        this.__timer.start();
      };
    },
    unregisterEvent : function(target, type, capture){

      var hash = qx.core.ObjectRegistry.toHashCode(target);
      var elements = this.__elements;
      if(elements[hash]){

        delete elements[hash];
        if(qx.lang.Object.isEmpty(elements)){

          this.__timer.stop();
        };
      };
    },
    _onInterval : function(e){

      var elements = this.__elements;
      for(var key in elements){

        var data = elements[key];
        var el = data.element;
        var width = qx.bom.element.Dimension.getWidth(el);
        var height = qx.bom.element.Dimension.getHeight(el);
        if(data.height !== height || data.width !== width){

          qx.event.Registration.fireNonBubblingEvent(el, "resize", qx.event.type.Data, [{
            width : width,
            oldWidth : data.width,
            height : height,
            oldHeight : data.height
          }]);
          data.width = width;
          data.height = height;
        };
      };
    }
  },
  destruct : function(){

    this.__manager = this.__elements = null;
    this._disposeObjects("__timer");
  },
  defer : function(statics){

    qx.event.Registration.addHandler(statics);
  }
});

qx.Class.define("qx.data.store.Offline", {
  extend : qx.core.Object,
  construct : function(key, storage, delegate){

    this.base(arguments);
    try{

      if(qx.core.Environment.get("qx.debug")){

        this.assertNotUndefined(key);
      };
    } catch(e) {

      this.dispose();
      throw e;
    };
    if(storage == "session"){

      this._storage = qx.bom.Storage.getSession();
    } else {

      this._storage = qx.bom.Storage.getLocal();
    };
    this._marshaler = new qx.data.marshal.Json(delegate);
    this._key = key;
    this._initializeModel();
  },
  properties : {
    model : {
      nullable : true,
      event : "changeModel",
      apply : "_applyModel"
    }
  },
  members : {
    _storage : null,
    __modelListenerId : null,
    _applyModel : function(value, old){

      if(old){

        old.removeListenerById(this.__modelListenerId);
        old.dispose();
        this.__modelListenerId = null;
      };
      if(value){

        this.__modelListenerId = value.addListener("changeBubble", this.__storeModel, this);
        this.__storeModel();
      } else {

        this._storage.removeItem(this._key);
      };
    },
    __storeModel : function(){

      var value = qx.util.Serializer.toNativeObject(this.getModel());
      this._storage.setItem(this._key, value);
    },
    _initializeModel : function(){

      this._setModel(this._storage.getItem(this._key));
    },
    _setModel : function(data){

      this._marshaler.toClass(data, true);
      if(this.getModel()){

        this.getModel().dispose();
      };
      var model = this._marshaler.toModel(data, true);
      if(model === undefined){

        model = null;
      };
      this.setModel(model);
    },
    getKey : function(){

      return this._key;
    }
  },
  destruct : function(){

    if(this.getModel()){

      this.getModel().dispose();
    };
    if(this._marshaler){

      this._marshaler.dispose();
    };
  }
});

qx.Bootstrap.define("qx.bom.Storage", {
  statics : {
    __impl : null,
    getLocal : function(){

      if(qx.core.Environment.get("html.storage.local")){

        return qx.bom.storage.Web.getLocal();
      } else if(qx.core.Environment.get("html.storage.userdata")){

        return qx.bom.storage.UserData.getLocal();
      };
      return qx.bom.storage.Memory.getLocal();
    },
    getSession : function(){

      if(qx.core.Environment.get("html.storage.local")){

        return qx.bom.storage.Web.getSession();
      } else if(qx.core.Environment.get("html.storage.userdata")){

        return qx.bom.storage.UserData.getSession();
      };
      return qx.bom.storage.Memory.getSession();
    }
  }
});

qx.Bootstrap.define("qx.bom.storage.Web", {
  statics : {
    __local : null,
    __session : null,
    getLocal : function(){

      if(this.__local){

        return this.__local;
      };
      return this.__local = new qx.bom.storage.Web("local");
    },
    getSession : function(){

      if(this.__session){

        return this.__session;
      };
      return this.__session = new qx.bom.storage.Web("session");
    }
  },
  construct : function(type){

    this.__type = type;
  },
  members : {
    __type : null,
    getStorage : function(){

      return window[this.__type + "Storage"];
    },
    getLength : function(){

      return this.getStorage(this.__type).length;
    },
    setItem : function(key, value){

      value = qx.lang.Json.stringify(value);
      try{

        this.getStorage(this.__type).setItem(key, value);
      } catch(e) {

        throw new Error("Storage full.");
      };
    },
    getItem : function(key){

      var item = this.getStorage(this.__type).getItem(key);
      if(qx.lang.Type.isString(item)){

        item = qx.lang.Json.parse(item);
      } else if(item && item.value && qx.lang.Type.isString(item.value)){

        item = qx.lang.Json.parse(item.value);
      };
      return item;
    },
    removeItem : function(key){

      this.getStorage(this.__type).removeItem(key);
    },
    clear : function(){

      var storage = this.getStorage(this.__type);
      if(!storage.clear){

        for(var i = storage.length - 1;i >= 0;i--){

          storage.removeItem(storage.key(i));
        };
      } else {

        storage.clear();
      };
    },
    getKey : function(index){

      return this.getStorage(this.__type).key(index);
    },
    forEach : function(callback, scope){

      var length = this.getLength();
      for(var i = 0;i < length;i++){

        var key = this.getKey(i);
        callback.call(scope, key, this.getItem(key));
      };
    }
  }
});

qx.Bootstrap.define("qx.bom.storage.UserData", {
  statics : {
    __local : null,
    __session : null,
    __id : 0,
    getLocal : function(){

      if(this.__local){

        return this.__local;
      };
      return this.__local = new qx.bom.storage.UserData("local");
    },
    getSession : function(){

      if(this.__session){

        return this.__session;
      };
      return this.__session = new qx.bom.storage.UserData("session");
    }
  },
  construct : function(storeName){

    this.__el = document.createElement("div");
    this.__el.style["display"] = "none";
    document.getElementsByTagName("head")[0].appendChild(this.__el);
    this.__el.addBehavior("#default#userdata");
    this.__storeName = storeName;
    this.__el.load(this.__storeName);
    this.__storage = {
    };
    this.__reference = {
    };
    var value = this.__el.getAttribute("qx" + qx.bom.storage.UserData.__id);
    while(value != undefined){

      value = qx.lang.Json.parse(value);
      this.__storage[value.key] = value.value;
      this.__reference[value.key] = "qx" + qx.bom.storage.UserData.__id;
      qx.bom.storage.UserData.__id++;
      value = this.__el.getAttribute("qx" + qx.bom.storage.UserData.__id);
    };
  },
  members : {
    __el : null,
    __storeName : "qxtest",
    __storage : null,
    __reference : null,
    getStorage : function(){

      return this.__storage;
    },
    getLength : function(){

      return Object.keys(this.__storage).length;
    },
    setItem : function(key, value){

      if(this.__reference[key]){

        var storageKey = this.__reference[key];
      } else {

        var storageKey = "qx" + qx.bom.storage.UserData.__id;
        qx.bom.storage.UserData.__id++;
      };
      var storageValue = qx.lang.Json.stringify({
        key : key,
        value : value
      });
      this.__el.setAttribute(storageKey, storageValue);
      this.__el.save(this.__storeName);
      this.__storage[key] = value;
      this.__reference[key] = storageKey;
    },
    getItem : function(key){

      return this.__storage[key] || null;
    },
    removeItem : function(key){

      var storageName = this.__reference[key];
      if(storageName == undefined){

        return;
      };
      this.__el.removeAttribute(storageName);
      qx.bom.storage.UserData.__id--;
      delete this.__storage[key];
      delete this.__reference[key];
      var lastStoreName = "qx" + qx.bom.storage.UserData.__id;
      if(this.__el.getAttribute(lastStoreName)){

        var lastItem = this.__el.getAttribute("qx" + qx.bom.storage.UserData.__id);
        this.__el.removeAttribute(lastStoreName);
        this.__el.setAttribute(storageName, lastItem);
        var lastKey = qx.lang.Json.parse(lastItem).key;
        this.__reference[lastKey] = storageName;
      };
      this.__el.save(this.__storeName);
    },
    clear : function(){

      for(var key in this.__reference){

        this.__el.removeAttribute(this.__reference[key]);
      };
      this.__el.save(this.__storeName);
      this.__storage = {
      };
      this.__reference = {
      };
    },
    getKey : function(index){

      return Object.keys(this.__storage)[index];
    },
    forEach : function(callback, scope){

      var length = this.getLength();
      for(var i = 0;i < length;i++){

        var key = this.getKey(i);
        callback.call(scope, key, this.getItem(key));
      };
    }
  }
});

qx.Bootstrap.define("qx.bom.storage.Memory", {
  statics : {
    __local : null,
    __session : null,
    getLocal : function(){

      if(this.__local){

        return this.__local;
      };
      return this.__local = new qx.bom.storage.Memory();
    },
    getSession : function(){

      if(this.__session){

        return this.__session;
      };
      return this.__session = new qx.bom.storage.Memory();
    }
  },
  construct : function(){

    this.__storage = {
    };
  },
  members : {
    __storage : null,
    getStorage : function(){

      return this.__storage;
    },
    getLength : function(){

      return Object.keys(this.__storage).length;
    },
    setItem : function(key, value){

      value = qx.lang.Json.stringify(value);
      this.__storage[key] = value;
    },
    getItem : function(key){

      var item = this.__storage[key];
      if(qx.lang.Type.isString(item)){

        item = qx.lang.Json.parse(item);
      };
      return item;
    },
    removeItem : function(key){

      delete this.__storage[key];
    },
    clear : function(){

      this.__storage = {
      };
    },
    getKey : function(index){

      var keys = Object.keys(this.__storage);
      return keys[index];
    },
    forEach : function(callback, scope){

      var length = this.getLength();
      for(var i = 0;i < length;i++){

        var key = this.getKey(i);
        callback.call(scope, key, this.getItem(key));
      };
    }
  }
});

qx.Class.define("qx.type.Array", {
  extend : qx.type.BaseArray,
  construct : function(length_or_items){

    qx.type.BaseArray.apply(this, arguments);
  },
  members : {
    clone : qx.type.BaseArray.prototype.concat,
    insertAt : function(obj, i){

      this.splice(i, 0, obj);
      return this;
    },
    insertBefore : function(obj, obj2){

      var i = this.indexOf(obj2);
      if(i == -1){

        this.push(obj);
      } else {

        this.splice(i, 0, obj);
      };
      return this;
    },
    insertAfter : function(obj, obj2){

      var i = this.indexOf(obj2);
      if(i == -1 || i == (this.length - 1)){

        this.push(obj);
      } else {

        this.splice(i + 1, 0, obj);
      };
      return this;
    },
    removeAt : function(i){

      return this.splice(i, 1)[0];
    },
    removeAll : function(){

      this.length = 0;
      return this;
    },
    append : function(arr){

      var arg = this.__toPlainArray(arr);
      Array.prototype.push.apply(this, arg);
      return this;
    },
    prepend : function(arr){

      var arg = this.__toPlainArray(arr);
      Array.prototype.splice.apply(this, [0, 0].concat(arg));
      return this;
    },
    __toPlainArray : function(arr){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertArray(arr, "The parameter must be an array.");
      };
      var arg = arr;
      if(arr instanceof qx.type.BaseArray){

        arg = [];
        for(var i = 0;i < arr.length;i++){

          arg[i] = arr[i];
        };
      };
      return arg;
    },
    remove : function(obj){

      var i = this.indexOf(obj);
      if(i != -1){

        this.splice(i, 1);
        return obj;
      };
    },
    contains : function(obj){

      return this.indexOf(obj) !== -1;
    }
  }
});

qx.Class.define("qx.ui.table.headerrenderer.Icon", {
  extend : qx.ui.table.headerrenderer.Default,
  construct : function(iconUrl, tooltip){

    this.base(arguments);
    if(iconUrl == null){

      iconUrl = "";
    };
    this.setIconUrl(iconUrl);
    if(tooltip){

      this.setToolTip(tooltip);
    };
  },
  properties : {
    iconUrl : {
      check : "String",
      init : ""
    }
  },
  members : {
    updateHeaderCell : function(cellInfo, cellWidget){

      this.base(arguments, cellInfo, cellWidget);
      cellWidget.setIcon(this.getIconUrl());
    }
  }
});

qx.Class.define("qx.ui.form.validation.Manager", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__formItems = [];
    this.__asyncResults = {
    };
    this.setRequiredFieldMessage(qx.locale.Manager.tr("This field is required"));
  },
  events : {
    "changeValid" : "qx.event.type.Data",
    "complete" : "qx.event.type.Event"
  },
  properties : {
    validator : {
      check : "value instanceof Function || qx.Class.isSubClassOf(value.constructor, qx.ui.form.validation.AsyncValidator)",
      init : null,
      nullable : true
    },
    invalidMessage : {
      check : "String",
      init : ""
    },
    requiredFieldMessage : {
      check : "String",
      init : ""
    },
    context : {
      nullable : true
    }
  },
  members : {
    __formItems : null,
    __valid : null,
    __asyncResults : null,
    __syncValid : null,
    add : function(formItem, validator, context){

      if(!this.__supportsInvalid(formItem)){

        throw new Error("Added widget not supported.");
      };
      if(this.__supportsSingleSelection(formItem) && !formItem.getValue){

        if(validator != null){

          throw new Error("Widgets supporting selection can only be validated " + "in the form validator");
        };
      };
      var dataEntry = {
        item : formItem,
        validator : validator,
        valid : null,
        context : context
      };
      this.__formItems.push(dataEntry);
    },
    remove : function(formItem){

      var items = this.__formItems;
      for(var i = 0,len = items.length;i < len;i++){

        if(formItem === items[i].item){

          items.splice(i, 1);
          return formItem;
        };
      };
      return null;
    },
    getItems : function(){

      var items = [];
      for(var i = 0;i < this.__formItems.length;i++){

        items.push(this.__formItems[i].item);
      };
      return items;
    },
    validate : function(){

      var valid = true;
      this.__syncValid = true;
      var items = [];
      for(var i = 0;i < this.__formItems.length;i++){

        var formItem = this.__formItems[i].item;
        var validator = this.__formItems[i].validator;
        items.push(formItem);
        if(validator == null){

          var validatorResult = this.__validateRequired(formItem);
          valid = valid && validatorResult;
          this.__syncValid = validatorResult && this.__syncValid;
          continue;
        };
        var validatorResult = this.__validateItem(this.__formItems[i], formItem.getValue());
        valid = validatorResult && valid;
        if(validatorResult != null){

          this.__syncValid = validatorResult && this.__syncValid;
        };
      };
      var formValid = this.__validateForm(items);
      if(qx.lang.Type.isBoolean(formValid)){

        this.__syncValid = formValid && this.__syncValid;
      };
      valid = formValid && valid;
      this.__setValid(valid);
      if(qx.lang.Object.isEmpty(this.__asyncResults)){

        this.fireEvent("complete");
      };
      return valid;
    },
    __validateRequired : function(formItem){

      if(formItem.getRequired()){

        if(this.__supportsSingleSelection(formItem)){

          var validatorResult = !!formItem.getSelection()[0];
        } else {

          var value = formItem.getValue();
          var validatorResult = !!value || value === 0;
        };
        formItem.setValid(validatorResult);
        var individualMessage = formItem.getRequiredInvalidMessage();
        var message = individualMessage ? individualMessage : this.getRequiredFieldMessage();
        formItem.setInvalidMessage(message);
        return validatorResult;
      };
      return true;
    },
    __validateItem : function(dataEntry, value){

      var formItem = dataEntry.item;
      var context = dataEntry.context;
      var validator = dataEntry.validator;
      if(this.__isAsyncValidator(validator)){

        this.__asyncResults[formItem.toHashCode()] = null;
        validator.validate(formItem, formItem.getValue(), this, context);
        return null;
      };
      var validatorResult = null;
      try{

        var validatorResult = validator.call(context || this, value, formItem);
        if(validatorResult === undefined){

          validatorResult = true;
        };
      } catch(e) {

        if(e instanceof qx.core.ValidationError){

          validatorResult = false;
          if(e.message && e.message != qx.type.BaseError.DEFAULTMESSAGE){

            var invalidMessage = e.message;
          } else {

            var invalidMessage = e.getComment();
          };
          formItem.setInvalidMessage(invalidMessage);
        } else {

          throw e;
        };
      };
      formItem.setValid(validatorResult);
      dataEntry.valid = validatorResult;
      return validatorResult;
    },
    __validateForm : function(items){

      var formValidator = this.getValidator();
      var context = this.getContext() || this;
      if(formValidator == null){

        return true;
      };
      this.setInvalidMessage("");
      if(this.__isAsyncValidator(formValidator)){

        this.__asyncResults[this.toHashCode()] = null;
        formValidator.validateForm(items, this, context);
        return null;
      };
      try{

        var formValid = formValidator.call(context, items, this);
        if(formValid === undefined){

          formValid = true;
        };
      } catch(e) {

        if(e instanceof qx.core.ValidationError){

          formValid = false;
          if(e.message && e.message != qx.type.BaseError.DEFAULTMESSAGE){

            var invalidMessage = e.message;
          } else {

            var invalidMessage = e.getComment();
          };
          this.setInvalidMessage(invalidMessage);
        } else {

          throw e;
        };
      };
      return formValid;
    },
    __isAsyncValidator : function(validator){

      var async = false;
      if(!qx.lang.Type.isFunction(validator)){

        async = qx.Class.isSubClassOf(validator.constructor, qx.ui.form.validation.AsyncValidator);
      };
      return async;
    },
    __supportsInvalid : function(formItem){

      var clazz = formItem.constructor;
      return qx.Class.hasInterface(clazz, qx.ui.form.IForm);
    },
    __supportsSingleSelection : function(formItem){

      var clazz = formItem.constructor;
      return qx.Class.hasInterface(clazz, qx.ui.core.ISingleSelection);
    },
    __setValid : function(value){

      this._showToolTip(value);
      var oldValue = this.__valid;
      this.__valid = value;
      if(oldValue != value){

        this.fireDataEvent("changeValid", value, oldValue);
      };
    },
    _showToolTip : function(valid){

      if(!qx.ui.tooltip || !qx.ui.tooltip.Manager){

        return;
      };
      var tooltip = qx.ui.tooltip.Manager.getInstance().getSharedErrorTooltip();
      if(!valid){

        var firstInvalid;
        for(var i = 0;i < this.__formItems.length;i++){

          var item = this.__formItems[i].item;
          if(!item.isValid()){

            firstInvalid = item;
            if(!(item.getContentLocation)){

              return;
            };
            if(item.isSeeable() === false){

              continue;
            };
            tooltip.setLabel(item.getInvalidMessage());
            if(tooltip.getPlaceMethod() == "mouse"){

              var location = item.getContentLocation();
              var top = location.top - tooltip.getOffsetTop();
              tooltip.placeToPoint({
                left : location.right,
                top : top
              });
            } else {

              tooltip.placeToWidget(item);
            };
            tooltip.show();
            return;
          };
        };
      } else {

        tooltip.exclude();
      };
    },
    getValid : function(){

      return this.__valid;
    },
    isValid : function(){

      return this.getValid();
    },
    getInvalidMessages : function(){

      var messages = [];
      for(var i = 0;i < this.__formItems.length;i++){

        var formItem = this.__formItems[i].item;
        if(!formItem.getValid()){

          messages.push(formItem.getInvalidMessage());
        };
      };
      if(this.getInvalidMessage() != ""){

        messages.push(this.getInvalidMessage());
      };
      return messages;
    },
    getInvalidFormItems : function(){

      var res = [];
      for(var i = 0;i < this.__formItems.length;i++){

        var formItem = this.__formItems[i].item;
        if(!formItem.getValid()){

          res.push(formItem);
        };
      };
      return res;
    },
    reset : function(){

      for(var i = 0;i < this.__formItems.length;i++){

        var dataEntry = this.__formItems[i];
        dataEntry.item.setValid(true);
      };
      this.__valid = null;
    },
    setItemValid : function(formItem, valid){

      this.__asyncResults[formItem.toHashCode()] = valid;
      formItem.setValid(valid);
      this.__checkValidationComplete();
    },
    setFormValid : function(valid){

      this.__asyncResults[this.toHashCode()] = valid;
      this.__checkValidationComplete();
    },
    __checkValidationComplete : function(){

      var valid = this.__syncValid;
      for(var hash in this.__asyncResults){

        var currentResult = this.__asyncResults[hash];
        valid = currentResult && valid;
        if(currentResult == null){

          return;
        };
      };
      this.__setValid(valid);
      this.__asyncResults = {
      };
      this.fireEvent("complete");
    }
  },
  destruct : function(){

    this.__formItems = null;
  }
});

qx.Class.define("qx.ui.form.validation.AsyncValidator", {
  extend : qx.core.Object,
  construct : function(validator){

    this.base(arguments);
    this.__validatorFunction = validator;
  },
  members : {
    __validatorFunction : null,
    __item : null,
    __manager : null,
    __usedForForm : null,
    validate : function(item, value, manager, context){

      this.__usedForForm = false;
      this.__item = item;
      this.__manager = manager;
      this.__validatorFunction.call(context || this, this, value);
    },
    validateForm : function(items, manager, context){

      this.__usedForForm = true;
      this.__manager = manager;
      this.__validatorFunction.call(context, items, this);
    },
    setValid : function(valid, message){

      if(this.__usedForForm){

        if(message !== undefined){

          this.__manager.setInvalidMessage(message);
        };
        this.__manager.setFormValid(valid);
      } else {

        if(message !== undefined){

          this.__item.setInvalidMessage(message);
        };
        this.__manager.setItemValid(this.__item, valid);
      };
    }
  },
  destruct : function(){

    this.__manager = this.__item = null;
  }
});

qx.Class.define("qx.log.appender.Element", {
  extend : qx.core.Object,
  construct : function(element){

    this.base(arguments);
    var style = ['.qxappender .level-debug{background:white}', '.qxappender .level-info{background:#DEEDFA}', '.qxappender .level-warn{background:#FFF7D5}', '.qxappender .level-error{background:#FFE2D5}', '.qxappender .level-user{background:#E3EFE9}', '.qxappender .type-string{color:black;font-weight:normal;}', '.qxappender .type-number{color:#155791;font-weight:normal;}', '.qxappender .type-boolean{color:#15BC91;font-weight:normal;}', '.qxappender .type-array{color:#CC3E8A;font-weight:bold;}', '.qxappender .type-map{color:#CC3E8A;font-weight:bold;}', '.qxappender .type-key{color:#565656;font-style:italic}', '.qxappender .type-class{color:#5F3E8A;font-weight:bold}', '.qxappender .type-instance{color:#565656;font-weight:bold}', '.qxappender .type-stringify{color:#565656;font-weight:bold}'];
    qx.bom.Stylesheet.createElement(style.join(""));
    qx.log.Logger.register(this);
  },
  members : {
    __element : null,
    setElement : function(element){

      this.clear();
      if(element){

        qx.bom.element.Class.add(element, "qxappender");
      };
      this.__element = element;
    },
    clear : function(){

      var elem = this.__element;
      if(elem){

        elem.innerHTML = "";
      };
    },
    process : function(entry){

      var elem = this.__element;
      if(!elem){

        return;
      };
      elem.appendChild(qx.log.appender.Util.toHtml(entry));
      elem.scrollTop = elem.scrollHeight;
    }
  },
  destruct : function(){

    this.__element = null;
  }
});

qx.Mixin.define("qx.ui.core.scroll.MWheelHandling", {
  members : {
    _onMouseWheel : function(e){

      var showX = this._isChildControlVisible("scrollbar-x");
      var showY = this._isChildControlVisible("scrollbar-y");
      var scrollbarY = showY ? this.getChildControl("scrollbar-y", true) : null;
      var scrollbarX = showX ? this.getChildControl("scrollbar-x", true) : null;
      var deltaY = e.getWheelDelta("y");
      var deltaX = e.getWheelDelta("x");
      var endY = !showY;
      var endX = !showX;
      if(scrollbarY){

        var steps = parseInt(deltaY);
        if(steps !== 0){

          scrollbarY.scrollBySteps(steps);
        };
        var position = scrollbarY.getPosition();
        var max = scrollbarY.getMaximum();
        if(steps < 0 && position <= 0 || steps > 0 && position >= max){

          endY = true;
        };
      };
      if(scrollbarX){

        var steps = parseInt(deltaX);
        if(steps !== 0){

          scrollbarX.scrollBySteps(steps);
        };
        var position = scrollbarX.getPosition();
        var max = scrollbarX.getMaximum();
        if(steps < 0 && position <= 0 || steps > 0 && position >= max){

          endX = true;
        };
      };
      if((!endY && deltaX === 0) || (!endX && deltaY === 0) || ((!endX || !endY) && deltaX !== 0 && deltaY !== 0)){

        e.stop();
      };
    }
  }
});

qx.Class.define("qx.ui.form.renderer.AbstractRenderer", {
  type : "abstract",
  extend : qx.ui.core.Widget,
  implement : qx.ui.form.renderer.IFormRenderer,
  construct : function(form){

    this.base(arguments);
    this._visibilityBindingIds = [];
    this._labels = [];
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
      this._names = [];
    };
    this._form = form;
    this._render();
    form.addListener("change", this._onFormChange, this);
  },
  members : {
    _names : null,
    _form : null,
    _visibilityBindingIds : null,
    _labels : null,
    _render : function(){

      var groups = this._form.getGroups();
      for(var i = 0;i < groups.length;i++){

        var group = groups[i];
        this.addItems(group.items, group.labels, group.title, group.options, group.headerOptions);
      };
      var buttons = this._form.getButtons();
      var buttonOptions = this._form.getButtonOptions();
      for(var i = 0;i < buttons.length;i++){

        this.addButton(buttons[i], buttonOptions[i]);
      };
    },
    _onFormChange : function(){

      this._removeAll();
      for(var i = 0;i < this._labels.length;i++){

        this._labels[i].dispose();
      };
      this._labels = [];
      this._render();
    },
    _connectVisibility : function(item, label){

      var id = item.bind("visibility", label, "visibility");
      this._visibilityBindingIds.push({
        id : id,
        item : item
      });
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        for(var i = 0;i < this._names.length;i++){

          var entry = this._names[i];
          if(entry.name && entry.name.translate){

            entry.name = entry.name.translate();
          };
          var newText = this._createLabelText(entry.name, entry.item);
          entry.label.setValue(newText);
        };
      },
      "false" : null
    }),
    _createLabelText : function(name, item){

      var required = "";
      if(item.getRequired()){

        required = " <span style='color:red'>*</span> ";
      };
      var colon = name.length > 0 || item.getRequired() ? " :" : "";
      return name + required + colon;
    },
    addItems : function(items, names, title){

      throw new Error("Abstract method call");
    },
    addButton : function(button){

      throw new Error("Abstract method call");
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
    this._names = null;
    for(var i = 0;i < this._labels.length;i++){

      this._labels[i].dispose();
    };
    for(var i = 0;i < this._visibilityBindingIds.length;i++){

      var entry = this._visibilityBindingIds[i];
      entry.item.removeBinding(entry.id);
    };
  }
});

qx.Class.define("qx.ui.form.renderer.Single", {
  extend : qx.ui.form.renderer.AbstractRenderer,
  construct : function(form){

    var layout = new qx.ui.layout.Grid();
    layout.setSpacing(6);
    layout.setColumnFlex(0, 1);
    layout.setColumnAlign(0, "right", "top");
    this._setLayout(layout);
    this.base(arguments, form);
  },
  members : {
    _row : 0,
    _buttonRow : null,
    _onFormChange : function(){

      this._buttonRow.destroy();
      this._buttonRow = null;
      this._row = 0;
      this.base(arguments);
    },
    addItems : function(items, names, title){

      if(title != null){

        this._add(this._createHeader(title), {
          row : this._row,
          column : 0,
          colSpan : 2
        });
        this._row++;
      };
      for(var i = 0;i < items.length;i++){

        var label = this._createLabel(names[i], items[i]);
        this._add(label, {
          row : this._row,
          column : 0
        });
        var item = items[i];
        label.setBuddy(item);
        this._add(item, {
          row : this._row,
          column : 1
        });
        this._row++;
        this._connectVisibility(item, label);
        if(qx.core.Environment.get("qx.dynlocale")){

          this._names.push({
            name : names[i],
            label : label,
            item : items[i]
          });
        };
      };
    },
    addButton : function(button){

      if(this._buttonRow == null){

        this._buttonRow = new qx.ui.container.Composite();
        this._buttonRow.setMarginTop(5);
        var hbox = new qx.ui.layout.HBox();
        hbox.setAlignX("right");
        hbox.setSpacing(5);
        this._buttonRow.setLayout(hbox);
        this._add(this._buttonRow, {
          row : this._row,
          column : 0,
          colSpan : 2
        });
        this._row++;
      };
      this._buttonRow.add(button);
    },
    getLayout : function(){

      return this._getLayout();
    },
    _createLabel : function(name, item){

      var label = new qx.ui.basic.Label(this._createLabelText(name, item));
      this._labels.push(label);
      label.setRich(true);
      label.setAppearance("form-renderer-label");
      return label;
    },
    _createHeader : function(title){

      var header = new qx.ui.basic.Label(title);
      this._labels.push(header);
      header.setFont("bold");
      if(this._row != 0){

        header.setMarginTop(10);
      };
      header.setAlignX("left");
      return header;
    }
  },
  destruct : function(){

    if(this._buttonRow){

      this._buttonRow.removeAll();
      this._disposeObjects("_buttonRow");
    };
  }
});

qx.Class.define("qx.bom.GeoLocation", {
  extend : qx.core.Object,
  type : "singleton",
  construct : function(){

    this._geolocation = navigator.geolocation;
  },
  events : {
    "position" : "qx.event.type.GeoPosition",
    "error" : "qx.event.type.Data"
  },
  members : {
    _watchId : null,
    _geolocation : null,
    getCurrentPosition : function(enableHighAccuracy, timeout, maximumAge){

      var errorHandler = qx.lang.Function.bind(this._errorHandler, this);
      var successHandler = qx.lang.Function.bind(this._successHandler, this);
      this._geolocation.getCurrentPosition(successHandler, errorHandler, {
        enableHighAccuracy : enableHighAccuracy,
        timeout : timeout,
        maximumAge : maximumAge
      });
    },
    startWatchPosition : function(enableHighAccuracy, timeout, maximumAge){

      this.stopWatchPosition();
      var errorHandler = qx.lang.Function.bind(this._errorHandler, this);
      var successHandler = qx.lang.Function.bind(this._successHandler, this);
      this._watchId = this._geolocation.watchPosition(successHandler, errorHandler, {
        enableHighAccuracy : enableHighAccuracy,
        timeout : timeout,
        maximumAge : maximumAge
      });
    },
    stopWatchPosition : function(){

      if(this._watchId != null){

        this._geolocation.clearWatch(this._watchId);
        this._watchId = null;
      };
    },
    _successHandler : function(position){

      this.fireEvent("position", qx.event.type.GeoPosition, [position]);
    },
    _errorHandler : function(error){

      this.fireDataEvent("error", error);
    }
  },
  destruct : function(){

    this.stopWatchPosition();
  }
});

qx.Class.define("qx.event.type.GeoPosition", {
  extend : qx.event.type.Event,
  construct : function(){

    this.base(arguments);
  },
  properties : {
    timestamp : {
      check : "Number"
    },
    latitude : {
      check : "Number"
    },
    longitude : {
      check : "Number"
    },
    altitude : {
      check : "Number",
      nullable : true
    },
    accuracy : {
      check : "Number"
    },
    altitudeAccuracy : {
      check : "Number",
      nullable : true
    },
    heading : {
      nullable : true
    },
    speed : {
      check : function(data){

        return qx.lang.Type.isNumber(data);
      },
      nullable : true
    }
  },
  members : {
    init : function(position){

      this.setTimestamp(position.timestamp);
      this.setLatitude(position.coords.latitude);
      this.setLongitude(position.coords.longitude);
      this.setAltitude(position.coords.altitude);
      this.setAccuracy(position.coords.accuracy);
      this.setAltitudeAccuracy(position.coords.altitudeAccuracy);
      this.setHeading(position.coords.heading);
      this.setSpeed(position.coords.speed);
    }
  }
});

qx.Class.define("qx.ui.tabview.TabView", {
  extend : qx.ui.core.Widget,
  implement : qx.ui.core.ISingleSelection,
  include : [qx.ui.core.MContentPadding],
  construct : function(barPosition){

    this.base(arguments);
    this.__barPositionToState = {
      top : "barTop",
      right : "barRight",
      bottom : "barBottom",
      left : "barLeft"
    };
    this._createChildControl("bar");
    this._createChildControl("pane");
    var mgr = this.__radioGroup = new qx.ui.form.RadioGroup;
    mgr.setWrap(false);
    mgr.addListener("changeSelection", this._onChangeSelection, this);
    if(barPosition != null){

      this.setBarPosition(barPosition);
    } else {

      this.initBarPosition();
    };
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  properties : {
    appearance : {
      refine : true,
      init : "tabview"
    },
    barPosition : {
      check : ["left", "right", "top", "bottom"],
      init : "top",
      apply : "_applyBarPosition"
    }
  },
  members : {
    __radioGroup : null,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "bar":
      control = new qx.ui.container.SlideBar();
      control.setZIndex(10);
      this._add(control);
      break;case "pane":
      control = new qx.ui.container.Stack;
      control.setZIndex(5);
      this._add(control, {
        flex : 1
      });
      break;};
      return control || this.base(arguments, id);
    },
    _getContentPaddingTarget : function(){

      return this.getChildControl("pane");
    },
    add : function(page){

      if(qx.core.Environment.get("qx.debug")){

        if(!(page instanceof qx.ui.tabview.Page)){

          throw new Error("Incompatible child for TabView: " + page);
        };
      };
      var button = page.getButton();
      var bar = this.getChildControl("bar");
      var pane = this.getChildControl("pane");
      page.exclude();
      bar.add(button);
      pane.add(page);
      this.__radioGroup.add(button);
      page.addState(this.__barPositionToState[this.getBarPosition()]);
      page.addState("lastTab");
      var children = this.getChildren();
      if(children[0] == page){

        page.addState("firstTab");
      } else {

        children[children.length - 2].removeState("lastTab");
      };
      page.addListener("close", this._onPageClose, this);
    },
    addAt : function(page, index){

      if(qx.core.Environment.get("qx.debug")){

        if(!(page instanceof qx.ui.tabview.Page)){

          throw new Error("Incompatible child for TabView: " + page);
        };
      };
      var children = this.getChildren();
      if(!(index == null) && index > children.length){

        throw new Error("Index should be less than : " + children.length);
      };
      if(index == null){

        index = children.length;
      };
      var button = page.getButton();
      var bar = this.getChildControl("bar");
      var pane = this.getChildControl("pane");
      page.exclude();
      bar.addAt(button, index);
      pane.addAt(page, index);
      this.__radioGroup.add(button);
      page.addState(this.__barPositionToState[this.getBarPosition()]);
      children = this.getChildren();
      if(index == children.length - 1){

        page.addState("lastTab");
      };
      if(children[0] == page){

        page.addState("firstTab");
      } else {

        children[children.length - 2].removeState("lastTab");
      };
      page.addListener("close", this._onPageClose, this);
    },
    remove : function(page){

      var pane = this.getChildControl("pane");
      var bar = this.getChildControl("bar");
      var button = page.getButton();
      var children = pane.getChildren();
      if(this.getSelection()[0] == page){

        var index = children.indexOf(page);
        if(index == 0){

          if(children[1]){

            this.setSelection([children[1]]);
          } else {

            this.resetSelection();
          };
        } else {

          this.setSelection([children[index - 1]]);
        };
      };
      bar.remove(button);
      pane.remove(page);
      this.__radioGroup.remove(button);
      page.removeState(this.__barPositionToState[this.getBarPosition()]);
      if(page.hasState("firstTab")){

        page.removeState("firstTab");
        if(children[0]){

          children[0].addState("firstTab");
        };
      };
      if(page.hasState("lastTab")){

        page.removeState("lastTab");
        if(children.length > 0){

          children[children.length - 1].addState("lastTab");
        };
      };
      page.removeListener("close", this._onPageClose, this);
    },
    getChildren : function(){

      return this.getChildControl("pane").getChildren();
    },
    indexOf : function(page){

      return this.getChildControl("pane").indexOf(page);
    },
    __barPositionToState : null,
    _applyBarPosition : function(value, old){

      var bar = this.getChildControl("bar");
      var pane = this.getChildControl("pane");
      var horizontal = value == "left" || value == "right";
      var reversed = value == "right" || value == "bottom";
      var layoutClass = horizontal ? qx.ui.layout.HBox : qx.ui.layout.VBox;
      var layout = this._getLayout();
      if(layout && layout instanceof layoutClass){
      } else {

        this._setLayout(layout = new layoutClass);
      };
      layout.setReversed(reversed);
      bar.setOrientation(horizontal ? "vertical" : "horizontal");
      var children = this.getChildren();
      if(old){

        var oldState = this.__barPositionToState[old];
        bar.removeState(oldState);
        pane.removeState(oldState);
        for(var i = 0,l = children.length;i < l;i++){

          children[i].removeState(oldState);
        };
      };
      if(value){

        var newState = this.__barPositionToState[value];
        bar.addState(newState);
        pane.addState(newState);
        for(var i = 0,l = children.length;i < l;i++){

          children[i].addState(newState);
        };
      };
    },
    getSelection : function(){

      var buttons = this.__radioGroup.getSelection();
      var result = [];
      for(var i = 0;i < buttons.length;i++){

        result.push(buttons[i].getUserData("page"));
      };
      return result;
    },
    setSelection : function(items){

      var buttons = [];
      for(var i = 0;i < items.length;i++){

        buttons.push(items[i].getChildControl("button"));
      };
      this.__radioGroup.setSelection(buttons);
    },
    resetSelection : function(){

      this.__radioGroup.resetSelection();
    },
    isSelected : function(item){

      var button = item.getChildControl("button");
      return this.__radioGroup.isSelected(button);
    },
    isSelectionEmpty : function(){

      return this.__radioGroup.isSelectionEmpty();
    },
    getSelectables : function(all){

      var buttons = this.__radioGroup.getSelectables(all);
      var result = [];
      for(var i = 0;i < buttons.length;i++){

        result.push(buttons[i].getUserData("page"));
      };
      return result;
    },
    _onChangeSelection : function(e){

      var pane = this.getChildControl("pane");
      var button = e.getData()[0];
      var oldButton = e.getOldData()[0];
      var value = [];
      var old = [];
      if(button){

        value = [button.getUserData("page")];
        pane.setSelection(value);
        button.focus();
        this.scrollChildIntoView(button, null, null, false);
      } else {

        pane.resetSelection();
      };
      if(oldButton){

        old = [oldButton.getUserData("page")];
      };
      this.fireDataEvent("changeSelection", value, old);
    },
    _onBeforeChangeSelection : function(e){

      if(!this.fireNonBubblingEvent("beforeChangeSelection", qx.event.type.Event, [false, true])){

        e.preventDefault();
      };
    },
    _onRadioChangeSelection : function(e){

      var element = e.getData()[0];
      if(element){

        this.setSelection([element.getUserData("page")]);
      } else {

        this.resetSelection();
      };
    },
    _onPageClose : function(e){

      var page = e.getTarget();
      var closeButton = page.getButton().getChildControl("close-button");
      closeButton.reset();
      this.remove(page);
    }
  },
  destruct : function(){

    this._disposeObjects("__radioGroup");
    this.__barPositionToState = null;
  }
});

qx.Class.define("qx.ui.container.Stack", {
  extend : qx.ui.core.Widget,
  implement : qx.ui.core.ISingleSelection,
  include : [qx.ui.core.MSingleSelectionHandling, qx.ui.core.MChildrenHandling],
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.layout.Grow);
    this.addListener("changeSelection", this.__onChangeSelection, this);
  },
  properties : {
    dynamic : {
      check : "Boolean",
      init : false,
      apply : "_applyDynamic"
    }
  },
  members : {
    _applyDynamic : function(value){

      var children = this._getChildren();
      var selected = this.getSelection()[0];
      var child;
      for(var i = 0,l = children.length;i < l;i++){

        child = children[i];
        if(child != selected){

          if(value){

            children[i].exclude();
          } else {

            children[i].hide();
          };
        };
      };
    },
    _getItems : function(){

      return this.getChildren();
    },
    _isAllowEmptySelection : function(){

      return true;
    },
    _isItemSelectable : function(item){

      return true;
    },
    __onChangeSelection : function(e){

      var old = e.getOldData()[0];
      var value = e.getData()[0];
      if(old){

        if(this.isDynamic()){

          old.exclude();
        } else {

          old.hide();
        };
      };
      if(value){

        value.show();
      };
    },
    _afterAddChild : function(child){

      var selected = this.getSelection()[0];
      if(!selected){

        this.setSelection([child]);
      } else if(selected !== child){

        if(this.isDynamic()){

          child.exclude();
        } else {

          child.hide();
        };
      };
    },
    _afterRemoveChild : function(child){

      if(this.getSelection()[0] === child){

        var first = this._getChildren()[0];
        if(first){

          this.setSelection([first]);
        } else {

          this.resetSelection();
        };
      };
    },
    previous : function(){

      var selected = this.getSelection()[0];
      var go = this._indexOf(selected) - 1;
      var children = this._getChildren();
      if(go < 0){

        go = children.length - 1;
      };
      var prev = children[go];
      this.setSelection([prev]);
    },
    next : function(){

      var selected = this.getSelection()[0];
      var go = this._indexOf(selected) + 1;
      var children = this._getChildren();
      var next = children[go] || children[0];
      this.setSelection([next]);
    }
  }
});

qx.Class.define("qx.ui.tabview.Page", {
  extend : qx.ui.container.Composite,
  construct : function(label, icon){

    this.base(arguments);
    this._createChildControl("button");
    if(label != null){

      this.setLabel(label);
    };
    if(icon != null){

      this.setIcon(icon);
    };
  },
  events : {
    "close" : "qx.event.type.Event"
  },
  properties : {
    appearance : {
      refine : true,
      init : "tabview-page"
    },
    label : {
      check : "String",
      init : "",
      apply : "_applyLabel"
    },
    icon : {
      check : "String",
      init : "",
      apply : "_applyIcon",
      nullable : true
    },
    showCloseButton : {
      check : "Boolean",
      init : false,
      apply : "_applyShowCloseButton"
    }
  },
  members : {
    _forwardStates : {
      barTop : 1,
      barRight : 1,
      barBottom : 1,
      barLeft : 1,
      firstTab : 1,
      lastTab : 1
    },
    _applyIcon : function(value, old){

      var btn = this.getChildControl("button");
      if(value){

        btn.setIcon(value);
        btn._showChildControl("icon");
      } else {

        btn._excludeChildControl("icon");
      };
    },
    _applyLabel : function(value, old){

      this.getChildControl("button").setLabel(value);
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      var btn = this.getChildControl("button");
      value == null ? btn.resetEnabled() : btn.setEnabled(value);
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "button":
      control = new qx.ui.tabview.TabButton;
      control.setAllowGrowX(true);
      control.setAllowGrowY(true);
      control.setUserData("page", this);
      control.addListener("close", this._onButtonClose, this);
      break;};
      return control || this.base(arguments, id);
    },
    _applyShowCloseButton : function(value, old){

      this.getChildControl("button").setShowCloseButton(value);
    },
    _onButtonClose : function(){

      this.fireEvent("close");
    },
    getButton : function(){

      return this.getChildControl("button");
    }
  }
});

qx.Bootstrap.define("qx.module.util.Type", {
  statics : {
    get : qx.Bootstrap.getClass
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      type : {
        get : statics.get
      }
    });
  }
});

qx.Theme.define("qx.theme.modern.Decoration", {
  aliases : {
    decoration : "qx/decoration/Modern"
  },
  decorations : {
    "main" : {
      style : {
        width : 1,
        color : "border-main"
      }
    },
    "selected" : {
      style : {
        startColorPosition : 0,
        endColorPosition : 100,
        startColor : "selected-start",
        endColor : "selected-end"
      }
    },
    "dragover" : {
      style : {
        bottom : [2, "solid", "border-dragover"]
      }
    },
    "pane" : {
      style : {
        width : 1,
        color : "tabview-background",
        radius : 3,
        shadowColor : "shadow",
        shadowBlurRadius : 2,
        shadowLength : 0,
        gradientStart : ["pane-start", 0],
        gradientEnd : ["pane-end", 100]
      }
    },
    "group" : {
      style : {
        backgroundColor : "group-background",
        radius : 4,
        color : "group-border",
        width : 1
      }
    },
    "keyboard-focus" : {
      style : {
        width : 1,
        color : "keyboard-focus",
        style : "dotted"
      }
    },
    "radiobutton" : {
      style : {
        backgroundColor : "radiobutton-background",
        radius : 5,
        width : 1,
        innerWidth : 2,
        color : "checkbox-border",
        innerColor : "radiobutton-background",
        shadowLength : 0,
        shadowBlurRadius : 0,
        shadowColor : "checkbox-focus"
      }
    },
    "radiobutton-checked" : {
      include : "radiobutton",
      style : {
        backgroundColor : "radiobutton-checked"
      }
    },
    "radiobutton-checked-focused" : {
      include : "radiobutton-checked",
      style : {
        shadowBlurRadius : 4
      }
    },
    "radiobutton-checked-hovered" : {
      include : "radiobutton-checked",
      style : {
        innerColor : "checkbox-hovered"
      }
    },
    "radiobutton-focused" : {
      include : "radiobutton",
      style : {
        shadowBlurRadius : 4
      }
    },
    "radiobutton-hovered" : {
      include : "radiobutton",
      style : {
        backgroundColor : "checkbox-hovered",
        innerColor : "checkbox-hovered"
      }
    },
    "radiobutton-disabled" : {
      include : "radiobutton",
      style : {
        innerColor : "radiobutton-disabled",
        backgroundColor : "radiobutton-disabled",
        color : "checkbox-disabled-border"
      }
    },
    "radiobutton-checked-disabled" : {
      include : "radiobutton-disabled",
      style : {
        backgroundColor : "radiobutton-checked-disabled"
      }
    },
    "radiobutton-invalid" : {
      include : "radiobutton",
      style : {
        color : "invalid"
      }
    },
    "radiobutton-checked-invalid" : {
      include : "radiobutton-checked",
      style : {
        color : "invalid"
      }
    },
    "radiobutton-checked-focused-invalid" : {
      include : "radiobutton-checked-focused",
      style : {
        color : "invalid",
        shadowColor : "invalid"
      }
    },
    "radiobutton-checked-hovered-invalid" : {
      include : "radiobutton-checked-hovered",
      style : {
        color : "invalid",
        innerColor : "radiobutton-hovered-invalid"
      }
    },
    "radiobutton-focused-invalid" : {
      include : "radiobutton-focused",
      style : {
        color : "invalid",
        shadowColor : "invalid"
      }
    },
    "radiobutton-hovered-invalid" : {
      include : "radiobutton-hovered",
      style : {
        color : "invalid",
        innerColor : "radiobutton-hovered-invalid",
        backgroundColor : "radiobutton-hovered-invalid"
      }
    },
    "separator-horizontal" : {
      style : {
        widthLeft : 1,
        colorLeft : "border-separator"
      }
    },
    "separator-vertical" : {
      style : {
        widthTop : 1,
        colorTop : "border-separator"
      }
    },
    "tooltip-error" : {
      style : {
        backgroundColor : "tooltip-error",
        radius : 4,
        shadowColor : "shadow",
        shadowBlurRadius : 2,
        shadowLength : 1
      }
    },
    "popup" : {
      style : {
        width : 1,
        color : "border-main",
        shadowColor : "shadow",
        shadowBlurRadius : 3,
        shadowLength : 1
      }
    },
    "scrollbar-horizontal" : {
      style : {
        gradientStart : ["scrollbar-start", 0],
        gradientEnd : ["scrollbar-end", 100]
      }
    },
    "scrollbar-vertical" : {
      include : "scrollbar-horizontal",
      style : {
        orientation : "horizontal"
      }
    },
    "scrollbar-slider-horizontal" : {
      style : {
        gradientStart : ["scrollbar-slider-start", 0],
        gradientEnd : ["scrollbar-slider-end", 100],
        color : "border-main",
        width : 1,
        radius : 3
      }
    },
    "scrollbar-slider-vertical" : {
      include : "scrollbar-slider-horizontal",
      style : {
        orientation : "horizontal"
      }
    },
    "scrollbar-slider-horizontal-disabled" : {
      include : "scrollbar-slider-horizontal",
      style : {
        color : "button-border-disabled"
      }
    },
    "scrollbar-slider-vertical-disabled" : {
      include : "scrollbar-slider-vertical",
      style : {
        color : "button-border-disabled"
      }
    },
    "button" : {
      style : {
        radius : 3,
        color : "border-button",
        width : 1,
        startColor : "button-start",
        endColor : "button-end",
        startColorPosition : 35,
        endColorPosition : 100
      }
    },
    "button-disabled" : {
      include : "button",
      style : {
        color : "button-border-disabled",
        startColor : "button-disabled-start",
        endColor : "button-disabled-end"
      }
    },
    "button-hovered" : {
      include : "button",
      style : {
        startColor : "button-hovered-start",
        endColor : "button-hovered-end"
      }
    },
    "button-checked" : {
      include : "button",
      style : {
        endColor : "button-start",
        startColor : "button-end"
      }
    },
    "button-pressed" : {
      include : "button",
      style : {
        endColor : "button-hovered-start",
        startColor : "button-hovered-end"
      }
    },
    "button-focused" : {
      style : {
        radius : 3,
        color : "border-button",
        width : 1,
        innerColor : "button-focused",
        innerWidth : 2,
        startColor : "button-start",
        endColor : "button-end",
        startColorPosition : 30,
        endColorPosition : 100
      }
    },
    "button-checked-focused" : {
      include : "button-focused",
      style : {
        endColor : "button-start",
        startColor : "button-end"
      }
    },
    "button-invalid" : {
      include : "button",
      style : {
        color : "border-invalid"
      }
    },
    "button-disabled-invalid" : {
      include : "button-disabled",
      style : {
        color : "border-invalid"
      }
    },
    "button-hovered-invalid" : {
      include : "button-hovered",
      style : {
        color : "border-invalid"
      }
    },
    "button-checked-invalid" : {
      include : "button-checked",
      style : {
        color : "border-invalid"
      }
    },
    "button-pressed-invalid" : {
      include : "button-pressed",
      style : {
        color : "border-invalid"
      }
    },
    "button-focused-invalid" : {
      include : "button-focused",
      style : {
        color : "border-invalid"
      }
    },
    "button-checked-focused-invalid" : {
      include : "button-checked-focused",
      style : {
        color : "border-invalid"
      }
    },
    "checkbox" : {
      style : {
        width : 1,
        color : "checkbox-border",
        innerWidth : 1,
        innerColor : "checkbox-inner",
        backgroundColor : "checkbox-end",
        shadowLength : 0,
        shadowBlurRadius : 0,
        shadowColor : "checkbox-focus"
      }
    },
    "checkbox-hovered" : {
      include : "checkbox",
      style : {
        innerColor : "checkbox-hovered-inner",
        backgroundColor : "checkbox-hovered"
      }
    },
    "checkbox-focused" : {
      include : "checkbox",
      style : {
        shadowBlurRadius : 4
      }
    },
    "checkbox-disabled" : {
      include : "checkbox",
      style : {
        color : "checkbox-disabled-border",
        innerColor : "checkbox-disabled-inner",
        backgroundColor : "checkbox-disabled-end"
      }
    },
    "checkbox-invalid" : {
      include : "checkbox",
      style : {
        color : "invalid"
      }
    },
    "checkbox-hovered-invalid" : {
      include : "checkbox-hovered",
      style : {
        color : "invalid",
        innerColor : "checkbox-hovered-inner-invalid",
        backgroundColor : "checkbox-hovered-invalid"
      }
    },
    "checkbox-focused-invalid" : {
      include : "checkbox-focused",
      style : {
        color : "invalid",
        shadowColor : "invalid"
      }
    },
    "input" : {
      style : {
        color : "border-input",
        innerColor : "border-inner-input",
        innerWidth : 1,
        width : 1,
        backgroundColor : "background-light",
        startColor : "input-start",
        endColor : "input-end",
        startColorPosition : 0,
        endColorPosition : 12,
        colorPositionUnit : "px"
      }
    },
    "border-invalid" : {
      include : "input",
      style : {
        color : "border-invalid"
      }
    },
    "input-focused" : {
      include : "input",
      style : {
        startColor : "input-focused-start",
        innerColor : "input-focused-end",
        endColorPosition : 4
      }
    },
    "input-focused-invalid" : {
      include : "input-focused",
      style : {
        innerColor : "input-focused-inner-invalid",
        color : "border-invalid"
      }
    },
    "input-disabled" : {
      include : "input",
      style : {
        color : "input-border-disabled"
      }
    },
    "toolbar" : {
      style : {
        startColorPosition : 40,
        endColorPosition : 60,
        startColor : "toolbar-start",
        endColor : "toolbar-end"
      }
    },
    "toolbar-button-hovered" : {
      style : {
        color : "border-toolbar-button-outer",
        width : 1,
        innerWidth : 1,
        innerColor : "border-toolbar-border-inner",
        radius : 2,
        gradientStart : ["button-start", 30],
        gradientEnd : ["button-end", 100]
      }
    },
    "toolbar-button-checked" : {
      include : "toolbar-button-hovered",
      style : {
        gradientStart : ["button-end", 30],
        gradientEnd : ["button-start", 100]
      }
    },
    "toolbar-separator" : {
      style : {
        widthLeft : 1,
        widthRight : 1,
        colorLeft : "border-toolbar-separator-left",
        colorRight : "border-toolbar-separator-right",
        styleLeft : "solid",
        styleRight : "solid"
      }
    },
    "toolbar-part" : {
      style : {
        backgroundImage : "decoration/toolbar/toolbar-part.gif",
        backgroundRepeat : "repeat-y"
      }
    },
    "tabview-pane" : {
      style : {
        width : 1,
        color : "window-border",
        radius : 3,
        gradientStart : ["tabview-start", 90],
        gradientEnd : ["tabview-end", 100]
      }
    },
    "tabview-page-button-top-active" : {
      style : {
        radius : [3, 3, 0, 0],
        width : [1, 1, 0, 1],
        color : "tabview-background",
        backgroundColor : "tabview-start",
        shadowLength : 1,
        shadowColor : "shadow",
        shadowBlurRadius : 2
      }
    },
    "tabview-page-button-top-inactive" : {
      style : {
        radius : [3, 3, 0, 0],
        color : "tabview-inactive",
        colorBottom : "tabview-background",
        width : 1,
        gradientStart : ["tabview-inactive-start", 0],
        gradientEnd : ["tabview-inactive-end", 100]
      }
    },
    "tabview-page-button-bottom-active" : {
      include : "tabview-page-button-top-active",
      style : {
        radius : [0, 0, 3, 3],
        width : [0, 1, 1, 1],
        backgroundColor : "tabview-inactive-start",
        shadowLength : 0,
        shadowBlurRadius : 0
      }
    },
    "tabview-page-button-bottom-inactive" : {
      include : "tabview-page-button-top-inactive",
      style : {
        radius : [0, 0, 3, 3],
        width : [0, 1, 1, 1],
        colorBottom : "tabview-inactive",
        colorTop : "tabview-background"
      }
    },
    "tabview-page-button-left-active" : {
      include : "tabview-page-button-top-active",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1],
        shadowLength : 0,
        shadowBlurRadius : 0
      }
    },
    "tabview-page-button-left-inactive" : {
      include : "tabview-page-button-top-inactive",
      style : {
        radius : [3, 0, 0, 3],
        width : [1, 0, 1, 1],
        colorBottom : "tabview-inactive",
        colorRight : "tabview-background"
      }
    },
    "tabview-page-button-right-active" : {
      include : "tabview-page-button-top-active",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0],
        shadowLength : 0,
        shadowBlurRadius : 0
      }
    },
    "tabview-page-button-right-inactive" : {
      include : "tabview-page-button-top-inactive",
      style : {
        radius : [0, 3, 3, 0],
        width : [1, 1, 1, 0],
        colorBottom : "tabview-inactive",
        colorLeft : "tabview-background"
      }
    },
    "splitpane" : {
      style : {
        backgroundColor : "background-pane",
        width : 3,
        color : "background-splitpane",
        style : "solid"
      }
    },
    "window" : {
      style : {
        radius : [5, 5, 0, 0],
        shadowBlurRadius : 4,
        shadowLength : 2,
        shadowColor : "shadow"
      }
    },
    "window-incl-statusbar" : {
      include : "window",
      style : {
        radius : [5, 5, 5, 5]
      }
    },
    "window-resize-frame" : {
      style : {
        radius : [5, 5, 0, 0],
        width : 1,
        color : "border-main"
      }
    },
    "window-resize-frame-incl-statusbar" : {
      include : "window-resize-frame",
      style : {
        radius : [5, 5, 5, 5]
      }
    },
    "window-captionbar-active" : {
      style : {
        width : 1,
        color : "window-border",
        colorBottom : "window-border-caption",
        radius : [5, 5, 0, 0],
        gradientStart : ["window-caption-active-start", 30],
        gradientEnd : ["window-caption-active-end", 70]
      }
    },
    "window-captionbar-inactive" : {
      include : "window-captionbar-active",
      style : {
        gradientStart : ["window-caption-inactive-start", 30],
        gradientEnd : ["window-caption-inactive-end", 70]
      }
    },
    "window-statusbar" : {
      style : {
        backgroundColor : "window-statusbar-background",
        width : [0, 1, 1, 1],
        color : "window-border",
        radius : [0, 0, 5, 5]
      }
    },
    "window-pane" : {
      style : {
        backgroundColor : "background-pane",
        width : 1,
        color : "window-border",
        widthTop : 0
      }
    },
    "table" : {
      style : {
        width : 1,
        color : "border-main",
        style : "solid"
      }
    },
    "table-statusbar" : {
      style : {
        widthTop : 1,
        colorTop : "border-main",
        style : "solid"
      }
    },
    "table-scroller-header" : {
      style : {
        gradientStart : ["table-header-start", 10],
        gradientEnd : ["table-header-end", 90],
        widthBottom : 1,
        colorBottom : "border-main"
      }
    },
    "table-header-cell" : {
      style : {
        widthRight : 1,
        colorRight : "border-separator",
        styleRight : "solid"
      }
    },
    "table-header-cell-hovered" : {
      style : {
        widthRight : 1,
        colorRight : "border-separator",
        styleRight : "solid",
        widthBottom : 1,
        colorBottom : "table-header-hovered",
        styleBottom : "solid"
      }
    },
    "table-scroller-focus-indicator" : {
      style : {
        width : 2,
        color : "table-focus-indicator",
        style : "solid"
      }
    },
    "progressive-table-header" : {
      style : {
        width : 1,
        color : "border-main",
        style : "solid"
      }
    },
    "progressive-table-header-cell" : {
      style : {
        gradientStart : ["table-header-start", 10],
        gradientEnd : ["table-header-end", 90],
        widthRight : 1,
        colorRight : "progressive-table-header-border-right"
      }
    },
    "menu" : {
      style : {
        gradientStart : ["menu-start", 0],
        gradientEnd : ["menu-end", 100],
        shadowColor : "shadow",
        shadowBlurRadius : 2,
        shadowLength : 1,
        width : 1,
        color : "border-main"
      }
    },
    "menu-separator" : {
      style : {
        widthTop : 1,
        colorTop : "menu-separator-top",
        widthBottom : 1,
        colorBottom : "menu-separator-bottom"
      }
    },
    "menubar" : {
      style : {
        gradientStart : ["menubar-start", 0],
        gradientEnd : ["menu-end", 100],
        width : 1,
        color : "border-separator"
      }
    },
    "app-header" : {
      style : {
        gradientStart : ["#243B58", 0],
        gradientEnd : ["#1D2D45", 100]
      }
    },
    "progressbar" : {
      style : {
        width : 1,
        color : "border-input"
      }
    },
    "group-item" : {
      style : {
        startColorPosition : 0,
        endColorPosition : 100,
        startColor : "groupitem-start",
        endColor : "groupitem-end"
      }
    }
  }
});

qx.Class.define("qx.ui.form.renderer.SinglePlaceholder", {
  extend : qx.ui.form.renderer.Single,
  implement : qx.ui.form.renderer.IFormRenderer,
  members : {
    addItems : function(items, names, title){

      if(title != null){

        this._add(this._createHeader(title), {
          row : this._row,
          column : 0,
          colSpan : 2
        });
        this._row++;
      };
      for(var i = 0;i < items.length;i++){

        if(items[i].setPlaceholder === undefined){

          throw new Error("Only widgets with placeholders supported.");
        };
        items[i].setPlaceholder(names[i]);
        this._add(items[i], {
          row : this._row,
          column : 0
        });
        this._row++;
      };
    }
  }
});

qx.Class.define("qx.ui.virtual.cell.AbstractImage", {
  extend : qx.ui.virtual.cell.Cell,
  type : "abstract",
  construct : function(){

    this.base(arguments);
    this._aliasManager = qx.util.AliasManager.getInstance();
  },
  members : {
    __defaultWidth : 16,
    __defaultHeight : 16,
    _aliasManager : null,
    __getImageSize : function(source){

      var ResourceManager = qx.util.ResourceManager.getInstance();
      var ImageLoader = qx.io.ImageLoader;
      var width,height;
      if(ResourceManager.has(source)){

        width = ResourceManager.getImageWidth(source) , height = ResourceManager.getImageHeight(source);
      } else if(ImageLoader.isLoaded(source)){

        width = ImageLoader.getWidth(source);
        height = ImageLoader.getHeight(source);
      } else {

        width = this.__defaultWidth;
        height = this.__defaultHeight;
      };
      return {
        width : width,
        height : height
      };
    },
    __createImage : function(imageData){

      if(typeof (imageData) == "string"){

        imageData = {
          url : imageData
        };
      };
      var url = this._aliasManager.resolve(imageData.url || null);
      var sizes;
      if(imageData.width && imageData.height){

        sizes = {
          width : imageData.width,
          height : imageData.height
        };
      } else {

        sizes = this.__getImageSize(url);
      };
      return {
        width : sizes.width,
        height : sizes.height,
        url : url,
        tooltip : imageData.tooltip
      };
    },
    _identifyImage : function(value){

      throw new Error("_identifyImage is abstract");
    },
    getContent : function(value, states){

      if(value === null){

        return "";
      };
      var content = "";
      var imageData = this.__createImage(this._identifyImage(value));
      var tooltip = imageData.tooltip ? 'title="' + imageData.tooltip + '"' : "";
      var styles = {
        width : imageData.width + "px",
        height : imageData.height + "px",
        display : "inline-block",
        verticalAlign : "top",
        position : "static"
      };
      var tag = qx.bom.element.Decoration.getTagName("no-repeat", imageData.url);
      var ret = qx.bom.element.Decoration.getAttributes(imageData.url, "no-repeat", styles);
      var css = qx.bom.element.Style.compile(ret.style);
      if(tag === "img"){

        content = '<img src="' + ret.src + '" style="' + css + '" ';
        content += tooltip + '/>';
      } else {

        content = '<div style="' + css + '" ';
        content += tooltip + '></div>';
      };
      return content;
    }
  }
});

qx.Interface.define("qx.ui.virtual.cell.IWidgetCellDelegate", {
  members : {
    createWidget : function(){
    }
  }
});

qx.Theme.define("qx.theme.classic.Decoration", {
  aliases : {
    decoration : "qx/decoration/Classic"
  },
  decorations : {
    "main" : {
      style : {
        width : 1,
        color : "border-dark"
      }
    },
    "keyboard-focus" : {
      style : {
        width : 1,
        color : "black",
        style : "dotted"
      }
    },
    "inset" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-dark-shadow", "border-light", "border-light", "border-dark-shadow"],
        innerColor : ["border-dark", "border-light-shadow", "border-light-shadow", "border-dark"]
      }
    },
    "outset" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-light-shadow", "border-dark", "border-dark", "border-light-shadow"],
        innerColor : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"]
      }
    },
    "groove" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-dark-shadow", "border-light", "border-light", "border-dark-shadow"],
        innerColor : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"]
      }
    },
    "ridge" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"],
        innerColor : ["border-dark-shadow", "border-light", "border-light", "border-dark-shadow"]
      }
    },
    "inset-thin" : {
      style : {
        width : 1,
        color : ["border-dark-shadow", "border-light", "border-light", "border-dark-shadow"]
      }
    },
    "outset-thin" : {
      style : {
        width : 1,
        color : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"]
      }
    },
    "focused-inset" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-focused-dark-shadow", "border-focused-light", "border-focused-light", "border-focused-dark-shadow"],
        innerColor : ["border-focused-dark", "border-focused-light-shadow", "border-focused-light-shadow", "border-focused-dark"]
      }
    },
    "focused-outset" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-focused-light-shadow", "border-focused-dark", "border-focused-dark", "border-focused-light-shadow"],
        innerColor : ["border-focused-light", "border-focused-dark-shadow", "border-focused-dark-shadow", "border-focused-light"]
      }
    },
    "border-invalid" : {
      style : {
        width : 1,
        innerWidth : 1,
        color : ["border-dark-shadow", "border-light", "border-light", "border-dark-shadow"],
        innerColor : "invalid"
      }
    },
    "separator-horizontal" : {
      style : {
        widthLeft : 1,
        colorLeft : "border-separator"
      }
    },
    "separator-vertical" : {
      style : {
        widthTop : 1,
        colorTop : "border-separator"
      }
    },
    "window" : {
      include : "outset",
      style : {
        shadowLength : 1,
        shadowBlurRadius : 2,
        shadowColor : "shadow"
      }
    },
    "lead-item" : {
      style : {
        width : 1,
        style : "dotted",
        color : "border-lead"
      }
    },
    "tooltip" : {
      style : {
        width : 1,
        color : "tooltip-text",
        shadowLength : 1,
        shadowBlurRadius : 5,
        shadowColor : "shadow"
      }
    },
    "tooltip-error" : {
      style : {
        width : 1,
        color : "tooltip-text",
        shadowLength : 1,
        shadowBlurRadius : 5,
        shadowColor : "shadow"
      }
    },
    "popup" : {
      include : "main",
      style : {
        shadowLength : 2,
        shadowBlurRadius : 2,
        shadowColor : "shadow"
      }
    },
    "toolbar-separator" : {
      style : {
        widthLeft : 1,
        colorLeft : "border-dark-shadow"
      }
    },
    "toolbar-part-handle" : {
      style : {
        width : 1,
        style : "solid",
        colorTop : "white",
        colorLeft : "white",
        colorRight : "border-dark-shadow",
        colorBottom : "border-dark-shadow"
      }
    },
    "menu" : {
      include : "outset",
      style : {
        shadowLength : 1,
        shadowBlurRadius : 3,
        shadowColor : "shadow"
      }
    },
    "menu-separator" : {
      style : {
        widthTop : 1,
        widthBottom : 1,
        colorTop : "border-dark",
        colorBottom : "border-light"
      }
    },
    "datechooser-date-pane" : {
      style : {
        widthTop : 1,
        colorTop : "gray",
        style : "solid"
      }
    },
    "datechooser-weekday" : {
      style : {
        widthBottom : 1,
        colorBottom : "gray",
        style : "solid"
      }
    },
    "datechooser-week" : {
      style : {
        widthRight : 1,
        colorRight : "gray",
        style : "solid"
      }
    },
    "datechooser-week-header" : {
      style : {
        widthBottom : 1,
        colorBottom : "gray",
        widthRight : 1,
        colorRight : "gray",
        style : "solid"
      }
    },
    "tabview-page-button-top" : {
      style : {
        width : 1,
        color : ["border-light-shadow", "border-dark", "border-dark", "border-light-shadow"],
        innerWidth : 1,
        innerColor : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"],
        widthBottom : 0,
        innerWidthBottom : 0
      }
    },
    "tabview-page-button-bottom" : {
      style : {
        width : 1,
        color : ["border-light-shadow", "border-dark", "border-dark", "border-light-shadow"],
        innerWidth : 1,
        innerColor : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"],
        widthTop : 0,
        innerWidthTop : 0
      }
    },
    "tabview-page-button-left" : {
      style : {
        width : 1,
        color : ["border-light-shadow", "border-dark", "border-dark", "border-light-shadow"],
        innerWidth : 1,
        innerColor : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"],
        widthRight : 0,
        innerWidthRight : 0
      }
    },
    "tabview-page-button-right" : {
      style : {
        width : 1,
        color : ["border-light-shadow", "border-dark", "border-dark", "border-light-shadow"],
        innerWidth : 1,
        innerColor : ["border-light", "border-dark-shadow", "border-dark-shadow", "border-light"],
        widthLeft : 0,
        innerWidthLeft : 0
      }
    },
    "table-statusbar" : {
      style : {
        widthTop : 1,
        colorTop : "border-dark-shadow",
        styleTop : "solid"
      }
    },
    "table-scroller-header" : {
      style : {
        widthBottom : 1,
        colorBottom : "table-header-border",
        styleBottom : "solid"
      }
    },
    "table-scroller-focus-indicator" : {
      style : {
        width : 2,
        color : "table-focus-indicator",
        style : "solid"
      }
    },
    "table-header-cell" : {
      style : {
        widthRight : 1,
        colorRight : "table-header-border",
        styleRight : "solid"
      }
    },
    "table-header-cell-hovered" : {
      style : {
        widthRight : 1,
        colorRight : "table-header-border",
        styleRight : "solid",
        widthBottom : 2,
        colorBottom : "effect",
        styleBottom : "solid"
      }
    },
    "progressbar" : {
      style : {
        backgroundColor : "#FFF",
        width : 1,
        color : "border-separator"
      }
    }
  }
});

qx.Theme.define("qx.theme.classic.Appearance", {
  appearances : {
    "widget" : {
    },
    "label" : {
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "image" : {
      style : function(states){

        return {
          opacity : !states.replacement && states.disabled ? 0.3 : undefined
        };
      }
    },
    "atom" : {
    },
    "atom/label" : "label",
    "atom/icon" : "image",
    "root" : {
      style : function(states){

        return {
          backgroundColor : "background",
          textColor : "text",
          font : "default"
        };
      }
    },
    "popup" : {
      style : function(states){

        return {
          decorator : "popup",
          backgroundColor : "background-pane"
        };
      }
    },
    "tooltip" : {
      include : "popup",
      style : function(states){

        return {
          backgroundColor : "tooltip",
          textColor : "tooltip-text",
          decorator : "tooltip",
          padding : [1, 3, 2, 3],
          offset : [15, 5, 5, 5]
        };
      }
    },
    "tooltip/atom" : "atom",
    "tooltip-error" : {
      include : "tooltip",
      style : function(states){

        return {
          textColor : "text-selected",
          showTimeout : 100,
          hideTimeout : 10000,
          decorator : "tooltip-error",
          font : "bold",
          backgroundColor : "tooltip-invalid"
        };
      }
    },
    "tooltip-error/atom" : "atom",
    "iframe" : {
      style : function(states){

        return {
          backgroundColor : "white",
          decorator : "inset"
        };
      }
    },
    "move-frame" : {
      style : function(states){

        return {
          decorator : "main"
        };
      }
    },
    "resize-frame" : "move-frame",
    "dragdrop-cursor" : {
      style : function(states){

        var icon = "nodrop";
        if(states.copy){

          icon = "copy";
        } else if(states.move){

          icon = "move";
        } else if(states.alias){

          icon = "alias";
        };;
        return {
          source : "decoration/cursors/" + icon + ".gif",
          position : "right-top",
          offset : [2, 16, 2, 6]
        };
      }
    },
    "button-frame" : {
      alias : "atom",
      style : function(states){

        if(states.pressed || states.abandoned || states.checked){

          var decorator = !states.inner && states.focused ? "focused-inset" : "inset";
          var padding = [4, 3, 2, 5];
        } else {

          var decorator = !states.inner && states.focused ? "focused-outset" : "outset";
          var padding = [3, 4];
        };
        return {
          backgroundColor : states.abandoned ? "button-abandoned" : states.hovered ? "button-hovered" : states.checked ? "button-checked" : "button",
          decorator : decorator,
          padding : padding
        };
      }
    },
    "button" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        return {
          center : true
        };
      }
    },
    "hover-button" : {
      alias : "atom",
      include : "atom",
      style : function(states){

        return {
          backgroundColor : states.hovered ? "background-selected" : undefined,
          textColor : states.hovered ? "text-selected" : undefined
        };
      }
    },
    "menubutton" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          icon : "decoration/arrows/down.gif",
          iconPosition : "right"
        };
      }
    },
    "splitbutton" : {
    },
    "splitbutton/button" : "button",
    "splitbutton/arrow" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "decoration/arrows/down.gif"
        };
      }
    },
    "scrollarea/corner" : {
      style : function(){

        return {
          backgroundColor : "background"
        };
      }
    },
    "scrollarea" : "widget",
    "scrollarea/pane" : "widget",
    "scrollarea/scrollbar-x" : "scrollbar",
    "scrollarea/scrollbar-y" : "scrollbar",
    "list" : {
      alias : "scrollarea",
      style : function(states){

        var backgroundColor;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(invalid && !disabled){

          backgroundColor = "background-invalid";
        } else if(focused && !invalid && !disabled){

          backgroundColor = "background-focused";
        } else if(disabled){

          backgroundColor = "background-disabled";
        } else {

          backgroundColor = "white";
        };;
        return {
          decorator : states.focused ? "focused-inset" : "inset",
          backgroundColor : backgroundColor
        };
      }
    },
    "listitem" : {
      alias : "atom",
      style : function(states){

        return {
          gap : 4,
          padding : states.lead ? [2, 4] : [3, 5],
          backgroundColor : states.selected ? "background-selected" : undefined,
          textColor : states.selected ? "text-selected" : undefined,
          decorator : states.lead ? "lead-item" : undefined,
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "form-renderer-label" : {
      include : "label",
      style : function(){

        return {
          paddingTop : 4
        };
      }
    },
    "textfield" : {
      style : function(states){

        var backgroundColor;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(invalid && !disabled){

          backgroundColor = "background-invalid";
        } else if(focused && !invalid && !disabled){

          backgroundColor = "background-focused";
        } else if(disabled){

          backgroundColor = "background-disabled";
        } else {

          backgroundColor = "background-field";
        };;
        var textColor;
        if(states.disabled){

          textColor = "text-disabled";
        } else if(states.showingPlaceholder){

          textColor = "text-placeholder";
        } else {

          textColor = undefined;
        };
        return {
          decorator : states.focused ? "focused-inset" : "inset",
          padding : [2, 3],
          textColor : textColor,
          backgroundColor : backgroundColor
        };
      }
    },
    "textarea" : "textfield",
    "checkbox" : {
      alias : "atom",
      style : function(states){

        var icon;
        if(states.checked){

          if(states.disabled){

            icon = "checkbox-checked";
          } else if(states.focused){

            icon = "checkbox-checked-focused";
          } else if(states.pressed){

            icon = "checkbox-checked-pressed";
          } else if(states.hovered){

            icon = "checkbox-checked-hovered";
          } else {

            icon = "checkbox-checked";
          };;;
        } else if(states.undetermined){

          if(states.disabled){

            icon = "checkbox-undetermined";
          } else if(states.focused){

            icon = "checkbox-undetermined-focused";
          } else if(states.hovered){

            icon = "checkbox-undetermined-hovered";
          } else {

            icon = "checkbox-undetermined";
          };;
        } else if(!states.disabled){

          if(states.focused){

            icon = "checkbox-focused";
          } else if(states.pressed){

            icon = "checkbox-pressed";
          } else if(states.hovered){

            icon = "checkbox-hovered";
          };;
        };;
        icon = icon || "checkbox";
        var invalid = states.invalid && !states.disabled ? "-invalid" : "";
        return {
          icon : "decoration/form/" + icon + invalid + ".png",
          gap : 6
        };
      }
    },
    "radiobutton" : {
      alias : "checkbox",
      include : "checkbox",
      style : function(states){

        var icon;
        if(states.checked && states.focused){

          icon = "radiobutton-checked-focused";
        } else if(states.checked && states.disabled){

          icon = "radiobutton-checked-disabled";
        } else if(states.checked && states.pressed){

          icon = "radiobutton-checked-pressed";
        } else if(states.checked && states.hovered){

          icon = "radiobutton-checked-hovered";
        } else if(states.checked){

          icon = "radiobutton-checked";
        } else if(states.focused){

          icon = "radiobutton-focused";
        } else if(states.pressed){

          icon = "radiobutton-pressed";
        } else if(states.hovered){

          icon = "radiobutton-hovered";
        } else {

          icon = "radiobutton";
        };;;;;;;
        var invalid = states.invalid && !states.disabled ? "-invalid" : "";
        return {
          icon : "decoration/form/" + icon + invalid + ".png"
        };
      }
    },
    "spinner" : {
      style : function(states){

        return {
          decorator : states.focused ? "focused-inset" : "inset",
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "spinner/textfield" : {
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined,
          padding : [2, 3]
        };
      }
    },
    "spinner/upbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "decoration/arrows/up-small.gif",
          padding : states.pressed ? [2, 2, 0, 4] : [1, 3, 1, 3],
          backgroundColor : states.hovered ? "button-hovered" : "button"
        };
      }
    },
    "spinner/downbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "decoration/arrows/down-small.gif",
          padding : states.pressed ? [2, 2, 0, 4] : [1, 3, 1, 3],
          backgroundColor : states.hovered ? "button-hovered" : "button"
        };
      }
    },
    "datefield" : "combobox",
    "datefield/button" : {
      alias : "combobox/button",
      include : "combobox/button",
      style : function(states){

        return {
          icon : "icon/16/apps/office-calendar.png",
          padding : [0, 3],
          backgroundColor : undefined,
          decorator : undefined
        };
      }
    },
    "datefield/list" : {
      alias : "datechooser",
      include : "datechooser",
      style : function(states){

        return {
          decorator : states.focused ? "focused-inset" : "inset"
        };
      }
    },
    "groupbox" : {
      style : function(states){

        return {
          backgroundColor : "background"
        };
      }
    },
    "groupbox/legend" : {
      alias : "atom",
      style : function(states){

        return {
          backgroundColor : "background",
          textColor : states.invalid ? "invalid" : undefined,
          padding : [1, 0, 1, 4]
        };
      }
    },
    "groupbox/frame" : {
      style : function(states){

        return {
          padding : [12, 9],
          marginTop : 10,
          decorator : "groove"
        };
      }
    },
    "check-groupbox" : "groupbox",
    "check-groupbox/legend" : {
      alias : "checkbox",
      include : "checkbox",
      style : function(states){

        return {
          backgroundColor : "background",
          textColor : states.invalid ? "invalid" : undefined,
          padding : [1, 0, 1, 4]
        };
      }
    },
    "radio-groupbox" : "groupbox",
    "radio-groupbox/legend" : {
      alias : "radiobutton",
      include : "radiobutton",
      style : function(states){

        return {
          backgroundColor : "background",
          textColor : states.invalid ? "invalid" : undefined,
          padding : [1, 0, 1, 4]
        };
      }
    },
    "toolbar" : {
      style : function(states){

        return {
          backgroundColor : "background"
        };
      }
    },
    "toolbar/part" : {
    },
    "toolbar/part/container" : {
    },
    "toolbar/part/handle" : {
      style : function(states){

        return {
          decorator : "toolbar-part-handle",
          backgroundColor : "background",
          padding : [0, 1],
          margin : [3, 2],
          allowGrowY : true
        };
      }
    },
    "toolbar-separator" : {
      style : function(states){

        return {
          margin : [3, 2],
          decorator : "toolbar-separator"
        };
      }
    },
    "toolbar-button" : {
      alias : "atom",
      style : function(states){

        if(states.pressed || states.checked || states.abandoned){

          var border = "inset-thin";
          var padding = [3, 2, 1, 4];
        } else if(states.hovered && !states.disabled){

          var border = "outset-thin";
          var padding = [2, 3];
        } else {

          var border = undefined;
          var padding = [3, 4];
        };
        return {
          cursor : "default",
          decorator : border,
          padding : padding,
          backgroundColor : states.abandoned ? "button-abandoned" : states.checked ? "background-light" : "button"
        };
      }
    },
    "toolbar-menubutton" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        return {
          showArrow : true
        };
      }
    },
    "toolbar-menubutton/arrow" : {
      alias : "image",
      include : "image",
      style : function(states){

        return {
          source : "decoration/arrows/down-small.gif"
        };
      }
    },
    "toolbar-splitbutton" : {
    },
    "toolbar-splitbutton/button" : "toolbar-button",
    "toolbar-splitbutton/arrow" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        return {
          icon : "decoration/arrows/down.gif"
        };
      }
    },
    "slidebar" : {
    },
    "slidebar/scrollpane" : {
    },
    "slidebar/content" : {
    },
    "slidebar/button-forward" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : states.vertical ? "decoration/arrows/down.gif" : "decoration/arrows/next.gif"
        };
      }
    },
    "slidebar/button-backward" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : states.vertical ? "decoration/arrows/up.gif" : "decoration/arrows/left.gif"
        };
      }
    },
    "tabview" : {
    },
    "tabview/bar" : {
      alias : "slidebar",
      style : function(states){

        var marginTop = 0,marginRight = 0,marginBottom = 0,marginLeft = 0;
        if(states.barTop){

          marginBottom = -2;
        } else if(states.barBottom){

          marginTop = -2;
        } else if(states.barRight){

          marginLeft = -2;
        } else {

          marginRight = -2;
        };;
        return {
          marginBottom : marginBottom,
          marginTop : marginTop,
          marginLeft : marginLeft,
          marginRight : marginRight
        };
      }
    },
    "tabview/bar/button-forward" : {
      include : "slidebar/button-forward",
      alias : "slidebar/button-forward",
      style : function(states){

        if(states.barTop || states.barBottom){

          return {
            marginTop : 2,
            marginBottom : 2
          };
        } else {

          return {
            marginLeft : 2,
            marginRight : 2
          };
        };
      }
    },
    "tabview/bar/button-backward" : {
      include : "slidebar/button-backward",
      alias : "slidebar/button-backward",
      style : function(states){

        if(states.barTop || states.barBottom){

          return {
            marginTop : 2,
            marginBottom : 2
          };
        } else {

          return {
            marginLeft : 2,
            marginRight : 2
          };
        };
      }
    },
    "tabview/pane" : {
      style : function(states){

        return {
          backgroundColor : "background",
          decorator : "outset",
          padding : 10
        };
      }
    },
    "tabview-page" : "widget",
    "tabview-page/button" : {
      style : function(states){

        var decorator;
        var marginTop = 0,marginRight = 0,marginBottom = 0,marginLeft = 0;
        if(states.barTop || states.barBottom){

          var paddingTop = 2,paddingBottom = 2,paddingLeft = 6,paddingRight = 6;
        } else {

          var paddingTop = 6,paddingBottom = 6,paddingLeft = 6,paddingRight = 6;
        };
        if(states.barTop){

          decorator = "tabview-page-button-top";
        } else if(states.barRight){

          decorator = "tabview-page-button-right";
        } else if(states.barBottom){

          decorator = "tabview-page-button-bottom";
        } else {

          decorator = "tabview-page-button-left";
        };;
        if(states.checked){

          if(states.barTop || states.barBottom){

            paddingLeft += 2;
            paddingRight += 2;
          } else {

            paddingTop += 2;
            paddingBottom += 2;
          };
        } else {

          if(states.barTop || states.barBottom){

            marginBottom += 2;
            marginTop += 2;
          } else if(states.barLeft || states.barRight){

            marginRight += 2;
            marginLeft += 2;
          };
        };
        if(states.checked){

          if(!states.firstTab){

            if(states.barTop || states.barBottom){

              marginLeft = -4;
            } else {

              marginTop = -4;
            };
          };
          if(!states.lastTab){

            if(states.barTop || states.barBottom){

              marginRight = -4;
            } else {

              marginBottom = -4;
            };
          };
        };
        return {
          zIndex : states.checked ? 10 : 5,
          decorator : decorator,
          backgroundColor : "background",
          padding : [paddingTop, paddingRight, paddingBottom, paddingLeft],
          margin : [marginTop, marginRight, marginBottom, marginLeft],
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "tabview-page/button/label" : {
      alias : "label",
      style : function(states){

        return {
          padding : states.focused ? [0, 1, 0, 1] : [1, 2, 1, 2],
          decorator : states.focused ? "keyboard-focus" : undefined
        };
      }
    },
    "tabview-page/button/icon" : "image",
    "tabview-page/button/close-button" : {
      alias : "atom",
      style : function(states){

        return {
          icon : "qx/icon/Oxygen/16/actions/window-close.png"
        };
      }
    },
    "scrollbar" : {
    },
    "scrollbar/slider" : {
      alias : "slider",
      style : function(states){

        return {
          backgroundColor : "background-light"
        };
      }
    },
    "scrollbar/slider/knob" : {
      include : "button-frame",
      style : function(states){

        return {
          height : 14,
          width : 14,
          minHeight : states.horizontal ? undefined : 9,
          minWidth : states.horizontal ? 9 : undefined
        };
      }
    },
    "scrollbar/button" : {
      alias : "button",
      include : "button",
      style : function(states){

        var padding;
        if(states.up || states.down){

          if(states.pressed || states.abandoned || states.checked){

            padding = [5, 2, 3, 4];
          } else {

            padding = [4, 3];
          };
        } else {

          if(states.pressed || states.abandoned || states.checked){

            padding = [4, 3, 2, 5];
          } else {

            padding = [3, 4];
          };
        };
        var icon = "decoration/arrows/";
        if(states.left){

          icon += "left.gif";
        } else if(states.right){

          icon += "right.gif";
        } else if(states.up){

          icon += "up.gif";
        } else {

          icon += "down.gif";
        };;
        return {
          padding : padding,
          icon : icon
        };
      }
    },
    "scrollbar/button-begin" : "scrollbar/button",
    "scrollbar/button-end" : "scrollbar/button",
    "slider" : {
      style : function(states){

        var backgroundColor;
        if(states.disabled){

          backgroundColor = "background-disabled";
        } else if(states.invalid){

          backgroundColor = "background-invalid";
        } else if(states.focused){

          backgroundColor = "background-light";
        } else {

          backgroundColor = "background-field";
        };;
        return {
          backgroundColor : backgroundColor,
          decorator : states.focused ? "focused-inset" : "inset"
        };
      }
    },
    "slider/knob" : {
      include : "button-frame",
      style : function(states){

        return {
          width : 14,
          height : 14,
          decorator : "outset"
        };
      }
    },
    "tree-folder/open" : {
      style : function(states){

        return {
          source : states.opened ? "decoration/tree/minus.gif" : "decoration/tree/plus.gif"
        };
      }
    },
    "tree-folder" : {
      style : function(states){

        return {
          padding : [2, 3, 2, 0],
          icon : states.opened ? "icon/16/places/folder-open.png" : "icon/16/places/folder.png",
          iconOpened : "icon/16/places/folder-open.png",
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "tree-folder/icon" : {
      style : function(states){

        return {
          padding : [0, 4, 0, 0]
        };
      }
    },
    "tree-folder/label" : {
      style : function(states){

        return {
          padding : [1, 2],
          backgroundColor : states.selected ? "background-selected" : undefined,
          textColor : states.selected ? "text-selected" : undefined
        };
      }
    },
    "tree-file" : {
      include : "tree-folder",
      alias : "tree-folder",
      style : function(states){

        return {
          icon : "icon/16/mimetypes/text-plain.png",
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "tree" : {
      include : "list",
      alias : "list",
      style : function(states){

        return {
          contentPadding : [4, 4, 4, 4]
        };
      }
    },
    "treevirtual" : {
      style : function(states){

        return {
          decorator : "main"
        };
      }
    },
    "treevirtual-folder" : {
      style : function(states){

        return {
          icon : (states.opened ? "icon/16/places/folder-open.png" : "icon/16/places/folder.png"),
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "treevirtual-file" : {
      include : "treevirtual-folder",
      alias : "treevirtual-folder",
      style : function(states){

        return {
          icon : "icon/16/mimetypes/text-plain.png",
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "treevirtual-line" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/line.gif"
        };
      }
    },
    "treevirtual-contract" : {
      style : function(states){

        return {
          icon : "decoration/tree/minus.gif"
        };
      }
    },
    "treevirtual-expand" : {
      style : function(states){

        return {
          icon : "decoration/tree/plus.gif"
        };
      }
    },
    "treevirtual-only-contract" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/only_minus.gif"
        };
      }
    },
    "treevirtual-only-expand" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/only_plus.gif"
        };
      }
    },
    "treevirtual-start-contract" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/start_minus.gif"
        };
      }
    },
    "treevirtual-start-expand" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/start_plus.gif"
        };
      }
    },
    "treevirtual-end-contract" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/end_minus.gif"
        };
      }
    },
    "treevirtual-end-expand" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/end_plus.gif"
        };
      }
    },
    "treevirtual-cross-contract" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/cross_minus.gif"
        };
      }
    },
    "treevirtual-cross-expand" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/cross_plus.gif"
        };
      }
    },
    "treevirtual-end" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/end.gif"
        };
      }
    },
    "treevirtual-cross" : {
      style : function(states){

        return {
          icon : "decoration/treevirtual/cross.gif"
        };
      }
    },
    "window" : {
      style : function(states){

        return {
          contentPadding : [10, 10, 10, 10],
          backgroundColor : "background",
          decorator : states.maximized ? undefined : "window"
        };
      }
    },
    "window-resize-frame" : "resize-frame",
    "window/pane" : {
    },
    "window/captionbar" : {
      style : function(states){

        return {
          padding : 1,
          backgroundColor : states.active ? "window-active-caption" : "window-inactive-caption",
          textColor : states.active ? "window-active-caption-text" : "window-inactive-caption-text"
        };
      }
    },
    "window/icon" : {
      style : function(states){

        return {
          marginRight : 4
        };
      }
    },
    "window/title" : {
      style : function(states){

        return {
          cursor : "default",
          font : "bold",
          marginRight : 20,
          alignY : "middle"
        };
      }
    },
    "window/minimize-button" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          icon : "decoration/window/minimize.gif",
          padding : states.pressed || states.abandoned ? [2, 1, 0, 3] : [1, 2]
        };
      }
    },
    "window/restore-button" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          icon : "decoration/window/restore.gif",
          padding : states.pressed || states.abandoned ? [2, 1, 0, 3] : [1, 2]
        };
      }
    },
    "window/maximize-button" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          icon : "decoration/window/maximize.gif",
          padding : states.pressed || states.abandoned ? [2, 1, 0, 3] : [1, 2]
        };
      }
    },
    "window/close-button" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          marginLeft : 2,
          icon : "decoration/window/close.gif",
          padding : states.pressed || states.abandoned ? [2, 1, 0, 3] : [1, 2]
        };
      }
    },
    "window/statusbar" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          padding : [2, 6]
        };
      }
    },
    "window/statusbar-text" : "label",
    "resizer" : {
      style : function(states){

        return {
          decorator : "outset"
        };
      }
    },
    "splitpane" : {
    },
    "splitpane/splitter" : {
      style : function(states){

        return {
          backgroundColor : "background"
        };
      }
    },
    "splitpane/splitter/knob" : {
      style : function(states){

        return {
          source : states.horizontal ? "decoration/splitpane/knob-horizontal.png" : "decoration/splitpane/knob-vertical.png",
          padding : 2
        };
      }
    },
    "splitpane/slider" : {
      style : function(states){

        return {
          backgroundColor : "border-dark",
          opacity : 0.3
        };
      }
    },
    "selectbox" : {
      include : "button-frame",
      style : function(states){

        var background = "button";
        if(states.invalid && !states.disabled){

          background = "background-invalid";
        } else if(states.abandoned){

          background = "button-abandoned";
        } else if(!states.abandoned && states.hovered){

          background = "button-hovered";
        } else if(!states.abandoned && !states.hovered && states.checked){

          background = "button-checked";
        };;;
        return {
          backgroundColor : background
        };
      }
    },
    "selectbox/atom" : "atom",
    "selectbox/popup" : "popup",
    "selectbox/list" : "list",
    "selectbox/arrow" : {
      include : "image",
      style : function(states){

        return {
          source : "decoration/arrows/down.gif",
          paddingRight : 4,
          paddingLeft : 5
        };
      }
    },
    "datechooser" : {
      style : function(states){

        return {
          decorator : "outset"
        };
      }
    },
    "datechooser/navigation-bar" : {
      style : function(states){

        return {
          backgroundColor : "date-chooser",
          textColor : states.disabled ? "text-disabled" : states.invalid ? "invalid" : undefined,
          padding : [2, 10]
        };
      }
    },
    "datechooser/last-year-button-tooltip" : "tooltip",
    "datechooser/last-month-button-tooltip" : "tooltip",
    "datechooser/next-year-button-tooltip" : "tooltip",
    "datechooser/next-month-button-tooltip" : "tooltip",
    "datechooser/last-year-button" : "datechooser/button",
    "datechooser/last-month-button" : "datechooser/button",
    "datechooser/next-year-button" : "datechooser/button",
    "datechooser/next-month-button" : "datechooser/button",
    "datechooser/button/icon" : {
    },
    "datechooser/button" : {
      style : function(states){

        var result = {
          width : 17,
          show : "icon"
        };
        if(states.lastYear){

          result.icon = "decoration/arrows/rewind.gif";
        } else if(states.lastMonth){

          result.icon = "decoration/arrows/left.gif";
        } else if(states.nextYear){

          result.icon = "decoration/arrows/forward.gif";
        } else if(states.nextMonth){

          result.icon = "decoration/arrows/right.gif";
        };;;
        if(states.pressed || states.checked || states.abandoned){

          result.decorator = "inset-thin";
        } else if(states.hovered){

          result.decorator = "outset-thin";
        } else {

          result.decorator = undefined;
        };
        if(states.pressed || states.checked || states.abandoned){

          result.padding = [2, 0, 0, 2];
        } else if(states.hovered){

          result.padding = 1;
        } else {

          result.padding = 2;
        };
        return result;
      }
    },
    "datechooser/month-year-label" : {
      style : function(states){

        return {
          font : "bold",
          textAlign : "center"
        };
      }
    },
    "datechooser/date-pane" : {
      style : function(states){

        return {
          decorator : "datechooser-date-pane",
          backgroundColor : "date-chooser"
        };
      }
    },
    "datechooser/weekday" : {
      style : function(states){

        return {
          decorator : "datechooser-weekday",
          font : "bold",
          textAlign : "center",
          textColor : states.disabled ? "text-disabled" : states.weekend ? "date-chooser-title" : "date-chooser",
          backgroundColor : states.weekend ? "date-chooser" : "date-chooser-title"
        };
      }
    },
    "datechooser/day" : {
      style : function(states){

        return {
          textAlign : "center",
          decorator : states.today ? "main" : undefined,
          textColor : states.disabled ? "text-disabled" : states.selected ? "text-selected" : states.otherMonth ? "text-disabled" : undefined,
          backgroundColor : states.disabled ? undefined : states.selected ? "date-chooser-selected" : undefined,
          padding : [2, 4]
        };
      }
    },
    "datechooser/week" : {
      style : function(states){

        return {
          textAlign : "center",
          textColor : "date-chooser-title",
          padding : [2, 4],
          decorator : states.header ? "datechooser-week-header" : "datechooser-week"
        };
      }
    },
    "combobox" : {
      style : function(states){

        var backgroundColor;
        if(states.disabled){

          backgroundColor = "background-disabled";
        } else if(states.invalid){

          backgroundColor = "background-invalid";
        } else if(states.focused){

          backgroundColor = "background-focused";
        } else {

          backgroundColor = "background-field";
        };;
        return {
          decorator : states.focused ? "focused-inset" : "inset",
          textColor : states.disabled ? "text-disabled" : undefined,
          backgroundColor : backgroundColor
        };
      }
    },
    "combobox/button" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "decoration/arrows/down.gif",
          backgroundColor : states.hovered ? "button-hovered" : "button"
        };
      }
    },
    "combobox/popup" : "popup",
    "combobox/list" : "list",
    "combobox/textfield" : {
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined,
          padding : [2, 3],
          backgroundColor : undefined
        };
      }
    },
    "menu" : {
      style : function(states){

        var result = {
          backgroundColor : "background",
          decorator : "menu",
          spacingX : 6,
          spacingY : 1,
          iconColumnWidth : 16,
          arrowColumnWidth : 4,
          padding : 1,
          placementModeY : states.submenu || states.contextmenu ? "best-fit" : "keep-align"
        };
        if(states.submenu){

          result.position = "right-top";
          result.offset = [-2, -3];
        };
        if(states.contextmenu){

          result.offset = 4;
        };
        return result;
      }
    },
    "menu/slidebar" : "menu-slidebar",
    "menu-slidebar" : "widget",
    "menu-slidebar-button" : {
      style : function(states){

        return {
          backgroundColor : states.hovered ? "background-selected" : undefined,
          padding : 6,
          center : true
        };
      }
    },
    "menu-slidebar/button-backward" : {
      include : "menu-slidebar-button",
      style : function(states){

        return {
          icon : states.hovered ? "decoration/arrows/up-invert.gif" : "decoration/arrows/up.gif"
        };
      }
    },
    "menu-slidebar/button-forward" : {
      include : "menu-slidebar-button",
      style : function(states){

        return {
          icon : states.hovered ? "decoration/arrows/down-invert.gif" : "decoration/arrows/down.gif"
        };
      }
    },
    "menu-separator" : {
      style : function(states){

        return {
          height : 0,
          decorator : "menu-separator",
          marginTop : 4,
          marginBottom : 4,
          marginLeft : 2,
          marginRight : 2
        };
      }
    },
    "menu-button" : {
      alias : "atom",
      style : function(states){

        return {
          backgroundColor : states.selected ? "background-selected" : undefined,
          textColor : states.selected ? "text-selected" : undefined,
          padding : [2, 6]
        };
      }
    },
    "menu-button/icon" : {
      include : "image",
      style : function(states){

        return {
          alignY : "middle"
        };
      }
    },
    "menu-button/label" : {
      include : "label",
      style : function(states){

        return {
          alignY : "middle",
          padding : 1
        };
      }
    },
    "menu-button/shortcut" : {
      include : "label",
      style : function(states){

        return {
          alignY : "middle",
          marginLeft : 14,
          padding : 1
        };
      }
    },
    "menu-button/arrow" : {
      include : "image",
      style : function(states){

        return {
          source : states.selected ? "decoration/arrows/right-invert.gif" : "decoration/arrows/right.gif",
          alignY : "middle"
        };
      }
    },
    "menu-checkbox" : {
      alias : "menu-button",
      include : "menu-button",
      style : function(states){

        return {
          icon : !states.checked ? undefined : states.selected ? "decoration/menu/checkbox-invert.gif" : "decoration/menu/checkbox.gif"
        };
      }
    },
    "menu-radiobutton" : {
      alias : "menu-button",
      include : "menu-button",
      style : function(states){

        return {
          icon : !states.checked ? undefined : states.selected ? "decoration/menu/radiobutton-invert.gif" : "decoration/menu/radiobutton.gif"
        };
      }
    },
    "menubar" : {
      style : function(states){

        return {
          backgroundColor : "background",
          decorator : "outset"
        };
      }
    },
    "menubar-button" : {
      alias : "atom",
      style : function(states){

        return {
          padding : [2, 6],
          backgroundColor : states.pressed || states.hovered && !states.disabled ? "background-selected" : undefined,
          textColor : states.pressed || states.hovered ? "text-selected" : undefined
        };
      }
    },
    "colorselector" : "widget",
    "colorselector/control-bar" : "widget",
    "colorselector/visual-pane" : "groupbox",
    "colorselector/control-pane" : "widget",
    "colorselector/preset-grid" : "widget",
    "colorselector/colorbucket" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          width : 16,
          height : 16
        };
      }
    },
    "colorselector/preset-field-set" : "groupbox",
    "colorselector/input-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 12
        };
      }
    },
    "colorselector/preview-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 12
        };
      }
    },
    "colorselector/hex-field-composite" : "widget",
    "colorselector/hex-field" : "textfield",
    "colorselector/rgb-spinner-composite" : "widget",
    "colorselector/rgb-spinner-red" : "spinner",
    "colorselector/rgb-spinner-green" : "spinner",
    "colorselector/rgb-spinner-blue" : "spinner",
    "colorselector/hsb-spinner-composite" : "widget",
    "colorselector/hsb-spinner-hue" : "spinner",
    "colorselector/hsb-spinner-saturation" : "spinner",
    "colorselector/hsb-spinner-brightness" : "spinner",
    "colorselector/preview-content-old" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          width : 50,
          height : 10
        };
      }
    },
    "colorselector/preview-content-new" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          backgroundColor : "white",
          width : 50,
          height : 10
        };
      }
    },
    "colorselector/hue-saturation-field" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          margin : 5
        };
      }
    },
    "colorselector/brightness-field" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          margin : [5, 7]
        };
      }
    },
    "colorselector/hue-saturation-pane" : "widget",
    "colorselector/hue-saturation-handle" : "widget",
    "colorselector/brightness-pane" : "widget",
    "colorselector/brightness-handle" : "widget",
    "table" : "widget",
    "table/statusbar" : {
      style : function(states){

        return {
          decorator : "table-statusbar",
          paddingLeft : 2,
          paddingRight : 2
        };
      }
    },
    "table/column-button" : {
      alias : "button",
      style : function(states){

        var border,padding;
        if(states.pressed || states.checked || states.abandoned){

          border = "inset-thin";
          padding = [3, 2, 1, 4];
        } else if(states.hovered){

          border = "outset-thin";
          padding = [2, 3];
        } else {

          border = undefined;
          padding = [3, 4];
        };
        return {
          decorator : border,
          padding : padding,
          backgroundColor : states.abandoned ? "button-abandoned" : "button",
          icon : "decoration/table/select-column-order.png"
        };
      }
    },
    "table-column-reset-button" : {
      extend : "menu-button",
      alias : "menu-button",
      style : function(){

        return {
          icon : "icon/16/actions/view-refresh.png"
        };
      }
    },
    "table-scroller/scrollbar-x" : "scrollbar",
    "table-scroller/scrollbar-y" : "scrollbar",
    "table-scroller" : "widget",
    "table-scroller/header" : {
      style : function(states){

        return {
          decorator : "table-scroller-header",
          backgroundColor : "table-header"
        };
      }
    },
    "table-scroller/pane" : {
      style : function(states){

        return {
          backgroundColor : "table-pane"
        };
      }
    },
    "table-scroller/focus-indicator" : {
      style : function(states){

        return {
          decorator : "table-scroller-focus-indicator"
        };
      }
    },
    "table-scroller/resize-line" : {
      style : function(states){

        return {
          backgroundColor : "table-header-border",
          width : 3
        };
      }
    },
    "table-header-cell" : {
      alias : "atom",
      style : function(states){

        return {
          minWidth : 13,
          paddingLeft : 2,
          paddingRight : 2,
          paddingBottom : states.hovered ? 0 : 2,
          decorator : states.hovered ? "table-header-cell-hovered" : "table-header-cell",
          backgroundColor : states.hovered ? "table-header-cell-hover" : "table-header-cell",
          sortIcon : states.sorted ? (states.sortedAscending ? "decoration/table/ascending.png" : "decoration/table/descending.png") : undefined
        };
      }
    },
    "table-header-cell/icon" : {
      style : function(states){

        return {
          marginRight : 4,
          opacity : states.disabled ? 0.3 : 1
        };
      }
    },
    "table-header-cell/sort-icon" : {
      style : function(states){

        return {
          alignY : "middle",
          opacity : states.disabled ? 0.3 : 1
        };
      }
    },
    "table-editor-textfield" : {
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined,
          padding : [2, 2]
        };
      }
    },
    "table-editor-selectbox" : {
      include : "selectbox",
      alias : "selectbox",
      style : function(states){

        return {
          padding : [0, 2]
        };
      }
    },
    "table-editor-combobox" : {
      include : "combobox",
      alias : "combobox",
      style : function(states){

        return {
          decorator : undefined
        };
      }
    },
    "progressive-table-header" : {
      alias : "table-scroller/header"
    },
    "progressive-table-header-cell" : {
      style : function(states){

        return {
          decorator : "table-header-cell",
          backgroundColor : "table-header-cell",
          padding : [0, 6, 0, 6]
        };
      }
    },
    "colorpopup" : {
      alias : "popup",
      include : "popup",
      style : function(states){

        return {
          decorator : "outset",
          padding : 5,
          backgroundColor : "background"
        };
      }
    },
    "colorpopup/field" : {
      style : function(states){

        return {
          decorator : "inset-thin",
          margin : 2,
          width : 14,
          height : 14,
          backgroundColor : "background"
        };
      }
    },
    "colorpopup/selector-button" : "button",
    "colorpopup/auto-button" : "button",
    "colorpopup/preview-pane" : "groupbox",
    "colorpopup/current-preview" : {
      style : function(state){

        return {
          height : 20,
          padding : 4,
          marginLeft : 4,
          decorator : "inset-thin",
          allowGrowX : true
        };
      }
    },
    "colorpopup/selected-preview" : {
      style : function(state){

        return {
          height : 20,
          padding : 4,
          marginRight : 4,
          decorator : "inset-thin",
          allowGrowX : true
        };
      }
    },
    "colorpopup/colorselector-okbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "icon/16/actions/dialog-ok.png"
        };
      }
    },
    "colorpopup/colorselector-cancelbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "icon/16/actions/dialog-cancel.png"
        };
      }
    },
    "virtual-list" : "list",
    "virtual-list/row-layer" : "row-layer",
    "row-layer" : "widget",
    "column-layer" : "widget",
    "group-item" : {
      include : "label",
      alias : "label",
      style : function(states){

        return {
          padding : 4,
          backgroundColor : "#BABABA",
          textColor : "white",
          font : "bold"
        };
      }
    },
    "virtual-selectbox" : "selectbox",
    "virtual-selectbox/dropdown" : "popup",
    "virtual-selectbox/dropdown/list" : {
      alias : "virtual-list"
    },
    "virtual-combobox" : "combobox",
    "virtual-combobox/dropdown" : "popup",
    "virtual-combobox/dropdown/list" : {
      alias : "virtual-list"
    },
    "virtual-tree" : {
      include : "tree",
      alias : "tree",
      style : function(states){

        return {
          itemHeight : 21
        };
      }
    },
    "virtual-tree-folder" : "tree-folder",
    "virtual-tree-file" : "tree-file",
    "cell" : {
      style : function(states){

        return {
          backgroundColor : states.selected ? "table-row-background-selected" : "table-row-background-even",
          textColor : states.selected ? "text-selected" : "text",
          padding : [3, 6]
        };
      }
    },
    "cell-string" : "cell",
    "cell-number" : {
      include : "cell",
      style : function(states){

        return {
          textAlign : "right"
        };
      }
    },
    "cell-image" : "cell",
    "cell-boolean" : "cell",
    "cell-atom" : "cell",
    "cell-date" : "cell",
    "cell-html" : "cell",
    "progressbar" : {
      style : function(states){

        return {
          decorator : "progressbar",
          padding : [1],
          backgroundColor : "white",
          width : 200,
          height : 20
        };
      }
    },
    "progressbar/progress" : {
      style : function(states){

        return {
          backgroundColor : states.disabled ? "background-disabled" : "background-selected"
        };
      }
    },
    "app-header" : {
      style : function(states){

        return {
          textColor : "text-selected",
          backgroundColor : "background-selected",
          padding : [8, 12]
        };
      }
    },
    "app-header-label" : "label",
    "app-splitpane" : {
      alias : "splitpane",
      style : function(states){

        return {
          padding : [0, 10, 10, 10],
          backgroundColor : "light-background"
        };
      }
    }
  }
});

qx.Theme.define("qx.theme.classic.Font", {
  fonts : {
    "default" : {
      size : 11,
      lineHeight : 1.4,
      family : ["Lucida Grande", "Tahoma", "Verdana", "Bitstream Vera Sans", "Liberation Sans"]
    },
    "bold" : {
      size : 11,
      lineHeight : 1.4,
      family : ["Lucida Grande", "Tahoma", "Verdana", "Bitstream Vera Sans", "Liberation Sans"],
      bold : true
    },
    "small" : {
      size : 10,
      lineHeight : 1.4,
      family : ["Lucida Grande", "Tahoma", "Verdana", "Bitstream Vera Sans", "Liberation Sans"]
    },
    "monospace" : {
      size : 11,
      lineHeight : 1.4,
      family : ["DejaVu Sans Mono", "Courier New", "monospace"]
    }
  }
});

qx.Theme.define("qx.theme.icon.Oxygen", {
  title : "Oxygen",
  aliases : {
    "icon" : "qx/icon/Oxygen"
  }
});

qx.Theme.define("qx.theme.classic.Color", {
  colors : {
    "background" : "#EBE9ED",
    "background-light" : "#F3F0F5",
    "light-background" : "#EBE9ED",
    "background-focused" : "#F3F8FD",
    "background-focused-inner" : "#DBEAF9",
    "background-disabled" : "#F4F4F4",
    "background-selected" : "#3E6CA8",
    "background-field" : "white",
    "background-pane" : "#FAFBFE",
    "background-invalid" : "#FFE0E0",
    "border-lead" : "#888888",
    "border-light" : "white",
    "border-light-shadow" : "#DCDFE4",
    "border-dark-shadow" : "#A7A6AA",
    "border-dark" : "#85878C",
    "border-main" : "#85878C",
    "border-focused-light" : "#BCCEE5",
    "border-focused-light-shadow" : "#A5BDDE",
    "border-focused-dark-shadow" : "#7CA0CF",
    "border-focused-dark" : "#3E6CA8",
    "border-separator" : "#808080",
    "shadow" : qx.core.Environment.get("css.rgba") ? "rgba(0, 0, 0, 0.4)" : "#666666",
    "invalid" : "#990000",
    "border-focused-invalid" : "#FF9999",
    "text" : "black",
    "text-disabled" : "#A7A6AA",
    "text-selected" : "white",
    "text-focused" : "#3E5B97",
    "text-placeholder" : "#CBC8CD",
    "tooltip" : "#FFFFE1",
    "tooltip-text" : "black",
    "tooltip-invalid" : "#C82C2C",
    "button" : "#EBE9ED",
    "button-hovered" : "#F6F5F7",
    "button-abandoned" : "#F9F8E9",
    "button-checked" : "#F3F0F5",
    "window-active-caption-text" : [255, 255, 255],
    "window-inactive-caption-text" : [255, 255, 255],
    "window-active-caption" : [51, 94, 168],
    "window-inactive-caption" : [111, 161, 217],
    "date-chooser" : "white",
    "date-chooser-title" : [116, 116, 116],
    "date-chooser-selected" : [52, 52, 52],
    "effect" : [254, 200, 60],
    "table-pane" : "white",
    "table-header" : [242, 242, 242],
    "table-header-border" : [214, 213, 217],
    "table-header-cell" : [235, 234, 219],
    "table-header-cell-hover" : [255, 255, 255],
    "table-focus-indicator" : [179, 217, 255],
    "table-row-background-focused-selected" : [90, 138, 211],
    "table-row-background-focused" : [221, 238, 255],
    "table-row-background-selected" : [51, 94, 168],
    "table-row-background-even" : [250, 248, 243],
    "table-row-background-odd" : [255, 255, 255],
    "table-row-selected" : [255, 255, 255],
    "table-row" : [0, 0, 0],
    "table-row-line" : "#EEE",
    "table-column-line" : "#EEE",
    "progressive-table-header" : "#AAAAAA",
    "progressive-table-row-background-even" : [250, 248, 243],
    "progressive-table-row-background-odd" : [255, 255, 255],
    "progressive-progressbar-background" : "gray",
    "progressive-progressbar-indicator-done" : "#CCCCCC",
    "progressive-progressbar-indicator-undone" : "white",
    "progressive-progressbar-percent-background" : "gray",
    "progressive-progressbar-percent-text" : "white"
  }
});

qx.Theme.define("qx.theme.Classic", {
  title : "Classic Windows",
  meta : {
    color : qx.theme.classic.Color,
    decoration : qx.theme.classic.Decoration,
    font : qx.theme.classic.Font,
    appearance : qx.theme.classic.Appearance,
    icon : qx.theme.icon.Oxygen
  }
});

qx.Class.define("qx.ui.table.celleditor.PasswordField", {
  extend : qx.ui.table.celleditor.AbstractField,
  members : {
    _createEditor : function(){

      var cellEditor = new qx.ui.form.PasswordField();
      cellEditor.setAppearance("table-editor-textfield");
      return cellEditor;
    }
  }
});

qx.Class.define("qx.ui.form.PasswordField", {
  extend : qx.ui.form.TextField,
  members : {
    _createInputElement : function(){

      return new qx.html.Input("password");
    }
  }
});

qx.Class.define("qx.ui.layout.LineSizeIterator", {
  extend : Object,
  construct : function(children, spacing){

    this.__children = children;
    this.__spacing = spacing;
    this.__hasMoreLines = children.length > 0;
    this.__childIndex = 0;
  },
  members : {
    __children : null,
    __spacing : null,
    __hasMoreLines : null,
    __childIndex : null,
    computeNextLine : function(availWidth){

      var availWidth = availWidth || Infinity;
      if(!this.__hasMoreLines){

        throw new Error("No more lines to compute");
      };
      var children = this.__children;
      var lineHeight = 0;
      var lineWidth = 0;
      var lineChildren = [];
      var gapsBefore = [];
      for(var i = this.__childIndex;i < children.length;i++){

        var child = children[i];
        var size = child.getSizeHint();
        var gapBefore = this.__computeGapBeforeChild(i);
        var childWidth = size.width + gapBefore;
        var isFirstChild = i == this.__childIndex;
        if(!isFirstChild && lineWidth + childWidth > availWidth){

          this.__childIndex = i;
          break;
        };
        var childHeight = size.height + child.getMarginTop() + child.getMarginBottom();
        lineChildren.push(child);
        gapsBefore.push(gapBefore);
        lineWidth += childWidth;
        lineHeight = Math.max(lineHeight, childHeight);
        if(child.getLayoutProperties().lineBreak){

          this.__childIndex = i + 1;
          break;
        };
      };
      if(i >= children.length){

        this.__hasMoreLines = false;
      };
      return {
        height : lineHeight,
        width : lineWidth,
        children : lineChildren,
        gapsBefore : gapsBefore
      };
    },
    __computeGapBeforeChild : function(childIndex){

      var isFirstInLine = childIndex == this.__childIndex;
      if(isFirstInLine){

        return this.__children[childIndex].getMarginLeft();
      } else {

        return Math.max(this.__children[childIndex - 1].getMarginRight(), this.__children[childIndex].getMarginLeft(), this.__spacing);
      };
    },
    hasMoreLines : function(){

      return this.__hasMoreLines;
    }
  }
});

qx.Class.define("qx.ui.form.SelectBox", {
  extend : qx.ui.form.AbstractSelectBox,
  implement : [qx.ui.core.ISingleSelection, qx.ui.form.IModelSelection],
  include : [qx.ui.core.MSingleSelectionHandling, qx.ui.form.MModelSelection],
  construct : function(){

    this.base(arguments);
    this._createChildControl("atom");
    this._createChildControl("spacer");
    this._createChildControl("arrow");
    this.addListener("pointerover", this._onPointerOver, this);
    this.addListener("pointerout", this._onPointerOut, this);
    this.addListener("tap", this._onTap, this);
    this.addListener("keyinput", this._onKeyInput, this);
    this.addListener("changeSelection", this.__onChangeSelection, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "selectbox"
    }
  },
  members : {
    __preSelectedItem : null,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "spacer":
      control = new qx.ui.core.Spacer();
      this._add(control, {
        flex : 1
      });
      break;case "atom":
      control = new qx.ui.basic.Atom(" ");
      control.setCenter(false);
      control.setAnonymous(true);
      this._add(control, {
        flex : 1
      });
      break;case "arrow":
      control = new qx.ui.basic.Image();
      control.setAnonymous(true);
      this._add(control);
      break;};
      return control || this.base(arguments, id);
    },
    _forwardStates : {
      focused : true
    },
    _getItems : function(){

      return this.getChildrenContainer().getChildren();
    },
    _isAllowEmptySelection : function(){

      return this.getChildrenContainer().getSelectionMode() !== "one";
    },
    __onChangeSelection : function(e){

      var listItem = e.getData()[0];
      var list = this.getChildControl("list");
      if(list.getSelection()[0] != listItem){

        if(listItem){

          list.setSelection([listItem]);
        } else {

          list.resetSelection();
        };
      };
      this.__updateIcon();
      this.__updateLabel();
    },
    __updateIcon : function(){

      var listItem = this.getChildControl("list").getSelection()[0];
      var atom = this.getChildControl("atom");
      var icon = listItem ? listItem.getIcon() : "";
      icon == null ? atom.resetIcon() : atom.setIcon(icon);
    },
    __updateLabel : function(){

      var listItem = this.getChildControl("list").getSelection()[0];
      var atom = this.getChildControl("atom");
      var label = listItem ? listItem.getLabel() : "";
      var format = this.getFormat();
      if(format != null){

        label = format.call(this, listItem);
      };
      if(label && label.translate){

        label = label.translate();
      };
      label == null ? atom.resetLabel() : atom.setLabel(label);
    },
    _onPointerOver : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      if(this.hasState("abandoned")){

        this.removeState("abandoned");
        this.addState("pressed");
      };
      this.addState("hovered");
    },
    _onPointerOut : function(e){

      if(!this.isEnabled() || e.getTarget() !== this){

        return;
      };
      this.removeState("hovered");
      if(this.hasState("pressed")){

        this.removeState("pressed");
        this.addState("abandoned");
      };
    },
    _onTap : function(e){

      this.toggle();
    },
    _onKeyPress : function(e){

      var iden = e.getKeyIdentifier();
      if(iden == "Enter" || iden == "Space"){

        if(this.__preSelectedItem){

          this.setSelection([this.__preSelectedItem]);
          this.__preSelectedItem = null;
        };
        this.toggle();
      } else {

        this.base(arguments, e);
      };
    },
    _onKeyInput : function(e){

      var clone = e.clone();
      clone.setTarget(this._list);
      clone.setBubbles(false);
      this.getChildControl("list").dispatchEvent(clone);
    },
    _onListPointerDown : function(e){

      if(this.__preSelectedItem){

        this.setSelection([this.__preSelectedItem]);
        this.__preSelectedItem = null;
      };
    },
    _onListChangeSelection : function(e){

      var current = e.getData();
      var old = e.getOldData();
      if(old && old.length > 0){

        old[0].removeListener("changeIcon", this.__updateIcon, this);
        old[0].removeListener("changeLabel", this.__updateLabel, this);
      };
      if(current.length > 0){

        var popup = this.getChildControl("popup");
        var list = this.getChildControl("list");
        var context = list.getSelectionContext();
        if(popup.isVisible() && (context == "quick" || context == "key")){

          this.__preSelectedItem = current[0];
        } else {

          this.setSelection([current[0]]);
          this.__preSelectedItem = null;
        };
        current[0].addListener("changeIcon", this.__updateIcon, this);
        current[0].addListener("changeLabel", this.__updateLabel, this);
      } else {

        this.resetSelection();
      };
    },
    _onPopupChangeVisibility : function(e){

      this.base(arguments, e);
      var popup = this.getChildControl("popup");
      if(!popup.isVisible()){

        var list = this.getChildControl("list");
        if(list.hasChildren()){

          list.setSelection(this.getSelection());
        };
      } else {

        var distance = popup.getLayoutLocation(this);
        var viewPortHeight = qx.bom.Viewport.getHeight();
        var toTop = distance.top;
        var toBottom = viewPortHeight - distance.bottom;
        var availableHeigth = toTop > toBottom ? toTop : toBottom;
        var maxListHeight = this.getMaxListHeight();
        var list = this.getChildControl("list");
        if(maxListHeight == null || maxListHeight > availableHeigth){

          list.setMaxHeight(availableHeigth);
        } else if(maxListHeight < availableHeigth){

          list.setMaxHeight(maxListHeight);
        };
      };
    }
  },
  destruct : function(){

    this.__preSelectedItem = null;
  }
});

qx.Bootstrap.define("qx.module.Template", {
  statics : {
    get : function(id, view, partials){

      var el = qx.bom.Template.get(id, view, partials);
      el = qx.module.Template.__wrap(el);
      return qxWeb.$init([el], qxWeb);
    },
    render : function(template, view, partials){

      return qx.bom.Template.render(template, view, partials);
    },
    renderToNode : function(template, view, partials){

      var el = qx.bom.Template.renderToNode(template, view, partials);
      el = qx.module.Template.__wrap(el);
      return qxWeb.$init([el], qxWeb);
    },
    __wrap : function(el){

      if(qxWeb.isTextNode(el)){

        var wrapper = document.createElement("span");
        wrapper.appendChild(el);
        el = wrapper;
      };
      return el;
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "template" : {
        get : statics.get,
        render : statics.render,
        renderToNode : statics.renderToNode
      }
    });
  }
});

qx.Bootstrap.define("qx.ui.website.Tabs", {
  extend : qx.ui.website.Widget,
  statics : {
    tabs : function(align, preselected){

      var tabs = new qx.ui.website.Tabs(this);
      if(typeof preselected == "number"){

        tabs.setConfig("preselected", preselected);
      };
      tabs.init();
      if(align){

        tabs.setConfig("align", align);
        tabs.render();
      };
      return tabs;
    },
    _templates : {
      button : "<li><button>{{{content}}}</button></li>"
    },
    _config : {
      preselected : 0,
      align : "left"
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  events : {
    "changeSelected" : "Number"
  },
  members : {
    init : function(){

      if(!this.base(arguments)){

        return false;
      };
      this._forEachElementWrapped(function(tabs){

        var cssPrefix = this.getCssPrefix();
        if(tabs.getChildren("ul").length === 0){

          var list = qxWeb.create("<ul/>");
          var content = tabs.getChildren();
          if(content.length > 0){

            list.insertBefore(content.eq(0));
          } else {

            tabs.append(list);
          };
        };
        tabs.find("> ul").removeClasses([cssPrefix + "-justify", cssPrefix + "-right"]);
        var align = tabs.getConfig("align");
        if(align == "justify"){

          tabs.find("> ul").addClass(cssPrefix + "-justify");
        } else if(align == "right"){

          tabs.find("> ul").addClass(cssPrefix + "-right");
        };
        var buttons = tabs.getChildren("ul").getFirst().getChildren("li").not("." + cssPrefix + "-page");
        buttons._forEachElementWrapped(function(button){

          var pageSelector = button.getData(cssPrefix + "-page");
          if(!pageSelector){

            return;
          };
          button.addClass(cssPrefix + "-button").$onFirstCollection("tap", this._onTap, tabs);
          var page = tabs._getPage(button);
          if(page.length > 0){

            page.addClass(cssPrefix + "-page");
          };
          this._showPage(null, button);
        }.bind(this));
        buttons = buttons.filter("." + cssPrefix + "-button");
        if(align == "right"){

          buttons.remove();
          for(var i = buttons.length - 1;i >= 0;i--){

            tabs.find("> ul").append(buttons[i]);
          };
        };
        var active = buttons.filter("." + cssPrefix + "-button-active");
        var preselected = this.getConfig("preselected");
        if(active.length === 0 && typeof preselected == "number"){

          active = buttons.eq(preselected).addClass(cssPrefix + "-button-active");
        };
        if(active.length > 0){

          this._showPage(active, null);
        };
        tabs.getChildren("ul").getFirst().$onFirstCollection("keydown", this._onKeyDown, this);
      }.bind(this));
      return true;
    },
    render : function(){

      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(tabs){

        var content = [];
        var pages = [];
        var selected;
        tabs.find("> ul > ." + cssPrefix + "-button")._forEachElementWrapped(function(li){

          li.$offFirstCollection("tap", tabs._onTap, tabs);
          pages.push(li.getData(cssPrefix + "-page"));
          content.push(li.find("> button").getHtml());
          if(li.hasClass(cssPrefix + "-button-active")){

            selected = content.length - 1;
          };
        });
        tabs.find("> ul").setHtml("");
        var toRight = this.getConfig("align") == "right" && !tabs.find("> ul").hasClass(cssPrefix + "-right");
        var fromRight = this.getConfig("align") != "right" && tabs.find("> ul").hasClass(cssPrefix + "-right");
        if(toRight || fromRight){

          content.reverse();
          pages.reverse();
          selected = content.length - 1 - selected;
        };
        tabs.find("> ul").removeClasses([cssPrefix + "-justify", cssPrefix + "-right"]);
        content.forEach(function(content, i){

          tabs.addButton(content, pages[i]);
          var page = tabs._getPage(tabs.find("> ul > ." + cssPrefix + "-button:last-child"));
          if(i == selected){

            tabs.find("> ul > ." + cssPrefix + "-button:first-child").removeClass(cssPrefix + "-button-active");
            tabs.find("> ul > ." + cssPrefix + "-button:last-child").addClass(cssPrefix + "-button-active");
            tabs._switchPages(null, page);
          } else {

            tabs._switchPages(page, null);
          };
        });
        var align = tabs.getConfig("align");
        if(align == "justify"){

          tabs.find("> ul").addClass(cssPrefix + "-justify");
        } else if(align == "right"){

          tabs.find("> ul").addClass(cssPrefix + "-right");
        };
      });
      this.setEnabled(this.getEnabled());
      return this;
    },
    addButton : function(label, pageSelector){

      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(item){

        var link = qxWeb.create(qxWeb.template.render(item.getTemplate("button"), {
          content : label
        })).addClass(cssPrefix + "-button");
        var list = item.find("> ul");
        var links = list.getChildren("li");
        if(list.hasClass(cssPrefix + "-right") && links.length > 0){

          link.insertBefore(links.getFirst());
        } else {

          link.appendTo(list);
        };
        link.$onFirstCollection("tap", this._onTap, item).addClass(cssPrefix + "-button");
        if(item.find("> ul ." + cssPrefix + "-button").length === 1){

          link.addClass(cssPrefix + "-button-active");
        };
        if(pageSelector){

          link.setData(cssPrefix + "-page", pageSelector);
          var page = this._getPage(link);
          page.addClass(cssPrefix + "-page");
          if(link.hasClass(cssPrefix + "-button-active")){

            this._switchPages(null, page);
          } else {

            this._switchPages(page, null);
          };
        };
      }, this);
      return this;
    },
    select : function(index){

      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(tabs){

        var buttons = tabs.find("> ul > ." + cssPrefix + "-button");
        var oldButton = tabs.find("> ul > ." + cssPrefix + "-button-active").removeClass(cssPrefix + "-button-active");
        if(this.getConfig("align") == "right"){

          index = buttons.length - 1 - index;
        };
        var newButton = buttons.eq(index).addClass(cssPrefix + "-button-active");
        tabs._showPage(newButton, oldButton);
        tabs.emit("changeSelected", index);
      });
      return this;
    },
    _onTap : function(e){

      if(!this.getEnabled()){

        return;
      };
      var tappedButton = e.getCurrentTarget();
      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(tabs){

        var oldButton = tabs.find("> ul > ." + cssPrefix + "-button-active");
        if(oldButton[0] == tappedButton){

          return;
        };
        oldButton.removeClass(cssPrefix + "-button-active");
        var newButton;
        var buttons = tabs.find("> ul > ." + cssPrefix + "-button")._forEachElementWrapped(function(button){

          if(tappedButton === button[0]){

            newButton = button;
          };
        });
        tabs._showPage(newButton, oldButton);
        newButton.addClass(cssPrefix + "-button-active");
        var index = buttons.indexOf(newButton[0]);
        if(this.getConfig("align") == "right"){

          index = buttons.length - 1 - index;
        };
        tabs.emit("changeSelected", index);
      });
    },
    _onKeyDown : function(e){

      var cssPrefix = this.getCssPrefix();
      var key = e.getKeyIdentifier();
      if(!(key == "Left" || key == "Right")){

        return;
      };
      var rightAligned = this.getConfig("align") == "right";
      var buttons = this.find("> ul > ." + cssPrefix + "-button");
      if(rightAligned){

        buttons.reverse();
      };
      var active = this.find("> ul > ." + cssPrefix + "-button-active");
      var next;
      if(key == "Right"){

        if(!rightAligned){

          next = active.getNext("." + cssPrefix + "-button");
        } else {

          next = active.getPrev("." + cssPrefix + "-button");
        };
      } else {

        if(!rightAligned){

          next = active.getPrev("." + cssPrefix + "-button");
        } else {

          next = active.getNext("." + cssPrefix + "-button");
        };
      };
      if(next.length > 0){

        var idx = buttons.indexOf(next);
        this.select(idx);
        next.getChildren("button").focus();
      };
    },
    _showPage : function(newButton, oldButton){

      var oldPage = this._getPage(oldButton);
      var newPage = this._getPage(newButton);
      if(oldPage[0] == newPage[0]){

        return;
      };
      this._switchPages(oldPage, newPage);
    },
    _switchPages : function(oldPage, newPage){

      if(oldPage){

        oldPage.hide();
      };
      if(newPage){

        newPage.show();
      };
    },
    _getPage : function(button){

      var pageSelector;
      if(button){

        pageSelector = button.getData(this.getCssPrefix() + "-page");
      };
      return qxWeb(pageSelector);
    },
    dispose : function(){

      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(tabs){

        tabs.find("." + cssPrefix + "-button").$offFirstCollection("tap", tabs._onTap, tabs);
        tabs.getChildren("ul").getFirst().$offFirstCollection("keydown", tabs._onKeyDown, tabs).setHtml("");
      });
      this.setHtml("").removeClass(cssPrefix);
      return this.base(arguments);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      tabs : statics.tabs
    });
  }
});

qx.Bootstrap.define("qx.module.util.Object", {
  statics : {
    clone : qx.lang.Object.clone,
    getValues : qx.lang.Object.getValues,
    invert : qx.lang.Object.invert,
    contains : qx.lang.Object.contains
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "object" : {
        "clone" : statics.clone,
        "getValues" : statics.getValues,
        "invert" : statics.invert,
        "contains" : statics.contains
      }
    });
  }
});

qx.Bootstrap.define("qx.ui.website.Accordion", {
  extend : qx.ui.website.Tabs,
  statics : {
    _templates : {
      button : "<li><button>{{{content}}}</button></li>"
    },
    _config : {
      preselected : null
    },
    accordion : function(preselected){

      var accordion = new qx.ui.website.Accordion(this);
      if(preselected){

        accordion.setConfig("preselected", preselected);
      };
      accordion.init();
      return accordion;
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  members : {
    init : function(){

      this.__toggleTransitions(false);
      if(!this.base(arguments)){

        return false;
      };
      this._forEachElementWrapped(function(accordion){

        accordion.render();
      });
      this.__toggleTransitions(true);
    },
    render : function(){

      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(accordion){

        accordion.find("> ul > ." + cssPrefix + "-button")._forEachElementWrapped(function(button){

          var page = this._getPage(button);
          if(page.length === 0){

            return;
          };
          this.__deactivateTransition(page);
          this._storePageHeight(page);
          if(button.hasClass(cssPrefix + "-button-active")){

            this._switchPages(null, page);
          } else {

            this._switchPages(page, null);
          };
          this.__activateTransition(page);
        }.bind(this));
      }.bind(this));
      return this;
    },
    _storePageHeight : function(page){

      var closedClass = this.getCssPrefix() + "-page-closed";
      var openedHeight;
      var closedHeight;
      page[0].style.height = "";
      if(page.hasClass(closedClass)){

        closedHeight = page.getHeight();
        page.toggleClass(closedClass);
        openedHeight = page.getHeight();
        page.toggleClass(closedClass);
      } else {

        openedHeight = page.getHeight();
        page.toggleClass(closedClass);
        closedHeight = page.getHeight();
        page.toggleClass(closedClass);
      };
      if(openedHeight !== closedHeight){

        page.setProperty("openedHeight", openedHeight + "px");
        page.setProperty("closedHeight", closedHeight + "px");
      } else {

        page.setProperty("openedHeight", true);
      };
    },
    _showPage : function(newButton, oldButton){

      var oldPage = this._getPage(oldButton);
      var newPage = this._getPage(newButton);
      this._switchPages(oldPage, newPage);
    },
    _switchPages : function(oldPage, newPage){

      var prefix = this.getCssPrefix();
      if(oldPage && oldPage.length > 0){

        if(oldPage.getProperty("openedHeight")){

          oldPage.addClass(prefix + "-page-closed");
          var closedHeight = oldPage.getProperty("closedHeight");
          if(closedHeight){

            oldPage.setStyle("height", closedHeight);
          };
        };
      };
      if(newPage && newPage.length > 0){

        var openedHeight = newPage.getProperty("openedHeight");
        if(openedHeight){

          newPage.removeClass(prefix + "-page-closed");
          if(qxWeb.type.get(openedHeight) == "String"){

            newPage.setStyle("height", openedHeight);
          };
        };
      };
    },
    __toggleTransitions : function(on){

      this._forEachElementWrapped(function(accordion){

        accordion.find("> ul > ." + this.getCssPrefix() + "-page")._forEachElementWrapped(function(page){

          if(on){

            this.__activateTransition(page);
          } else {

            this.__deactivateTransition(page);
          };
        }.bind(this));
      }.bind(this));
    },
    __deactivateTransition : function(elem){

      var transition = elem.getStyles(["transitionDelay", "transitionDuration", "transitionProperty", "transitionTimingFunction"]);
      if(transition.transitionProperty.indexOf("none") == -1){

        elem.setProperty("__qxtransition", transition);
        elem.setStyle("transition", "none");
      };
    },
    __activateTransition : function(elem){

      var transition = elem.getProperty("__qxtransition");
      var style = elem.getStyle("transitionProperty");
      if(transition && style.indexOf("none") != -1){

        elem.setStyles(transition);
        elem.setProperty("__qxtransition", "");
      };
    },
    _onKeyDown : function(e){

      var cssPrefix = this.getCssPrefix();
      var key = e.getKeyIdentifier();
      if(!(key == "Up" || key == "Down")){

        return;
      };
      var buttons = this.find("> ul > ." + cssPrefix + "-button");
      var active = this.find("> ul > ." + cssPrefix + "-button-active");
      var next;
      if(key == "Down"){

        next = active.getNextAll("." + cssPrefix + "-button").eq(0);
      } else {

        next = active.getPrevAll("." + cssPrefix + "-button").eq(0);
      };
      if(next.length > 0){

        var idx = buttons.indexOf(next);
        this.select(idx);
        next.getChildren("button").focus();
      };
    },
    _onTap : function(e){

      if(!this.getEnabled()){

        return;
      };
      var tappedButton = e.getCurrentTarget();
      var cssPrefix = this.getCssPrefix();
      var sameButton = false;
      this._forEachElementWrapped(function(accordion){

        var oldButton = accordion.find("> ul > ." + cssPrefix + "-button-active");
        if(oldButton[0] == tappedButton){

          sameButton = true;
          oldButton.removeClass(cssPrefix + "-button-active");
          this._showPage(null, oldButton);
        };
      });
      if(!sameButton){

        this.base(arguments, e);
      };
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      accordion : statics.accordion
    });
  }
});

qx.Class.define("qx.ui.virtual.cell.Number", {
  extend : qx.ui.virtual.cell.Cell,
  construct : function(numberFormat){

    this.base(arguments);
    if(numberFormat){

      this.setNumberFormat(numberFormat);
    };
  },
  properties : {
    numberFormat : {
      check : "qx.util.format.NumberFormat",
      init : new qx.util.format.NumberFormat()
    },
    appearance : {
      refine : true,
      init : "cell-number"
    }
  },
  members : {
    getContent : function(value, states){

      return value !== null ? this.getNumberFormat().format(value) : "";
    }
  }
});

qx.Class.define("qx.event.type.Rest", {
  extend : qx.event.type.Data,
  properties : {
    request : {
      check : "qx.io.request.AbstractRequest"
    },
    action : {
      check : "String"
    },
    phase : {
      check : "String"
    },
    id : {
      check : "Number"
    }
  },
  members : {
    init : function(data, old, cancelable, request, action, phase){

      this.base(arguments, data, old, cancelable);
      this.setRequest(request);
      this.setAction(action);
      this.setPhase(phase);
      this.setId(parseInt(request.toHashCode(), 10));
      return this;
    },
    clone : function(embryo){

      var clone = this.base(arguments, embryo);
      clone.setAction(this.getAction());
      clone.setPhase(this.getPhase());
      clone.setRequest(this.getRequest());
      return clone;
    }
  }
});

qx.Class.define("qx.ui.mobile.dialog.Popup", {
  extend : qx.ui.mobile.core.Widget,
  statics : {
    ROOT : null
  },
  construct : function(widget, anchor){

    this.base(arguments);
    this.exclude();
    if(qx.ui.mobile.dialog.Popup.ROOT == null){

      qx.ui.mobile.dialog.Popup.ROOT = qx.core.Init.getApplication().getRoot();
    };
    qx.ui.mobile.dialog.Popup.ROOT.add(this);
    this.__anchor = anchor;
    if(widget){

      this._initializeChild(widget);
    };
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "popup"
    },
    title : {
      apply : "_applyTitle",
      nullable : true,
      check : "String",
      event : "changeTitle"
    },
    icon : {
      check : "String",
      apply : "_applyIcon",
      nullable : true,
      event : "changeIcon"
    },
    modal : {
      init : false,
      check : "Boolean",
      nullable : false
    },
    hideOnBlockerTap : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __isShown : false,
    __childrenContainer : null,
    __percentageTop : null,
    __anchor : null,
    __widget : null,
    __titleWidget : null,
    __lastPopupDimension : null,
    _updatePosition : function(){

      this.removeCssClasses(['top', 'bottom', 'left', 'right', 'anchor']);
      if(this.__anchor){

        this.addCssClass('anchor');
        var rootHeight = qx.ui.mobile.dialog.Popup.ROOT.getHeight();
        var rootWidth = qx.ui.mobile.dialog.Popup.ROOT.getWidth();
        var rootPosition = qx.bom.element.Location.get(qx.ui.mobile.dialog.Popup.ROOT.getContainerElement());
        var anchorPosition = qx.bom.element.Location.get(this.__anchor.getContainerElement());
        var popupDimension = qx.bom.element.Dimension.getSize(this.getContainerElement());
        this.__lastPopupDimension = popupDimension;
        var computedPopupPosition = qx.util.placement.Placement.compute(popupDimension, {
          width : rootPosition.left + rootWidth,
          height : rootPosition.top + rootHeight
        }, anchorPosition, {
          left : 0,
          right : 0,
          top : 0,
          bottom : 0
        }, "bottom-left", "keep-align", "keep-align");
        this._resetPosition();
        var isTop = anchorPosition.top > computedPopupPosition.top;
        var isLeft = anchorPosition.left > computedPopupPosition.left;
        computedPopupPosition.top = computedPopupPosition.top - rootPosition.top;
        computedPopupPosition.left = computedPopupPosition.left - rootPosition.left;
        var isOutsideViewPort = computedPopupPosition.top < 0 || computedPopupPosition.left < 0 || computedPopupPosition.left + popupDimension.width > rootWidth || computedPopupPosition.top + popupDimension.height > rootHeight;
        if(isOutsideViewPort){

          this._positionToCenter();
        } else {

          if(isTop){

            this.addCssClass('bottom');
          } else {

            this.addCssClass('top');
          };
          if(isLeft){

            this.addCssClass('right');
          } else {

            this.addCssClass('left');
          };
          this.placeTo(computedPopupPosition.left, computedPopupPosition.top);
        };
      } else if(this.__childrenContainer){

        this._positionToCenter();
      };
    },
    show : function(){

      if(!this.__isShown){

        qx.core.Init.getApplication().fireEvent("popup");
        this.__registerEventListener();
        this.placeTo(-1000, -1000);
        this.base(arguments);
        this._updatePosition();
      };
      this.__isShown = true;
      if(this.getModal() === true){

        qx.ui.mobile.core.Blocker.getInstance().show();
        if(this.getHideOnBlockerTap()){

          qx.ui.mobile.core.Blocker.getInstance().addListener("tap", this.hide, this);
        };
      };
    },
    hide : function(){

      if(this.__isShown){

        this.__unregisterEventListener();
        this.exclude();
      };
      this.__isShown = false;
      if(this.getModal()){

        qx.ui.mobile.core.Blocker.getInstance().hide();
      };
      qx.ui.mobile.core.Blocker.getInstance().removeListener("tap", this.hide, this);
    },
    hideWithDelay : function(delay){

      if(delay){

        qx.lang.Function.delay(this.hide, delay, this);
      } else {

        this.hide();
      };
    },
    isShown : function(){

      return this.__isShown;
    },
    toggleVisibility : function(){

      if(this.__isShown == true){

        this.hide();
      } else {

        this.show();
      };
    },
    placeTo : function(left, top){

      this._setStyle("left", left + "px");
      this._setStyle("top", top + "px");
    },
    _trackUserTap : function(evt){

      var clientX = evt.getViewportLeft();
      var clientY = evt.getViewportTop();
      var popupLocation = qx.bom.element.Location.get(this.getContainerElement());
      var isOutsideWidget = clientX < popupLocation.left || clientX > popupLocation.left + this.__lastPopupDimension.width || clientY > popupLocation.top + this.__lastPopupDimension.height || clientY < popupLocation.top;
      if(isOutsideWidget){

        this.hide();
      };
    },
    _positionToCenter : function(){

      var container = this.getContainerElement();
      container.style.position = "absolute";
      container.style.marginLeft = -(container.offsetWidth / 2) + "px";
      container.style.marginTop = -(container.offsetHeight / 2) + "px";
      container.style.left = "50%";
      container.style.top = "50%";
    },
    _resetPosition : function(){

      var container = this.getContainerElement();
      container.style.left = "0px";
      container.style.top = "0px";
      container.style.marginLeft = null;
      container.style.marginTop = null;
    },
    __registerEventListener : function(){

      qx.core.Init.getApplication().addListener("stop", this.hide, this);
      qx.core.Init.getApplication().addListener("popup", this.hide, this);
      qx.event.Registration.addListener(window, "resize", this._updatePosition, this);
      if(this.__anchor){

        this.__anchor.addCssClass("anchor-target");
        qx.ui.mobile.dialog.Popup.ROOT.addListener("pointerdown", this._trackUserTap, this);
      };
    },
    __unregisterEventListener : function(){

      qx.core.Init.getApplication().removeListener("stop", this.hide, this);
      qx.core.Init.getApplication().removeListener("popup", this.hide, this);
      qx.event.Registration.removeListener(window, "resize", this._updatePosition, this);
      if(this.__anchor){

        this.__anchor.removeCssClass("anchor-target");
        qx.ui.mobile.dialog.Popup.ROOT.removeListener("pointerdown", this._trackUserTap, this);
      };
    },
    _initializeChild : function(widget){

      if(this.__childrenContainer == null){

        this.__childrenContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());
        this.__childrenContainer.setDefaultCssClass("popup-content");
        this._add(this.__childrenContainer);
      };
      if(this._createTitleWidget()){

        this.__childrenContainer.remove(this._createTitleWidget());
        this.__childrenContainer.add(this._createTitleWidget());
      };
      this.__childrenContainer.add(widget, {
        flex : 1
      });
      this.__widget = widget;
    },
    _createTitleWidget : function(){

      if(this.__titleWidget){

        return this.__titleWidget;
      };
      if(this.getTitle() || this.getIcon()){

        this.__titleWidget = new qx.ui.mobile.basic.Atom(this.getTitle(), this.getIcon());
        this.__titleWidget.addCssClass('popup-title');
        return this.__titleWidget;
      } else {

        return null;
      };
    },
    _applyTitle : function(value, old){

      if(value){

        if(this.__titleWidget){

          this.__titleWidget.setLabel(value);
        } else {

          this.__titleWidget = new qx.ui.mobile.basic.Atom(value, this.getIcon());
          this.__titleWidget.addCssClass('popup-title');
          if(this.__widget){

            this.__childrenContainer.addBefore(this._createTitleWidget(), this.__widget);
          } else {

            if(this.__childrenContainer){

              this.__childrenContainer.add(this._createTitleWidget());
            };
          };
        };
      };
    },
    _applyIcon : function(value, old){

      if(value){

        if(this.__titleWidget){

          this.__titleWidget.setIcon(value);
        } else {

          this.__titleWidget = new qx.ui.mobile.basic.Atom(this.getTitle(), value);
          this.__titleWidget.addCssClass('popup-title');
          if(this.__widget){

            this.__childrenContainer.addBefore(this._createTitleWidget(), this.__widget);
          } else {

            if(this.__childrenContainer){

              this.__childrenContainer.add(this._createTitleWidget());
            };
          };
        };
      };
    },
    add : function(widget){

      this.removeWidget();
      this._initializeChild(widget);
    },
    setAnchor : function(widget){

      this.__anchor = widget;
      this._updatePosition();
    },
    getTitleWidget : function(){

      return this.__titleWidget;
    },
    removeWidget : function(){

      if(this.__widget){

        this.__childrenContainer.remove(this.__widget);
        return this.__widget;
      } else {

        if(qx.core.Environment.get("qx.debug")){

          qx.log.Logger.debug(this, "this popup has no widget attached yet");
        };
        return null;
      };
    },
    _getBlocker : function(){

      return qx.ui.mobile.core.Blocker.getInstance();
    }
  },
  destruct : function(){

    this.__unregisterEventListener();
    this._disposeObjects("__childrenContainer");
    this.__isShown = this.__percentageTop = this._anchor = this.__widget = this.__lastPopupDimension = null;
  }
});

qx.Class.define("qx.ui.mobile.basic.Atom", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(label, icon){

    this.base(arguments);
    this.__createChildren(label, icon);
    this.addCssClass("gap");
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "atom"
    },
    label : {
      apply : "_applyLabel",
      nullable : true,
      check : "String",
      event : "changeLabel"
    },
    icon : {
      check : "String",
      apply : "_applyIcon",
      nullable : true,
      event : "changeIcon"
    },
    gap : {
      check : "Integer",
      nullable : false,
      apply : "_applyGap",
      init : 4
    },
    show : {
      init : "both",
      check : ["both", "label", "icon"],
      inheritable : true,
      apply : "_applyShow"
    },
    iconPosition : {
      init : "left",
      check : ["top", "right", "bottom", "left"],
      apply : "_applyIconPosition"
    }
  },
  members : {
    __label : null,
    __icon : null,
    __childrenContainer : null,
    _applyIconPosition : function(value, old){

      var targetLayout;
      var verticalLayout = ["top", "bottom"].indexOf(value) != -1;
      if(verticalLayout){

        targetLayout = new qx.ui.mobile.layout.VBox();
      } else {

        targetLayout = new qx.ui.mobile.layout.HBox();
      };
      var isReverse = ["right", "bottom"].indexOf(value) != -1;
      targetLayout.setReversed(isReverse);
      this.__childrenContainer.setLayout(targetLayout);
      this._domUpdated();
    },
    _applyShow : function(value, old){

      if(this.__label){

        if(value === 'both' || value === 'label'){

          this.__label.show();
        } else if(value === 'icon'){

          this.__label.exclude();
        };
      };
      if(this.__icon){

        if(value === 'both' || value === 'icon'){

          this.__icon.show();
        } else if(value === 'label'){

          this.__icon.exclude();
        };
      };
    },
    _applyGap : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The property 'gap' is deprecated. Please use SCSS variable $application-gap-size instead.");
      };
    },
    _applyLabel : function(value, old){

      if(this.__label){

        this.__label.setValue(value);
      } else {

        this.__label = this._createLabelWidget(value);
      };
    },
    _applyIcon : function(value, old){

      if(this.__icon){

        this.__icon.setSource(value);
      } else {

        this.__icon = this._createIconWidget(value);
      };
    },
    getIconWidget : function(){

      return this.__icon;
    },
    getLabelWidget : function(){

      return this.__label;
    },
    _createIconWidget : function(iconUrl){

      var iconWidget = new qx.ui.mobile.basic.Image(iconUrl);
      qx.bom.element.Style.set(iconWidget.getContentElement(), "display", "block");
      iconWidget.setAnonymous(true);
      iconWidget.addCssClass("gap");
      return iconWidget;
    },
    _createLabelWidget : function(label){

      var labelWidget = new qx.ui.mobile.basic.Label(label);
      labelWidget.setAnonymous(true);
      labelWidget.setWrap(false);
      labelWidget.addCssClass("gap");
      return labelWidget;
    },
    __createChildren : function(label, icon){

      this.__label = this._createLabelWidget(label);
      if(label){

        this.setLabel(label);
      };
      this.__icon = this._createIconWidget(icon);
      if(icon){

        this.setIcon(icon);
      } else {

        this.__icon.exclude();
      };
      var layout;
      var verticalLayout = ["top", "bottom"].indexOf(this.getIconPosition()) != -1;
      var hasNoLabel = !this.__label;
      if(verticalLayout || hasNoLabel){

        layout = new qx.ui.mobile.layout.VBox();
      } else {

        layout = new qx.ui.mobile.layout.HBox();
      };
      this.__childrenContainer = new qx.ui.mobile.container.Composite(layout);
      this.__childrenContainer.addCssClass("flex-center");
      this.__childrenContainer.setAnonymous(true);
      if(this.__icon){

        this.__childrenContainer.add(this.__icon);
      };
      if(this.__label){

        this.__label.addCssClass("flex-center");
        this.__childrenContainer.add(this.__label);
      };
      if(this.getShow() === 'icon' && this.__label){

        this.__label.exclude();
      };
      if(this.getShow() === 'label' && this.__icon){

        this.__icon.exclude();
      };
      this._add(this.__childrenContainer);
    }
  },
  destruct : function(){

    this._disposeObjects("__label", "__icon", "__childrenContainer");
  }
});

qx.Class.define("qx.ui.mobile.dialog.Menu", {
  extend : qx.ui.mobile.dialog.Popup,
  construct : function(itemsModel, anchor){

    this.__selectionList = this._createSelectionList();
    if(itemsModel){

      this.__selectionList.setModel(itemsModel);
    };
    this.__menuContainer = new qx.ui.mobile.container.Composite();
    this.__clearButton = this._createClearButton();
    this.__listScroller = this._createListScroller(this.__selectionList);
    this.__menuContainer.add(this.__listScroller);
    this.__menuContainer.add(this.__clearButton);
    this.base(arguments, this.__menuContainer, anchor);
    if(anchor){

      this.setModal(false);
    } else {

      this.setModal(true);
    };
  },
  events : {
    changeSelection : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "menu"
    },
    selectedItemClass : {
      init : "item-selected"
    },
    unselectedItemClass : {
      init : "item-unselected"
    },
    nullable : {
      init : false,
      check : "Boolean",
      apply : "_applyNullable"
    },
    clearButtonLabel : {
      init : "None",
      check : "String",
      apply : "_applyClearButtonLabel"
    },
    selectedIndex : {
      check : "Integer",
      apply : "_applySelectedIndex",
      nullable : true
    },
    visibleListItems : {
      check : "Integer",
      apply : "_updatePosition",
      nullable : true
    }
  },
  members : {
    __selectionList : null,
    __clearButton : null,
    __listScroller : null,
    __menuContainer : null,
    show : function(){

      this.base(arguments);
      this.scrollToItem(this.getSelectedIndex());
    },
    _createClearButton : function(){

      var clearButton = new qx.ui.mobile.form.Button(this.getClearButtonLabel());
      clearButton.addListener("tap", this.__onClearButtonTap, this);
      clearButton.exclude();
      return clearButton;
    },
    _createListScroller : function(selectionList){

      var listScroller = new qx.ui.mobile.container.Scroll({
        "snap" : ".list-item"
      });
      listScroller.add(selectionList, {
        flex : 1
      });
      listScroller.addCssClass("menu-scroller");
      return listScroller;
    },
    _getListScroller : function(){

      return this.__listScroller;
    },
    _updatePosition : function(){

      var parentHeight = qx.ui.mobile.dialog.Popup.ROOT.getHeight();
      var listScrollerHeight = parseInt(parentHeight, 10) * 0.75;
      listScrollerHeight = parseInt(listScrollerHeight, 10);
      if(this.getVisibleListItems() !== null){

        var newListScrollerHeight = this.__selectionList.getListItemHeight() * this.getVisibleListItems();
        listScrollerHeight = Math.min(newListScrollerHeight, listScrollerHeight);
      };
      qx.bom.element.Style.set(this.__listScroller.getContainerElement(), "maxHeight", listScrollerHeight + "px");
      this.base(arguments);
    },
    _createSelectionList : function(){

      var self = this;
      var selectionList = new qx.ui.mobile.list.List({
        configureItem : function(item, data, row){

          item.setTitle(data);
          item.setShowArrow(false);
          var isItemSelected = (self.getSelectedIndex() == row);
          if(isItemSelected){

            item.removeCssClass(self.getUnselectedItemClass());
            item.addCssClass(self.getSelectedItemClass());
          } else {

            item.removeCssClass(self.getSelectedItemClass());
            item.addCssClass(self.getUnselectedItemClass());
          };
        }
      });
      selectionList.addListener("changeSelection", this.__onListChangeSelection, this);
      selectionList.addListener("tap", this._onSelectionListTap, this);
      return selectionList;
    },
    getSelectionList : function(){

      return this.__selectionList;
    },
    _onSelectionListTap : function(){

      this.hideWithDelay(500);
    },
    setItems : function(itemsModel){

      if(this.__selectionList){

        this.__selectionList.setModel(null);
        this.__selectionList.setModel(itemsModel);
      };
    },
    __onListChangeSelection : function(evt){

      this.setSelectedIndex(evt.getData());
    },
    __onClearButtonTap : function(){

      this.fireDataEvent("changeSelection", {
        index : null,
        item : null
      });
      this.hide();
    },
    _applySelectedIndex : function(value, old){

      var listModel = this.__selectionList.getModel();
      if(listModel !== null){

        var selectedItem = listModel.getItem(value);
        this.fireDataEvent("changeSelection", {
          index : value,
          item : selectedItem
        });
      };
      this._render();
    },
    _applyNullable : function(value, old){

      if(value){

        this.__clearButton.setVisibility("visible");
      } else {

        this.__clearButton.setVisibility("excluded");
      };
    },
    _applyClearButtonLabel : function(value, old){

      this.__clearButton.setValue(value);
    },
    _render : function(){

      var tmpModel = this.__selectionList.getModel();
      this.__selectionList.setModel(null);
      this.__selectionList.setModel(tmpModel);
    },
    scrollToItem : function(index){

      if(index !== null && this.__selectionList.getModel() != null){

        var listItems = qxWeb("#" + this.__listScroller.getId() + " .list-item");
        var targetListItemElement = listItems[index];
        this.__listScroller.scrollToElement(targetListItemElement);
      };
    }
  },
  destruct : function(){

    this.__selectionList.removeListener("tap", this._onSelectionListTap, this);
    this._disposeObjects("__selectionList", "__clearButton", "__listScroller", "__menuContainer");
  }
});

qx.Class.define("qx.ui.mobile.form.Button", {
  extend : qx.ui.mobile.basic.Atom,
  properties : {
    defaultCssClass : {
      refine : true,
      init : "button"
    },
    activatable : {
      refine : true,
      init : true
    }
  },
  members : {
    setValue : function(value){

      this.setLabel(value);
    },
    getValue : function(){

      return this.getLabel();
    }
  }
});

qx.Mixin.define("qx.ui.mobile.container.MIScroll", {
  construct : function(){

    this.__initScroll();
    this.__registerEventListeners();
    this.__currentX = this.__currentY = 0;
  },
  members : {
    __scroll : null,
    __currentX : null,
    __currentY : null,
    _createScrollElement : function(){

      var scroll = qx.dom.Element.create("div");
      qx.bom.element.Class.add(scroll, "iscroll");
      return scroll;
    },
    _getScrollContentElement : function(){

      return this.getContainerElement().childNodes[0];
    },
    _getPosition : function(){

      return [this.__currentX, this.__currentY];
    },
    _scrollTo : function(x, y, time){

      if(this.__scroll && this._isScrollable()){

        var lowerLimitY = qx.bom.element.Dimension.getHeight(this._getScrollContentElement()) - this.getContainerElement().offsetHeight;
        if(y > lowerLimitY){

          y = lowerLimitY;
        };
        var lowerLimitX = qx.bom.element.Dimension.getWidth(this._getScrollContentElement()) - this.getContainerElement().offsetWidth;
        if(x > lowerLimitX){

          x = lowerLimitX;
        };
        this.__scroll.scrollTo(-x, -y, time);
      };
    },
    __initScroll : function(){

      if(!window.iScroll){

        if(qx.core.Environment.get("qx.debug")){

          var resource = "qx/mobile/js/iscroll.js";
        } else {

          var resource = "qx/mobile/js/iscroll.min.js";
        };
        var path = qx.util.ResourceManager.getInstance().toUri(resource);
        if(qx.core.Environment.get("qx.debug")){

          path += "?" + new Date().getTime();
        };
        var loader = new qx.bom.request.Script();
        loader.on("load", this.__onScrollLoaded, this);
        loader.open("GET", path);
        loader.send();
      } else {

        this.addListenerOnce("appear", function(){

          this._setScroll(this.__createScrollInstance());
        }, this);
      };
    },
    __createScrollInstance : function(){

      var defaultScrollProperties = this._getDefaultScrollProperties();
      var customScrollProperties = {
      };
      if(this._scrollProperties != null){

        customScrollProperties = this._scrollProperties;
      };
      var iScrollProperties = qx.lang.Object.mergeWith(defaultScrollProperties, customScrollProperties, true);
      return new iScroll(this.getContainerElement(), iScrollProperties);
    },
    _getDefaultScrollProperties : function(){

      var container = this;
      return {
        hideScrollbar : true,
        fadeScrollbar : true,
        hScrollbar : false,
        scrollbarClass : "scrollbar",
        useTransform : true,
        onScrollEnd : function(){

          if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

            container.__currentX = -this.x;
            container.__currentY = -this.y;
            if(this.y == this.maxScrollY){

              container.fireEvent("pageEnd");
            };
          };
        },
        onScrollMove : function(){

          if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

            if(this.y == this.maxScrollY){

              container.fireEvent("pageEnd");
            };
          };
        },
        onBeforeScrollStart : function(e){

          var target = e.target;
          while(target.nodeType != 1){

            target = target.parentNode;
          };
          if(target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA' && target.tagName != 'LABEL'){

            var elements = [];
            var inputElements = qx.lang.Array.cast(document.getElementsByTagName("input"), Array);
            var textAreaElements = qx.lang.Array.cast(document.getElementsByTagName("textarea"), Array);
            elements = elements.concat(inputElements);
            elements = elements.concat(textAreaElements);
            for(var i = 0,length = elements.length;i < length;i++){

              elements[i].blur();
            };
            e.preventDefault();
          };
          if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

            var iScrollStartEvent = new qx.event.message.Message('iscrollstart');
            qx.event.message.Bus.getInstance().dispatch(iScrollStartEvent);
          };
        }
      };
    },
    __registerEventListeners : function(){

      qx.event.Registration.addListener(window, "orientationchange", this._refresh, this);
      qx.event.Registration.addListener(window, "resize", this._refresh, this);
      this.addListener("touchmove", qx.bom.Event.stopPropagation);
      this.addListener("domupdated", this._refresh, this);
    },
    __unregisterEventListeners : function(){

      qx.event.Registration.removeListener(window, "orientationchange", this._refresh, this);
      qx.event.Registration.removeListener(window, "resize", this._refresh, this);
      this.removeListener("touchmove", qx.bom.Event.stopPropagation);
      this.removeListener("domupdated", this._refresh, this);
    },
    __onScrollLoaded : function(request){

      if(request.status < 400){

        if(!this.isDisposed()){

          this._setScroll(this.__createScrollInstance());
        };
      } else {

        if(qx.core.Environment.get("qx.debug")){

          this.error("Could not load iScroll");
        };
      };
    },
    _setScroll : function(scroll){

      this.__scroll = scroll;
    },
    disable : function(){

      if(this.__scroll){

        this.__scroll.disable();
      };
    },
    enable : function(){

      if(this.__scroll){

        this.__scroll.enable();
      };
    },
    _refresh : function(){

      if(this.__scroll){

        this.__scroll.refresh();
      };
    }
  },
  destruct : function(){

    this.__unregisterEventListeners();
    if(this.__scroll){

      this.__scroll.destroy();
    };
    this.__scroll = null;
  }
});

qx.Bootstrap.define("qx.module.Manipulating", {
  statics : {
    create : function(html, context){

      return qxWeb.$init(qx.bom.Html.clean([html], context), qxWeb);
    },
    clone : function(events){

      var clones = [];
      for(var i = 0;i < this.length;i++){

        if(this[i] && this[i].nodeType === 1){

          clones[i] = this[i].cloneNode(true);
        };
      };
      if(events === true && this.copyEventsTo){

        this.copyEventsTo(clones);
      };
      return qxWeb(clones);
    },
    append : function(html){

      var arr = qx.bom.Html.clean([html]);
      var children = qxWeb.$init(arr, qxWeb);
      this._forEachElement(function(item, index){

        for(var j = 0,m = children.length;j < m;j++){

          if(index == 0){

            qx.dom.Element.insertEnd(children[j], item);
          } else {

            qx.dom.Element.insertEnd(children.eq(j).clone(true)[0], item);
          };
        };
      });
      return this;
    },
    appendTo : function(parent){

      parent = qx.module.Manipulating.__getElementArray(parent);
      for(var i = 0,l = parent.length;i < l;i++){

        this._forEachElement(function(item, j){

          if(i == 0){

            qx.dom.Element.insertEnd(this[j], parent[i]);
          } else {

            qx.dom.Element.insertEnd(this.eq(j).clone(true)[0], parent[i]);
          };
        });
      };
      return this;
    },
    insertBefore : function(target){

      target = qx.module.Manipulating.__getElementArray(target);
      for(var i = 0,l = target.length;i < l;i++){

        this._forEachElement(function(item, index){

          if(i == 0){

            qx.dom.Element.insertBefore(item, target[i]);
          } else {

            qx.dom.Element.insertBefore(this.eq(index).clone(true)[0], target[i]);
          };
        });
      };
      return this;
    },
    insertAfter : function(target){

      target = qx.module.Manipulating.__getElementArray(target);
      for(var i = 0,l = target.length;i < l;i++){

        for(var j = this.length - 1;j >= 0;j--){

          if(!this[j] || this[j].nodeType !== 1){

            continue;
          };
          if(i == 0){

            qx.dom.Element.insertAfter(this[j], target[i]);
          } else {

            qx.dom.Element.insertAfter(this.eq(j).clone(true)[0], target[i]);
          };
        };
      };
      return this;
    },
    __getElementArray : function(arg){

      if(!qx.lang.Type.isArray(arg)){

        var fromSelector = qxWeb(arg);
        arg = fromSelector.length > 0 ? fromSelector : [arg];
      };
      return arg.filter(function(item){

        return (item && (item.nodeType === 1 || item.nodeType === 11));
      });
    },
    wrap : function(wrapper){

      wrapper = qx.module.Manipulating.__getCollectionFromArgument(wrapper);
      if(wrapper.length == 0){

        return this;
      };
      this._forEachElement(function(item){

        var clonedwrapper = wrapper.eq(0).clone(true);
        qx.dom.Element.insertAfter(clonedwrapper[0], item);
        var innermost = qx.module.Manipulating.__getInnermostElement(clonedwrapper[0]);
        qx.dom.Element.insertEnd(item, innermost);
      });
      return this;
    },
    __getCollectionFromArgument : function(arg){

      var coll;
      if(qx.lang.Type.isArray(arg)){

        coll = qxWeb(arg);
      } else {

        var arr = qx.bom.Html.clean([arg]);
        if(arr.length > 0 && qx.dom.Node.isElement(arr[0])){

          coll = qxWeb(arr);
        } else {

          coll = qxWeb(arg);
        };
      };
      return coll;
    },
    __getInnermostElement : function(element){

      if(element.childNodes.length == 0){

        return element;
      };
      for(var i = 0,l = element.childNodes.length;i < l;i++){

        if(element.childNodes[i].nodeType === 1){

          return this.__getInnermostElement(element.childNodes[i]);
        };
      };
      return element;
    },
    remove : function(){

      this._forEachElement(function(item){

        qx.dom.Element.remove(item);
      });
      return this;
    },
    empty : function(){

      this._forEachElement(function(item){

        while(item.firstChild){

          item.removeChild(item.firstChild);
        };
      });
      return this;
    },
    before : function(content){

      if(!qx.lang.Type.isArray(content)){

        content = [content];
      };
      var fragment = document.createDocumentFragment();
      qx.bom.Html.clean(content, document, fragment);
      this._forEachElement(function(item, index){

        var kids = qx.lang.Array.cast(fragment.childNodes, Array);
        for(var i = 0,l = kids.length;i < l;i++){

          var child;
          if(index < this.length - 1){

            child = kids[i].cloneNode(true);
          } else {

            child = kids[i];
          };
          item.parentNode.insertBefore(child, item);
        };
      }, this);
      return this;
    },
    after : function(content){

      if(!qx.lang.Type.isArray(content)){

        content = [content];
      };
      var fragment = document.createDocumentFragment();
      qx.bom.Html.clean(content, document, fragment);
      this._forEachElement(function(item, index){

        var kids = qx.lang.Array.cast(fragment.childNodes, Array);
        for(var i = kids.length - 1;i >= 0;i--){

          var child;
          if(index < this.length - 1){

            child = kids[i].cloneNode(true);
          } else {

            child = kids[i];
          };
          item.parentNode.insertBefore(child, item.nextSibling);
        };
      }, this);
      return this;
    },
    getScrollLeft : function(){

      var obj = this[0];
      if(!obj){

        return null;
      };
      var Node = qx.dom.Node;
      if(Node.isWindow(obj) || Node.isDocument(obj)){

        return qx.bom.Viewport.getScrollLeft();
      };
      return obj.scrollLeft;
    },
    getScrollTop : function(){

      var obj = this[0];
      if(!obj){

        return null;
      };
      var Node = qx.dom.Node;
      if(Node.isWindow(obj) || Node.isDocument(obj)){

        return qx.bom.Viewport.getScrollTop();
      };
      return obj.scrollTop;
    },
    _animationDescription : {
      scrollLeft : {
        duration : 700,
        timing : "ease-in",
        keep : 100,
        keyFrames : {
          '0' : {
          },
          '100' : {
            scrollLeft : 1
          }
        }
      },
      scrollTop : {
        duration : 700,
        timing : "ease-in",
        keep : 100,
        keyFrames : {
          '0' : {
          },
          '100' : {
            scrollTop : 1
          }
        }
      }
    },
    __animateScroll : function(property, value, duration){

      var desc = qx.lang.Object.clone(qx.module.Manipulating._animationDescription[property], true);
      desc.keyFrames[100][property] = value;
      return this.animate(desc, duration);
    },
    setScrollLeft : function(value, duration){

      var Node = qx.dom.Node;
      if(duration && qx.bom.element && qx.bom.element.AnimationJs){

        qx.module.Manipulating.__animateScroll.bind(this, "scrollLeft", value, duration)();
      };
      for(var i = 0,l = this.length,obj;i < l;i++){

        obj = this[i];
        if(Node.isElement(obj)){

          if(!(duration && qx.bom.element && qx.bom.element.AnimationJs)){

            obj.scrollLeft = value;
          };
        } else if(Node.isWindow(obj)){

          obj.scrollTo(value, this.getScrollTop(obj));
        } else if(Node.isDocument(obj)){

          Node.getWindow(obj).scrollTo(value, this.getScrollTop(obj));
        };;
      };
      return this;
    },
    setScrollTop : function(value, duration){

      var Node = qx.dom.Node;
      if(duration && qx.bom.element && qx.bom.element.AnimationJs){

        qx.module.Manipulating.__animateScroll.bind(this, "scrollTop", value, duration)();
      };
      for(var i = 0,l = this.length,obj;i < l;i++){

        obj = this[i];
        if(Node.isElement(obj)){

          if(!(duration && qx.bom.element && qx.bom.element.AnimationJs)){

            obj.scrollTop = value;
          };
        } else if(Node.isWindow(obj)){

          obj.scrollTo(this.getScrollLeft(obj), value);
        } else if(Node.isDocument(obj)){

          Node.getWindow(obj).scrollTo(this.getScrollLeft(obj), value);
        };;
      };
      return this;
    },
    focus : function(){

      try{

        this[0].focus();
      } catch(ex) {
      };
      return this;
    },
    blur : function(){

      this.forEach(function(item, index){

        try{

          item.blur();
        } catch(ex) {
        };
      });
      return this;
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "create" : statics.create
    });
    qxWeb.$attach({
      "append" : statics.append,
      "appendTo" : statics.appendTo,
      "remove" : statics.remove,
      "empty" : statics.empty,
      "before" : statics.before,
      "insertBefore" : statics.insertBefore,
      "after" : statics.after,
      "insertAfter" : statics.insertAfter,
      "wrap" : statics.wrap,
      "clone" : statics.clone,
      "getScrollLeft" : statics.getScrollLeft,
      "setScrollLeft" : statics.setScrollLeft,
      "getScrollTop" : statics.getScrollTop,
      "setScrollTop" : statics.setScrollTop,
      "focus" : statics.focus,
      "blur" : statics.blur
    });
  }
});

qx.Bootstrap.define("qx.bom.Html", {
  statics : {
    __fixNonDirectlyClosableHelper : function(all, front, tag){

      return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i) ? all : front + "></" + tag + ">";
    },
    __convertMap : {
      opt : [1, "<select multiple='multiple'>", "</select>"],
      leg : [1, "<fieldset>", "</fieldset>"],
      table : [1, "<table>", "</table>"],
      tr : [2, "<table><tbody>", "</tbody></table>"],
      td : [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      col : [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
      def : qx.core.Environment.select("engine.name", {
        "mshtml" : [1, "div<div>", "</div>"],
        "default" : null
      })
    },
    fixEmptyTags : function(html){

      return html.replace(/(<(\w+)[^>]*?)\/>/g, this.__fixNonDirectlyClosableHelper);
    },
    __convertHtmlString : function(html, context){

      var div = context.createElement("div");
      html = qx.bom.Html.fixEmptyTags(html);
      var tags = html.replace(/^\s+/, "").substring(0, 5).toLowerCase();
      var wrap,map = this.__convertMap;
      if(!tags.indexOf("<opt")){

        wrap = map.opt;
      } else if(!tags.indexOf("<leg")){

        wrap = map.leg;
      } else if(tags.match(/^<(thead|tbody|tfoot|colg|cap)/)){

        wrap = map.table;
      } else if(!tags.indexOf("<tr")){

        wrap = map.tr;
      } else if(!tags.indexOf("<td") || !tags.indexOf("<th")){

        wrap = map.td;
      } else if(!tags.indexOf("<col")){

        wrap = map.col;
      } else {

        wrap = map.def;
      };;;;;
      if(wrap){

        div.innerHTML = wrap[1] + html + wrap[2];
        var depth = wrap[0];
        while(depth--){

          div = div.lastChild;
        };
      } else {

        div.innerHTML = html;
      };
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        var hasBody = /<tbody/i.test(html);
        var tbody = !tags.indexOf("<table") && !hasBody ? div.firstChild && div.firstChild.childNodes : wrap[1] == "<table>" && !hasBody ? div.childNodes : [];
        for(var j = tbody.length - 1;j >= 0;--j){

          if(tbody[j].tagName.toLowerCase() === "tbody" && !tbody[j].childNodes.length){

            tbody[j].parentNode.removeChild(tbody[j]);
          };
        };
        if(/^\s/.test(html)){

          div.insertBefore(context.createTextNode(html.match(/^\s*/)[0]), div.firstChild);
        };
      };
      return qx.lang.Array.fromCollection(div.childNodes);
    },
    clean : function(objs, context, fragment){

      context = context || document;
      if(typeof context.createElement === "undefined"){

        context = context.ownerDocument || context[0] && context[0].ownerDocument || document;
      };
      if(!fragment && objs.length === 1 && typeof objs[0] === "string"){

        var match = /^<(\w+)\s*\/?>$/.exec(objs[0]);
        if(match){

          return [context.createElement(match[1])];
        };
      };
      var obj,ret = [];
      for(var i = 0,l = objs.length;i < l;i++){

        obj = objs[i];
        if(typeof obj === "string"){

          obj = this.__convertHtmlString(obj, context);
        };
        if(obj.nodeType){

          ret.push(obj);
        } else if(obj instanceof qx.type.BaseArray || (typeof qxWeb !== "undefined" && obj instanceof qxWeb)){

          ret.push.apply(ret, Array.prototype.slice.call(obj, 0));
        } else if(obj.toElement){

          ret.push(obj.toElement());
        } else {

          ret.push.apply(ret, obj);
        };;
      };
      if(fragment){

        return qx.bom.Html.extractScripts(ret, fragment);
      };
      return ret;
    },
    extractScripts : function(elements, fragment){

      var scripts = [],elem;
      for(var i = 0;elements[i];i++){

        elem = elements[i];
        if(elem.nodeType == 1 && elem.tagName.toLowerCase() === "script" && (!elem.type || elem.type.toLowerCase() === "text/javascript")){

          if(elem.parentNode){

            elem.parentNode.removeChild(elements[i]);
          };
          scripts.push(elem);
        } else {

          if(elem.nodeType === 1){

            var scriptList = qx.lang.Array.fromCollection(elem.getElementsByTagName("script"));
            elements.splice.apply(elements, [i + 1, 0].concat(scriptList));
          };
          if(fragment){

            fragment.appendChild(elem);
          };
        };
      };
      return scripts;
    }
  }
});

qx.Mixin.define("qx.ui.mobile.container.MNativeScroll", {
  construct : function(){

    this.addCssClass("native");
    this._snapPoints = [];
    this.addListenerOnce("appear", this._onAppear, this);
    this.addListener("trackstart", this._onTrackStart, this);
    this.addListener("trackend", this._onTrackEnd, this);
    if(qx.core.Environment.get("os.name") == "ios"){

      this.addListener("touchmove", this._onTouchMove, this);
    };
  },
  members : {
    _snapPoints : null,
    _lastScrollTime : null,
    _snapAfterMomentum : null,
    _onAppear : function(){

      this._calcSnapPoints();
    },
    _onTouchMove : function(evt){

      if(this._isScrollableY()){

        evt.stopPropagation();
      } else {

        evt.preventDefault();
      };
    },
    _onTrackStart : function(){

      this._lastScrollTime = Date.now();
      this._snapAfterMomentum = false;
      if(qx.core.Environment.get("os.name") == "ios"){

        if(this._isScrollableY()){

          var scrollTop = this.getContentElement().scrollTop;
          var maxScrollTop = this.getContentElement().scrollHeight - this.getLayoutParent().getContentElement().offsetHeight;
          if(scrollTop === 0){

            this.getContentElement().scrollTop = 1;
          } else if(scrollTop == maxScrollTop){

            this.getContentElement().scrollTop = maxScrollTop - 1;
          };
        };
      };
    },
    _onTrackEnd : function(evt){

      var swipeDuration = Date.now() - this._lastScrollTime;
      if(swipeDuration < 250 && (Math.abs(evt.getDelta().y) > 10 || Math.abs(evt.getDelta().x) > 10)){

        setTimeout(function(){

          this._snapAfterMomentum = true;
        }.bind(this), 500);
      } else {

        this._snap();
      };
    },
    _onScroll : function(){

      if(this._snapTimerId){

        clearTimeout(this._snapTimerId);
      };
      if(this._snapAfterMomentum || qx.core.Environment.get("browser.name") == "iemobile"){

        this._snapTimerId = setTimeout(function(){

          this._snap();
          this._snapAfterMomentum = false;
        }.bind(this), 100);
      };
    },
    _calcSnapPoints : function(){

      if(this._scrollProperties){

        var snap = this._scrollProperties.snap;
        if(snap){

          qx.bom.Event.removeNativeListener(this._getContentElement(), "scroll", this._onScroll.bind(this));
          qx.bom.Event.addNativeListener(this._getContentElement(), "scroll", this._onScroll.bind(this));
          this._snapPoints = [];
          var snapTargets = this.getContentElement().querySelectorAll(snap);
          for(var i = 0;i < snapTargets.length;i++){

            var snapPoint = qx.bom.element.Location.getRelative(this._getContentElement(), snapTargets[i], "scroll", "scroll");
            this._snapPoints.push(snapPoint);
          };
        };
      };
    },
    _determineSnapPoint : function(current, snapProperty){

      for(var i = 0;i < this._snapPoints.length;i++){

        var snapPoint = this._snapPoints[i];
        if(current <= -snapPoint[snapProperty]){

          if(i > 0){

            var previousSnapPoint = this._snapPoints[i - 1];
            var previousSnapDiff = Math.abs(current + previousSnapPoint[snapProperty]);
            var nextSnapDiff = Math.abs(current + snapPoint[snapProperty]);
            if(previousSnapDiff < nextSnapDiff){

              return -previousSnapPoint[snapProperty];
            } else {

              return -snapPoint[snapProperty];
            };
          } else {

            return -snapPoint[snapProperty];
          };
        };
      };
      return current;
    },
    _snap : function(){

      var current = this._getPosition();
      var nextX = this._determineSnapPoint(current[0], "left");
      var nextY = this._determineSnapPoint(current[1], "top");
      if(nextX != current[0] || nextY != current[1]){

        this._scrollTo(nextX, nextY, 100);
      };
    },
    _refresh : function(){

      this._calcSnapPoints();
    },
    _createScrollElement : function(){

      return null;
    },
    _getPosition : function(){

      return [this.getContentElement().scrollLeft, this.getContentElement().scrollTop];
    },
    _getScrollContentElement : function(){

      return null;
    },
    _scrollTo : function(x, y, time){

      var position = this._getPosition();
      var element = this.getContentElement();
      var startX = -position[0] + element.scrollLeft;
      var startY = -position[1] + element.scrollTop;
      var endX = -x + element.scrollLeft;
      var endY = -y + element.scrollTop;
      if(!this._isScrollableY()){

        endY = 0;
      };
      if(!this._isScrollableX()){

        endX = 0;
      };
      var animationMap = {
        "duration" : time,
        "keyFrames" : {
          '0' : {
            "transform" : "translate3d(" + startX + "px," + startY + "px,0)"
          },
          '100' : {
            "transform" : "translate3d(" + endX + "px," + endY + "px,0)"
          }
        },
        "timing" : "ease-out"
      };
      if(element && element.children.length > 0){

        var animationHandle = qx.bom.element.Animation.animate(element.children[0], animationMap);
        animationHandle.addListener("end", function(){

          element.scrollLeft = x;
          element.scrollTop = y;
        }, this);
      };
    }
  },
  destruct : function(){

    qx.bom.Event.removeNativeListener(this._getContentElement(), "scroll", this._onScroll.bind(this));
    this.removeListener("touchmove", this._onTouchMove, this);
    this.removeListener("appear", this._onAppear, this);
    this.removeListener("trackstart", this._onTrackStart, this);
    this.removeListener("trackend", this._onTrackEnd, this);
  }
});

qx.Class.define("qx.ui.mobile.container.Scroll", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(scrollProperties){

    this.base(arguments);
    if(scrollProperties){

      this._scrollProperties = scrollProperties;
    };
  },
  events : {
    pageEnd : "qx.event.type.Event"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "scroll"
    },
    delegate : {
      init : null,
      nullable : true
    }
  },
  members : {
    _scrollProperties : null,
    _createContainerElement : function(){

      var element = this.base(arguments);
      var scrollElement = this._createScrollElement();
      if(scrollElement){

        return scrollElement;
      };
      return element;
    },
    _getContentElement : function(){

      var contentElement = this.base(arguments);
      var scrollContentElement = this._getScrollContentElement();
      return scrollContentElement || contentElement;
    },
    refresh : function(){

      this._refresh();
    },
    scrollTo : function(x, y, time){

      this._scrollTo(x, y, time);
    },
    getPosition : function(){

      return this._getPosition();
    },
    isScrollable : function(){

      return this._isScrollable();
    },
    _isScrollable : function(){

      return this._isScrollableX() || this._isScrollableY();
    },
    _isScrollableX : function(){

      if(this.getLayoutParent() === null){

        return false;
      };
      var parentWidth = this.getContainerElement().clientWidth;
      var contentWidth = this.getContentElement().scrollWidth;
      var scrollContentElement = this._getScrollContentElement();
      if(scrollContentElement){

        contentWidth = qx.bom.element.Dimension.getWidth(scrollContentElement);
      };
      return parentWidth < contentWidth;
    },
    _isScrollableY : function(){

      if(this.getLayoutParent() === null){

        return false;
      };
      var parentHeight = this.getContainerElement().clientHeight;
      var contentHeight = this.getContentElement().scrollHeight;
      var scrollContentElement = this._getScrollContentElement();
      if(scrollContentElement){

        contentHeight = qx.bom.element.Dimension.getHeight(scrollContentElement);
      };
      return parentHeight < contentHeight;
    },
    scrollToElement : function(target, time){

      this._scrollToElement(target, time);
    },
    _scrollToElement : function(element, time){

      if(this._getContentElement() && this._isScrollable()){

        if(typeof time === "undefined"){

          time = 0;
        };
        var location = qx.bom.element.Location.getRelative(this._getContentElement(), element, "scroll", "scroll");
        var offset = this._getScrollOffset();
        this._scrollTo(-location.left - offset[0], -location.top - offset[1], time);
      };
    },
    _getScrollOffset : function(){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.getScrollOffset){

        return delegate.getScrollOffset.bind(this)();
      } else {

        return [0, 0];
      };
    },
    scrollToWidget : function(widget, time){

      if(widget){

        this._scrollToElement(widget.getContentElement(), time);
      };
    }
  },
  defer : function(statics){

    if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

      qx.Class.include(statics, qx.ui.mobile.container.MIScroll);
    } else {

      qx.Class.include(statics, qx.ui.mobile.container.MNativeScroll);
    };
  }
});

qx.Class.define("qx.ui.mobile.list.List", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(delegate){

    this.base(arguments);
    this.__provider = new qx.ui.mobile.list.provider.Provider(this);
    this.addListener("tap", this._onTap, this);
    this.addListener("trackstart", this._onTrackStart, this);
    this.addListener("track", this._onTrack, this);
    this.addListener("trackend", this._onTrackEnd, this);
    if(delegate){

      this.setDelegate(delegate);
    };
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
  },
  events : {
    changeSelection : "qx.event.type.Data",
    changeGroupSelection : "qx.event.type.Data",
    removeItem : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "list"
    },
    delegate : {
      apply : "_applyDelegate",
      event : "changeDelegate",
      init : null,
      nullable : true
    },
    model : {
      check : "qx.data.Array",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      init : null
    },
    itemCount : {
      check : "Integer",
      init : 0
    }
  },
  members : {
    __provider : null,
    __minDeleteDistance : null,
    __isScrollingBlocked : null,
    __trackElement : null,
    _getTagName : function(){

      return "ul";
    },
    _onTap : function(evt){

      var element = this._getElement(evt);
      if(!element){

        return;
      };
      var row = -1;
      if(qx.bom.element.Class.has(element, "list-item")){

        if(qx.bom.element.Attribute.get(element, "data-selectable") != "false" && qx.dom.Element.hasChild(this.getContainerElement(), element)){

          row = parseInt(element.getAttribute("data-row"), 10);
        };
        if(row != -1){

          this.fireDataEvent("changeSelection", row);
        };
      } else {

        var group = parseInt(element.getAttribute("data-group"), 10);
        if(qx.bom.element.Attribute.get(element, "data-selectable") != "false"){

          this.fireDataEvent("changeGroupSelection", group);
        };
      };
    },
    _onTrackStart : function(evt){

      this.__isScrollingBlocked = null;
      this.__trackElement = null;
      var element = this._getElement(evt);
      if(element && qx.bom.element.Class.has(element, "list-item") && qx.bom.element.Class.has(element, "removable")){

        this.__trackElement = element;
        this.__minDeleteDistance = qx.bom.element.Dimension.getWidth(element) / 2;
        qx.bom.element.Class.add(element, "track");
      };
    },
    _onTrack : function(evt){

      if(!this.__trackElement){

        return;
      };
      var element = this.__trackElement;
      var delta = evt.getDelta();
      var deltaX = Math.round(delta.x * 0.1) / 0.1;
      if(this.__isScrollingBlocked === null){

        this.__isScrollingBlocked = (delta.axis == "x");
      };
      if(!this.__isScrollingBlocked){

        return;
      };
      var opacity = 1 - (Math.abs(deltaX) / this.__minDeleteDistance);
      opacity = Math.round(opacity * 100) / 100;
      qx.bom.element.Style.set(element, "transform", "translate3d(" + deltaX + "px,0,0)");
      qx.bom.element.Style.set(element, "opacity", opacity);
      evt.preventDefault();
    },
    _onTrackEnd : function(evt){

      if(!this.__trackElement){

        return;
      };
      var element = this.__trackElement;
      if(Math.abs(evt.getDelta().x) > this.__minDeleteDistance){

        var row = parseInt(element.getAttribute("data-row"), 10);
        this.fireDataEvent("removeItem", row);
      } else {

        qx.bom.AnimationFrame.request(function(){

          qx.bom.element.Style.set(element, "transform", "translate3d(0,0,0)");
          qx.bom.element.Style.set(element, "opacity", "1");
          qx.bom.element.Class.remove(element, "track");
        }.bind(this));
      };
    },
    _getElement : function(evt){

      var element = evt.getOriginalTarget();
      if(element.tagName == "UL"){

        return null;
      };
      while(element.tagName != "LI"){

        element = element.parentNode;
      };
      return element;
    },
    _applyModel : function(value, old){

      if(old != null){

        old.removeListener("changeBubble", this.__onModelChangeBubble, this);
      };
      if(value != null){

        value.addListener("changeBubble", this.__onModelChangeBubble, this);
      };
      if(old != null){

        old.removeListener("change", this.__onModelChange, this);
      };
      if(value != null){

        value.addListener("change", this.__onModelChange, this);
      };
      if(old != null){

        old.removeListener("changeLength", this.__onModelChangeLength, this);
      };
      if(value != null){

        value.addListener("changeLength", this.__onModelChangeLength, this);
      };
      this.__render();
    },
    _applyDelegate : function(value, old){

      this.__provider.setDelegate(value);
    },
    __onModelChangeLength : function(evt){

      this.__render();
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        this.__render();
      },
      "false" : null
    }),
    __onModelChange : function(evt){

      if(evt && evt.getData() && evt.getData().type == "order"){

        this.__render();
      };
    },
    __onModelChangeBubble : function(evt){

      if(evt){

        var data = evt.getData();
        var isArray = (qx.lang.Type.isArray(data.old) && qx.lang.Type.isArray(data.value));
        if(!isArray || (isArray && data.old.length == data.value.length)){

          var rows = this._extractRowsToRender(data.name);
          for(var i = 0;i < rows.length;i++){

            this.__renderRow(rows[i]);
          };
        };
      };
    },
    _extractRowsToRender : function(name){

      var rows = [];
      if(!name){

        return rows;
      };
      var containsPoint = (name.indexOf(".") != -1);
      if(containsPoint){

        var candidate = name.split(".")[0];
        candidate = candidate.replace("[", "");
        candidate = candidate.replace("]", "");
        var isRange = (candidate.indexOf("-") != -1);
        if(isRange){

          var rangeMembers = candidate.split("-");
          var startRange = parseInt(rangeMembers[0], 10);
          var endRange = parseInt(rangeMembers[1], 10);
          for(var i = startRange;i <= endRange;i++){

            rows.push(i);
          };
        } else {

          rows.push(parseInt(candidate.match(/\d+/)[0], 10));
        };
      } else {

        var match = name.match(/\d+/);
        if(match.length == 1){

          rows.push(parseInt(match[0], 10));
        };
      };
      return rows;
    },
    __renderRow : function(index){

      var renderedItems = qx.bom.Selector.query(".list-item", this.getContentElement());
      var oldNode = renderedItems[index];
      var newNode = this.__provider.getItemElement(this.getModel().getItem(index), index);
      this.getContentElement().replaceChild(newNode, oldNode);
      this._domUpdated();
    },
    getListItemHeight : function(){

      var listItemHeight = 0;
      if(this.getModel() != null && this.getModel().length > 0){

        var listHeight = qx.bom.element.Style.get(this.getContentElement(), "height");
        listItemHeight = parseInt(listHeight) / this.getModel().length;
      };
      return listItemHeight;
    },
    __render : function(){

      this._setHtml("");
      var model = this.getModel();
      this.setItemCount(model ? model.getLength() : 0);
      var groupIndex = 0;
      for(var index = 0;index < this.getItemCount();index++){

        if(this.__hasGroup()){

          var groupElement = this._renderGroup(index, groupIndex);
          if(groupElement){

            groupIndex++;
            this.getContentElement().appendChild(groupElement);
          };
        };
        var item = model.getItem(index);
        this.getContentElement().appendChild(this.__provider.getItemElement(item, index));
      };
      this._domUpdated();
    },
    _renderGroup : function(itemIndex, groupIndex){

      var group = this.__getGroup(itemIndex);
      if(itemIndex === 0){

        return this.__provider.getGroupElement(group, groupIndex);
      } else {

        var previousGroup = this.__getGroup(itemIndex - 1);
        if(!qx.lang.Object.equals(group, previousGroup)){

          return this.__provider.getGroupElement(group, groupIndex);
        };
      };
    },
    __hasGroup : function(){

      return qx.util.Delegate.getMethod(this.getDelegate(), "group") !== null;
    },
    __getGroup : function(index){

      var item = this.getModel().getItem(index);
      var group = qx.util.Delegate.getMethod(this.getDelegate(), "group");
      return group(item, index);
    }
  },
  destruct : function(){

    this.__trackElement = null;
    this._disposeObjects("__provider");
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().removeListener("changeLocale", this._onChangeLocale, this);
    };
  }
});

qx.Class.define("qx.ui.mobile.list.provider.Provider", {
  extend : qx.core.Object,
  properties : {
    delegate : {
      event : "changeDelegate",
      init : null,
      nullable : true,
      apply : "_applyDelegate"
    }
  },
  members : {
    __itemRenderer : null,
    __groupRenderer : null,
    _setItemRenderer : function(renderer){

      this.__itemRenderer = renderer;
    },
    _getItemRenderer : function(){

      return this.__itemRenderer;
    },
    _setGroupRenderer : function(renderer){

      this.__groupRenderer = renderer;
    },
    _getGroupRenderer : function(){

      return this.__groupRenderer;
    },
    getItemElement : function(data, row){

      this.__itemRenderer.reset();
      this._configureItem(data, row);
      var clone = qx.bom.Element.clone(this.__itemRenderer.getContainerElement(), true);
      clone.setAttribute("data-row", row);
      return clone;
    },
    getGroupElement : function(data, group){

      this.__groupRenderer.reset();
      this._configureGroupItem(data, group);
      var clone = qx.bom.Element.clone(this.__groupRenderer.getContainerElement(), true);
      clone.removeAttribute("id");
      clone.setAttribute("data-group", group);
      return clone;
    },
    _configureItem : function(data, row){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.configureItem != null){

        delegate.configureItem(this.__itemRenderer, data, row);
      };
    },
    _configureGroupItem : function(data, group){

      var configureGroupItem = qx.util.Delegate.getMethod(this.getDelegate(), "configureGroupItem");
      if(configureGroupItem){

        configureGroupItem(this.__groupRenderer, data, group);
      };
    },
    _createGroupRenderer : function(){

      var createGroupRenderer = qx.util.Delegate.getMethod(this.getDelegate(), "createGroupRenderer");
      var groupRenderer = null;
      if(createGroupRenderer == null){

        groupRenderer = new qx.ui.mobile.list.renderer.group.Default();
      } else {

        groupRenderer = createGroupRenderer();
      };
      return groupRenderer;
    },
    _createItemRenderer : function(){

      var createItemRenderer = qx.util.Delegate.getMethod(this.getDelegate(), "createItemRenderer");
      var itemRenderer = null;
      if(createItemRenderer == null){

        itemRenderer = new qx.ui.mobile.list.renderer.Default();
      } else {

        itemRenderer = createItemRenderer();
      };
      return itemRenderer;
    },
    _applyDelegate : function(value, old){

      this._setItemRenderer(this._createItemRenderer());
      this._setGroupRenderer(this._createGroupRenderer());
    }
  },
  destruct : function(){

    this._disposeObjects("__itemRenderer", "__groupRenderer");
  }
});

qx.Class.define("qx.ui.embed.Canvas", {
  extend : qx.ui.core.Widget,
  construct : function(canvasWidth, canvasHeight){

    this.base(arguments);
    this.__deferredDraw = new qx.util.DeferredCall(this.__redraw, this);
    this.addListener("resize", this._onResize, this);
    if(canvasWidth !== undefined){

      this.setCanvasWidth(canvasWidth);
    };
    if(canvasHeight !== undefined){

      this.setCanvasHeight(canvasHeight);
    };
  },
  events : {
    "redraw" : "qx.event.type.Data"
  },
  properties : {
    syncDimension : {
      check : "Boolean",
      init : false
    },
    canvasWidth : {
      check : "Integer",
      init : 300,
      apply : "_applyCanvasWidth"
    },
    canvasHeight : {
      check : "Integer",
      init : 150,
      apply : "_applyCanvasHeight"
    }
  },
  members : {
    __deferredDraw : null,
    _createContentElement : function(){

      return new qx.html.Canvas();
    },
    __redraw : function(){

      var canvas = this.getContentElement();
      var height = canvas.getHeight();
      var width = canvas.getWidth();
      var context = canvas.getContext2d();
      this._draw(width, height, context);
      this.fireNonBubblingEvent("redraw", qx.event.type.Data, [{
        width : width,
        height : height,
        context : context
      }]);
    },
    _applyCanvasWidth : function(value, old){

      this.getContentElement().setWidth(value);
      this.__deferredDraw.schedule();
    },
    _applyCanvasHeight : function(value, old){

      this.getContentElement().setHeight(value);
      this.__deferredDraw.schedule();
    },
    update : function(){

      this.__deferredDraw.schedule();
    },
    _onResize : function(e){

      var data = e.getData();
      if(this.getSyncDimension()){

        this.setCanvasHeight(data.height);
        this.setCanvasWidth(data.width);
      };
    },
    getContext2d : function(){

      return this.getContentElement().getContext2d();
    },
    _draw : function(width, height, context){
    }
  },
  destruct : function(){

    this._disposeObjects("__deferredDraw");
  }
});

qx.Class.define("qx.html.Canvas", {
  extend : qx.html.Element,
  construct : function(styles, attributes){

    this.base(arguments, "canvas", styles, attributes);
    this.__canvas = document.createElement("canvas");
  },
  members : {
    __canvas : null,
    _createDomElement : function(){

      return this.__canvas;
    },
    getCanvas : function(){

      return this.__canvas;
    },
    setWidth : function(width){

      this.__canvas.width = width;
    },
    getWidth : function(){

      return this.__canvas.width;
    },
    setHeight : function(height){

      this.__canvas.height = height;
    },
    getHeight : function(){

      return this.__canvas.height;
    },
    getContext2d : function(){

      return this.__canvas.getContext("2d");
    }
  },
  destruct : function(){

    this.__canvas = null;
  }
});

qx.Class.define("qx.ui.mobile.form.RadioGroup", {
  extend : qx.ui.form.RadioGroup
});

qx.Class.define("qx.ui.mobile.core.Root", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(root, layout){

    this.__root = root || document.body;
    this.base(arguments, layout || new qx.ui.mobile.layout.VBox());
    this.addCssClass("mobile");
    this.addCssClass(qx.core.Environment.get("os.name"));
    this.addCssClass("v" + qx.core.Environment.get("os.version").charAt(0));
    qx.event.Registration.addListener(window, "orientationchange", this._onOrientationChange, this);
    if(qx.core.Environment.get("os.name") == "ios"){

      this.addListener("touchmove", qx.bom.Event.preventDefault, this);
      if(window.innerHeight != document.documentElement.clientHeight){

        this.addCssClass("ios-viewport-fix");
      };
    };
    var flexboxSyntax = qx.core.Environment.get("css.flexboxSyntax");
    if(flexboxSyntax === "flex" || flexboxSyntax === "flexbox"){

      this.addCssClass("flex-ready");
    };
    this._onOrientationChange();
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "root"
    },
    showScrollbarY : {
      check : "Boolean",
      init : true,
      apply : "_applyShowScrollbarY"
    }
  },
  events : {
    "changeAppScale" : "qx.event.type.Event"
  },
  members : {
    __root : null,
    _createContainerElement : function(){

      return this.__root;
    },
    _applyShowScrollbarY : function(value, old){

      this._setStyle("overflow-y", value ? "auto" : "hidden");
    },
    getAppScale : function(){

      var pixelRatio = parseFloat(qx.bom.client.Device.getDevicePixelRatio().toFixed(2));
      var fontScale = this.getFontScale();
      if(!isNaN(pixelRatio * fontScale)){

        return parseFloat((pixelRatio * fontScale).toFixed(2));
      } else {

        return null;
      };
    },
    getFontScale : function(){

      var fontScale = null;
      var appScale = 1;
      var fontSize = document.documentElement.style.fontSize;
      if(fontSize.indexOf("%") !== -1){

        appScale = (parseInt(fontSize, 10) / 100);
      };
      fontSize = qx.bom.element.Style.get(document.documentElement, "fontSize");
      if(fontSize.indexOf("px") !== -1){

        fontSize = parseFloat(fontSize);
        if(fontSize > 15 && fontSize < 17){

          fontSize = 16;
        };
        if(appScale !== 1){

          fontSize = Math.round(fontSize / appScale);
        };
        fontScale = (fontSize / 16);
        fontScale *= appScale;
        fontScale = parseFloat(fontScale.toFixed(3));
      };
      return fontScale;
    },
    setFontScale : function(value){

      if(qx.core.Environment.get("qx.debug")){

        this.assertNumber(value, "The scale factor is asserted to be of type Number");
      };
      var docElement = document.documentElement;
      docElement.style.fontSize = value * 100 + "%";
      setTimeout(function(){

        docElement.style.display = "none";
        docElement.clientWidth = docElement.clientWidth;
        docElement.style.display = "";
      }, 0);
      this.fireEvent("changeAppScale");
    },
    getWidth : function(){

      return qx.bom.element.Dimension.getWidth(this.__root);
    },
    getHeight : function(){

      return qx.bom.element.Dimension.getHeight(this.__root);
    },
    _onOrientationChange : function(evt){

      var isPortrait = null;
      if(evt){

        isPortrait = evt.isPortrait();
      } else {

        isPortrait = qx.bom.Viewport.isPortrait();
      };
      if(isPortrait){

        this.addCssClass("portrait");
        this.removeCssClass("landscape");
      } else {

        this.addCssClass("landscape");
        this.removeCssClass("portrait");
      };
    }
  },
  destruct : function(){

    this.__root = null;
    this.removeListener("touchmove", qx.bom.Event.preventDefault, this);
    qx.event.Registration.removeListener(window, "orientationchange", this._onOrientationChange, this);
  }
});

qx.Mixin.define("qx.ui.mobile.form.MText", {
  construct : function(value){

    this.initMaxLength();
    this.initPlaceholder();
    this.initReadOnly();
  },
  properties : {
    maxLength : {
      check : "PositiveInteger",
      nullable : true,
      init : null,
      apply : "_applyMaxLength"
    },
    placeholder : {
      check : "String",
      nullable : true,
      init : null,
      apply : "_applyPlaceholder"
    },
    readOnly : {
      check : "Boolean",
      nullable : true,
      init : null,
      apply : "_applyAttribute"
    }
  },
  members : {
    _applyMaxLength : function(value, old){

      this._setAttribute("maxlength", value);
    },
    _applyPlaceholder : function(value, old){

      if(qx.core.Environment.get("os.name") == "android" && value !== null){

        value = " " + value;
      };
      this._setAttribute("placeholder", value);
    },
    focus : function(){

      if(this.isReadOnly() || this.getEnabled() == false){

        return;
      };
      var targetElement = this.getContainerElement();
      if(targetElement){

        qx.bom.Element.focus(targetElement);
      };
    },
    blur : function(){

      var targetElement = this.getContainerElement();
      if(targetElement){

        qx.bom.Element.blur(targetElement);
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.form.Input", {
  extend : qx.ui.mobile.core.Widget,
  include : [qx.ui.form.MForm, qx.ui.form.MModelProperty, qx.ui.mobile.form.MState],
  implement : [qx.ui.form.IForm, qx.ui.form.IModel],
  type : "abstract",
  construct : function(){

    this.base(arguments);
    this._setAttribute("type", this._getType());
    this.addCssClass("gap");
    this.addListener("focus", this._onSelected, this);
  },
  members : {
    _getTagName : function(){

      return "input";
    },
    _getType : function(){

      if(qx.core.Environment.get("qx.debug")){

        throw new Error("Abstract method call");
      };
    },
    __getScrollContainer : function(){

      var scroll = this;
      while(!(scroll instanceof qx.ui.mobile.container.Scroll)){

        if(scroll.getLayoutParent){

          var layoutParent = scroll.getLayoutParent();
          if(layoutParent == null || layoutParent instanceof qx.ui.mobile.core.Root){

            return null;
          };
          scroll = layoutParent;
        } else {

          return null;
        };
      };
      return scroll;
    },
    _onSelected : function(evt){

      if(!(evt.getTarget() instanceof qx.ui.mobile.form.TextField) && !(evt.getTarget() instanceof qx.ui.mobile.form.NumberField)){

        return;
      };
      var scrollContainer = this.__getScrollContainer();
      if(scrollContainer === null){

        return;
      };
      setTimeout(function(){

        scrollContainer.scrollToWidget(this.getLayoutParent(), 0);
        this._setStyle("position", "relative");
        qx.bom.AnimationFrame.request(function(){

          this._setStyle("position", null);
        }, this);
      }.bind(this), 300);
    }
  },
  destruct : function(){

    this.removeListener("focus", this._onSelected, this);
  }
});

qx.Class.define("qx.ui.mobile.form.TextField", {
  extend : qx.ui.mobile.form.Input,
  include : [qx.ui.mobile.form.MValue, qx.ui.mobile.form.MText],
  implement : [qx.ui.form.IStringForm],
  construct : function(value){

    this.base(arguments);
    this.addListener("keypress", this._onKeyPress, this);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "text-field"
    }
  },
  members : {
    _getType : function(){

      return "text";
    },
    _onKeyPress : function(evt){

      if(evt.getKeyCode() == 13){

        this.blur();
      };
    }
  },
  destruct : function(){

    this.removeListener("keypress", this._onKeyPress, this);
  }
});

qx.Class.define("qx.ui.mobile.form.NumberField", {
  extend : qx.ui.mobile.form.Input,
  include : [qx.ui.mobile.form.MValue, qx.ui.mobile.form.MText],
  implement : [qx.ui.form.IStringForm],
  construct : function(value){

    this.base(arguments);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "number-field"
    },
    minimum : {
      check : "Integer",
      init : '',
      apply : "_onChangeMinimum"
    },
    maximum : {
      check : "Integer",
      init : '',
      apply : "_onChangeMaximum"
    },
    step : {
      check : "Integer",
      init : '',
      apply : "_onChangeStep"
    }
  },
  members : {
    _getType : function(){

      return "number";
    },
    _onChangeStep : function(value, old){

      this._setAttribute("step", value);
    },
    _onChangeMaximum : function(value, old){

      this._setAttribute("max", value);
    },
    _onChangeMinimum : function(value, old){

      this._setAttribute("min", value);
    }
  }
});

qx.Class.define("qx.ui.mobile.form.renderer.AbstractRenderer", {
  type : "abstract",
  extend : qx.ui.mobile.core.Widget,
  implement : qx.ui.form.renderer.IFormRenderer,
  construct : function(form){

    this.base(arguments);
    this._form = form;
    this._render();
    form.addListener("change", this._onFormChange, this);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "form"
    }
  },
  members : {
    _form : null,
    _onFormChange : function(){

      this._removeAll();
      this.resetForm();
      this._render();
    },
    _render : function(){

      var groups = this._form.getGroups();
      for(var i = 0;i < groups.length;i++){

        var group = groups[i];
        this.addItems(group.items, group.labels, group.title, group.options, group.headerOptions);
      };
      var buttons = this._form.getButtons();
      var buttonOptions = this._form.getButtonOptions();
      for(var i = 0;i < buttons.length;i++){

        this.addButton(buttons[i], buttonOptions[i]);
      };
      this._form.setRenderer(this);
    },
    addItems : function(items, names, title){

      throw new Error("Abstract method call");
    },
    addButton : function(button){

      throw new Error("Abstract method call");
    },
    showErrorForItem : function(item){

      throw new Error("Abstract method call");
    },
    resetForm : function(){

      throw new Error("Abstract method call");
    }
  }
});

qx.Class.define("qx.ui.mobile.form.ToggleButton", {
  extend : qx.ui.mobile.core.Widget,
  include : [qx.ui.mobile.form.MValue, qx.ui.form.MForm, qx.ui.form.MModelProperty, qx.ui.mobile.form.MState],
  implement : [qx.ui.form.IForm, qx.ui.form.IModel],
  construct : function(value, labelChecked, labelUnchecked){

    this.base(arguments);
    if(labelChecked && labelUnchecked){

      this.__labelUnchecked = labelUnchecked;
      this.__labelChecked = labelChecked;
    };
    this._setAttribute("data-label-checked", this.__labelChecked);
    this._setAttribute("data-label-unchecked", this.__labelUnchecked);
    this.__switch = this._createSwitch();
    this._add(this.__switch);
    if(value){

      this.setValue(value);
    };
    this.addListener("tap", this._onTap, this);
    this.addListener("swipe", this._onSwipe, this);
    this.addCssClass("gap");
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "togglebutton"
    }
  },
  members : {
    __switch : null,
    __value : false,
    __labelUnchecked : "OFF",
    __labelChecked : "ON",
    __lastToggleTimestamp : 0,
    _getChild : function(){

      return this.__switch;
    },
    _createSwitch : function(){

      var toggleButtonSwitch = new qx.ui.mobile.container.Composite();
      toggleButtonSwitch.addCssClass("togglebutton-switch");
      return toggleButtonSwitch;
    },
    _setValue : function(value){

      if(typeof value !== 'boolean'){

        throw new Error("value for " + this + " should be boolean");
      };
      if(value){

        this.addCssClass("checked");
      } else {

        this.removeCssClass("checked");
      };
      this.__value = value;
    },
    _getValue : function(){

      return this.__value;
    },
    toggle : function(){

      this.setValue(!this.getValue());
    },
    _onTap : function(evt){

      if(this._checkLastPointerTime()){

        this.toggle();
      };
    },
    _onSwipe : function(evt){

      if(this._checkLastPointerTime()){

        var direction = evt.getDirection();
        if(direction == "left"){

          if(this.__value == true){

            this.toggle();
          };
        } else {

          if(this.__value == false){

            this.toggle();
          };
        };
      };
    },
    _checkLastPointerTime : function(){

      var elapsedTime = new Date().getTime() - this.__lastToggleTimestamp;
      this.__lastToggleTimestamp = new Date().getTime();
      return elapsedTime > 500;
    }
  },
  destruct : function(){

    this.removeListener("tap", this._onTap, this);
    this.removeListener("swipe", this._onSwipe, this);
    this._disposeObjects("__switch", "__labelUnchecked", "__labelChecked");
  }
});

qx.Class.define("qx.ui.mobile.form.CheckBox", {
  extend : qx.ui.mobile.form.Input,
  include : [qx.ui.mobile.form.MValue],
  construct : function(value){

    this.base(arguments);
    if(typeof value != undefined){

      this._state = value;
    };
    this.addListener("tap", this._onTap, this);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "checkbox"
    }
  },
  members : {
    _state : null,
    _getTagName : function(){

      return "span";
    },
    _getType : function(){

      return null;
    },
    _onTap : function(){

      this.setValue(!this.getValue());
    },
    _setValue : function(value){

      if(value == true){

        this.addCssClass("checked");
      } else {

        this.removeCssClass("checked");
      };
      this._setAttribute("checked", value);
      this._state = value;
    },
    _getValue : function(){

      return this._state;
    }
  },
  destruct : function(){

    this.removeListener("tap", this._onTap, this);
  }
});

qx.Class.define("qx.ui.mobile.form.PasswordField", {
  extend : qx.ui.mobile.form.TextField,
  properties : {
    defaultCssClass : {
      refine : true,
      init : "password-field"
    }
  },
  members : {
    _getType : function(){

      return "password";
    }
  }
});

qx.Class.define("qx.ui.mobile.form.RadioButton", {
  extend : qx.ui.mobile.form.Input,
  include : [qx.ui.mobile.form.MValue],
  construct : function(value){

    this.base(arguments);
    this.addListener("tap", this._onTap, this);
  },
  events : {
    changeValue : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "radio"
    },
    group : {
      check : "qx.ui.mobile.form.RadioGroup",
      nullable : true,
      apply : "_applyGroup"
    }
  },
  members : {
    _state : null,
    _getTagName : function(){

      return "span";
    },
    _getType : function(){

      return null;
    },
    _onTap : function(){

      this.fireDataEvent("changeValue", {
      });
      this.setValue(true);
    },
    _applyGroup : function(value, old){

      if(old){

        old.remove(this);
      };
      if(value){

        value.add(this);
      };
    },
    _setValue : function(value){

      if(value == true){

        this.addCssClass("checked");
      } else {

        this.removeCssClass("checked");
      };
      this._state = value;
    },
    _getValue : function(){

      return this._state;
    }
  },
  destruct : function(){

    qx.event.Registration.removeListener(this, "tap", this._onTap, this);
  }
});

qx.Class.define("qx.ui.mobile.form.SelectBox", {
  extend : qx.ui.mobile.core.Widget,
  include : [qx.ui.mobile.form.MValue, qx.ui.form.MForm, qx.ui.mobile.form.MText, qx.ui.mobile.form.MState],
  implement : [qx.ui.form.IForm, qx.ui.form.IModel],
  construct : function(){

    this.base(arguments);
    this._setAttribute("type", "text");
    this.setReadOnly(true);
    this.addListener("focus", this.blur);
    this.addListener("tap", this._onTap, this);
    this.__selectionDialog = this._createSelectionDialog();
    this.addCssClass("gap");
    this.__selectionDialog.addListener("changeSelection", this._onChangeSelection, this);
  },
  events : {
    changeSelection : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "selectbox"
    },
    activatable : {
      refine : true,
      init : true
    },
    nullable : {
      init : true,
      check : "Boolean",
      apply : "_applyNullable"
    },
    model : {
      check : "qx.data.Array",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      init : null
    },
    selection : {
      init : null,
      validate : "_validateSelection",
      apply : "_applySelection",
      nullable : true
    }
  },
  members : {
    __selectionDialog : null,
    _getTagName : function(){

      return "input";
    },
    _createSelectionDialog : function(){

      var menu = new qx.ui.mobile.dialog.Menu();
      menu.setSelectedItemClass("selectbox-selected");
      menu.setUnselectedItemClass("selectbox-unselected");
      menu.setHideOnBlockerTap(true);
      return menu;
    },
    getSelectionDialog : function(){

      return this.__selectionDialog;
    },
    setDialogTitle : function(title){

      this.__selectionDialog.setTitle(title);
    },
    setClearButtonLabel : function(value){

      this.__selectionDialog.setClearButtonLabel(value);
    },
    _setValue : function(value){

      if(this.getModel() == null){

        return;
      };
      if(value == ""){

        if(this.isNullable()){

          this.setSelection(null);
        } else {

          this.setSelection(0);
        };
      } else if(value != null){

        this.setSelection(this.getModel().indexOf(value));
      } else {

        this.setSelection(null);
      };
    },
    _getValue : function(){

      return this._getAttribute("value");
    },
    _render : function(){

      if(this.getModel() != null && this.getModel().length > 0){

        var selectedItem = this.getModel().getItem(this.getSelection());
        this._setAttribute("value", selectedItem);
      };
      this._domUpdated();
    },
    _applyModel : function(value, old){

      value.addListener("change", this._render, this);
      if(old != null){

        old.removeListener("change", this._render, this);
      };
      this._render();
    },
    __showSelectionDialog : function(){

      if(this.isEnabled() == true){

        this.__selectionDialog.setSelectedIndex(this.getSelection());
        this.__selectionDialog.setItems(this.getModel());
        this.__selectionDialog.show();
      };
    },
    _onChangeSelection : function(evt){

      this.setSelection(evt.getData().index);
      this._render();
    },
    _onTap : function(evt){

      this.__showSelectionDialog();
      evt.getOriginalTarget().focus();
    },
    _validateSelection : function(value){

      if(value != null && qx.lang.Type.isNumber(value) == false){

        throw new qx.core.ValidationError("Validation Error: Input value is not a number");
      };
      if(this.getModel() === null){

        throw new qx.core.ValidationError("Validation Error: Please apply model before selection");
      };
      if(!this.isNullable() && value === null){

        throw new qx.core.ValidationError("Validation Error: SelectBox is not nullable");
      };
      if(value != null && (value < 0 || value >= this.getModel().getLength())){

        throw new qx.core.ValidationError("Validation Error: Input value is out of model range");
      };
    },
    _applySelection : function(value, old){

      var selectedItem = this.getModel().getItem(value);
      this.fireDataEvent("changeSelection", {
        index : value,
        item : selectedItem
      });
      this._render();
    },
    _applyNullable : function(value, old){

      this.__selectionDialog.setNullable(value);
    }
  },
  destruct : function(){

    this.__selectionDialog.removeListener("changeSelection", this._onChangeSelection, this);
    this._disposeObjects("__selectionDialog", "__selectionDialogTitle");
    this.removeListener("focus", this.blur);
    this.removeListener("tap", this._onTap, this);
  }
});

qx.Class.define("qx.ui.mobile.form.renderer.Single", {
  extend : qx.ui.mobile.form.renderer.AbstractRenderer,
  construct : function(form){

    this.__errorMessageContainers = [];
    this._rows = [];
    this._labels = [];
    this.base(arguments, form);
    this.addCssClass("single");
  },
  statics : {
    ONE_LINE_WIDGETS : [qx.ui.mobile.form.ToggleButton, qx.ui.mobile.form.RadioButton, qx.ui.mobile.form.TextField, qx.ui.mobile.form.PasswordField, qx.ui.mobile.form.NumberField, qx.ui.mobile.form.CheckBox, qx.ui.mobile.form.SelectBox]
  },
  members : {
    _rows : null,
    _labels : null,
    _onFormChange : function(){

      this._disposeArray("_labels");
      this._disposeArray("_rows");
      this._rows = [];
      this._labels = [];
      this.base(arguments);
    },
    __errorMessageContainers : null,
    _getTagName : function(){

      return "ul";
    },
    _isOneLineWidget : function(item){

      var widgets = qx.ui.mobile.form.renderer.Single.ONE_LINE_WIDGETS;
      for(var i = 0;i < widgets.length;i++){

        var widget = widgets[i];
        if(item instanceof widget){

          return true;
        };
      };
      return false;
    },
    addItems : function(items, names, title){

      if(title !== null){

        this._addGroupHeader(title);
      };
      this._addGroupHeaderRow();
      for(var i = 0,l = items.length;i < l;i++){

        var item = items[i];
        var name = names[i];
        var isLastItem = (i == items.length - 1);
        if(item instanceof qx.ui.mobile.form.TextArea){

          if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

            this._addToScrollContainer(item, name);
          } else {

            this._addRow(item, name, new qx.ui.mobile.layout.VBox());
          };
        } else {

          if(this._isOneLineWidget(item)){

            this._addRow(item, name, new qx.ui.mobile.layout.HBox());
          } else {

            this._addRow(item, name, new qx.ui.mobile.layout.VBox());
          };
        };
        if(!item.isValid()){

          this.showErrorForItem(item);
        };
        if(!isLastItem){

          this._addSeparationRow();
        };
      };
      this._addGroupFooterRow();
    },
    _addInScrollComposite : function(item, name){

      this._addToScrollContainer(item, name);
    },
    _addToScrollContainer : function(item, name){

      var scrollContainer = new qx.ui.mobile.container.Scroll();
      scrollContainer.addCssClass("form-row-scroll");
      scrollContainer.add(item, {
        flex : 1
      });
      this._addRow(scrollContainer, name, new qx.ui.mobile.layout.VBox());
    },
    _addInSeparateLines : function(item, name){

      this._addRow(item, name, new qx.ui.mobile.layout.VBox());
    },
    _addInOneLine : function(item, name){

      this._addRow(item, name, new qx.ui.mobile.layout.HBox());
    },
    _addRow : function(item, name, layout){

      var row = new qx.ui.mobile.form.Row(layout);
      row.addCssClass("form-row-content");
      if(name !== null){

        var label = new qx.ui.mobile.form.Label(name);
        label.setLabelFor(item.getId());
        row.add(label, {
          flex : 1
        });
        this._labels.push(label);
      };
      row.add(item);
      this._add(row);
      this._rows.push(row);
    },
    _addSeparationRow : function(){

      var row = new qx.ui.mobile.form.Row();
      row.addCssClass("form-separation-row");
      this._add(row);
      this._rows.push(row);
    },
    _addGroupHeaderRow : function(){

      var row = new qx.ui.mobile.form.Row();
      row.addCssClass("form-row-group-first");
      this._add(row);
      this._rows.push(row);
    },
    _addGroupFooterRow : function(){

      var row = new qx.ui.mobile.form.Row();
      row.addCssClass("form-row-group-last");
      this._add(row);
      this._rows.push(row);
    },
    _addGroupHeader : function(title){

      var row = new qx.ui.mobile.form.Row();
      row.addCssClass("form-row-group-title");
      var titleLabel = new qx.ui.mobile.basic.Label(title);
      row.add(titleLabel);
      this._add(row);
      this._labels.push(titleLabel);
      this._rows.push(row);
    },
    addButton : function(button){

      var row = new qx.ui.mobile.form.Row(new qx.ui.mobile.layout.HBox());
      row.add(button, {
        flex : 1
      });
      this._add(row);
      this._rows.push(row);
    },
    showErrorForItem : function(item){

      var errorNode = qx.dom.Element.create('div');
      errorNode.innerHTML = item.getInvalidMessage();
      qx.bom.element.Class.add(errorNode, 'form-element-error');
      qx.dom.Element.insertAfter(errorNode, this._getParentRow(item).getContainerElement());
      this.__errorMessageContainers.push(errorNode);
    },
    showItem : function(item){

      this._getParentRow(item).removeCssClass("exclude");
    },
    hideItem : function(item){

      this._getParentRow(item).addCssClass("exclude");
    },
    _getParentRow : function(item){

      var parent = item.getLayoutParent();
      while(!parent.hasCssClass("form-row")){

        parent = parent.getLayoutParent();
      };
      return parent;
    },
    resetForm : function(){

      for(var i = 0;i < this.__errorMessageContainers.length;i++){

        qx.dom.Element.remove(this.__errorMessageContainers[i]);
      };
    }
  },
  destruct : function(){

    this.resetForm();
    this._disposeArray("_labels");
    this._disposeArray("_rows");
  }
});

qx.Class.define("qx.ui.mobile.form.TextArea", {
  extend : qx.ui.mobile.core.Widget,
  include : [qx.ui.mobile.form.MValue, qx.ui.mobile.form.MText, qx.ui.form.MForm, qx.ui.form.MModelProperty, qx.ui.mobile.form.MState],
  implement : [qx.ui.form.IForm, qx.ui.form.IModel],
  construct : function(value){

    this.base(arguments);
    if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

      this.addListener("appear", this._fixChildElementsHeight, this);
      this.addListener("input", this._fixChildElementsHeight, this);
      this.addListener("changeValue", this._fixChildElementsHeight, this);
    };
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "text-area"
    }
  },
  members : {
    _getTagName : function(){

      return "textarea";
    },
    _fixChildElementsHeight : function(evt){

      this.getContentElement().style.height = 'auto';
      this.getContentElement().style.height = this.getContentElement().scrollHeight + 'px';
      var scroll = this.__getScrollContainer();
      if(scroll){

        scroll.refresh();
      };
    },
    __getScrollContainer : function(){

      var scroll = this;
      while(!(scroll instanceof qx.ui.mobile.container.Scroll)){

        if(scroll.getLayoutParent){

          var layoutParent = scroll.getLayoutParent();
          if(layoutParent == null || layoutParent instanceof qx.ui.mobile.core.Root){

            return null;
          };
          scroll = layoutParent;
        } else {

          return null;
        };
      };
      return scroll;
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

      this.removeListener("appear", this._fixChildElementsHeight, this);
      this.removeListener("input", this._fixChildElementsHeight, this);
      this.removeListener("changeValue", this._fixChildElementsHeight, this);
    };
  }
});

qx.Class.define("qx.ui.mobile.form.Row", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(layout){

    this.base(arguments, layout);
    this.initSelectable();
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "form-row"
    },
    selectable : {
      check : "Boolean",
      init : false,
      apply : "_applyAttribute"
    }
  },
  members : {
    _getTagName : function(){

      return "li";
    }
  }
});

qx.Class.define("qx.ui.mobile.form.Label", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(value){

    this.base(arguments);
    if(value){

      this.setValue(value);
    };
    this.addCssClass("gap");
    this._setLayout(new qx.ui.mobile.layout.HBox().set({
      "alignY" : "middle",
      "alignX" : "left"
    }));
    this.initWrap();
    if(qx.core.Environment.get("qx.dynlocale")){

      qx.locale.Manager.getInstance().addListener("changeLocale", this._onChangeLocale, this);
    };
    this.addListener("tap", this._onTap, this);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "label"
    },
    value : {
      nullable : true,
      init : null,
      apply : "_applyValue",
      event : "changeValue"
    },
    anonymous : {
      refine : true,
      init : false
    },
    wrap : {
      check : "Boolean",
      init : true,
      apply : "_applyWrap"
    }
  },
  members : {
    __forWidget : null,
    _getTagName : function(){

      return "label";
    },
    _applyValue : function(value, old){

      var html = value;
      if(qx.core.Environment.get("css.flexboxSyntax") === "flexbox"){

        html = "<p>" + value + "</p>";
      };
      this._setHtml(html);
    },
    _applyWrap : function(value, old){

      if(value){

        this.removeCssClass("no-wrap");
      } else {

        this.addCssClass("no-wrap");
      };
    },
    _changeEnabled : function(evt){

      if(evt){

        this.setEnabled(evt.getData());
      };
    },
    setLabelFor : function(elementId){

      if(this.__forWidget){

        this.__forWidget.removeListener("changeEnabled", this._changeEnabled, this);
      };
      this.__forWidget = qx.ui.mobile.core.Widget.getWidgetById(elementId);
      if(this.__forWidget){

        this.__forWidget.addListener("changeEnabled", this._changeEnabled, this);
        this.setEnabled(this.__forWidget.getEnabled());
      };
      this._setAttribute("for", elementId);
    },
    _onTap : function(evt){

      if(this.__forWidget && qx.core.Environment.get("event.dispatchevent")){

        var target = this.__forWidget.getContentElement();
        qx.event.Registration.fireEvent(target, "tap", qx.event.type.Tap, [evt.getNativeEvent(), target, null, true, true]);
      };
    },
    _onChangeLocale : qx.core.Environment.select("qx.dynlocale", {
      "true" : function(e){

        var content = this.getValue();
        if(content && content.translate){

          this.setValue(content.translate());
        };
      },
      "false" : null
    })
  },
  destruct : function(){

    this.removeListener("tap", this._onTap, this);
    if(this.__forWidget){

      this.__forWidget.removeListener("changeEnabled", this._changeEnabled, this);
      this.__forWidget = null;
    };
  }
});

qx.Class.define("qx.ui.mobile.form.renderer.SinglePlaceholder", {
  extend : qx.ui.mobile.form.renderer.Single,
  construct : function(form){

    this.base(arguments, form);
    this.removeCssClass("single");
    this.addCssClass("single-placeholder");
  },
  members : {
    addItems : function(items, names, title){

      if(title != null){

        this._addGroupHeader(title);
      };
      for(var i = 0,l = items.length;i < l;i++){

        var item = items[i];
        var name = names[i];
        if(item instanceof qx.ui.mobile.form.TextArea){

          if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

            this._addToScrollContainer(item, name);
          } else {

            this._addRow(item, name, new qx.ui.mobile.layout.VBox());
          };
        } else {

          if(item.setPlaceholder === undefined){

            this._addRow(item, name, new qx.ui.mobile.layout.HBox());
          } else {

            var row = new qx.ui.mobile.form.Row(new qx.ui.mobile.layout.HBox());
            item.setPlaceholder(name);
            row.add(item, {
              flex : 1
            });
            this._add(row);
          };
        };
        if(!item.isValid()){

          this.showErrorForItem(item);
        };
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.dialog.Picker", {
  extend : qx.ui.mobile.dialog.Popup,
  construct : function(anchor){

    this.__selectedIndex = {
    };
    this.__targetIndex = {
    };
    this.__modelToSlotMap = {
    };
    this.__slotElements = [];
    this.__selectedIndexBySlot = [];
    this.__pickerModel = new qx.data.Array();
    this.__pickerContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox());
    this.__pickerContainer.addCssClass("picker-container");
    this.__pickerContainer.addCssClass("gap");
    this.__pickerContainer.addCssClass("css-pointer-" + qx.core.Environment.get("css.pointerevents"));
    this.__pickerContent = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());
    this.__pickerConfirmButton = new qx.ui.mobile.form.Button("Choose");
    this.__pickerConfirmButton.addListener("tap", this.confirm, this);
    this.__pickerCancelButton = new qx.ui.mobile.form.Button("Cancel");
    this.__pickerCancelButton.addListener("tap", this.hide, this);
    this.__pickerButtonContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox());
    this.__pickerButtonContainer.add(this.__pickerConfirmButton);
    this.__pickerButtonContainer.add(this.__pickerCancelButton);
    this.__pickerButtonContainer.addCssClass("gap");
    this.__pickerContent.add(this.__pickerContainer);
    this.__pickerContent.add(this.__pickerButtonContainer);
    if(anchor){

      this.setModal(false);
    } else {

      this.setModal(true);
    };
    this.base(arguments, this.__pickerContent, anchor);
  },
  events : {
    changeSelection : "qx.event.type.Data",
    confirmSelection : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "picker"
    }
  },
  members : {
    __pickerModel : null,
    __pickerConfirmButton : null,
    __pickerCancelButton : null,
    __pickerContainer : null,
    __pickerButtonContainer : null,
    __pickerContent : null,
    __selectedIndex : null,
    __targetIndex : null,
    __modelToSlotMap : null,
    __slotElements : null,
    __selectedIndexBySlot : null,
    __labelHeight : null,
    show : function(){

      this.base(arguments);
      this._updateAllSlots();
    },
    confirm : function(){

      this.hide();
      this._fireConfirmSelection();
    },
    getSelectedIndex : function(slotIndex){

      var slotElement = this.__slotElements[slotIndex];
      if(slotElement){

        return this.__selectedIndexBySlot[slotIndex];
      };
      return null;
    },
    setSelectedIndex : function(slotIndex, value, useTransition){

      var slotElement = this.__slotElements[slotIndex];
      if(slotElement){

        if(this._isSelectedIndexValid(slotElement, value)){

          this.__selectedIndex[slotElement.id] = value;
          this.__selectedIndexBySlot[slotIndex] = value;
          if(this.isShown()){

            this._updateSlot(slotElement, useTransition);
          };
        };
      };
    },
    setConfirmButtonCaption : function(caption){

      if(this.__pickerConfirmButton){

        this.__pickerConfirmButton.setValue(caption);
      };
    },
    setCancelButtonCaption : function(caption){

      if(this.__pickerCancelButton){

        this.__pickerCancelButton.setValue(caption);
      };
    },
    getPickerButtonContainer : function(){

      return this.__pickerButtonContainer;
    },
    addSlot : function(slotData){

      if(slotData !== null && slotData instanceof qx.data.Array){

        this.__pickerModel.push(slotData);
        slotData.addListener("changeBubble", this._onChangeBubble, {
          self : this,
          index : this.__pickerModel.length - 1
        });
        this._render();
      };
    },
    _onChangeBubble : function(evt){

      var newSlotDataLength = evt.getData().value.length;
      var selectedIndex = this.self.getSelectedIndex(this.index);
      var pickerSlot = this.self.__pickerContainer.getChildren()[this.index];
      this.self._renderPickerSlotContent(pickerSlot, this.index);
      if(selectedIndex >= newSlotDataLength){

        var newSelectedIndex = newSlotDataLength - 1;
        this.self.setSelectedIndex(this.index, newSelectedIndex, false);
      };
    },
    removeSlot : function(slotIndex){

      if(this.__pickerModel.getLength() > slotIndex && slotIndex > -1){

        var slotData = this.__pickerModel.getItem(slotIndex);
        slotData.removeListener("changeBubble", this._onChangeBubble, this);
        this.__pickerModel.removeAt(slotIndex);
        this._render();
      };
    },
    _disposePickerModel : function(){

      for(var i = 0;i < this.__pickerModel.length;i++){

        var slotData = this.__pickerModel.getItem(i);
        slotData.removeListener("changeBubble", this._onChangeBubble, this);
      };
      this.__pickerModel.dispose();
    },
    getSlotCount : function(){

      return this.__pickerModel.getLength();
    },
    _increaseSelectedIndex : function(contentElement){

      var oldSelectedIndex = this.__selectedIndex[contentElement.id];
      var newSelectedIndex = oldSelectedIndex + 1;
      var slotIndex = this._getSlotIndexByElement(contentElement);
      var model = this._getModelByElement(contentElement);
      if(model.getLength() == newSelectedIndex){

        newSelectedIndex = model.getLength() - 1;
      };
      this.__selectedIndex[contentElement.id] = newSelectedIndex;
      this.__selectedIndexBySlot[slotIndex] = newSelectedIndex;
      this._updateSlot(contentElement);
    },
    _decreaseSelectedIndex : function(contentElement){

      var oldSelectedIndex = this.__selectedIndex[contentElement.id];
      var newSelectedIndex = oldSelectedIndex - 1;
      var slotIndex = this._getSlotIndexByElement(contentElement);
      if(newSelectedIndex < 0){

        newSelectedIndex = 0;
      };
      this.__selectedIndex[contentElement.id] = newSelectedIndex;
      this.__selectedIndexBySlot[slotIndex] = newSelectedIndex;
      this._updateSlot(contentElement);
    },
    _getSlotIndexByElement : function(contentElement){

      var contentElementId = contentElement.id;
      var slotIndex = this.__modelToSlotMap[contentElementId];
      return slotIndex;
    },
    _isSelectedIndexValid : function(contentElement, selectedIndex){

      var modelLength = this._getModelByElement(contentElement).getLength();
      return (selectedIndex < modelLength && selectedIndex >= 0);
    },
    _getModelByElement : function(contentElement){

      var slotIndex = this._getSlotIndexByElement(contentElement);
      return this.__pickerModel.getItem(slotIndex);
    },
    _fireConfirmSelection : function(){

      var model = this.__pickerModel;
      var slotCounter = (model ? model.getLength() : 0);
      var selectionData = [];
      for(var slotIndex = 0;slotIndex < slotCounter;slotIndex++){

        var selectedIndex = this.__selectedIndexBySlot[slotIndex];
        var selectedValue = model.getItem(slotIndex).getItem(selectedIndex);
        var slotData = {
          index : selectedIndex,
          item : selectedValue,
          slot : slotIndex
        };
        selectionData.push(slotData);
      };
      this.fireDataEvent("confirmSelection", selectionData);
    },
    _fixPickerSlotHeight : function(target){

      this.__labelHeight = qx.bom.element.Style.get(target.children[0], "height", 1);
      this.__labelHeight = parseFloat(this.__labelHeight, 10);
      var labelCount = this._getModelByElement(target).length;
      var pickerSlotHeight = labelCount * this.__labelHeight;
      qx.bom.element.Style.set(target, "height", pickerSlotHeight + "px");
    },
    _onTrackStart : function(evt){

      var target = evt.getCurrentTarget().getContainerElement();
      this.__targetIndex[target.id] = this.__selectedIndex[target.id];
      qx.bom.element.Style.set(target, "transitionDuration", "0s");
      this._fixPickerSlotHeight(target);
      evt.preventDefault();
    },
    _onTrackEnd : function(evt){

      var target = evt.getCurrentTarget().getContainerElement();
      var model = this._getModelByElement(target);
      var slotIndex = this._getSlotIndexByElement(target);
      var isSwipe = Math.abs(evt.getDelta().y) >= this.__labelHeight / 2;
      if(isSwipe){

        this.__selectedIndex[target.id] = this.__targetIndex[target.id];
        this.__selectedIndexBySlot[slotIndex] = this.__targetIndex[target.id];
      } else {

        var viewportTop = evt.getViewportTop();
        var offsetParent = qx.bom.element.Location.getOffsetParent(target);
        var targetTop = qx.bom.element.Location.getTop(offsetParent, "margin");
        var relativeTop = viewportTop - targetTop;
        var decreaseIncreaseLimit = offsetParent.offsetHeight / 2;
        if(relativeTop < decreaseIncreaseLimit){

          this._decreaseSelectedIndex(target);
        } else if(relativeTop > decreaseIncreaseLimit){

          this._increaseSelectedIndex(target);
        };
      };
      var selectedIndex = this.__selectedIndex[target.id];
      var selectedValue = model.getItem(selectedIndex);
      this._updateSlot(target);
      this.fireDataEvent("changeSelection", {
        index : selectedIndex,
        item : selectedValue,
        slot : slotIndex
      });
    },
    _onTrack : function(evt){

      var target = evt.getCurrentTarget();
      var targetElement = evt.getCurrentTarget().getContainerElement();
      var deltaY = evt.getDelta().y;
      var selectedIndex = this.__selectedIndex[targetElement.id];
      var offsetTop = -selectedIndex * this.__labelHeight;
      var targetOffset = evt.getDelta().y + offsetTop;
      var slotHeight = targetElement.offsetHeight;
      var pickerHeight = parseInt(target.getLayoutParent().getContainerElement().offsetHeight, 10);
      var upperBounce = this.__labelHeight;
      var lowerBounce = (-slotHeight + pickerHeight * 2);
      if(targetOffset > upperBounce){

        targetOffset = upperBounce;
      };
      if(targetOffset < lowerBounce){

        targetOffset = lowerBounce;
      };
      target.setTranslateY(targetOffset);
      var steps = Math.round(-deltaY / this.__labelHeight);
      var newIndex = selectedIndex + steps;
      var modelLength = this._getModelByElement(targetElement).getLength();
      if(newIndex < modelLength && newIndex >= 0){

        this.__targetIndex[targetElement.id] = newIndex;
      };
      evt.preventDefault();
    },
    _updateSlot : function(targetElement, useTransition){

      this._fixPickerSlotHeight(targetElement);
      if(typeof useTransition === undefined){

        useTransition = true;
      };
      if(qx.core.Environment.get("os.name") == "ios"){

        var transitionDuration = "200ms";
        if(useTransition === false){

          transitionDuration = "0s";
        };
        qx.bom.element.Style.set(targetElement, "transitionDuration", transitionDuration);
      };
      var selectedIndex = this.__selectedIndex[targetElement.id];
      var offsetTop = -selectedIndex * this.__labelHeight;
      qx.bom.element.Style.set(targetElement, "transform", "translate3d(0px," + offsetTop + "px,0px)");
    },
    _updateAllSlots : function(){

      for(var i = 0;i < this.__slotElements.length;i++){

        this._updateSlot(this.__slotElements[i]);
      };
    },
    _render : function(){

      this._removePickerSlots();
      this.__selectedIndexBySlot = [];
      this.__slotElements = [];
      this.__modelToSlotMap = {
      };
      this.__selectedIndex = {
      };
      var slotCounter = (this.__pickerModel ? this.__pickerModel.getLength() : 0);
      for(var slotIndex = 0;slotIndex < slotCounter;slotIndex++){

        this.__selectedIndexBySlot.push(0);
        var pickerSlot = this._createPickerSlot(slotIndex);
        this.__slotElements.push(pickerSlot.getContentElement());
        this.__pickerContainer.add(pickerSlot, {
          flex : 1
        });
        this._renderPickerSlotContent(pickerSlot, slotIndex);
      };
    },
    _renderPickerSlotContent : function(pickerSlot, slotIndex){

      var oldPickerSlotContent = pickerSlot.removeAll();
      for(var i = 0;i < oldPickerSlotContent.length;i++){

        oldPickerSlotContent[i].dispose();
      };
      var slotValues = this.__pickerModel.getItem(slotIndex);
      var slotLength = slotValues.getLength();
      for(var slotValueIndex = 0;slotValueIndex < slotLength;slotValueIndex++){

        var labelValue = slotValues.getItem(slotValueIndex);
        var pickerLabel = this._createPickerValueLabel(labelValue);
        pickerSlot.add(pickerLabel, {
          flex : 1
        });
      };
    },
    _createPickerSlot : function(slotIndex){

      var pickerSlot = new qx.ui.mobile.container.Composite();
      pickerSlot.addCssClass("picker-slot");
      pickerSlot.setTransformUnit("px");
      pickerSlot.addListener("trackstart", this._onTrackStart, this);
      pickerSlot.addListener("track", this._onTrack, this);
      pickerSlot.addListener("trackend", this._onTrackEnd, this);
      this.__modelToSlotMap[pickerSlot.getId()] = slotIndex;
      this.__selectedIndex[pickerSlot.getId()] = 0;
      return pickerSlot;
    },
    _removePickerSlots : function(){

      var children = this.__pickerContainer.getChildren();
      for(var i = children.length - 1;i >= 0;i--){

        var pickerSlot = children[i];
        pickerSlot.removeListener("trackstart", this._onTrackStart, this);
        pickerSlot.removeListener("track", this._onTrack, this);
        pickerSlot.removeListener("trackend", this._onTrackEnd, this);
        var oldPickerSlotContent = pickerSlot.removeAll();
        for(var j = 0;j < oldPickerSlotContent.length;j++){

          oldPickerSlotContent[j].dispose();
        };
        pickerSlot.destroy();
      };
    },
    _createPickerValueLabel : function(textValue){

      var pickerLabel = new qx.ui.mobile.basic.Label(textValue);
      pickerLabel.addCssClass("picker-label");
      return pickerLabel;
    }
  },
  destruct : function(){

    this._disposePickerModel();
    this._removePickerSlots();
    this.__pickerConfirmButton.removeListener("tap", this.confirm, this);
    this.__pickerCancelButton.removeListener("tap", this.hide, this);
    this._disposeObjects("__pickerContainer", "__pickerButtonContainer", "__pickerConfirmButton", "__pickerCancelButton", "__pickerContent");
  }
});

qx.Class.define("qx.bom.WebWorker", {
  extend : qx.core.Object,
  construct : function(src){

    this.base(arguments);
    this.__isNative = qx.core.Environment.get("html.webworker");
    this.__isNative ? this.__initNative(src) : this.__initFake(src);
  },
  events : {
    "message" : "qx.event.type.Data",
    "error" : "qx.event.type.Data"
  },
  members : {
    _worker : null,
    _handleErrorBound : null,
    _handleMessageBound : null,
    __isNative : true,
    __fake : null,
    __initNative : function(src){

      this._worker = new window.Worker(src);
      this._handleMessageBound = qx.lang.Function.bind(this._handleMessage, this);
      this._handleErrorBound = qx.lang.Function.bind(this._handleError, this);
      qx.bom.Event.addNativeListener(this._worker, "message", this._handleMessageBound);
      qx.bom.Event.addNativeListener(this._worker, "error", this._handleErrorBound);
    },
    __initFake : function(src){

      var that = this;
      var req = new qx.bom.request.Xhr();
      req.onload = function(){

        that.__fake = (function(){

          var postMessage = function(e){

            that.fireDataEvent('message', e);
          };
          eval("var onmessage = null, postMessage = " + postMessage + ";" + req.responseText);
          return {
            onmessage : eval("onmessage"),
            postMessage : postMessage
          };
        })();
      };
      req.open("GET", src, false);
      req.send();
    },
    postMessage : function(msg){

      var that = this;
      if(this.__isNative){

        this._worker.postMessage(msg);
      } else {

        setTimeout(function(){

          try{

            that.__fake.onmessage && that.__fake.onmessage({
              data : msg
            });
          } catch(ex) {

            that.fireDataEvent("error", ex);
          };
        }, 0);
      };
    },
    _handleMessage : function(e){

      this.fireDataEvent("message", e.data);
    },
    _handleError : function(e){

      this.fireDataEvent("error", e.message);
    }
  },
  destruct : function(){

    if(this.__isNative){

      qx.bom.Event.removeNativeListener(this._worker, "message", this._handleMessageBound);
      qx.bom.Event.removeNativeListener(this._worker, "error", this._handleErrorBound);
      if(this._worker){

        this._worker.terminate();
        this._worker = null;
      };
    } else {

      if(this.__fake){

        this.__fake = null;
      };
    };
  }
});

qx.Mixin.define("qx.core.MBindTo", {
  members : {
    bindTo : function(func, varargs){

      return qx.lang.Function.create(func, {
        self : this,
        args : (arguments.length > 1 ? qx.lang.Array.fromArguments(arguments, 1) : null)
      });
    }
  }
});

qx.Class.define("qx.ui.table.celleditor.SelectBox", {
  extend : qx.core.Object,
  implement : qx.ui.table.ICellEditorFactory,
  properties : {
    validationFunction : {
      check : "Function",
      nullable : true,
      init : null
    },
    listData : {
      check : "Array",
      init : null,
      nullable : true
    }
  },
  members : {
    createCellEditor : function(cellInfo){

      var cellEditor = new qx.ui.form.SelectBox().set({
        appearance : "table-editor-selectbox"
      });
      var value = cellInfo.value;
      cellEditor.originalValue = value;
      var cellRenderer = cellInfo.table.getTableColumnModel().getDataCellRenderer(cellInfo.col);
      var label = cellRenderer._getContentHtml(cellInfo);
      if(value != label){

        value = label;
      };
      if(value === null){

        value = "";
      };
      var list = this.getListData();
      if(list){

        var item;
        for(var i = 0,l = list.length;i < l;i++){

          var row = list[i];
          if(row instanceof Array){

            item = new qx.ui.form.ListItem(row[0], row[1]);
            item.setUserData("row", row[2]);
            if(value == row[2]){

              label = row[0];
            };
          } else {

            item = new qx.ui.form.ListItem(row, null);
            item.setUserData("row", row);
          };
          cellEditor.add(item);
        };
      };
      if(label != null){

        var itemToSelect = cellEditor.getChildrenContainer().findItem(label + "");
      };
      if(itemToSelect){

        cellEditor.setSelection([itemToSelect]);
      } else {

        cellEditor.resetSelection();
      };
      cellEditor.addListener("appear", function(){

        cellEditor.open();
      });
      return cellEditor;
    },
    getCellEditorValue : function(cellEditor){

      var selection = cellEditor.getSelection();
      var value = "";
      if(selection && selection[0]){

        var userValue = selection[0].getUserData("row");
        value = userValue === undefined ? selection[0].getLabel() : userValue;
      };
      var validationFunc = this.getValidationFunction();
      if(validationFunc){

        value = validationFunc(value, cellEditor.originalValue);
      };
      if(typeof cellEditor.originalValue == "number"){

        value = parseFloat(value);
      };
      return value;
    }
  }
});

qx.Class.define("qx.application.Mobile", {
  extend : qx.core.Object,
  implement : [qx.application.IApplication],
  include : qx.locale.MTranslation,
  construct : function(){

    this.base(arguments);
  },
  events : {
    "start" : "qx.event.type.Event",
    "stop" : "qx.event.type.Event",
    "back" : "qx.event.type.Data",
    "popup" : "qx.event.type.Event"
  },
  members : {
    __root : null,
    __routing : null,
    main : function(){

      this.__root = this._createRootWidget();
      if(qx.core.Environment.get("qx.mobile.nativescroll") == false){

        this.__root.setShowScrollbarY(false);
      };
    },
    getRoot : function(){

      return this.__root;
    },
    getRouting : function(){

      if(!this.__routing){

        this.__routing = new qx.application.Routing();
      };
      return this.__routing;
    },
    _createRootWidget : function(){

      return new qx.ui.mobile.core.Root();
    },
    finalize : function(){
    },
    close : function(){
    },
    terminate : function(){
    }
  },
  destruct : function(){

    this.__root = this.__routing = null;
  }
});

qx.Class.define("qx.dev.unit.TestLoaderMobile", {
  extend : qx.application.Mobile,
  include : [qx.dev.unit.MTestLoader],
  members : {
    main : function(){

      this.base(arguments);
      qx.log.appender.Console;
      var url = this._getClassNameFromUrl();
      if(url !== "__unknown_class__"){

        this.setTestNamespace(this._getClassNameFromUrl());
      };
      if(window.top.jsUnitTestSuite){

        this.runJsUnit();
        return;
      };
      if(window == window.top){

        this.runStandAlone();
        return;
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.toolbar.ToolBar", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(layout){

    this.base(arguments, layout);
    if(!layout){

      this.setLayout(new qx.ui.mobile.layout.HBox().set({
        alignY : "middle"
      }));
    };
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "toolbar"
    }
  },
  members : {
    __hidden : false,
    add : function(child, layoutProperties){

      if(!(child instanceof qx.ui.mobile.toolbar.Separator)){

        layoutProperties = layoutProperties ? layoutProperties : {
        };
        qx.lang.Object.mergeWith(layoutProperties, {
          flex : 1
        }, false);
      };
      this.base(arguments, child, layoutProperties);
    }
  }
});

qx.Mixin.define("qx.data.controller.MSelection", {
  construct : function(){

    if(!qx.Class.hasProperty(this.constructor, "target")){

      throw new Error("Target property is needed.");
    };
    if(this.getSelection() == null){

      this.__ownSelection = new qx.data.Array();
      this.setSelection(this.__ownSelection);
    };
  },
  properties : {
    selection : {
      check : "qx.data.Array",
      event : "changeSelection",
      apply : "_applySelection",
      init : null
    }
  },
  events : {
    "changeSelection" : "qx.event.type.Data"
  },
  members : {
    _modifingSelection : 0,
    __selectionListenerId : null,
    __selectionArrayListenerId : null,
    __ownSelection : null,
    _applySelection : function(value, old){

      if(this.__selectionArrayListenerId != undefined && old != undefined){

        old.removeListenerById(this.__selectionArrayListenerId);
      };
      this.__selectionArrayListenerId = value.addListener("change", this.__changeSelectionArray, this);
      this._updateSelection();
    },
    __changeSelectionArray : function(){

      this._updateSelection();
    },
    _changeTargetSelection : function(){

      if(this.getTarget() == null){

        return;
      };
      if(!this.__targetSupportsMultiSelection() && !this.__targetSupportsSingleSelection()){

        return;
      };
      if(this._inSelectionModification()){

        return;
      };
      var targetSelection = this.getTarget().getSelection();
      var selection = this.getSelection();
      if(selection == null){

        selection = new qx.data.Array();
        this.__ownSelection = selection;
        this.setSelection(selection);
      };
      var spliceArgs = [0, selection.getLength()];
      for(var i = 0;i < targetSelection.length;i++){

        spliceArgs.push(targetSelection[i].getModel());
      };
      selection.splice.apply(selection, spliceArgs).dispose();
      this.fireDataEvent("changeSelection", this.getSelection());
    },
    _addChangeTargetListener : function(value, old){

      if(this.__selectionListenerId != undefined && old != undefined){

        old.removeListenerById(this.__selectionListenerId);
      };
      if(value != null){

        if(this.__targetSupportsMultiSelection() || this.__targetSupportsSingleSelection()){

          this.__selectionListenerId = value.addListener("changeSelection", this._changeTargetSelection, this);
        };
      };
    },
    _updateSelection : function(){

      if(!this.getTarget()){

        return;
      };
      this._startSelectionModification();
      if(this.__targetSupportsMultiSelection()){

        var targetSelection = [];
        for(var i = 0;i < this.getSelection().length;i++){

          var model = this.getSelection().getItem(i);
          var selectable = this.__getSelectableForModel(model);
          if(selectable != null){

            targetSelection.push(selectable);
          };
        };
        this.getTarget().setSelection(targetSelection);
        targetSelection = this.getTarget().getSelection();
        var targetSelectionItems = [];
        for(var i = 0;i < targetSelection.length;i++){

          targetSelectionItems[i] = targetSelection[i].getModel();
        };
        for(var i = this.getSelection().length - 1;i >= 0;i--){

          if(!qx.lang.Array.contains(targetSelectionItems, this.getSelection().getItem(i))){

            this.getSelection().splice(i, 1).dispose();
          };
        };
      } else if(this.__targetSupportsSingleSelection()){

        var item = this.getSelection().getItem(this.getSelection().length - 1);
        if(item !== undefined){

          this.__selectItem(item);
          this.getSelection().splice(0, this.getSelection().getLength() - 1).dispose();
        } else {

          this.getTarget().resetSelection();
        };
      };
      this._endSelectionModification();
    },
    __targetSupportsMultiSelection : function(){

      var targetClass = this.getTarget().constructor;
      return qx.Class.implementsInterface(targetClass, qx.ui.core.IMultiSelection);
    },
    __targetSupportsSingleSelection : function(){

      var targetClass = this.getTarget().constructor;
      return qx.Class.implementsInterface(targetClass, qx.ui.core.ISingleSelection);
    },
    __selectItem : function(item){

      var selectable = this.__getSelectableForModel(item);
      if(selectable == null){

        return;
      };
      if(this.__targetSupportsMultiSelection()){

        this.getTarget().addToSelection(selectable);
      } else if(this.__targetSupportsSingleSelection()){

        this.getTarget().setSelection([selectable]);
      };
    },
    __getSelectableForModel : function(model){

      var children = this.getTarget().getSelectables(true);
      for(var i = 0;i < children.length;i++){

        if(children[i].getModel() == model){

          return children[i];
        };
      };
      return null;
    },
    _startSelectionModification : function(){

      this._modifingSelection++;
    },
    _endSelectionModification : function(){

      this._modifingSelection > 0 ? this._modifingSelection-- : null;
    },
    _inSelectionModification : function(){

      return this._modifingSelection > 0;
    }
  },
  destruct : function(){

    if(this.__ownSelection){

      this.__ownSelection.dispose();
    };
  }
});

qx.Class.define("qx.data.controller.List", {
  extend : qx.core.Object,
  include : qx.data.controller.MSelection,
  implement : qx.data.controller.ISelection,
  construct : function(model, target, labelPath){

    this.base(arguments);
    this.__lookupTable = [];
    this.__boundProperties = [];
    this.__boundPropertiesReverse = [];
    this.__onUpdate = {
    };
    if(labelPath != null){

      this.setLabelPath(labelPath);
    };
    if(model != null){

      this.setModel(model);
    };
    if(target != null){

      this.setTarget(target);
    };
  },
  properties : {
    model : {
      check : "qx.data.IListData",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      dereference : true
    },
    target : {
      apply : "_applyTarget",
      event : "changeTarget",
      nullable : true,
      init : null,
      dereference : true
    },
    labelPath : {
      check : "String",
      apply : "_applyLabelPath",
      nullable : true
    },
    iconPath : {
      check : "String",
      apply : "_applyIconPath",
      nullable : true
    },
    labelOptions : {
      apply : "_applyLabelOptions",
      nullable : true
    },
    iconOptions : {
      apply : "_applyIconOptions",
      nullable : true
    },
    delegate : {
      apply : "_applyDelegate",
      event : "changeDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    __changeModelListenerId : null,
    __lookupTable : null,
    __onUpdate : null,
    __boundProperties : null,
    __boundPropertiesReverse : null,
    __syncTargetSelection : null,
    __syncModelSelection : null,
    update : function(){

      this.__changeModelLength();
      this.__renewBindings();
      this._updateSelection();
    },
    _applyDelegate : function(value, old){

      this._setConfigureItem(value, old);
      this._setFilter(value, old);
      this._setCreateItem(value, old);
      this._setBindItem(value, old);
    },
    _applyIconOptions : function(value, old){

      this.__renewBindings();
    },
    _applyLabelOptions : function(value, old){

      this.__renewBindings();
    },
    _applyIconPath : function(value, old){

      this.__renewBindings();
    },
    _applyLabelPath : function(value, old){

      this.__renewBindings();
    },
    _applyModel : function(value, old){

      if(old != undefined){

        if(this.__changeModelListenerId != undefined){

          old.removeListenerById(this.__changeModelListenerId);
        };
      };
      if(this.getSelection() != undefined && this.getSelection().length > 0){

        this.getSelection().splice(0, this.getSelection().length).dispose();
      };
      if(value != null){

        this.__changeModelListenerId = value.addListener("change", this.__changeModel, this);
        this.__buildUpLookupTable();
        this.__changeModelLength();
        if(old == null){

          this._changeTargetSelection();
        } else {

          this.__syncTargetSelection = true;
          qx.ui.core.queue.Widget.add(this);
        };
      } else {

        var target = this.getTarget();
        if(target != null){

          var length = target.getChildren().length;
          for(var i = 0;i < length;i++){

            this.__removeItem();
          };
        };
      };
    },
    _applyTarget : function(value, old){

      this._addChangeTargetListener(value, old);
      if(old != undefined){

        var removed = old.removeAll();
        for(var i = 0;i < removed.length;i++){

          removed[i].destroy();
        };
        this.removeAllBindings();
      };
      if(value != null){

        if(this.getModel() != null){

          for(var i = 0;i < this.__lookupTable.length;i++){

            this.__addItem(this.__lookup(i));
          };
        };
      };
    },
    __changeModel : function(){

      this.__syncModelSelection = true;
      qx.ui.core.queue.Widget.add(this);
      if(this.__lookupTable.length != this.getModel().getLength()){

        this.update();
      };
    },
    syncWidget : function(){

      if(this.__syncTargetSelection){

        this._changeTargetSelection();
      };
      if(this.__syncModelSelection){

        this._updateSelection();
      };
      this.__syncModelSelection = this.__syncTargetSelection = null;
    },
    __changeModelLength : function(){

      if(this.getTarget() == null){

        return;
      };
      this.__buildUpLookupTable();
      var newLength = this.__lookupTable.length;
      var currentLength = this.getTarget().getChildren().length;
      if(newLength > currentLength){

        for(var j = currentLength;j < newLength;j++){

          this.__addItem(this.__lookup(j));
        };
      } else if(newLength < currentLength){

        for(var j = currentLength;j > newLength;j--){

          this.__removeItem();
        };
      };
      this.__syncTargetSelection = true;
      qx.ui.core.queue.Widget.add(this);
    },
    __moveChangeListenerAtTheEnd : function(){

      var model = this.getModel();
      if(model != null){

        model.removeListenerById(this.__changeModelListenerId);
        this.__changeModelListenerId = model.addListener("change", this.__changeModel, this);
      };
    },
    _createItem : function(){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.createItem != null){

        var item = delegate.createItem();
      } else {

        var item = new qx.ui.form.ListItem();
      };
      if(delegate != null && delegate.configureItem != null){

        delegate.configureItem(item);
      };
      return item;
    },
    __addItem : function(index){

      var listItem = this._createItem();
      this._bindListItem(listItem, index);
      this.getTarget().add(listItem);
    },
    __removeItem : function(){

      this._startSelectionModification();
      var children = this.getTarget().getChildren();
      var index = children.length - 1;
      var oldItem = children[index];
      this._removeBindingsFrom(oldItem);
      this.getTarget().removeAt(index);
      oldItem.destroy();
      this._endSelectionModification();
    },
    getVisibleModels : function(){

      var visibleModels = [];
      var target = this.getTarget();
      if(target != null){

        var items = target.getChildren();
        for(var i = 0;i < items.length;i++){

          visibleModels.push(items[i].getModel());
        };
      };
      return new qx.data.Array(visibleModels);
    },
    _bindListItem : function(item, index){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.bindItem != null){

        delegate.bindItem(this, item, index);
      } else {

        this.bindDefaultProperties(item, index);
      };
    },
    bindDefaultProperties : function(item, index){

      this.bindProperty("", "model", null, item, index);
      this.bindProperty(this.getLabelPath(), "label", this.getLabelOptions(), item, index);
      if(this.getIconPath() != null){

        this.bindProperty(this.getIconPath(), "icon", this.getIconOptions(), item, index);
      };
    },
    bindProperty : function(sourcePath, targetProperty, options, targetWidget, index){

      if(options != null){

        var options = qx.lang.Object.clone(options);
        this.__onUpdate[targetProperty] = options.onUpdate;
        delete options.onUpdate;
      } else {

        options = {
        };
        this.__onUpdate[targetProperty] = null;
      };
      options.onUpdate = qx.lang.Function.bind(this._onBindingSet, this, index);
      options.ignoreConverter = "model";
      var bindPath = "model[" + index + "]";
      if(sourcePath != null && sourcePath != ""){

        bindPath += "." + sourcePath;
      };
      var id = this.bind(bindPath, targetWidget, targetProperty, options);
      targetWidget.setUserData(targetProperty + "BindingId", id);
      if(!qx.lang.Array.contains(this.__boundProperties, targetProperty)){

        this.__boundProperties.push(targetProperty);
      };
    },
    bindPropertyReverse : function(targetPath, sourcePath, options, sourceWidget, index){

      var targetBindPath = "model[" + index + "]";
      if(targetPath != null && targetPath != ""){

        targetBindPath += "." + targetPath;
      };
      var id = sourceWidget.bind(sourcePath, this, targetBindPath, options);
      sourceWidget.setUserData(targetPath + "ReverseBindingId", id);
      if(!qx.lang.Array.contains(this.__boundPropertiesReverse, targetPath)){

        this.__boundPropertiesReverse.push(targetPath);
      };
    },
    _onBindingSet : function(index, sourceObject, targetObject){

      if(this.getModel() == null || this._inSelectionModification()){

        return;
      };
      for(var i = 0;i < this.__boundProperties.length;i++){

        if(this.__onUpdate[this.__boundProperties[i]] != null){

          this.__onUpdate[this.__boundProperties[i]]();
        };
      };
    },
    _removeBindingsFrom : function(item){

      for(var i = 0;i < this.__boundProperties.length;i++){

        var id = item.getUserData(this.__boundProperties[i] + "BindingId");
        if(id != null){

          this.removeBinding(id);
        };
      };
      for(var i = 0;i < this.__boundPropertiesReverse.length;i++){

        var id = item.getUserData(this.__boundPropertiesReverse[i] + "ReverseBindingId");
        if(id != null){

          item.removeBinding(id);
        };
      };
    },
    __renewBindings : function(){

      if(this.getTarget() == null || this.getModel() == null){

        return;
      };
      var items = this.getTarget().getChildren();
      for(var i = 0;i < items.length;i++){

        this._removeBindingsFrom(items[i]);
        this._bindListItem(items[i], this.__lookup(i));
      };
      this.__moveChangeListenerAtTheEnd();
    },
    _setConfigureItem : function(value, old){

      if(value != null && value.configureItem != null && this.getTarget() != null){

        var children = this.getTarget().getChildren();
        for(var i = 0;i < children.length;i++){

          value.configureItem(children[i]);
        };
      };
    },
    _setBindItem : function(value, old){

      if(value != null && value.bindItem != null){

        if(old != null && old.bindItem != null && value.bindItem == old.bindItem){

          return;
        };
        this.__renewBindings();
      };
    },
    _setCreateItem : function(value, old){

      if(this.getTarget() == null || this.getModel() == null || value == null || value.createItem == null){

        return;
      };
      this._startSelectionModification();
      var children = this.getTarget().getChildren();
      for(var i = 0,l = children.length;i < l;i++){

        this._removeBindingsFrom(children[i]);
      };
      var removed = this.getTarget().removeAll();
      for(var i = 0;i < removed.length;i++){

        removed[i].destroy();
      };
      this.update();
      this._endSelectionModification();
      this._updateSelection();
    },
    _setFilter : function(value, old){

      if((value == null || value.filter == null) && (old != null && old.filter != null)){

        this.__removeFilter();
      };
      if(this.getTarget() == null || this.getModel() == null || value == null || value.filter == null){

        return;
      };
      this._startSelectionModification();
      var children = this.getTarget().getChildren();
      for(var i = 0,l = children.length;i < l;i++){

        this._removeBindingsFrom(children[i]);
      };
      var oldTable = this.__lookupTable;
      this.__buildUpLookupTable();
      if(oldTable.length > this.__lookupTable.length){

        for(var j = oldTable.length;j > this.__lookupTable.length;j--){

          this.getTarget().removeAt(j - 1).destroy();
        };
      } else if(oldTable.length < this.__lookupTable.length){

        for(var j = oldTable.length;j < this.__lookupTable.length;j++){

          var tempItem = this._createItem();
          this.getTarget().add(tempItem);
        };
      };
      var listItems = this.getTarget().getChildren();
      for(var i = 0;i < listItems.length;i++){

        this._bindListItem(listItems[i], this.__lookup(i));
      };
      this.__moveChangeListenerAtTheEnd();
      this._endSelectionModification();
      this._updateSelection();
    },
    __removeFilter : function(){

      this.__buildUpLookupTable();
      this.__changeModelLength();
      this.__renewBindings();
      this.__syncModelSelection = true;
      qx.ui.core.queue.Widget.add(this);
    },
    __buildUpLookupTable : function(){

      var model = this.getModel();
      if(model == null){

        return;
      };
      var delegate = this.getDelegate();
      if(delegate != null){

        var filter = delegate.filter;
      };
      this.__lookupTable = [];
      for(var i = 0;i < model.getLength();i++){

        if(filter == null || filter(model.getItem(i))){

          this.__lookupTable.push(i);
        };
      };
    },
    __lookup : function(index){

      return this.__lookupTable[index];
    }
  },
  destruct : function(){

    this.__lookupTable = this.__onUpdate = this.__boundProperties = null;
    this.__boundPropertiesReverse = null;
    qx.ui.core.queue.Widget.remove(this);
  }
});

qx.Class.define("qx.log.appender.NodeConsole", {
  statics : {
    __OUT : null,
    __ERR : null,
    log : function(logMessage, level){

      if(level == "error"){

        this.__ERR.write(logMessage + '\n');
      } else {

        this.__OUT.write(logMessage + '\n');
      };
    },
    debug : function(logMessage){

      this.log(logMessage, "debug");
    },
    info : function(logMessage){

      this.log(logMessage, "info");
    },
    warn : function(logMessage){

      this.log(logMessage, "warn");
    },
    error : function(logMessage){

      this.log(logMessage, "error");
    },
    process : function(entry){

      var level = entry.level || "info";
      for(var prop in entry){

        if(prop == "items"){

          var items = entry[prop];
          for(var p = 0;p < items.length;p++){

            var item = items[p];
            this[level](item.text);
          };
        };
      };
    }
  },
  defer : function(statics){

    if(typeof (process) !== "undefined"){

      statics.__OUT = process.stdout;
      statics.__ERR = process.stderr;
    };
  }
});

qx.Bootstrap.define("qx.module.Messaging", {
  statics : {
    on : null,
    onAny : null,
    remove : null,
    emit : null
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "messaging" : new qx.event.Messaging()
    });
  }
});

qx.Class.define("qx.ui.progressive.renderer.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  members : {
    render : function(state, element){

      throw new Error("render() is abstract");
    },
    join : function(progressive, name){
    }
  }
});

qx.Class.define("qx.ui.progressive.structure.Abstract", {
  type : "abstract",
  extend : qx.core.Object,
  construct : function(pane){

    this.base(arguments);
    if(!pane){

      this.__container = new qx.ui.core.Widget();
      this.__pane = this.__container;
    } else {

      this.__container = null;
      this.__pane = pane;
    };
    this.__pane.getContentElement().setStyle("overflowY", "auto");
  },
  members : {
    __container : null,
    __pane : null,
    applyStructure : function(progressive){

      throw new Error("applyStructure() is abstract");
    },
    getPane : function(){

      return this.__pane;
    }
  },
  destruct : function(){

    if(this.__container){

      this.__container.dispose();
    };
    this.__container = this.__pane = null;
  }
});

qx.Class.define("qx.ui.progressive.structure.Default", {
  extend : qx.ui.progressive.structure.Abstract,
  construct : function(header, footer, pane){

    this.base(arguments, pane);
    if(!header){

      this.__nullHeader = new qx.ui.progressive.headfoot.Null();
      this.__header = this.__nullHeader;
    } else {

      this.__nullHeader = null;
      this.__header = header;
    };
    if(!footer){

      this.__nullFooter = new qx.ui.progressive.headfoot.Null();
      this.__footer = this.__nullFooter;
    } else {

      this.__nullFooter = null;
      this.__footer = footer;
    };
  },
  members : {
    __header : null,
    __footer : null,
    __nullHeader : null,
    __nullFooter : null,
    applyStructure : function(progressive){

      this.__header.join(progressive);
      this.__footer.join(progressive);
      progressive.add(this.__header);
      progressive.add(this.getPane(), {
        flex : 1
      });
      progressive.add(this.__footer);
    },
    getHeader : function(){

      return this.__header;
    },
    getFooter : function(){

      return this.__footer;
    }
  },
  destruct : function(){

    if(this.__nullHeader){

      this.__nullHeader.dispose();
      this.__nullHeader = null;
    };
    if(this.__nullFooter){

      this.__nullFooter.dispose();
      this.__nullFooter = null;
    };
    this.__header = this.__footer = null;
  }
});

qx.Class.define("qx.ui.progressive.headfoot.Abstract", {
  type : "abstract",
  extend : qx.ui.container.Composite,
  construct : function(){

    this.base(arguments, new qx.ui.layout.HBox());
  },
  members : {
    __progressive : null,
    join : function(progressive){

      this.__progressive = progressive;
    }
  },
  destruct : function(){

    this.__progressive = null;
  }
});

qx.Class.define("qx.ui.progressive.headfoot.Null", {
  extend : qx.ui.progressive.headfoot.Abstract,
  construct : function(){

    this.base(arguments);
    this.exclude();
  }
});

qx.Bootstrap.define("qx.module.Attribute", {
  statics : {
    getHtml : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Attribute.get(this[0], "html");
      };
      return null;
    },
    setHtml : function(html){

      html = qx.bom.Html.fixEmptyTags(html);
      this._forEachElement(function(item){

        qx.bom.element.Attribute.set(item, "html", html);
      });
      return this;
    },
    setAttribute : function(name, value){

      this._forEachElement(function(item){

        qx.bom.element.Attribute.set(item, name, value);
      });
      return this;
    },
    getAttribute : function(name){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Attribute.get(this[0], name);
      };
      return null;
    },
    removeAttribute : function(name){

      this._forEachElement(function(item){

        qx.bom.element.Attribute.set(item, name, null);
      });
      return this;
    },
    setAttributes : function(attributes){

      for(var name in attributes){

        this.setAttribute(name, attributes[name]);
      };
      return this;
    },
    getAttributes : function(names){

      var attributes = {
      };
      for(var i = 0;i < names.length;i++){

        attributes[names[i]] = this.getAttribute(names[i]);
      };
      return attributes;
    },
    removeAttributes : function(attributes){

      for(var i = 0,l = attributes.length;i < l;i++){

        this.removeAttribute(attributes[i]);
      };
      return this;
    },
    setProperty : function(name, value){

      for(var i = 0;i < this.length;i++){

        this[i][name] = value;
      };
      return this;
    },
    getProperty : function(name){

      if(this[0]){

        return this[0][name];
      };
      return null;
    },
    setProperties : function(properties){

      for(var name in properties){

        this.setProperty(name, properties[name]);
      };
      return this;
    },
    getProperties : function(names){

      var properties = {
      };
      for(var i = 0;i < names.length;i++){

        properties[names[i]] = this.getProperty(names[i]);
      };
      return properties;
    },
    getValue : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.Input.getValue(this[0]);
      };
      return null;
    },
    setValue : function(value){

      this._forEachElement(function(item){

        qx.bom.Input.setValue(item, value);
      });
      return this;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "getHtml" : statics.getHtml,
      "setHtml" : statics.setHtml,
      "getAttribute" : statics.getAttribute,
      "setAttribute" : statics.setAttribute,
      "removeAttribute" : statics.removeAttribute,
      "getAttributes" : statics.getAttributes,
      "setAttributes" : statics.setAttributes,
      "removeAttributes" : statics.removeAttributes,
      "getProperty" : statics.getProperty,
      "setProperty" : statics.setProperty,
      "getProperties" : statics.getProperties,
      "setProperties" : statics.setProperties,
      "getValue" : statics.getValue,
      "setValue" : statics.setValue
    });
  }
});

qx.Bootstrap.define("qx.module.event.Pointer", {
  statics : {
    TYPES : ["pointerdown", "pointerup", "pointermove", "pointercancel", "pointerover", "pointerout"],
    getPointerType : function(){

      return false;
    },
    getViewportLeft : function(){

      return false;
    },
    getViewportTop : function(){

      return false;
    },
    getDocumentLeft : function(){

      return false;
    },
    getDocumentTop : function(){

      return false;
    },
    getScreenLeft : function(){

      return false;
    },
    getScreenTop : function(){

      return false;
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      qx.event.type.dom.Pointer.normalize(event);
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Pointer.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.ui.container.Scroll", {
  extend : qx.ui.core.scroll.AbstractScrollArea,
  include : [qx.ui.core.MContentPadding],
  construct : function(content){

    this.base(arguments);
    if(content){

      this.add(content);
    };
  },
  members : {
    add : function(widget){

      this.getChildControl("pane").add(widget);
    },
    remove : function(widget){

      this.getChildControl("pane").remove(widget);
    },
    getChildren : function(){

      return this.getChildControl("pane").getChildren();
    },
    _getContentPaddingTarget : function(){

      return this.getChildControl("pane");
    }
  }
});

qx.Class.define("qx.ui.mobile.container.Collapsible", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(title){

    this.base(arguments);
    this._header = this._createHeader();
    this._header.addCssClass("collapsible-header");
    this._header.addListener("tap", this.toggleCollapsed, this);
    this.setTitle(title);
    this._content = this._createContent();
    this._content.addCssClass("collapsible-content");
    this._add(this._header);
    this._add(this._content);
    this.initCollapsed();
    this.initCombined();
    this.addCssClass("gap");
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "collapsible"
    },
    collapsed : {
      check : "Boolean",
      init : true,
      nullable : false,
      apply : "_applyCollapsed",
      event : "changeCollapsed"
    },
    combined : {
      check : "Boolean",
      init : true,
      apply : "_applyCombined"
    }
  },
  members : {
    _header : null,
    _content : null,
    add : function(child, layoutProperties){

      if(child && this._content instanceof qx.ui.mobile.container.Composite){

        this._content.add(child, layoutProperties);
      };
    },
    setTitle : function(title){

      if(title && this._header instanceof qx.ui.mobile.basic.Label){

        this._header.setValue(title);
      };
    },
    getHeader : function(){

      return this._header;
    },
    getContent : function(){

      return this._content;
    },
    _createHeader : function(){

      var header = new qx.ui.mobile.basic.Label();
      header.setAnonymous(false);
      header.setActivatable(true);
      return header;
    },
    _createContent : function(){

      return new qx.ui.mobile.container.Composite();
    },
    _applyCollapsed : function(value, old){

      if(value === true){

        this._content.exclude();
        this.addCssClass("collapsed");
      } else {

        this._content.show();
        this.removeCssClass("collapsed");
      };
    },
    _applyCombined : function(value, old){

      if(value === true){

        this.addCssClass("combined");
      } else {

        this.removeCssClass("combined");
      };
    }
  },
  destruct : function(){

    this._header.removeListener("tap", this.toggleCollapsed, this);
    this._disposeObjects("_header", "_content");
  }
});

qx.Theme.define("qx.theme.modern.Appearance", {
  appearances : {
    "widget" : {
    },
    "root" : {
      style : function(states){

        return {
          backgroundColor : "background-application",
          textColor : "text-label",
          font : "default"
        };
      }
    },
    "label" : {
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "move-frame" : {
      style : function(states){

        return {
          decorator : "main"
        };
      }
    },
    "resize-frame" : "move-frame",
    "dragdrop-cursor" : {
      style : function(states){

        var icon = "nodrop";
        if(states.copy){

          icon = "copy";
        } else if(states.move){

          icon = "move";
        } else if(states.alias){

          icon = "alias";
        };;
        return {
          source : "decoration/cursors/" + icon + ".gif",
          position : "right-top",
          offset : [2, 16, 2, 6]
        };
      }
    },
    "image" : {
      style : function(states){

        return {
          opacity : !states.replacement && states.disabled ? 0.3 : 1
        };
      }
    },
    "atom" : {
    },
    "atom/label" : "label",
    "atom/icon" : "image",
    "popup" : {
      style : function(states){

        return {
          decorator : "popup",
          backgroundColor : "background-light"
        };
      }
    },
    "button-frame" : {
      alias : "atom",
      style : function(states){

        var decorator,textColor;
        var padding = [3, 9];
        if(states.checked && states.focused && !states.inner){

          decorator = "button-checked-focused";
          textColor = undefined;
          padding = [1, 7];
        } else if(states.disabled){

          decorator = "button-disabled";
          textColor = undefined;
        } else if(states.pressed){

          decorator = "button-pressed";
          textColor = "text-hovered";
        } else if(states.checked){

          decorator = "button-checked";
          textColor = undefined;
        } else if(states.hovered){

          decorator = "button-hovered";
          textColor = "text-hovered";
        } else if(states.focused && !states.inner){

          decorator = "button-focused";
          textColor = undefined;
          padding = [1, 7];
        } else {

          decorator = "button";
          textColor = undefined;
        };;;;;
        if(states.invalid && !states.disabled){

          decorator += "-invalid";
        };
        return {
          decorator : decorator,
          textColor : textColor,
          padding : padding,
          margin : [1, 0]
        };
      }
    },
    "button-frame/image" : {
      style : function(states){

        return {
          opacity : !states.replacement && states.disabled ? 0.5 : 1
        };
      }
    },
    "button" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        return {
          center : true
        };
      }
    },
    "hover-button" : {
      alias : "atom",
      include : "atom",
      style : function(states){

        var decorator = states.hovered ? "selected" : undefined;
        return {
          decorator : decorator,
          textColor : states.hovered ? "text-selected" : undefined
        };
      }
    },
    "menubutton" : {
      include : "button",
      alias : "button",
      style : function(states){

        return {
          icon : "decoration/arrows/down.png",
          iconPosition : "right"
        };
      }
    },
    "splitbutton" : {
    },
    "splitbutton/button" : "button",
    "splitbutton/arrow" : {
      alias : "button",
      include : "button",
      style : function(states, superStyles){

        return {
          icon : "decoration/arrows/down.png",
          padding : [superStyles.padding[0], superStyles.padding[1] - 6],
          marginLeft : 1
        };
      }
    },
    "form-renderer-label" : {
      include : "label",
      style : function(){

        return {
          paddingTop : 4
        };
      }
    },
    "checkbox" : {
      alias : "atom",
      style : function(states){

        var icon;
        if(states.checked){

          icon = "decoration/form/checked.png";
        } else if(states.undetermined){

          icon = "decoration/form/undetermined.png";
        } else {

          icon = "qx/static/blank.gif";
        };
        return {
          icon : icon,
          minWidth : 14,
          gap : 8,
          paddingLeft : 2
        };
      }
    },
    "checkbox/icon" : {
      style : function(states){

        var decorator;
        if(states.disabled){

          decorator = "checkbox-disabled";
        } else if(states.focused){

          decorator = "checkbox-focused";
        } else if(states.hovered){

          decorator = "checkbox-hovered";
        } else {

          decorator = "checkbox";
        };;
        decorator += states.invalid && !states.disabled ? "-invalid" : "";
        var padding = states.undetermined ? [3, 1] : 1;
        return {
          decorator : decorator,
          padding : padding,
          width : 10,
          height : 10
        };
      }
    },
    "radiobutton" : {
      alias : "atom",
      style : function(states){

        return {
          icon : "qx/static/blank.png",
          gap : 8,
          paddingLeft : 2
        };
      }
    },
    "radiobutton/icon" : {
      style : function(states){

        var decorator;
        if(states.disabled && !states.checked){

          decorator = "radiobutton-disabled";
        } else if(states.checked && states.focused){

          decorator = "radiobutton-checked-focused";
        } else if(states.checked && states.disabled){

          decorator = "radiobutton-checked-disabled";
        } else if(states.checked && states.hovered){

          decorator = "radiobutton-checked-hovered";
        } else if(states.checked){

          decorator = "radiobutton-checked";
        } else if(states.focused){

          decorator = "radiobutton-focused";
        } else if(states.hovered){

          decorator = "radiobutton-hovered";
        } else {

          decorator = "radiobutton";
        };;;;;;
        decorator += states.invalid && !states.disabled ? "-invalid" : "";
        return {
          decorator : decorator,
          width : 10,
          height : 10
        };
      }
    },
    "textfield" : {
      style : function(states){

        var decorator;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(focused && invalid && !disabled){

          decorator = "input-focused-invalid";
        } else if(focused && !invalid && !disabled){

          decorator = "input-focused";
        } else if(disabled){

          decorator = "input-disabled";
        } else if(!focused && invalid && !disabled){

          decorator = "border-invalid";
        } else {

          decorator = "input";
        };;;
        var textColor;
        if(states.disabled){

          textColor = "text-disabled";
        } else if(states.showingPlaceholder){

          textColor = "text-placeholder";
        } else {

          textColor = "text-input";
        };
        return {
          decorator : decorator,
          padding : [2, 4, 1],
          textColor : textColor
        };
      }
    },
    "textarea" : {
      include : "textfield",
      style : function(states){

        return {
          padding : 4
        };
      }
    },
    "spinner" : {
      style : function(states){

        var decorator;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(focused && invalid && !disabled){

          decorator = "input-focused-invalid";
        } else if(focused && !invalid && !disabled){

          decorator = "input-focused";
        } else if(disabled){

          decorator = "input-disabled";
        } else if(!focused && invalid && !disabled){

          decorator = "border-invalid";
        } else {

          decorator = "input";
        };;;
        return {
          decorator : decorator
        };
      }
    },
    "spinner/textfield" : {
      style : function(states){

        return {
          marginRight : 2,
          padding : [2, 4, 1],
          textColor : states.disabled ? "text-disabled" : "text-input"
        };
      }
    },
    "spinner/upbutton" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states, superStyles){

        return {
          icon : "decoration/arrows/up-small.png",
          padding : [superStyles.padding[0] - 1, superStyles.padding[1] - 5],
          margin : 0
        };
      }
    },
    "spinner/downbutton" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states, superStyles){

        return {
          icon : "decoration/arrows/down-small.png",
          padding : [superStyles.padding[0] - 1, superStyles.padding[1] - 5],
          margin : 0
        };
      }
    },
    "datefield" : "combobox",
    "datefield/button" : {
      alias : "combobox/button",
      include : "combobox/button",
      style : function(states){

        return {
          icon : "icon/16/apps/office-calendar.png",
          padding : [0, 3],
          decorator : undefined
        };
      }
    },
    "datefield/textfield" : "combobox/textfield",
    "datefield/list" : {
      alias : "datechooser",
      include : "datechooser",
      style : function(states){

        return {
          decorator : undefined
        };
      }
    },
    "groupbox" : {
      style : function(states){

        return {
          legendPosition : "top"
        };
      }
    },
    "groupbox/legend" : {
      alias : "atom",
      style : function(states){

        return {
          padding : [1, 0, 1, 4],
          textColor : states.invalid ? "invalid" : "text-title",
          font : "bold"
        };
      }
    },
    "groupbox/frame" : {
      style : function(states){

        return {
          padding : 10,
          margin : 1,
          decorator : "group"
        };
      }
    },
    "check-groupbox" : "groupbox",
    "check-groupbox/legend" : {
      alias : "checkbox",
      include : "checkbox",
      style : function(states){

        return {
          padding : [1, 0, 1, 4],
          textColor : states.invalid ? "invalid" : "text-title",
          font : "bold"
        };
      }
    },
    "radio-groupbox" : "groupbox",
    "radio-groupbox/legend" : {
      alias : "radiobutton",
      include : "radiobutton",
      style : function(states){

        return {
          padding : [1, 0, 1, 4],
          textColor : states.invalid ? "invalid" : "text-title",
          font : "bold"
        };
      }
    },
    "scrollarea" : {
      style : function(states){

        return {
          minWidth : 50,
          minHeight : 50
        };
      }
    },
    "scrollarea/corner" : {
      style : function(states){

        return {
          backgroundColor : "background-application"
        };
      }
    },
    "scrollarea/pane" : "widget",
    "scrollarea/scrollbar-x" : "scrollbar",
    "scrollarea/scrollbar-y" : "scrollbar",
    "scrollbar" : {
      style : function(states){

        if(states["native"]){

          return {
          };
        };
        return {
          width : states.horizontal ? undefined : 16,
          height : states.horizontal ? 16 : undefined,
          decorator : (states.horizontal ? "scrollbar-horizontal" : "scrollbar-vertical"),
          padding : 1
        };
      }
    },
    "scrollbar/slider" : {
      alias : "slider",
      style : function(states){

        return {
          padding : states.horizontal ? [0, 1, 0, 1] : [1, 0, 1, 0]
        };
      }
    },
    "scrollbar/slider/knob" : {
      include : "button-frame",
      style : function(states){

        var decorator = states.horizontal ? "scrollbar-slider-horizontal" : "scrollbar-slider-vertical";
        if(states.disabled){

          decorator += "-disabled";
        };
        return {
          decorator : decorator,
          minHeight : states.horizontal ? undefined : 9,
          minWidth : states.horizontal ? 9 : undefined,
          padding : undefined,
          margin : 0
        };
      }
    },
    "scrollbar/button" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        var icon = "decoration/scrollbar/scrollbar-";
        if(states.left){

          icon += "left.png";
        } else if(states.right){

          icon += "right.png";
        } else if(states.up){

          icon += "up.png";
        } else {

          icon += "down.png";
        };;
        if(states.left || states.right){

          var paddingLeft = states.left ? 3 : 4;
          return {
            padding : [3, 0, 3, paddingLeft],
            icon : icon,
            width : 15,
            height : 14,
            margin : 0
          };
        } else {

          return {
            padding : 3,
            icon : icon,
            width : 14,
            height : 15,
            margin : 0
          };
        };
      }
    },
    "scrollbar/button-begin" : "scrollbar/button",
    "scrollbar/button-end" : "scrollbar/button",
    "slider" : {
      style : function(states){

        var decorator;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(focused && invalid && !disabled){

          decorator = "input-focused-invalid";
        } else if(focused && !invalid && !disabled){

          decorator = "input-focused";
        } else if(disabled){

          decorator = "input-disabled";
        } else if(!focused && invalid && !disabled){

          decorator = "border-invalid";
        } else {

          decorator = "input";
        };;;
        return {
          decorator : decorator
        };
      }
    },
    "slider/knob" : {
      include : "button-frame",
      style : function(states){

        return {
          decorator : states.disabled ? "scrollbar-slider-horizontal-disabled" : "scrollbar-slider-horizontal",
          height : 14,
          width : 14,
          padding : 0,
          margin : 0
        };
      }
    },
    "list" : {
      alias : "scrollarea",
      style : function(states){

        var decorator;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(focused && invalid && !disabled){

          decorator = "input-focused-invalid";
        } else if(focused && !invalid && !disabled){

          decorator = "input-focused";
        } else if(disabled){

          decorator = "input-disabled";
        } else if(!focused && invalid && !disabled){

          decorator = "border-invalid";
        } else {

          decorator = "input";
        };;;
        return {
          backgroundColor : "background-light",
          decorator : decorator
        };
      }
    },
    "list/pane" : "widget",
    "listitem" : {
      alias : "atom",
      style : function(states){

        return {
          padding : states.dragover ? [4, 4, 2, 4] : 4,
          textColor : states.selected ? "text-selected" : undefined,
          decorator : states.selected ? "selected" : undefined,
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "slidebar" : {
    },
    "slidebar/scrollpane" : {
    },
    "slidebar/content" : {
    },
    "slidebar/button-forward" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        return {
          padding : 5,
          center : true,
          icon : states.vertical ? "decoration/arrows/down.png" : "decoration/arrows/right.png"
        };
      }
    },
    "slidebar/button-backward" : {
      alias : "button-frame",
      include : "button-frame",
      style : function(states){

        return {
          padding : 5,
          center : true,
          icon : states.vertical ? "decoration/arrows/up.png" : "decoration/arrows/left.png"
        };
      }
    },
    "tabview" : {
      style : function(states){

        return {
          contentPadding : 16
        };
      }
    },
    "tabview/bar" : {
      alias : "slidebar",
      style : function(states){

        var result = {
          marginBottom : states.barTop ? -1 : 0,
          marginTop : states.barBottom ? -4 : 0,
          marginLeft : states.barRight ? -3 : 0,
          marginRight : states.barLeft ? -1 : 0,
          paddingTop : 0,
          paddingRight : 0,
          paddingBottom : 0,
          paddingLeft : 0
        };
        if(states.barTop || states.barBottom){

          result.paddingLeft = 5;
          result.paddingRight = 7;
        } else {

          result.paddingTop = 5;
          result.paddingBottom = 7;
        };
        return result;
      }
    },
    "tabview/bar/button-forward" : {
      include : "slidebar/button-forward",
      alias : "slidebar/button-forward",
      style : function(states){

        if(states.barTop || states.barBottom){

          return {
            marginTop : 2,
            marginBottom : 2
          };
        } else {

          return {
            marginLeft : 2,
            marginRight : 2
          };
        };
      }
    },
    "tabview/bar/button-backward" : {
      include : "slidebar/button-backward",
      alias : "slidebar/button-backward",
      style : function(states){

        if(states.barTop || states.barBottom){

          return {
            marginTop : 2,
            marginBottom : 2
          };
        } else {

          return {
            marginLeft : 2,
            marginRight : 2
          };
        };
      }
    },
    "tabview/bar/scrollpane" : {
    },
    "tabview/pane" : {
      style : function(states){

        return {
          decorator : "tabview-pane",
          marginBottom : states.barBottom ? -1 : 0,
          marginTop : states.barTop ? -1 : 0,
          marginLeft : states.barLeft ? -1 : 0,
          marginRight : states.barRight ? -1 : 0
        };
      }
    },
    "tabview-page" : {
      alias : "widget",
      include : "widget",
      style : function(states){

        return {
          padding : [4, 3]
        };
      }
    },
    "tabview-page/button" : {
      alias : "atom",
      style : function(states){

        var decorator,padding = 0;
        var marginTop = 0,marginBottom = 0,marginLeft = 0,marginRight = 0;
        if(states.checked){

          if(states.barTop){

            decorator = "tabview-page-button-top-active";
            padding = [5, 11];
            marginLeft = states.firstTab ? 0 : -5;
            marginRight = states.lastTab ? 0 : -5;
          } else if(states.barBottom){

            decorator = "tabview-page-button-bottom-active";
            padding = [5, 11];
            marginLeft = states.firstTab ? 0 : -5;
            marginRight = states.lastTab ? 0 : -5;
            marginTop = 3;
          } else if(states.barRight){

            decorator = "tabview-page-button-right-active";
            padding = [5, 10];
            marginTop = states.firstTab ? 0 : -5;
            marginBottom = states.lastTab ? 0 : -5;
            marginLeft = 2;
          } else {

            decorator = "tabview-page-button-left-active";
            padding = [5, 10];
            marginTop = states.firstTab ? 0 : -5;
            marginBottom = states.lastTab ? 0 : -5;
          };;
        } else {

          if(states.barTop){

            decorator = "tabview-page-button-top-inactive";
            padding = [3, 9];
            marginTop = 4;
            marginLeft = states.firstTab ? 5 : 1;
            marginRight = 1;
          } else if(states.barBottom){

            decorator = "tabview-page-button-bottom-inactive";
            padding = [3, 9];
            marginBottom = 4;
            marginLeft = states.firstTab ? 5 : 1;
            marginRight = 1;
            marginTop = 3;
          } else if(states.barRight){

            decorator = "tabview-page-button-right-inactive";
            padding = [3, 9];
            marginRight = 5;
            marginTop = states.firstTab ? 5 : 1;
            marginBottom = 1;
            marginLeft = 3;
          } else {

            decorator = "tabview-page-button-left-inactive";
            padding = [3, 9];
            marginLeft = 5;
            marginTop = states.firstTab ? 5 : 1;
            marginBottom = 1;
            marginRight = 1;
          };;
        };
        return {
          zIndex : states.checked ? 10 : 5,
          decorator : decorator,
          padding : padding,
          marginTop : marginTop,
          marginBottom : marginBottom,
          marginLeft : marginLeft,
          marginRight : marginRight,
          textColor : states.disabled ? "text-disabled" : states.checked ? "text-active" : "text-inactive"
        };
      }
    },
    "tabview-page/button/label" : {
      alias : "label",
      style : function(states){

        return {
          padding : states.focused ? [0, 1, 0, 1] : [1, 2, 1, 2],
          decorator : states.focused ? "keyboard-focus" : undefined
        };
      }
    },
    "tabview-page/button/close-button" : {
      alias : "atom",
      style : function(states){

        return {
          icon : "qx/icon/Tango/16/actions/window-close.png"
        };
      }
    },
    "toolbar" : {
      style : function(states){

        return {
          decorator : "toolbar",
          spacing : 2
        };
      }
    },
    "toolbar/part" : {
      style : function(states){

        return {
          decorator : "toolbar-part",
          spacing : 2
        };
      }
    },
    "toolbar/part/container" : {
      style : function(states){

        return {
          paddingLeft : 2,
          paddingRight : 2
        };
      }
    },
    "toolbar/part/handle" : {
      style : function(states){

        return {
          source : "decoration/toolbar/toolbar-handle-knob.gif",
          marginLeft : 3,
          marginRight : 3
        };
      }
    },
    "toolbar-button" : {
      alias : "atom",
      style : function(states){

        var decorator;
        if(states.pressed || (states.checked && !states.hovered) || (states.checked && states.disabled)){

          decorator = "toolbar-button-checked";
        } else if(states.hovered && !states.disabled){

          decorator = "toolbar-button-hovered";
        };
        return {
          marginTop : 2,
          marginBottom : 2,
          padding : (states.pressed || states.checked || states.hovered) && !states.disabled || (states.disabled && states.checked) ? 3 : 5,
          decorator : decorator
        };
      }
    },
    "toolbar-menubutton" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        return {
          showArrow : true
        };
      }
    },
    "toolbar-menubutton/arrow" : {
      alias : "image",
      include : "image",
      style : function(states){

        return {
          source : "decoration/arrows/down-small.png"
        };
      }
    },
    "toolbar-splitbutton" : {
      style : function(states){

        return {
          marginTop : 2,
          marginBottom : 2
        };
      }
    },
    "toolbar-splitbutton/button" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        return {
          icon : "decoration/arrows/down.png",
          marginTop : undefined,
          marginBottom : undefined
        };
      }
    },
    "toolbar-splitbutton/arrow" : {
      alias : "toolbar-button",
      include : "toolbar-button",
      style : function(states){

        if(states.pressed || states.checked || (states.hovered && !states.disabled)){

          var padding = 1;
        } else {

          var padding = 3;
        };
        return {
          padding : padding,
          icon : "decoration/arrows/down.png",
          marginTop : undefined,
          marginBottom : undefined
        };
      }
    },
    "toolbar-separator" : {
      style : function(states){

        return {
          decorator : "toolbar-separator",
          margin : 7
        };
      }
    },
    "tree" : "list",
    "tree-item" : {
      style : function(states){

        var decorator = states.selected ? "selected" : undefined;
        return {
          padding : [2, 6],
          textColor : states.selected ? "text-selected" : undefined,
          decorator : decorator,
          opacity : states.drag ? 0.5 : undefined
        };
      }
    },
    "tree-item/icon" : {
      include : "image",
      style : function(states){

        return {
          paddingRight : 5
        };
      }
    },
    "tree-item/label" : "label",
    "tree-item/open" : {
      include : "image",
      style : function(states){

        var icon;
        if(states.selected && states.opened){

          icon = "decoration/tree/open-selected.png";
        } else if(states.selected && !states.opened){

          icon = "decoration/tree/closed-selected.png";
        } else if(states.opened){

          icon = "decoration/tree/open.png";
        } else {

          icon = "decoration/tree/closed.png";
        };;
        return {
          padding : [0, 5, 0, 2],
          source : icon
        };
      }
    },
    "tree-folder" : {
      include : "tree-item",
      alias : "tree-item",
      style : function(states){

        var icon,iconOpened;
        if(states.small){

          icon = states.opened ? "icon/16/places/folder-open.png" : "icon/16/places/folder.png";
          iconOpened = "icon/16/places/folder-open.png";
        } else if(states.large){

          icon = states.opened ? "icon/32/places/folder-open.png" : "icon/32/places/folder.png";
          iconOpened = "icon/32/places/folder-open.png";
        } else {

          icon = states.opened ? "icon/22/places/folder-open.png" : "icon/22/places/folder.png";
          iconOpened = "icon/22/places/folder-open.png";
        };
        return {
          icon : icon,
          iconOpened : iconOpened
        };
      }
    },
    "tree-file" : {
      include : "tree-item",
      alias : "tree-item",
      style : function(states){

        return {
          icon : states.small ? "icon/16/mimetypes/office-document.png" : states.large ? "icon/32/mimetypes/office-document.png" : "icon/22/mimetypes/office-document.png"
        };
      }
    },
    "treevirtual" : "table",
    "treevirtual-folder" : {
      style : function(states){

        return {
          icon : states.opened ? "icon/16/places/folder-open.png" : "icon/16/places/folder.png"
        };
      }
    },
    "treevirtual-file" : {
      include : "treevirtual-folder",
      alias : "treevirtual-folder",
      style : function(states){

        return {
          icon : "icon/16/mimetypes/office-document.png"
        };
      }
    },
    "treevirtual-line" : {
      style : function(states){

        return {
          icon : "qx/static/blank.gif"
        };
      }
    },
    "treevirtual-contract" : {
      style : function(states){

        return {
          icon : "decoration/tree/open.png",
          paddingLeft : 5,
          paddingTop : 2
        };
      }
    },
    "treevirtual-expand" : {
      style : function(states){

        return {
          icon : "decoration/tree/closed.png",
          paddingLeft : 5,
          paddingTop : 2
        };
      }
    },
    "treevirtual-only-contract" : "treevirtual-contract",
    "treevirtual-only-expand" : "treevirtual-expand",
    "treevirtual-start-contract" : "treevirtual-contract",
    "treevirtual-start-expand" : "treevirtual-expand",
    "treevirtual-end-contract" : "treevirtual-contract",
    "treevirtual-end-expand" : "treevirtual-expand",
    "treevirtual-cross-contract" : "treevirtual-contract",
    "treevirtual-cross-expand" : "treevirtual-expand",
    "treevirtual-end" : {
      style : function(states){

        return {
          icon : "qx/static/blank.gif"
        };
      }
    },
    "treevirtual-cross" : {
      style : function(states){

        return {
          icon : "qx/static/blank.gif"
        };
      }
    },
    "tooltip" : {
      include : "popup",
      style : function(states){

        return {
          backgroundColor : "background-tip",
          padding : [1, 3, 2, 3],
          offset : [15, 5, 5, 5]
        };
      }
    },
    "tooltip/atom" : "atom",
    "tooltip-error" : {
      style : function(states){

        return {
          placeMethod : "widget",
          offset : [-3, 1, 0, 0],
          arrowPosition : states.placementLeft ? "left" : "right",
          position : "right-top",
          showTimeout : 100,
          hideTimeout : 10000,
          padding : [0, 4, 4, 0]
        };
      }
    },
    "tooltip-error/arrow" : {
      include : "image",
      style : function(states){

        var source = states.placementLeft ? "decoration/form/tooltip-error-arrow-right.png" : "decoration/form/tooltip-error-arrow.png";
        return {
          source : source,
          padding : [6, 0, 0, 0],
          zIndex : 10000001
        };
      }
    },
    "tooltip-error/atom" : {
      include : "popup",
      style : function(states){

        return {
          textColor : "text-selected",
          backgroundColor : undefined,
          decorator : "tooltip-error",
          font : "bold",
          padding : [3, 4, 4, 4],
          margin : [1, 0, 0, 0],
          maxWidth : 333
        };
      }
    },
    "window" : {
      style : function(states){

        return {
          decorator : states.showStatusbar ? "window-incl-statusbar" : "window",
          contentPadding : [10, 10, 10, 10],
          margin : states.maximized ? 0 : [0, 5, 5, 0]
        };
      }
    },
    "window-resize-frame" : {
      style : function(states){

        return {
          decorator : states.showStatusbar ? "window-resize-frame-incl-statusbar" : "window-resize-frame"
        };
      }
    },
    "window/pane" : {
      style : function(states){

        return {
          decorator : "window-pane"
        };
      }
    },
    "window/captionbar" : {
      style : function(states){

        return {
          decorator : (states.active ? "window-captionbar-active" : "window-captionbar-inactive"),
          textColor : states.active ? "window-caption-active-text" : "text-gray",
          minHeight : 26,
          paddingRight : 2
        };
      }
    },
    "window/icon" : {
      style : function(states){

        return {
          margin : [5, 0, 3, 6]
        };
      }
    },
    "window/title" : {
      style : function(states){

        return {
          alignY : "middle",
          font : "bold",
          marginLeft : 6,
          marginRight : 12
        };
      }
    },
    "window/minimize-button" : {
      alias : "atom",
      style : function(states){

        return {
          icon : states.active ? states.hovered ? "decoration/window/minimize-active-hovered.png" : "decoration/window/minimize-active.png" : "decoration/window/minimize-inactive.png",
          margin : [4, 8, 2, 0]
        };
      }
    },
    "window/restore-button" : {
      alias : "atom",
      style : function(states){

        return {
          icon : states.active ? states.hovered ? "decoration/window/restore-active-hovered.png" : "decoration/window/restore-active.png" : "decoration/window/restore-inactive.png",
          margin : [5, 8, 2, 0]
        };
      }
    },
    "window/maximize-button" : {
      alias : "atom",
      style : function(states){

        return {
          icon : states.active ? states.hovered ? "decoration/window/maximize-active-hovered.png" : "decoration/window/maximize-active.png" : "decoration/window/maximize-inactive.png",
          margin : [4, 8, 2, 0]
        };
      }
    },
    "window/close-button" : {
      alias : "atom",
      style : function(states){

        return {
          icon : states.active ? states.hovered ? "decoration/window/close-active-hovered.png" : "decoration/window/close-active.png" : "decoration/window/close-inactive.png",
          margin : [4, 8, 2, 0]
        };
      }
    },
    "window/statusbar" : {
      style : function(states){

        return {
          padding : [2, 6],
          decorator : "window-statusbar",
          minHeight : 18
        };
      }
    },
    "window/statusbar-text" : {
      style : function(states){

        return {
          font : "small"
        };
      }
    },
    "iframe" : {
      style : function(states){

        return {
          decorator : "main"
        };
      }
    },
    "resizer" : {
      style : function(states){

        return {
          decorator : "pane"
        };
      }
    },
    "splitpane" : {
      style : function(states){

        return {
          decorator : "splitpane"
        };
      }
    },
    "splitpane/splitter" : {
      style : function(states){

        return {
          width : states.horizontal ? 3 : undefined,
          height : states.vertical ? 3 : undefined,
          backgroundColor : "background-splitpane"
        };
      }
    },
    "splitpane/splitter/knob" : {
      style : function(states){

        return {
          source : states.horizontal ? "decoration/splitpane/knob-horizontal.png" : "decoration/splitpane/knob-vertical.png"
        };
      }
    },
    "splitpane/slider" : {
      style : function(states){

        return {
          width : states.horizontal ? 3 : undefined,
          height : states.vertical ? 3 : undefined,
          backgroundColor : "background-splitpane"
        };
      }
    },
    "selectbox" : "button-frame",
    "selectbox/atom" : "atom",
    "selectbox/popup" : "popup",
    "selectbox/list" : {
      alias : "list"
    },
    "selectbox/arrow" : {
      include : "image",
      style : function(states){

        return {
          source : "decoration/arrows/down.png",
          paddingLeft : 5
        };
      }
    },
    "datechooser" : {
      style : function(states){

        var decorator;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(focused && invalid && !disabled){

          decorator = "input-focused-invalid";
        } else if(focused && !invalid && !disabled){

          decorator = "input-focused";
        } else if(disabled){

          decorator = "input-disabled";
        } else if(!focused && invalid && !disabled){

          decorator = "border-invalid";
        } else {

          decorator = "input";
        };;;
        return {
          padding : 2,
          decorator : decorator,
          backgroundColor : "background-light"
        };
      }
    },
    "datechooser/navigation-bar" : {
    },
    "datechooser/nav-button" : {
      include : "button-frame",
      alias : "button-frame",
      style : function(states){

        var result = {
          padding : [2, 4]
        };
        if(states.lastYear){

          result.icon = "decoration/arrows/rewind.png";
          result.marginRight = 1;
        } else if(states.lastMonth){

          result.icon = "decoration/arrows/left.png";
        } else if(states.nextYear){

          result.icon = "decoration/arrows/forward.png";
          result.marginLeft = 1;
        } else if(states.nextMonth){

          result.icon = "decoration/arrows/right.png";
        };;;
        return result;
      }
    },
    "datechooser/last-year-button-tooltip" : "tooltip",
    "datechooser/last-month-button-tooltip" : "tooltip",
    "datechooser/next-year-button-tooltip" : "tooltip",
    "datechooser/next-month-button-tooltip" : "tooltip",
    "datechooser/last-year-button" : "datechooser/nav-button",
    "datechooser/last-month-button" : "datechooser/nav-button",
    "datechooser/next-month-button" : "datechooser/nav-button",
    "datechooser/next-year-button" : "datechooser/nav-button",
    "datechooser/month-year-label" : {
      style : function(states){

        return {
          font : "bold",
          textAlign : "center",
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "datechooser/date-pane" : {
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : undefined,
          marginTop : 2
        };
      }
    },
    "datechooser/weekday" : {
      style : function(states){

        return {
          textColor : states.disabled ? "text-disabled" : states.weekend ? "text-light" : undefined,
          textAlign : "center",
          paddingTop : 2,
          backgroundColor : "background-medium"
        };
      }
    },
    "datechooser/week" : {
      style : function(states){

        return {
          textAlign : "center",
          padding : [2, 4],
          backgroundColor : "background-medium"
        };
      }
    },
    "datechooser/day" : {
      style : function(states){

        var decorator = states.disabled ? undefined : states.selected ? "selected" : undefined;
        return {
          textAlign : "center",
          decorator : decorator,
          textColor : states.disabled ? "text-disabled" : states.selected ? "text-selected" : states.otherMonth ? "text-light" : undefined,
          font : states.today ? "bold" : undefined,
          padding : [2, 4]
        };
      }
    },
    "combobox" : {
      style : function(states){

        var decorator;
        var focused = !!states.focused;
        var invalid = !!states.invalid;
        var disabled = !!states.disabled;
        if(focused && invalid && !disabled){

          decorator = "input-focused-invalid";
        } else if(focused && !invalid && !disabled){

          decorator = "input-focused";
        } else if(disabled){

          decorator = "input-disabled";
        } else if(!focused && invalid && !disabled){

          decorator = "border-invalid";
        } else {

          decorator = "input";
        };;;
        return {
          decorator : decorator
        };
      }
    },
    "combobox/popup" : "popup",
    "combobox/list" : {
      alias : "list"
    },
    "combobox/button" : {
      include : "button-frame",
      alias : "button-frame",
      style : function(states, superStyles){

        var ret = {
          icon : "decoration/arrows/down.png",
          padding : [superStyles.padding[0], superStyles.padding[1] - 6],
          margin : undefined
        };
        if(states.selected){

          ret.decorator = "button-focused";
        };
        return ret;
      }
    },
    "combobox/textfield" : {
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined
        };
      }
    },
    "menu" : {
      style : function(states){

        var result = {
          decorator : "menu",
          spacingX : 6,
          spacingY : 1,
          iconColumnWidth : 16,
          arrowColumnWidth : 4,
          placementModeY : states.submenu || states.contextmenu ? "best-fit" : "keep-align"
        };
        if(states.submenu){

          result.position = "right-top";
          result.offset = [-2, -3];
        };
        return result;
      }
    },
    "menu/slidebar" : "menu-slidebar",
    "menu-slidebar" : "widget",
    "menu-slidebar-button" : {
      style : function(states){

        var decorator = states.hovered ? "selected" : undefined;
        return {
          decorator : decorator,
          padding : 7,
          center : true
        };
      }
    },
    "menu-slidebar/button-backward" : {
      include : "menu-slidebar-button",
      style : function(states){

        return {
          icon : states.hovered ? "decoration/arrows/up-invert.png" : "decoration/arrows/up.png"
        };
      }
    },
    "menu-slidebar/button-forward" : {
      include : "menu-slidebar-button",
      style : function(states){

        return {
          icon : states.hovered ? "decoration/arrows/down-invert.png" : "decoration/arrows/down.png"
        };
      }
    },
    "menu-separator" : {
      style : function(states){

        return {
          height : 0,
          decorator : "menu-separator",
          margin : [4, 2]
        };
      }
    },
    "menu-button" : {
      alias : "atom",
      style : function(states){

        var decorator = states.selected ? "selected" : undefined;
        return {
          decorator : decorator,
          textColor : states.selected ? "text-selected" : undefined,
          padding : [4, 6]
        };
      }
    },
    "menu-button/icon" : {
      include : "image",
      style : function(states){

        return {
          alignY : "middle"
        };
      }
    },
    "menu-button/label" : {
      include : "label",
      style : function(states){

        return {
          alignY : "middle",
          padding : 1
        };
      }
    },
    "menu-button/shortcut" : {
      include : "label",
      style : function(states){

        return {
          alignY : "middle",
          marginLeft : 14,
          padding : 1
        };
      }
    },
    "menu-button/arrow" : {
      include : "image",
      style : function(states){

        return {
          source : states.selected ? "decoration/arrows/right-invert.png" : "decoration/arrows/right.png",
          alignY : "middle"
        };
      }
    },
    "menu-checkbox" : {
      alias : "menu-button",
      include : "menu-button",
      style : function(states){

        return {
          icon : !states.checked ? undefined : states.selected ? "decoration/menu/checkbox-invert.gif" : "decoration/menu/checkbox.gif"
        };
      }
    },
    "menu-radiobutton" : {
      alias : "menu-button",
      include : "menu-button",
      style : function(states){

        return {
          icon : !states.checked ? undefined : states.selected ? "decoration/menu/radiobutton-invert.gif" : "decoration/menu/radiobutton.gif"
        };
      }
    },
    "menubar" : {
      style : function(states){

        return {
          decorator : "menubar"
        };
      }
    },
    "menubar-button" : {
      alias : "atom",
      style : function(states){

        var decorator = (states.pressed || states.hovered) && !states.disabled ? "selected" : undefined;
        return {
          decorator : decorator,
          textColor : states.pressed || states.hovered ? "text-selected" : undefined,
          padding : [3, 8]
        };
      }
    },
    "colorselector" : "widget",
    "colorselector/control-bar" : "widget",
    "colorselector/control-pane" : "widget",
    "colorselector/visual-pane" : "groupbox",
    "colorselector/preset-grid" : "widget",
    "colorselector/colorbucket" : {
      style : function(states){

        return {
          decorator : "main",
          width : 16,
          height : 16
        };
      }
    },
    "colorselector/preset-field-set" : "groupbox",
    "colorselector/input-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 20
        };
      }
    },
    "colorselector/preview-field-set" : {
      include : "groupbox",
      alias : "groupbox",
      style : function(){

        return {
          paddingTop : 20
        };
      }
    },
    "colorselector/hex-field-composite" : "widget",
    "colorselector/hex-field" : "textfield",
    "colorselector/rgb-spinner-composite" : "widget",
    "colorselector/rgb-spinner-red" : "spinner",
    "colorselector/rgb-spinner-green" : "spinner",
    "colorselector/rgb-spinner-blue" : "spinner",
    "colorselector/hsb-spinner-composite" : "widget",
    "colorselector/hsb-spinner-hue" : "spinner",
    "colorselector/hsb-spinner-saturation" : "spinner",
    "colorselector/hsb-spinner-brightness" : "spinner",
    "colorselector/preview-content-old" : {
      style : function(states){

        return {
          decorator : "main",
          width : 50,
          height : 10
        };
      }
    },
    "colorselector/preview-content-new" : {
      style : function(states){

        return {
          decorator : "main",
          backgroundColor : "background-light",
          width : 50,
          height : 10
        };
      }
    },
    "colorselector/hue-saturation-field" : {
      style : function(states){

        return {
          decorator : "main",
          margin : 5
        };
      }
    },
    "colorselector/brightness-field" : {
      style : function(states){

        return {
          decorator : "main",
          margin : [5, 7]
        };
      }
    },
    "colorselector/hue-saturation-pane" : "widget",
    "colorselector/hue-saturation-handle" : "widget",
    "colorselector/brightness-pane" : "widget",
    "colorselector/brightness-handle" : "widget",
    "colorpopup" : {
      alias : "popup",
      include : "popup",
      style : function(states){

        return {
          padding : 5,
          backgroundColor : "background-application"
        };
      }
    },
    "colorpopup/field" : {
      style : function(states){

        return {
          decorator : "main",
          margin : 2,
          width : 14,
          height : 14,
          backgroundColor : "background-light"
        };
      }
    },
    "colorpopup/selector-button" : "button",
    "colorpopup/auto-button" : "button",
    "colorpopup/preview-pane" : "groupbox",
    "colorpopup/current-preview" : {
      style : function(state){

        return {
          height : 20,
          padding : 4,
          marginLeft : 4,
          decorator : "main",
          allowGrowX : true
        };
      }
    },
    "colorpopup/selected-preview" : {
      style : function(state){

        return {
          height : 20,
          padding : 4,
          marginRight : 4,
          decorator : "main",
          allowGrowX : true
        };
      }
    },
    "colorpopup/colorselector-okbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "icon/16/actions/dialog-ok.png"
        };
      }
    },
    "colorpopup/colorselector-cancelbutton" : {
      alias : "button",
      include : "button",
      style : function(states){

        return {
          icon : "icon/16/actions/dialog-cancel.png"
        };
      }
    },
    "table" : {
      alias : "widget",
      style : function(states){

        return {
          decorator : "table"
        };
      }
    },
    "table/statusbar" : {
      style : function(states){

        return {
          decorator : "table-statusbar",
          padding : [0, 2]
        };
      }
    },
    "table/column-button" : {
      alias : "button-frame",
      style : function(states){

        return {
          decorator : "table-scroller-header",
          padding : 3,
          icon : "decoration/table/select-column-order.png"
        };
      }
    },
    "table-column-reset-button" : {
      include : "menu-button",
      alias : "menu-button",
      style : function(){

        return {
          icon : "icon/16/actions/view-refresh.png"
        };
      }
    },
    "table-scroller" : "widget",
    "table-scroller/scrollbar-x" : "scrollbar",
    "table-scroller/scrollbar-y" : "scrollbar",
    "table-scroller/header" : {
      style : function(states){

        return {
          decorator : "table-scroller-header",
          textColor : states.disabled ? "text-disabled" : undefined
        };
      }
    },
    "table-scroller/pane" : {
      style : function(states){

        return {
          backgroundColor : "table-pane"
        };
      }
    },
    "table-scroller/focus-indicator" : {
      style : function(states){

        return {
          decorator : "table-scroller-focus-indicator"
        };
      }
    },
    "table-scroller/resize-line" : {
      style : function(states){

        return {
          backgroundColor : "border-separator",
          width : 2
        };
      }
    },
    "table-header-cell" : {
      alias : "atom",
      style : function(states){

        return {
          minWidth : 13,
          minHeight : 20,
          padding : states.hovered ? [3, 4, 2, 4] : [3, 4],
          decorator : states.hovered ? "table-header-cell-hovered" : "table-header-cell",
          sortIcon : states.sorted ? (states.sortedAscending ? "decoration/table/ascending.png" : "decoration/table/descending.png") : undefined
        };
      }
    },
    "table-header-cell/label" : {
      style : function(states){

        return {
          minWidth : 0,
          alignY : "middle",
          paddingRight : 5
        };
      }
    },
    "table-header-cell/sort-icon" : {
      style : function(states){

        return {
          alignY : "middle",
          alignX : "right",
          opacity : states.disabled ? 0.3 : 1
        };
      }
    },
    "table-header-cell/icon" : {
      style : function(states){

        return {
          minWidth : 0,
          alignY : "middle",
          paddingRight : 5,
          opacity : states.disabled ? 0.3 : 1
        };
      }
    },
    "table-editor-textfield" : {
      include : "textfield",
      style : function(states){

        return {
          decorator : undefined,
          padding : [2, 2],
          backgroundColor : "background-light"
        };
      }
    },
    "table-editor-selectbox" : {
      include : "selectbox",
      alias : "selectbox",
      style : function(states){

        return {
          padding : [0, 2],
          backgroundColor : "background-light"
        };
      }
    },
    "table-editor-combobox" : {
      include : "combobox",
      alias : "combobox",
      style : function(states){

        return {
          decorator : undefined,
          backgroundColor : "background-light"
        };
      }
    },
    "progressive-table-header" : {
      alias : "widget",
      style : function(states){

        return {
          decorator : "progressive-table-header"
        };
      }
    },
    "progressive-table-header-cell" : {
      alias : "atom",
      style : function(states){

        return {
          minWidth : 40,
          minHeight : 25,
          paddingLeft : 6,
          decorator : "progressive-table-header-cell"
        };
      }
    },
    "app-header" : {
      style : function(states){

        return {
          font : "bold",
          textColor : "text-selected",
          padding : [8, 12],
          decorator : "app-header"
        };
      }
    },
    "app-header-label" : "label",
    "app-splitpane" : {
      alias : "splitpane",
      style : function(states){

        return {
          padding : 0
        };
      }
    },
    "virtual-list" : "list",
    "virtual-list/row-layer" : "row-layer",
    "row-layer" : "widget",
    "group-item" : {
      include : "label",
      alias : "label",
      style : function(states){

        return {
          padding : 4,
          decorator : "group-item",
          textColor : "groupitem-text",
          font : "bold"
        };
      }
    },
    "virtual-selectbox" : "selectbox",
    "virtual-selectbox/dropdown" : "popup",
    "virtual-selectbox/dropdown/list" : {
      alias : "virtual-list"
    },
    "virtual-combobox" : "combobox",
    "virtual-combobox/dropdown" : "popup",
    "virtual-combobox/dropdown/list" : {
      alias : "virtual-list"
    },
    "virtual-tree" : {
      include : "tree",
      alias : "tree",
      style : function(states){

        return {
          itemHeight : 26
        };
      }
    },
    "virtual-tree-folder" : "tree-folder",
    "virtual-tree-file" : "tree-file",
    "column-layer" : "widget",
    "cell" : {
      style : function(states){

        return {
          textColor : states.selected ? "text-selected" : "text-label",
          padding : [3, 6],
          font : "default"
        };
      }
    },
    "cell-string" : "cell",
    "cell-number" : {
      include : "cell",
      style : function(states){

        return {
          textAlign : "right"
        };
      }
    },
    "cell-image" : "cell",
    "cell-boolean" : {
      include : "cell",
      style : function(states){

        return {
          iconTrue : "decoration/table/boolean-true.png",
          iconFalse : "decoration/table/boolean-false.png"
        };
      }
    },
    "cell-atom" : "cell",
    "cell-date" : "cell",
    "cell-html" : "cell",
    "progressbar" : {
      style : function(states){

        return {
          decorator : "progressbar",
          padding : [1],
          backgroundColor : "progressbar-background",
          width : 200,
          height : 20
        };
      }
    },
    "progressbar/progress" : {
      style : function(states){

        return {
          decorator : (states.disabled ? "group-item" : "selected")
        };
      }
    }
  }
});

qx.Class.define("qx.ui.mobile.toolbar.Button", {
  extend : qx.ui.mobile.form.Button,
  properties : {
    defaultCssClass : {
      refine : true,
      init : "toolbar-button"
    }
  }
});

qx.Bootstrap.define("qx.module.Transform", {
  statics : {
    transform : function(transforms){

      this._forEachElement(function(el){

        qx.bom.element.Transform.transform(el, transforms);
      });
      return this;
    },
    translate : function(value){

      return this.transform({
        translate : value
      });
    },
    scale : function(value){

      return this.transform({
        scale : value
      });
    },
    rotate : function(value){

      return this.transform({
        rotate : value
      });
    },
    skew : function(value){

      return this.transform({
        skew : value
      });
    },
    setTransformOrigin : function(value){

      this._forEachElement(function(el){

        qx.bom.element.Transform.setOrigin(el, value);
      });
      return this;
    },
    getTransformOrigin : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Transform.getOrigin(this[0]);
      };
      return "";
    },
    setTransformStyle : function(value){

      this._forEachElement(function(el){

        qx.bom.element.Transform.setStyle(el, value);
      });
      return this;
    },
    getTransformStyle : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Transform.getStyle(this[0]);
      };
      return "";
    },
    setTransformPerspective : function(value){

      this._forEachElement(function(el){

        qx.bom.element.Transform.setPerspective(el, value);
      });
      return this;
    },
    getTransformPerspective : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Transform.getPerspective(this[0]);
      };
      return "";
    },
    setTransformPerspectiveOrigin : function(value){

      this._forEachElement(function(el){

        qx.bom.element.Transform.setPerspectiveOrigin(el, value);
      });
      return this;
    },
    getTransformPerspectiveOrigin : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Transform.getPerspectiveOrigin(this[0]);
      };
      return "";
    },
    setTransformBackfaceVisibility : function(value){

      this._forEachElement(function(el){

        qx.bom.element.Transform.setBackfaceVisibility(el, value);
      });
      return this;
    },
    getTransformBackfaceVisibility : function(){

      if(this[0] && this[0].nodeType === 1){

        return qx.bom.element.Transform.getBackfaceVisibility(this[0]);
      };
      return "";
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "transform" : statics.transform,
      "translate" : statics.translate,
      "rotate" : statics.rotate,
      "skew" : statics.skew,
      "scale" : statics.scale,
      "setTransformStyle" : statics.setTransformStyle,
      "getTransformStyle" : statics.getTransformStyle,
      "setTransformOrigin" : statics.setTransformOrigin,
      "getTransformOrigin" : statics.getTransformOrigin,
      "setTransformPerspective" : statics.setTransformPerspective,
      "getTransformPerspective" : statics.getTransformPerspective,
      "setTransformPerspectiveOrigin" : statics.setTransformPerspectiveOrigin,
      "getTransformPerspectiveOrigin" : statics.getTransformPerspectiveOrigin,
      "setTransformBackfaceVisibility" : statics.setTransformBackfaceVisibility,
      "getTransformBackfaceVisibility" : statics.getTransformBackfaceVisibility
    });
  }
});

qx.Bootstrap.define("qx.ui.website.Slider", {
  extend : qx.ui.website.Widget,
  statics : {
    _config : {
      minimum : 0,
      maximum : 100,
      offset : 0,
      step : 1
    },
    _templates : {
      knobContent : "{{value}}"
    },
    slider : function(value, step){

      var slider = new qx.ui.website.Slider(this);
      slider.init();
      if(typeof step !== "undefined"){

        slider.setConfig("step", step);
      };
      if(typeof value !== "undefined"){

        slider.setValue(value);
      } else {

        slider.setValue(slider.getConfig("minimum"));
      };
      return slider;
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  events : {
    "changeValue" : "Number",
    "changePosition" : "Number"
  },
  members : {
    __dragMode : null,
    init : function(){

      if(!this.base(arguments)){

        return false;
      };
      var cssPrefix = this.getCssPrefix();
      if(!this.getValue()){

        var step = this.getConfig("step");
        var defaultVal = qx.Bootstrap.isArray(step) ? step[0] : this.getConfig("minimum");
        this.setProperty("value", defaultVal);
      };
      this._forEachElementWrapped(function(slider){

        slider.$onFirstCollection("pointerup", slider._onSliderPointerUp, slider).$onFirstCollection("focus", slider._onSliderFocus, slider).setStyle("touch-action", "pan-y");
        qxWeb(document).on("pointerup", slider._onDocPointerUp, slider);
        qxWeb(window).$onFirstCollection("resize", slider._onWindowResize, slider);
        if(slider.getChildren("." + cssPrefix + "-knob").length === 0){

          slider.append(qx.ui.website.Widget.create("<button>").addClass(cssPrefix + "-knob"));
        };
        slider.getChildren("." + cssPrefix + "-knob").setAttributes({
          "draggable" : "false",
          "unselectable" : "true"
        }).setHtml(slider._getKnobContent()).$onFirstCollection("pointerdown", slider._onPointerDown, slider).$onFirstCollection("dragstart", slider._onDragStart, slider).$onFirstCollection("focus", slider._onKnobFocus, slider).$onFirstCollection("blur", slider._onKnobBlur, slider);
        slider.render();
      });
      return true;
    },
    getValue : function(){

      return this.getProperty("value");
    },
    setValue : function(value){

      if(qxWeb.type.get(value) != "Number"){

        throw Error("Please provide a Number value for 'value'!");
      };
      var step = this.getConfig("step");
      if(!qx.Bootstrap.isArray(step)){

        var min = this.getConfig("minimum");
        var max = this.getConfig("maximum");
        if(value < min){

          value = min;
        };
        if(value > max){

          value = max;
        };
        if(qx.Bootstrap.getClass(step) == "Number"){

          value = Math.round(value / step) * step;
        };
      };
      this.setProperty("value", value);
      if(!qx.Bootstrap.isArray(step) || step.indexOf(value) != -1){

        this.__valueToPosition(value);
        this.getChildren("." + this.getCssPrefix() + "-knob").setHtml(this._getKnobContent());
        this.emit("changeValue", value);
      };
      return this;
    },
    render : function(){

      var step = this.getConfig("step");
      if(qx.Bootstrap.isArray(step)){

        this._getPixels();
        if(step.indexOf(this.getValue()) == -1){

          this.setValue(step[0]);
        } else {

          this.setValue(this.getValue());
        };
      } else if(qx.Bootstrap.getClass(step) == "Number"){

        this.setValue(Math.round(this.getValue() / step) * step);
      } else {

        this.setValue(this.getValue());
      };
      this.getChildren("." + this.getCssPrefix() + "-knob").setHtml(this._getKnobContent());
      return this;
    },
    _getKnobContent : function(){

      return qxWeb.template.render(this.getTemplate("knobContent"), {
        value : this.getValue()
      });
    },
    _getHalfKnobWidth : function(){

      var knobWidth = this.getChildren("." + this.getCssPrefix() + "-knob").getWidth();
      return Math.round(parseFloat(knobWidth / 2));
    },
    _getDragBoundaries : function(){

      var paddingLeft = Math.ceil(parseFloat(this.getStyle("paddingLeft")) || 0);
      var paddingRight = Math.ceil(parseFloat(this.getStyle("paddingRight")) || 0);
      var offset = this.getConfig("offset");
      return {
        min : this.getOffset().left + offset + paddingLeft,
        max : this.getOffset().left + this.getWidth() - offset - paddingRight
      };
    },
    _getPixels : function(){

      var step = this.getConfig("step");
      if(!qx.Bootstrap.isArray(step)){

        return [];
      };
      var dragBoundaries = this._getDragBoundaries();
      var pixel = [];
      pixel.push(dragBoundaries.min);
      var lastIndex = step.length - 1;
      var paddingLeft = Math.ceil(parseFloat(this.getStyle("paddingLeft")) || 0);
      var paddingRight = Math.ceil(parseFloat(this.getStyle("paddingRight")) || 0);
      var usedWidth = this.getWidth() - (this.getConfig("offset") * 2) - paddingLeft - paddingRight;
      var stepWidth = usedWidth / (step[lastIndex] - step[0]);
      var stepCount = 0;
      for(var i = 1,j = step.length - 1;i < j;i++){

        stepCount = step[i] - step[0];
        pixel.push(Math.round(stepCount * stepWidth) + dragBoundaries.min);
      };
      pixel.push(dragBoundaries.max);
      return pixel;
    },
    _getNearestValue : function(position){

      var pixels = this._getPixels();
      if(pixels.length === 0){

        var dragBoundaries = this._getDragBoundaries();
        var availableWidth = dragBoundaries.max - dragBoundaries.min;
        var relativePosition = position - dragBoundaries.min;
        var fraction = relativePosition / availableWidth;
        var min = this.getConfig("minimum");
        var max = this.getConfig("maximum");
        var result = (max - min) * fraction + min;
        if(result < min){

          result = min;
        };
        if(result > max){

          result = max;
        };
        var step = this.getConfig("step");
        if(qx.Bootstrap.getClass(step) == "Number"){

          result = Math.round(result / step) * step;
        };
        return result;
      };
      var currentIndex = 0,before = 0,after = 0;
      for(var i = 0,j = pixels.length;i < j;i++){

        if(position >= pixels[i]){

          currentIndex = i;
          before = pixels[i];
          after = pixels[i + 1] || before;
        } else {

          break;
        };
      };
      currentIndex = Math.abs(position - before) <= Math.abs(position - after) ? currentIndex : currentIndex + 1;
      return this.getConfig("step")[currentIndex];
    },
    _onSliderPointerUp : function(e){

      if((e.getDocumentLeft() === 0 && e.getDocumentTop() === 0) || !this.getEnabled()){

        return;
      };
      this.setValue(this._getNearestValue(e.getDocumentLeft()));
    },
    _onPointerDown : function(e){

      if(this.__dragMode){

        return;
      };
      this.__dragMode = true;
      qxWeb(document.documentElement).on("pointermove", this._onPointerMove, this).setStyle("cursor", "pointer");
      e.stopPropagation();
    },
    _onDocPointerUp : function(e){

      if(this.__dragMode === true){

        delete this.__dragMode;
        this.__valueToPosition(this.getValue());
        qxWeb(document.documentElement).off("pointermove", this._onPointerMove, this).setStyle("cursor", "auto");
        e.stopPropagation();
      };
    },
    _onPointerMove : function(e){

      e.preventDefault();
      if(this.__dragMode){

        var dragPosition = e.getDocumentLeft();
        var dragBoundaries = this._getDragBoundaries();
        var paddingLeft = Math.ceil(parseFloat(this.getStyle("paddingLeft")) || 0);
        var positionKnob = dragPosition - this.getOffset().left - this._getHalfKnobWidth() - paddingLeft;
        if(dragPosition >= dragBoundaries.min && dragPosition <= dragBoundaries.max){

          this.setValue(this._getNearestValue(dragPosition));
          if(positionKnob > 0){

            this._setKnobPosition(positionKnob);
            this.emit("changePosition", positionKnob);
          };
        };
        e.stopPropagation();
      };
    },
    _onDragStart : function(e){

      e.stopPropagation();
      e.preventDefault();
    },
    _onSliderFocus : function(e){

      this.getChildren("." + this.getCssPrefix() + "-knob").focus();
    },
    _onKnobFocus : function(e){

      this.getChildren("." + this.getCssPrefix() + "-knob").$onFirstCollection("keydown", this._onKeyDown, this);
    },
    _onKnobBlur : function(e){

      this.getChildren("." + this.getCssPrefix() + "-knob").$offFirstCollection("keydown", this._onKeyDown, this);
    },
    _onKeyDown : function(e){

      var newValue;
      var currentValue = this.getValue();
      var step = this.getConfig("step");
      var stepType = qx.Bootstrap.getClass(step);
      var key = e.getKeyIdentifier();
      var idx;
      if(key == "Right"){

        if(stepType === "Array"){

          idx = step.indexOf(currentValue);
          if(idx !== undefined){

            newValue = step[idx + 1] || currentValue;
          };
        } else if(stepType === "Number"){

          newValue = currentValue + step;
        } else {

          newValue = currentValue + 1;
        };
      } else if(key == "Left"){

        if(stepType === "Array"){

          idx = step.indexOf(currentValue);
          if(idx !== undefined){

            newValue = step[idx - 1] || currentValue;
          };
        } else if(stepType === "Number"){

          newValue = currentValue - step;
        } else {

          newValue = currentValue - 1;
        };
      } else {

        return;
      };
      this.setValue(newValue);
    },
    _setKnobPosition : function(x){

      var knob = this.getChildren("." + this.getCssPrefix() + "-knob");
      if(qxWeb.env.get("css.transform")){

        knob.translate([x + "px", 0, 0]);
      } else {

        knob.setStyle("left", x + "px");
      };
    },
    _onWindowResize : function(){

      var value = this.getProperty("value");
      if(qx.Bootstrap.isArray(this.getConfig("step"))){

        this._getPixels();
      };
      this.__valueToPosition(value);
    },
    __valueToPosition : function(value){

      var pixels = this._getPixels();
      var paddingLeft = Math.ceil(parseFloat(this.getStyle("paddingLeft")) || 0);
      var valueToPixel;
      if(pixels.length > 0){

        valueToPixel = pixels[this.getConfig("step").indexOf(value)] - paddingLeft;
      } else {

        var dragBoundaries = this._getDragBoundaries();
        var availableWidth = dragBoundaries.max - dragBoundaries.min;
        var range = this.getConfig("maximum") - this.getConfig("minimum");
        var fraction = (value - this.getConfig("minimum")) / range;
        valueToPixel = (availableWidth * fraction) + dragBoundaries.min - paddingLeft;
      };
      var position = valueToPixel - this.getOffset().left - this._getHalfKnobWidth();
      this._setKnobPosition(position);
      this.emit("changePosition", position);
    },
    dispose : function(){

      this._forEachElementWrapped(function(slider){

        qxWeb(document).off("pointerup", slider._onDocPointerUp, slider);
        qxWeb(window).$offFirstCollection("resize", slider._onWindowResize, slider);
        slider.$offFirstCollection("pointerup", slider._onSliderPointerUp, slider).$offFirstCollection("focus", slider._onSliderFocus, slider);
        slider.getChildren("." + this.getCssPrefix() + "-knob").$offFirstCollection("pointerdown", slider._onPointerDown, slider).$offFirstCollection("dragstart", slider._onDragStart, slider).$offFirstCollection("focus", slider._onKnobFocus, slider).$offFirstCollection("blur", slider._onKnobBlur, slider).$offFirstCollection("keydown", slider._onKeyDown, slider);
      });
      this.setHtml("");
      return this.base(arguments);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      slider : statics.slider
    });
  }
});

qx.Mixin.define("qx.dev.unit.MRequirementsBasic", {
  members : {
    require : function(featureList){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertArray(featureList);
      };
      for(var i = 0,l = featureList.length;i < l;i++){

        var feature = featureList[i];
        var hasMethodName = "has" + qx.lang.String.capitalize(feature);
        if(this[hasMethodName]){

          if(this[hasMethodName]() === true){

            continue;
          } else {

            throw new qx.dev.unit.RequirementError(feature);
          };
        };
        if(qx.core.Environment.getChecks()[feature]){

          var envValue = qx.core.Environment.get(feature);
          if(envValue === true){

            continue;
          };
          if(envValue === false){

            throw new qx.dev.unit.RequirementError(feature);
          } else {

            throw new Error("The Environment key " + feature + " cannot be used" + " as a Test Requirement since its value is not boolean!");
          };
        };
        if(qx.core.Environment.getAsyncChecks()[feature]){

          throw new Error('Unable to verify requirement ' + feature + ': ' + 'Asynchronous environment checks are not supported!');
        };
        throw new Error('Unable to verify requirement: No method "' + hasMethodName + '" or valid Environment key "' + feature + '" found');
      };
    }
  }
});

qx.Class.define("qx.io.remote.Rpc", {
  extend : qx.core.Object,
  construct : function(url, serviceName){

    this.base(arguments);
    if(url !== undefined){

      this.setUrl(url);
    };
    if(serviceName != null){

      this.setServiceName(serviceName);
    };
    if(qx.core.ServerSettings){

      this.__currentServerSuffix = qx.core.ServerSettings.serverPathSuffix;
    };
  },
  events : {
    "completed" : "qx.event.type.Event",
    "aborted" : "qx.event.type.Event",
    "failed" : "qx.event.type.Event",
    "timeout" : "qx.event.type.Event"
  },
  statics : {
    origin : {
      server : 1,
      application : 2,
      transport : 3,
      local : 4
    },
    localError : {
      timeout : 1,
      abort : 2,
      nodata : 3
    },
    CONVERT_DATES : null,
    RESPONSE_JSON : null,
    makeServerURL : function(instanceId){

      var retVal = null;
      if(qx.core.ServerSettings){

        retVal = qx.core.ServerSettings.serverPathPrefix + "/.qxrpc" + qx.core.ServerSettings.serverPathSuffix;
        if(instanceId != null){

          retVal += "?instanceId=" + instanceId;
        };
      };
      return retVal;
    }
  },
  properties : {
    timeout : {
      check : "Integer",
      nullable : true
    },
    crossDomain : {
      check : "Boolean",
      init : false
    },
    url : {
      check : "String",
      nullable : true
    },
    serviceName : {
      check : "String",
      nullable : true
    },
    serverData : {
      check : "Object",
      nullable : true
    },
    username : {
      check : "String",
      nullable : true
    },
    password : {
      check : "String",
      nullable : true
    },
    useBasicHttpAuth : {
      check : "Boolean",
      nullable : true
    },
    protocol : {
      init : "qx1",
      check : function(val){

        return val == "qx1" || val == "2.0";
      }
    }
  },
  members : {
    __previousServerSuffix : null,
    __currentServerSuffix : null,
    createRequest : function(){

      return new qx.io.remote.Request(this.getUrl(), "POST", "application/json");
    },
    createRpcData : function(id, method, parameters, serverData){

      var requestObject;
      var service;
      if(this.getProtocol() == "qx1"){

        requestObject = {
          "service" : method == "refreshSession" ? null : this.getServiceName(),
          "method" : method,
          "id" : id,
          "params" : parameters
        };
        if(serverData){

          requestObject.server_data = serverData;
        };
      } else {

        service = this.getServiceName();
        if(service && service != ""){

          service += ".";
        } else {

          service = "";
        };
        requestObject = {
          "jsonrpc" : "2.0",
          "method" : service + method,
          "id" : id,
          "params" : parameters
        };
      };
      return requestObject;
    },
    _callInternal : function(args, callType, refreshSession){

      var self = this;
      var offset = (callType == 0 ? 0 : 1);
      var whichMethod = (refreshSession ? "refreshSession" : args[offset]);
      var handler = args[0];
      var argsArray = [];
      var eventTarget = this;
      var protocol = this.getProtocol();
      for(var i = offset + 1;i < args.length;++i){

        argsArray.push(args[i]);
      };
      var req = this.createRequest();
      var serverData = this.getServerData();
      var rpcData = this.createRpcData(req.getSequenceNumber(), whichMethod, argsArray, serverData);
      req.setCrossDomain(this.getCrossDomain());
      if(this.getUsername()){

        req.setUseBasicHttpAuth(this.getUseBasicHttpAuth());
        req.setUsername(this.getUsername());
        req.setPassword(this.getPassword());
      };
      req.setTimeout(this.getTimeout());
      var ex = null;
      var id = null;
      var result = null;
      var response = null;
      var handleRequestFinished = function(eventType, eventTarget){

        switch(callType){case 0:
        break;case 1:
        handler(result, ex, id);
        break;case 2:
        if(!ex){

          eventTarget.fireDataEvent(eventType, response);
        } else {

          ex.id = id;
          if(args[0]){

            eventTarget.fireDataEvent("failed", ex);
          } else {

            eventTarget.fireDataEvent(eventType, ex);
          };
        };};
      };
      var addToStringToObject = function(obj){

        if(protocol == "qx1"){

          obj.toString = function(){

            switch(obj.origin){case qx.io.remote.Rpc.origin.server:
            return "Server error " + obj.code + ": " + obj.message;case qx.io.remote.Rpc.origin.application:
            return "Application error " + obj.code + ": " + obj.message;case qx.io.remote.Rpc.origin.transport:
            return "Transport error " + obj.code + ": " + obj.message;case qx.io.remote.Rpc.origin.local:
            return "Local error " + obj.code + ": " + obj.message;default:
            return ("UNEXPECTED origin " + obj.origin + " error " + obj.code + ": " + obj.message);};
          };
        } else {

          obj.toString = function(){

            var ret;
            ret = "Error " + obj.code + ": " + obj.message;
            if(obj.data){

              ret += " (" + obj.data + ")";
            };
            return ret;
          };
        };
      };
      var makeException = function(origin, code, message){

        var ex = new Object();
        if(protocol == "qx1"){

          ex.origin = origin;
        };
        ex.code = code;
        ex.message = message;
        addToStringToObject(ex);
        return ex;
      };
      req.addListener("failed", function(evt){

        var code = evt.getStatusCode();
        ex = makeException(qx.io.remote.Rpc.origin.transport, code, qx.io.remote.Exchange.statusCodeToString(code));
        id = this.getSequenceNumber();
        handleRequestFinished("failed", eventTarget);
      });
      req.addListener("timeout", function(evt){

        this.debug("TIMEOUT OCCURRED");
        ex = makeException(qx.io.remote.Rpc.origin.local, qx.io.remote.Rpc.localError.timeout, "Local time-out expired for " + whichMethod);
        id = this.getSequenceNumber();
        handleRequestFinished("timeout", eventTarget);
      });
      req.addListener("aborted", function(evt){

        ex = makeException(qx.io.remote.Rpc.origin.local, qx.io.remote.Rpc.localError.abort, "Aborted " + whichMethod);
        id = this.getSequenceNumber();
        handleRequestFinished("aborted", eventTarget);
      });
      req.addListener("completed", function(evt){

        response = evt.getContent();
        if(response === null){

          ex = makeException(qx.io.remote.Rpc.origin.local, qx.io.remote.Rpc.localError.nodata, "No data in response to " + whichMethod);
          id = this.getSequenceNumber();
          handleRequestFinished("failed", eventTarget);
          return;
        };
        if(!qx.lang.Type.isObject(response)){

          if(self._isConvertDates()){

            if(self._isResponseJson()){

              response = qx.lang.Json.parse(response, function(key, value){

                if(value && typeof value === "string"){

                  if(value.indexOf("new Date(Date.UTC(") >= 0){

                    var m = value.match(/new Date\(Date.UTC\((\d+),(\d+),(\d+),(\d+),(\d+),(\d+),(\d+)\)\)/);
                    return new Date(Date.UTC(m[1], m[2], m[3], m[4], m[5], m[6], m[7]));
                  };
                };
                return value;
              });
            } else {

              response = response && response.length > 0 ? eval('(' + response + ')') : null;
            };
          } else {

            response = qx.lang.Json.parse(response);
          };
        };
        id = response["id"];
        if(id != this.getSequenceNumber()){

          this.warn("Received id (" + id + ") does not match requested id " + "(" + this.getSequenceNumber() + ")!");
        };
        var eventType = "completed";
        var exTest = response["error"];
        if(exTest != null){

          result = null;
          addToStringToObject(exTest);
          ex = exTest;
          eventType = "failed";
        } else {

          result = response["result"];
          if(refreshSession){

            result = eval("(" + result + ")");
            var newSuffix = qx.core.ServerSettings.serverPathSuffix;
            if(self.__currentServerSuffix != newSuffix){

              self.__previousServerSuffix = self.__currentServerSuffix;
              self.__currentServerSuffix = newSuffix;
            };
            self.setUrl(self.fixUrl(self.getUrl()));
          };
        };
        handleRequestFinished(eventType, eventTarget);
      });
      var replacer = null;
      if(this._isConvertDates()){

        replacer = function(key, value){

          value = this[key];
          if(qx.lang.Type.isDate(value)){

            var dateParams = value.getUTCFullYear() + "," + value.getUTCMonth() + "," + value.getUTCDate() + "," + value.getUTCHours() + "," + value.getUTCMinutes() + "," + value.getUTCSeconds() + "," + value.getUTCMilliseconds();
            return "new Date(Date.UTC(" + dateParams + "))";
          };
          return value;
        };
      };
      req.setData(qx.lang.Json.stringify(rpcData, replacer));
      req.setAsynchronous(callType > 0);
      if(req.getCrossDomain()){

        req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
      } else {

        req.setRequestHeader("Content-Type", "application/json");
      };
      req.setParseJson(false);
      req.send();
      if(callType == 0){

        if(ex != null){

          var error = new Error(ex.toString());
          error.rpcdetails = ex;
          throw error;
        };
        return result;
      } else {

        return req;
      };
    },
    fixUrl : function(url){

      if(this.__previousServerSuffix == null || this.__currentServerSuffix == null || this.__previousServerSuffix == "" || this.__previousServerSuffix == this.__currentServerSuffix){

        return url;
      };
      var index = url.indexOf(this.__previousServerSuffix);
      if(index == -1){

        return url;
      };
      return (url.substring(0, index) + this.__currentServerSuffix + url.substring(index + this.__previousServerSuffix.length));
    },
    callSync : function(methodName){

      return this._callInternal(arguments, 0);
    },
    callAsync : function(handler, methodName){

      return this._callInternal(arguments, 1);
    },
    callAsyncListeners : function(coalesce, methodName){

      return this._callInternal(arguments, 2);
    },
    refreshSession : function(handler){

      if(qx.core.ServerSettings && qx.core.ServerSettings.serverPathSuffix){

        var timeDiff = (new Date()).getTime() - qx.core.ServerSettings.lastSessionRefresh;
        if(timeDiff / 1000 > (qx.core.ServerSettings.sessionTimeoutInSeconds - 30)){

          this._callInternal([handler], 1, true);
        } else {

          handler(true);
        };
      } else {

        handler(false);
      };
    },
    _isConvertDates : function(){

      return !!(qx.io.remote.Rpc.CONVERT_DATES);
    },
    _isResponseJson : function(){

      return !!(qx.io.remote.Rpc.RESPONSE_JSON);
    },
    abort : function(opaqueCallRef){

      opaqueCallRef.abort();
    }
  }
});

qx.Class.define("qx.io.remote.Request", {
  extend : qx.core.Object,
  construct : function(vUrl, vMethod, vResponseType){

    this.base(arguments);
    this.__requestHeaders = {
    };
    this.__urlParameters = {
    };
    this.__dataParameters = {
    };
    this.__formFields = {
    };
    if(vUrl !== undefined){

      this.setUrl(vUrl);
    };
    if(vMethod !== undefined){

      this.setMethod(vMethod);
    };
    if(vResponseType !== undefined){

      this.setResponseType(vResponseType);
    };
    this.setProhibitCaching(true);
    this.__seqNum = ++qx.io.remote.Request.__seqNum;
  },
  events : {
    "created" : "qx.event.type.Event",
    "configured" : "qx.event.type.Event",
    "sending" : "qx.event.type.Event",
    "receiving" : "qx.event.type.Event",
    "completed" : "qx.io.remote.Response",
    "aborted" : "qx.event.type.Event",
    "failed" : "qx.io.remote.Response",
    "timeout" : "qx.io.remote.Response"
  },
  statics : {
    __seqNum : 0,
    methodAllowsRequestBody : function(httpMethod){

      return (httpMethod == "POST") || (httpMethod == "PUT");
    }
  },
  properties : {
    url : {
      check : "String",
      init : ""
    },
    method : {
      check : ["GET", "POST", "PUT", "HEAD", "DELETE"],
      apply : "_applyMethod",
      init : "GET"
    },
    asynchronous : {
      check : "Boolean",
      init : true
    },
    data : {
      check : "String",
      nullable : true
    },
    username : {
      check : "String",
      nullable : true
    },
    password : {
      check : "String",
      nullable : true
    },
    state : {
      check : ["configured", "queued", "sending", "receiving", "completed", "aborted", "timeout", "failed"],
      init : "configured",
      apply : "_applyState",
      event : "changeState"
    },
    responseType : {
      check : ["text/plain", "text/javascript", "application/json", "application/xml", "text/html"],
      init : "text/plain",
      apply : "_applyResponseType"
    },
    timeout : {
      check : "Integer",
      nullable : true
    },
    prohibitCaching : {
      check : function(v){

        return typeof v == "boolean" || v === "no-url-params-on-post";
      },
      init : true,
      apply : "_applyProhibitCaching"
    },
    crossDomain : {
      check : "Boolean",
      init : false
    },
    fileUpload : {
      check : "Boolean",
      init : false
    },
    transport : {
      check : "qx.io.remote.Exchange",
      nullable : true
    },
    useBasicHttpAuth : {
      check : "Boolean",
      init : false
    },
    parseJson : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    __requestHeaders : null,
    __urlParameters : null,
    __dataParameters : null,
    __formFields : null,
    __seqNum : null,
    send : function(){

      qx.io.remote.RequestQueue.getInstance().add(this);
    },
    abort : function(){

      qx.io.remote.RequestQueue.getInstance().abort(this);
    },
    reset : function(){

      switch(this.getState()){case "sending":case "receiving":
      this.error("Aborting already sent request!");case "queued":
      this.abort();
      break;};
    },
    isConfigured : function(){

      return this.getState() === "configured";
    },
    isQueued : function(){

      return this.getState() === "queued";
    },
    isSending : function(){

      return this.getState() === "sending";
    },
    isReceiving : function(){

      return this.getState() === "receiving";
    },
    isCompleted : function(){

      return this.getState() === "completed";
    },
    isAborted : function(){

      return this.getState() === "aborted";
    },
    isTimeout : function(){

      return this.getState() === "timeout";
    },
    isFailed : function(){

      return this.getState() === "failed";
    },
    __forwardEvent : qx.event.GlobalError.observeMethod(function(e){

      var clonedEvent = e.clone();
      clonedEvent.setTarget(this);
      this.dispatchEvent(clonedEvent);
    }),
    _onqueued : function(e){

      this.setState("queued");
      this.__forwardEvent(e);
    },
    _onsending : function(e){

      this.setState("sending");
      this.__forwardEvent(e);
    },
    _onreceiving : function(e){

      this.setState("receiving");
      this.__forwardEvent(e);
    },
    _oncompleted : function(e){

      this.setState("completed");
      this.__forwardEvent(e);
      this.dispose();
    },
    _onaborted : function(e){

      this.setState("aborted");
      this.__forwardEvent(e);
      this.dispose();
    },
    _ontimeout : function(e){

      this.setState("timeout");
      this.__forwardEvent(e);
      this.dispose();
    },
    _onfailed : function(e){

      this.setState("failed");
      this.__forwardEvent(e);
      this.dispose();
    },
    _applyState : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.debug("State: " + value);
        };
      };
    },
    _applyProhibitCaching : function(value, old){

      if(!value){

        this.removeParameter("nocache");
        this.removeRequestHeader("Pragma");
        this.removeRequestHeader("Cache-Control");
        return;
      };
      if(value !== "no-url-params-on-post" || this.getMethod() != "POST"){

        this.setParameter("nocache", new Date().valueOf());
      } else {

        this.removeParameter("nocache");
      };
      this.setRequestHeader("Pragma", "no-cache");
      this.setRequestHeader("Cache-Control", "no-cache");
    },
    _applyMethod : function(value, old){

      if(qx.io.remote.Request.methodAllowsRequestBody(value)){

        this.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
      } else {

        this.removeRequestHeader("Content-Type");
      };
      var prohibitCaching = this.getProhibitCaching();
      this._applyProhibitCaching(prohibitCaching, prohibitCaching);
    },
    _applyResponseType : function(value, old){

      this.setRequestHeader("X-Qooxdoo-Response-Type", value);
    },
    setRequestHeader : function(vId, vValue){

      this.__requestHeaders[vId] = vValue;
    },
    removeRequestHeader : function(vId){

      delete this.__requestHeaders[vId];
    },
    getRequestHeader : function(vId){

      return this.__requestHeaders[vId] || null;
    },
    getRequestHeaders : function(){

      return this.__requestHeaders;
    },
    setParameter : function(vId, vValue, bAsData){

      if(bAsData){

        this.__dataParameters[vId] = vValue;
      } else {

        this.__urlParameters[vId] = vValue;
      };
    },
    removeParameter : function(vId, bFromData){

      if(bFromData){

        delete this.__dataParameters[vId];
      } else {

        delete this.__urlParameters[vId];
      };
    },
    getParameter : function(vId, bFromData){

      if(bFromData){

        return this.__dataParameters[vId] || null;
      } else {

        return this.__urlParameters[vId] || null;
      };
    },
    getParameters : function(bFromData){

      return (bFromData ? this.__dataParameters : this.__urlParameters);
    },
    setFormField : function(vId, vValue){

      this.__formFields[vId] = vValue;
    },
    removeFormField : function(vId){

      delete this.__formFields[vId];
    },
    getFormField : function(vId){

      return this.__formFields[vId] || null;
    },
    getFormFields : function(){

      return this.__formFields;
    },
    getSequenceNumber : function(){

      return this.__seqNum;
    }
  },
  destruct : function(){

    this.setTransport(null);
    this.__requestHeaders = this.__urlParameters = this.__dataParameters = this.__formFields = null;
  }
});

qx.Class.define("qx.io.remote.RequestQueue", {
  type : "singleton",
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__queue = [];
    this.__active = [];
    this.__totalRequests = 0;
    this.__timer = new qx.event.Timer(500);
    this.__timer.addListener("interval", this._oninterval, this);
  },
  properties : {
    enabled : {
      init : true,
      check : "Boolean",
      apply : "_applyEnabled"
    },
    maxTotalRequests : {
      check : "Integer",
      nullable : true
    },
    maxConcurrentRequests : {
      check : "Integer",
      init : qx.core.Environment.get("io.maxrequests")
    },
    defaultTimeout : {
      check : "Integer",
      init : 5000
    }
  },
  members : {
    __queue : null,
    __active : null,
    __totalRequests : null,
    __timer : null,
    getRequestQueue : function(){

      return this.__queue;
    },
    getActiveQueue : function(){

      return this.__active;
    },
    _debug : function(){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          var vText = this.__active.length + "/" + (this.__queue.length + this.__active.length);
          this.debug("Progress: " + vText);
          window.status = "Request-Queue Progress: " + vText;
        };
      };
    },
    _check : function(){

      this._debug();
      if(this.__active.length == 0 && this.__queue.length == 0){

        this.__timer.stop();
      };
      if(!this.getEnabled()){

        return;
      };
      if(this.__queue.length == 0 || (this.__queue[0].isAsynchronous() && this.__active.length >= this.getMaxConcurrentRequests())){

        return;
      };
      if(this.getMaxTotalRequests() != null && this.__totalRequests >= this.getMaxTotalRequests()){

        return;
      };
      var vRequest = this.__queue.shift();
      var vTransport = new qx.io.remote.Exchange(vRequest);
      this.__totalRequests++;
      this.__active.push(vTransport);
      this._debug();
      vTransport.addListener("sending", this._onsending, this);
      vTransport.addListener("receiving", this._onreceiving, this);
      vTransport.addListener("completed", this._oncompleted, this);
      vTransport.addListener("aborted", this._oncompleted, this);
      vTransport.addListener("timeout", this._oncompleted, this);
      vTransport.addListener("failed", this._oncompleted, this);
      vTransport._start = (new Date).valueOf();
      vTransport.send();
      if(this.__queue.length > 0){

        this._check();
      };
    },
    _remove : function(vTransport){

      qx.lang.Array.remove(this.__active, vTransport);
      vTransport.dispose();
      this._check();
    },
    __activeCount : 0,
    _onsending : function(e){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          this.__activeCount++;
          e.getTarget()._counted = true;
          this.debug("ActiveCount: " + this.__activeCount);
        };
      };
      e.getTarget().getRequest()._onsending(e);
    },
    _onreceiving : function(e){

      e.getTarget().getRequest()._onreceiving(e);
    },
    _oncompleted : function(e){

      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.io.remote")){

          if(e.getTarget()._counted){

            this.__activeCount--;
            this.debug("ActiveCount: " + this.__activeCount);
          };
        };
      };
      var request = e.getTarget().getRequest();
      var requestHandler = "_on" + e.getType();
      this._remove(e.getTarget());
      try{

        if(request[requestHandler]){

          request[requestHandler](e);
        };
      } catch(ex) {

        this.error("Request " + request + " handler " + requestHandler + " threw an error: ", ex);
        try{

          if(request["_onaborted"]){

            var event = qx.event.Registration.createEvent("aborted", qx.event.type.Event);
            request["_onaborted"](event);
          };
        } catch(ex1) {
        };
      };
    },
    _oninterval : function(e){

      var vActive = this.__active;
      if(vActive.length == 0){

        this.__timer.stop();
        return;
      };
      var vCurrent = (new Date).valueOf();
      var vTransport;
      var vRequest;
      var vDefaultTimeout = this.getDefaultTimeout();
      var vTimeout;
      var vTime;
      for(var i = vActive.length - 1;i >= 0;i--){

        vTransport = vActive[i];
        vRequest = vTransport.getRequest();
        if(vRequest.isAsynchronous()){

          vTimeout = vRequest.getTimeout();
          if(vTimeout == 0){

            continue;
          };
          if(vTimeout == null){

            vTimeout = vDefaultTimeout;
          };
          vTime = vCurrent - vTransport._start;
          if(vTime > vTimeout){

            this.warn("Timeout: transport " + vTransport.toHashCode());
            this.warn(vTime + "ms > " + vTimeout + "ms");
            vTransport.timeout();
          };
        };
      };
    },
    _applyEnabled : function(value, old){

      if(value){

        this._check();
      };
      this.__timer.setEnabled(value);
    },
    add : function(vRequest){

      vRequest.setState("queued");
      if(vRequest.isAsynchronous()){

        this.__queue.push(vRequest);
      } else {

        this.__queue.unshift(vRequest);
      };
      this._check();
      if(this.getEnabled()){

        this.__timer.start();
      };
    },
    abort : function(vRequest){

      var vTransport = vRequest.getTransport();
      if(vTransport){

        vTransport.abort();
      } else if(qx.lang.Array.contains(this.__queue, vRequest)){

        qx.lang.Array.remove(this.__queue, vRequest);
      };
    }
  },
  destruct : function(){

    this._disposeArray("__active");
    this._disposeObjects("__timer");
    this.__queue = null;
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Conditional", {
  extend : qx.ui.table.cellrenderer.Default,
  construct : function(align, color, style, weight){

    this.base(arguments);
    this.numericAllowed = ["==", "!=", ">", "<", ">=", "<="];
    this.betweenAllowed = ["between", "!between"];
    this.conditions = [];
    this.__defaultTextAlign = align || "";
    this.__defaultColor = color || "";
    this.__defaultFontStyle = style || "";
    this.__defaultFontWeight = weight || "";
  },
  members : {
    __defaultTextAlign : null,
    __defaultColor : null,
    __defaultFontStyle : null,
    __defaultFontWeight : null,
    __applyFormatting : function(condition, style){

      if(condition[1] != null){

        style["text-align"] = condition[1];
      };
      if(condition[2] != null){

        style["color"] = condition[2];
      };
      if(condition[3] != null){

        style["font-style"] = condition[3];
      };
      if(condition[4] != null){

        style["font-weight"] = condition[4];
      };
    },
    addNumericCondition : function(condition, value1, align, color, style, weight, target){

      var temp = null;
      if(qx.lang.Array.contains(this.numericAllowed, condition)){

        if(value1 != null){

          temp = [condition, align, color, style, weight, value1, target];
        };
      };
      if(temp != null){

        this.conditions.push(temp);
      } else {

        throw new Error("Condition not recognized or value is null!");
      };
    },
    addBetweenCondition : function(condition, value1, value2, align, color, style, weight, target){

      if(qx.lang.Array.contains(this.betweenAllowed, condition)){

        if(value1 != null && value2 != null){

          var temp = [condition, align, color, style, weight, value1, value2, target];
        };
      };
      if(temp != null){

        this.conditions.push(temp);
      } else {

        throw new Error("Condition not recognized or value1/value2 is null!");
      };
    },
    addRegex : function(regex, align, color, style, weight, target){

      if(regex != null){

        var temp = ["regex", align, color, style, weight, regex, target];
      };
      if(temp != null){

        this.conditions.push(temp);
      } else {

        throw new Error("regex cannot be null!");
      };
    },
    _getCellStyle : function(cellInfo){

      var tableModel = cellInfo.table.getTableModel();
      var i;
      var cond_test;
      var compareValue;
      var style = {
        "text-align" : this.__defaultTextAlign,
        "color" : this.__defaultColor,
        "font-style" : this.__defaultFontStyle,
        "font-weight" : this.__defaultFontWeight
      };
      for(i in this.conditions){

        cond_test = false;
        if(qx.lang.Array.contains(this.numericAllowed, this.conditions[i][0])){

          if(this.conditions[i][6] == null){

            compareValue = cellInfo.value;
          } else {

            compareValue = tableModel.getValueById(this.conditions[i][6], cellInfo.row);
          };
          switch(this.conditions[i][0]){case "==":
          if(compareValue == this.conditions[i][5]){

            cond_test = true;
          };
          break;case "!=":
          if(compareValue != this.conditions[i][5]){

            cond_test = true;
          };
          break;case ">":
          if(compareValue > this.conditions[i][5]){

            cond_test = true;
          };
          break;case "<":
          if(compareValue < this.conditions[i][5]){

            cond_test = true;
          };
          break;case ">=":
          if(compareValue >= this.conditions[i][5]){

            cond_test = true;
          };
          break;case "<=":
          if(compareValue <= this.conditions[i][5]){

            cond_test = true;
          };
          break;};
        } else if(qx.lang.Array.contains(this.betweenAllowed, this.conditions[i][0])){

          if(this.conditions[i][7] == null){

            compareValue = cellInfo.value;
          } else {

            compareValue = tableModel.getValueById(this.conditions[i][7], cellInfo.row);
          };
          switch(this.conditions[i][0]){case "between":
          if(compareValue >= this.conditions[i][5] && compareValue <= this.conditions[i][6]){

            cond_test = true;
          };
          break;case "!between":
          if(compareValue < this.conditions[i][5] || compareValue > this.conditions[i][6]){

            cond_test = true;
          };
          break;};
        } else if(this.conditions[i][0] == "regex"){

          if(this.conditions[i][6] == null){

            compareValue = cellInfo.value;
          } else {

            compareValue = tableModel.getValueById(this.conditions[i][6], cellInfo.row);
          };
          var the_pattern = new RegExp(this.conditions[i][5], 'g');
          cond_test = the_pattern.test(compareValue);
        };;
        if(cond_test == true){

          this.__applyFormatting(this.conditions[i], style);
        };
      };
      var styleString = [];
      for(var key in style){

        if(style[key]){

          styleString.push(key, ":", style[key], ";");
        };
      };
      return styleString.join("");
    }
  },
  destruct : function(){

    this.numericAllowed = this.betweenAllowed = this.conditions = null;
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Html", {
  extend : qx.ui.table.cellrenderer.Conditional,
  members : {
    _getContentHtml : function(cellInfo){

      return (cellInfo.value || "");
    },
    _getCellClass : function(cellInfo){

      return "qooxdoo-table-cell";
    }
  }
});

qx.Bootstrap.define("qx.bom.client.PhoneGap", {
  statics : {
    getPhoneGap : function(){

      return ("cordova" in window || "Cordova" in window || "PhoneGap" in window);
    },
    getNotification : function(){

      return "notification" in navigator;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("phonegap", statics.getPhoneGap);
    qx.core.Environment.add("phonegap.notification", statics.getNotification);
  }
});

qx.Mixin.define("qx.ui.mobile.core.MResize", {
  properties : {
    fireDomUpdatedOnResize : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __lastHeight : null,
    __lastWidth : null,
    releaseFixedSize : function(){

      var parent = this.getLayoutParent();
      if(parent && parent.getContainerElement()){

        var element = this.getContainerElement();
        qx.bom.element.Style.set(element, "height", "auto");
        qx.bom.element.Style.set(element, "width", "auto");
      };
    },
    fixSize : function(){

      var parent = this.getLayoutParent();
      if(parent && parent.getContainerElement()){

        var height = parent.getContainerElement().offsetHeight;
        var width = parent.getContainerElement().offsetWidth;
        if(height === 0 || width === 0){

          return;
        };
        if(!this.getFireDomUpdatedOnResize()){

          this._setHeight(height);
          this._setWidth(width);
        } else if(this.__lastHeight != height && this.__lastWidth != width){

          this._setHeight(height);
          this._setWidth(width);
          this.__lastWidth = width;
          this.__lastHeight = height;
          this._domUpdated();
        };
      };
    },
    _setHeight : function(height){

      var element = this.getContainerElement();
      if(qx.core.Environment.get("qx.mobile.nativescroll")){

        qx.bom.element.Style.set(element, "minHeight", height + "px");
      } else {

        qx.bom.element.Style.set(element, "height", height + "px");
      };
    },
    _setWidth : function(width){

      var element = this.getContainerElement();
      if(qx.core.Environment.get("qx.mobile.nativescroll")){

        qx.bom.element.Style.set(element, "minWidth", width + "px");
      } else {

        qx.bom.element.Style.set(element, "width", width + "px");
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.page.Page", {
  extend : qx.ui.mobile.container.Composite,
  include : qx.ui.mobile.core.MResize,
  construct : function(layout){

    this.base(arguments, layout || new qx.ui.mobile.layout.VBox());
  },
  statics : {
    _currentPage : null,
    _onDeviceReady : function(){

      qx.bom.Event.addNativeListener(document, "backbutton", qx.ui.mobile.page.Page._onBackButton);
      qx.bom.Event.addNativeListener(document, "menubutton", qx.ui.mobile.page.Page._onMenuButton);
    },
    _onBackButton : function(){

      if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("os.name") == "android"){

        var exit = true;
        if(qx.ui.mobile.page.Page._currentPage){

          exit = qx.ui.mobile.page.Page._currentPage.back(true);
        };
        if(exit){

          navigator.app.exitApp();
        };
      };
    },
    _onMenuButton : function(){

      if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("os.name") == "android"){

        if(qx.ui.mobile.page.Page._currentPage){

          qx.ui.mobile.page.Page._currentPage.menu();
        };
      };
    }
  },
  events : {
    "initialize" : "qx.event.type.Event",
    "start" : "qx.event.type.Event",
    "stop" : "qx.event.type.Event",
    "pause" : "qx.event.type.Event",
    "resume" : "qx.event.type.Event",
    "back" : "qx.event.type.Data",
    "menu" : "qx.event.type.Event",
    "wait" : "qx.event.type.Event"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "page"
    },
    lifeCycleState : {
      init : null,
      check : ["initialize", "start", "stop", "resume", "wait", "pause"],
      apply : "_applyLifeCycleState"
    }
  },
  members : {
    __initialized : false,
    show : function(properties){

      if(qx.ui.mobile.page.Page._currentPage){

        qx.ui.mobile.page.Page._currentPage.stop();
      };
      qx.ui.mobile.page.Page._currentPage = this;
      this.initialize();
      this.start();
      this.base(arguments, properties);
    },
    exclude : function(properties){

      this.stop();
      this.base(arguments, properties);
    },
    back : function(triggeredByKeyEvent){

      qx.core.Init.getApplication().fireDataEvent("back", triggeredByKeyEvent);
      this.fireDataEvent("back", triggeredByKeyEvent);
      var value = this._back(triggeredByKeyEvent);
      return value || false;
    },
    _back : function(triggeredByKeyEvent){
    },
    menu : function(){

      this.fireEvent("menu");
    },
    initialize : function(){

      if(!this.isInitialized()){

        this._initialize();
        this.__initialized = true;
        this.setLifeCycleState("initialize");
      };
    },
    _initialize : function(){
    },
    isInitialized : function(){

      return this.__initialized;
    },
    start : function(){

      this._start();
      this.setLifeCycleState("start");
    },
    _start : function(){
    },
    stop : function(){

      if(!this.isInitialized()){

        return;
      };
      this._stop();
      this.setLifeCycleState("stop");
    },
    _stop : function(){
    },
    pause : function(){

      this._pause();
      this.setLifeCycleState("pause");
    },
    _pause : function(){
    },
    resume : function(){

      this._resume();
      this.setLifeCycleState("resume");
    },
    _resume : function(){
    },
    wait : function(){

      this._wait();
      this.setLifeCycleState("wait");
    },
    _wait : function(){
    },
    _applyLifeCycleState : function(value, old){

      if(value == "start" || value == "stop"){

        qx.core.Init.getApplication().fireEvent(value);
      };
      this.fireEvent(value);
    }
  },
  defer : function(statics){

    if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("os.name") == "android"){

      qx.bom.Event.addNativeListener(document, "deviceready", statics._onDeviceReady);
    };
  }
});

qx.Class.define("qx.ui.mobile.page.NavigationPage", {
  extend : qx.ui.mobile.page.Page,
  implement : qx.ui.mobile.container.INavigation,
  construct : function(wrapContentByGroup, layout){

    this.base(arguments);
    if(wrapContentByGroup != null){

      this._wrapContentByGroup = wrapContentByGroup;
    };
  },
  events : {
    action : "qx.event.type.Event"
  },
  properties : {
    title : {
      check : "String",
      init : "",
      event : "changeTitle",
      apply : "_applyTitle"
    },
    backButtonText : {
      check : "String",
      init : "",
      apply : "_applyBackButtonText"
    },
    buttonText : {
      check : "String",
      init : "",
      apply : "_applyActionButtonText"
    },
    buttonIcon : {
      check : "String",
      init : null,
      nullable : true,
      apply : "_applyActionButtonIcon"
    },
    showBackButton : {
      check : "Boolean",
      init : false,
      apply : "_applyShowBackButton"
    },
    showBackButtonOnTablet : {
      check : "Boolean",
      init : false
    },
    showButton : {
      check : "Boolean",
      init : false,
      apply : "_applyShowButton"
    },
    navigationBarHidden : {
      check : "Boolean",
      init : false
    },
    navigationBarToggleDuration : {
      check : "Number",
      init : 0.8
    },
    contentCssClass : {
      check : "String",
      init : "content",
      nullable : true,
      apply : "_applyContentCssClass"
    }
  },
  members : {
    _isTablet : false,
    _wrapContentByGroup : true,
    __backButton : null,
    __actionButton : null,
    __content : null,
    __scrollContainer : null,
    __title : null,
    __leftContainer : null,
    __rightContainer : null,
    getTitleWidget : function(){

      if(!this.__title){

        this.__title = this._createTitleWidget();
      };
      return this.__title;
    },
    _createTitleWidget : function(){

      return new qx.ui.mobile.navigationbar.Title(this.getTitle());
    },
    _applyTitle : function(value, old){

      if(this.__title){

        this.__title.setValue(value);
      };
    },
    getLeftContainer : function(){

      if(!this.__leftContainer){

        this.__leftContainer = this._createLeftContainer();
      };
      return this.__leftContainer;
    },
    getRightContainer : function(){

      if(!this.__rightContainer){

        this.__rightContainer = this._createRightContainer();
      };
      return this.__rightContainer;
    },
    _createLeftContainer : function(){

      var layout = new qx.ui.mobile.layout.HBox();
      var container = new qx.ui.mobile.container.Composite(layout);
      container.addCssClass("left-container");
      this.__backButton = this._createBackButton();
      this.__backButton.addListener("tap", this._onBackButtonTap, this);
      this._showBackButton();
      container.add(this.__backButton);
      return container;
    },
    _createRightContainer : function(){

      var layout = new qx.ui.mobile.layout.HBox();
      var container = new qx.ui.mobile.container.Composite(layout);
      container.addCssClass("right-container");
      this.__actionButton = this._createButton();
      this.__actionButton.addListener("tap", this._onButtonTap, this);
      this._showButton();
      container.add(this.__actionButton);
      return container;
    },
    _createBackButton : function(){

      return new qx.ui.mobile.navigationbar.BackButton(this.getBackButtonText());
    },
    _createButton : function(){

      return new qx.ui.mobile.navigationbar.Button(this.getButtonText(), this.getButtonIcon());
    },
    scrollTo : function(x, y, time){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'scrollTo()' was moved to 'qx.ui.mobile.container.Scroll'.");
      };
      this.__scrollContainer.scrollTo(x, y, time);
    },
    scrollToWidget : function(widget, time){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'scrollToWidget()' was moved to 'qx.ui.mobile.container.Scroll'.");
      };
      if(widget){

        this.__scrollContainer.scrollToElement(widget.getId(), time);
      };
    },
    getContent : function(){

      return this.__content;
    },
    _getBackButton : function(){

      return this.__backButton;
    },
    _getButton : function(){

      return this.__actionButton;
    },
    setIsTablet : function(isTablet){

      this._isTablet = isTablet;
    },
    isTablet : function(){

      return this._isTablet;
    },
    _getScrollContainer : function(){

      return this.__scrollContainer;
    },
    addAfterNavigationBar : function(widget){

      if(widget && this.__scrollContainer){

        this.addBefore(widget, this.__scrollContainer);
      };
    },
    _applyBackButtonText : function(value, old){

      if(this.__backButton){

        this.__backButton.setValue(value);
      };
    },
    _applyActionButtonText : function(value, old){

      if(this.__actionButton){

        this.__actionButton.setValue(value);
      };
    },
    _applyActionButtonIcon : function(value, old){

      if(this.__actionButton){

        this.__actionButton.setIcon(value);
      };
    },
    _applyShowBackButton : function(value, old){

      this._showBackButton();
    },
    _applyShowButton : function(value, old){

      this._showButton();
    },
    _applyContentCssClass : function(value, old){

      if(this.__content){

        this.__content.setDefaultCssClass(value);
      };
    },
    _showBackButton : function(){

      if(this.__backButton){

        if(this.getShowBackButton()){

          this.__backButton.show();
        } else {

          this.__backButton.exclude();
        };
      };
    },
    _showButton : function(){

      if(this.__actionButton){

        if(this.getShowButton()){

          this.__actionButton.show();
        } else {

          this.__actionButton.exclude();
        };
      };
    },
    _initialize : function(){

      this.base(arguments);
      this.__scrollContainer = this._createScrollContainer();
      this.__content = this._createContent();
      if(this.__content){

        this.__scrollContainer.add(this.__content, {
          flex : 1
        });
      };
      if(this.__scrollContainer){

        this.add(this.__scrollContainer, {
          flex : 1
        });
      };
    },
    _createScrollContainer : function(){

      return new qx.ui.mobile.container.Scroll();
    },
    _createContent : function(){

      var content = new qx.ui.mobile.container.Composite();
      content.setDefaultCssClass(this.getContentCssClass());
      if(this._wrapContentByGroup == true){

        content.addCssClass("group");
      };
      return content;
    },
    _onBackButtonTap : function(evt){

      this.back();
    },
    _onButtonTap : function(evt){

      this.fireEvent("action");
    }
  },
  destruct : function(){

    this._disposeObjects("__leftContainer", "__rightContainer", "__backButton", "__actionButton", "__title");
    this.__leftContainer = this.__rightContainer = this.__backButton = this.__actionButton = null;
    this.__title = this.__content = this.__scrollContainer = null;
    this._isTablet = null;
  }
});

qx.Class.define("qx.ui.mobile.navigationbar.Title", {
  extend : qx.ui.mobile.basic.Label,
  properties : {
    wrap : {
      refine : true,
      init : false
    },
    defaultCssClass : {
      refine : true,
      init : "title"
    }
  },
  members : {
    _getTagName : function(){

      return "h1";
    }
  }
});

qx.Class.define("qx.ui.mobile.navigationbar.Button", {
  extend : qx.ui.mobile.form.Button,
  properties : {
    defaultCssClass : {
      refine : true,
      init : "navigationbar-button"
    }
  }
});

qx.Class.define("qx.ui.mobile.navigationbar.BackButton", {
  extend : qx.ui.mobile.navigationbar.Button,
  properties : {
    defaultCssClass : {
      refine : true,
      init : "navigationbar-backbutton"
    }
  }
});

qx.Bootstrap.define("qx.module.event.Rotate", {
  statics : {
    TYPES : ["rotate"],
    BIND_METHODS : ["getAngle"],
    getAngle : function(){

      return this._original.angle;
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Rotate.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Rotate[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Rotate.TYPES, statics.normalize);
  }
});

qx.Interface.define("qx.ui.mobile.list.IListDelegate", {
  members : {
    configureItem : function(item, data, row){
    },
    createItemRenderer : function(){
    }
  }
});

qx.Bootstrap.define("qx.module.event.Mouse", {
  statics : {
    TYPES : ["click", "dblclick", "mousedown", "mouseup", "mouseover", "mousemove", "mouseout"],
    BIND_METHODS : ["getButton", "getViewportLeft", "getViewportTop", "getDocumentLeft", "getDocumentTop", "getScreenLeft", "getScreenTop"],
    BUTTONS_DOM2 : {
      '0' : "left",
      '2' : "right",
      '1' : "middle"
    },
    BUTTONS_MSHTML : {
      '1' : "left",
      '2' : "right",
      '4' : "middle"
    },
    getButton : function(){

      switch(this.type){case "contextmenu":
      return "right";case "click":
      if(qxWeb.env.get("browser.name") === "ie" && qxWeb.env.get("browser.documentmode") < 9){

        return "left";
      };default:
      if(this.target !== undefined){

        return qx.module.event.Mouse.BUTTONS_DOM2[this.button] || "none";
      } else {

        return qx.module.event.Mouse.BUTTONS_MSHTML[this.button] || "none";
      };};
    },
    getViewportLeft : function(){

      return this.clientX;
    },
    getViewportTop : function(){

      return this.clientY;
    },
    getDocumentLeft : function(){

      if(this.pageX !== undefined){

        return this.pageX;
      } else {

        var win = qx.dom.Node.getWindow(this.srcElement);
        return this.clientX + qx.bom.Viewport.getScrollLeft(win);
      };
    },
    getDocumentTop : function(){

      if(this.pageY !== undefined){

        return this.pageY;
      } else {

        var win = qx.dom.Node.getWindow(this.srcElement);
        return this.clientY + qx.bom.Viewport.getScrollTop(win);
      };
    },
    getScreenLeft : function(){

      return this.screenX;
    },
    getScreenTop : function(){

      return this.screenY;
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Mouse.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Mouse[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Mouse.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.ui.virtual.cell.Html", {
  extend : qx.ui.virtual.cell.Cell,
  properties : {
    appearance : {
      refine : true,
      init : "cell-html"
    }
  },
  members : {
    getContent : function(value, states){

      return value;
    }
  }
});

qx.Class.define("qx.ui.mobile.layout.Card", {
  extend : qx.ui.mobile.layout.Abstract,
  construct : function(){

    this.base(arguments);
    this.__cardAnimation = new qx.ui.mobile.layout.CardAnimation();
  },
  events : {
    animationStart : "qx.event.type.Data",
    animationEnd : "qx.event.type.Data"
  },
  properties : {
    defaultAnimation : {
      check : "String",
      init : "slide"
    },
    showAnimation : {
      check : "Boolean",
      init : true
    },
    animationDuration : {
      check : "Integer",
      init : 350
    }
  },
  members : {
    __nextWidget : null,
    __currentWidget : null,
    __inAnimation : null,
    __animation : null,
    __reverse : null,
    __cardAnimation : null,
    _getCssClasses : function(){

      return ["layout-card", "vbox"];
    },
    connectToChildWidget : function(widget){

      this.base(arguments);
      if(widget){

        widget.addCssClass("layout-card-item");
        widget.addCssClass("flex1");
        widget.exclude();
      };
    },
    disconnectFromChildWidget : function(widget){

      this.base(arguments);
      widget.removeCssClass("layout-card-item");
    },
    updateLayout : function(widget, action, properties){

      if(action == "visible"){

        this._showWidget(widget, properties);
      };
      this.base(arguments, widget, action, properties);
    },
    setCardAnimation : function(value){

      this.__cardAnimation = value;
    },
    getCardAnimation : function(){

      return this.__cardAnimation;
    },
    _showWidget : function(widget, properties){

      if(this.__nextWidget == widget){

        return;
      };
      if(this.__inAnimation){

        this.__stopAnimation();
      };
      this.__nextWidget = widget;
      if(this.__currentWidget && this.getShowAnimation() && qx.core.Environment.get("css.transform.3d")){

        properties = properties || {
        };
        this.__animation = properties.animation || this.getDefaultAnimation();
        if(properties.action && properties.action === "back"){

          this.__reverse = true;
        } else {

          properties.reverse = properties.reverse === null ? false : properties.reverse;
          this.__reverse = properties.reverse;
        };
        qx.bom.AnimationFrame.request(function(){

          this.__startAnimation(widget);
        }, this);
      } else {

        this._swapWidget();
      };
    },
    _swapWidget : function(){

      if(this.__currentWidget){

        this.__currentWidget.removeCssClass("active");
        this.__currentWidget.exclude();
      };
      this.__currentWidget = this.__nextWidget;
      this.__currentWidget.addCssClass("active");
    },
    _fixWidgetSize : function(widget){

      if(widget){

        var hasResizeMixin = qx.Class.hasMixin(widget.constructor, qx.ui.mobile.core.MResize);
        if(hasResizeMixin){

          widget.fixSize();
        };
      };
    },
    _releaseWidgetSize : function(widget){

      if(widget){

        var hasResizeMixin = qx.Class.hasMixin(widget.constructor, qx.ui.mobile.core.MResize);
        if(hasResizeMixin){

          widget.releaseFixedSize();
        };
      };
    },
    __startAnimation : function(widget){

      if(widget.isDisposed()){

        return;
      };
      this.__inAnimation = true;
      this.fireDataEvent("animationStart", [this.__currentWidget, widget]);
      var fromElement = this.__currentWidget.getContainerElement();
      var toElement = widget.getContainerElement();
      var onAnimationEnd = qx.lang.Function.bind(this._onAnimationEnd, this);
      if(qx.core.Environment.get("browser.name") == "iemobile" || qx.core.Environment.get("browser.name") == "ie"){

        qx.bom.Event.addNativeListener(fromElement, "MSAnimationEnd", onAnimationEnd, false);
        qx.bom.Event.addNativeListener(toElement, "MSAnimationEnd", onAnimationEnd, false);
      } else {

        qx.event.Registration.addListener(fromElement, "animationEnd", this._onAnimationEnd, this);
        qx.event.Registration.addListener(toElement, "animationEnd", this._onAnimationEnd, this);
      };
      var fromCssClasses = this.__getAnimationClasses("out");
      var toCssClasses = this.__getAnimationClasses("in");
      this._widget.addCssClass("animationParent");
      var toElementAnimation = this.__cardAnimation.getAnimation(this.__animation, "in", this.__reverse);
      var fromElementAnimation = this.__cardAnimation.getAnimation(this.__animation, "out", this.__reverse);
      qx.bom.element.Class.addClasses(toElement, toCssClasses);
      qx.bom.element.Class.addClasses(fromElement, fromCssClasses);
      qx.bom.element.Animation.animate(toElement, toElementAnimation);
      qx.bom.element.Animation.animate(fromElement, fromElementAnimation);
    },
    _onAnimationEnd : function(evt){

      this.__stopAnimation();
      this.fireDataEvent("animationEnd", [this.__currentWidget, this.__nextWidget]);
    },
    __stopAnimation : function(){

      if(this.__inAnimation){

        var fromElement = this.__currentWidget.getContainerElement();
        var toElement = this.__nextWidget.getContainerElement();
        if(qx.core.Environment.get("browser.name") == "iemobile" || qx.core.Environment.get("browser.name") == "ie"){

          qx.bom.Event.removeNativeListener(fromElement, "MSAnimationEnd", this._onAnimationEnd, false);
          qx.bom.Event.removeNativeListener(toElement, "MSAnimationEnd", this._onAnimationEnd, false);
        } else {

          qx.event.Registration.removeListener(fromElement, "animationEnd", this._onAnimationEnd, this);
          qx.event.Registration.removeListener(toElement, "animationEnd", this._onAnimationEnd, this);
        };
        qx.bom.element.Class.removeClasses(fromElement, this.__getAnimationClasses("out"));
        qx.bom.element.Class.removeClasses(toElement, this.__getAnimationClasses("in"));
        this._swapWidget();
        this._widget.removeCssClass("animationParent");
        this.__inAnimation = false;
      };
    },
    __getAnimationClasses : function(direction){

      var classes = ["animationChild", this.__animation, direction];
      if(this.__reverse){

        classes.push("reverse");
      };
      return classes;
    }
  },
  destruct : function(){

    this._disposeObjects("__cardAnimation");
  }
});

qx.Class.define("qx.event.handler.Transition", {
  extend : qx.core.Object,
  implement : qx.event.IEventHandler,
  construct : function(manager){

    this.base(arguments);
    this.__registeredEvents = {
    };
    this.__onEventWrapper = qx.lang.Function.listener(this._onNative, this);
  },
  statics : {
    PRIORITY : qx.event.Registration.PRIORITY_NORMAL,
    SUPPORTED_TYPES : {
      transitionEnd : 1,
      animationEnd : 1,
      animationStart : 1,
      animationIteration : 1
    },
    TARGET_CHECK : qx.event.IEventHandler.TARGET_DOMNODE,
    IGNORE_CAN_HANDLE : true,
    TYPE_TO_NATIVE : null,
    NATIVE_TO_TYPE : null
  },
  members : {
    __onEventWrapper : null,
    __registeredEvents : null,
    canHandleEvent : function(target, type){
    },
    registerEvent : qx.core.Environment.select("engine.name", {
      "webkit|gecko|mshtml" : function(target, type, capture){

        var hash = qx.core.ObjectRegistry.toHashCode(target) + type;
        var nativeType = qx.event.handler.Transition.TYPE_TO_NATIVE[type];
        this.__registeredEvents[hash] = {
          target : target,
          type : nativeType
        };
        qx.bom.Event.addNativeListener(target, nativeType, this.__onEventWrapper);
      },
      "default" : function(){
      }
    }),
    unregisterEvent : qx.core.Environment.select("engine.name", {
      "webkit|gecko|mshtml" : function(target, type, capture){

        var events = this.__registeredEvents;
        if(!events){

          return;
        };
        var hash = qx.core.ObjectRegistry.toHashCode(target) + type;
        if(events[hash]){

          delete events[hash];
        };
        qx.bom.Event.removeNativeListener(target, qx.event.handler.Transition.TYPE_TO_NATIVE[type], this.__onEventWrapper);
      },
      "default" : function(){
      }
    }),
    _onNative : qx.event.GlobalError.observeMethod(function(nativeEvent){

      qx.event.Registration.fireEvent(nativeEvent.target, qx.event.handler.Transition.NATIVE_TO_TYPE[nativeEvent.type], qx.event.type.Event);
    })
  },
  destruct : function(){

    var event;
    var events = this.__registeredEvents;
    for(var id in events){

      event = events[id];
      if(event.target){

        qx.bom.Event.removeNativeListener(event.target, event.type, this.__onEventWrapper);
      };
    };
    this.__registeredEvents = this.__onEventWrapper = null;
  },
  defer : function(statics){

    var aniEnv = qx.core.Environment.get("css.animation") || {
    };
    var transEnv = qx.core.Environment.get("css.transition") || {
    };
    var n2t = qx.event.handler.Transition.NATIVE_TO_TYPE = {
    };
    var t2n = qx.event.handler.Transition.TYPE_TO_NATIVE = {
      transitionEnd : transEnv["end-event"] || null,
      animationStart : aniEnv["start-event"] || null,
      animationEnd : aniEnv["end-event"] || null,
      animationIteration : aniEnv["iteration-event"] || null
    };
    for(var type in t2n){

      var nate = t2n[type];
      n2t[nate] = type;
    };
    qx.event.Registration.addHandler(statics);
  }
});

qx.Bootstrap.define("qx.ui.website.Button", {
  extend : qx.ui.website.Widget,
  statics : {
    button : function(label, icon){

      var buttons = new qx.ui.website.Button(this);
      buttons.init();
      if(label != null){

        buttons.setLabel(label);
      };
      if(icon != null){

        buttons.setIcon(icon);
      };
      return buttons;
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  members : {
    init : function(){

      if(!this.base(arguments)){

        return false;
      };
      this._forEachElementWrapped(function(button){

        if(button.getChildren("span") == 0){

          qxWeb.create("<span>").appendTo(button);
        };
        if(button.getChildren("img") == 0){

          qxWeb.create("<img>").appendTo(button).setStyle("display", "none");
        };
      });
      return true;
    },
    setLabel : function(value){

      this.getChildren("span").setHtml(value);
      return this;
    },
    getLabel : function(){

      return this.getChildren("span").getHtml();
    },
    setIcon : function(src){

      var img = this.getChildren("img");
      img.setAttribute("src", src);
      img.setStyle("display", src ? "inline" : "none");
      return this;
    },
    getIcon : function(){

      return this.getChildren("img").getAttribute("src");
    },
    setMenu : function(menu){

      this.on("tap", function(e){

        if(menu.getStyle("display") === "none"){

          menu.placeTo(this, "bottom-left");
          menu.show();
          qxWeb(document).once("tap", function(){

            menu.hide();
          });
        } else {

          menu.hide();
        };
        e.stopPropagation();
      });
      return this;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      button : statics.button
    });
  }
});

qx.Class.define("qx.ui.virtual.cell.Boolean", {
  extend : qx.ui.virtual.cell.AbstractImage,
  construct : function(){

    this.base(arguments);
    this.__aliasManager = qx.util.AliasManager.getInstance();
  },
  properties : {
    appearance : {
      refine : true,
      init : "cell-boolean"
    },
    iconTrue : {
      check : "String",
      themeable : true,
      apply : "_applyIconTrue"
    },
    iconFalse : {
      check : "String",
      themeable : true,
      apply : "_applyIconFalse"
    }
  },
  members : {
    __imageTrue : null,
    __imageFalse : null,
    __aliasManager : null,
    _applyIconTrue : function(value){

      this.__imageTrue = this.__aliasManager.resolve(value);
    },
    _applyIconFalse : function(value){

      this.__imageFalse = this.__aliasManager.resolve(value);
    },
    _identifyImage : function(value){

      return value == true ? this.__imageTrue : this.__imageFalse;
    }
  }
});

qx.Class.define("qx.ui.progressive.headfoot.TableHeading", {
  extend : qx.ui.progressive.headfoot.Abstract,
  construct : function(columnWidths, labelArr){

    this.base(arguments);
    this.__columnWidths = columnWidths;
    var columnData = columnWidths.getData();
    this.__labels = [];
    for(var i = 0;i < columnData.length;i++){

      var label = new qx.ui.basic.Atom(labelArr[i]);
      label.setAppearance("progressive-table-header-cell");
      this.add(label);
      this.__labels[i] = label;
    };
    var spacer = new qx.ui.core.Widget();
    spacer.set({
      height : 16,
      appearance : "progressive-table-header-cell",
      minWidth : 0,
      width : 0
    });
    this.add(spacer, {
      flex : 1
    });
    this.addListener("resize", this._resizeColumns, this);
    this.__layout = new qx.ui.layout.HBox();
    this.__layout.connectToWidget(this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "progressive-table-header"
    }
  },
  members : {
    __columnWidths : null,
    __bCalculateWidths : null,
    __labels : null,
    __layout : null,
    join : function(progressive){

      this.base(arguments, progressive);
    },
    getLayoutChildren : function(){

      if(this.__bCalculateWidths){

        return this.__columnWidths.getData();
      } else {

        return this.base(arguments);
      };
    },
    _resizeColumns : function(e){

      var width = this.getBounds().width - qx.bom.element.Scroll.getScrollbarWidth();
      this.__bCalculateWidths = true;
      var padding = {
        top : this.getPaddingTop(),
        right : this.getPaddingRight(),
        bottom : this.getPaddingBottom(),
        left : this.getPaddingLeft()
      };
      this.__layout.renderLayout(width, 100, padding);
      this.__bCalculateWidths = false;
      var columnData = this.__columnWidths.getData();
      for(var i = 0;i < columnData.length;i++){

        this.__labels[i].setWidth(columnData[i].getComputedWidth());
      };
    }
  },
  destruct : function(){

    this.__columnWidths = this.__labels = null;
    this._disposeObjects("_layout");
  }
});

qx.Mixin.define("qx.ui.core.MNativeOverflow", {
  properties : {
    overflowX : {
      check : ["hidden", "visible", "scroll", "auto"],
      nullable : true,
      apply : "_applyOverflowX"
    },
    overflowY : {
      check : ["hidden", "visible", "scroll", "auto"],
      nullable : true,
      apply : "_applyOverflowY"
    },
    overflow : {
      group : ["overflowX", "overflowY"]
    }
  },
  members : {
    _applyOverflowX : function(value){

      this.getContentElement().setStyle("overflowX", value);
    },
    _applyOverflowY : function(value){

      this.getContentElement().setStyle("overflowY", value);
    }
  }
});

qx.Mixin.define("qx.dev.unit.MMeasure", {
  members : {
    measureRepeated : function(msg, callback, finalize, iterations, displayIterations){

      this.measure(msg, function(){

        var i = iterations;
        while(i--){

          callback(i);
        };
      }, finalize, displayIterations || iterations);
    },
    measureIterations : function(msg, prepare, callback, finalize, time){

      this.measure(msg, function(){

        var i = 0;
        var testTime = 0;
        while(testTime < time){

          if(prepare){

            prepare();
          };
          var startIter = Date.now();
          callback(i);
          testTime += Date.now() - startIter;
          i++;
        };
        return i;
      }, finalize, null, time);
    },
    measure : function(msg, callback, finalize, displayIterations, maxTime){

      var profilingEnabled;
      try{

        profilingEnabled = window.top.qx.core.Init.getApplication().runner.view.getNativeProfiling();
      } catch(ex) {

        profilingEnabled = false;
      };
      var profilingActive = (profilingEnabled && console && console.profile && typeof console.profile == "function" && console.profileEnd && typeof console.profileEnd == "function");
      if(profilingActive){

        console.profile(msg);
      };
      var start = Date.now();
      var iterations = callback();
      var end = Date.now();
      if(profilingActive){

        console.profileEnd(msg);
      };
      var time = end - start;
      var renderStart = Date.now();
      var self = this;
      setTimeout(function(){

        self.resume(function(){

          var renderTime = Date.now() - renderStart;
          self.log(msg, iterations || displayIterations, maxTime || time, renderTime);
          finalize.call(self);
        });
      }, 0);
      this.wait(maxTime ? maxTime + 5000 : 10000);
    },
    log : function(msg, iterations, ownTime, renderTime){

      if(qx.core.Environment.get("qx.debug")){

        this.debug([msg, "Iterations: " + iterations, "Time: " + ownTime + "ms", "Render time: " + renderTime + "ms"].join("; "));
      };
      throw new qx.dev.unit.MeasurementResult(msg, iterations, ownTime, renderTime);
    }
  }
});

qx.Interface.define("qx.data.marshal.IMarshalerDelegate", {
  members : {
    ignore : function(properties, parentProperty, depth){
    },
    getPropertyMapping : function(property, properties){
    },
    getModelClass : function(properties, object, parentProperty, depth){
    },
    getModelSuperClass : function(properties, parentProperty, depth){
    },
    getModelMixins : function(properties, parentProperty, depth){
    },
    getValidationRule : function(properties, propertyName){
    }
  }
});

qx.Interface.define("qx.data.store.IStoreDelegate", {
  extend : qx.data.marshal.IMarshalerDelegate,
  members : {
    manipulateData : function(data){
    },
    configureRequest : function(request){
    }
  }
});

qx.Class.define("qx.ui.embed.Flash", {
  extend : qx.ui.core.Widget,
  construct : function(source, id){

    this.base(arguments);
    if(qx.core.Environment.get("qx.debug")){

      qx.core.Assert.assertString(source, "Invalid parameter 'source'.");
      if(id){

        qx.core.Assert.assertString(id, "Invalid parameter 'id'.");
      };
    };
    this.setSource(source);
    if(id){

      this.setId(id);
    } else {

      this.setId("flash" + this.toHashCode());
    };
    this.initQuality();
    this.initWmode();
    this.initAllowScriptAccess();
    this.initLiveConnect();
    this.addListenerOnce("appear", function(){

      this._checkLoading();
      this.getContentElement().createFlash();
    }, this);
  },
  events : {
    "loading" : "qx.event.type.Event",
    "loaded" : "qx.event.type.Event",
    "timeout" : "qx.event.type.Event"
  },
  properties : {
    source : {
      check : "String",
      apply : "_applySource"
    },
    id : {
      check : "String",
      apply : "_applyId"
    },
    quality : {
      check : ["low", "autolow", "autohigh", "medium", "high", "best"],
      init : "best",
      nullable : true,
      apply : "_applyQuality"
    },
    scale : {
      check : ["showall", "noborder", "exactfit", "noscale"],
      nullable : true,
      apply : "_applyScale"
    },
    wmode : {
      check : ["window", "opaque", "transparent"],
      init : "opaque",
      nullable : true,
      apply : "_applyWmode"
    },
    play : {
      check : "Boolean",
      nullable : true,
      apply : "_applyPlay"
    },
    loop : {
      check : "Boolean",
      nullable : true,
      apply : "_applyLoop"
    },
    mayScript : {
      check : "Boolean",
      nullable : false,
      apply : "_applyMayScript"
    },
    menu : {
      check : "Boolean",
      nullable : true,
      apply : "_applyMenu"
    },
    allowScriptAccess : {
      check : ["sameDomain", "always", "never"],
      init : "sameDomain",
      nullable : true,
      apply : "_applyAllowScriptAccess"
    },
    liveConnect : {
      check : "Boolean",
      init : true,
      nullable : true,
      apply : "_applyLiveConnect"
    },
    variables : {
      init : {
      },
      check : "Map",
      apply : "_applyVariables"
    },
    loadTimeout : {
      check : "Integer",
      init : 10000
    }
  },
  members : {
    __time : null,
    getFlashElement : function(){

      var element = this.getContentElement();
      if(element){

        return element.getFlashElement();
      } else {

        return null;
      };
    },
    isLoaded : function(){

      return this.getPercentLoaded() === 100;
    },
    getPercentLoaded : function(){

      var flashFE = this.getFlashElement();
      if(typeof (flashFE) != "undefined" && flashFE != null){

        try{

          return flashFE.PercentLoaded();
        } catch(err) {

          return 0;
        };
      } else {

        return 0;
      };
    },
    _createContentElement : function(){

      var el = new qx.html.Flash();
      el.setAttribute("$$widget", this.toHashCode());
      return el;
    },
    _checkLoading : function(){

      var source = this.getSource();
      if(source != "" && source != null && source != "undefined"){

        if(!this.isLoaded()){

          if(!this.__time){

            this.__time = new Date().getTime();
          };
          var timeDiff = new Date().getTime() - this.__time;
          if(this.getLoadTimeout() > timeDiff){

            var timer = qx.util.TimerManager.getInstance();
            timer.start(this._checkLoading, 0, this, null, 10);
            this.fireEvent("loading");
          } else {

            if(qx.core.Environment.get("qx.debug")){

              this.debug("Timeout after: " + timeDiff);
            };
            this.fireEvent("timeout");
            this.__time = null;
          };
        } else {

          this.fireEvent("loaded");
          this.__time = null;
        };
      };
    },
    _applySource : function(value, old){

      var source = qx.util.ResourceManager.getInstance().toUri(value);
      this.getContentElement().setSource(source);
      qx.ui.core.queue.Layout.add(this);
    },
    _applyId : function(value, old){

      this.getContentElement().setId(value);
      qx.ui.core.queue.Layout.add(this);
    },
    _applyVariables : function(value, old){

      this.getContentElement().setVariables(value);
      qx.ui.core.queue.Layout.add(this);
    },
    _applyMayScript : function(value, old){

      this.getContentElement().setAttribute("mayscript", value ? "" : false);
      qx.ui.core.queue.Layout.add(this);
    },
    _applyQuality : function(value, old){

      this.__flashParamHelper("quality", value);
    },
    _applyScale : function(value, old){

      this.__flashParamHelper("scale", value);
    },
    _applyWmode : function(value, old){

      this.__flashParamHelper("wmode", value);
    },
    _applyPlay : function(value, old){

      this.__flashParamHelper("play", value);
    },
    _applyLoop : function(value, old){

      this.__flashParamHelper("loop", value);
    },
    _applyMenu : function(value, old){

      this.__flashParamHelper("menu", value);
    },
    _applyAllowScriptAccess : function(value, old){

      this.__flashParamHelper("allowScriptAccess", value);
    },
    _applyLiveConnect : function(value, old){

      this.__flashParamHelper("swLiveConnect", value);
    },
    __flashParamHelper : function(key, value){

      this.getContentElement().setParam(key, value);
      qx.ui.core.queue.Layout.add(this);
    }
  }
});

qx.Class.define("qx.html.Flash", {
  extend : qx.html.Element,
  construct : function(styles, attributes){

    this.base(arguments, "div", styles, attributes);
    this.__params = {
    };
    this.__variables = {
    };
    this.__attributes = {
    };
  },
  members : {
    __params : null,
    __attributes : null,
    __variables : null,
    __flash : null,
    _createDomElement : function(){

      return qx.dom.Element.create("div");
    },
    createFlash : function(){

      this.__flash = qx.bom.Flash.create(this.getDomElement(), this.getAttributes(), this.__variables, this.__params);
    },
    setSource : function(value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertString(value, "Invalid attribute 'value'.");
      };
      if(this.__flash){

        throw new Error("The source cannot be modified after initial creation");
      };
      this.setAttribute("movie", value);
    },
    setId : function(value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertString(value, "Invalid attribute 'value'.");
      };
      if(this.__flash){

        throw new Error("The id cannot be modified after initial creation");
      };
      this.setAttribute("id", value);
    },
    getVariables : function(){

      return this.__variables;
    },
    setVariables : function(value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertMap(value, "Invalid attribute 'value'.");
      };
      if(this.__flash){

        throw new Error("The variables cannot be modified after initial creation");
      };
      this.__variables = value;
    },
    getAttributes : function(){

      return this.__attributes;
    },
    setAttribute : function(key, value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertString(key, "Invalid attribute 'key'.");
        if(arguments.length > 1 && value !== null){

          if(!qx.lang.Type.isBoolean(value) && !qx.lang.Type.isString(value)){

            throw new Error("Invalid attribute 'value' expected String, Boolean or null.");
          };
        };
      };
      if(key == "$$widget" || key.indexOf("$$") === 0){

        this.base(arguments, key, value);
      } else if(this.__flash){

        throw new Error("The attributes cannot be modified after initial creation");
      };
      if(value === null || value === undefined){

        delete this.__attributes[key];
      } else {

        this.__attributes[key] = value;
      };
    },
    getParams : function(){

      return this.__params;
    },
    setParam : function(key, value){

      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertString(key, "Invalid attribute 'key'.");
        if(arguments.length > 1 && value !== null){

          if(!qx.lang.Type.isBoolean(value) && !qx.lang.Type.isString(value)){

            throw new Error("Invalid attribute 'value' expected String, Boolean or null.");
          };
        };
      };
      if(this.__flash){

        throw new Error("The params cannot be modified after initial creation");
      };
      if(value === null || value === undefined){

        delete this.__params[key];
      } else {

        this.__params[key] = value;
      };
    },
    getFlashElement : function(){

      return this.__flash;
    }
  },
  destruct : function(){

    if(this.__flash){

      qx.bom.Flash.destroy(this.__flash);
    };
    this.__params = this.__variables = this.__attributes = null;
  }
});

qx.Class.define("qx.bom.Flash", {
  statics : {
    _flashObjects : {
    },
    create : function(element, attributes, variables, params, win){

      if(!win){

        win = window;
      };
      if(qx.core.Environment.get("qx.debug")){

        qx.core.Assert.assertElement(element, "Invalid parameter 'element'.");
        qx.core.Assert.assertMap(attributes, "Invalid parameter 'attributes'.");
        qx.core.Assert.assertString(attributes.movie, "Invalid attribute 'movie'.");
        qx.core.Assert.assertString(attributes.id, "Invalid attribute 'id'.");
        if(!qx.dom.Element.isInDom(element, win)){

          qx.log.Logger.warn(this, "The parent DOM element isn't in DOM! The External Interface doesn't work in IE!");
        };
      };
      if(!attributes.width){

        attributes.width = "100%";
      };
      if(!attributes.height){

        attributes.height = "100%";
      };
      params = params ? qx.lang.Object.clone(params) : {
      };
      if(!params["movie"]){

        params["movie"] = attributes.movie;
      };
      attributes["data"] = attributes.movie;
      delete attributes.movie;
      if(variables){

        for(var name in variables){

          if(typeof params.flashvars != "undefined"){

            params.flashvars += "&" + name + "=" + variables[name];
          } else {

            params.flashvars = name + "=" + variables[name];
          };
        };
      };
      var flash = this.__createSwf(element, attributes, params, win);
      this._flashObjects[attributes.id] = flash;
      return flash;
    },
    destroy : function(element, win){

      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 11){

        element = this.__getFlashObject(element);
        if(element.readyState == 4){

          this.__destroyObjectInIE(element);
        } else {

          if(!win){

            win = window;
          };
          qx.bom.Event.addNativeListener(win, "load", function(){

            qx.bom.Flash.__destroyObjectInIE(element);
          });
        };
      } else {

        element = this.__getFlashObject(element);
        if(element.parentNode){

          element.parentNode.removeChild(element);
        };
        delete this._flashObjects[element.id];
      };
    },
    __getFlashObject : function(element){

      if(!element){

        throw new Error("DOM element is null or undefined!");
      };
      if(element.tagName.toLowerCase() !== "object"){

        element = element.firstChild;
      };
      if(!element || element.tagName.toLowerCase() !== "object"){

        throw new Error("DOM element has or is not a flash object!");
      };
      return element;
    },
    __destroyObjectInIE : qx.core.Environment.select("engine.name", {
      "mshtml" : qx.event.GlobalError.observeMethod(function(element){

        for(var i in element){

          if(typeof element[i] == "function"){

            element[i] = null;
          };
        };
        if(element.parentNode){

          element.parentNode.removeChild(element);
        };
        delete this._flashObjects[element.id];
      }),
      "default" : null
    }),
    __fixOutOfMemoryError : qx.event.GlobalError.observeMethod(function(){

      for(var key in qx.bom.Flash._flashObjects){

        qx.bom.Flash.destroy(qx.bom.Flash._flashObjects[key]);
      };
      window.__flash_unloadHandler = function(){
      };
      window.__flash_savedUnloadHandler = function(){
      };
      qx.bom.Event.removeNativeListener(window, "beforeunload", qx.bom.Flash.__fixOutOfMemoryError);
    }),
    __createSwf : function(element, attributes, params, win){

      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") < 11){

        params.movie = attributes.data;
        delete attributes.data;
        delete attributes.classid;
        var paramsStr = "";
        for(var name in params){

          paramsStr += '<param name="' + name + '" value="' + params[name] + '" />';
        };
        if(attributes.id){

          element.innerHTML = '<object id="' + attributes.id + '" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" $$widget="' + attributes.$$widget + '">' + paramsStr + '</object>';
          delete attributes.id;
        } else {

          element.innerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" $$widget="' + attributes.$$widget + '">' + paramsStr + '</object>';
        };
        for(var name in attributes){

          if(name != "$$widget"){

            element.firstChild.setAttribute(name, attributes[name]);
          };
        };
        return element.firstChild;
      };
      delete attributes.classid;
      delete params.movie;
      var swf = qx.dom.Element.create("object", attributes, win);
      swf.setAttribute("type", "application/x-shockwave-flash");
      var param;
      for(var name in params){

        param = qx.dom.Element.create("param", {
        }, win);
        param.setAttribute("name", name);
        param.setAttribute("value", params[name]);
        swf.appendChild(param);
      };
      element.appendChild(swf);
      return swf;
    }
  },
  defer : function(statics){

    if(qx.core.Environment.get("engine.name") == "mshtml"){

      qx.bom.Event.addNativeListener(window, "beforeunload", statics.__fixOutOfMemoryError);
    };
  }
});

qx.Class.define("qx.util.TimerManager", {
  extend : qx.core.Object,
  type : "singleton",
  statics : {
    __timerQueue : [],
    __timerData : {
    },
    __timerId : 0
  },
  members : {
    __timerListenerActive : false,
    start : function(callback, recurTime, context, userData, initialTime){

      if(!initialTime){

        initialTime = recurTime || 0;
      };
      var expireAt = (new Date()).getTime() + initialTime;
      this.self(arguments).__timerData[++this.self(arguments).__timerId] = {
        callback : callback,
        userData : userData || null,
        expireAt : expireAt,
        recurTime : recurTime,
        context : context || this
      };
      this.__insertNewTimer(expireAt, this.self(arguments).__timerId);
      return this.self(arguments).__timerId;
    },
    stop : function(timerId){

      var timerQueue = this.self(arguments).__timerQueue;
      var length = timerQueue.length;
      for(var i = 0;i < length;i++){

        if(timerQueue[i] == timerId){

          timerQueue.splice(i, 1);
          break;
        };
      };
      delete this.self(arguments).__timerData[timerId];
      if(timerQueue.length == 0 && this.__timerListenerActive){

        qx.event.Idle.getInstance().removeListener("interval", this.__processQueue, this);
        this.__timerListenerActive = false;
      };
    },
    __insertNewTimer : function(expireAt, timerId){

      var timerQueue = this.self(arguments).__timerQueue;
      var timerData = this.self(arguments).__timerData;
      var length = timerQueue.length;
      for(var i = 0;i < length;i++){

        if(timerData[timerQueue[i]].expireAt > expireAt){

          timerQueue.splice(i, 0, timerId);
          break;
        };
      };
      if(timerQueue.length == length){

        timerQueue.push(timerId);
      };
      if(!this.__timerListenerActive){

        qx.event.Idle.getInstance().addListener("interval", this.__processQueue, this);
        this.__timerListenerActive = true;
      };
    },
    __processQueue : function(){

      var timeNow = (new Date()).getTime();
      var timerQueue = this.self(arguments).__timerQueue;
      var timerData = this.self(arguments).__timerData;
      while(timerQueue.length > 0 && timerData[timerQueue[0]].expireAt <= timeNow){

        var expiredTimerId = timerQueue.shift();
        var expiredTimerData = timerData[expiredTimerId];
        expiredTimerData.callback.call(expiredTimerData.context, expiredTimerData.userData, expiredTimerId);
        if(expiredTimerData.recurTime && timerData[expiredTimerId]){

          var now = (new Date()).getTime();
          expiredTimerData.expireAt = now + expiredTimerData.recurTime;
          this.__insertNewTimer(expiredTimerData.expireAt, expiredTimerId);
        } else {

          delete timerData[expiredTimerId];
        };
      };
      if(timerQueue.length == 0 && this.__timerListenerActive){

        qx.event.Idle.getInstance().removeListener("interval", this.__processQueue, this);
        this.__timerListenerActive = false;
      };
    }
  }
});

qx.Class.define("qx.ui.mobile.tabbar.TabBar", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(){

    this.base(arguments);
    this._setLayout(new qx.ui.mobile.layout.HBox());
    this.addListener("tap", this._onTap, this);
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "tabBar"
    },
    selection : {
      check : "qx.ui.mobile.tabbar.TabButton",
      nullable : true,
      init : null,
      apply : "_applySelection",
      event : "changeSelection"
    }
  },
  members : {
    _onTap : function(evt){

      var target = evt.getTarget();
      while(!(target instanceof qx.ui.mobile.tabbar.TabButton)){

        if(target.getLayoutParent){

          var layoutParent = target.getLayoutParent();
          if(layoutParent == null || layoutParent instanceof qx.ui.mobile.tabbar.TabBar){

            target = null;
            break;
          };
          target = layoutParent;
        } else {

          target = null;
          break;
        };
      };
      if(target !== null){

        this.setSelection(target);
      };
    },
    _applySelection : function(value, old){

      if(old){

        old.removeCssClass("selected");
        if(old.getView()){

          old.getView().exclude();
        };
      };
      if(value){

        value.addCssClass("selected");
        if(value.getView()){

          value.getView().show();
        };
      };
    },
    add : function(button){

      this._add(button, {
        flex : 1
      });
      if(!this.getSelection()){

        this.setSelection(button);
      };
      button.addListener("changeView", this._onChangeView, this);
    },
    _onChangeView : function(evt){

      if(this.getSelection() == evt.getTarget()){

        evt.getData().show();
      };
    },
    remove : function(button){

      this._remove(button);
      if(this.getSelection() == button){

        this.setSelection(null);
      };
      button.removeListener("changeView", this._onChangeView, this);
    }
  },
  destruct : function(){

    this.removeListener("tap", this._onTap, this);
  }
});

qx.Class.define("qx.ui.mobile.tabbar.TabButton", {
  extend : qx.ui.mobile.form.Button,
  properties : {
    defaultCssClass : {
      refine : true,
      init : "tabButton"
    },
    view : {
      check : "qx.ui.mobile.core.Widget",
      nullable : false,
      init : null,
      apply : "_applyView",
      event : "changeView"
    }
  },
  members : {
    _applyView : function(value, old){

      value.exclude();
    }
  }
});

qx.Class.define("qx.ui.mobile.navigationbar.NavigationBar", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(layout){

    this.base(arguments, layout);
    if(!layout){

      this.setLayout(new qx.ui.mobile.layout.HBox().set({
        alignY : "middle"
      }));
    };
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "navigationbar"
    }
  }
});

qx.Mixin.define("qx.dev.unit.MMock", {
  construct : function(){

    var sinon = this.__getSinon();
    this.__exposeAssertions();
    this.__sandbox = sinon.sandbox;
  },
  members : {
    __sandbox : null,
    __fakeXhr : null,
    __exposeAssertions : function(){

      var temp = {
      };
      sinon.assert.expose(temp, {
        includeFail : false
      });
      for(var method in temp){

        if(!this[method]){

          this[method] = temp[method];
        };
      };
    },
    __getSinon : function(){

      return qx.dev.unit.Sinon.getSinon();
    },
    spy : function(function_or_object, method){

      return this.__sandbox.spy.apply(this.__sandbox, arguments);
    },
    stub : function(object, method){

      return this.__sandbox.stub.apply(this.__sandbox, arguments);
    },
    mock : function(object){

      var sinon = this.__getSinon();
      return sinon.mock.apply(sinon, arguments);
    },
    useFakeXMLHttpRequest : function(){

      return this.__fakeXhr = this.__sandbox.useFakeXMLHttpRequest();
    },
    getRequests : function(){

      return this.__fakeXhr.requests;
    },
    useFakeServer : function(){

      return this.__fakeXhr = this.__sandbox.useFakeServer();
    },
    getServer : function(){

      return this.__sandbox.server;
    },
    getSandbox : function(){

      return this.__sandbox;
    },
    deepStub : function(object){

      this.__getOwnProperties(object).forEach(function(prop){

        this.__stubProperty(object, prop);
      }, this);
      return object;
    },
    shallowStub : function(object, targetClazz, propsToExclude){

      this.__getOwnProperties(object, targetClazz).forEach(function(prop){

        if(propsToExclude && propsToExclude.indexOf(prop) >= 0){

          return;
        };
        this.__stubProperty(object, prop);
      }, this);
      return object;
    },
    injectStub : function(object, property, customStub){

      var stub = customStub || this.deepStub(new object[property]);
      this.stub(object, property).returns(stub);
      return stub;
    },
    revealMock : function(object, property, customObject){

      var source = customObject || this.__deepClone(new object[property]);
      this.stub(object, property).returns(source);
      return this.mock(source);
    },
    __deepClone : function(obj){

      var clone = {
      };
      for(var prop in obj){

        clone[prop] = obj[prop];
      };
      return clone;
    },
    __getOwnProperties : function(object, targetClazz){

      var clazz = object.constructor,clazzes = [],properties = [];
      if(targetClazz){

        while(clazz.superclass){

          clazzes.push(clazz);
          clazz = clazz.superclass;
          if(clazz == targetClazz.superclass){

            break;
          };
        };
      };
      for(var prop in object){

        if(clazzes.length){

          var found = clazzes.some(function(clazz){

            return clazz.prototype.hasOwnProperty(prop);
          });
          if(!found){

            continue;
          };
        };
        properties.push(prop);
      };
      return properties;
    },
    __stubProperty : function(object, prop){

      if(prop === "constructor" || typeof object[prop] !== "function"){

        return;
      };
      this.stub(object, prop);
    }
  }
});

qx.Class.define("qx.ui.table.model.Remote", {
  extend : qx.ui.table.model.Abstract,
  construct : function(){

    this.base(arguments);
    this._sortColumnIndex = -1;
    this._sortAscending = true;
    this._rowCount = -1;
    this._lruCounter = 0;
    this._firstLoadingBlock = -1;
    this._firstRowToLoad = -1;
    this._lastRowToLoad = -1;
    this._ignoreCurrentRequest = false;
    this._rowBlockCache = {
    };
    this._rowBlockCount = 0;
    this._sortableColArr = null;
    this._editableColArr = null;
  },
  properties : {
    blockSize : {
      check : "Integer",
      init : 50
    },
    maxCachedBlockCount : {
      check : "Integer",
      init : 15
    },
    clearCacheOnRemove : {
      check : "Boolean",
      init : false
    },
    blockConcurrentLoadRowCount : {
      check : "Boolean",
      init : true
    }
  },
  members : {
    _rowCount : null,
    _ignoreCurrentRequest : null,
    _lruCounter : null,
    _firstLoadingBlock : null,
    _firstRowToLoad : null,
    _lastRowToLoad : null,
    _rowBlockCache : null,
    _rowBlockCount : null,
    _sortColumnIndex : null,
    _sortAscending : null,
    _editableColArr : null,
    _sortableColArr : null,
    _loadRowCountRequestRunning : false,
    _clearCache : false,
    _getIgnoreCurrentRequest : function(){

      return this._ignoreCurrentRequest;
    },
    getRowCount : function(){

      if(this._rowCount == -1){

        if(!this._loadRowCountRequestRunning || !this.getBlockConcurrentLoadRowCount()){

          this._loadRowCountRequestRunning = true;
          this._loadRowCount();
        };
        return (this._rowCount == -1) ? 0 : this._rowCount;
      } else {

        return this._rowCount;
      };
    },
    _loadRowCount : function(){

      throw new Error("_loadRowCount is abstract");
    },
    _onRowCountLoaded : function(rowCount){

      if(this.getBlockConcurrentLoadRowCount()){

        this._loadRowCountRequestRunning = false;
      };
      if(rowCount == null || rowCount < 0){

        rowCount = 0;
      };
      this._rowCount = Number(rowCount);
      var data = {
        firstRow : 0,
        lastRow : rowCount - 1,
        firstColumn : 0,
        lastColumn : this.getColumnCount() - 1
      };
      this.fireDataEvent("dataChanged", data);
    },
    reloadData : function(){

      if(this._firstLoadingBlock != -1){

        var cancelingSucceed = this._cancelCurrentRequest();
        if(cancelingSucceed){

          this._firstLoadingBlock = -1;
          this._ignoreCurrentRequest = false;
        } else {

          this._ignoreCurrentRequest = true;
        };
      };
      this._clearCache = true;
      this._firstRowToLoad = -1;
      this._lastRowToLoad = -1;
      this._loadRowCountRequestRunning = true;
      this._loadRowCount();
    },
    clearCache : function(){

      this._rowBlockCache = {
      };
      this._rowBlockCount = 0;
    },
    getCacheContent : function(){

      return {
        sortColumnIndex : this._sortColumnIndex,
        sortAscending : this._sortAscending,
        rowCount : this._rowCount,
        lruCounter : this._lruCounter,
        rowBlockCache : this._rowBlockCache,
        rowBlockCount : this._rowBlockCount
      };
    },
    restoreCacheContent : function(cacheContent){

      if(this._firstLoadingBlock != -1){

        var cancelingSucceed = this._cancelCurrentRequest();
        if(cancelingSucceed){

          this._firstLoadingBlock = -1;
          this._ignoreCurrentRequest = false;
        } else {

          this._ignoreCurrentRequest = true;
        };
      };
      this._sortColumnIndex = cacheContent.sortColumnIndex;
      this._sortAscending = cacheContent.sortAscending;
      this._rowCount = cacheContent.rowCount;
      this._lruCounter = cacheContent.lruCounter;
      this._rowBlockCache = cacheContent.rowBlockCache;
      this._rowBlockCount = cacheContent.rowBlockCount;
      var data = {
        firstRow : 0,
        lastRow : this._rowCount - 1,
        firstColumn : 0,
        lastColumn : this.getColumnCount() - 1
      };
      this.fireDataEvent("dataChanged", data);
    },
    _cancelCurrentRequest : function(){

      return false;
    },
    iterateCachedRows : function(iterator, object){

      var blockSize = this.getBlockSize();
      var blockCount = Math.ceil(this.getRowCount() / blockSize);
      for(var block = 0;block <= blockCount;block++){

        var blockData = this._rowBlockCache[block];
        if(blockData != null){

          var rowOffset = block * blockSize;
          var rowDataArr = blockData.rowDataArr;
          for(var relRow = 0;relRow < rowDataArr.length;relRow++){

            var rowData = rowDataArr[relRow];
            var newRowData = iterator.call(object, rowOffset + relRow, rowData);
            if(newRowData != null){

              rowDataArr[relRow] = newRowData;
            };
          };
        };
      };
    },
    prefetchRows : function(firstRowIndex, lastRowIndex){

      if(this._firstLoadingBlock == -1){

        var blockSize = this.getBlockSize();
        var totalBlockCount = Math.ceil(this._rowCount / blockSize);
        var firstBlock = parseInt(firstRowIndex / blockSize, 10) - 1;
        if(firstBlock < 0){

          firstBlock = 0;
        };
        var lastBlock = parseInt(lastRowIndex / blockSize, 10) + 1;
        if(lastBlock >= totalBlockCount){

          lastBlock = totalBlockCount - 1;
        };
        var firstBlockToLoad = -1;
        var lastBlockToLoad = -1;
        for(var block = firstBlock;block <= lastBlock;block++){

          if((this._clearCache && !this._loadRowCountRequestRunning) || this._rowBlockCache[block] == null || this._rowBlockCache[block].isDirty){

            if(firstBlockToLoad == -1){

              firstBlockToLoad = block;
            };
            lastBlockToLoad = block;
          };
        };
        if(firstBlockToLoad != -1){

          this._firstRowToLoad = -1;
          this._lastRowToLoad = -1;
          this._firstLoadingBlock = firstBlockToLoad;
          this._loadRowData(firstBlockToLoad * blockSize, (lastBlockToLoad + 1) * blockSize - 1);
        };
      } else {

        this._firstRowToLoad = firstRowIndex;
        this._lastRowToLoad = lastRowIndex;
      };
    },
    _loadRowData : function(firstRow, lastRow){

      throw new Error("_loadRowData is abstract");
    },
    _onRowDataLoaded : function(rowDataArr){

      if(this._clearCache){

        this.clearCache();
        this._clearCache = false;
      };
      if(rowDataArr != null && !this._ignoreCurrentRequest){

        var blockSize = this.getBlockSize();
        var blockCount = Math.ceil(rowDataArr.length / blockSize);
        if(blockCount == 1){

          this._setRowBlockData(this._firstLoadingBlock, rowDataArr);
        } else {

          for(var i = 0;i < blockCount;i++){

            var rowOffset = i * blockSize;
            var blockRowData = [];
            var mailCount = Math.min(blockSize, rowDataArr.length - rowOffset);
            for(var row = 0;row < mailCount;row++){

              blockRowData.push(rowDataArr[rowOffset + row]);
            };
            this._setRowBlockData(this._firstLoadingBlock + i, blockRowData);
          };
        };
        var data = {
          firstRow : this._firstLoadingBlock * blockSize,
          lastRow : (this._firstLoadingBlock + blockCount + 1) * blockSize - 1,
          firstColumn : 0,
          lastColumn : this.getColumnCount() - 1
        };
        this.fireDataEvent("dataChanged", data);
      };
      this._firstLoadingBlock = -1;
      this._ignoreCurrentRequest = false;
      if(this._firstRowToLoad != -1){

        this.prefetchRows(this._firstRowToLoad, this._lastRowToLoad);
      };
    },
    _setRowBlockData : function(block, rowDataArr){

      if(this._rowBlockCache[block] == null){

        this._rowBlockCount++;
        while(this._rowBlockCount > this.getMaxCachedBlockCount()){

          var lruBlock;
          var minLru = this._lruCounter;
          for(var currBlock in this._rowBlockCache){

            var currLru = this._rowBlockCache[currBlock].lru;
            if(currLru < minLru && currBlock > 1){

              minLru = currLru;
              lruBlock = currBlock;
            };
          };
          delete this._rowBlockCache[lruBlock];
          this._rowBlockCount--;
        };
      };
      this._rowBlockCache[block] = {
        lru : ++this._lruCounter,
        rowDataArr : rowDataArr
      };
    },
    removeRow : function(rowIndex){

      if(this.getClearCacheOnRemove()){

        this.clearCache();
        var data = {
          firstRow : 0,
          lastRow : this.getRowCount() - 1,
          firstColumn : 0,
          lastColumn : this.getColumnCount() - 1
        };
        this.fireDataEvent("dataChanged", data);
      } else {

        var blockSize = this.getBlockSize();
        var blockCount = Math.ceil(this.getRowCount() / blockSize);
        var startBlock = parseInt(rowIndex / blockSize, 10);
        for(var block = startBlock;block <= blockCount;block++){

          var blockData = this._rowBlockCache[block];
          if(blockData != null){

            var removeIndex = 0;
            if(block == startBlock){

              removeIndex = rowIndex - block * blockSize;
            };
            blockData.rowDataArr.splice(removeIndex, 1);
            if(block == blockCount - 1){

              if(blockData.rowDataArr.length == 0){

                delete this._rowBlockCache[block];
              };
            } else {

              var nextBlockData = this._rowBlockCache[block + 1];
              if(nextBlockData != null){

                blockData.rowDataArr.push(nextBlockData.rowDataArr[0]);
              } else {

                blockData.isDirty = true;
              };
            };
          };
        };
        if(this._rowCount != -1){

          this._rowCount--;
        };
        if(this.hasListener("dataChanged")){

          var data = {
            firstRow : rowIndex,
            lastRow : this.getRowCount() - 1,
            firstColumn : 0,
            lastColumn : this.getColumnCount() - 1
          };
          this.fireDataEvent("dataChanged", data);
        };
      };
    },
    getRowData : function(rowIndex){

      var blockSize = this.getBlockSize();
      var block = parseInt(rowIndex / blockSize, 10);
      var blockData = this._rowBlockCache[block];
      if(blockData == null){

        return null;
      } else {

        var rowData = blockData.rowDataArr[rowIndex - (block * blockSize)];
        if(blockData.lru != this._lruCounter){

          blockData.lru = ++this._lruCounter;
        };
        return rowData;
      };
    },
    getValue : function(columnIndex, rowIndex){

      var rowData = this.getRowData(rowIndex);
      if(rowData == null){

        return null;
      } else {

        var columnId = this.getColumnId(columnIndex);
        return rowData[columnId];
      };
    },
    setValue : function(columnIndex, rowIndex, value){

      var rowData = this.getRowData(rowIndex);
      if(rowData == null){

        return;
      } else {

        var columnId = this.getColumnId(columnIndex);
        rowData[columnId] = value;
        if(this.hasListener("dataChanged")){

          var data = {
            firstRow : rowIndex,
            lastRow : rowIndex,
            firstColumn : columnIndex,
            lastColumn : columnIndex
          };
          this.fireDataEvent("dataChanged", data);
        };
      };
    },
    setEditable : function(editable){

      this._editableColArr = [];
      for(var col = 0;col < this.getColumnCount();col++){

        this._editableColArr[col] = editable;
      };
      this.fireEvent("metaDataChanged");
    },
    setColumnEditable : function(columnIndex, editable){

      if(editable != this.isColumnEditable(columnIndex)){

        if(this._editableColArr == null){

          this._editableColArr = [];
        };
        this._editableColArr[columnIndex] = editable;
        this.fireEvent("metaDataChanged");
      };
    },
    isColumnEditable : function(columnIndex){

      return (this._editableColArr ? (this._editableColArr[columnIndex] == true) : false);
    },
    setColumnSortable : function(columnIndex, sortable){

      if(sortable != this.isColumnSortable(columnIndex)){

        if(this._sortableColArr == null){

          this._sortableColArr = [];
        };
        this._sortableColArr[columnIndex] = sortable;
        this.fireEvent("metaDataChanged");
      };
    },
    isColumnSortable : function(columnIndex){

      return (this._sortableColArr ? (this._sortableColArr[columnIndex] !== false) : true);
    },
    sortByColumn : function(columnIndex, ascending){

      if(this._sortColumnIndex != columnIndex || this._sortAscending != ascending){

        this._sortColumnIndex = columnIndex;
        this._sortAscending = ascending;
        this.clearCache();
        this.fireEvent("metaDataChanged");
      };
    },
    getSortColumnIndex : function(){

      return this._sortColumnIndex;
    },
    isSortAscending : function(){

      return this._sortAscending;
    },
    setSortColumnIndexWithoutSortingData : function(sortColumnIndex){

      this._sortColumnIndex = sortColumnIndex;
    },
    setSortAscendingWithoutSortingData : function(sortAscending){

      this._sortAscending = sortAscending;
    }
  },
  destruct : function(){

    this._sortableColArr = this._editableColArr = this._rowBlockCache = null;
  }
});

qx.Class.define("qx.ui.indicator.ProgressBar", {
  extend : qx.ui.container.Composite,
  construct : function(value, maximum){

    this.base(arguments);
    this._createChildControl("progress");
    this.setLayout(new qx.ui.layout.HBox());
    if(maximum != null){

      this.setMaximum(maximum);
    };
    if(value != null){

      this.setValue(value);
    };
  },
  properties : {
    appearance : {
      refine : true,
      init : "progressbar"
    }
  },
  events : {
    complete : "qx.event.type.Event",
    change : "qx.event.type.Data"
  },
  members : {
    __value : 0,
    __maximum : 100,
    getValue : function(){

      return this.__value;
    },
    setValue : function(value){

      var max = this.getMaximum();
      if(!qx.lang.Type.isNumber(value) || !isFinite(value)){

        return null;
      };
      if(value < 0){

        value = 0;
      };
      if(value > max){

        value = max;
      };
      this.__value = value;
      this._changeProgress(value / max);
      return value;
    },
    getMaximum : function(){

      return this.__maximum;
    },
    setMaximum : function(value){

      var max = value;
      var val = this.getValue();
      if(!qx.lang.Type.isNumber(max) || !isFinite(max) || max <= 0){

        return null;
      };
      if(max < val){

        max = val;
      };
      this.__maximum = max;
      this._changeProgress(val / max);
      return max;
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "progress":
      control = new qx.ui.container.Composite(new qx.ui.layout.Canvas());
      this._add(control, {
        width : "0%"
      });
      break;};
      return control || this.base(arguments, id);
    },
    _changeProgress : function(value){

      var bar = this.getChildControl("progress");
      var to = Math.floor(value * 100);
      var from = parseInt(bar.getLayoutProperties().width, 10);
      bar.setLayoutProperties({
        width : to + "%"
      });
      if(to != from){

        this.fireDataEvent("change", to, from);
      };
      if(to === 100){

        this.fireEvent("complete");
      };
    }
  }
});

qx.Bootstrap.define("qx.module.event.Track", {
  statics : {
    TYPES : ["track"],
    BIND_METHODS : ["getDelta"],
    getDelta : function(){

      return this._original.delta;
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Track.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Track[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Track.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.locale.String", {
  statics : {
    getQuotationStart : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_quotationStart", [], locale);
    },
    getQuotationEnd : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_quotationEnd", [], locale);
    },
    getAlternateQuotationStart : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_alternateQuotationStart", [], locale);
    },
    getAlternateQuotationEnd : function(locale){

      return qx.locale.Manager.getInstance().localize("cldr_alternateQuotationEnd", [], locale);
    }
  }
});

qx.Class.define("qx.ui.embed.Html", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MNativeOverflow],
  construct : function(html){

    this.base(arguments);
    if(html != null){

      this.setHtml(html);
    };
  },
  properties : {
    html : {
      check : "String",
      apply : "_applyHtml",
      event : "changeHtml",
      nullable : true
    },
    cssClass : {
      check : "String",
      init : "",
      apply : "_applyCssClass"
    },
    selectable : {
      refine : true,
      init : true
    },
    focusable : {
      refine : true,
      init : true
    }
  },
  members : {
    getFocusElement : function(){

      return this.getContentElement();
    },
    _applyHtml : function(value, old){

      var elem = this.getContentElement();
      if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") == 9){

        elem.setStyle("position", "relative");
      };
      elem.setAttribute("html", value || "");
    },
    _applyCssClass : function(value, old){

      this.getContentElement().removeClass(old);
      this.getContentElement().addClass(value);
    },
    _applySelectable : function(value){

      this.base(arguments, value);
      if((qx.core.Environment.get("engine.name") == "webkit")){

        this.getContentElement().setStyle("userSelect", value ? "text" : "none");
      };
    },
    _applyFont : function(value, old){

      var styles = value ? qx.theme.manager.Font.getInstance().resolve(value).getStyles() : qx.bom.Font.getDefaultStyles();
      if(this.getTextColor() != null){

        delete styles["color"];
      };
      this.getContentElement().setStyles(styles);
    },
    _applyTextColor : function(value, old){

      if(value){

        this.getContentElement().setStyle("color", qx.theme.manager.Color.getInstance().resolve(value));
      } else {

        this.getContentElement().removeStyle("color");
      };
    }
  }
});

qx.Bootstrap.define("qx.module.Storage", {
  statics : {
    setLocalItem : function(key, value){

      qx.bom.Storage.getLocal().setItem(key, value);
    },
    getLocalItem : function(key){

      return qx.bom.Storage.getLocal().getItem(key);
    },
    removeLocalItem : function(key){

      qx.bom.Storage.getLocal().removeItem(key);
    },
    getLocalLength : function(){

      return qx.bom.Storage.getLocal().getLength();
    },
    getLocalKey : function(index){

      return qx.bom.Storage.getLocal().getKey(index);
    },
    clearLocal : function(){

      qx.bom.Storage.getLocal().clear();
    },
    forEachLocal : function(callback, scope){

      qx.bom.Storage.getLocal().forEach(callback, scope);
    },
    setSessionItem : function(key, value){

      qx.bom.Storage.getSession().setItem(key, value);
    },
    getSessionItem : function(key){

      return qx.bom.Storage.getSession().getItem(key);
    },
    removeSessionItem : function(key){

      qx.bom.Storage.getSession().removeItem(key);
    },
    getSessionLength : function(){

      return qx.bom.Storage.getSession().getLength();
    },
    getSessionKey : function(index){

      return qx.bom.Storage.getSession().getKey(index);
    },
    clearSession : function(){

      qx.bom.Storage.getSession().clear();
    },
    forEachSession : function(callback, scope){

      qx.bom.Storage.getSession().forEach(callback, scope);
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "localStorage" : {
        setItem : statics.setLocalItem,
        getItem : statics.getLocalItem,
        removeItem : statics.removeLocalItem,
        getLength : statics.getLocalLength,
        getKey : statics.getLocalKey,
        clear : statics.clearLocal,
        forEach : statics.forEachLocal
      },
      "sessionStorage" : {
        setItem : statics.setSessionItem,
        getItem : statics.getSessionItem,
        removeItem : statics.removeSessionItem,
        getLength : statics.getSessionLength,
        getKey : statics.getSessionKey,
        clear : statics.clearSession,
        forEach : statics.forEachSession
      }
    });
  }
});

qx.Class.define("qx.ui.layout.Flow", {
  extend : qx.ui.layout.Abstract,
  construct : function(spacingX, spacingY, alignX){

    this.base(arguments);
    if(spacingX){

      this.setSpacingX(spacingX);
    };
    if(spacingY){

      this.setSpacingY(spacingY);
    };
    if(alignX){

      this.setAlignX(alignX);
    };
  },
  properties : {
    alignX : {
      check : ["left", "center", "right"],
      init : "left",
      apply : "_applyLayoutChange"
    },
    alignY : {
      check : ["top", "middle", "bottom"],
      init : "top",
      apply : "_applyLayoutChange"
    },
    spacingX : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    spacingY : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    reversed : {
      check : "Boolean",
      init : false,
      apply : "_applyLayoutChange"
    }
  },
  members : {
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        var validProperties = ["lineBreak", "stretch"];
        this.assertInArray(name, validProperties, "The property '" + name + "' is not supported by the flow layout!");
      },
      "false" : null
    }),
    connectToWidget : function(widget){

      this.base(arguments, widget);
      if(widget){

        widget.setAllowShrinkY(false);
      };
    },
    renderLayout : function(availWidth, availHeight, padding){

      var children = this._getLayoutChildren();
      if(this.getReversed()){

        children = children.concat().reverse();
      };
      var lineCalculator = new qx.ui.layout.LineSizeIterator(children, this.getSpacingX());
      var lineTop = padding.top;
      while(lineCalculator.hasMoreLines()){

        var line = lineCalculator.computeNextLine(availWidth);
        this.__renderLine(line, lineTop, availWidth, padding);
        lineTop += line.height + this.getSpacingY();
      };
    },
    __renderLine : function(line, lineTop, availWidth, padding){

      var util = qx.ui.layout.Util;
      var left = padding.left;
      if(this.getAlignX() != "left"){

        left = padding.left + availWidth - line.width;
        if(this.getAlignX() == "center"){

          left = padding.left + Math.round((availWidth - line.width) / 2);
        };
      };
      for(var i = 0;i < line.children.length;i++){

        var child = line.children[i];
        var size = child.getSizeHint();
        var marginTop = child.getMarginTop();
        var marginBottom = child.getMarginBottom();
        var top = util.computeVerticalAlignOffset(child.getAlignY() || this.getAlignY(), marginTop + size.height + marginBottom, line.height, marginTop, marginBottom);
        var layoutProps = child.getLayoutProperties();
        if(layoutProps.stretch && layoutProps.stretch){

          size.width += availWidth - line.width;
        };
        child.renderLayout(left + line.gapsBefore[i], lineTop + top, size.width, size.height);
        left += line.gapsBefore[i] + size.width;
      };
    },
    _computeSizeHint : function(){

      return this.__computeSize(Infinity);
    },
    hasHeightForWidth : function(){

      return true;
    },
    getHeightForWidth : function(width){

      return this.__computeSize(width).height;
    },
    getLastLineChildren : function(width){

      var lineCalculator = new qx.ui.layout.LineSizeIterator(this._getLayoutChildren(), this.getSpacingX());
      var lineData = [];
      while(lineCalculator.hasMoreLines()){

        lineData = lineCalculator.computeNextLine(width).children;
      };
      return lineData;
    },
    __computeSize : function(availWidth){

      var lineCalculator = new qx.ui.layout.LineSizeIterator(this._getLayoutChildren(), this.getSpacingX());
      var height = 0;
      var width = 0;
      var lineCount = 0;
      while(lineCalculator.hasMoreLines()){

        var line = lineCalculator.computeNextLine(availWidth);
        lineCount += 1;
        width = Math.max(width, line.width);
        height += line.height;
      };
      return {
        width : width,
        height : height + this.getSpacingY() * (lineCount - 1)
      };
    }
  }
});

qx.Class.define("qx.data.controller.Form", {
  extend : qx.core.Object,
  construct : function(model, target, selfUpdate){

    this.base(arguments);
    this._selfUpdate = !!selfUpdate;
    this.__bindingOptions = {
    };
    if(model != null){

      this.setModel(model);
    };
    if(target != null){

      this.setTarget(target);
    };
  },
  properties : {
    model : {
      check : "qx.core.Object",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      dereference : true
    },
    target : {
      check : "qx.ui.form.Form",
      apply : "_applyTarget",
      event : "changeTarget",
      nullable : true,
      init : null,
      dereference : true
    }
  },
  members : {
    __objectController : null,
    __bindingOptions : null,
    addBindingOptions : function(name, model2target, target2model){

      this.__bindingOptions[name] = [model2target, target2model];
      if(this.getModel() == null || this.getTarget() == null){

        return;
      };
      var item = this.getTarget().getItems()[name];
      var targetProperty = this.__isModelSelectable(item) ? "modelSelection[0]" : "value";
      this.__objectController.removeTarget(item, targetProperty, name);
      this.__objectController.addTarget(item, targetProperty, name, !this._selfUpdate, model2target, target2model);
    },
    createModel : function(includeBubbleEvents){

      var target = this.getTarget();
      if(target == null){

        throw new Error("No target is set.");
      };
      var items = target.getItems();
      var data = {
      };
      for(var name in items){

        var names = name.split(".");
        var currentData = data;
        for(var i = 0;i < names.length;i++){

          if(i + 1 == names.length){

            var clazz = items[name].constructor;
            var itemValue = null;
            if(qx.Class.hasInterface(clazz, qx.ui.core.ISingleSelection)){

              itemValue = items[name].getModelSelection().getItem(0) || null;
            } else {

              itemValue = items[name].getValue();
            };
            if(this.__bindingOptions[name] && this.__bindingOptions[name][1]){

              itemValue = this.__bindingOptions[name][1].converter(itemValue);
            };
            currentData[names[i]] = itemValue;
          } else {

            if(!currentData[names[i]]){

              currentData[names[i]] = {
              };
            };
            currentData = currentData[names[i]];
          };
        };
      };
      var model = qx.data.marshal.Json.createModel(data, includeBubbleEvents);
      this.setModel(model);
      return model;
    },
    updateModel : function(){

      if(!this._selfUpdate || !this.getModel() || !this.getTarget()){

        return;
      };
      var items = this.getTarget().getItems();
      for(var name in items){

        var item = items[name];
        var sourceProperty = this.__isModelSelectable(item) ? "modelSelection[0]" : "value";
        var options = this.__bindingOptions[name];
        options = options && this.__bindingOptions[name][1];
        qx.data.SingleValueBinding.updateTarget(item, sourceProperty, this.getModel(), name, options);
      };
    },
    _applyTarget : function(value, old){

      if(old != null){

        this.__tearDownBinding(old);
      };
      if(this.getModel() == null){

        return;
      };
      if(value != null){

        this.__setUpBinding();
      };
    },
    _applyModel : function(value, old){

      if(this.__objectController != null && value == null){

        this.__objectController.setModel(null);
      };
      if(this.__objectController != null){

        var items = this.getTarget().getItems();
        for(var name in items){

          var item = items[name];
          var targetProperty = this.__isModelSelectable(item) ? "modelSelection[0]" : "value";
          this.__objectController.removeTarget(item, targetProperty, name);
        };
      };
      if(this.__objectController != null){

        this.__objectController.setModel(value);
      };
      if(this.getTarget() == null){

        return;
      };
      if(value != null){

        this.__setUpBinding();
      };
    },
    __setUpBinding : function(){

      if(this.__objectController == null){

        this.__objectController = new qx.data.controller.Object(this.getModel());
      };
      var items = this.getTarget().getItems();
      for(var name in items){

        var item = items[name];
        var targetProperty = this.__isModelSelectable(item) ? "modelSelection[0]" : "value";
        var options = this.__bindingOptions[name];
        try{

          if(options == null){

            this.__objectController.addTarget(item, targetProperty, name, !this._selfUpdate);
          } else {

            this.__objectController.addTarget(item, targetProperty, name, !this._selfUpdate, options[0], options[1]);
          };
        } catch(ex) {

          if(qx.core.Environment.get("qx.debug")){

            this.warn("Could not bind property " + name + " of " + this.getModel());
          };
        };
      };
      this.getTarget().redefineResetter();
    },
    __tearDownBinding : function(oldTarget){

      if(this.__objectController == null){

        return;
      };
      var items = oldTarget.getItems();
      for(var name in items){

        var item = items[name];
        var targetProperty = this.__isModelSelectable(item) ? "modelSelection[0]" : "value";
        this.__objectController.removeTarget(item, targetProperty, name);
      };
    },
    __isModelSelectable : function(item){

      return qx.Class.hasInterface(item.constructor, qx.ui.core.ISingleSelection) && qx.Class.hasInterface(item.constructor, qx.ui.form.IModelSelection);
    }
  },
  destruct : function(){

    if(this.__objectController){

      this.__objectController.dispose();
    };
  }
});

qx.Class.define("qx.data.controller.Object", {
  extend : qx.core.Object,
  construct : function(model){

    this.base(arguments);
    this.__bindings = {
    };
    this.__targets = [];
    if(model != null){

      this.setModel(model);
    };
  },
  properties : {
    model : {
      check : "qx.core.Object",
      event : "changeModel",
      apply : "_applyModel",
      nullable : true,
      dereference : true
    }
  },
  members : {
    __targets : null,
    __bindings : null,
    _applyModel : function(value, old){

      for(var i = 0;i < this.__targets.length;i++){

        var targetObject = this.__targets[i][0];
        var targetProperty = this.__targets[i][1];
        var sourceProperty = this.__targets[i][2];
        var bidirectional = this.__targets[i][3];
        var options = this.__targets[i][4];
        var reverseOptions = this.__targets[i][5];
        if(old != undefined && !old.isDisposed()){

          this.__removeTargetFrom(targetObject, targetProperty, sourceProperty, old);
        };
        if(value != undefined){

          this.__addTarget(targetObject, targetProperty, sourceProperty, bidirectional, options, reverseOptions);
        } else {

          if(targetObject.isDisposed() || qx.core.ObjectRegistry.inShutDown){

            continue;
          };
          if(targetProperty.indexOf("[") == -1){

            targetObject["reset" + qx.lang.String.firstUp(targetProperty)]();
          } else {

            var open = targetProperty.indexOf("[");
            var index = parseInt(targetProperty.substring(open + 1, targetProperty.length - 1), 10);
            targetProperty = targetProperty.substring(0, open);
            var targetArray = targetObject["get" + qx.lang.String.firstUp(targetProperty)]();
            if(index == "last"){

              index = targetArray.length;
            };
            if(targetArray){

              targetArray.setItem(index, null);
            };
          };
        };
      };
    },
    addTarget : function(targetObject, targetProperty, sourceProperty, bidirectional, options, reverseOptions){

      this.__targets.push([targetObject, targetProperty, sourceProperty, bidirectional, options, reverseOptions]);
      this.__addTarget(targetObject, targetProperty, sourceProperty, bidirectional, options, reverseOptions);
    },
    __addTarget : function(targetObject, targetProperty, sourceProperty, bidirectional, options, reverseOptions){

      if(this.getModel() == null){

        return;
      };
      var id = this.getModel().bind(sourceProperty, targetObject, targetProperty, options);
      var idReverse = null;
      if(bidirectional){

        idReverse = targetObject.bind(targetProperty, this.getModel(), sourceProperty, reverseOptions);
      };
      var targetHash = targetObject.toHashCode();
      if(this.__bindings[targetHash] == undefined){

        this.__bindings[targetHash] = [];
      };
      this.__bindings[targetHash].push([id, idReverse, targetProperty, sourceProperty, options, reverseOptions]);
    },
    removeTarget : function(targetObject, targetProperty, sourceProperty){

      this.__removeTargetFrom(targetObject, targetProperty, sourceProperty, this.getModel());
      for(var i = 0;i < this.__targets.length;i++){

        if(this.__targets[i][0] == targetObject && this.__targets[i][1] == targetProperty && this.__targets[i][2] == sourceProperty){

          this.__targets.splice(i, 1);
        };
      };
    },
    __removeTargetFrom : function(targetObject, targetProperty, sourceProperty, sourceObject){

      if(!(targetObject instanceof qx.core.Object)){

        return;
      };
      var currentListing = this.__bindings[targetObject.toHashCode()];
      if(currentListing == undefined || currentListing.length == 0){

        return;
      };
      for(var i = 0;i < currentListing.length;i++){

        if(currentListing[i][2] == targetProperty && currentListing[i][3] == sourceProperty){

          var id = currentListing[i][0];
          sourceObject.removeBinding(id);
          if(currentListing[i][1] != null){

            targetObject.removeBinding(currentListing[i][1]);
          };
          currentListing.splice(i, 1);
          return;
        };
      };
    }
  },
  destruct : function(){

    if(this.getModel() != null && !this.getModel().isDisposed()){

      this.setModel(null);
    };
  }
});

qx.Class.define("qx.ui.menubar.MenuBar", {
  extend : qx.ui.toolbar.ToolBar,
  properties : {
    appearance : {
      refine : true,
      init : "menubar"
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.Row", {
  extend : qx.ui.progressive.renderer.Abstract,
  construct : function(columnWidths){

    this.base(arguments);
    this.__columnWidths = columnWidths;
    this.__renderers = {
    };
    this.__defaultCellRenderer = new qx.ui.progressive.renderer.table.cell.Default();
    this.__progressive = null;
    this.__colors = {
    };
    this.__linkColors();
    this.__layout = new qx.ui.layout.HBox();
    this.__layout.connectToWidget(this);
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Color.getInstance().addListener("changeTheme", this.__linkColors, this);
    };
  },
  statics : {
    __clazz : null,
    __padding : 6,
    __tableCellStyleSheet : "  position: absolute;" + "  top: 0px;" + "  height: 100%;" + "  overflow:hidden;" + (qx.core.Environment.get("css.textoverflow") ? qx.bom.Style.getCssName(qx.core.Environment.get("css.textoverflow")) + ':ellipsis;' : "") + "  white-space:nowrap;" + "  border-right:1px solid #f2f2f2;" + "  border-bottom:1px solid #eeeeee;" + "  padding : 0px 6px 0px 6px;" + "  cursor:default;" + "  font-size: 11px;" + "  font-family: 'Segoe UI', Corbel, Calibri, Tahoma, 'Lucida Sans Unicode', sans-serif;" + (qx.core.Environment.get("css.userselect") ? qx.bom.Style.getCssName(qx.core.Environment.get("css.userselect")) + ':' + qx.core.Environment.get("css.userselect.none") + ';' : '')
  },
  properties : {
    defaultRowHeight : {
      init : 16
    }
  },
  members : {
    __progressive : null,
    __name : null,
    __hash : null,
    __columnWidths : null,
    __renderers : null,
    __defaultCellRenderer : null,
    __colors : null,
    __layout : null,
    __linkColors : function(){

      var colorMgr = qx.theme.manager.Color.getInstance();
      this.__colors.bgcol = [];
      this.__colors.bgcol[0] = colorMgr.resolve("progressive-table-row-background-even");
      this.__colors.bgcol[1] = colorMgr.resolve("progressive-table-row-background-odd");
    },
    join : function(progressive, name){

      if(this.__progressive){

        throw new Error("Renderer is already joined to a Progressive.");
      };
      this.__progressive = progressive;
      this.__name = name;
      var tr = qx.ui.progressive.renderer.table.Row;
      if(!tr.__clazz){

        tr.__clazz = {
        };
      };
      var hash = progressive.toHashCode();
      if(!tr.__clazz[hash]){

        tr.__clazz[hash] = {
          rowstylesheet : null,
          cellstylesheet : []
        };
        var stylesheet = ".qx-progressive-" + hash + "-row {" + "  width : 100%;" + "}";
        tr.__clazz[hash].rowstylesheet = qx.bom.Stylesheet.createElement(stylesheet);
        var columnData = this.__columnWidths.getData();
        for(var i = 0;i < columnData.length;i++){

          var stylesheet = ".qx-progressive-" + hash + "-col-" + i + " {" + tr.__tableCellStyleSheet + "}";
          tr.__clazz[hash].cellstylesheet[i] = qx.bom.Stylesheet.createElement(stylesheet);
        };
        this.__hash = hash;
        var pane = progressive.getStructure().getPane();
        pane.addListener("resize", this._resizeColumns, this);
      };
    },
    addRenderer : function(column, renderer){

      var columnData = this.__columnWidths.getData();
      if(column < 0 || column >= columnData.length){

        throw new Error("Column " + column + " out of range (max: " + (columnData.length - 1) + ")");
      };
      this.__renderers[column] = renderer;
    },
    removeRenderer : function(column){

      var columnData = this.__columnWidths.getData();
      if(column < 0 || column >= columnData.length){

        throw new Error("Column " + column + " out of range (max: " + (columnData.length - 1) + ")");
      };
      if(!this.__renderers[column]){

        throw new Error("No existing renderer for column " + column);
      };
      delete this.__renderers[column];
    },
    render : function(state, element){

      var data = element.data;
      var html = [];
      var cellInfo;
      var renderer;
      var height = 0;
      if(state.getRendererData()[this.__name].end === undefined){

        state.getRendererData()[this.__name] = {
          end : 0,
          start : 1,
          rows : 0,
          totalHeight : 0
        };
      };
      var div = document.createElement("div");
      for(var i = 0;i < data.length;i++){

        var stylesheet = "qx-progressive-" + this.__hash + "-col-" + i;
        renderer = this.__renderers[i] || this.__defaultCellRenderer;
        cellInfo = {
          state : state,
          rowDiv : div,
          stylesheet : stylesheet,
          element : element,
          dataIndex : i,
          cellData : data[i],
          height : height
        };
        html.push(renderer.render(cellInfo));
        if(cellInfo.height > height){

          height = cellInfo.height;
        };
      };
      height = (height > 0 ? height : this.getDefaultRowHeight());
      var rendererData = state.getRendererData()[this.__name];
      rendererData.totalHeight += height;
      div.style.position = "relative";
      div.style.height = height + "px";
      div.className = "qx-progressive-" + this.__hash + "-row";
      div.innerHTML = html.join("");
      switch(element.location){case "end":
      var index = rendererData.end || 0;
      div.style.backgroundColor = this.__colors.bgcol[index];
      rendererData.end = (index == 0 ? 1 : 0);
      state.getPane().getContentElement().getDomElement().appendChild(div);
      break;case "start":
      var elem = state.getPane().getContentElement().getDomElement();
      var children = elem.childNodes;
      if(children.length > 0){

        var index = rendererData.start;
        div.style.backgroundColor = this.__colors.bgcol[index];
        rendererData.start = (index == 0 ? 1 : 0);
        elem.insertBefore(div, children[0]);
        break;
      } else {

        elem.appendChild(div);
      };
      break;default:
      throw new Error("Invalid location: " + element.location);};
      ++rendererData.rows;
    },
    getLayoutChildren : function(){

      return this.__columnWidths.getData();
    },
    _resizeColumns : function(e){

      var pane = this.__progressive.getStructure().getPane();
      var width = pane.getBounds().width - qx.bom.element.Scroll.getScrollbarWidth();
      var stylesheet = ".qx-progressive-" + this.__hash + "-row";
      var tr = qx.ui.progressive.renderer.table.Row;
      qx.bom.Stylesheet.removeRule(tr.__clazz[this.__hash].rowstylesheet, stylesheet);
      var rule = "width: " + width + "px;";
      qx.bom.Stylesheet.addRule(tr.__clazz[this.__hash].rowstylesheet, stylesheet, rule);
      this.__layout.renderLayout(width, 100, {
        top : 0,
        right : 0,
        bottom : 0,
        left : 0
      });
      var columnData = this.__columnWidths.getData();
      for(var i = 0,left = 0;i < columnData.length;i++,left += width){

        var stylesheet = ".qx-progressive-" + this.__hash + "-col-" + i;
        var tr = qx.ui.progressive.renderer.table.Row;
        qx.bom.Stylesheet.removeRule(tr.__clazz[this.__hash].cellstylesheet[i], stylesheet);
        width = columnData[i].getComputedWidth();
        if(qx.core.Environment.get("qx.debug")){

          if(qx.core.Environment.get("qx.tableResizeDebug")){

            this.debug("col " + i + ": width=" + width);
          };
        };
        var inset;
        if(qx.core.Environment.get("css.boxmodel") == "content"){

          inset = qx.ui.progressive.renderer.table.Row.__padding * 2;
        } else {

          inset = -1;
        };
        var widthRule = (width - inset) + "px;";
        var paddingRule = "0px " + qx.ui.progressive.renderer.table.Row.__padding + "px " + "0px " + qx.ui.progressive.renderer.table.Row.__padding + "px;";
        var leftRule = left + "px;";
        var rule = tr.__tableCellStyleSheet + "width: " + widthRule + "left: " + leftRule + "padding: " + paddingRule;
        qx.bom.Stylesheet.addRule(tr.__clazz[this.__hash].cellstylesheet[i], stylesheet, rule);
      };
    }
  },
  destruct : function(){

    qx.theme.manager.Color.getInstance().removeListener("changeTheme", this.__linkColors, this);
    var name;
    for(name in this.__renderers){

      this.__renderers[name] = null;
    };
    var tr = qx.ui.progressive.renderer.table.Row;
    var hash = this.__progressive.toHashCode();
    if(tr.__clazz && tr.__clazz[hash]){

      if(tr.__clazz[hash].rowstylesheet){

        var stylesheet = ".qx-progressive-" + this.__hash + "-row";
        var tr = qx.ui.progressive.renderer.table.Row;
        qx.bom.Stylesheet.removeRule(tr.__clazz[this.__hash].rowstylesheet, stylesheet);
      };
      if(tr.__clazz[hash].cellstylesheet){

        for(var i = tr.__clazz[hash].cellstylesheet.length - 1;i >= 0;i--){

          var stylesheet = ".qx-progressive-" + this.__hash + "-col-" + i;
          var rule = tr.__clazz[this.__hash].cellstylesheet[i];
          var tr = qx.ui.progressive.renderer.table.Row;
          qx.bom.Stylesheet.removeRule(rule, stylesheet);
        };
      };
    };
    if(this.__progressive && this.__progressive.getRendererData){

      var rendererData = this.__progressive.getRendererData();
      if(rendererData && rendererData[this.__name] && rendererData[this.__name].end !== undefined){

        rendererData[this.__name] = null;
      };
    };
    this.__colors = this.__renderers = this.__progressive = this.__columnWidths = null;
    this._disposeObjects("__layout", "__defaultCellRenderer", "__columnData");
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Default", {
  extend : qx.ui.progressive.renderer.table.cell.Abstract,
  construct : function(){

    this.base(arguments);
  },
  members : {
    _getContentHtml : function(cellInfo){

      return qx.bom.String.escape(this._formatValue(cellInfo.cellData));
    },
    _formatValue : function(value){

      var ret;
      if(value == null){

        return "";
      };
      if(typeof value == "string"){

        return value;
      } else if(typeof value == "number"){

        if(!qx.ui.progressive.renderer.table.Row._numberFormat){

          var numberFormat = new qx.util.format.NumberFormat();
          numberFormat.setMaximumFractionDigits(2);
          qx.ui.progressive.renderer.table.Row._numberFormat = numberFormat;
        };
        ret = qx.ui.progressive.renderer.table.Row._numberFormat.format(value);
      } else if(value instanceof Date){

        ret = qx.util.format.DateFormat.getDateInstance().format(value);
      } else {

        ret = value;
      };;
      return ret;
    }
  }
});

qx.Class.define("qx.ui.progressive.Progressive", {
  extend : qx.ui.container.Composite,
  construct : function(structure){

    this.base(arguments, new qx.ui.layout.VBox());
    this.__renderer = {
    };
    this.set({
      backgroundColor : "white"
    });
    if(!structure){

      structure = new qx.ui.progressive.structure.Default();
    };
    this.__structure = structure;
    structure.applyStructure(this);
    this.__bInitialRenderComplete = false;
    this.__bRendering = false;
    this.__initialNumElements = 0;
  },
  events : {
    "renderStart" : "qx.event.type.Data",
    "renderEnd" : "qx.event.type.Data",
    "progress" : "qx.event.type.Data",
    "progressDetail" : "qx.event.type.Data"
  },
  properties : {
    dataModel : {
      check : "qx.ui.progressive.model.Abstract",
      apply : "_applyDataModel"
    },
    batchSize : {
      check : "Integer",
      init : 20
    },
    flushWidgetQueueAfterBatch : {
      check : "Boolean",
      init : false
    },
    interElementTimeout : {
      check : "Integer",
      init : 0
    }
  },
  members : {
    __renderer : null,
    __bRendering : null,
    __t1 : null,
    __initialNumElements : null,
    __bInitialRenderComplete : null,
    __structure : null,
    getStructure : function(){

      return this.__structure;
    },
    addRenderer : function(name, renderer){

      this.__renderer[name] = renderer;
      renderer.join(this, name);
    },
    removeRenderer : function(name){

      if(!this.__renderer[name]){

        throw new Error("No existing renderer named " + name);
      };
      delete this.__renderer[name];
    },
    render : function(){

      if(this.__bRendering){

        return;
      };
      this.__bRendering = true;
      var state = new qx.ui.progressive.State({
        progressive : this,
        model : this.getDataModel(),
        pane : this.__structure.getPane(),
        batchSize : this.getBatchSize(),
        rendererData : this.__createStateRendererData(),
        userData : {
        }
      });
      this.__t1 = new Date();
      if(this.__bInitialRenderComplete){

        this.__initialNumElements = state.getModel().getElementCount();
        this.fireDataEvent("renderStart", {
          state : state,
          initial : this.__initialNumElements
        });
        this.__renderElementBatch(state);
      } else {

        qx.event.Timer.once(function(){

          this.__initialNumElements = state.getModel().getElementCount();
          this.fireDataEvent("renderStart", {
            state : state,
            initial : this.__initialNumElements
          });
          this.__renderElementBatch(state);
          this.__bInitialRenderComplete = true;
        }, this, 10);
      };
    },
    _applyDataModel : function(value, old){

      if(old){

        old.removeListener("dataAvailable", this.__dataAvailable, this);
        old.dispose();
      };
      value.addListener("dataAvailable", this.__dataAvailable, this);
    },
    __renderElementBatch : function(state){

      var current;
      var element;
      var renderer;
      for(var i = state.getBatchSize();i > 0;i--){

        current = state.getModel().getNextElement();
        if(!current){

          this.debug("Render time: " + (new Date() - this.__t1) + "ms");
          this.__bRendering = false;
          this.fireDataEvent("renderEnd", state);
          state.dispose();
          return;
        };
        element = current.element;
        renderer = this.__renderer[element.renderer];
        renderer.render(state, element);
        this.fireDataEvent("progressDetail", {
          initial : this.__initialNumElements,
          remaining : current.remaining,
          element : element
        });
      };
      this.fireDataEvent("progress", {
        initial : this.__initialNumElements,
        remaining : current.remaining
      });
      if(this.getFlushWidgetQueueAfterBatch()){

        qx.ui.core.queue.Manager.flush();
      };
      qx.event.Timer.once(function(){

        this.__renderElementBatch(state);
      }, this, this.getInterElementTimeout());
    },
    __createStateRendererData : function(){

      var rendererData = {
      };
      for(var name in this.__renderer){

        rendererData[name] = {
        };
      };
      return rendererData;
    },
    __dataAvailable : function(e){

      this.__initialNumElements = e.getData();
      this.render();
    }
  },
  destruct : function(){

    for(var name in this.__renderer){

      this.__renderer[name].dispose();
    };
    this.__t1 = this.__renderer = this.__structure = null;
  }
});

qx.Bootstrap.define("qx.bom.client.Runtime", {
  statics : {
    getName : function(){

      var name = "";
      if(typeof environment !== "undefined"){

        name = "rhino";
      } else if(typeof process !== "undefined"){

        name = "node.js";
      } else if(typeof Titanium !== "undefined" && typeof Titanium.userAgent !== "undefined"){

        name = "titanium";
      } else {

        name = qx.bom.client.Browser.getName();
      };;
      return name;
    }
  },
  defer : function(statics){

    qx.core.Environment.add("runtime.name", statics.getName);
  }
});

qx.Interface.define("qx.io.request.authentication.IAuthentication", {
  members : {
    getAuthHeaders : function(){
    }
  }
});

qx.Class.define("qx.ui.mobile.container.Navigation", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(){

    this.base(arguments, new qx.ui.mobile.layout.VBox());
    this.__navigationBar = this._createNavigationBar();
    if(this.__navigationBar){

      this._add(this.__navigationBar);
    };
    this.__content = this._createContent();
    this._add(this.__content, {
      flex : 1
    });
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "navigation"
    }
  },
  events : {
    "update" : "qx.event.type.Data"
  },
  members : {
    __navigationBar : null,
    __content : null,
    __layout : null,
    add : function(widget){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInterface(widget, qx.ui.mobile.container.INavigation);
      };
      this.getContent().add(widget);
    },
    remove : function(widget){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInterface(widget, qx.ui.mobile.container.INavigation);
      };
      this.getContent().remove(widget);
    },
    getContent : function(){

      return this.__content;
    },
    getLayout : function(){

      return this.__layout;
    },
    getNavigationBar : function(){

      return this.__navigationBar;
    },
    _createContent : function(){

      this.__layout = new qx.ui.mobile.layout.Card();
      this.__layout.addListener("updateLayout", this._onUpdateLayout, this);
      this.__layout.addListener("animationStart", this._onAnimationStart, this);
      this.__layout.addListener("animationEnd", this._onAnimationEnd, this);
      return new qx.ui.mobile.container.Composite(this.__layout);
    },
    _onAnimationStart : function(){

      this.addCssClass("blocked");
    },
    _onAnimationEnd : function(){

      this.removeCssClass("blocked");
    },
    _onUpdateLayout : function(evt){

      var data = evt.getData();
      var widget = data.widget;
      var action = data.action;
      if(action == "visible"){

        this._update(widget);
      };
    },
    _update : function(widget){

      var navigationBar = this.getNavigationBar();
      this._setStyle("transitionDuration", widget.getNavigationBarToggleDuration() + "s");
      if(widget.isNavigationBarHidden()){

        this.addCssClass("hidden");
      } else {

        navigationBar.show();
        this.removeCssClass("hidden");
      };
      navigationBar.removeAll();
      if(widget.basename){

        this._setAttribute("data-target-page", widget.basename.toLowerCase());
      };
      var leftContainer = widget.getLeftContainer();
      if(leftContainer){

        navigationBar.add(leftContainer);
      };
      var title = widget.getTitleWidget();
      if(title){

        navigationBar.add(title, {
          flex : 1
        });
      };
      var rightContainer = widget.getRightContainer();
      if(rightContainer){

        navigationBar.add(rightContainer);
      };
      this.fireDataEvent("update", widget);
    },
    _createNavigationBar : function(){

      return new qx.ui.mobile.navigationbar.NavigationBar();
    }
  },
  destruct : function(){

    this.getLayout().removeListener("animationStart", this._onAnimationStart, this);
    this.getLayout().removeListener("animationEnd", this._onAnimationEnd, this);
    this._disposeObjects("__navigationBar", "__content", "__layout");
    this.__navigationBar = this.__content = this.__layout = null;
  }
});

qx.Bootstrap.define("qx.module.MatchMedia", {
  statics : {
    matchMedia : function(query, ctxWindow){

      return new qx.bom.MediaQuery(query, ctxWindow);
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      matchMedia : statics.matchMedia
    });
  }
});

qx.Bootstrap.define("qx.bom.MediaQuery", {
  extend : qx.event.Emitter,
  construct : function(query, ctxWindow){

    this.__ctxWindow = ctxWindow || window;
    this.__initMatchMedia(this.__ctxWindow);
    this.__mql = this.__ctxWindow.matchMedia(query);
    this.query = query;
    this.matches = this.__mql.matches;
    this.__init();
  },
  events : {
    "change" : "Map"
  },
  statics : {
    version : "2.0.1"
  },
  members : {
    __ctxWindow : null,
    __mql : null,
    matches : false,
    query : null,
    getQuery : function(){

      return this.query;
    },
    isMatching : function(){

      return this.matches;
    },
    __init : function(){

      this.__mql.addListener(this.__changed.bind(this));
    },
    __changed : function(){

      this.matches = this.__mql.matches;
      this.emit("change", {
        matches : this.matches,
        query : this.query
      });
    },
    __initMatchMedia : function(window){

      window.matchMedia || (window.matchMedia = function(win){

        'use strict';
        var _doc = win.document,_viewport = _doc.documentElement,_queries = [],_queryID = 0,_type = '',_features = {
        },_typeExpr = /\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,_mediaExpr = /^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,_timer = 0,_matches = function(media){

          var mql = (media.indexOf(',') !== -1 && media.split(',')) || [media],mqIndex = mql.length - 1,mqLength = mqIndex,mq = null,negateType = null,negateTypeFound = '',negateTypeIndex = 0,negate = false,type = '',exprListStr = '',exprList = null,exprIndex = 0,exprLength = 0,expr = null,prefix = '',length = '',unit = '',value = '',feature = '',match = false;
          if(media === ''){

            return true;
          };
          _setFeature();
          do {

            mq = mql[mqLength - mqIndex];
            negate = false;
            negateType = mq.match(_typeExpr);
            if(negateType){

              negateTypeFound = negateType[0];
              negateTypeIndex = negateType.index;
            };
            if(!negateType || ((mq.substring(0, negateTypeIndex).indexOf('(') === -1) && (negateTypeIndex || (!negateType[3] && negateTypeFound !== negateType.input)))){

              match = false;
              continue;
            };
            exprListStr = mq;
            negate = negateType[1] === 'not';
            if(!negateTypeIndex){

              type = negateType[2];
              exprListStr = mq.substring(negateTypeFound.length);
            };
            match = type === _type || type === 'all' || type === '';
            exprList = (exprListStr.indexOf(' and ') !== -1 && exprListStr.split(' and ')) || [exprListStr];
            exprIndex = exprList.length - 1;
            exprLength = exprIndex;
            if(match && exprIndex >= 0 && exprListStr !== ''){

              do {

                expr = exprList[exprIndex].match(_mediaExpr);
                if(!expr || !_features[expr[3]]){

                  match = false;
                  break;
                };
                prefix = expr[2];
                length = expr[5];
                value = length;
                unit = expr[7];
                feature = _features[expr[3]];
                if(unit){

                  if(unit === 'px'){

                    value = Number(length);
                  } else if(unit === 'em' || unit === 'rem'){

                    value = 16 * length;
                  } else if(expr[8]){

                    value = (length / expr[8]).toFixed(2);
                  } else if(unit === 'dppx'){

                    value = length * 96;
                  } else if(unit === 'dpcm'){

                    value = length * 0.3937;
                  } else {

                    value = Number(length);
                  };;;;
                };
                if(prefix === 'min-' && value){

                  match = feature >= value;
                } else if(prefix === 'max-' && value){

                  match = feature <= value;
                } else if(value){

                  match = feature === value;
                } else {

                  match = !!feature;
                };;
                if(!match){

                  break;
                };
              }while((exprIndex--));
            };
            if(match){

              break;
            };
          }while((mqIndex--));
          return negate ? !match : match;
        },_setFeature = function(){

          var w = win.innerWidth || _viewport.clientWidth,h = win.innerHeight || _viewport.clientHeight,dw = win.screen.width,dh = win.screen.height,c = win.screen.colorDepth,x = win.devicePixelRatio;
          _features.width = w;
          _features.height = h;
          _features['aspect-ratio'] = (w / h).toFixed(2);
          _features['device-width'] = dw;
          _features['device-height'] = dh;
          _features['device-aspect-ratio'] = (dw / dh).toFixed(2);
          _features.color = c;
          _features['color-index'] = Math.pow(2, c);
          _features.orientation = (h >= w ? 'portrait' : 'landscape');
          _features.resolution = (x && x * 96) || win.screen.deviceXDPI || 96;
          _features['device-pixel-ratio'] = x || 1;
        },_watch = function(){

          clearTimeout(_timer);
          _timer = setTimeout(function(){

            var query = null,qIndex = _queryID - 1,qLength = qIndex,match = false;
            if(qIndex >= 0){

              _setFeature();
              do {

                query = _queries[qLength - qIndex];
                if(query){

                  match = _matches(query.mql.media);
                  if((match && !query.mql.matches) || (!match && query.mql.matches)){

                    query.mql.matches = match;
                    if(query.listeners){

                      for(var i = 0,il = query.listeners.length;i < il;i++){

                        if(query.listeners[i]){

                          query.listeners[i].call(win, query.mql);
                        };
                      };
                    };
                  };
                };
              }while((qIndex--));
            };
          }, 10);
        },_init = function(){

          var head = _doc.getElementsByTagName('head')[0],style = _doc.createElement('style'),info = null,typeList = ['screen', 'print', 'speech', 'projection', 'handheld', 'tv', 'braille', 'embossed', 'tty'],typeIndex = 0,typeLength = typeList.length,cssText = '#mediamatchjs { position: relative; z-index: 0; }',eventPrefix = '',addEvent = win.addEventListener || (eventPrefix = 'on') && win.attachEvent;
          style.type = 'text/css';
          style.id = 'mediamatchjs';
          head.appendChild(style);
          info = (win.getComputedStyle && win.getComputedStyle(style)) || style.currentStyle;
          for(;typeIndex < typeLength;typeIndex++){

            cssText += '@media ' + typeList[typeIndex] + ' { #mediamatchjs { z-index: ' + typeIndex + ' } }';
          };
          if(style.styleSheet){

            style.styleSheet.cssText = cssText;
          } else {

            style.textContent = cssText;
          };
          _type = typeList[(info.zIndex * 1) || 0];
          head.removeChild(style);
          _setFeature();
          addEvent(eventPrefix + 'resize', _watch);
          addEvent(eventPrefix + 'orientationchange', _watch);
        };
        _init();
        return function(media){

          var id = _queryID,mql = {
            matches : false,
            media : media,
            addListener : function addListener(listener){

              _queries[id].listeners || (_queries[id].listeners = []);
              listener && _queries[id].listeners.push(listener);
            },
            removeListener : function removeListener(listener){

              var query = _queries[id],i = 0,il = 0;
              if(!query){

                return;
              };
              il = query.listeners.length;
              for(;i < il;i++){

                if(query.listeners[i] === listener){

                  query.listeners.splice(i, 1);
                };
              };
            }
          };
          if(media === ''){

            mql.matches = true;
            return mql;
          };
          mql.matches = _matches(media);
          _queryID = _queries.push({
            mql : mql,
            listeners : null
          });
          return mql;
        };
      }(window));
    }
  }
});

qx.Class.define("qx.ui.mobile.container.Drawer", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(parent, layout){

    this.base(arguments);
    if(layout){

      this.setLayout(layout);
    };
    this.initOrientation();
    this.initPositionZ();
    if(parent){

      if(qx.core.Environment.get("qx.debug")){

        this.assertInstance(parent, qx.ui.mobile.container.Composite);
      };
      parent.add(this);
      qx.core.Init.getApplication().addListener("back", this.forceHide, this);
    } else {

      qx.core.Init.getApplication().getRoot().add(this);
    };
    this.__parent = this.getLayoutParent();
    this.__parent.addCssClass("drawer-parent");
    this.__parent.addListener("swipe", this._onParentSwipe, this);
    this.__parent.addListener("pointerdown", this._onParentPointerDown, this);
    this.__pointerStartPosition = [0, 0];
    this.forceHide();
  },
  events : {
    resize : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "drawer"
    },
    orientation : {
      check : "String",
      init : "left",
      apply : "_applyOrientation"
    },
    size : {
      check : "Integer",
      init : 300,
      apply : "_applySize",
      event : "resize"
    },
    hideOnParentTap : {
      check : "Boolean",
      init : true
    },
    tapOffset : {
      check : "Integer",
      init : 20
    },
    transitionDuration : {
      check : "Integer",
      init : 500,
      apply : "_applyTransitionDuration"
    },
    positionZ : {
      check : ["above", "below"],
      init : "above",
      apply : "_applyPositionZ"
    }
  },
  members : {
    __pointerStartPosition : null,
    __parent : null,
    __transitionEnabled : null,
    __inTransition : null,
    _applyOrientation : function(value, old){

      this.removeCssClass(old);
      this.addCssClass(value);
      this._applySize(this.getSize());
    },
    _applyPositionZ : function(value, old){

      this.removeCssClass(old);
      this.addCssClass(value);
      if(this.__parent){

        this.__parent.setTranslateX(0);
        this.__parent.setTranslateY(0);
      };
    },
    setWidth : function(value){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'setWidth()' is deprecated. Please use 'setSize()' instead.");
      };
      this.setSize(value);
    },
    getWidth : function(){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'getWidth()' is deprecated. Please use 'getSize()' instead.");
      };
      return this.getSize();
    },
    resetWidth : function(){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'resetWidth()' is deprecated. Please use 'resetSize()' instead.");
      };
      this.resetSize();
    },
    setHeight : function(value){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'setHeight()' is deprecated. Please use 'setSize()' instead.");
      };
      this.setSize(value);
    },
    getHeight : function(){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'getHeight()' is deprecated. Please use 'getSize()' instead.");
      };
      return this.getSize();
    },
    resetHeight : function(){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'resetHeight()' is deprecated. Please use 'resetSize()' instead.");
      };
      this.resetSize();
    },
    _toggleParentBlockedState : function(){

      this.__parent.toggleCssClass("blocked");
    },
    _applySize : function(value){

      var height = null;
      var width = null;
      var remSize = (value / 16);
      if(this.getOrientation() == "left" || this.getOrientation() == "right"){

        width = remSize + "rem";
      } else {

        height = remSize + "rem";
      };
      this._setStyle("height", height);
      this._setStyle("width", width);
    },
    _applyTransitionDuration : function(value, old){

      this.__transitionEnabled = value > 0;
    },
    show : function(){

      if(!this.isHidden() || this.__inTransition === true){

        return;
      };
      this.__inTransition = true;
      this._setStyle("visibility", "visible");
      this.__parent.addCssClass("blocked");
      if(this.getPositionZ() == "below"){

        if(this.getOrientation() == "left"){

          this.__parent.setTranslateX(this.getSize());
        } else if(this.getOrientation() == "right"){

          this.__parent.setTranslateX(-this.getSize());
        } else if(this.getOrientation() == "top"){

          this.__parent.setTranslateY(this.getSize());
        } else if(this.getOrientation() == "bottom"){

          this.__parent.setTranslateY(-this.getSize());
        };;;
      };
      if(this.getTransitionDuration() > 0){

        this._enableTransition();
        var callArguments = arguments;
        var transitionTarget = this._getTransitionTarget().getContentElement();
        var listenerId = qx.bom.Element.addListener(transitionTarget, "transitionEnd", function(evt){

          this.base(callArguments);
          this._disableTransition();
          this.__inTransition = false;
          qx.bom.Element.removeListenerById(transitionTarget, listenerId);
        }, this);
        setTimeout(function(){

          this.removeCssClass("hidden");
        }.bind(this), 0);
      } else {

        this.base(arguments);
        this.__inTransition = false;
        this.removeCssClass("hidden");
      };
    },
    hide : function(){

      if(this.isHidden() || this.__inTransition === true){

        return;
      };
      this.__inTransition = true;
      if(this.getPositionZ() == "below"){

        this.__parent.setTranslateX(0);
        this.__parent.setTranslateY(0);
      };
      if(this.getTransitionDuration() > 0){

        this._enableTransition();
        var callArguments = arguments;
        var transitionTarget = this._getTransitionTarget().getContentElement();
        var listenerId = qx.bom.Element.addListener(transitionTarget, "transitionEnd", function(evt){

          this.base(callArguments);
          this._disableTransition();
          this.__parent.removeCssClass("blocked");
          this.__inTransition = false;
          qx.bom.Element.removeListenerById(transitionTarget, listenerId);
        }, this);
        setTimeout(function(){

          this.addCssClass("hidden");
        }.bind(this), 0);
      } else {

        this.base(arguments);
        this.addCssClass("hidden");
        this.__inTransition = false;
        this.__parent.removeCssClass("blocked");
      };
    },
    forceHide : function(){

      this._disableTransition();
      if(this.getPositionZ() == "below"){

        this.__parent.setTranslateX(0);
        this.__parent.setTranslateY(0);
      };
      this.__parent.removeCssClass("blocked");
      this.addCssClass("hidden");
    },
    isHidden : function(){

      return this.hasCssClass("hidden");
    },
    _enableTransition : function(){

      qx.bom.element.Style.set(this._getTransitionTarget().getContentElement(), "transition", "all " + this.getTransitionDuration() + "ms ease-in-out");
    },
    _disableTransition : function(){

      qx.bom.element.Style.set(this._getTransitionTarget().getContentElement(), "transition", null);
    },
    _getTransitionTarget : function(){

      if(this.getPositionZ() == "below"){

        return this.__parent;
      } else {

        return this;
      };
    },
    toggleVisibility : function(){

      if(this.isHidden()){

        this.show();
        return true;
      } else {

        this.hide();
        return false;
      };
    },
    _onParentPointerDown : function(evt){

      this.__pointerStartPosition = [evt.getViewportLeft(), evt.getViewportTop()];
      var isShown = !this.hasCssClass("hidden");
      if(isShown && this.isHideOnParentTap()){

        var location = qx.bom.element.Location.get(this.getContainerElement());
        var orientation = this.getOrientation();
        if(orientation == "left" && this.__pointerStartPosition[0] > location.right || orientation == "top" && this.__pointerStartPosition[1] > location.bottom || orientation == "bottom" && this.__pointerStartPosition[1] < location.top || orientation == "right" && this.__pointerStartPosition[0] < location.left){

          evt.preventDefault();
          this.hide();
        };
      };
    },
    _onParentSwipe : function(evt){

      var direction = evt.getDirection();
      var isHidden = this.hasCssClass("hidden");
      if(isHidden){

        var location = qx.bom.element.Location.get(this.getContainerElement());
        if((direction == "right" && this.getOrientation() == "left" && this.__pointerStartPosition[0] < location.right + this.getTapOffset() && this.__pointerStartPosition[0] > location.right) || (direction == "left" && this.getOrientation() == "right" && this.__pointerStartPosition[0] > location.left - this.getTapOffset() && this.__pointerStartPosition[0] < location.left) || (direction == "down" && this.getOrientation() == "top" && this.__pointerStartPosition[1] < this.getTapOffset() + location.bottom && this.__pointerStartPosition[1] > location.bottom) || (direction == "up" && this.getOrientation() == "bottom" && this.__pointerStartPosition[1] > location.top - this.getTapOffset() && this.__pointerStartPosition[1] < location.top)){

          this.show();
        };
      };
    }
  },
  destruct : function(){

    qx.core.Init.getApplication().removeListener("back", this.forceHide, this);
    this.__parent.removeListener("swipe", this._onParentSwipe, this);
    this.__parent.removeListener("pointerdown", this._onParentPointerDown, this);
    qx.util.DisposeUtil.destroyContainer(this);
    this.__pointerStartPosition = this.__parent = this.__transitionEnabled = null;
  }
});

qx.Bootstrap.define("qx.bom.Cookie", {
  statics : {
    get : function(key){

      var start = document.cookie.indexOf(key + "=");
      var len = start + key.length + 1;
      if((!start) && (key != document.cookie.substring(0, key.length))){

        return null;
      };
      if(start == -1){

        return null;
      };
      var end = document.cookie.indexOf(";", len);
      if(end == -1){

        end = document.cookie.length;
      };
      return unescape(document.cookie.substring(len, end));
    },
    set : function(key, value, expires, path, domain, secure){

      var cookie = [key, "=", escape(value)];
      if(expires){

        var today = new Date();
        today.setTime(today.getTime());
        cookie.push(";expires=", new Date(today.getTime() + (expires * 1000 * 60 * 60 * 24)).toGMTString());
      };
      if(path){

        cookie.push(";path=", path);
      };
      if(domain){

        cookie.push(";domain=", domain);
      };
      if(secure){

        cookie.push(";secure");
      };
      document.cookie = cookie.join("");
    },
    del : function(key, path, domain){

      if(!qx.bom.Cookie.get(key)){

        return;
      };
      var cookie = [key, "="];
      if(path){

        cookie.push(";path=", path);
      };
      if(domain){

        cookie.push(";domain=", domain);
      };
      cookie.push(";expires=Thu, 01-Jan-1970 00:00:01 GMT");
      document.cookie = cookie.join("");
    }
  }
});

qx.Bootstrap.define("qx.module.Cookie", {
  statics : {
    get : qx.bom.Cookie.get,
    set : qx.bom.Cookie.set,
    del : qx.bom.Cookie.del
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "cookie" : {
        get : statics.get,
        set : statics.set,
        del : statics.del
      }
    });
  }
});

qx.Class.define("qx.ui.window.Desktop", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MChildrenHandling, qx.ui.window.MDesktop, qx.ui.core.MBlocker],
  implement : qx.ui.window.IDesktop,
  construct : function(windowManager){

    this.base(arguments);
    windowManager = windowManager || new qx.ui.window.Window.DEFAULT_MANAGER_CLASS();
    this.getContentElement().disableScrolling();
    this._setLayout(new qx.ui.layout.Canvas().set({
      desktop : true
    }));
    this.setWindowManager(windowManager);
  }
});

qx.Class.define("qx.ui.mobile.container.MasterDetail", {
  extend : qx.ui.mobile.container.Composite,
  events : {
    "layoutChange" : "qx.event.type.Data"
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "master-detail"
    }
  },
  construct : function(layout){

    this.base(arguments, layout || new qx.ui.mobile.layout.HBox());
    this.__master = this._createMasterContainer();
    this.__detail = this._createDetailContainer();
    this.add(this.__detail, {
      flex : 4
    });
    qx.event.Registration.addListener(window, "orientationchange", this._onOrientationChange, this);
    this.__syncLayout();
  },
  members : {
    __master : null,
    __detail : null,
    getMaster : function(){

      return this.__master;
    },
    getDetail : function(){

      return this.__detail;
    },
    _onOrientationChange : function(evt){

      this.__syncLayout();
    },
    __syncLayout : function(){

      var isPortrait = qx.bom.Viewport.isPortrait();
      if(isPortrait){

        this.addCssClass("portrait");
        this.removeCssClass("landscape");
      } else {

        this.addCssClass("landscape");
        this.removeCssClass("portrait");
      };
      this.fireDataEvent("layoutChange", isPortrait);
    },
    _createMasterContainer : function(){

      var masterContainer = new qx.ui.mobile.container.Drawer(this, new qx.ui.mobile.layout.HBox());
      masterContainer.addCssClass("master-detail-master");
      masterContainer.setHideOnParentTap(false);
      return masterContainer;
    },
    _createDetailContainer : function(){

      var detailContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());
      detailContainer.setDefaultCssClass("master-detail-detail");
      return detailContainer;
    }
  },
  destruct : function(){

    qx.event.Registration.removeListener(window, "orientationchange", this._onOrientationChange, this);
    this._disposeObjects("__master", "__detail");
    this.__master = this.__detail = null;
  }
});

qx.Class.define("qx.bom.media.Abstract", {
  extend : qx.core.Object,
  type : "abstract",
  construct : function(media){

    this.base(arguments);
    this._media = media;
    this._hasLoop = !!this._media.loop;
    var Function = qx.lang.Function;
    this._handlePlayEventBound = Function.bind(this._handlePlayEvent, this);
    this._handlePauseEventBound = Function.bind(this._handlePauseEvent, this);
    this._handleTimeUpdateEventBound = Function.bind(this._handleTimeUpdateEvent, this);
    this._handleEndedEventBound = Function.bind(this._handleEndedEvent, this);
    this._handleVolumeChangeEventBound = Function.bind(this._handleVolumeChangeEvent, this);
    this._handleLoadedDataEventBound = Function.bind(this._handleLoadedDataEvent, this);
    this._handleLoadedMetaDataEventBound = Function.bind(this._handleLoadedMetaDataEvent, this);
    var Event = qx.bom.Event;
    Event.addNativeListener(this._media, "play", this._handlePlayEventBound);
    Event.addNativeListener(this._media, "pause", this._handlePauseEventBound);
    Event.addNativeListener(this._media, "timeupdate", this._handleTimeUpdateEventBound);
    Event.addNativeListener(this._media, "ended", this._handleEndedEventBound);
    Event.addNativeListener(this._media, "volumechange", this._handleVolumeChangeEventBound);
    Event.addNativeListener(this._media, "loadeddata", this._handleLoadedDataEventBound);
    Event.addNativeListener(this._media, "loadedmetadata", this._handleLoadedMetaDataEventBound);
    this._media.preload = "auto";
    if(qx.core.Environment.get("engine.name") === "gecko"){

      if(parseFloat(qx.core.Environment.get("engine.version")) < 2){

        this._media.play();
        this._media.pause();
      };
    };
  },
  events : {
    "play" : "qx.event.type.Event",
    "pause" : "qx.event.type.Event",
    "timeupdate" : "qx.event.type.Event",
    "ended" : "qx.event.type.Event",
    "volumechange" : "qx.event.type.Event",
    "loadeddata" : "qx.event.type.Event",
    "loadedmetadata" : "qx.event.type.Event"
  },
  members : {
    _media : null,
    _hasLoop : false,
    _loopId : null,
    getMediaObject : function(){

      return this._media;
    },
    play : function(){

      qx.event.Timer.once(function(){

        this._media.play();
      }, this, 0);
    },
    pause : function(){

      this._media.pause();
    },
    isPaused : function(){

      return this._media.paused;
    },
    isEnded : function(){

      return this._media.ended;
    },
    setId : function(id){

      this._media.id = id;
    },
    getId : function(){

      return this._media.id;
    },
    canPlayType : function(type){

      return this._media.canPlayType(type);
    },
    setVolume : function(volume){

      this._media.volume = volume;
    },
    getVolume : function(){

      return this._media.volume;
    },
    setMuted : function(muted){

      this._media.muted = muted;
    },
    isMuted : function(){

      return this._media.muted;
    },
    getDuration : function(){

      return this._media.duration;
    },
    setCurrentTime : function(value){

      this._media.currentTime = value;
    },
    getCurrentTime : function(){

      return this._media.currentTime;
    },
    setSource : function(source){

      this._media.src = source;
    },
    getSource : function(){

      return this._media.src;
    },
    hasControls : function(){

      return this._media.controls;
    },
    showControls : function(){

      this._media.controls = true;
    },
    hideControls : function(){

      this._media.controls = false;
    },
    setAutoplay : function(autoplay){

      this._media.autoplay = autoplay;
    },
    getAutoplay : function(){

      return this._media.autoplay;
    },
    setPreload : function(preload){

      if(preload == "none" || preload == "metadata" || preload == "auto"){

        this._media.preload = preload;
      } else {

        this._media.preload = "auto";
      };
    },
    getPreload : function(){

      return this._media.preload;
    },
    setLoop : function(value){

      if(!this._hasLoop){

        if(value === true){

          this._loopId = this.addListener('ended', this.play, this);
        } else if(value === false && this._loopId){

          this.removeListenerById(this._loopId);
          this._loopId = null;
        };
      };
      this._media.loop = value;
    },
    isLoop : function(){

      return !!this._media.loop;
    },
    _handlePlayEvent : function(){

      this.fireEvent("play");
    },
    _handlePauseEvent : function(){

      this.fireEvent("pause");
    },
    _handleTimeUpdateEvent : function(){

      this.fireEvent("timeupdate");
    },
    _handleEndedEvent : function(){

      this.fireEvent("ended");
    },
    _handleVolumeChangeEvent : function(){

      this.fireEvent("volumechange");
    },
    _handleLoadedDataEvent : function(){

      this.fireEvent("loadeddata");
    },
    _handleLoadedMetaDataEvent : function(){

      this.fireEvent("loadedmetadata");
    }
  },
  destruct : function(){

    var Event = qx.bom.Event;
    Event.removeNativeListener(this._media, "play", this._handlePlayEventBound);
    Event.removeNativeListener(this._media, "pause", this._handlePauseEventBound);
    Event.removeNativeListener(this._media, "timeupdate", this._handleTimeUpdateEventBound);
    Event.removeNativeListener(this._media, "ended", this._handleEndedEventBound);
    Event.removeNativeListener(this._media, "volumechange", this._handleVolumeChangeEventBound);
    Event.removeNativeListener(this._media, "loadeddata", this._handleLoadedDataEventBound);
    Event.removeNativeListener(this._media, "loadedmetadata", this._handleLoadedMetaDataEventBound);
    try{

      this.pause();
    } catch(ex) {
    };
    this.setSource("");
    this._media = null;
  }
});

qx.Class.define("qx.bom.media.Audio", {
  extend : qx.bom.media.Abstract,
  construct : function(source){

    this._audio = new window.Audio(source ? source : "");
    this.base(arguments, this._audio);
  },
  members : {
    _audio : null
  }
});

qx.Bootstrap.define("qx.bom.client.Json", {
  statics : {
    getJson : function(){

      return (qx.Bootstrap.getClass(window.JSON) == "JSON" && JSON.parse('{"x":1}').x === 1 && JSON.stringify({
        "prop" : "val"
      }, function(k, v){

        return k === "prop" ? "repl" : v;
      }).indexOf("repl") > 0);
    }
  },
  defer : function(statics){

    qx.core.Environment.add("json", statics.getJson);
  }
});

qx.Class.define("qx.ui.mobile.dialog.Manager", {
  extend : qx.core.Object,
  type : "singleton",
  statics : {
    INPUT_DIALOG : 1,
    MESSAGE_DIALOG : 2,
    WARNING_DIALOG : 3,
    ERROR_DIALOG : 4,
    WAITING_DIALOG : 5
  },
  members : {
    alert : function(title, text, handler, scope, button){

      if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("phonegap.notification")){

        var callback = function(){

          if(handler){

            handler.call(scope);
          };
        };
        var button = this.__processDialogButtons(button);
        return navigator.notification.alert(text, callback, title, button);
      } else {

        return this.__showNonNativeDialog(title, text, handler, scope, [button], qx.ui.mobile.dialog.Manager.MESSAGE_DIALOG);
      };
    },
    confirm : function(title, text, handler, scope, buttons){

      if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("phonegap.notification")){

        var callback = function(index){

          handler.call(scope, index - 1);
        };
        var buttons = this.__processDialogButtons(buttons);
        return navigator.notification.confirm(text, callback, title, buttons);
      } else {

        return this.__showNonNativeDialog(title, text, handler, scope, buttons, qx.ui.mobile.dialog.Manager.MESSAGE_DIALOG);
      };
    },
    input : function(title, text, handler, scope, buttons){

      return this.__showNonNativeDialog(title, text, handler, scope, buttons, qx.ui.mobile.dialog.Manager.INPUT_DIALOG);
    },
    error : function(title, text, handler, scope, button){

      if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("phonegap.notification")){

        var callback = function(){

          if(handler){

            handler.call(scope);
          };
        };
        var button = this.__processDialogButtons(button);
        return navigator.notification.alert(text, callback, title, button);
      } else {

        return this.__showNonNativeDialog(title, text, handler, scope, button, qx.ui.mobile.dialog.Manager.ERROR_DIALOG);
      };
    },
    warning : function(title, text, handler, scope, button){

      if(qx.core.Environment.get("phonegap") && qx.core.Environment.get("phonegap.notification")){

        var callback = function(){

          if(handler){

            handler.call(scope);
          };
        };
        var button = this.__processDialogButtons(button);
        return navigator.notification.alert(text, callback, title, button);
      } else {

        return this.__showNonNativeDialog(title, text, handler, scope, button, qx.ui.mobile.dialog.Manager.WARNING_DIALOG);
      };
    },
    wait : function(title, text, handler, scope, buttons){

      return this.__showNonNativeDialog(title, text, handler, scope, buttons, qx.ui.mobile.dialog.Manager.WAITING_DIALOG);
    },
    __processDialogButtons : function(buttons){

      if(buttons){

        if(buttons instanceof Array){

          buttons = buttons.join(",");
        } else {

          buttons = "" + buttons;
        };
      };
      return buttons;
    },
    __showNonNativeDialog : function(title, text, handler, scope, buttons, dialogType){

      var widget = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox().set({
        alignY : "middle"
      }));
      var dialog = new qx.ui.mobile.dialog.Popup(widget);
      dialog.setModal(true);
      dialog.setTitle(title);
      if(dialogType == qx.ui.mobile.dialog.Manager.WAITING_DIALOG){

        var waitingWidget = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox().set({
          alignX : "center"
        }));
        widget.add(waitingWidget);
        waitingWidget.add(new qx.ui.mobile.dialog.BusyIndicator(text));
      } else {

        var labelWidget = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox().set({
          alignX : "center"
        }));
        labelWidget.add(new qx.ui.mobile.basic.Label(text));
        labelWidget.addCssClass("gap");
        widget.add(labelWidget);
        if(dialogType == qx.ui.mobile.dialog.Manager.INPUT_DIALOG){

          var inputWidget = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox().set({
            alignX : "center"
          }));
          inputWidget.addCssClass("gap");
          var inputText = new qx.ui.mobile.form.TextField();
          inputWidget.add(inputText);
          widget.add(inputWidget);
        };
        var buttonContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox().set({
          alignX : "center"
        }));
        buttonContainer.addCssClass("gap");
        for(var i = 0,l = buttons.length;i < l;i++){

          var button = new qx.ui.mobile.form.Button(buttons[i]);
          button.addCssClass('dialog-button');
          buttonContainer.add(button, {
            flex : 1
          });
          var callback = (function(index){

            return function(){

              dialog.hide();
              if(handler){

                handler.call(scope, index, inputText ? inputText.getValue() : null);
              };
              dialog.destroy();
            };
          })(i);
          button.addListener("tap", callback);
        };
        widget.add(buttonContainer);
      };
      dialog.setModal(true);
      dialog.show();
      if(inputText){

        inputText.getContainerElement().focus();
      };
      return dialog;
    }
  }
});

qx.Class.define("qx.ui.mobile.dialog.BusyIndicator", {
  extend : qx.ui.mobile.basic.Atom,
  construct : function(label){

    this.base(arguments, label, qx.ui.mobile.basic.Image.PLACEHOLDER_IMAGE);
    this.addListener("appear", this._onAppear, this);
    this.addListener("disappear", this._onDisappear, this);
  },
  properties : {
    spinnerClass : {
      apply : "_applySpinnerClass",
      nullable : false,
      check : "String",
      init : "spinner"
    }
  },
  statics : {
    SPINNER_ANIMATION : null
  },
  members : {
    __animationHandle : null,
    _onAppear : function(){

      this.__animationHandle = qx.bom.element.Animation.animate(this.getIconWidget().getContainerElement(), qx.ui.mobile.dialog.BusyIndicator.SPINNER_ANIMATION);
    },
    _onDisappear : function(){

      this.__animationHandle.stop();
    },
    _createIconWidget : function(iconUrl){

      var iconWidget = this.base(arguments, iconUrl);
      iconWidget.addCssClass(this.getSpinnerClass());
      return iconWidget;
    },
    _applySpinnerClass : function(value, old){

      if(old){

        this.getIconWidget().removeCssClass(old);
      };
      if(value){

        this.getIconWidget().addCssClass(value);
      };
    }
  },
  destruct : function(){

    this.removeListener("appear", this._onAppear, this);
    this.removeListener("disappear", this._onDisappear, this);
    if(this.__animationHandle){

      this.__animationHandle.stop();
    };
    this.__animationHandle = null;
  },
  defer : function(){

    qx.ui.mobile.dialog.BusyIndicator.SPINNER_ANIMATION = {
      duration : 750,
      timing : "linear",
      origin : "center center",
      repeat : "infinite",
      keyFrames : {
        '0' : {
          rotate : "0deg"
        },
        '100' : {
          rotate : "359deg"
        }
      }
    };
  }
});

qx.Class.define("qx.util.fsm.State", {
  extend : qx.core.Object,
  construct : function(stateName, stateInfo){

    var context;
    this.base(arguments);
    this.setName(stateName);
    if(typeof (stateInfo) != "object"){

      throw new Error("State info must be an object");
    };
    context = stateInfo.context || window;
    this.setUserData("context", context);
    for(var field in stateInfo){

      switch(field){case "onentry":
      this.setOnentry(this.__bindIfFunction(stateInfo[field], context));
      break;case "onexit":
      this.setOnexit(this.__bindIfFunction(stateInfo[field], context));
      break;case "autoActionsBeforeOnentry":
      this.setAutoActionsBeforeOnentry(stateInfo[field]);
      break;case "autoActionsAfterOnentry":
      this.setAutoActionsAfterOnentry(stateInfo[field]);
      break;case "autoActionsBeforeOnexit":
      this.setAutoActionsBeforeOnexit(stateInfo[field]);
      break;case "autoActionsAfterOnexit":
      this.setAutoActionsAfterOnexit(stateInfo[field]);
      break;case "events":
      this.setEvents(stateInfo[field]);
      break;case "context":
      break;default:
      this.setUserData(field, stateInfo[field]);
      this.debug("State " + stateName + ": " + "Adding user-provided field to state: " + field);
      break;};
    };
    if(!this.getEvents()){

      throw new Error("The events object must be provided in new state info");
    };
    this.transitions = {
    };
  },
  statics : {
    _commonTransformAutoActions : function(actionType, value, context){

      if(typeof (value) != "object"){

        throw new Error("Invalid " + actionType + " value: " + typeof (value));
      };
      var funcFragment;
      var func = "try" + "{";
      var param;
      var objectAndGroupList;
      for(var f in value){

        var functionRequest = value[f];
        if(!functionRequest instanceof Array){

          throw new Error("Invalid function request type: " + "expected array, found " + typeof (functionRequest));
        };
        for(var i = 0;i < functionRequest.length;i++){

          objectAndGroupList = functionRequest[i];
          if(typeof (objectAndGroupList) != "object"){

            throw new Error("Invalid function request parameter type: " + "expected object, found " + typeof (functionRequest[param]));
          };
          var params = objectAndGroupList["parameters"];
          if(!params){

            params = [];
          } else {

            if(!params instanceof Array){

              throw new Error("Invalid function parameters: " + "expected array, found " + typeof (params));
            };
          };
          funcFragment = f + "(";
          for(var j = 0;j < params.length;j++){

            if(j != 0){

              funcFragment += ",";
            };
            if(typeof (params[j]) == "function"){

              funcFragment += "(" + params[j] + ")(fsm)";
            } else if(typeof (params[j]) == "string"){

              funcFragment += '"' + params[j] + '"';
            } else {

              funcFragment += params[j];
            };
          };
          funcFragment += ")";
          var a = objectAndGroupList["objects"];
          if(!a){

            a = [];
          } else if(!a instanceof Array){

            throw new Error("Invalid 'objects' list: expected array, got " + typeof (a));
          };
          for(var j = 0;j < a.length;j++){

            if(typeof (a[j]) != "string"){

              throw new Error("Invalid friendly name in 'objects' list: " + a[j]);
            };
            func += " fsm.getObject('" + a[j] + "')." + funcFragment + ";";
          };
          var g = objectAndGroupList["groups"];
          if(g){

            if(!g instanceof Array){

              throw new Error("Invalid 'groups' list: expected array, got " + typeof (g));
            };
            for(j = 0;j < g.length;j++){

              func += "  var groupObjects = " + "    fsm.getGroupObjects('" + g[j] + "');" + "  for (var i = 0; i < groupObjects.length; i++)" + "  {" + "    var objName = groupObjects[i];" + "    fsm.getObject(objName)." + funcFragment + ";" + "  }";
            };
          };
        };
      };
      func += "}" + "catch(ex)" + "{" + "  fsm.debug(ex);" + "}";
      return qx.lang.Function.bind(new Function("fsm", func), context);
    }
  },
  properties : {
    name : {
      transform : "__transformName",
      nullable : true
    },
    onentry : {
      transform : "__transformOnentry",
      nullable : true,
      init : function(fsm, event){
      }
    },
    onexit : {
      transform : "__transformOnexit",
      nullable : true,
      init : function(fsm, event){
      }
    },
    autoActionsBeforeOnentry : {
      transform : "__transformAutoActionsBeforeOnentry",
      nullable : true,
      init : function(fsm, event){
      }
    },
    autoActionsAfterOnentry : {
      transform : "__transformAutoActionsAfterOnentry",
      nullable : true,
      init : function(fsm, event){
      }
    },
    autoActionsBeforeOnexit : {
      transform : "__transformAutoActionsBeforeOnexit",
      nullable : true,
      init : function(fsm, event){
      }
    },
    autoActionsAfterOnexit : {
      transform : "__transformAutoActionsAfterOnexit",
      nullable : true,
      init : function(fsm, event){
      }
    },
    events : {
      transform : "__transformEvents",
      nullable : true
    }
  },
  members : {
    __transformName : function(value){

      if(typeof (value) != "string" || value.length < 1){

        throw new Error("Invalid state name");
      };
      return value;
    },
    __transformOnentry : function(value){

      switch(typeof (value)){case "undefined":
      return function(fsm, event){
      };case "function":
      return qx.lang.Function.bind(value, this.getUserData("context"));default:
      throw new Error("Invalid onentry type: " + typeof (value));};
    },
    __transformOnexit : function(value){

      switch(typeof (value)){case "undefined":
      return function(fsm, event){
      };case "function":
      return qx.lang.Function.bind(value, this.getUserData("context"));default:
      throw new Error("Invalid onexit type: " + typeof (value));};
    },
    __transformEvents : function(value){

      if(typeof (value) != "object"){

        throw new Error("events must be an object");
      };
      for(var e in value){

        var action = value[e];
        if(typeof (action) == "number" && action != qx.util.fsm.FiniteStateMachine.EventHandling.PREDICATE && action != qx.util.fsm.FiniteStateMachine.EventHandling.BLOCKED){

          throw new Error("Invalid numeric value in events object: " + e + ": " + action);
        } else if(typeof (action) == "object"){

          for(var action_e in action){

            if(typeof (action[action_e]) == "number" && action[action_e] != qx.util.fsm.FiniteStateMachine.EventHandling.PREDICATE && action[action_e] != qx.util.fsm.FiniteStateMachine.EventHandling.BLOCKED){

              throw new Error("Invalid numeric value in events object " + "(" + e + "): " + action_e + ": " + action[action_e]);
            } else if(typeof (action[action_e]) != "string" && typeof (action[action_e]) != "number"){

              throw new Error("Invalid value in events object " + "(" + e + "): " + action_e + ": " + action[action_e]);
            };
          };
        } else if(typeof (action) != "string" && typeof (action) != "number"){

          throw new Error("Invalid value in events object: " + e + ": " + value[e]);
        };;
      };
      return value;
    },
    __transformAutoActionsBeforeOnentry : function(value){

      return qx.util.fsm.State._commonTransformAutoActions("autoActionsBeforeOnentry", value, this.getUserData("context"));
    },
    __transformAutoActionsAfterOnentry : function(value){

      return qx.util.fsm.State._commonTransformAutoActions("autoActionsAfterOnentry", value, this.getUserData("context"));
    },
    __transformAutoActionsBeforeOnexit : function(value){

      return qx.util.fsm.State._commonTransformAutoActions("autoActionsBeforeOnexit", value, this.getUserData("context"));
    },
    __transformAutoActionsAfterOnexit : function(value){

      return qx.util.fsm.State._commonTransformAutoActions("autoActionsAfterOnexit", value, this.getUserData("context"));
    },
    __bindIfFunction : function(f, context){

      if(typeof (f) == "function"){

        f = qx.lang.Function.bind(f, context);
      };
      return f;
    },
    addTransition : function(trans){

      if(!trans instanceof qx.util.fsm.Transition){

        throw new Error("Invalid transition: not an instance of " + "qx.util.fsm.Transition");
      };
      this.transitions[trans.getName()] = trans;
    }
  }
});

qx.Class.define("qx.util.fsm.FiniteStateMachine", {
  extend : qx.core.Object,
  construct : function(machineName){

    this.base(arguments);
    this.setName(machineName);
    this.__states = {
    };
    this.__startState = null;
    this.__savedStates = [];
    this.__eventQueue = [];
    this.__blockedEvents = [];
    this.__friendlyToObject = {
    };
    this.__friendlyToHash = {
    };
    this.__hashToFriendly = {
    };
    this.__groupToFriendly = {
    };
    this.__friendlyToGroups = {
    };
  },
  statics : {
    StateChange : {
      CURRENT_STATE : 1,
      POP_STATE_STACK : 2,
      TERMINATE : 3
    },
    EventHandling : {
      PREDICATE : 1,
      BLOCKED : 2
    },
    DebugFlags : {
      EVENTS : 1,
      TRANSITIONS : 2,
      FUNCTION_DETAIL : 4,
      OBJECT_NOT_FOUND : 8
    }
  },
  properties : {
    name : {
      check : "String",
      nullable : true
    },
    state : {
      check : "String",
      nullable : true
    },
    previousState : {
      check : "String",
      nullable : true
    },
    nextState : {
      check : "String",
      nullable : true
    },
    maxSavedStates : {
      check : "Number",
      init : 2
    },
    debugFlags : {
      check : "Number",
      init : 7
    }
  },
  members : {
    __states : null,
    __startState : null,
    __eventQueue : null,
    __blockedEvents : null,
    __savedStates : null,
    __friendlyToObject : null,
    __friendlyToHash : null,
    __hashToFriendly : null,
    __groupToFriendly : null,
    __friendlyToGroups : null,
    __bEventProcessingInProgress : false,
    addState : function(state){

      if(!state instanceof qx.util.fsm.State){

        throw new Error("Invalid state: not an instance of " + "qx.util.fsm.State");
      };
      var stateName = state.getName();
      if(stateName in this.__states){

        throw new Error("State " + stateName + " already exists");
      };
      if(this.__startState == null){

        this.__startState = stateName;
      };
      this.__states[stateName] = state;
    },
    replaceState : function(state, bDispose){

      if(!state instanceof qx.util.fsm.State){

        throw new Error("Invalid state: not an instance of " + "qx.util.fsm.State");
      };
      var stateName = state.getName();
      var oldState = this.__states[stateName];
      this.__states[stateName] = state;
      if(bDispose){

        oldState._bNeedDispose = true;
      };
      return oldState;
    },
    addObject : function(friendlyName, obj, groupNames){

      var hash = obj.toHashCode();
      this.__friendlyToHash[friendlyName] = hash;
      this.__hashToFriendly[hash] = friendlyName;
      this.__friendlyToObject[friendlyName] = obj;
      if(!groupNames){

        return;
      };
      if(typeof (groupNames) == "string"){

        groupNames = [groupNames];
      };
      for(var i = 0;i < groupNames.length;i++){

        var groupName = groupNames[i];
        if(!this.__groupToFriendly[groupName]){

          this.__groupToFriendly[groupName] = {
          };
        };
        this.__groupToFriendly[groupName][friendlyName] = true;
        if(!this.__friendlyToGroups[friendlyName]){

          this.__friendlyToGroups[friendlyName] = [];
        };
        this.__friendlyToGroups[friendlyName].push(groupName);
      };
    },
    removeObject : function(friendlyName){

      var hash;
      var groupName;
      var objName;
      var bGroupEmpty;
      hash = this.__friendlyToHash[friendlyName];
      if(this.__friendlyToGroups[friendlyName]){

        for(var i = 0;i < this.__friendlyToGroups[friendlyName].length;i++){

          groupName = this.__friendlyToGroups[friendlyName][i];
          delete this.__groupToFriendly[groupName][friendlyName];
          bGroupEmpty = true;
          for(objName in this.__groupToFriendly[groupName]){

            bGroupEmpty = false;
            break;
          };
          if(bGroupEmpty){

            delete this.__groupToFriendly[groupName];
          };
        };
        delete this.__friendlyToGroups[friendlyName];
      };
      delete this.__hashToFriendly[hash];
      delete this.__friendlyToHash[friendlyName];
      delete this.__friendlyToObject[friendlyName];
    },
    getObject : function(friendlyName){

      return this.__friendlyToObject[friendlyName];
    },
    getFriendlyName : function(obj){

      var hash = obj ? obj.toHashCode() : null;
      return hash ? this.__hashToFriendly[hash] : null;
    },
    getGroupObjects : function(groupName){

      var a = [];
      for(var name in this.__groupToFriendly[groupName]){

        a.push(name);
      };
      return a;
    },
    displayAllObjects : function(){

      for(var friendlyName in this.__friendlyToHash){

        var hash = this.__friendlyToHash[friendlyName];
        var obj = this.getObject(friendlyName);
        this.debug(friendlyName + " => " + hash);
        this.debug("  " + hash + " => " + this.__hashToFriendly[hash]);
        this.debug("  " + friendlyName + " => " + this.getObject(friendlyName));
        this.debug("  " + this.getObject(friendlyName) + " => " + this.getFriendlyName(obj));
      };
    },
    _getInternalData : function(){

      return ({
        "states" : this.__states,
        "startState" : this.__startState,
        "eventQueue" : this.__eventQueue,
        "blockedEvents" : this.__blockedEvents,
        "savedStates" : this.__savedStates,
        "friendlyToObject" : this.__friendlyToObject,
        "friendlyToHash" : this.__friendlyToHash,
        "hashToFriendly" : this.__hashToFriendly,
        "groupToFriendly" : this.__groupToFriendly,
        "friendlyToGroups" : this.__friendlyToGroups
      });
    },
    start : function(){

      var stateName = this.__startState;
      if(stateName == null){

        throw new Error("Machine started with no available states");
      };
      this.setState(stateName);
      this.setPreviousState(null);
      this.setNextState(null);
      var debugFunctions = (this.getDebugFlags() & qx.util.fsm.FiniteStateMachine.DebugFlags.FUNCTION_DETAIL);
      if(debugFunctions){

        this.debug(this.getName() + "#" + stateName + "#actionsBeforeOnentry");
      };
      this.__states[stateName].getAutoActionsBeforeOnentry()(this);
      if(debugFunctions){

        this.debug(this.getName() + "#" + stateName + "#entry");
      };
      this.__states[stateName].getOnentry()(this, null);
      if(debugFunctions){

        this.debug(this.getName() + "#" + stateName + "#actionsAfterOnentry");
      };
      this.__states[stateName].getAutoActionsAfterOnentry()(this);
    },
    pushState : function(state){

      if(this.__savedStates.length >= this.getMaxSavedStates()){

        throw new Error("Saved-state stack is full");
      };
      if(state === true){

        this.__savedStates.push(this.getState());
      } else if(state){

        this.__savedStates.push(state);
      } else {

        this.__savedStates.push(this.getPreviousState());
      };
    },
    popState : function(){

      if(this.__savedStates.length == 0){

        throw new Error("Saved-state stack is empty");
      };
      return this.__savedStates.pop();
    },
    postponeEvent : function(event){

      this.__blockedEvents.unshift(event);
    },
    enqueueEvent : function(event, bAddAtHead){

      if(bAddAtHead){

        this.__eventQueue.push(event);
      } else {

        this.__eventQueue.unshift(event);
      };
      if(this.getDebugFlags() & qx.util.fsm.FiniteStateMachine.DebugFlags.EVENTS){

        var friendly = this.getFriendlyName(event.getTarget());
        if(bAddAtHead){

          this.debug(this.getName() + ": Pushed event: " + event.getType() + (friendly ? " on " + friendly : ""));
        } else {

          this.debug(this.getName() + ": Queued event: " + event.getType() + (friendly ? " on " + friendly : ""));
        };
      };
    },
    eventListener : function(event){

      var e = event.clone();
      this.enqueueEvent(e, false);
      this.__processEvents();
    },
    fireImmediateEvent : function(type, target, data){

      if(data){

        var event = qx.event.Registration.createEvent(type, qx.event.type.Data, [data, null, false]);
      } else {

        var event = qx.event.Registration.createEvent(type, qx.event.type.Event, [false, false]);
      };
      event.setTarget(target);
      this.eventListener(event);
    },
    scheduleEvent : function(type, target, data, timeout){

      qx.event.Timer.once(function(){

        this.fireImmediateEvent(type, target, data);
      }, this, timeout || 20);
    },
    __processEvents : function(){

      if(this.__bEventProcessingInProgress){

        return;
      };
      this.__bEventProcessingInProgress = true;
      while(this.__eventQueue.length > 0){

        var event = this.__eventQueue.pop();
        var bDispose = this.__run(event);
        if(bDispose){

          event.dispose();
        };
      };
      this.__bEventProcessingInProgress = false;
    },
    __run : function(event){

      var thisState;
      var nextState;
      var prevState;
      var currentState;
      var transitions;
      var e;
      var action;
      var debugFlags = this.getDebugFlags();
      var debugEvents = debugFlags & qx.util.fsm.FiniteStateMachine.DebugFlags.EVENTS;
      var debugTransitions = debugFlags & qx.util.fsm.FiniteStateMachine.DebugFlags.TRANSITIONS;
      var debugFunctions = debugFlags & qx.util.fsm.FiniteStateMachine.DebugFlags.FUNCTION_DETAIL;
      var debugObjectNotFound = debugFlags & qx.util.fsm.FiniteStateMachine.DebugFlags.OBJECT_NOT_FOUND;
      var friendly = this.getFriendlyName(event.getTarget());
      if(debugEvents){

        this.debug(this.getName() + ": Process event: " + event.getType() + (friendly ? " on " + friendly : ""));
      };
      thisState = this.getState();
      currentState = this.__states[thisState];
      transitions = currentState.transitions;
      e = currentState.getEvents()[event.getType()];
      if(!e){

        if(debugEvents){

          this.debug(this.getName() + ": Event '" + event.getType() + "'" + " not handled.  Ignoring.");
        };
        return true;
      };
      if(typeof (e) == "object"){

        if(!friendly){

          if(debugObjectNotFound){

            this.debug(this.getName() + ": Could not find friendly name for '" + event.getType() + "' on '" + event.getTarget() + "'");
          };
          return true;
        };
        action = e[friendly];
        if(!action){

          if(debugEvents){

            this.debug(this.getName() + ": Event '" + event.getType() + "'" + " not handled for target " + friendly + ".  Ignoring.");
          };
          return true;
        };
      } else {

        action = e;
      };
      switch(action){case qx.util.fsm.FiniteStateMachine.EventHandling.PREDICATE:
      break;case qx.util.fsm.FiniteStateMachine.EventHandling.BLOCKED:
      if(debugEvents){

        this.debug(this.getName() + ": Event '" + event.getType() + "'" + " blocked.  Re-queuing.");
      };
      this.__blockedEvents.unshift(event);
      return false;default:
      if(typeof (action) == "string"){

        if(transitions[action]){

          var trans = transitions[action];
          transitions = {
          };
          transitions[action] = trans;
        } else {

          throw new Error("Explicit transition " + action + " does not exist");
        };
        break;
      };};
      for(var t in transitions){

        var trans = transitions[t];
        switch(trans.getPredicate()(this, event)){case true:
        break;case false:
        continue;case null:
        return true;default:
        throw new Error("Transition " + thisState + ":" + t + " returned a value other than " + "true, false, or null.");};
        nextState = trans.getNextState();
        if(typeof (nextState) == "string"){

          if(!nextState in this.__states){

            throw new Error("Attempt to transition to nonexistent state " + nextState);
          };
          this.setNextState(nextState);
        } else {

          switch(nextState){case qx.util.fsm.FiniteStateMachine.StateChange.CURRENT_STATE:
          nextState = thisState;
          this.setNextState(nextState);
          break;case qx.util.fsm.FiniteStateMachine.StateChange.POP_STATE_STACK:
          if(this.__savedStates.length == 0){

            throw new Error("Attempt to transition to POP_STATE_STACK " + "while state stack is empty.");
          };
          nextState = this.__savedStates.pop();
          this.setNextState(nextState);
          break;default:
          throw new Error("Internal error: invalid nextState");};
        };
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#" + t + "#autoActionsBeforeOntransition");
        };
        trans.getAutoActionsBeforeOntransition()(this);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#" + t + "#ontransition");
        };
        trans.getOntransition()(this, event);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#" + t + "#autoActionsAfterOntransition");
        };
        trans.getAutoActionsAfterOntransition()(this);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#autoActionsBeforeOnexit");
        };
        currentState.getAutoActionsBeforeOnexit()(this);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#exit");
        };
        currentState.getOnexit()(this, event);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#autoActionsAfterOnexit");
        };
        currentState.getAutoActionsAfterOnexit()(this);
        if(currentState._bNeedDispose){

          currentState.dispose();
        };
        currentState = this.__states[this.getNextState()];
        this.setPreviousState(thisState);
        this.setState(this.getNextState());
        this.setNextState(null);
        prevState = thisState;
        thisState = nextState;
        nextState = undefined;
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#autoActionsBeforeOnentry");
        };
        currentState.getAutoActionsBeforeOnentry()(this);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#entry");
        };
        currentState.getOnentry()(this, event);
        if(debugFunctions){

          this.debug(this.getName() + "#" + thisState + "#autoActionsAfterOnentry");
        };
        currentState.getAutoActionsAfterOnentry()(this);
        for(var i = 0;i < this.__blockedEvents.length;i++){

          e = this.__blockedEvents.pop();
          this.__eventQueue.unshift(e);
        };
        if(debugTransitions){

          this.debug(this.getName() + "#" + prevState + " => " + this.getName() + "#" + thisState);
        };
        return true;
      };
      if(debugTransitions){

        this.debug(this.getName() + "#" + thisState + ": event '" + event.getType() + "'" + ": no transition found.  No state change.");
      };
      return true;
    }
  },
  destruct : function(){

    this._disposeArray("__eventQueue");
    this._disposeArray("__blockedEvents");
    this.__savedStates = this.__states = null;
  }
});

qx.Class.define("qx.util.fsm.Transition", {
  extend : qx.core.Object,
  construct : function(transitionName, transitionInfo){

    var context;
    this.base(arguments);
    this.setName(transitionName);
    context = transitionInfo.context || window;
    this.setUserData("context", context);
    for(var field in transitionInfo){

      switch(field){case "predicate":
      this.setPredicate(this.__bindIfFunction(transitionInfo[field], context));
      break;case "nextState":
      this.setNextState(transitionInfo[field]);
      break;case "autoActionsBeforeOntransition":
      this.setAutoActionsBeforeOntransition(this.__bindIfFunction(transitionInfo[field], context));
      break;case "autoActionsAfterOntransition":
      this.setAutoActionsAfterOntransition(this.__bindIfFunction(transitionInfo[field], context));
      break;case "ontransition":
      this.setOntransition(this.__bindIfFunction(transitionInfo[field], context));
      break;case "context":
      break;default:
      this.setUserData(field, transitionInfo[field]);
      this.debug("Transition " + transitionName + ": " + "Adding user-provided field to transition: " + field);
      break;};
    };
  },
  properties : {
    name : {
      check : "String",
      nullable : true
    },
    predicate : {
      init : function(fsm, event){

        return true;
      },
      transform : "__transformPredicate"
    },
    nextState : {
      init : qx.util.fsm.FiniteStateMachine.StateChange.CURRENT_STATE,
      transform : "__transformNextState"
    },
    autoActionsBeforeOntransition : {
      init : function(fsm, event){
      },
      transform : "__transformAutoActionsBeforeOntransition"
    },
    autoActionsAfterOntransition : {
      init : function(fsm, event){
      },
      transform : "__transformAutoActionsAfterOntransition"
    },
    ontransition : {
      init : function(fsm, event){
      },
      transform : "__transformOntransition"
    }
  },
  members : {
    __transformPredicate : function(value){

      switch(typeof (value)){case "undefined":
      return function(fsm, event){

        return true;
      };case "boolean":
      return function(fsm, event){

        return value;
      };case "function":
      return qx.lang.Function.bind(value, this.getUserData("context"));default:
      throw new Error("Invalid transition predicate type: " + typeof (value));};
    },
    __transformNextState : function(value){

      switch(typeof (value)){case "string":
      return value;case "number":
      switch(value){case qx.util.fsm.FiniteStateMachine.StateChange.CURRENT_STATE:case qx.util.fsm.FiniteStateMachine.StateChange.POP_STATE_STACK:case qx.util.fsm.FiniteStateMachine.StateChange.TERMINATE:
      return value;default:
      throw new Error("Invalid transition nextState value: " + value + ": " + "nextState must be an explicit state name, " + "or one of the Fsm.StateChange constants");};
      break;default:
      throw new Error("Invalid transition nextState type: " + typeof (value));};
    },
    __transformAutoActionsBeforeOntransition : function(value){

      return qx.util.fsm.State._commonTransformAutoActions("autoActionsBeforeOntransition", value, this.getUserData("context"));
    },
    __transformAutoActionsAfterOntransition : function(value){

      return qx.util.fsm.State._commonTransformAutoActions("autoActionsAfterOntransition", value, this.getUserData("context"));
    },
    __transformOntransition : function(value){

      switch(typeof (value)){case "undefined":
      return function(fsm, event){
      };case "function":
      return qx.lang.Function.bind(value, this.getUserData("context"));default:
      throw new Error("Invalid ontransition type: " + typeof (value));};
    },
    __bindIfFunction : function(f, context){

      if(typeof (f) == "function"){

        f = qx.lang.Function.bind(f, context);
      };
      return f;
    }
  }
});

qx.Class.define("qx.ui.toolbar.CheckBox", {
  extend : qx.ui.form.ToggleButton,
  construct : function(label, icon){

    this.base(arguments, label, icon);
    this.removeListener("keydown", this._onKeyDown);
    this.removeListener("keyup", this._onKeyUp);
  },
  properties : {
    appearance : {
      refine : true,
      init : "toolbar-button"
    },
    show : {
      refine : true,
      init : "inherit"
    },
    focusable : {
      refine : true,
      init : false
    }
  },
  members : {
    _applyVisibility : function(value, old){

      this.base(arguments, value, old);
      var parent = this.getLayoutParent();
      if(parent && parent instanceof qx.ui.toolbar.PartContainer){

        qx.ui.core.queue.Appearance.add(parent);
      };
    }
  }
});

qx.Class.define("qx.ui.progressive.headfoot.Progress", {
  extend : qx.ui.progressive.headfoot.Abstract,
  construct : function(columnWidths, labelArr){

    this.base(arguments);
    this.setHeight(16);
    this.setPadding(0);
    this.__colors = {
    };
    this.__linkColors();
    this.set({
      backgroundColor : this.__colors.background
    });
    this.__progressBar = new qx.ui.core.Widget();
    this.__progressBar.set({
      width : 0,
      backgroundColor : this.__colors.indicatorDone
    });
    this.add(this.__progressBar);
    var spacer = new qx.ui.core.Widget();
    spacer.set({
      backgroundColor : this.__colors.indicatorUndone
    });
    this.add(spacer, {
      flex : 1
    });
    this.__percentDone = new qx.ui.basic.Atom("0%");
    this.__percentDone.set({
      width : 100,
      backgroundColor : this.__colors.percentBackground,
      textColor : this.__colors.percentText
    });
    this.add(this.__percentDone);
    this.exclude();
  },
  members : {
    __total : null,
    __colors : null,
    __progressBar : null,
    __percentDone : null,
    _onChangeTheme : function(){

      this.base(arguments);
      this.__linkColors();
    },
    __linkColors : function(){

      var colorMgr = qx.theme.manager.Color.getInstance();
      this.__colors.background = colorMgr.resolve("progressive-progressbar-background");
      this.__colors.indicatorDone = colorMgr.resolve("progressive-progressbar-indicator-done");
      this.__colors.indicatorUndone = colorMgr.resolve("progressive-progressbar-indicator-undone");
      this.__colors.percentBackground = colorMgr.resolve("progressive-progressbar-percent-background");
      this.__colors.percentText = colorMgr.resolve("progressive-progressbar-percent-text");
    },
    join : function(progressive){

      this.base(arguments, progressive);
      progressive.addListener("renderStart", function(e){

        this.__total = e.getData().initial;
        this.show();
      }, this);
      progressive.addListener("progress", function(e){

        var complete = 1.0 - (e.getData().remaining / this.__total);
        var mySize = this.getBounds();
        if(mySize){

          var barWidth = Math.floor((mySize.width - this.__percentDone.getBounds().width) * complete);
          var percent = Math.floor(complete * 100) + "%";
          if(!isNaN(barWidth)){

            this.__progressBar.setMinWidth(barWidth);
            this.__percentDone.setLabel(percent);
          };
        };
      }, this);
      progressive.addListener("renderEnd", function(e){

        this.exclude();
      }, this);
    }
  },
  destruct : function(){

    this.__colors = null;
    this._disposeObjects("__progressBar", "__percentDone");
  }
});

qx.Bootstrap.define("qx.module.event.Orientation", {
  statics : {
    TYPES : ["orientationchange"],
    BIND_METHODS : ["getOrientation", "isLandscape", "isPortrait"],
    getOrientation : function(){

      return this._orientation;
    },
    isLandscape : function(){

      return this._mode == "landscape";
    },
    isPortrait : function(){

      return this._mode == "portrait";
    },
    normalize : function(event, element, type){

      if(!event){

        return event;
      };
      event._type = type;
      var bindMethods = qx.module.event.Orientation.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Orientation[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(statics.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.ui.table.cellrenderer.String", {
  extend : qx.ui.table.cellrenderer.Conditional,
  members : {
    _getContentHtml : function(cellInfo){

      return qx.bom.String.escape(cellInfo.value || "");
    },
    _getCellClass : function(cellInfo){

      return "qooxdoo-table-cell";
    }
  }
});

qx.Class.define("qx.log.appender.RhinoFile", {
  statics : {
    FILENAME : null,
    __FILEHANDLE : null,
    log : function(logMessage, level){

      if(!qx.log.appender.RhinoFile.__FILEHANDLE){

        qx.log.appender.RhinoFile.create();
      };
      var logFile = qx.log.appender.RhinoFile.__FILEHANDLE;
      logFile.write(logMessage);
      logFile.newLine();
      logFile.flush();
    },
    debug : function(logMessage){

      this.log(logMessage, "debug");
    },
    info : function(logMessage){

      this.log(logMessage, "info");
    },
    warn : function(logMessage){

      this.log(logMessage, "warn");
    },
    error : function(logMessage){

      this.log(logMessage, "error");
    },
    process : function(entry){

      var level = entry.level || "info";
      for(var prop in entry){

        if(prop == "items"){

          var items = entry[prop];
          for(var p = 0,l = items.length;p < l;p++){

            var item = items[p];
            this[level](item.text);
          };
        };
      };
    },
    create : function(){

      if(qx.log.appender.RhinoFile.__FILEHANDLE){

        qx.log.appender.RhinoFile.__FILEHANDLE.close();
      };
      if(!qx.log.appender.RhinoFile.FILENAME){

        qx.log.appender.RhinoFile.FILENAME = "qooxdoo.log";
      };
      var fstream = new java.io.FileWriter(qx.log.appender.RhinoFile.FILENAME, true);
      qx.log.appender.RhinoFile.__FILEHANDLE = new java.io.BufferedWriter(fstream);
    }
  }
});

qx.Theme.define("qx.theme.modern.Font", {
  fonts : {
    "default" : {
      size : (qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista")) ? 12 : 11,
      lineHeight : 1.4,
      family : qx.core.Environment.get("os.name") == "osx" ? ["Lucida Grande"] : ((qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista"))) ? ["Segoe UI", "Candara"] : ["Tahoma", "Liberation Sans", "Arial", "sans-serif"]
    },
    "bold" : {
      size : (qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista")) ? 12 : 11,
      lineHeight : 1.4,
      family : qx.core.Environment.get("os.name") == "osx" ? ["Lucida Grande"] : ((qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista"))) ? ["Segoe UI", "Candara"] : ["Tahoma", "Liberation Sans", "Arial", "sans-serif"],
      bold : true
    },
    "small" : {
      size : (qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista")) ? 11 : 10,
      lineHeight : 1.4,
      family : qx.core.Environment.get("os.name") == "osx" ? ["Lucida Grande"] : ((qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista"))) ? ["Segoe UI", "Candara"] : ["Tahoma", "Liberation Sans", "Arial", "sans-serif"]
    },
    "monospace" : {
      size : 11,
      lineHeight : 1.4,
      family : qx.core.Environment.get("os.name") == "osx" ? ["Lucida Console", "Monaco"] : ((qx.core.Environment.get("os.name") == "win" && (qx.core.Environment.get("os.version") == "7" || qx.core.Environment.get("os.version") == "vista"))) ? ["Consolas"] : ["Consolas", "DejaVu Sans Mono", "Courier New", "monospace"]
    }
  }
});

qx.Theme.define("qx.theme.Modern", {
  title : "Modern",
  meta : {
    color : qx.theme.modern.Color,
    decoration : qx.theme.modern.Decoration,
    font : qx.theme.modern.Font,
    appearance : qx.theme.modern.Appearance,
    icon : qx.theme.icon.Tango
  }
});

qx.Class.define("qx.ui.tree.selection.SelectionManager", {
  extend : qx.ui.core.selection.ScrollArea,
  members : {
    _getSelectableLocationY : function(item){

      var computed = item.getBounds();
      if(computed){

        var top = this._getWidget().getItemTop(item);
        return {
          top : top,
          bottom : top + computed.height
        };
      };
    },
    _isSelectable : function(item){

      return this._isItemSelectable(item) && item instanceof qx.ui.tree.core.AbstractTreeItem;
    },
    _getSelectableFromPointerEvent : function(event){

      return this._getWidget().getTreeItem(event.getTarget());
    },
    getSelectables : function(all){

      var oldUserInteraction = false;
      if(!all){

        oldUserInteraction = this._userInteraction;
        this._userInteraction = true;
      };
      var widget = this._getWidget();
      var result = [];
      if(widget.getRoot() != null){

        var items = widget.getRoot().getItems(true, !!all, widget.getHideRoot());
        for(var i = 0;i < items.length;i++){

          if(this._isSelectable(items[i])){

            result.push(items[i]);
          };
        };
      };
      this._userInteraction = oldUserInteraction;
      return result;
    },
    _getSelectableRange : function(item1, item2){

      if(item1 === item2){

        return [item1];
      };
      var selectables = this.getSelectables();
      var item1Index = selectables.indexOf(item1);
      var item2Index = selectables.indexOf(item2);
      if(item1Index < 0 || item2Index < 0){

        return [];
      };
      if(item1Index < item2Index){

        return selectables.slice(item1Index, item2Index + 1);
      } else {

        return selectables.slice(item2Index, item1Index + 1);
      };
    },
    _getFirstSelectable : function(){

      return this.getSelectables()[0] || null;
    },
    _getLastSelectable : function(){

      var selectables = this.getSelectables();
      if(selectables.length > 0){

        return selectables[selectables.length - 1];
      } else {

        return null;
      };
    },
    _getRelatedSelectable : function(item, relation){

      var widget = this._getWidget();
      var related = null;
      switch(relation){case "above":
      related = widget.getPreviousNodeOf(item, false);
      break;case "under":
      related = widget.getNextNodeOf(item, false);
      break;case "left":case "right":
      break;};
      if(!related){

        return null;
      };
      if(this._isSelectable(related)){

        return related;
      } else {

        return this._getRelatedSelectable(related, relation);
      };
    }
  }
});

qx.Class.define("qx.ui.tree.core.AbstractTreeItem", {
  extend : qx.ui.tree.core.AbstractItem,
  type : "abstract",
  construct : function(label){

    this.base(arguments, label);
    this.__children = [];
  },
  properties : {
    parent : {
      check : "qx.ui.tree.core.AbstractTreeItem",
      nullable : true
    }
  },
  members : {
    __children : null,
    __childrenContainer : null,
    getTree : function(){

      var treeItem = this;
      while(treeItem.getParent()){

        treeItem = treeItem.getParent();
      };
      var tree = treeItem.getLayoutParent() ? treeItem.getLayoutParent().getLayoutParent() : 0;
      if(tree && tree instanceof qx.ui.core.scroll.ScrollPane){

        return tree.getLayoutParent();
      };
      return null;
    },
    _applyOpen : function(value, old){

      if(this.hasChildren()){

        this.getChildrenContainer().setVisibility(value ? "visible" : "excluded");
      };
      this.base(arguments, value, old);
    },
    _shouldShowOpenSymbol : function(){

      var open = this.getChildControl("open", true);
      if(!open){

        return false;
      };
      var tree = this.getTree();
      if(!tree.getRootOpenClose()){

        if(tree.getHideRoot()){

          if(tree.getRoot() == this.getParent()){

            return false;
          };
        } else {

          if(tree.getRoot() == this){

            return false;
          };
        };
      };
      return this.isOpenable();
    },
    _updateIndent : function(){

      if(!this.getTree()){

        return;
      };
      this.base(arguments);
    },
    getLevel : function(){

      var tree = this.getTree();
      if(!tree){

        return;
      };
      var treeItem = this;
      var level = -1;
      while(treeItem){

        treeItem = treeItem.getParent();
        level += 1;
      };
      if(tree.getHideRoot()){

        level -= 1;
      };
      if(!tree.getRootOpenClose()){

        level -= 1;
      };
      return level;
    },
    addState : function(state){

      this.base(arguments, state);
      var children = this._getChildren();
      for(var i = 0,l = children.length;i < l;i++){

        var child = children[i];
        if(child.addState){

          children[i].addState(state);
        };
      };
    },
    removeState : function(state){

      this.base(arguments, state);
      var children = this._getChildren();
      for(var i = 0,l = children.length;i < l;i++){

        var child = children[i];
        if(child.removeState){

          children[i].removeState(state);
        };
      };
    },
    getChildrenContainer : function(){

      if(!this.__childrenContainer){

        this.__childrenContainer = new qx.ui.container.Composite(new qx.ui.layout.VBox()).set({
          visibility : this.isOpen() ? "visible" : "excluded"
        });
      };
      return this.__childrenContainer;
    },
    hasChildrenContainer : function(){

      return this.__childrenContainer;
    },
    getParentChildrenContainer : function(){

      if(this.getParent()){

        return this.getParent().getChildrenContainer();
      } else if(this.getLayoutParent()){

        return this.getLayoutParent();
      } else {

        return null;
      };
    },
    getChildren : function(){

      return this.__children;
    },
    hasChildren : function(){

      return this.__children ? this.__children.length > 0 : false;
    },
    getItems : function(recursive, invisible, ignoreFirst){

      if(ignoreFirst !== false){

        var items = [];
      } else {

        var items = [this];
      };
      var addChildren = this.hasChildren() && (invisible !== false || this.isOpen());
      if(addChildren){

        var children = this.getChildren();
        if(recursive === false){

          items = items.concat(children);
        } else {

          for(var i = 0,chl = children.length;i < chl;i++){

            items = items.concat(children[i].getItems(recursive, invisible, false));
          };
        };
      };
      return items;
    },
    recursiveAddToWidgetQueue : function(){

      var children = this.getItems(true, true, false);
      for(var i = 0,l = children.length;i < l;i++){

        qx.ui.core.queue.Widget.add(children[i]);
      };
    },
    __addChildrenToParent : function(){

      if(this.getParentChildrenContainer()){

        this.getParentChildrenContainer()._addAfter(this.getChildrenContainer(), this);
      };
    },
    add : function(varargs){

      var container = this.getChildrenContainer();
      var tree = this.getTree();
      for(var i = 0,l = arguments.length;i < l;i++){

        var treeItem = arguments[i];
        var oldParent = treeItem.getParent();
        if(oldParent){

          oldParent.remove(treeItem);
        };
        treeItem.setParent(this);
        var hasChildren = this.hasChildren();
        container.add(treeItem);
        if(treeItem.hasChildren()){

          container.add(treeItem.getChildrenContainer());
        };
        this.__children.push(treeItem);
        if(!hasChildren){

          this.__addChildrenToParent();
        };
        if(tree){

          treeItem.recursiveAddToWidgetQueue();
          tree.fireNonBubblingEvent("addItem", qx.event.type.Data, [treeItem]);
        };
      };
      if(tree){

        qx.ui.core.queue.Widget.add(this);
      };
    },
    addAt : function(treeItem, index){

      if(qx.core.Environment.get("qx.debug")){

        this.assert(index <= this.__children.length && index >= 0, "Invalid child index: " + index);
      };
      if(index == this.__children.length){

        this.add(treeItem);
        return;
      };
      var oldParent = treeItem.getParent();
      if(oldParent){

        oldParent.remove(treeItem);
      };
      var container = this.getChildrenContainer();
      treeItem.setParent(this);
      var hasChildren = this.hasChildren();
      var nextItem = this.__children[index];
      container.addBefore(treeItem, nextItem);
      if(treeItem.hasChildren()){

        container.addAfter(treeItem.getChildrenContainer(), treeItem);
      };
      qx.lang.Array.insertAt(this.__children, treeItem, index);
      if(!hasChildren){

        this.__addChildrenToParent();
      };
      if(this.getTree()){

        treeItem.recursiveAddToWidgetQueue();
        qx.ui.core.queue.Widget.add(this);
      };
    },
    addBefore : function(treeItem, before){

      if(qx.core.Environment.get("qx.debug")){

        this.assert(this.__children.indexOf(before) >= 0);
      };
      var oldParent = treeItem.getParent();
      if(oldParent){

        oldParent.remove(treeItem);
      };
      this.addAt(treeItem, this.__children.indexOf(before));
    },
    addAfter : function(treeItem, after){

      if(qx.core.Environment.get("qx.debug")){

        this.assert(this.__children.indexOf(after) >= 0);
      };
      var oldParent = treeItem.getParent();
      if(oldParent){

        oldParent.remove(treeItem);
      };
      this.addAt(treeItem, this.__children.indexOf(after) + 1);
    },
    addAtBegin : function(treeItem){

      this.addAt(treeItem, 0);
    },
    remove : function(varargs){

      for(var i = 0,l = arguments.length;i < l;i++){

        var treeItem = arguments[i];
        if(this.__children.indexOf(treeItem) == -1){

          this.warn("Cannot remove treeitem '" + treeItem + "'. It is not a child of this tree item.");
          return;
        };
        var container = this.getChildrenContainer();
        if(treeItem.hasChildrenContainer()){

          var treeItemChildContainer = treeItem.getChildrenContainer();
          if(container.getChildren().indexOf(treeItemChildContainer) >= 0){

            container.remove(treeItemChildContainer);
          };
        };
        qx.lang.Array.remove(this.__children, treeItem);
        treeItem.setParent(null);
        container.remove(treeItem);
      };
      var tree = this.getTree();
      if(tree){

        tree.fireNonBubblingEvent("removeItem", qx.event.type.Data, [treeItem]);
      };
      qx.ui.core.queue.Widget.add(this);
    },
    removeAt : function(index){

      var item = this.__children[index];
      if(item){

        this.remove(item);
      };
    },
    removeAll : function(){

      var children = this.__children.concat();
      for(var i = this.__children.length - 1;i >= 0;i--){

        this.remove(this.__children[i]);
      };
      return children;
    }
  },
  destruct : function(){

    this._disposeArray("__children");
    this._disposeObjects("__childrenContainer");
  }
});

qx.Class.define("qx.ui.tree.Tree", {
  extend : qx.ui.core.scroll.AbstractScrollArea,
  implement : [qx.ui.core.IMultiSelection, qx.ui.form.IModelSelection, qx.ui.form.IForm],
  include : [qx.ui.core.MMultiSelectionHandling, qx.ui.core.MContentPadding, qx.ui.form.MModelSelection, qx.ui.form.MForm],
  construct : function(){

    this.base(arguments);
    this.__content = new qx.ui.container.Composite(new qx.ui.layout.VBox()).set({
      allowShrinkY : false,
      allowGrowX : true
    });
    this.getChildControl("pane").add(this.__content);
    this.initOpenMode();
    this.initRootOpenClose();
    this.addListener("changeSelection", this._onChangeSelection, this);
    this.addListener("keypress", this._onKeyPress, this);
  },
  events : {
    addItem : "qx.event.type.Data",
    removeItem : "qx.event.type.Data"
  },
  properties : {
    openMode : {
      check : ["tap", "dbltap", "none"],
      init : "dbltap",
      apply : "_applyOpenMode",
      event : "changeOpenMode",
      themeable : true
    },
    root : {
      check : "qx.ui.tree.core.AbstractTreeItem",
      init : null,
      nullable : true,
      event : "changeRoot",
      apply : "_applyRoot"
    },
    hideRoot : {
      check : "Boolean",
      init : false,
      apply : "_applyHideRoot"
    },
    rootOpenClose : {
      check : "Boolean",
      init : false,
      apply : "_applyRootOpenClose"
    },
    appearance : {
      refine : true,
      init : "tree"
    },
    focusable : {
      refine : true,
      init : true
    }
  },
  members : {
    __content : null,
    SELECTION_MANAGER : qx.ui.tree.selection.SelectionManager,
    getChildrenContainer : function(){

      return this.__content;
    },
    _applyRoot : function(value, old){

      var container = this.getChildrenContainer();
      if(old && !old.isDisposed()){

        container.remove(old);
        if(old.hasChildren()){

          container.remove(old.getChildrenContainer());
        };
      };
      if(value){

        container.add(value);
        if(value.hasChildren()){

          container.add(value.getChildrenContainer());
        };
        value.setVisibility(this.getHideRoot() ? "excluded" : "visible");
        value.recursiveAddToWidgetQueue();
      };
    },
    _applyHideRoot : function(value, old){

      var root = this.getRoot();
      if(!root){

        return;
      };
      root.setVisibility(value ? "excluded" : "visible");
      root.recursiveAddToWidgetQueue();
    },
    _applyRootOpenClose : function(value, old){

      var root = this.getRoot();
      if(!root){

        return;
      };
      root.recursiveAddToWidgetQueue();
    },
    _getContentPaddingTarget : function(){

      return this.__content;
    },
    getNextNodeOf : function(treeItem, invisible){

      if((invisible !== false || treeItem.isOpen()) && treeItem.hasChildren()){

        return treeItem.getChildren()[0];
      };
      while(treeItem){

        var parent = treeItem.getParent();
        if(!parent){

          return null;
        };
        var parentChildren = parent.getChildren();
        var index = parentChildren.indexOf(treeItem);
        if(index > -1 && index < parentChildren.length - 1){

          return parentChildren[index + 1];
        };
        treeItem = parent;
      };
      return null;
    },
    getPreviousNodeOf : function(treeItem, invisible){

      var parent = treeItem.getParent();
      if(!parent){

        return null;
      };
      if(this.getHideRoot()){

        if(parent == this.getRoot()){

          if(parent.getChildren()[0] == treeItem){

            return null;
          };
        };
      } else {

        if(treeItem == this.getRoot()){

          return null;
        };
      };
      var parentChildren = parent.getChildren();
      var index = parentChildren.indexOf(treeItem);
      if(index > 0){

        var folder = parentChildren[index - 1];
        while((invisible !== false || folder.isOpen()) && folder.hasChildren()){

          var children = folder.getChildren();
          folder = children[children.length - 1];
        };
        return folder;
      } else {

        return parent;
      };
    },
    getNextSiblingOf : function(treeItem){

      if(treeItem == this.getRoot()){

        return null;
      };
      var parent = treeItem.getParent();
      var siblings = parent.getChildren();
      var index = siblings.indexOf(treeItem);
      if(index < siblings.length - 1){

        return siblings[index + 1];
      };
      return null;
    },
    getPreviousSiblingOf : function(treeItem){

      if(treeItem == this.getRoot()){

        return null;
      };
      var parent = treeItem.getParent();
      var siblings = parent.getChildren();
      var index = siblings.indexOf(treeItem);
      if(index > 0){

        return siblings[index - 1];
      };
      return null;
    },
    getItems : function(recursive, invisible){

      if(this.getRoot() != null){

        return this.getRoot().getItems(recursive, invisible, this.getHideRoot());
      } else {

        return [];
      };
    },
    getChildren : function(){

      if(this.getRoot() != null){

        return [this.getRoot()];
      } else {

        return [];
      };
    },
    getTreeItem : function(widget){

      while(widget){

        if(widget == this){

          return null;
        };
        if(widget instanceof qx.ui.tree.core.AbstractTreeItem){

          return widget;
        };
        widget = widget.getLayoutParent();
      };
      return null;
    },
    _applyOpenMode : function(value, old){

      if(old == "tap"){

        this.removeListener("tap", this._onOpen, this);
      } else if(old == "dbltap"){

        this.removeListener("dbltap", this._onOpen, this);
      };
      if(value == "tap"){

        this.addListener("tap", this._onOpen, this);
      } else if(value == "dbltap"){

        this.addListener("dbltap", this._onOpen, this);
      };
    },
    _onOpen : function(e){

      var treeItem = this.getTreeItem(e.getTarget());
      if(!treeItem || !treeItem.isOpenable()){

        return;
      };
      treeItem.setOpen(!treeItem.isOpen());
      e.stopPropagation();
    },
    _onChangeSelection : function(e){

      var selection = e.getData();
      for(var i = 0;i < selection.length;i++){

        var folder = selection[i];
        while(folder.getParent() != null){

          folder = folder.getParent();
          folder.setOpen(true);
        };
      };
    },
    _onKeyPress : function(e){

      var item = this._getLeadItem();
      if(item !== null){

        switch(e.getKeyIdentifier()){case "Left":
        if(item.isOpenable() && item.isOpen()){

          item.setOpen(false);
        } else if(item.getParent()){

          this.setSelection([item.getParent()]);
        };
        break;case "Right":
        if(item.isOpenable() && !item.isOpen()){

          item.setOpen(true);
        };
        break;case "Enter":case "Space":
        if(item.isOpenable()){

          item.toggleOpen();
        };
        break;};
      };
    }
  },
  destruct : function(){

    this._disposeObjects("__content");
  }
});

qx.Class.define("qx.ui.table.celleditor.ComboBox", {
  extend : qx.core.Object,
  implement : qx.ui.table.ICellEditorFactory,
  properties : {
    validationFunction : {
      check : "Function",
      nullable : true,
      init : null
    },
    listData : {
      check : "Array",
      init : null,
      nullable : true
    }
  },
  members : {
    createCellEditor : function(cellInfo){

      var cellEditor = new qx.ui.form.ComboBox().set({
        appearance : "table-editor-combobox"
      });
      var value = cellInfo.value;
      cellEditor.originalValue = value;
      var cellRenderer = cellInfo.table.getTableColumnModel().getDataCellRenderer(cellInfo.col);
      var label = cellRenderer._getContentHtml(cellInfo);
      if(value != label){

        value = label;
      };
      if(value === null || value === undefined){

        value = "";
      };
      var list = this.getListData();
      if(list){

        var item;
        for(var i = 0,l = list.length;i < l;i++){

          var row = list[i];
          if(row instanceof Array){

            item = new qx.ui.form.ListItem(row[0], row[1]);
          } else {

            item = new qx.ui.form.ListItem(row, null);
          };
          cellEditor.add(item);
        };
      };
      cellEditor.setValue("" + value);
      cellEditor.addListener("appear", function(){

        cellEditor.selectAllText();
      });
      return cellEditor;
    },
    getCellEditorValue : function(cellEditor){

      var value = cellEditor.getValue() || "";
      var validationFunc = this.getValidationFunction();
      if(validationFunc){

        value = validationFunc(value, cellEditor.originalValue);
      };
      if(typeof cellEditor.originalValue == "number"){

        value = parseFloat(value);
      };
      return value;
    }
  }
});

qx.Class.define("qx.xml.String", {
  statics : {
    TO_CHARCODE : {
      "quot" : 34,
      "amp" : 38,
      "lt" : 60,
      "gt" : 62,
      "apos" : 39
    },
    FROM_CHARCODE : {
      '34' : "quot",
      '38' : "amp",
      '60' : "lt",
      '62' : "gt",
      '39' : "apos"
    },
    escape : function(str){

      return qx.util.StringEscape.escape(str, this.FROM_CHARCODE);
    },
    unescape : function(str){

      return qx.util.StringEscape.unescape(str, this.TO_CHARCODE);
    }
  }
});

qx.Class.define("qx.io.rest.Resource", {
  extend : qx.core.Object,
  construct : function(description){

    this.base(arguments);
    this.__longPollHandlers = {
    };
    this.__pollTimers = {
    };
    this.__routes = {
    };
    this._resource = this._tailorResource(this._getResource());
    try{

      if(typeof description !== "undefined"){

        if(qx.core.Environment.get("qx.debug")){

          qx.core.Assert.assertMap(description);
        };
        this.__mapFromDescription(description);
      };
    } catch(e) {

      this.dispose();
      throw e;
    };
  },
  events : {
    "success" : "qx.event.type.Rest",
    "actionSuccess" : "qx.event.type.Rest",
    "error" : "qx.event.type.Rest",
    "actionError" : "qx.event.type.Rest"
  },
  statics : {
    POLL_THROTTLE_LIMIT : 100,
    POLL_THROTTLE_COUNT : 30,
    REQUIRED : true,
    placeholdersFromUrl : function(url){

      return qx.bom.rest.Resource.placeholdersFromUrl(url);
    }
  },
  members : {
    _resource : null,
    __longPollHandlers : null,
    __pollTimers : null,
    __routes : null,
    _getResource : function(description){

      return new qx.bom.rest.Resource(description);
    },
    _tailorResource : function(resource){

      resource.setRequestFactory(this._getRequest);
      resource.setRequestHandler({
        onsuccess : {
          callback : function(req, action){

            return function(){

              var props = [req.getResponse(), null, false, req, action, req.getPhase()];
              this.fireEvent(action + "Success", qx.event.type.Rest, props);
              this.fireEvent("success", qx.event.type.Rest, props);
            };
          },
          context : this
        },
        onfail : {
          callback : function(req, action){

            return function(){

              var props = [req.getResponse(), null, false, req, action, req.getPhase()];
              this.fireEvent(action + "Error", qx.event.type.Rest, props);
              this.fireEvent("error", qx.event.type.Rest, props);
            };
          },
          context : this
        },
        onloadend : {
          callback : function(req, action){

            return function(){

              req.dispose();
            };
          },
          context : this
        }
      });
      return resource;
    },
    configureRequest : function(callback){

      this._resource.configureRequest(callback);
    },
    _getRequest : function(){

      return new qx.io.request.Xhr();
    },
    map : function(action, method, url, check){

      this.__addAction(action, method, url, check);
      this._resource.map(action, method, url, check);
    },
    __addAction : function(action, method, url, check){

      this.__routes[action] = [method, url, check];
      if(action == "get"){

        this[action] = undefined;
      };
      if(typeof this[action] !== "undefined" && this[action] !== null && this[action].action !== true){

        throw new Error("Method with name of action (" + action + ") already exists");
      };
      this.__declareEvent(action + "Success");
      this.__declareEvent(action + "Error");
      this[action] = qx.lang.Function.bind(function(){

        Array.prototype.unshift.call(arguments, action);
        return this.invoke.apply(this, arguments);
      }, this);
      this[action].action = true;
    },
    invoke : function(action, params, data){

      var params = (params == null) ? {
      } : params;
      this.__routes[action].params = params;
      return this._resource.invoke(action, params, data);
    },
    setBaseUrl : function(baseUrl){

      this._resource.setBaseUrl(baseUrl);
    },
    abort : function(varargs){

      this._resource.abort(varargs);
    },
    refresh : function(action){

      this._resource.refresh(action);
    },
    poll : function(action, interval, params, immediately){

      if(this.__pollTimers[action]){

        this.__pollTimers[action].dispose();
      };
      if(typeof params == "undefined"){

        params = this.__routes[action].params;
      };
      if(immediately){

        this.invoke(action, params);
      };
      var intervalListener = function(){

        var reqs = this.getRequestsByAction(action),req = (reqs) ? reqs[0] : null;
        if(!immediately && !req){

          this.invoke(action, params);
          return;
        };
        if(req && (req.isDone() || req.isDisposed())){

          this.refresh(action);
        };
      };
      var timer = this.__pollTimers[action] = new qx.event.Timer(interval);
      timer.addListener("interval", intervalListener, this._resource);
      timer.start();
      return timer;
    },
    longPoll : function(action){

      var res = this,lastResponse,immediateResponseCount = 0;
      function throttle(){

        var isImmediateResponse = lastResponse && ((new Date()) - lastResponse) < res._getThrottleLimit();
        if(isImmediateResponse){

          immediateResponseCount += 1;
          if(immediateResponseCount > res._getThrottleCount()){

            if(qx.core.Environment.get("qx.debug")){

              res.debug("Received successful response more than " + res._getThrottleCount() + " times subsequently, each within " + res._getThrottleLimit() + " ms. Throttling.");
            };
            return true;
          };
        };
        if(!isImmediateResponse){

          immediateResponseCount = 0;
        };
        return false;
      };
      var handlerId = this.__longPollHandlers[action] = this.addListener(action + "Success", function longPollHandler(){

        if(res.isDisposed()){

          return;
        };
        if(!throttle()){

          lastResponse = new Date();
          res.refresh(action);
        };
      });
      this.invoke(action);
      return handlerId;
    },
    _getRequestConfig : function(action, params){

      return this._resource._getRequestConfig(action, params);
    },
    _getThrottleLimit : function(){

      return qx.io.rest.Resource.POLL_THROTTLE_LIMIT;
    },
    _getThrottleCount : function(){

      return qx.io.rest.Resource.POLL_THROTTLE_COUNT;
    },
    __mapFromDescription : function(description){

      Object.keys(description).forEach(function(action){

        var route = description[action],method = route.method,url = route.url,check = route.check;
        if(qx.core.Environment.get("qx.debug")){

          qx.core.Assert.assertString(method, "Method must be string for route '" + action + "'");
          qx.core.Assert.assertString(url, "URL must be string for route '" + action + "'");
        };
        this.map(action, method, url, check);
      }, this);
    },
    __declareEvent : function(type){

      if(!this.constructor.$$events){

        this.constructor.$$events = {
        };
      };
      if(!this.constructor.$$events[type]){

        this.constructor.$$events[type] = "qx.event.type.Rest";
      };
    }
  },
  destruct : function(){

    var action;
    if(this.__pollTimers){

      for(action in this.__pollTimers){

        var timer = this.__pollTimers[action];
        timer.stop();
        timer.dispose();
      };
    };
    if(this.__longPollHandlers){

      for(action in this.__longPollHandlers){

        var id = this.__longPollHandlers[action];
        this.removeListenerById(id);
      };
    };
    this._resource.destruct();
    this._resource = this.__routes = this.__pollTimers = this.__longPollHandlers = null;
  }
});

qx.Bootstrap.define("qx.bom.rest.Resource", {
  extend : qx.event.Emitter,
  construct : function(description){

    this.__requests = {
    };
    this.__routes = {
    };
    this.__pollTimers = {
    };
    this.__longPollHandlers = {
    };
    try{

      if(typeof description !== "undefined"){

        if(qx.core.Environment.get("qx.debug")){

          qx.core.Assert.assertMap(description);
        };
        this.__mapFromDescription(description);
      };
    } catch(e) {

      this.dispose();
      throw e;
    };
  },
  events : {
    "success" : "qx.bom.rest.Resource",
    "actionSuccess" : "qx.bom.rest.Resource",
    "error" : "qx.bom.rest.Resource",
    "actionError" : "qx.bom.rest.Resource"
  },
  statics : {
    POLL_THROTTLE_LIMIT : 100,
    POLL_THROTTLE_COUNT : 30,
    REQUIRED : true,
    placeholdersFromUrl : function(url){

      var placeholderRe = /\{(\w+)(=\w+)?\}/g,match,placeholders = [];
      while((match = placeholderRe.exec(url))){

        placeholders.push(match[1]);
      };
      return placeholders;
    }
  },
  members : {
    __requests : null,
    __routes : null,
    __baseUrl : null,
    __pollTimers : null,
    __longPollHandlers : null,
    __configureRequestCallback : null,
    __requestHandler : null,
    __begetRequest : null,
    setRequestFactory : function(fn){

      this.__begetRequest = fn;
    },
    setRequestHandler : function(handler){

      this.__requestHandler = handler;
    },
    _getRequestHandler : function(){

      return (this.__requestHandler === null) ? {
        onsuccess : {
          callback : function(req, action){

            return function(){

              var response = {
                "id" : parseInt(req.toHashCode(), 10),
                "response" : req.getResponse(),
                "request" : req,
                "action" : action
              };
              this.emit(action + "Success", response);
              this.emit("success", response);
            };
          },
          context : this
        },
        onfail : {
          callback : function(req, action){

            return function(){

              var response = {
                "id" : parseInt(req.toHashCode(), 10),
                "response" : req.getResponse(),
                "request" : req,
                "action" : action
              };
              this.emit(action + "Error", response);
              this.emit("error", response);
            };
          },
          context : this
        },
        onloadend : {
          callback : function(req, action){

            return function(){

              req.dispose();
            };
          },
          context : this
        }
      } : this.__requestHandler;
    },
    getRequestsByAction : function(action){

      var hasRequests = (this.__requests !== null && action in this.__requests);
      return hasRequests ? this.__requests[action] : null;
    },
    configureRequest : function(callback){

      this.__configureRequestCallback = callback;
    },
    _getRequest : function(){

      return (this.__begetRequest === null) ? new qx.bom.request.SimpleXhr() : this.__begetRequest();
    },
    __createRequest : function(action){

      var req = this._getRequest();
      if(!qx.lang.Type.isArray(this.__requests[action])){

        this.__requests[action] = [];
      };
      this.__requests[action].push(req);
      return req;
    },
    map : function(action, method, url, check){

      this.__routes[action] = [method, url, check];
      this.__requests[action] = [];
      if(action == "get"){

        this[action] = undefined;
      };
      if(typeof this[action] !== "undefined" && this[action] !== null && this[action].action !== true){

        throw new Error("Method with name of action (" + action + ") already exists");
      };
      this.__declareEvent(action + "Success");
      this.__declareEvent(action + "Error");
      this[action] = qx.lang.Function.bind(function(){

        Array.prototype.unshift.call(arguments, action);
        return this.invoke.apply(this, arguments);
      }, this);
      this[action].action = true;
    },
    invoke : function(action, params, data){

      var req = this.__createRequest(action),params = params == null ? {
      } : params,config = this._getRequestConfig(action, params);
      this.__routes[action].params = params;
      this.__checkParameters(params, config.check);
      this.__configureRequest(req, config, data);
      if(this.__configureRequestCallback){

        this.__configureRequestCallback.call(this, req, action, params, data);
      };
      this.__configureJsonRequest(req, config, data);
      var reqHandler = this._getRequestHandler();
      req.addListenerOnce("success", reqHandler.onsuccess.callback(req, action), reqHandler.onsuccess.context);
      req.addListenerOnce("fail", reqHandler.onfail.callback(req, action), reqHandler.onfail.context);
      req.addListenerOnce("loadEnd", reqHandler.onloadend.callback(req, action), reqHandler.onloadend.context);
      req.send();
      return parseInt(req.toHashCode(), 10);
    },
    setBaseUrl : function(baseUrl){

      this.__baseUrl = baseUrl;
    },
    __checkParameters : function(params, check){

      if(typeof check !== "undefined"){

        if(qx.core.Environment.get("qx.debug")){

          qx.core.Assert.assertObject(check, "Check must be object with params as keys");
        };
        Object.keys(check).forEach(function(param){

          if(qx.core.Environment.get("qx.debug")){

            if(check[param] !== true){

              if(qx.core.Environment.get("qx.debug")){

                qx.core.Assert.assertRegExp(check[param]);
              };
            };
          };
          if(check[param] === qx.bom.rest.Resource.REQUIRED && typeof params[param] === "undefined"){

            throw new Error("Missing parameter '" + param + "'");
          };
          if(!(check[param] && typeof check[param].test == "function")){

            return;
          };
          if(!check[param].test(params[param])){

            throw new Error("Parameter '" + param + "' is invalid");
          };
        });
      };
    },
    __configureRequest : function(req, config, data){

      req.setUrl(config.url);
      if(!req.setMethod && config.method !== "GET"){

        throw new Error("Request (" + req.classname + ") doesn't support other HTTP methods than 'GET'");
      };
      if(req.setMethod){

        req.setMethod(config.method);
      };
      if(data){

        req.setRequestData(data);
      };
    },
    __configureJsonRequest : function(req, config, data){

      if(data){

        var contentType = req.getRequestHeader("Content-Type");
        if(req.getMethod && qx.util.Request.methodAllowsRequestBody(req.getMethod())){

          if((/application\/.*\+?json/).test(contentType)){

            data = qx.lang.Json.stringify(data);
            req.setRequestData(data);
          };
        };
      };
    },
    abort : function(varargs){

      if(qx.lang.Type.isNumber(varargs)){

        var id = varargs;
        var post = qx.core.ObjectRegistry.getPostId();
        var req = qx.core.ObjectRegistry.fromHashCode(id + post);
        if(req){

          req.abort();
        };
      } else {

        var action = varargs;
        var reqs = this.__requests[action];
        if(this.__requests[action]){

          reqs.forEach(function(req){

            req.abort();
          });
        };
      };
    },
    refresh : function(action){

      this.invoke(action, this.__routes[action].params);
    },
    poll : function(action, interval, params, immediately){

      if(this.__pollTimers[action]){

        this.stopPollByAction(action);
      };
      if(typeof params == "undefined"){

        params = this.__routes[action].params;
      };
      if(immediately){

        this.invoke(action, params);
      };
      var intervalListener = (function(scope){

        return function(){

          var req = scope.__requests[action][0];
          if(!immediately && !req){

            scope.invoke(action, params);
            return;
          };
          if(req.isDone() || req.isDisposed()){

            scope.refresh(action);
          };
        };
      })(this);
      this._startPoll(action, intervalListener, interval);
    },
    _startPoll : function(action, listener, interval){

      this.__pollTimers[action] = {
        "id" : window.setInterval(listener, interval),
        "interval" : interval,
        "listener" : listener
      };
    },
    stopPollByAction : function(action){

      if(action in this.__pollTimers){

        var intervalId = this.__pollTimers[action].id;
        window.clearInterval(intervalId);
      };
    },
    restartPollByAction : function(action){

      if(action in this.__pollTimers){

        var timer = this.__pollTimers[action];
        this.stopPollByAction(action);
        this._startPoll(action, timer.listener, timer.interval);
      };
    },
    longPoll : function(action){

      var res = this,lastResponse,immediateResponseCount = 0;
      function throttle(){

        var isImmediateResponse = lastResponse && ((new Date()) - lastResponse) < res._getThrottleLimit();
        if(isImmediateResponse){

          immediateResponseCount += 1;
          if(immediateResponseCount > res._getThrottleCount()){

            if(qx.core.Environment.get("qx.debug")){

              qx.Bootstrap.debug("Received successful response more than " + res._getThrottleCount() + " times subsequently, each within " + res._getThrottleLimit() + " ms. Throttling.");
            };
            return true;
          };
        };
        if(!isImmediateResponse){

          immediateResponseCount = 0;
        };
        return false;
      };
      var handlerId = this.__longPollHandlers[action] = this.addListener(action + "Success", function longPollHandler(){

        if(res.isDisposed()){

          return;
        };
        if(!throttle()){

          lastResponse = new Date();
          res.refresh(action);
        };
      });
      this.invoke(action);
      return handlerId;
    },
    _getRequestConfig : function(action, params){

      var route = this.__routes[action];
      var params = qx.lang.Object.clone(params);
      if(!qx.lang.Type.isArray(route)){

        throw new Error("No route for action " + action);
      };
      var method = route[0],url = this.__baseUrl !== null ? this.__baseUrl + route[1] : route[1],check = route[2],placeholders = qx.bom.rest.Resource.placeholdersFromUrl(url);
      params = params || {
      };
      placeholders.forEach(function(placeholder){

        var re = new RegExp("{" + placeholder + "=?(\\w+)?}"),defaultValue = url.match(re)[1];
        if(typeof params[placeholder] === "undefined"){

          if(defaultValue){

            params[placeholder] = defaultValue;
          } else {

            params[placeholder] = "";
          };
        };
        url = url.replace(re, params[placeholder]);
      });
      return {
        method : method,
        url : url,
        check : check
      };
    },
    _getThrottleLimit : function(){

      return qx.bom.rest.Resource.POLL_THROTTLE_LIMIT;
    },
    _getThrottleCount : function(){

      return qx.bom.rest.Resource.POLL_THROTTLE_COUNT;
    },
    __mapFromDescription : function(description){

      Object.keys(description).forEach(function(action){

        var route = description[action],method = route.method,url = route.url,check = route.check;
        if(qx.core.Environment.get("qx.debug")){

          qx.core.Assert.assertString(method, "Method must be string for route '" + action + "'");
          qx.core.Assert.assertString(url, "URL must be string for route '" + action + "'");
        };
        this.map(action, method, url, check);
      }, this);
    },
    __declareEvent : function(type){

      if(!this.constructor.$$events){

        this.constructor.$$events = {
        };
      };
      if(!this.constructor.$$events[type]){

        this.constructor.$$events[type] = "qx.bom.rest.Resource";
      };
    },
    isDisposed : function(){

      return this.$$disposed || false;
    },
    dispose : function(){

      if(this.$$disposed){

        return;
      };
      this.$$disposed = true;
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.dispose.level") > 2){

          qx.Bootstrap.debug(this, "Disposing " + this.classname + "[" + this.toHashCode() + "]");
        };
      };
      this.destruct();
      if(qx.core.Environment.get("qx.debug")){

        if(qx.core.Environment.get("qx.debug.dispose.level") > 0){

          var key,value;
          for(key in this){

            value = this[key];
            if(value !== null && typeof value === "object" && !(qx.Bootstrap.isString(value))){

              if(this.constructor.prototype[key] != null){

                continue;
              };
              var ff2 = navigator.userAgent.indexOf("rv:1.8.1") != -1;
              var ie6 = navigator.userAgent.indexOf("MSIE 6.0") != -1;
              if(ff2 || ie6){

                if(value instanceof qx.core.Object || qx.core.Environment.get("qx.debug.dispose.level") > 1){

                  qx.Bootstrap.warn(this, "Missing destruct definition for '" + key + "' in " + this.classname + "[" + this.toHashCode() + "]: " + value);
                  delete this[key];
                };
              } else {

                if(qx.core.Environment.get("qx.debug.dispose.level") > 1){

                  qx.Bootstrap.warn(this, "Missing destruct definition for '" + key + "' in " + this.classname + "[" + this.toHashCode() + "]: " + value);
                  delete this[key];
                };
              };
            };
          };
        };
      };
    },
    destruct : function(){

      var action;
      for(action in this.__requests){

        if(this.__requests[action]){

          this.__requests[action].forEach(function(req){

            req.dispose();
          });
        };
      };
      if(this.__pollTimers){

        for(action in this.__pollTimers){

          this.stopPollByAction(action);
        };
      };
      if(this.__longPollHandlers){

        for(action in this.__longPollHandlers){

          var id = this.__longPollHandlers[action];
          this.removeListenerById(id);
        };
      };
      this.__requests = this.__routes = this.__pollTimers = null;
    }
  }
});

qx.Bootstrap.define("qx.bom.request.SimpleXhr", {
  extend : Object,
  construct : function(url, method){

    if(url !== undefined){

      this.setUrl(url);
    };
    this.useCaching(true);
    this.setMethod((method !== undefined) ? method : "GET");
    this._transport = this._registerTransportListener(this._createTransport());
    qx.core.ObjectRegistry.register(this);
    this.__requestHeaders = {
    };
    this.__parser = this._createResponseParser();
  },
  members : {
    setRequestHeader : function(key, value){

      this.__requestHeaders[key] = value;
      return this;
    },
    getRequestHeader : function(key){

      return this.__requestHeaders[key];
    },
    setUrl : function(url){

      if(qx.lang.Type.isString(url)){

        this.__url = url;
      };
      return this;
    },
    getUrl : function(){

      return this.__url;
    },
    setMethod : function(method){

      if(qx.util.Request.isMethod(method)){

        this.__method = method;
      };
      return this;
    },
    getMethod : function(){

      return this.__method;
    },
    setRequestData : function(data){

      if(qx.lang.Type.isString(data) || qx.lang.Type.isObject(data)){

        this.__requestData = data;
      };
      return this;
    },
    getRequestData : function(){

      return this.__requestData;
    },
    getResponse : function(){

      if(this.__response !== null){

        return this.__response;
      } else {

        return (this._transport.responseXML !== null) ? this._transport.responseXML : this._transport.responseText;
      };
      return null;
    },
    getTransport : function(){

      return this._transport;
    },
    setParser : function(parser){

      return this.__parser.setParser(parser);
    },
    setTimeout : function(millis){

      if(qx.lang.Type.isNumber(millis)){

        this.__timeout = millis;
      };
      return this;
    },
    getTimeout : function(){

      return this.__timeout;
    },
    useCaching : function(value){

      if(qx.lang.Type.isBoolean(value)){

        this.__cache = value;
      };
      return this;
    },
    isCaching : function(){

      return this.__cache;
    },
    isDone : function(){

      return (this._transport.readyState === qx.bom.request.Xhr.DONE);
    },
    toHashCode : function(){

      return this.$$hash;
    },
    isDisposed : function(){

      return !!this.__disposed;
    },
    send : function(){

      var curTimeout = this.getTimeout(),hasRequestData = (this.getRequestData() !== null),hasCacheControlHeader = this.__requestHeaders.hasOwnProperty("Cache-Control"),isBodyForMethodAllowed = qx.util.Request.methodAllowsRequestBody(this.getMethod()),curContentType = this.getRequestHeader("Content-Type"),serializedData = this._serializeData(this.getRequestData(), curContentType);
      if(this.getMethod() === "GET" && hasRequestData){

        this.setUrl(qx.util.Uri.appendParamsToUrl(this.getUrl(), serializedData));
      };
      if(this.isCaching() === false && !hasCacheControlHeader){

        this.setUrl(qx.util.Uri.appendParamsToUrl(this.getUrl(), {
          nocache : new Date().valueOf()
        }));
      };
      if(curTimeout){

        this._transport.timeout = curTimeout;
      };
      this._transport.open(this.getMethod(), this.getUrl(), true);
      for(var key in this.__requestHeaders){

        this._transport.setRequestHeader(key, this.__requestHeaders[key]);
      };
      if(!isBodyForMethodAllowed){

        this._transport.send();
      } else {

        if(typeof curContentType === "undefined"){

          this._transport.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        };
        this._transport.send(serializedData);
      };
    },
    abort : function(){

      this._transport.abort();
      return this;
    },
    dispose : function(){

      if(this._transport.dispose()){

        this.__parser = null;
        this.__disposed = true;
        return true;
      };
      return false;
    },
    _transport : null,
    _createTransport : function(){

      return new qx.bom.request.Xhr();
    },
    _registerTransportListener : function(transport){

      transport.onreadystatechange = qx.lang.Function.bind(this._onReadyStateChange, this);
      transport.onloadend = qx.lang.Function.bind(this._onLoadEnd, this);
      transport.ontimeout = qx.lang.Function.bind(this._onTimeout, this);
      transport.onerror = qx.lang.Function.bind(this._onError, this);
      transport.onabort = qx.lang.Function.bind(this._onAbort, this);
      return transport;
    },
    _createResponseParser : function(){

      return new qx.util.ResponseParser();
    },
    _setResponse : function(response){

      this.__response = response;
    },
    _serializeData : function(data, contentType){

      var isPost = this.getMethod() === "POST",isJson = (/application\/.*\+?json/).test(contentType);
      if(!data){

        return null;
      };
      if(qx.lang.Type.isString(data)){

        return data;
      };
      if(isJson && (qx.lang.Type.isObject(data) || qx.lang.Type.isArray(data))){

        return qx.lang.Json.stringify(data);
      };
      if(qx.lang.Type.isObject(data)){

        return qx.util.Uri.toParameter(data, isPost);
      };
      return null;
    },
    __requestHeaders : null,
    __requestData : null,
    __method : "",
    __url : "",
    __response : null,
    __parser : null,
    __cache : null,
    __timeout : null,
    __disposed : null,
    addListenerOnce : function(name, listener, ctx){

      this._transport._emitter.once(name, listener, ctx);
      return this;
    },
    _onReadyStateChange : function(){

      if(qx.core.Environment.get("qx.debug.io")){

        qx.Bootstrap.debug("Fire readyState: " + this._transport.readyState);
      };
      if(this.isDone()){

        this.__onReadyStateDone();
      };
    },
    __onReadyStateDone : function(){

      if(qx.core.Environment.get("qx.debug.io")){

        qx.Bootstrap.debug("Request completed with HTTP status: " + this._transport.status);
      };
      var response = this._transport.responseText;
      var contentType = this._transport.getResponseHeader("Content-Type");
      if(qx.util.Request.isSuccessful(this._transport.status)){

        if(qx.core.Environment.get("qx.debug.io")){

          qx.Bootstrap.debug("Response is of type: '" + contentType + "'");
        };
        this._setResponse(this.__parser.parse(response, contentType));
        this._transport._emit("success");
      } else {

        try{

          this._setResponse(this.__parser.parse(response, contentType));
        } catch(e) {
        };
        if(this._transport.status !== 0){

          this._transport._emit("fail");
        };
      };
    },
    _onLoadEnd : function(){

      this._transport._emit("loadEnd");
    },
    _onAbort : function(){

      this._transport._emit("abort");
    },
    _onTimeout : function(){

      this._transport._emit("timeout");
      this._transport._emit("fail");
    },
    _onError : function(){

      this._transport._emit("error");
      this._transport._emit("fail");
    }
  }
});

qx.Class.define("qx.util.ExtendedColor", {
  statics : {
    EXTENDED : {
      transparent : [-1, -1, -1],
      aliceblue : [240, 248, 255],
      antiquewhite : [250, 235, 215],
      aqua : [0, 255, 255],
      aquamarine : [127, 255, 212],
      azure : [240, 255, 255],
      beige : [245, 245, 220],
      bisque : [255, 228, 196],
      black : [0, 0, 0],
      blanchedalmond : [255, 235, 205],
      blue : [0, 0, 255],
      blueviolet : [138, 43, 226],
      brown : [165, 42, 42],
      burlywood : [222, 184, 135],
      cadetblue : [95, 158, 160],
      chartreuse : [127, 255, 0],
      chocolate : [210, 105, 30],
      coral : [255, 127, 80],
      cornflowerblue : [100, 149, 237],
      cornsilk : [255, 248, 220],
      crimson : [220, 20, 60],
      cyan : [0, 255, 255],
      darkblue : [0, 0, 139],
      darkcyan : [0, 139, 139],
      darkgoldenrod : [184, 134, 11],
      darkgray : [169, 169, 169],
      darkgreen : [0, 100, 0],
      darkgrey : [169, 169, 169],
      darkkhaki : [189, 183, 107],
      darkmagenta : [139, 0, 139],
      darkolivegreen : [85, 107, 47],
      darkorange : [255, 140, 0],
      darkorchid : [153, 50, 204],
      darkred : [139, 0, 0],
      darksalmon : [233, 150, 122],
      darkseagreen : [143, 188, 143],
      darkslateblue : [72, 61, 139],
      darkslategray : [47, 79, 79],
      darkslategrey : [47, 79, 79],
      darkturquoise : [0, 206, 209],
      darkviolet : [148, 0, 211],
      deeppink : [255, 20, 147],
      deepskyblue : [0, 191, 255],
      dimgray : [105, 105, 105],
      dimgrey : [105, 105, 105],
      dodgerblue : [30, 144, 255],
      firebrick : [178, 34, 34],
      floralwhite : [255, 250, 240],
      forestgreen : [34, 139, 34],
      fuchsia : [255, 0, 255],
      gainsboro : [220, 220, 220],
      ghostwhite : [248, 248, 255],
      gold : [255, 215, 0],
      goldenrod : [218, 165, 32],
      gray : [128, 128, 128],
      green : [0, 128, 0],
      greenyellow : [173, 255, 47],
      grey : [128, 128, 128],
      honeydew : [240, 255, 240],
      hotpink : [255, 105, 180],
      indianred : [205, 92, 92],
      indigo : [75, 0, 130],
      ivory : [255, 255, 240],
      khaki : [240, 230, 140],
      lavender : [230, 230, 250],
      lavenderblush : [255, 240, 245],
      lawngreen : [124, 252, 0],
      lemonchiffon : [255, 250, 205],
      lightblue : [173, 216, 230],
      lightcoral : [240, 128, 128],
      lightcyan : [224, 255, 255],
      lightgoldenrodyellow : [250, 250, 210],
      lightgray : [211, 211, 211],
      lightgreen : [144, 238, 144],
      lightgrey : [211, 211, 211],
      lightpink : [255, 182, 193],
      lightsalmon : [255, 160, 122],
      lightseagreen : [32, 178, 170],
      lightskyblue : [135, 206, 250],
      lightslategray : [119, 136, 153],
      lightslategrey : [119, 136, 153],
      lightsteelblue : [176, 196, 222],
      lightyellow : [255, 255, 224],
      lime : [0, 255, 0],
      limegreen : [50, 205, 50],
      linen : [250, 240, 230],
      magenta : [255, 0, 255],
      maroon : [128, 0, 0],
      mediumaquamarine : [102, 205, 170],
      mediumblue : [0, 0, 205],
      mediumorchid : [186, 85, 211],
      mediumpurple : [147, 112, 219],
      mediumseagreen : [60, 179, 113],
      mediumslateblue : [123, 104, 238],
      mediumspringgreen : [0, 250, 154],
      mediumturquoise : [72, 209, 204],
      mediumvioletred : [199, 21, 133],
      midnightblue : [25, 25, 112],
      mintcream : [245, 255, 250],
      mistyrose : [255, 228, 225],
      moccasin : [255, 228, 181],
      navajowhite : [255, 222, 173],
      navy : [0, 0, 128],
      oldlace : [253, 245, 230],
      olive : [128, 128, 0],
      olivedrab : [107, 142, 35],
      orange : [255, 165, 0],
      orangered : [255, 69, 0],
      orchid : [218, 112, 214],
      palegoldenrod : [238, 232, 170],
      palegreen : [152, 251, 152],
      paleturquoise : [175, 238, 238],
      palevioletred : [219, 112, 147],
      papayawhip : [255, 239, 213],
      peachpuff : [255, 218, 185],
      peru : [205, 133, 63],
      pink : [255, 192, 203],
      plum : [221, 160, 221],
      powderblue : [176, 224, 230],
      purple : [128, 0, 128],
      red : [255, 0, 0],
      rosybrown : [188, 143, 143],
      royalblue : [65, 105, 225],
      saddlebrown : [139, 69, 19],
      salmon : [250, 128, 114],
      sandybrown : [244, 164, 96],
      seagreen : [46, 139, 87],
      seashell : [255, 245, 238],
      sienna : [160, 82, 45],
      silver : [192, 192, 192],
      skyblue : [135, 206, 235],
      slateblue : [106, 90, 205],
      slategray : [112, 128, 144],
      slategrey : [112, 128, 144],
      snow : [255, 250, 250],
      springgreen : [0, 255, 127],
      steelblue : [70, 130, 180],
      tan : [210, 180, 140],
      teal : [0, 128, 128],
      thistle : [216, 191, 216],
      tomato : [255, 99, 71],
      turquoise : [64, 224, 208],
      violet : [238, 130, 238],
      wheat : [245, 222, 179],
      white : [255, 255, 255],
      whitesmoke : [245, 245, 245],
      yellow : [255, 255, 0],
      yellowgreen : [154, 205, 50]
    },
    isExtendedColor : function(value){

      return this.EXTENDED[value] !== undefined;
    },
    toRgb : function(value){

      var ret = this.EXTENDED[value];
      if(ret){

        return ret;
      };
      throw new Error("Could not convert other than extended colors to RGB: " + value);
    },
    toRgbString : function(value){

      return qx.util.ColorUtil.rgbToRgbString(this.toRgb(value));
    }
  }
});

qx.Class.define("qx.ui.form.Form", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__groups = [];
    this._buttons = [];
    this._buttonOptions = [];
    this._validationManager = this._createValidationManager();
    this._resetter = this._createResetter();
  },
  events : {
    "change" : "qx.event.type.Event"
  },
  members : {
    __groups : null,
    _validationManager : null,
    _groupCounter : 0,
    _buttons : null,
    _buttonOptions : null,
    _resetter : null,
    add : function(item, label, validator, name, validatorContext, options){

      if(this.__isFirstAdd()){

        this.__groups.push({
          title : null,
          items : [],
          labels : [],
          names : [],
          options : [],
          headerOptions : {
          }
        });
      };
      this.__groups[this._groupCounter].items.push(item);
      this.__groups[this._groupCounter].labels.push(label);
      this.__groups[this._groupCounter].options.push(options);
      if(name == null){

        name = label.replace(/\s+|&|-|\+|\*|\/|\||!|\.|,|:|\?|;|~|%|\{|\}|\(|\)|\[|\]|<|>|=|\^|@|\\/g, "");
      };
      this.__groups[this._groupCounter].names.push(name);
      this._validationManager.add(item, validator, validatorContext);
      this._resetter.add(item);
      this.fireEvent("change");
    },
    addGroupHeader : function(title, options){

      if(!this.__isFirstAdd()){

        this._groupCounter++;
      };
      this.__groups.push({
        title : title,
        items : [],
        labels : [],
        names : [],
        options : [],
        headerOptions : options
      });
      this.fireEvent("change");
    },
    addButton : function(button, options){

      this._buttons.push(button);
      this._buttonOptions.push(options || null);
      this.fireEvent("change");
    },
    __isFirstAdd : function(){

      return this.__groups.length === 0;
    },
    remove : function(item){

      for(var i = 0;i < this.__groups.length;i++){

        var group = this.__groups[i];
        for(var j = 0;j < group.items.length;j++){

          var storedItem = group.items[j];
          if(storedItem === item){

            group.items.splice(j, 1);
            group.labels.splice(j, 1);
            group.names.splice(j, 1);
            group.options.splice(j, 1);
            this._validationManager.remove(item);
            this._resetter.remove(item);
            this.fireEvent("change");
            return true;
          };
        };
      };
      return false;
    },
    removeGroupHeader : function(title){

      for(var i = 0;i < this.__groups.length;i++){

        var group = this.__groups[i];
        if(group.title === title){

          var targetGroup;
          if(i == 0){

            if(this.__groups.length == 1){

              group.title = null;
              group.headerOptions = {
              };
              this.fireEvent("change");
              return true;
            } else {

              targetGroup = this.__groups[i + 1];
            };
          } else {

            targetGroup = this.__groups[i - 1];
          };
          targetGroup.items = targetGroup.items.concat(group.items);
          targetGroup.labels = targetGroup.labels.concat(group.labels);
          targetGroup.names = targetGroup.names.concat(group.names);
          targetGroup.options = targetGroup.options.concat(group.options);
          this.__groups.splice(i, 1);
          this._groupCounter--;
          this.fireEvent("change");
          return true;
        };
      };
      return false;
    },
    removeButton : function(button){

      for(var i = 0;i < this._buttons.length;i++){

        var storedButton = this._buttons[i];
        if(storedButton === button){

          this._buttons.splice(i, 1);
          this._buttonOptions.splice(i, 1);
          this.fireEvent("change");
          return true;
        };
      };
      return false;
    },
    reset : function(){

      this._resetter.reset();
      this._validationManager.reset();
    },
    redefineResetter : function(){

      this._resetter.redefine();
    },
    redefineResetterItem : function(item){

      this._resetter.redefineItem(item);
    },
    validate : function(){

      return this._validationManager.validate();
    },
    getValidationManager : function(){

      return this._validationManager;
    },
    getGroups : function(){

      return this.__groups;
    },
    getButtons : function(){

      return this._buttons;
    },
    getButtonOptions : function(){

      return this._buttonOptions;
    },
    getItems : function(){

      var items = {
      };
      for(var i = 0;i < this.__groups.length;i++){

        var group = this.__groups[i];
        for(var j = 0;j < group.names.length;j++){

          var name = group.names[j];
          items[name] = group.items[j];
        };
      };
      return items;
    },
    _createValidationManager : function(){

      return new qx.ui.form.validation.Manager();
    },
    _createResetter : function(){

      return new qx.ui.form.Resetter();
    }
  },
  destruct : function(){

    this.__groups = this._buttons = this._buttonOptions = null;
    this._validationManager.dispose();
    this._resetter.dispose();
  }
});

qx.Class.define("qx.ui.mobile.form.Form", {
  extend : qx.ui.form.Form,
  construct : function(){

    this.base(arguments);
    this.__invalidItems = [];
  },
  members : {
    __renderer : null,
    __invalidItems : null,
    _createResetter : function(){

      return new qx.ui.mobile.form.Resetter();
    },
    setRenderer : function(renderer){

      this.__renderer = renderer;
    },
    validate : function(){

      var validateResult = this.base(arguments);
      this.__invalidItems = [];
      if(this.__renderer != null){

        this.__renderer.resetForm();
      };
      var groups = this.getGroups();
      for(var i = 0;i < groups.length;i++){

        var group = groups[i];
        for(var j = 0;j < group.items.length;j++){

          var item = group.items[j];
          if(!item.isValid()){

            this.__invalidItems.push(item);
            if(this.__renderer != null){

              this.__renderer.showErrorForItem(item);
            } else {

              alert('error ' + item.getInvalidMessage());
            };
          };
        };
      };
      if(this.__renderer != null){

        this.__renderer._domUpdated();
      };
      return validateResult;
    },
    showRow : function(groupIndex, rowIndex){

      var item = this._getItemByIndex(groupIndex, rowIndex);
      if(item){

        this.__renderer.showItem(item);
      };
    },
    hideRow : function(groupIndex, rowIndex){

      var item = this._getItemByIndex(groupIndex, rowIndex);
      if(item){

        this.__renderer.hideItem(item);
      };
    },
    _getItemByIndex : function(groupIndex, rowIndex){

      var groups = this.getGroups();
      var group = groups[groupIndex];
      if(group){

        var item = group.items[rowIndex];
        return item;
      };
      return null;
    },
    reset : function(){

      this.base(arguments);
      this.__renderer.resetForm();
    },
    getInvalidItems : function(){

      return this.__invalidItems;
    }
  }
});

qx.Class.define("qx.ui.mobile.form.Resetter", {
  extend : qx.ui.form.Resetter,
  members : {
    _supportsValue : function(formItem){

      var clazz = formItem.constructor;
      return (this.base(arguments, formItem) || qx.Class.hasMixin(clazz, qx.ui.mobile.form.MValue));
    }
  }
});

qx.Bootstrap.define("qx.module.event.GestureHandler", {
  statics : {
    TYPES : ["tap", "longtap", "swipe", "dbltap", "track", "trackstart", "trackend", "roll", "rotate", "pinch"],
    register : function(element, type){

      if(!element.__gestureListeners){

        element.__gestureListeners = 0;
      };
      if(!element.$$gestureHandler){

        if(!qx.core.Environment.get("event.dispatchevent")){

          if(!element.$$emitter){

            element.$$emitter = new qx.event.Emitter();
          };
        };
        element.$$gestureHandler = new qx.event.handler.GestureCore(element, element.$$emitter);
      };
      element.__gestureListeners++;
    },
    unregister : function(element){

      if(element.$$gestureHandler){

        element.__gestureListeners--;
        if(element.__gestureListeners === 0){

          element.$$gestureHandler.dispose();
          element.$$gestureHandler = null;
        };
      };
    }
  },
  defer : function(statics){

    qxWeb.$registerEventHook(statics.TYPES, statics.register, statics.unregister);
  }
});

qx.Class.define("qx.util.StringBuilder", {
  extend : qx.type.BaseArray,
  construct : function(length_or_items){

    qx.type.BaseArray.apply(this, arguments);
  },
  members : {
    clear : function(){

      this.length = 0;
    },
    get : function(){

      return this.join("");
    },
    add : null,
    isEmpty : function(){

      return this.length === 0;
    },
    size : function(){

      return this.join("").length;
    }
  },
  defer : function(statics, members){

    members.add = members.push;
    members.toString = members.get;
    members.valueOf = members.get;
  }
});

qx.Bootstrap.define("qx.ui.website.Calendar", {
  extend : qx.ui.website.Widget,
  statics : {
    _templates : {
      controls : "<tr>" + "<td colspan='1' class='{{cssPrefix}}-prev-container'><button class='{{cssPrefix}}-prev' {{prevDisabled}} title='Previous Month'>&lt;</button></td>" + "<td colspan='5' class='{{cssPrefix}}-month'>{{month}} {{year}}</td>" + "<td colspan='1' class='{{cssPrefix}}-next-container'><button class='{{cssPrefix}}-next' {{nextDisabled}} title='Next Month'>&gt;</button></td>" + "</tr>",
      dayRow : "<tr>" + "{{#row}}<td class='{{cssPrefix}}-dayname'>{{.}}</td>{{/row}}" + "</tr>",
      row : "<tr>" + "{{#row}}<td class='{{cssClass}}'><button class='{{cssPrefix}}-day' {{disabled}} value='{{date}}'>{{day}}</button></td>{{/row}}" + "</tr>",
      table : "<table class='{{cssPrefix}}-container'><thead>{{{thead}}}</thead><tbody>{{{tbody}}}</tbody></table>"
    },
    _config : {
      monthNames : ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
      dayNames : ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
      minDate : null,
      maxDate : null,
      selectableWeekDays : [0, 1, 2, 3, 4, 5, 6]
    },
    calendar : function(date){

      var calendar = new qx.ui.website.Calendar(this);
      calendar.init();
      if(date !== undefined){

        calendar.setValue(date);
      };
      return calendar;
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  events : {
    "changeValue" : "Date"
  },
  members : {
    init : function(){

      if(!this.base(arguments)){

        return false;
      };
      var today = new Date();
      this._normalizeDate(today);
      this._forEachElementWrapped(function(calendar){

        calendar.showValue(today);
      });
      return true;
    },
    render : function(){

      var minDate = this.getConfig("minDate");
      if(minDate){

        this._normalizeDate(minDate);
      };
      var maxDate = this.getConfig("maxDate");
      if(maxDate){

        this._normalizeDate(maxDate);
      };
      this.showValue(this.getProperty("shownValue"));
      this.setEnabled(this.getEnabled());
      return this;
    },
    setValue : function(value){

      this._normalizeDate(value);
      if(this.getConfig("selectableWeekDays").indexOf(value.getDay()) == -1){

        throw new Error("The given date's week day is not selectable.");
      };
      var minDate = this.getConfig("minDate");
      var maxDate = this.getConfig("maxDate");
      if(minDate){

        this._normalizeDate(minDate);
        if(value < minDate){

          throw new Error("Given date " + value.toDateString() + " is earlier than configured minDate " + minDate.toDateString());
        };
      };
      if(maxDate){

        this._normalizeDate(maxDate);
        if(value > maxDate){

          throw new Error("Given date " + value.toDateString() + " is later than configured maxDate " + maxDate.toDateString());
        };
      };
      this.setProperty("value", value);
      this.showValue(value);
      this.emit("changeValue", value);
      return this;
    },
    getValue : function(){

      var value = this.getProperty("value");
      return value ? new Date(value) : null;
    },
    showValue : function(value){

      this.setProperty("shownValue", value);
      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(item){

        if(item.getAttribute("tabindex") < 0){

          item.setAttribute("tabindex", 0);
        };
        item.find("." + cssPrefix + "-prev").$offFirstCollection("tap", this._prevMonth, item);
        item.find("." + cssPrefix + "-next").$offFirstCollection("tap", this._nextMonth, item);
        item.find("." + cssPrefix + "-day").$offFirstCollection("tap", this._selectDay, item);
        item.$offFirstCollection("focus", this._onFocus, item, true).$offFirstCollection("blur", this._onBlur, item, true);
      }, this);
      this.setHtml(this._getTable(value));
      this._forEachElementWrapped(function(item){

        item.find("." + cssPrefix + "-prev").$onFirstCollection("tap", this._prevMonth, item);
        item.find("." + cssPrefix + "-next").$onFirstCollection("tap", this._nextMonth, item);
        item.find("td").not(".qx-calendar-invalid").find("." + cssPrefix + "-day").$onFirstCollection("tap", this._selectDay, item);
        item.$onFirstCollection("focus", this._onFocus, item, true).$onFirstCollection("blur", this._onBlur, item, true);
      }, this);
      return this;
    },
    _prevMonth : function(){

      var shownValue = this.getProperty("shownValue");
      this.showValue(new Date(shownValue.getFullYear(), shownValue.getMonth() - 1));
    },
    _nextMonth : function(){

      var shownValue = this.getProperty("shownValue");
      this.showValue(new Date(shownValue.getFullYear(), shownValue.getMonth() + 1));
    },
    _selectDay : function(e){

      var day = qxWeb(e.getTarget());
      var newStr = day.getAttribute("value");
      var newValue = new Date(newStr);
      this.setValue(newValue);
      this.find("." + this.getCssPrefix() + "-day[value='" + newStr + "']").focus();
    },
    _getTable : function(date){

      var controls = qxWeb.template.render(this.getTemplate("controls"), this._getControlsData(date));
      var dayRow = qxWeb.template.render(this.getTemplate("dayRow"), this._getDayRowData());
      var data = {
        thead : controls + dayRow,
        tbody : this._getWeekRows(date),
        cssPrefix : this.getCssPrefix()
      };
      return qxWeb.template.render(this.getTemplate("table"), data);
    },
    _getControlsData : function(date){

      var prevDisabled = "";
      var minDate = this.getConfig("minDate");
      if(minDate){

        this._normalizeDate(minDate);
        if(date.getMonth() <= minDate.getMonth()){

          prevDisabled = "disabled";
        };
      };
      var nextDisabled = "";
      var maxDate = this.getConfig("maxDate");
      if(maxDate){

        this._normalizeDate(maxDate);
        if(date.getMonth() >= maxDate.getMonth()){

          nextDisabled = "disabled";
        };
      };
      return {
        month : this.getConfig("monthNames")[date.getMonth()],
        year : date.getFullYear(),
        cssPrefix : this.getCssPrefix(),
        prevDisabled : prevDisabled,
        nextDisabled : nextDisabled
      };
    },
    _getDayRowData : function(){

      return {
        row : this.getConfig("dayNames"),
        cssPrefix : this.getCssPrefix()
      };
    },
    _getWeekRows : function(date){

      var weeks = [];
      var today = new Date();
      var helpDate = this._getHelpDate(date);
      var cssPrefix = this.getCssPrefix();
      var minDate = this.getConfig("minDate");
      if(minDate){

        this._normalizeDate(minDate);
      };
      var maxDate = this.getConfig("maxDate");
      if(maxDate){

        this._normalizeDate(maxDate);
      };
      for(var week = 0;week < 6;week++){

        var data = {
          row : []
        };
        for(var i = 0;i < 7;i++){

          var cssClasses = helpDate.getMonth() !== date.getMonth() ? cssPrefix + "-othermonth" : "";
          if(this.getProperty("value")){

            cssClasses += helpDate.toDateString() === this.getProperty("value").toDateString() ? " " + cssPrefix + "-selected" : "";
          };
          cssClasses += today.toDateString() === helpDate.toDateString() ? " " + cssPrefix + "-today" : "";
          var disabled = "";
          if((minDate && helpDate < minDate) || (maxDate && helpDate > maxDate) || this.getConfig("selectableWeekDays").indexOf(helpDate.getDay()) == -1){

            disabled = "disabled";
          };
          cssClasses += (helpDate.getDay() === 0 || helpDate.getDay() === 6) ? " " + cssPrefix + "-weekend" : " " + cssPrefix + "-weekday";
          data.row.push({
            day : helpDate.getDate(),
            date : helpDate.toDateString(),
            cssPrefix : cssPrefix,
            cssClass : cssClasses,
            disabled : disabled
          });
          helpDate.setDate(helpDate.getDate() + 1);
        };
        weeks.push(qxWeb.template.render(this.getTemplate("row"), data));
      };
      return weeks.join("");
    },
    _getHelpDate : function(date){

      var startOfWeek = 1;
      var helpDate = new Date(date.getFullYear(), date.getMonth(), 1);
      var firstDayOfWeek = helpDate.getDay();
      helpDate = new Date(date.getFullYear(), date.getMonth(), 1, 0, 0, 0);
      var nrDaysOfLastMonth = (7 + firstDayOfWeek - startOfWeek) % 7;
      helpDate.setDate(helpDate.getDate() - nrDaysOfLastMonth);
      return helpDate;
    },
    _normalizeDate : function(date){

      date.setHours(0);
      date.setMinutes(0);
      date.setSeconds(0);
      date.setMilliseconds(0);
    },
    _onFocus : function(e){

      this.$onFirstCollection("keydown", this._onKeyDown, this);
    },
    _onBlur : function(e){

      if(this.contains(e.getRelatedTarget()).length === 0){

        this.$offFirstCollection("keydown", this._onKeyDown, this);
      };
    },
    _onKeyDown : function(e){

      var cssPrefix = this.getCssPrefix();
      var target = qxWeb(e.getTarget());
      var key = e.getKeyIdentifier();
      var isDayButton = target.hasClass(cssPrefix + "-day");
      if(isDayButton){

        if(key == "Space"){

          this._selectDay(e);
        } else if(key == "Right"){

          e.preventDefault();
          this._focusNextDay(target);
        } else if(key == "Left"){

          e.preventDefault();
          this._focusPrevDay(target);
        };;
      } else {

        if(key == "Space"){

          if(target.hasClass(cssPrefix + "-prev")){

            e.preventDefault();
            this._prevMonth();
            this.find("." + cssPrefix + "-prev").focus();
          } else if(target.hasClass(cssPrefix + "-next")){

            e.preventDefault();
            this._nextMonth();
            this.find("." + cssPrefix + "-next").focus();
          };
        } else if(key == "Right"){

          e.preventDefault();
          this._nextMonth();
          this.find("." + cssPrefix + "-next").focus();
        } else if(key == "Left"){

          e.preventDefault();
          this._prevMonth();
          this.find("." + cssPrefix + "-prev").focus();
        };;
      };
      e.stopPropagation();
    },
    _focusNextDay : function(currentDay){

      var cssPrefix = this.getCssPrefix();
      var nextDayInWeek = currentDay.getParents().getNext();
      if(nextDayInWeek.length > 0){

        nextDayInWeek.getChildren("." + cssPrefix + "-day").focus();
      } else {

        var nextWeekRow = currentDay.getParents().getParents().getNext();
        if(nextWeekRow.length > 0){

          nextWeekRow.find("> td > ." + cssPrefix + "-day").getFirst().focus();
        } else {

          this._nextMonth();
          var oldDate = new Date(currentDay.getAttribute("value"));
          var newDate = new Date(oldDate.valueOf());
          newDate.setDate(oldDate.getDate() + 1);
          var buttonVal = newDate.toDateString();
          this.find("." + cssPrefix + "-day[value='" + buttonVal + "']").focus();
        };
      };
    },
    _focusPrevDay : function(currentDay){

      var cssPrefix = this.getCssPrefix();
      var prevDayInWeek = currentDay.getParents().getPrev();
      if(prevDayInWeek.length > 0){

        prevDayInWeek.getChildren("." + cssPrefix + "-day").focus();
      } else {

        var prevWeekRow = currentDay.getParents().getParents().getPrev();
        if(prevWeekRow.length > 0){

          prevWeekRow.find("> td > ." + cssPrefix + "-day").getLast().focus();
        } else {

          this._prevMonth();
          var oldDate = new Date(currentDay.getAttribute("value"));
          var newDate = new Date(oldDate.valueOf());
          newDate.setDate(oldDate.getDate() - 1);
          var buttonVal = newDate.toDateString();
          this.find("." + cssPrefix + "-day[value='" + buttonVal + "']").focus();
        };
      };
    },
    dispose : function(){

      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(item){

        item.find("." + cssPrefix + "-prev").$offFirstCollection("tap", this._prevMonth, item);
        item.find("." + cssPrefix + "-next").$offFirstCollection("tap", this._nextMonth, item);
        item.find("." + cssPrefix + "-day").$offFirstCollection("tap", this._selectDay, item);
        item.$offFirstCollection("focus", this._onFocus, item, true).$offFirstCollection("blur", this._onBlur, item, true).$offFirstCollection("keydown", this._onKeyDown, item);
      }, this);
      this.setHtml("");
      return this.base(arguments);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      calendar : statics.calendar
    });
  }
});

qx.Bootstrap.define("qx.bom.PageVisibility", {
  extend : qx.event.Emitter,
  statics : {
    getInstance : function(){

      if(!this.$$instance){

        this.$$instance = new qx.bom.PageVisibility();
      };
      return this.$$instance;
    }
  },
  construct : function(document){

    this.__doc = document || window.document;
    this.__checkAttributeNames();
    var self = this;
    qx.bom.Event.addNativeListener(this.__doc, this.__eventName, function(e){

      self.emit("change", e);
    });
  },
  events : {
    "change" : "Event"
  },
  members : {
    __doc : null,
    __hiddenAttr : null,
    __visibilityAttr : null,
    __eventName : null,
    __checkAttributeNames : function(){

      var prefix = qx.bom.Style.VENDOR_PREFIXES;
      for(var i = 0;i < prefix.length;i++){

        var attr = prefix[i].toLowerCase() + "Hidden";
        if(this.__doc[attr] != undefined){

          this.__hiddenAttr = attr;
          this.__eventName = prefix[i].toLowerCase() + "visibilitychange";
          break;
        };
      };
      for(var i = 0;i < prefix.length;i++){

        var attr = prefix[i].toLowerCase() + "VisibilityState";
        if(this.__doc[attr] != undefined){

          this.__visibilityAttr = attr;
          break;
        };
      };
      if(this.__hiddenAttr == null){

        this.__hiddenAttr = "hidden";
        this.__eventName = "visibilitychange";
      };
      if(this.__visibilityAttr == null){

        this.__visibilityAttr = "visibilityState";
      };
    },
    isHidden : function(){

      return !!this.__doc[this.__hiddenAttr];
    },
    getVisibilityState : function(){

      return this.__doc[this.__visibilityAttr] || "visible";
    }
  }
});

qx.Class.define("qx.data.store.Yql", {
  extend : qx.data.store.Jsonp,
  construct : function(query, delegate, https){

    var prefix = https ? "https" : "http";
    var url = prefix + "://query.yahooapis.com/v1/public/yql?q=" + encodeURIComponent(query) + "&format=json&diagnostics=false&" + "env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys";
    this.base(arguments, url, delegate, "callback");
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Image", {
  extend : qx.ui.table.cellrenderer.AbstractImage,
  construct : function(width, height){

    this.base(arguments);
    if(width){

      this.__imageWidth = width;
    };
    if(height){

      this.__imageHeight = height;
    };
    this.__am = qx.util.AliasManager.getInstance();
  },
  members : {
    __am : null,
    __imageHeight : 16,
    __imageWidth : 16,
    _identifyImage : function(cellInfo){

      var imageHints = {
        imageWidth : this.__imageWidth,
        imageHeight : this.__imageHeight
      };
      if(cellInfo.value == ""){

        imageHints.url = null;
      } else {

        imageHints.url = this.__am.resolve(cellInfo.value);
      };
      imageHints.tooltip = cellInfo.tooltip;
      return imageHints;
    }
  },
  destruct : function(){

    this.__am = null;
  }
});

qx.Interface.define("qx.data.controller.IControllerDelegate", {
  members : {
    configureItem : function(item){
    },
    filter : function(data){
    },
    createItem : function(){
    },
    bindItem : function(controller, item, id){
    }
  }
});

qx.Class.define("qx.bom.media.Video", {
  extend : qx.bom.media.Abstract,
  construct : function(source){

    this._video = document.createElement("video");
    if(source){

      this._video.src = source;
    };
    this.base(arguments, this._video);
  },
  members : {
    _video : null,
    getWidth : function(){

      return this._video.width;
    },
    setWidth : function(value){

      this._video.width = value;
    },
    getHeight : function(){

      return this._video.height;
    },
    setHeight : function(value){

      this._video.height = value;
    },
    getVideoWidth : function(){

      return this._video.videoWidth;
    },
    getVideoHeight : function(){

      return this._video.videoHeight;
    },
    getPoster : function(){

      return this._video.poster;
    },
    setPoster : function(value){

      this._video.poster = value;
    }
  }
});

qx.Class.define("qx.application.Basic", {
  extend : qx.core.Object,
  implement : [qx.application.IApplication],
  members : {
    main : function(){
    },
    finalize : function(){
    },
    close : function(){
    },
    terminate : function(){
    }
  }
});

qx.Bootstrap.define("qx.module.Traversing", {
  statics : {
    EQUALITY_ATTRIBUTES : ["nodeType", "nodeName", "localName", "namespaceURI", "prefix", "nodeValue"],
    add : function(el){

      if(el instanceof qxWeb){

        el = el[0];
      };
      if(qx.module.Traversing.isElement(el) || qx.module.Traversing.isDocument(el) || qx.module.Traversing.isWindow(el) || qx.module.Traversing.isDocumentFragment(el)){

        this.push(el);
      };
      return this;
    },
    getChildren : function(selector){

      var children = [];
      for(var i = 0;i < this.length;i++){

        var found = qx.dom.Hierarchy.getChildElements(this[i]);
        if(selector){

          found = qx.bom.Selector.matches(selector, found);
        };
        children = children.concat(found);
      };
      return qxWeb.$init(children, qxWeb);
    },
    forEach : function(fn, ctx){

      for(var i = 0;i < this.length;i++){

        fn.call(ctx, this[i], i, this);
      };
      return this;
    },
    getParents : function(selector){

      var parents = [];
      for(var i = 0;i < this.length;i++){

        var found = qx.dom.Element.getParentElement(this[i]);
        if(selector){

          found = qx.bom.Selector.matches(selector, [found]);
        };
        parents = parents.concat(found);
      };
      return qxWeb.$init(parents, qxWeb);
    },
    isChildOf : function(parent){

      if(this.length == 0){

        return false;
      };
      var ancestors = null,parentCollection = qxWeb(parent),isChildOf = false;
      for(var i = 0,l = this.length;i < l && !isChildOf;i++){

        ancestors = qxWeb(this[i]).getAncestors();
        for(var j = 0,len = parentCollection.length;j < len;j++){

          if(ancestors.indexOf(parentCollection[j]) != -1){

            isChildOf = true;
            break;
          };
        };
      };
      return isChildOf;
    },
    getAncestors : function(filter){

      return this.__getAncestors(null, filter);
    },
    getAncestorsUntil : function(selector, filter){

      return this.__getAncestors(selector, filter);
    },
    __getAncestors : function(selector, filter){

      var ancestors = [];
      for(var i = 0;i < this.length;i++){

        var parent = qx.dom.Element.getParentElement(this[i]);
        while(parent){

          var found = [parent];
          if(selector && qx.bom.Selector.matches(selector, found).length > 0){

            break;
          };
          if(filter){

            found = qx.bom.Selector.matches(filter, found);
          };
          ancestors = ancestors.concat(found);
          parent = qx.dom.Element.getParentElement(parent);
        };
      };
      return qxWeb.$init(ancestors, qxWeb);
    },
    getClosest : function(selector){

      var closest = [];
      var findClosest = function(current){

        var found = qx.bom.Selector.matches(selector, current);
        if(found.length){

          closest.push(found[0]);
        } else {

          current = current.getParents();
          if(current[0] && current[0].parentNode){

            findClosest(current);
          };
        };
      };
      for(var i = 0;i < this.length;i++){

        findClosest(qxWeb(this[i]));
      };
      return qxWeb.$init(closest, qxWeb);
    },
    find : function(selector){

      var found = [];
      for(var i = 0;i < this.length;i++){

        found = found.concat(qx.bom.Selector.query(selector, this[i]));
      };
      return qxWeb.$init(found, qxWeb);
    },
    getContents : function(){

      var found = [];
      this._forEachElement(function(item){

        found = found.concat(qx.lang.Array.fromCollection(item.childNodes));
      });
      return qxWeb.$init(found, qxWeb);
    },
    is : function(selector){

      if(qx.lang.Type.isFunction(selector)){

        return this.filter(selector).length > 0;
      };
      return !!selector && qx.bom.Selector.matches(selector, this).length > 0;
    },
    eq : function(index){

      return this.slice(index, +index + 1);
    },
    getFirst : function(){

      return this.slice(0, 1);
    },
    getLast : function(){

      return this.slice(this.length - 1);
    },
    has : function(selector){

      var found = [];
      this._forEachElement(function(item, index){

        var descendants = qx.bom.Selector.matches(selector, this.eq(index).getContents());
        if(descendants.length > 0){

          found.push(item);
        };
      });
      return qxWeb.$init(found, this.constructor);
    },
    contains : function(element){

      if(element instanceof Array || element instanceof qxWeb){

        element = element[0];
      };
      if(!element){

        return qxWeb();
      };
      if(qx.dom.Node.isWindow(element)){

        element = element.document;
      };
      return this.filter(function(el){

        if(qx.dom.Node.isWindow(el)){

          el = el.document;
        };
        return qx.dom.Hierarchy.contains(el, element);
      });
    },
    getNext : function(selector){

      var found = this.map(qx.dom.Hierarchy.getNextElementSibling, qx.dom.Hierarchy);
      if(selector){

        found = qxWeb.$init(qx.bom.Selector.matches(selector, found), qxWeb);
      };
      return found;
    },
    getNextAll : function(selector){

      var ret = qx.module.Traversing.__hierarchyHelper(this, "getNextSiblings", selector);
      return qxWeb.$init(ret, qxWeb);
    },
    getNextUntil : function(selector){

      var found = [];
      this.forEach(function(item, index){

        var nextSiblings = qx.dom.Hierarchy.getNextSiblings(item);
        for(var i = 0,l = nextSiblings.length;i < l;i++){

          if(qx.bom.Selector.matches(selector, [nextSiblings[i]]).length > 0){

            break;
          };
          found.push(nextSiblings[i]);
        };
      });
      return qxWeb.$init(found, qxWeb);
    },
    getPrev : function(selector){

      var found = this.map(qx.dom.Hierarchy.getPreviousElementSibling, qx.dom.Hierarchy);
      if(selector){

        found = qxWeb.$init(qx.bom.Selector.matches(selector, found), qxWeb);
      };
      return found;
    },
    getPrevAll : function(selector){

      var ret = qx.module.Traversing.__hierarchyHelper(this, "getPreviousSiblings", selector);
      return qxWeb.$init(ret, qxWeb);
    },
    getPrevUntil : function(selector){

      var found = [];
      this.forEach(function(item, index){

        var previousSiblings = qx.dom.Hierarchy.getPreviousSiblings(item);
        for(var i = 0,l = previousSiblings.length;i < l;i++){

          if(qx.bom.Selector.matches(selector, [previousSiblings[i]]).length > 0){

            break;
          };
          found.push(previousSiblings[i]);
        };
      });
      return qxWeb.$init(found, qxWeb);
    },
    getSiblings : function(selector){

      var ret = qx.module.Traversing.__hierarchyHelper(this, "getSiblings", selector);
      return qxWeb.$init(ret, qxWeb);
    },
    not : function(selector){

      if(qx.lang.Type.isFunction(selector)){

        return this.filter(function(item, index, obj){

          return !selector(item, index, obj);
        });
      };
      var res = qx.bom.Selector.matches(selector, this);
      return this.filter(function(value){

        return res.indexOf(value) === -1;
      });
    },
    getOffsetParent : function(){

      return this.map(qx.bom.element.Location.getOffsetParent);
    },
    isRendered : function(){

      if(!this[0]){

        return false;
      };
      return qx.dom.Hierarchy.isRendered(this[0]);
    },
    __getElementFromArgument : function(arg){

      if(arg instanceof qxWeb){

        return arg[0];
      } else if(qx.Bootstrap.isString(arg)){

        return qxWeb(arg)[0];
      };
      return arg;
    },
    isElement : function(selector){

      return qx.dom.Node.isElement(qx.module.Traversing.__getElementFromArgument(selector));
    },
    isNode : function(selector){

      return qx.dom.Node.isNode(qx.module.Traversing.__getElementFromArgument(selector));
    },
    isNodeName : function(selector, nodeName){

      return qx.dom.Node.isNodeName(qx.module.Traversing.__getElementFromArgument(selector), nodeName);
    },
    isDocument : function(node){

      return qx.dom.Node.isDocument(node);
    },
    isDocumentFragment : function(node){

      return qx.dom.Node.isDocumentFragment(node);
    },
    getWindow : function(selector){

      return qx.dom.Node.getWindow(qx.module.Traversing.__getElementFromArgument(selector));
    },
    isTextNode : function(obj){

      return qx.dom.Node.isText(obj);
    },
    isWindow : function(obj){

      if(obj instanceof qxWeb){

        obj = obj[0];
      };
      return qx.dom.Node.isWindow(obj);
    },
    getDocument : function(selector){

      return qx.dom.Node.getDocument(qx.module.Traversing.__getElementFromArgument(selector));
    },
    getNodeName : function(selector){

      return qx.dom.Node.getName(qx.module.Traversing.__getElementFromArgument(selector));
    },
    getNodeText : function(selector){

      return qx.dom.Node.getText(qx.module.Traversing.__getElementFromArgument(selector));
    },
    isBlockNode : function(selector){

      return qx.dom.Node.isBlockNode(qx.module.Traversing.__getElementFromArgument(selector));
    },
    equalNodes : function(node1, node2){

      node1 = qx.module.Traversing.__getNodeFromArgument(node1);
      node2 = qx.module.Traversing.__getNodeFromArgument(node2);
      if(!node1 || !node2){

        return false;
      };
      if(qx.core.Environment.get("html.node.isequalnode")){

        return node1.isEqualNode(node2);
      } else {

        if(node1 === node2){

          return true;
        };
        var hasAttributes = node1.attributes && node2.attributes;
        if(hasAttributes && node1.attributes.length !== node2.attributes.length){

          return false;
        };
        var hasChildNodes = node1.childNodes && node2.childNodes;
        if(hasChildNodes && node1.childNodes.length !== node2.childNodes.length){

          return false;
        };
        var domAttributes = qx.module.Traversing.EQUALITY_ATTRIBUTES;
        for(var i = 0,l = domAttributes.length;i < l;i++){

          var domAttrib = domAttributes[i];
          if(node1[domAttrib] !== node2[domAttrib]){

            return false;
          };
        };
        if(hasAttributes){

          var node1Attributes = qx.module.Traversing.__getAttributes(node1);
          var node2Attributes = qx.module.Traversing.__getAttributes(node2);
          for(var attr in node1Attributes){

            if(node1Attributes[attr] !== node2Attributes[attr]){

              return false;
            };
          };
        };
        if(hasChildNodes){

          for(var j = 0,m = node1.childNodes.length;j < m;j++){

            var child1 = node1.childNodes[j];
            var child2 = node2.childNodes[j];
            if(!qx.module.Traversing.equalNodes(child1, child2)){

              return false;
            };
          };
        };
        return true;
      };
    },
    __getNodeFromArgument : function(arg){

      if(typeof arg == "string"){

        arg = qxWeb(arg);
      };
      if(arg instanceof Array || arg instanceof qxWeb){

        arg = arg[0];
      };
      return qxWeb.isNode(arg) ? arg : null;
    },
    __getAttributes : function(node){

      var attributes = {
      };
      for(var attr in node.attributes){

        if(attr == "length"){

          continue;
        };
        var name = node.attributes[attr].name;
        var value = node.attributes[attr].value;
        attributes[name] = value;
      };
      return attributes;
    },
    __hierarchyHelper : function(collection, method, selector){

      var all = [];
      var Hierarchy = qx.dom.Hierarchy;
      for(var i = 0,l = collection.length;i < l;i++){

        all.push.apply(all, Hierarchy[method](collection[i]));
      };
      var ret = qx.lang.Array.unique(all);
      if(selector){

        ret = qx.bom.Selector.matches(selector, ret);
      };
      return ret;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "add" : statics.add,
      "getChildren" : statics.getChildren,
      "forEach" : statics.forEach,
      "getParents" : statics.getParents,
      "getAncestors" : statics.getAncestors,
      "getAncestorsUntil" : statics.getAncestorsUntil,
      "__getAncestors" : statics.__getAncestors,
      "getClosest" : statics.getClosest,
      "find" : statics.find,
      "getContents" : statics.getContents,
      "is" : statics.is,
      "eq" : statics.eq,
      "getFirst" : statics.getFirst,
      "getLast" : statics.getLast,
      "has" : statics.has,
      "getNext" : statics.getNext,
      "getNextAll" : statics.getNextAll,
      "getNextUntil" : statics.getNextUntil,
      "getPrev" : statics.getPrev,
      "getPrevAll" : statics.getPrevAll,
      "getPrevUntil" : statics.getPrevUntil,
      "getSiblings" : statics.getSiblings,
      "not" : statics.not,
      "getOffsetParent" : statics.getOffsetParent,
      "isRendered" : statics.isRendered,
      "isChildOf" : statics.isChildOf,
      "contains" : statics.contains
    });
    qxWeb.$attachStatic({
      "isElement" : statics.isElement,
      "isNode" : statics.isNode,
      "isNodeName" : statics.isNodeName,
      "isDocument" : statics.isDocument,
      "isDocumentFragment" : statics.isDocumentFragment,
      "getDocument" : statics.getDocument,
      "getWindow" : statics.getWindow,
      "isWindow" : statics.isWindow,
      "isBlockNode" : statics.isBlockNode,
      "getNodeName" : statics.getNodeName,
      "getNodeText" : statics.getNodeText,
      "isTextNode" : statics.isTextNode,
      "equalNodes" : statics.equalNodes
    });
  }
});

qx.Bootstrap.define("qx.module.Placeholder", {
  statics : {
    PLACEHOLDER_NAME : "$qx_placeholder",
    update : function(){

      if(!qxWeb.env.get("css.placeholder")){

        qxWeb("input[placeholder], textarea[placeholder]").updatePlaceholder();
      };
    },
    updatePlaceholder : function(){

      if(!qxWeb.env.get("css.placeholder")){

        for(var i = 0;i < this.length;i++){

          var item = qxWeb(this[i]);
          var placeholder = item.getAttribute("placeholder");
          var tagName = item.getProperty("tagName");
          if(!placeholder || (tagName != "TEXTAREA" && tagName != "INPUT")){

            continue;
          };
          var placeholderEl = item.getProperty(qx.module.Placeholder.PLACEHOLDER_NAME);
          if(!placeholderEl){

            placeholderEl = qx.module.Placeholder.__createPlaceholderElement(item);
          };
          var itemInBody = item.isRendered();
          var placeholderElInBody = placeholderEl.isRendered();
          if(itemInBody && !placeholderElInBody){

            item.before(placeholderEl);
          } else if(!itemInBody && placeholderElInBody){

            placeholderEl.remove();
            return this;
          };
          qx.module.Placeholder.__syncStyles(item);
        };
      };
      return this;
    },
    __syncStyles : function(item){

      var placeholder = item.getAttribute("placeholder");
      var placeholderEl = item.getProperty(qx.module.Placeholder.PLACEHOLDER_NAME);
      var zIndex = item.getStyle("z-index");
      var paddingHor = parseInt(item.getStyle("padding-left")) + 2 * parseInt(item.getStyle("padding-right"));
      var paddingVer = parseInt(item.getStyle("padding-top")) + 2 * parseInt(item.getStyle("padding-bottom"));
      placeholderEl.setHtml(placeholder).setStyles({
        display : item.getValue() == "" ? "inline" : "none",
        zIndex : zIndex == "auto" ? 1 : zIndex + 1,
        textAlign : item.getStyle("text-align"),
        width : (item.getWidth() - paddingHor - 4) + "px",
        height : (item.getHeight() - paddingVer - 4) + "px",
        left : item.getPosition().left + "px",
        top : item.getPosition().top + "px",
        fontFamily : item.getStyle("font-family"),
        fontStyle : item.getStyle("font-style"),
        fontVariant : item.getStyle("font-variant"),
        fontWeight : item.getStyle("font-weight"),
        fontSize : item.getStyle("font-size"),
        paddingTop : (parseInt(item.getStyle("padding-top")) + 2) + "px",
        paddingRight : (parseInt(item.getStyle("padding-right")) + 2) + "px",
        paddingBottom : (parseInt(item.getStyle("padding-bottom")) + 2) + "px",
        paddingLeft : (parseInt(item.getStyle("padding-left")) + 2) + "px"
      });
    },
    __createPlaceholderElement : function(item){

      var placeholderEl = qxWeb.create("<label>").setStyles({
        position : "absolute",
        color : "#989898",
        overflow : "hidden",
        pointerEvents : "none"
      });
      item.setProperty(qx.module.Placeholder.PLACEHOLDER_NAME, placeholderEl);
      item.on("keyup", function(item){

        var el = item.getProperty(qx.module.Placeholder.PLACEHOLDER_NAME);
        el.setStyle("display", item.getValue() == "" ? "inline" : "none");
      }.bind(this, item));
      if(!qxWeb.env.get("css.pointerevents")){

        placeholderEl.setStyle("cursor", "text").on("tap", function(item){

          item.focus();
        }.bind(this, item));
      };
      return placeholderEl;
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "placeholder" : {
        update : statics.update
      }
    });
    qxWeb.$attach({
      "updatePlaceholder" : statics.updatePlaceholder
    });
  }
});

qx.Bootstrap.define("qx.module.event.Tap", {
  statics : {
    TYPES : ["tap", "longtap", "dbltap"],
    BIND_METHODS : ["getViewportLeft", "getViewportTop", "getDocumentLeft", "getDocumentTop", "getScreenLeft", "getScreenTop"],
    getViewportLeft : function(){

      return this._original.getViewportLeft();
    },
    getViewportTop : function(){

      return this._original.getViewportTop();
    },
    getDocumentLeft : function(){

      return this._original.getDocumentLeft();
    },
    getDocumentTop : function(){

      return this._original.getDocumentTop();
    },
    getScreenLeft : function(){

      return this._original.getScreenLeft();
    },
    getScreenTop : function(){

      return this._original.getScreenTop();
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Tap.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Tap[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Tap.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.ui.container.Resizer", {
  extend : qx.ui.container.Composite,
  include : qx.ui.core.MResizable,
  properties : {
    appearance : {
      refine : true,
      init : "resizer"
    }
  }
});

qx.Mixin.define("qx.dev.unit.MRequirements", {
  include : [qx.dev.unit.MRequirementsBasic],
  statics : {
    __hasPhp : null
  },
  members : {
    hasHttp : function(){

      return document.location.protocol.indexOf("http") == 0;
    },
    hasPhp : function(){

      if(qx.dev.unit.MRequirements.__hasPhp != null){

        return qx.dev.unit.MRequirements.__hasPhp;
      };
      var url = qx.util.ResourceManager.getInstance().toUri("qx/test/xmlhttp/php_version.php");
      var req = new qx.bom.request.Xhr();
      req.onload = qx.lang.Function.bind(function(){

        try{

          qx.lang.Json.parse(req.responseText);
          qx.dev.unit.MRequirements.__hasPhp = true;
        } catch(ex) {

          qx.dev.unit.MRequirements.__hasPhp = false;
        };
      }, this);
      req.onerror = req.abort = qx.lang.Function.bind(function(){

        qx.dev.unit.MRequirements.__hasPhp = false;
      }, this);
      req.open("POST", url, false);
      try{

        req.send();
      } catch(ex) {

        qx.dev.unit.MRequirements.__hasPhp = false;
      };
      return qx.dev.unit.MRequirements.__hasPhp;
    },
    hasGuiApp : function(){

      try{

        return qx.core.Init.getApplication() instanceof qx.application.Standalone;
      } catch(ex) {

        return false;
      };
    },
    hasInlineApp : function(){

      try{

        return qx.core.Init.getApplication() instanceof qx.application.Inline;
      } catch(ex) {

        return false;
      };
    },
    hasNativeApp : function(){

      try{

        return qx.core.Init.getApplication() instanceof qx.application.Native;
      } catch(ex) {

        return false;
      };
    },
    hasChrome : function(){

      return qx.core.Environment.get("browser.name") === "chrome";
    },
    hasFirefox : function(){

      return qx.core.Environment.get("browser.name") === "firefox";
    },
    hasGecko : function(){

      return qx.core.Environment.get("engine.name") == "gecko";
    },
    hasIe : function(){

      return qx.core.Environment.get("browser.name") === "ie";
    },
    hasMshtml : function(){

      return qx.core.Environment.get("engine.name") == "mshtml";
    },
    hasOpera : function(){

      return qx.core.Environment.get("engine.name") == "opera";
    },
    hasWebkit : function(){

      return qx.core.Environment.get("engine.name") == "webkit";
    },
    hasNoSelenium : function(){

      if(window.selenium){

        return false;
      };
      var win = window.top || window;
      var opener = win.opener || win;
      try{

        return typeof opener.selenium == "undefined";
      } catch(ex) {

        return win.name.indexOf("selenium") < 0;
      };
    },
    hasNoWin7 : function(){

      var isWin7 = (qx.core.Environment.get("os.name") === "win" && qx.core.Environment.get("os.version") === "7");
      return (isWin7 ? false : true);
    }
  }
});

qx.Bootstrap.define("qx.bom.client.Pdfjs", {
  statics : {
    getPdfjs : function(callback, context){

      qx.bom.client.Pdfjs.__isAvailable(callback, context);
    },
    __isAvailable : function(callback, context){

      var resManager = qx.util.ResourceManager.getInstance();
      var urlToPdf = resManager.toUri("qx/static/empty.pdf");
      var pluginDetect = qx.bom.client.Pdfjs.__getPluginDetect();
      var pluginDetectCallback = function(PluginDetect){

        var result = (pluginDetect.isMinVersion('PDFjs', 0) === 0);
        callback.call(context, result);
      };
      pluginDetect.onDetectionDone('PDFjs', pluginDetectCallback, urlToPdf);
    },
    __getPluginDetect : null
  },
  defer : function(statics){

    qx.core.Environment.addAsync("plugin.pdfjs", statics.getPdfjs);
  }
});
(function(){

  var PluginDetect = {
    version : "0.8.7",
    name : "PluginDetect",
    openTag : "<",
    hasOwnProperty : ({
    }).constructor.prototype.hasOwnProperty,
    hasOwn : function(c, d){

      var a;
      try{

        a = this.hasOwnProperty.call(c, d);
      } catch(ex) {
      };
      return !!a;
    },
    rgx : {
      str : /string/i,
      num : /number/i,
      fun : /function/i,
      arr : /array/i,
      any : /Boolean|String|Number|Function|Array|Date|RegExp|Error/i
    },
    toString : ({
    }).constructor.prototype.toString,
    isPlainObject : function(c){

      var a = this;
      if(!c || a.rgx.any.test(a.toString.call(c)) || c.window == c || a.rgx.num.test(a.toString.call(c.nodeType))){

        return 0;
      };
      try{

        if(!a.hasOwn(c, "constructor") && !a.hasOwn(c.constructor.prototype, "isPrototypeOf")){

          return 0;
        };
      } catch(ex) {

        return 0;
      };
      return 1;
    },
    isDefined : function(b){

      return typeof b != "undefined";
    },
    isArray : function(b){

      return this.rgx.arr.test(this.toString.call(b));
    },
    isString : function(b){

      return this.rgx.str.test(this.toString.call(b));
    },
    isNum : function(b){

      return this.rgx.num.test(this.toString.call(b));
    },
    isStrNum : function(b){

      return this.isString(b) && (/\d/).test(b);
    },
    isFunc : function(b){

      return this.rgx.fun.test(this.toString.call(b));
    },
    getNumRegx : /[\d][\d\.\_,\-]*/,
    splitNumRegx : /[\.\_,\-]/g,
    getNum : function(b, c){

      var d = this,a = d.isStrNum(b) ? (d.isDefined(c) ? new RegExp(c) : d.getNumRegx).exec(b) : null;
      return a ? a[0] : null;
    },
    compareNums : function(h, f, d){

      var e = this,c,b,a,g = parseInt;
      if(e.isStrNum(h) && e.isStrNum(f)){

        if(e.isDefined(d) && d.compareNums){

          return d.compareNums(h, f);
        };
        c = h.split(e.splitNumRegx);
        b = f.split(e.splitNumRegx);
        for(a = 0;a < Math.min(c.length, b.length);a++){

          if(g(c[a], 10) > g(b[a], 10)){

            return 1;
          };
          if(g(c[a], 10) < g(b[a], 10)){

            return -1;
          };
        };
      };
      return 0;
    },
    formatNum : function(b, c){

      var d = this,a,e;
      if(!d.isStrNum(b)){

        return null;
      };
      if(!d.isNum(c)){

        c = 4;
      };
      c--;
      e = b.replace(/\s/g, "").split(d.splitNumRegx).concat(["0", "0", "0", "0"]);
      for(a = 0;a < 4;a++){

        if(/^(0+)(.+)$/.test(e[a])){

          e[a] = RegExp.$2;
        };
        if(a > c || !(/\d/).test(e[a])){

          e[a] = "0";
        };
      };
      return e.slice(0, 4).join(",");
    },
    getPROP : function(d, b, a){

      try{

        if(d){

          a = d[b];
        };
      } catch(ex) {
      };
      return a;
    },
    findNavPlugin : function(h){

      if(h.dbug){

        return h.dbug;
      };
      if(window.navigator){

        var d = this,n = {
          Find : d.isString(h.find) ? new RegExp(h.find, "i") : h.find,
          Find2 : d.isString(h.find2) ? new RegExp(h.find2, "i") : h.find2,
          Avoid : h.avoid ? (d.isString(h.avoid) ? new RegExp(h.avoid, "i") : h.avoid) : 0,
          Num : h.num ? /\d/ : 0
        },f,c,g,j,m,l,b,a = navigator.mimeTypes,k = navigator.plugins,o = null;
        if(h.mimes && a){

          m = d.isArray(h.mimes) ? [].concat(h.mimes) : (d.isString(h.mimes) ? [h.mimes] : []);
          for(f = 0;f < m.length;f++){

            c = 0;
            try{

              if(d.isString(m[f]) && /[^\s]/.test(m[f])){

                c = a[m[f]].enabledPlugin;
              };
            } catch(ex) {
            };
            if(c){

              g = d.findNavPlugin_(c, n);
              if(g.obj){

                o = g.obj;
              };
              if(o && !d.dbug){

                return o;
              };
            };
          };
        };
        if(h.plugins && k){

          l = d.isArray(h.plugins) ? [].concat(h.plugins) : (d.isString(h.plugins) ? [h.plugins] : []);
          for(f = 0;f < l.length;f++){

            c = 0;
            try{

              if(l[f] && d.isString(l[f])){

                c = k[l[f]];
              };
            } catch(ex) {
            };
            if(c){

              g = d.findNavPlugin_(c, n);
              if(g.obj){

                o = g.obj;
              };
              if(o && !d.dbug){

                return o;
              };
            };
          };
          b = k.length;
          if(d.isNum(b)){

            for(f = 0;f < b;f++){

              c = 0;
              try{

                c = k[f];
              } catch(ex) {
              };
              if(c){

                g = d.findNavPlugin_(c, n);
                if(g.obj){

                  o = g.obj;
                };
                if(o && !d.dbug){

                  return o;
                };
              };
            };
          };
        };
      };
      return o;
    },
    findNavPlugin_ : function(f, d){

      var e = this,c = f.description || "",b = f.name || "",a = {
      };
      if((d.Find.test(c) && (!d.Find2 || d.Find2.test(b)) && (!d.Num || d.Num.test(RegExp.leftContext + RegExp.rightContext))) || (d.Find.test(b) && (!d.Find2 || d.Find2.test(c)) && (!d.Num || d.Num.test(RegExp.leftContext + RegExp.rightContext)))){

        if(!d.Avoid || !(d.Avoid.test(c) || d.Avoid.test(b))){

          a.obj = f;
        };
      };
      return a;
    },
    getVersionDelimiter : ",",
    findPlugin : function(d){

      var c = this,b,d,a = {
        status : -3,
        plugin : 0
      };
      if(!c.isString(d)){

        return a;
      };
      if(d.length == 1){

        c.getVersionDelimiter = d;
        return a;
      };
      d = d.toLowerCase().replace(/\s/g, "");
      b = c.Plugins[d];
      if(!b || !b.getVersion){

        return a;
      };
      a.plugin = b;
      a.status = 1;
      return a;
    },
    AXO : (function(){

      var b,a;
      try{

        b = new window.ActiveXObject();
      } catch(ex) {
      };
      return b ? null : window.ActiveXObject;
    })(),
    getAXO : function(a){

      var d = null,c,b = this;
      try{

        d = new b.AXO(a);
      } catch(ex) {
      };
      if(d){

        b.browser.ActiveXEnabled = !0;
      };
      return d;
    },
    browser : {
    },
    INIT : function(){

      this.init.library(this);
    },
    init : {
      $ : 1,
      hasRun : 0,
      objProperties : function(d, e, c){

        var a,b = {
        };
        if(e && c){

          if(e[c[0]] === 1 && d.hasOwn(e, c[0]) && d.isPlainObject(e)){

            for(a = 0;a < c.length;a = a + 2){

              e[c[a]] = c[a + 1];
              b[c[a]] = 1;
            };
          };
          for(a in e){

            if(e[a] && e[a][c[0]] === 1 && d.hasOwn(e, a) && !d.hasOwn(b, a)){

              this.objProperties(d, e[a], c);
            };
          };
        };
      },
      plugin : function(a, c){

        var d = this,b = d.$;
        if(b.isPlainObject(a) && b.isFunc(a.getVersion)){

          if(!b.isDefined(a.getVersionDone)){

            a.installed = null;
            a.version = null;
            a.version0 = null;
            a.getVersionDone = null;
            a.pluginName = c;
          };
          d.objProperties(b, a, ["$", b, "$$", a]);
        };
      },
      detectIE : function(){

        var init = this,$ = init.$,browser = $.browser,doc = document,e,x,tmp,userAgent = window.navigator ? navigator.userAgent || "" : "",progid,progid1,progid2;
        browser.ActiveXFilteringEnabled = !1;
        browser.ActiveXEnabled = !1;
        try{

          browser.ActiveXFilteringEnabled = !!window.external.msActiveXFilteringEnabled();
        } catch(ex) {
        };
        progid1 = ["Msxml2.XMLHTTP", "Msxml2.DOMDocument", "Microsoft.XMLDOM", "TDCCtl.TDCCtl", "Shell.UIHelper", "HtmlDlgSafeHelper.HtmlDlgSafeHelper", "Scripting.Dictionary"];
        progid2 = ["WMPlayer.OCX", "ShockwaveFlash.ShockwaveFlash", "AgControl.AgControl"];
        progid = progid1.concat(progid2);
        for(x = 0;x < progid.length;x++){

          if($.getAXO(progid[x]) && !$.dbug){

            break;
          };
        };
        if(browser.ActiveXEnabled && browser.ActiveXFilteringEnabled){

          for(x = 0;x < progid2.length;x++){

            if($.getAXO(progid2[x])){

              browser.ActiveXFilteringEnabled = !1;
              break;
            };
          };
        };
        tmp = doc.documentMode;
        try{

          doc.documentMode = "";
        } catch(ex) {
        };
        browser.isIE = browser.ActiveXEnabled || $.isNum(doc.documentMode) || eval("/*@cc_on!@*/!1");
        try{

          doc.documentMode = tmp;
        } catch(ex) {
        };
        browser.verIE = null;
        if(browser.isIE){

          browser.verIE = ($.isNum(doc.documentMode) && doc.documentMode >= 7 ? doc.documentMode : 0) || ((/^(?:.*?[^a-zA-Z])??(?:MSIE|rv\s*\:)\s*(\d+\.?\d*)/i).test(userAgent) ? parseFloat(RegExp.$1, 10) : 7);
        };
      },
      detectNonIE : function(){

        var f = this,d = this.$,a = d.browser,e = window.navigator ? navigator : {
        },c = a.isIE ? "" : e.userAgent || "",g = e.vendor || "",b = e.product || "";
        a.isGecko = (/Gecko/i).test(b) && (/Gecko\s*\/\s*\d/i).test(c);
        a.verGecko = a.isGecko ? d.formatNum((/rv\s*\:\s*([\.\,\d]+)/i).test(c) ? RegExp.$1 : "0.9") : null;
        a.isChrome = (/(Chrome|CriOS)\s*\/\s*(\d[\d\.]*)/i).test(c);
        a.verChrome = a.isChrome ? d.formatNum(RegExp.$2) : null;
        a.isSafari = !a.isChrome && ((/Apple/i).test(g) || !g) && (/Safari\s*\/\s*(\d[\d\.]*)/i).test(c);
        a.verSafari = a.isSafari && (/Version\s*\/\s*(\d[\d\.]*)/i).test(c) ? d.formatNum(RegExp.$1) : null;
        a.isOpera = (/Opera\s*[\/]?\s*(\d+\.?\d*)/i).test(c);
        a.verOpera = a.isOpera && ((/Version\s*\/\s*(\d+\.?\d*)/i).test(c) || 1) ? parseFloat(RegExp.$1, 10) : null;
      },
      detectPlatform : function(){

        var e = this,d = e.$,b,a = window.navigator ? navigator.platform || "" : "";
        d.OS = 100;
        if(a){

          var c = ["Win", 1, "Mac", 2, "Linux", 3, "FreeBSD", 4, "iPhone", 21.1, "iPod", 21.2, "iPad", 21.3, "Win.*CE", 22.1, "Win.*Mobile", 22.2, "Pocket\\s*PC", 22.3, "", 100];
          for(b = c.length - 2;b >= 0;b = b - 2){

            if(c[b] && new RegExp(c[b], "i").test(a)){

              d.OS = c[b + 1];
              break;
            };
          };
        };
      },
      library : function(b){

        var d = this,c = document,a;
        d.objProperties(b, b, ["$", b]);
        for(a in b.Plugins){

          if(b.hasOwn(b.Plugins, a)){

            d.plugin(b.Plugins[a], a);
          };
        };
        b.PUBLIC.init();
        b.win.init();
        b.head = c.getElementsByTagName("head")[0] || c.getElementsByTagName("body")[0] || c.body || null;
        d.detectPlatform();
        d.detectIE();
        d.detectNonIE();
        d.hasRun = 1;
      }
    },
    ev : {
      $ : 1,
      handler : function(d, c, b, a){

        return function(){

          d(c, b, a);
        };
      },
      fPush : function(b, a){

        var c = this,d = c.$;
        if(d.isArray(a) && (d.isFunc(b) || (d.isArray(b) && b.length > 0 && d.isFunc(b[0])))){

          a.push(b);
        };
      },
      call0 : function(d){

        var b = this,c = b.$,a = c.isArray(d) ? d.length : -1;
        if(a > 0 && c.isFunc(d[0])){

          d[0](c, a > 1 ? d[1] : 0, a > 2 ? d[2] : 0, a > 3 ? d[3] : 0);
        } else {

          if(c.isFunc(d)){

            d(c);
          };
        };
      },
      callArray0 : function(a){

        var b = this,d = b.$,c;
        if(d.isArray(a)){

          while(a.length){

            c = a[0];
            a.splice(0, 1);
            b.call0(c);
          };
        };
      },
      call : function(b){

        var a = this;
        a.call0(b);
        a.ifDetectDoneCallHndlrs();
      },
      callArray : function(a){

        var b = this;
        b.callArray0(a);
        b.ifDetectDoneCallHndlrs();
      },
      allDoneHndlrs : [],
      ifDetectDoneCallHndlrs : function(){

        var c = this,d = c.$,a,b;
        if(!c.allDoneHndlrs.length){

          return;
        };
        if(d.win){

          if(!d.win.loaded || d.win.loadPrvtHndlrs.length || d.win.loadPblcHndlrs.length){

            return;
          };
        };
        if(d.Plugins){

          for(a in d.Plugins){

            b = d.Plugins[a];
            if(d.hasOwn(d.Plugins, a) && b && d.isFunc(b.getVersion)){

              if(b.OTF == 3 || (b.DoneHndlrs && b.DoneHndlrs.length)){

                return;
              };
            };
          };
        };
        c.callArray0(c.allDoneHndlrs);
      }
    },
    PUBLIC : {
      $ : 1,
      init : function(){

        var c = this,b = c.$,a;
        for(a in c){

          if(a !== "init" && b.hasOwn(c, a) && b.isFunc(c[a])){

            b[a] = c[a](b);
          };
        };
      },
      isMinVersion : function(b){

        var a = function(j, h, e, d){

          var f = b.findPlugin(j),g,c = -1;
          if(f.status < 0){

            return f.status;
          };
          g = f.plugin;
          h = b.formatNum(b.isNum(h) ? h.toString() : (b.isStrNum(h) ? b.getNum(h) : "0"));
          if(g.getVersionDone != 1){

            g.getVersion(h, e, d);
            if(g.getVersionDone === null){

              g.getVersionDone = 1;
            };
          };
          if(g.installed !== null){

            c = g.installed <= 0.5 ? g.installed : (g.installed == 0.7 ? 1 : (g.version === null ? 0 : (b.compareNums(g.version, h, g) >= 0 ? 1 : -0.1)));
          };
          return c;
        };
        return a;
      },
      getVersion : function(b){

        var a = function(h, e, d){

          var f = b.findPlugin(h),g,c;
          if(f.status < 0){

            return null;
          };
          g = f.plugin;
          if(g.getVersionDone != 1){

            g.getVersion(null, e, d);
            if(g.getVersionDone === null){

              g.getVersionDone = 1;
            };
          };
          c = (g.version || g.version0);
          c = c ? c.replace(b.splitNumRegx, b.getVersionDelimiter) : c;
          return c;
        };
        return a;
      },
      onDetectionDone : function(b){

        var a = function(j, h, d, c){

          var e = b.findPlugin(j),k,g;
          if(e.status == -3){

            return -1;
          };
          g = e.plugin;
          if(!b.isArray(g.DoneHndlrs)){

            g.DoneHndlrs = [];
          };
          if(g.getVersionDone != 1){

            k = b.getVersion ? b.getVersion(j, d, c) : b.isMinVersion(j, "0", d, c);
          };
          if(g.installed != -0.5 && g.installed != 0.5){

            b.ev.call(h);
            return 1;
          };
          b.ev.fPush(h, g.DoneHndlrs);
          return 0;
        };
        return a;
      },
      hasMimeType : function(b){

        var a = function(h){

          if(h && window.navigator && navigator.mimeTypes){

            var l,k,d,j,g,c = navigator.mimeTypes,f = b.isArray(h) ? [].concat(h) : (b.isString(h) ? [h] : []);
            g = f.length;
            for(d = 0;d < g;d++){

              l = 0;
              try{

                if(b.isString(f[d]) && /[^\s]/.test(f[d])){

                  l = c[f[d]];
                };
              } catch(ex) {
              };
              k = l ? l.enabledPlugin : 0;
              if(k && (k.name || k.description)){

                return l;
              };
            };
          };
          return null;
        };
        return a;
      },
      z : 0
    },
    win : {
      $ : 1,
      loaded : false,
      hasRun : 0,
      init : function(){

        var b = this,a = b.$;
        if(!b.hasRun){

          b.hasRun = 1;
          b.onLoad = a.ev.handler(b.$$onLoad, a);
          b.onUnload = a.ev.handler(b.$$onUnload, a);
          b.addEvent("load", b.onLoad);
          b.addEvent("unload", b.onUnload);
        };
      },
      addEvent : function(c, b){

        var e = this,d = e.$,a = window;
        if(d.isFunc(b)){

          if(a.addEventListener){

            a.addEventListener(c, b, false);
          } else {

            if(a.attachEvent){

              a.attachEvent("on" + c, b);
            } else {

              a["on" + c] = e.concatFn(b, a["on" + c]);
            };
          };
        };
      },
      concatFn : function(d, c){

        return function(){

          d();
          if(typeof c == "function"){

            c();
          };
        };
      },
      loadPrvtHndlrs : [],
      loadPblcHndlrs : [],
      unloadHndlrs : [],
      $$onUnload : function(b){

        if(b && b.win){

          b.ev.callArray(b.win.unloadHndlrs);
          for(var a in b){

            b[a] = 0;
          };
          b = 0;
        };
      },
      count : 0,
      countMax : 1,
      intervalLength : 10,
      $$onLoad : function(a){

        if(!a || a.win.loaded){

          return;
        };
        var b = a.win;
        if(b.count < b.countMax && b.loadPrvtHndlrs.length){

          setTimeout(b.onLoad, b.intervalLength);
        } else {

          b.loaded = true;
          a.ev.callArray(b.loadPrvtHndlrs);
          a.ev.callArray(b.loadPblcHndlrs);
        };
        b.count++;
      }
    },
    DOM : {
      $ : 1,
      isEnabled : {
        $ : 1,
        objectTag : function(){

          var a = this.$;
          return a.browser.isIE ? a.browser.ActiveXEnabled : 1;
        },
        objectTagUsingActiveX : function(){

          return this.$.browser.ActiveXEnabled;
        },
        objectProperty : function(){

          var a = this.$;
          return a.browser.isIE && a.browser.verIE >= 7 ? 1 : 0;
        }
      },
      div : null,
      divID : "plugindetect",
      divWidth : 300,
      getDiv : function(){

        var a = this;
        return a.div || document.getElementById(a.divID) || null;
      },
      initDiv : function(){

        var b = this,c = b.$,a;
        if(!b.div){

          a = b.getDiv();
          if(a){

            b.div = a;
          } else {

            b.div = document.createElement("div");
            b.div.id = b.divID;
            b.setStyle(b.div, b.getStyle.div());
            b.insertDivInBody(b.div);
          };
          c.ev.fPush([b.onWinUnloadEmptyDiv, b], c.win.unloadHndlrs);
        };
      },
      pluginSize : 1,
      altHTML : "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",
      emptyNode : function(c){

        var b = this,d = b.$,a;
        if(c && (/div|span/i).test(c.tagName || "")){

          if(d.browser.isIE){

            b.setStyle(c, ["display", "none"]);
          };
          try{

            c.innerHTML = "";
          } catch(ex) {
          };
        };
      },
      onWinUnloadEmptyDiv : function(f, d){

        var b = d.getDiv(),a,c;
        if(b){

          if(b.childNodes){

            for(a = b.childNodes.length - 1;a >= 0;a--){

              c = b.childNodes[a];
              d.emptyNode(c);
            };
            try{

              b.innerHTML = "";
            } catch(ex) {
            };
          };
          if(b.parentNode){

            try{

              b.parentNode.removeChild(b);
            } catch(ex) {
            };
            b = null;
            d.div = null;
          };
        };
      },
      width : function(){

        var g = this,e = g.DOM,f = e.$,d = g.span,b,c,a = -1;
        b = d && f.isNum(d.scrollWidth) ? d.scrollWidth : a;
        c = d && f.isNum(d.offsetWidth) ? d.offsetWidth : a;
        return c > 0 ? c : (b > 0 ? b : Math.max(c, b));
      },
      obj : function(b){

        var d = this,c = d.span,a = c && c.firstChild ? c.firstChild : null;
        return a;
      },
      readyState : function(){

        var b = this,a = b.DOM.$;
        return a.browser.isIE && a.isDefined(a.getPROP(b.span, "readyState")) ? a.getPROP(b.obj(), "readyState") : b.undefined;
      },
      objectProperty : function(){

        var d = this,b = d.DOM,c = b.$,a;
        if(b.isEnabled.objectProperty()){

          a = c.getPROP(d.obj(), "object");
        };
        return a;
      },
      getTagStatus : function(b, m, r, p, f, h){

        var s = this,d = s.$;
        if(!b || !b.span){

          return -2;
        };
        var k = b.width(),c = b.readyState(),a = b.objectProperty();
        if(a){

          return 1.5;
        };
        var g = /clsid\s*\:/i,o = r && g.test(r.outerHTML || "") ? r : (p && g.test(p.outerHTML || "") ? p : 0),i = r && !g.test(r.outerHTML || "") ? r : (p && !g.test(p.outerHTML || "") ? p : 0),l = b && g.test(b.outerHTML || "") ? o : i;
        if(!m || !m.span || !l || !l.span){

          return 0;
        };
        var j = l.width(),n = m.width(),t = l.readyState();
        if(k < 0 || j < 0 || n <= s.pluginSize){

          return 0;
        };
        if(h && !b.pi && d.isDefined(a) && d.browser.isIE && b.tagName == l.tagName && b.time <= l.time && k === j && c === 0 && t !== 0){

          b.pi = 1;
        };
        if(j < n){

          return b.pi ? -0.1 : 0;
        };
        if(k >= n){

          if(!b.winLoaded && d.win.loaded){

            return b.pi ? -0.5 : -1;
          };
          if(d.isNum(f)){

            if(!d.isNum(b.count2)){

              b.count2 = f;
            };
            if(f - b.count2 > 0){

              return b.pi ? -0.5 : -1;
            };
          };
        };
        try{

          if(k == s.pluginSize && (!d.browser.isIE || c === 4)){

            if(!b.winLoaded && d.win.loaded){

              return 1;
            };
            if(b.winLoaded && d.isNum(f)){

              if(!d.isNum(b.count)){

                b.count = f;
              };
              if(f - b.count >= 5){

                return 1;
              };
            };
          };
        } catch(ex) {
        };
        return b.pi ? -0.1 : 0;
      },
      setStyle : function(b, h){

        var c = this,d = c.$,g = b.style,a;
        if(g && h){

          for(a = 0;a < h.length;a = a + 2){

            try{

              g[h[a]] = h[a + 1];
            } catch(ex) {
            };
          };
        };
      },
      getStyle : {
        $ : 1,
        span : function(){

          var a = this.$.DOM;
          return [].concat(this.Default).concat(["display", "inline", "fontSize", (a.pluginSize + 3) + "px", "lineHeight", (a.pluginSize + 3) + "px"]);
        },
        div : function(){

          var a = this.$.DOM;
          return [].concat(this.Default).concat(["display", "block", "width", a.divWidth + "px", "height", (a.pluginSize + 3) + "px", "fontSize", (a.pluginSize + 3) + "px", "lineHeight", (a.pluginSize + 3) + "px", "position", "absolute", "right", "9999px", "top", "-9999px"]);
        },
        plugin : function(b){

          var a = this.$.DOM;
          return "background-color:transparent;background-image:none;vertical-align:baseline;outline-style:none;border-style:none;padding:0px;margin:0px;visibility:" + (b ? "hidden;" : "visible;") + "display:inline;font-size:" + (a.pluginSize + 3) + "px;line-height:" + (a.pluginSize + 3) + "px;";
        },
        Default : ["backgroundColor", "transparent", "backgroundImage", "none", "verticalAlign", "baseline", "outlineStyle", "none", "borderStyle", "none", "padding", "0px", "margin", "0px", "visibility", "visible"]
      },
      insertDivInBody : function(a, h){

        var j = this,d = j.$,b = "pd33993399",c = null,i = h ? window.top.document : window.document,f = i.getElementsByTagName("body")[0] || i.body;
        if(!f){

          try{

            i.write('<div id="' + b + '">.' + d.openTag + "/div>");
            c = i.getElementById(b);
          } catch(ex) {
          };
        };
        f = i.getElementsByTagName("body")[0] || i.body;
        if(f){

          f.insertBefore(a, f.firstChild);
          if(c){

            f.removeChild(c);
          };
        };
      },
      insert : function(b, i, g, h, c, p, n){

        var r = this,f = r.$,s = document,u,l,o = s.createElement("span"),j,a;
        if(!f.isDefined(h)){

          h = "";
        };
        if(f.isString(b) && (/[^\s]/).test(b)){

          b = b.toLowerCase().replace(/\s/g, "");
          u = f.openTag + b + " ";
          u += 'style="' + r.getStyle.plugin(p) + '" ';
          var k = 1,t = 1;
          for(j = 0;j < i.length;j = j + 2){

            if(/[^\s]/.test(i[j + 1])){

              u += i[j] + '="' + i[j + 1] + '" ';
            };
            if((/width/i).test(i[j])){

              k = 0;
            };
            if((/height/i).test(i[j])){

              t = 0;
            };
          };
          u += (k ? 'width="' + r.pluginSize + '" ' : "") + (t ? 'height="' + r.pluginSize + '" ' : "");
          u += ">";
          for(j = 0;j < g.length;j = j + 2){

            if(/[^\s]/.test(g[j + 1])){

              u += f.openTag + 'param name="' + g[j] + '" value="' + g[j + 1] + '" />';
            };
          };
          u += h + f.openTag + "/" + b + ">";
        } else {

          b = "";
          u = h;
        };
        if(!n){

          r.initDiv();
        };
        var m = n || r.getDiv();
        l = {
          span : null,
          winLoaded : f.win.loaded,
          tagName : b,
          outerHTML : u,
          DOM : r,
          time : new Date().getTime(),
          width : r.width,
          obj : r.obj,
          readyState : r.readyState,
          objectProperty : r.objectProperty
        };
        if(m && m.parentNode){

          r.setStyle(o, r.getStyle.span());
          m.appendChild(o);
          try{

            o.innerHTML = u;
          } catch(ex) {
          };
          l.span = o;
          l.winLoaded = f.win.loaded;
        };
        return l;
      }
    },
    file : {
      $ : 1,
      any : "fileStorageAny999",
      valid : "fileStorageValid999",
      save : function(d, f, c){

        var b = this,e = b.$,a;
        if(d && e.isDefined(c)){

          if(!d[b.any]){

            d[b.any] = [];
          };
          if(!d[b.valid]){

            d[b.valid] = [];
          };
          d[b.any].push(c);
          a = b.split(f, c);
          if(a){

            d[b.valid].push(a);
          };
        };
      },
      getValidLength : function(a){

        return a && a[this.valid] ? a[this.valid].length : 0;
      },
      getAnyLength : function(a){

        return a && a[this.any] ? a[this.any].length : 0;
      },
      getValid : function(c, a){

        var b = this;
        return c && c[b.valid] ? b.get(c[b.valid], a) : null;
      },
      getAny : function(c, a){

        var b = this;
        return c && c[b.any] ? b.get(c[b.any], a) : null;
      },
      get : function(d, a){

        var c = d.length - 1,b = this.$.isNum(a) ? a : c;
        return (b < 0 || b > c) ? null : d[b];
      },
      split : function(g, c){

        var b = this,e = b.$,f = null,a,d;
        g = g ? g.replace(".", "\\.") : "";
        d = new RegExp("^(.*[^\\/])(" + g + "\\s*)$");
        if(e.isString(c) && d.test(c)){

          a = (RegExp.$1).split("/");
          f = {
            name : a[a.length - 1],
            ext : RegExp.$2,
            full : c
          };
          a[a.length - 1] = "";
          f.path = a.join("/");
        };
        return f;
      },
      z : 0
    },
    Plugins : {
      pdfjs : {
        $ : 1,
        OTF : null,
        setPluginStatus : function(){

          var b = this,c = b.$,d = b.doc.result,a = b.OTF;
          b.version = null;
          if(a == 3){

            b.installed = -0.5;
          } else {

            b.installed = d > 0 ? 0 : -1;
          };
          if(b.verify && b.verify.isEnabled()){

            b.getVersionDone = 0;
          } else {

            if(b.getVersionDone != 1){

              b.getVersionDone = (b.installed == -0.5 || (b.installed == -1 && b.doc.isDisabled() < 2)) ? 0 : 1;
            };
          };
        },
        getVersion : function(c, b){

          var d = this,e = d.$,a = false,g = d.verify,h = d.NOTF,f = d.doc;
          if(d.getVersionDone === null){

            d.OTF = 0;
            if(g){

              g.init();
            };
          };
          e.file.save(d, ".pdf", b);
          if(d.getVersionDone === 0){

            if(g && g.isEnabled() && e.isNum(d.installed) && d.installed >= 0){

              return;
            };
          };
          if((!a || e.dbug) && f.insertHTMLQuery() > 0){

            a = true;
          };
          d.setPluginStatus();
        },
        doc : {
          $ : 1,
          result : 0,
          mimeType : "application/pdf",
          mimeType_dummy : "application/dummymimepdf",
          DummySpanTagHTML : 0,
          HTML : 0,
          DummyObjTagHTML1 : 0,
          isDisabled : function(){

            var f = this,e = f.$,d = f.$$,c = 0,a = e.browser,b;
            if(d.OTF >= 2){

              c = 2;
            } else {

              if(!e.DOM.isEnabled.objectTag() || !a.isGecko || e.compareNums(a.verGecko, e.formatNum("10")) < 0 || (e.compareNums(a.verGecko, e.formatNum("19")) < 0 && e.hasMimeType(f.mimeType))){

                if(!e.dbug){

                  c = 2;
                };
              };
            };
            if(c < 2){

              b = e.file.getValid(d);
              if(!b || !b.full){

                c = 1;
              };
            };
            return c;
          },
          tabIndex : null,
          method : "",
          queryObject : function(b){

            var j = this,f = j.$,g = j.$$,d = j.HTML ? j.HTML.obj() : 0,a,l,c,i,k = f.dbug && !f.win.loaded ? 0 : 1;
            a = f.DOM.getTagStatus(j.HTML, j.DummySpanTagHTML, j.DummyObjTagHTML1, 0, b);
            if((!j.result || f.dbug) && a < 0){

              if(k){

                j.result = -1;
              };
              j.method += "1,";
            };
            if((!j.result || f.dbug) && a > 0 && !f.hasMimeType(j.mimeType)){

              if(k){

                j.result = 1;
              };
              j.method += "2,";
            };
            try{

              l = d ? d.tabIndex : null;
            } catch(ex) {
            };
            if(!f.isNum(j.tabIndex) && f.isNum(l)){

              j.tabIndex = l;
            };
            if((!j.result || f.dbug) && a > 0 && f.isNum(l) && f.isNum(j.tabIndex) && j.tabIndex !== l){

              if(k){

                j.result = 1;
              };
              j.method += "4,";
            };
            return j.result;
          },
          insertHTMLQuery : function(){

            var g = this,f = g.$,d = g.$$,c,b,e = 1,a = f.DOM.altHTML;
            if(g.isDisabled()){

              return g.result;
            };
            if(d.OTF < 2){

              d.OTF = 2;
            };
            b = f.file.getValid(d).full;
            if(!g.DummySpanTagHTML){

              g.DummySpanTagHTML = f.DOM.insert("", [], [], a, d, e);
            };
            if(!g.HTML){

              g.HTML = f.DOM.insert("object", ["type", g.mimeType, "data", b], ["src", b], a, d, e);
            };
            if(!g.DummyObjTagHTML1){

              g.DummyObjTagHTML1 = f.DOM.insert("object", ["type", g.mimeType_dummy], [], a, d, e);
            };
            g.queryObject();
            if((g.result > 0 || g.result < 0) && !f.dbug){

              return g.result;
            };
            d.NOTF.init();
            return g.result;
          }
        },
        NOTF : {
          $ : 1,
          count : 0,
          countMax : 25,
          intervalLength : 250,
          init : function(){

            var d = this,b = d.$,a = d.$$,c = a.doc;
            if(a.OTF < 3 && c.HTML){

              a.OTF = 3;
              d.onIntervalQuery = b.ev.handler(d.$$onIntervalQuery, d);
              if(!b.win.loaded){

                b.win.loadPrvtHndlrs.push([d.onWinLoadQuery, d]);
              };
              setTimeout(d.onIntervalQuery, d.intervalLength);
            };
          },
          $$onIntervalQuery : function(d){

            var b = d.$,a = d.$$,c = a.doc;
            if(a.OTF == 3){

              c.queryObject(d.count);
              if(c.result || (b.win.loaded && d.count > d.countMax)){

                d.queryCompleted();
              };
            };
            d.count++;
            if(a.OTF == 3){

              setTimeout(d.onIntervalQuery, d.intervalLength);
            };
          },
          onWinLoadQuery : function(b, d){

            var a = d.$$,c = a.doc;
            if(a.OTF == 3){

              c.queryObject(d.count);
              d.queryCompleted();
            };
          },
          queryCompleted : function(){

            var d = this,b = d.$,a = d.$$,c = a.doc;
            if(a.OTF == 4){

              return;
            };
            a.OTF = 4;
            a.setPluginStatus();
            if(b.onDetectionDone && a.DoneHndlrs){

              b.ev.callArray(a.DoneHndlrs);
            };
          }
        },
        zz : 0
      },
      zz : 0
    }
  };
  PluginDetect.INIT();
  var origPluginDetect = PluginDetect;
  qx.bom.client.Pdfjs.__getPluginDetect = function(){

    return origPluginDetect;
  };
}).call(this);

qx.Interface.define("qx.bom.request.IRequest", {
  members : {
    transport : null,
    readyState : 0,
    status : 0,
    statusText : "",
    responseText : "",
    timeout : 0,
    open : function(method, url, async){
    },
    send : function(data){
    },
    abort : function(){
    },
    getAllResponseHeaders : function(){
    },
    getResponseHeader : function(header){
    },
    setRequestHeader : function(key, value){
    },
    onreadystatechange : function(){
    },
    onload : function(){
    },
    onloadend : function(){
    },
    onerror : function(){
    },
    onabort : function(){
    },
    ontimeout : function(){
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Boolean", {
  extend : qx.ui.progressive.renderer.table.cell.Icon,
  construct : function(){

    this.base(arguments);
    this.__resolveImages();
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Decoration.getInstance().addListener("changeTheme", this.__resolveImages, this);
    };
  },
  properties : {
    allowToggle : {
      check : "Boolean",
      init : false
    }
  },
  members : {
    __iconUrlTrue : null,
    __iconUrlFalse : null,
    __numericAllowed : null,
    __conditions : null,
    __defaultTextAlign : null,
    __defaultColor : null,
    __defaultFontStyle : null,
    __defaultFontWeight : null,
    __resolveImages : function(){

      var aliasManager = qx.util.AliasManager.getInstance();
      var resourceManager = qx.util.ResourceManager.getInstance();
      var boolTrueImg = aliasManager.resolve("decoration/table/boolean-true.png");
      var boolFalseImg = aliasManager.resolve("decoration/table/boolean-false.png");
      this.__iconUrlTrue = resourceManager.toUri(boolTrueImg);
      this.__iconUrlFalse = resourceManager.toUri(boolFalseImg);
    },
    _identifyImage : function(cellInfo){

      var imageData = {
        imageWidth : 11,
        imageHeight : 11
      };
      switch(cellInfo.cellData){case true:
      imageData.url = this.__iconUrlTrue;
      imageData.extras = "celldata='1' ";
      break;case false:
      imageData.url = this.__iconUrlFalse;
      imageData.extras = "celldata='0' ";
      break;default:
      imageData.url = null;
      break;};
      if(this.getAllowToggle()){

        imageData.extras += "onclick=\"" + "var node = this.attributes.getNamedItem('celldata'); " + "var value = node.nodeValue; " + "var src; " + "if (value == '0') " + "{";
        if(qx.core.Environment.get("css.alphaimageloaderneeded") && /\.png$/i.test(this.__iconUrlTrue)){

          imageData.extras += "  this.src='" + this.getBlankImage() + "'; " + "  var loader = 'DXImageTransform.Microsoft.AlphaImageLoader'; " + "  var filters = this.filters.item(loader); " + "  filters.src='" + this.__iconUrlTrue + "'; " + "  filters.sizingMethod = 'scale'; ";
        } else {

          imageData.extras += "  this.src='" + this.__iconUrlTrue + "'; ";
        };
        imageData.extras += "  node.nodeValue='1'; " + "} " + "else " + "{";
        if(qx.core.Environment.get("css.alphaimageloaderneeded") && /\.png$/i.test(this.__iconUrlFalse)){

          imageData.extras += "  this.src='" + this.getBlankImage() + "'; " + "  var loader = 'DXImageTransform.Microsoft.AlphaImageLoader'; " + "  var filters = this.filters.item(loader); " + "  filters.src='" + this.__iconUrlFalse + "'; " + "  filters.sizingMethod = 'scale'; ";
        } else {

          imageData.extras += "  this.src='" + this.__iconUrlFalse + "'; ";
        };
        imageData.extras += "  node.nodeValue='0'; " + "}";
        imageData.extras += "try { " + "  this.attributes.setNamedItem(node); " + "} catch (e) { " + "  var namedItem = document.createAttribute('celldata'); " + "  namedItem.value = node.nodeValue; " + "  this.attributes.setNamedItem(namedItem); " + "}" + "\"";
      };
      return imageData;
    },
    _getCellStyle : function(cellInfo){

      var ret = this.base(arguments, cellInfo);
      return ret;
    }
  },
  destruct : function(){

    this.__iconUrlTrue = this.__iconUrlFalse = null;
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Decoration.getInstance().removeListener("changeTheme", this.__resolveImages, this);
    };
  }
});

qx.Class.define("qx.ui.progressive.model.Default", {
  extend : qx.ui.progressive.model.Abstract,
  construct : function(){

    this.base(arguments);
    this.__elements = [];
  },
  members : {
    __elements : null,
    addElements : function(elems){

      this.__elements = this.__elements.concat(elems);
      this.fireDataEvent("dataAvailable", this.__elements.length);
    },
    addElement : function(elem){

      this.__elements.push(elem);
      this.fireDataEvent("dataAvailable", this.__elements.length);
    },
    getElementCount : function(){

      return this.__elements.length;
    },
    getNextElement : function(){

      if(this.__elements.length > 0){

        return ({
          element : this.__elements.shift(),
          remaining : this.__elements.length
        });
      };
      return null;
    }
  },
  destruct : function(){

    this.__elements = null;
  }
});

qx.Class.define("qx.ui.virtual.layer.HtmlCell", {
  extend : qx.ui.virtual.layer.Abstract,
  construct : function(htmlCellProvider){

    this.base(arguments);
    this.setZIndex(12);
    if(qx.core.Environment.get("qx.debug")){

      this.assertInterface(htmlCellProvider, qx.ui.virtual.core.IHtmlCellProvider);
    };
    this._cellProvider = htmlCellProvider;
  },
  members : {
    _getCellSizeStyle : function(width, height, insetX, insetY){

      var style = "";
      if(qx.core.Environment.get("css.boxmodel") == "content"){

        width -= insetX;
        height -= insetY;
      };
      style += "width:" + width + "px;";
      style += "height:" + height + "px;";
      return style;
    },
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      var html = [];
      var left = 0;
      var top = 0;
      var row = firstRow;
      var column = firstColumn;
      for(var y = 0;y < rowSizes.length;y++){

        var left = 0;
        var column = firstColumn;
        var height = rowSizes[y];
        for(var x = 0;x < columnSizes.length;x++){

          var width = columnSizes[x];
          var cellProperties = this._cellProvider.getCellProperties(row, column);
          var insets = cellProperties.insets || [0, 0];
          html.push("<div ", "style='", "left:", left, "px;", "top:", top, "px;", this._getCellSizeStyle(width, height, insets[0], insets[1]), cellProperties.style || "", "' ", "class='", cellProperties.classes || "", "' ", cellProperties.attributes || "", ">", cellProperties.content || "", "</div>");
          column++;
          left += width;
        };
        top += height;
        row++;
      };
      this.getContentElement().setAttribute("html", html.join(""));
    }
  },
  destruct : function(){

    this._cellProvider = null;
  }
});

qx.Interface.define("qx.ui.virtual.core.IHtmlCellProvider", {
  members : {
    getCellProperties : function(row, column){
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.table.cell.Html", {
  extend : qx.ui.progressive.renderer.table.cell.Abstract
});

qx.Class.define("qx.util.Validate", {
  statics : {
    number : function(errorMessage){

      return function(value){

        qx.util.Validate.checkNumber(value, null, errorMessage);
      };
    },
    checkNumber : function(value, formItem, errorMessage){

      errorMessage = errorMessage || qx.locale.Manager.tr("%1 is not a number.", value);
      if((typeof value !== "number" && (!(value instanceof Number))) || (!(isFinite(value)))){

        throw new qx.core.ValidationError("Validation Error", errorMessage);
      };
    },
    email : function(errorMessage){

      return function(value){

        qx.util.Validate.checkEmail(value, null, errorMessage);
      };
    },
    checkEmail : function(value, formItem, errorMessage){

      errorMessage = errorMessage || qx.locale.Manager.tr("'%1' is not an email address.", (value || ""));
      var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
      if(reg.test(value) === false){

        throw new qx.core.ValidationError("Validation Error", errorMessage);
      };
    },
    string : function(errorMessage){

      return function(value){

        qx.util.Validate.checkString(value, null, errorMessage);
      };
    },
    checkString : function(value, formItem, errorMessage){

      errorMessage = errorMessage || qx.locale.Manager.tr("%1 is not a string.", value);
      if(typeof value !== "string" && (!(value instanceof String))){

        throw new qx.core.ValidationError("Validation Error", errorMessage);
      };
    },
    url : function(errorMessage){

      return function(value){

        qx.util.Validate.checkUrl(value, null, errorMessage);
      };
    },
    checkUrl : function(value, formItem, errorMessage){

      errorMessage = errorMessage || qx.locale.Manager.tr("%1 is not an url.", value);
      var reg = /([A-Za-z0-9])+:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
      if(!reg.test(value)){

        throw new qx.core.ValidationError("Validation Error", errorMessage);
      };
    },
    color : function(errorMessage){

      return function(value){

        qx.util.Validate.checkColor(value, null, errorMessage);
      };
    },
    checkColor : function(value, formItem, errorMessage){

      try{

        qx.util.ColorUtil.stringToRgb(value);
      } catch(e) {

        var message = errorMessage || qx.locale.Manager.tr("%1 is not a color! %2", value, e);
        throw new qx.core.ValidationError("Validation Error", message);
      };
    },
    range : function(from, to, errorMessage){

      return function(value){

        var message = errorMessage || qx.locale.Manager.tr("%1 is not in the range from [%2, %3].", value, from, to);
        if(value < from || value > to){

          throw new qx.core.ValidationError("Validation Error", message);
        };
      };
    },
    inArray : function(array, errorMessage){

      return function(value){

        var message = errorMessage || qx.locale.Manager.tr("%1 is not in %2", value, array);
        if(array.indexOf(value) === -1){

          throw new qx.core.ValidationError("Validation Error", message);
        };
      };
    },
    regExp : function(reg, errorMessage){

      return function(value){

        var message = errorMessage || qx.locale.Manager.tr("%1 does not fit %2.", value, reg);
        if(!reg.test(value)){

          throw new qx.core.ValidationError("Validation Error", message);
        };
      };
    }
  }
});

qx.Theme.define("qx.theme.simple.Font", {
  fonts : {
    "default" : {
      size : 13,
      family : ["arial", "sans-serif"]
    },
    "bold" : {
      size : 13,
      family : ["arial", "sans-serif"],
      bold : true
    },
    "headline" : {
      size : 24,
      family : ["sans-serif", "arial"]
    },
    "small" : {
      size : 11,
      family : ["arial", "sans-serif"]
    },
    "monospace" : {
      size : 11,
      family : ["DejaVu Sans Mono", "Courier New", "monospace"]
    }
  }
});

qx.Class.define("qx.ui.mobile.container.ScrollComposite", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(layout){

    this.base(arguments);
    if(qx.core.Environment.get("qx.debug")){

      qx.log.Logger.deprecatedClassWarning(arguments.callee, "The class 'qx.ui.mobile.container.ScrollComposite' is deprecated. Please use 'qx.ui.mobile.container.Scroll' instead");
    };
    this.__lastOffset = [0, 0];
    this.__currentOffset = [0, 0];
    this._scrollContainer = this._createScrollContainer();
    this.addListener("trackstart", this._onTrackStart, this);
    this.addListener("track", this._onTrack, this);
    this.addListener("swipe", this._onSwipe, this);
    this._setLayout(new qx.ui.mobile.layout.HBox());
    this._add(this._scrollContainer, {
      flex : 1
    });
    this._updateScrollIndicator(this.__lastOffset[1]);
    this.initHeight();
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "scroll-container"
    },
    scrollableX : {
      init : false,
      check : "Boolean"
    },
    scrollableY : {
      init : true,
      check : "Boolean"
    },
    showScrollIndicator : {
      init : true,
      check : "Boolean",
      apply : "_updateScrollIndicator"
    },
    fixedHeight : {
      init : false,
      check : "Boolean",
      apply : "_applyFixedHeight"
    },
    height : {
      init : "10rem",
      check : "String",
      nullable : true,
      apply : "_applyHeight"
    }
  },
  members : {
    _scrollContainer : null,
    __lastOffset : null,
    __currentOffset : null,
    __isVerticalScroll : null,
    __onTouch : null,
    __distanceX : null,
    __distanceY : null,
    getScrollContainer : function(){

      return this._scrollContainer;
    },
    _createScrollContainer : function(){

      var scrollContainer = new qx.ui.mobile.container.Composite();
      scrollContainer.setTransformUnit("px");
      scrollContainer.addCssClass("scroll-container-child");
      return scrollContainer;
    },
    _onTrackStart : function(evt){

      this.__onTouch = true;
      this.__isVerticalScroll = (this.getScrollableX() && this.getScrollableY()) ? null : this.getScrollableY();
      this._applyNoEasing();
    },
    _onTrack : function(evt){

      if(this.__isVerticalScroll === null){

        this.__isVerticalScroll = (evt.getDelta().axis == "y");
      };
      this.__distanceX = evt.getDelta().x;
      this.__distanceY = evt.getDelta().y;
      if(this.isScrollableX()){

        if(Math.abs(this.__distanceY) < 3 || !this.isScrollableY() || !this.__isVerticalScroll){

          this.__distanceY = 0;
        };
        this.__currentOffset[0] = Math.floor(this.__lastOffset[0] + this.__distanceX);
        this._scrollContainer.setTranslateX(this.__currentOffset[0]);
      };
      if(this.isScrollableY()){

        if(Math.abs(this.__distanceX) < 3 || !this.isScrollableX() || this.__isVerticalScroll){

          this.__distanceX = 0;
        };
        this.__currentOffset[1] = Math.floor(this.__lastOffset[1] + this.__distanceY);
        this._scrollContainer.setTranslateY(this.__currentOffset[1]);
        this._updateScrollIndicator(this.__currentOffset[1]);
      };
    },
    _updateScrollIndicator : function(positionY){

      var targetElement = this._scrollContainer.getContainerElement();
      var needsScrolling = targetElement.scrollHeight > targetElement.offsetHeight;
      if(this.isScrollableY() && this.isShowScrollIndicator() && needsScrolling){

        var lowerLimit = targetElement.scrollHeight - targetElement.offsetHeight - 4;
        if(positionY >= 0){

          this.removeCssClass("scrollable-top");
        } else {

          this.addCssClass("scrollable-top");
        };
        if(positionY < -lowerLimit){

          this.removeCssClass("scrollable-bottom");
        } else {

          this.addCssClass("scrollable-bottom");
        };
      } else {

        this.removeCssClass("scrollable-top");
        this.removeCssClass("scrollable-bottom");
      };
    },
    _onSwipe : function(evt){

      if(!evt.isPrimary()){

        return;
      };
      if(this.isScrollableY() && this.__isVerticalScroll){

        var scrollLimit = this._calcScrollLimit();
        this.__onTouch = false;
        this._scrollStep(this.__currentOffset[1], evt.getVelocity(), 1, scrollLimit);
      } else if(this.isScrollableX() && !this.__isVerticalScroll){

        this.scrollTo(this.__currentOffset[0], this.__currentOffset[1]);
      };
    },
    _scrollStep : function(startPosition, velocity, momentum, scrollLimit){

      var nextPosition = startPosition + velocity * 10;
      this._scrollContainer.setTranslateY(nextPosition);
      this.__lastOffset[1] = nextPosition;
      this._updateScrollIndicator(this.__lastOffset[1]);
      if(Math.abs(velocity) > 0.01 && !this.__onTouch){

        if(nextPosition > 0){

          momentum = momentum + Math.abs(nextPosition) / 10000;
        } else if(nextPosition < -scrollLimit[1]){

          momentum = momentum + Math.abs(scrollLimit[1] + nextPosition) / 10000;
        } else {

          momentum = momentum + 0.00005;
        };
        var nextVelocity = (velocity / momentum);
        qx.bom.AnimationFrame.request(function(){

          this._scrollStep(nextPosition, nextVelocity, momentum, scrollLimit);
        }, this);
      } else {

        this.scrollTo(0, nextPosition);
      };
    },
    scrollTo : function(positionX, positionY){

      positionX = Math.floor(positionX);
      positionY = Math.floor(positionY);
      var scrollLimit = this._calcScrollLimit();
      var oldY = this._scrollContainer.getTranslateY();
      if(positionY >= 0){

        if(oldY < 0){

          this._applyScrollBounceEasing();
        } else {

          this._applyBounceEasing();
        };
        positionY = 0;
      };
      if(positionY < -scrollLimit[1]){

        if(oldY > -scrollLimit[1]){

          this._applyScrollBounceEasing();
        } else {

          this._applyBounceEasing();
        };
        positionY = -scrollLimit[1];
      };
      if(!this.__isVerticalScroll){

        if(positionX >= 0){

          this._applyBounceEasing();
          positionX = 0;
        };
        if(positionX < -scrollLimit[0]){

          this._applyBounceEasing();
          positionX = -scrollLimit[0];
        };
      };
      if(this.isScrollableX()){

        this._scrollContainer.setTranslateX(positionX);
        this.__lastOffset[0] = positionX;
      };
      if(this.isScrollableY()){

        this._scrollContainer.setTranslateY(positionY);
        this.__lastOffset[1] = positionY;
      };
      this._updateScrollIndicator(this.__lastOffset[1]);
    },
    _calcScrollLimit : function(){

      var targetElement = this._scrollContainer.getContainerElement();
      var lowerLimitY = targetElement.scrollHeight - this.getContentElement().clientHeight;
      var lowerLimitX = targetElement.scrollWidth - targetElement.offsetWidth - 4;
      return [lowerLimitX, lowerLimitY];
    },
    add : function(child, options){

      this._scrollContainer.add(child, options);
      this._handleSize(child);
    },
    addAfter : function(child, after, layoutProperties){

      this._scrollContainer.addAfter(child, after, layoutProperties);
      this._handleSize(child);
    },
    addAt : function(child, index, options){

      this._scrollContainer.addAt(child, index, options);
      this._handleSize(child);
    },
    addBefore : function(child, before, layoutProperties){

      this._scrollContainer.addBefore(child, before, layoutProperties);
      this._handleSize(child);
    },
    getChildren : function(){

      return this._scrollContainer.getChildren();
    },
    getLayout : function(){

      return this._scrollContainer.getLayout();
    },
    setLayout : function(layout){

      this._scrollContainer.setLayout(layout);
    },
    hasChildren : function(){

      return this._scrollContainer.getLayout();
    },
    indexOf : function(child){

      this._scrollContainer.indexOf(child);
    },
    remove : function(child){

      this._unhandleSize(child);
      this._scrollContainer.remove(child);
    },
    removeAll : function(){

      var children = this.getChildren();
      for(var i = 0;i < children.length;i++){

        this._unhandleSize(children[i]);
      };
      this._scrollContainer.removeAll();
    },
    removeAt : function(index){

      var children = this.getChildren();
      this._unhandleSize(children[index]);
      this._scrollContainer.removeAt(index);
    },
    _applyFixedHeight : function(value, old){

      this._applyHeight(this.getHeight());
    },
    _applyHeight : function(value, old){

      var cssProperty = "maxHeight";
      if(this.getFixedHeight() === true){

        cssProperty = "height";
      };
      qx.bom.element.Style.set(this.getContainerElement(), cssProperty, this.getHeight());
    },
    _applyNoEasing : function(){

      this._scrollContainer.removeCssClass("momentum-ease");
      this._scrollContainer.removeCssClass("bounce-ease");
      this._scrollContainer.removeCssClass("scroll-bounce-ease");
    },
    _applyMomentumEasing : function(){

      this._applyNoEasing();
      this._scrollContainer.addCssClass("momentum-ease");
    },
    _applyBounceEasing : function(){

      this._applyNoEasing();
      this._scrollContainer.addCssClass("bounce-ease");
    },
    _applyScrollBounceEasing : function(){

      this._applyNoEasing();
      this._scrollContainer.addCssClass("scroll-bounce-ease");
    },
    _handleSize : function(child){

      if(child instanceof qx.ui.mobile.form.TextArea){

        child.addListener("appear", this._fixChildElementsHeight, child);
        child.addListener("input", this._fixChildElementsHeight, child);
        child.addListener("changeValue", this._fixChildElementsHeight, child);
      };
    },
    _unhandleSize : function(child){

      if(child instanceof qx.ui.mobile.form.TextArea){

        child.removeListener("appear", this._fixChildElementsHeight, child);
        child.removeListener("input", this._fixChildElementsHeight, child);
        child.removeListener("changeValue", this._fixChildElementsHeight, child);
      };
    },
    _fixChildElementsHeight : function(evt){

      this.getContainerElement().style.height = 'auto';
      this.getContainerElement().style.height = this.getContainerElement().scrollHeight + 'px';
    }
  },
  destruct : function(){

    this.removeListener("trackstart", this._onTrackStart, this);
    this.removeListener("track", this._onTrack, this);
    this.removeListener("swipe", this._onSwipe, this);
    var children = this.getChildren();
    for(var i = 0;i < children.length;i++){

      this._unhandleSize(children[i]);
    };
    this._disposeObjects("_scrollContainer");
    this.__isVerticalScroll = null;
  }
});

qx.Class.define("qx.ui.toolbar.RadioButton", {
  extend : qx.ui.toolbar.CheckBox,
  include : [qx.ui.form.MModelProperty],
  implement : [qx.ui.form.IModel, qx.ui.form.IRadioItem],
  members : {
    _applyValue : function(value, old){

      this.base(arguments, value, old);
      if(value){

        var grp = this.getGroup();
        if(grp){

          grp.setSelection([this]);
        };
      };
    },
    _onExecute : function(e){

      var grp = this.getGroup();
      if(grp && grp.getAllowEmptySelection()){

        this.toggleValue();
      } else {

        this.setValue(true);
      };
    }
  }
});

qx.Class.define("qx.bom.Vml", {
  statics : {
    create : function(type, attributes, win){

      var win = win || window;
      var el = win.document.createElement("v:" + (type || "shape"));
      if(attributes){

        for(var key in attributes){

          el.setAttribute(key, attributes[key]);
        };
      };
      return el;
    },
    createImage : function(source, width, height, xOffset, yOffset, imageWidth, imageHeight){

      var shape = qx.bom.Vml.create("rect", {
        "stroked" : "False"
      });
      var fill = qx.bom.Vml.create("fill", {
        "type" : "tile"
      });
      shape.appendChild(fill);
      if(source || width || height){

        this.updateImage(shape, source, width, height, xOffset, yOffset, imageWidth, imageHeight);
      };
      return shape;
    },
    updateImage : function(image, source, width, height, xOffset, yOffset, imageWidth, imageHeight){

      var Style = qx.bom.element.Style;
      var Attribute = qx.bom.element.Attribute;
      Style.set(image, "width", width, false);
      Style.set(image, "height", height, false);
      var fill = image.firstChild;
      Attribute.set(fill, "src", source, false);
      var xOrigin = xOffset ? (-xOffset) / (imageWidth) : 0;
      var yOrigin = yOffset ? (-yOffset) / (imageHeight) : 0;
      Attribute.set(fill, "origin", xOrigin.toFixed(2) + "," + yOrigin, false);
    }
  },
  defer : function(){

    qx.module.Event.ready(function(){

      if(qx.core.Environment.get("html.vml")){

        qx.bom.Stylesheet.createElement("v\\: * { behavior:url(#default#VML);display:inline-block; }");
        if(!document.namespaces["v"]){

          document.namespaces.add("v", "urn:schemas-microsoft-com:vml");
        };
      };
    });
  }
});

qx.Class.define("qx.ui.tree.TreeFolder", {
  extend : qx.ui.tree.core.AbstractTreeItem,
  properties : {
    appearance : {
      refine : true,
      init : "tree-folder"
    }
  },
  members : {
    _addWidgets : function(){

      this.addSpacer();
      this.addOpenButton();
      this.addIcon();
      this.addLabel();
    }
  }
});

qx.Class.define("qx.ui.layout.Dock", {
  extend : qx.ui.layout.Abstract,
  construct : function(spacingX, spacingY, separatorX, separatorY){

    this.base(arguments);
    if(spacingX){

      this.setSpacingX(spacingX);
    };
    if(spacingY){

      this.setSpacingY(spacingY);
    };
    if(separatorX){

      this.setSeparatorX(separatorX);
    };
    if(separatorY){

      this.setSeparatorY(separatorY);
    };
  },
  properties : {
    sort : {
      check : ["auto", "y", "x"],
      init : "auto",
      apply : "_applySort"
    },
    separatorX : {
      check : "Decorator",
      nullable : true,
      apply : "_applyLayoutChange"
    },
    separatorY : {
      check : "Decorator",
      nullable : true,
      apply : "_applyLayoutChange"
    },
    connectSeparators : {
      check : "Boolean",
      init : false,
      apply : "_applyLayoutChange"
    },
    spacingX : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    },
    spacingY : {
      check : "Integer",
      init : 0,
      apply : "_applyLayoutChange"
    }
  },
  members : {
    __children : null,
    __edges : null,
    verifyLayoutProperty : qx.core.Environment.select("qx.debug", {
      "true" : function(item, name, value){

        this.assertInArray(name, ["flex", "edge", "height", "width"], "The property '" + name + "' is not supported by the Dock layout!");
        if(name === "edge"){

          this.assertInArray(value, ["north", "south", "west", "east", "center"]);
        } else if(name === "flex"){

          this.assertNumber(value);
          this.assert(value >= 0);
        } else {

          this.assertMatch(value, qx.ui.layout.Util.PERCENT_VALUE);
        };
      },
      "false" : null
    }),
    _applySort : function(){

      this._invalidChildrenCache = true;
      this._applyLayoutChange();
    },
    __edgeMap : {
      north : 1,
      south : 2,
      west : 3,
      east : 4,
      center : 5
    },
    __alignMap : {
      '1' : "top",
      '2' : "bottom",
      '3' : "left",
      '4' : "right"
    },
    __rebuildCache : function(){

      var all = this._getLayoutChildren();
      var child,center;
      var length = all.length;
      var high = [];
      var low = [];
      var edge = [];
      var yfirst = this.getSort() === "y";
      var xfirst = this.getSort() === "x";
      for(var i = 0;i < length;i++){

        child = all[i];
        edge = child.getLayoutProperties().edge;
        if(edge === "center"){

          if(center){

            throw new Error("It is not allowed to have more than one child aligned to 'center'!");
          };
          center = child;
        } else if(xfirst || yfirst){

          if(edge === "north" || edge === "south"){

            yfirst ? high.push(child) : low.push(child);
          } else if(edge === "west" || edge === "east"){

            yfirst ? low.push(child) : high.push(child);
          };
        } else {

          high.push(child);
        };
      };
      var result = high.concat(low);
      if(center){

        result.push(center);
      };
      this.__children = result;
      var edges = [];
      for(var i = 0;i < length;i++){

        edge = result[i].getLayoutProperties().edge;
        edges[i] = this.__edgeMap[edge] || 5;
      };
      this.__edges = edges;
      delete this._invalidChildrenCache;
    },
    renderLayout : function(availWidth, availHeight, padding){

      if(this._invalidChildrenCache){

        this.__rebuildCache();
      };
      var util = qx.ui.layout.Util;
      var children = this.__children;
      var edges = this.__edges;
      var length = children.length;
      var flexibles,child,hint,props,flex,grow,width,height,offset;
      var widths = [];
      var heights = [];
      var separatorWidths = this._getSeparatorWidths();
      var spacingX = this.getSpacingX();
      var spacingY = this.getSpacingY();
      var allocatedWidth = -spacingX;
      var allocatedHeight = -spacingY;
      if(separatorWidths.x){

        allocatedWidth -= separatorWidths.x + spacingX;
      };
      if(separatorWidths.y){

        allocatedHeight -= separatorWidths.y + spacingY;
      };
      for(var i = 0;i < length;i++){

        child = children[i];
        props = child.getLayoutProperties();
        hint = child.getSizeHint();
        width = hint.width;
        height = hint.height;
        if(props.width != null){

          width = Math.floor(availWidth * parseFloat(props.width) / 100);
          if(width < hint.minWidth){

            width = hint.minWidth;
          } else if(width > hint.maxWidth){

            width = hint.maxWidth;
          };
        };
        if(props.height != null){

          height = Math.floor(availHeight * parseFloat(props.height) / 100);
          if(height < hint.minHeight){

            height = hint.minHeight;
          } else if(height > hint.maxHeight){

            height = hint.maxHeight;
          };
        };
        widths[i] = width;
        heights[i] = height;
        switch(edges[i]){case 1:case 2:
        allocatedHeight += height + child.getMarginTop() + child.getMarginBottom() + spacingY;
        if(separatorWidths.y){

          allocatedHeight += separatorWidths.y + spacingY;
        };
        break;case 3:case 4:
        allocatedWidth += width + child.getMarginLeft() + child.getMarginRight() + spacingX;
        if(separatorWidths.x){

          allocatedWidth += separatorWidths.x + spacingX;
        };
        break;default:
        allocatedWidth += width + child.getMarginLeft() + child.getMarginRight() + spacingX;
        allocatedHeight += height + child.getMarginTop() + child.getMarginBottom() + spacingY;
        if(separatorWidths.x){

          allocatedWidth += separatorWidths.x + spacingX;
        };
        if(separatorWidths.y){

          allocatedHeight += separatorWidths.y + spacingY;
        };};
      };
      if(allocatedWidth != availWidth){

        flexibles = {
        };
        grow = allocatedWidth < availWidth;
        for(var i = 0;i < length;i++){

          child = children[i];
          switch(edges[i]){case 3:case 4:case 5:
          flex = child.getLayoutProperties().flex;
          if(flex == null && edges[i] == 5){

            flex = 1;
          };
          if(flex > 0){

            hint = child.getSizeHint();
            flexibles[i] = {
              min : hint.minWidth,
              value : widths[i],
              max : hint.maxWidth,
              flex : flex
            };
          };};
        };
        var result = util.computeFlexOffsets(flexibles, availWidth, allocatedWidth);
        for(var i in result){

          offset = result[i].offset;
          widths[i] += offset;
          allocatedWidth += offset;
        };
      };
      if(allocatedHeight != availHeight){

        flexibles = {
        };
        grow = allocatedHeight < availHeight;
        for(var i = 0;i < length;i++){

          child = children[i];
          switch(edges[i]){case 1:case 2:case 5:
          flex = child.getLayoutProperties().flex;
          if(flex == null && edges[i] == 5){

            flex = 1;
          };
          if(flex > 0){

            hint = child.getSizeHint();
            flexibles[i] = {
              min : hint.minHeight,
              value : heights[i],
              max : hint.maxHeight,
              flex : flex
            };
          };};
        };
        var result = util.computeFlexOffsets(flexibles, availHeight, allocatedHeight);
        for(var i in result){

          offset = result[i].offset;
          heights[i] += offset;
          allocatedHeight += offset;
        };
      };
      this._clearSeparators();
      var separatorX = this.getSeparatorX(),separatorY = this.getSeparatorY();
      var connectSeparators = this.getConnectSeparators();
      var nextTop = 0,nextLeft = 0;
      var left,top,width,height,used,edge;
      var separatorLeft,separatorTop,separatorWidth,separatorHeight;
      var marginTop,marginBottom,marginLeft,marginRight;
      var alignMap = this.__alignMap;
      for(var i = 0;i < length;i++){

        child = children[i];
        edge = edges[i];
        hint = child.getSizeHint();
        marginTop = child.getMarginTop();
        marginBottom = child.getMarginBottom();
        marginLeft = child.getMarginLeft();
        marginRight = child.getMarginRight();
        switch(edge){case 1:case 2:
        width = availWidth - marginLeft - marginRight;
        if(width < hint.minWidth){

          width = hint.minWidth;
        } else if(width > hint.maxWidth){

          width = hint.maxWidth;
        };
        height = heights[i];
        top = nextTop + util.computeVerticalAlignOffset(alignMap[edge], height, availHeight, marginTop, marginBottom);
        left = nextLeft + util.computeHorizontalAlignOffset(child.getAlignX() || "left", width, availWidth, marginLeft, marginRight);
        if(separatorWidths.y){

          if(edge == 1){

            separatorTop = nextTop + height + marginTop + spacingY + marginBottom;
          } else {

            separatorTop = nextTop + availHeight - height - marginTop - spacingY - marginBottom - separatorWidths.y;
          };
          separatorLeft = left;
          separatorWidth = availWidth;
          if(connectSeparators && separatorLeft > 0){

            separatorLeft -= spacingX + marginLeft;
            separatorWidth += (spacingX) * 2;
          } else {

            separatorLeft -= marginLeft;
          };
          this._renderSeparator(separatorY, {
            left : separatorLeft + padding.left,
            top : separatorTop + padding.top,
            width : separatorWidth,
            height : separatorWidths.y
          });
        };
        used = height + marginTop + marginBottom + spacingY;
        if(separatorWidths.y){

          used += separatorWidths.y + spacingY;
        };
        availHeight -= used;
        if(edge == 1){

          nextTop += used;
        };
        break;case 3:case 4:
        height = availHeight - marginTop - marginBottom;
        if(height < hint.minHeight){

          height = hint.minHeight;
        } else if(height > hint.maxHeight){

          height = hint.maxHeight;
        };
        width = widths[i];
        left = nextLeft + util.computeHorizontalAlignOffset(alignMap[edge], width, availWidth, marginLeft, marginRight);
        top = nextTop + util.computeVerticalAlignOffset(child.getAlignY() || "top", height, availHeight, marginTop, marginBottom);
        if(separatorWidths.x){

          if(edge == 3){

            separatorLeft = nextLeft + width + marginLeft + spacingX + marginRight;
          } else {

            separatorLeft = nextLeft + availWidth - width - marginLeft - spacingX - marginRight - separatorWidths.x;
          };
          separatorTop = top;
          separatorHeight = availHeight;
          if(connectSeparators && separatorTop > 0){

            separatorTop -= spacingY + marginTop;
            separatorHeight += (spacingY) * 2;
          } else {

            separatorTop -= marginTop;
          };
          this._renderSeparator(separatorX, {
            left : separatorLeft + padding.left,
            top : separatorTop + padding.top,
            width : separatorWidths.x,
            height : separatorHeight
          });
        };
        used = width + marginLeft + marginRight + spacingX;
        if(separatorWidths.x){

          used += separatorWidths.x + spacingX;
        };
        availWidth -= used;
        if(edge == 3){

          nextLeft += used;
        };
        break;default:
        width = availWidth - marginLeft - marginRight;
        height = availHeight - marginTop - marginBottom;
        if(width < hint.minWidth){

          width = hint.minWidth;
        } else if(width > hint.maxWidth){

          width = hint.maxWidth;
        };
        if(height < hint.minHeight){

          height = hint.minHeight;
        } else if(height > hint.maxHeight){

          height = hint.maxHeight;
        };
        left = nextLeft + util.computeHorizontalAlignOffset(child.getAlignX() || "left", width, availWidth, marginLeft, marginRight);
        top = nextTop + util.computeVerticalAlignOffset(child.getAlignY() || "top", height, availHeight, marginTop, marginBottom);};
        child.renderLayout(left + padding.left, top + padding.top, width, height);
      };
    },
    _getSeparatorWidths : function(){

      var separatorX = this.getSeparatorX(),separatorY = this.getSeparatorY();
      if(separatorX || separatorY){

        var decorationManager = qx.theme.manager.Decoration.getInstance();
      };
      if(separatorX){

        var separatorInstanceX = decorationManager.resolve(separatorX);
        var separatorInsetsX = separatorInstanceX.getInsets();
        var separatorWidthX = separatorInsetsX.left + separatorInsetsX.right;
      };
      if(separatorY){

        var separatorInstanceY = decorationManager.resolve(separatorY);
        var separatorInsetsY = separatorInstanceY.getInsets();
        var separatorWidthY = separatorInsetsY.top + separatorInsetsY.bottom;
      };
      return {
        x : separatorWidthX || 0,
        y : separatorWidthY || 0
      };
    },
    _computeSizeHint : function(){

      if(this._invalidChildrenCache){

        this.__rebuildCache();
      };
      var children = this.__children;
      var edges = this.__edges;
      var length = children.length;
      var hint,child;
      var marginX,marginY;
      var widthX = 0,minWidthX = 0;
      var heightX = 0,minHeightX = 0;
      var widthY = 0,minWidthY = 0;
      var heightY = 0,minHeightY = 0;
      var separatorWidths = this._getSeparatorWidths();
      var spacingX = this.getSpacingX(),spacingY = this.getSpacingY();
      var spacingSumX = -spacingX,spacingSumY = -spacingY;
      if(separatorWidths.x){

        spacingSumX -= separatorWidths.x + spacingX;
      };
      if(separatorWidths.y){

        spacingSumY -= separatorWidths.y + spacingY;
      };
      for(var i = 0;i < length;i++){

        child = children[i];
        hint = child.getSizeHint();
        marginX = child.getMarginLeft() + child.getMarginRight();
        marginY = child.getMarginTop() + child.getMarginBottom();
        switch(edges[i]){case 1:case 2:
        widthY = Math.max(widthY, hint.width + widthX + marginX);
        minWidthY = Math.max(minWidthY, hint.minWidth + minWidthX + marginX);
        heightY += hint.height + marginY;
        minHeightY += hint.minHeight + marginY;
        spacingSumY += spacingY;
        if(separatorWidths.y){

          spacingSumY += separatorWidths.y + spacingY;
        };
        break;case 3:case 4:
        heightX = Math.max(heightX, hint.height + heightY + marginY);
        minHeightX = Math.max(minHeightX, hint.minHeight + minHeightY + marginY);
        widthX += hint.width + marginX;
        minWidthX += hint.minWidth + marginX;
        spacingSumX += spacingX;
        if(separatorWidths.x){

          spacingSumX += separatorWidths.x + spacingX;
        };
        break;default:
        widthX += hint.width + marginX;
        minWidthX += hint.minWidth + marginX;
        heightY += hint.height + marginY;
        minHeightY += hint.minHeight + marginY;
        spacingSumX += spacingX;
        if(separatorWidths.x){

          spacingSumX += separatorWidths.x + spacingX;
        };
        spacingSumY += spacingY;
        if(separatorWidths.y){

          spacingSumY += separatorWidths.y + spacingY;
        };};
      };
      var minWidth = Math.max(minWidthX, minWidthY) + spacingSumX;
      var width = Math.max(widthX, widthY) + spacingSumX;
      var minHeight = Math.max(minHeightX, minHeightY) + spacingSumY;
      var height = Math.max(heightX, heightY) + spacingSumY;
      return {
        minWidth : minWidth,
        width : width,
        minHeight : minHeight,
        height : height
      };
    }
  },
  destruct : function(){

    this.__edges = this.__children = null;
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Number", {
  extend : qx.ui.table.cellrenderer.Conditional,
  properties : {
    numberFormat : {
      check : "qx.util.format.NumberFormat",
      init : null,
      nullable : true
    }
  },
  members : {
    _getContentHtml : function(cellInfo){

      var nf = this.getNumberFormat();
      if(nf){

        if(cellInfo.value || cellInfo.value == 0){

          return nf.format(cellInfo.value);
        } else {

          return "";
        };
      } else {

        return cellInfo.value == 0 ? "0" : (cellInfo.value || "");
      };
    },
    _getCellClass : function(cellInfo){

      return "qooxdoo-table-cell qooxdoo-table-cell-right";
    }
  }
});

qx.Interface.define("qx.ui.list.core.IListDelegate", {
  members : {
    configureItem : function(item){
    },
    configureGroupItem : function(item){
    },
    createItem : function(){
    },
    createGroupItem : function(){
    },
    bindItem : function(controller, item, id){
    },
    bindGroupItem : function(controller, item, id){
    },
    filter : function(data){
    },
    sorter : function(a, b){
    },
    group : function(data){
    },
    onPool : function(item){
    }
  }
});

qx.Class.define("qx.application.Standalone", {
  extend : qx.application.AbstractGui,
  members : {
    _createRootWidget : function(){

      return new qx.ui.root.Application(document);
    }
  }
});

qx.Class.define("qx.ui.root.Application", {
  extend : qx.ui.root.Abstract,
  construct : function(doc){

    this.__window = qx.dom.Node.getWindow(doc);
    this.__doc = doc;
    this.base(arguments);
    qx.event.Registration.addListener(this.__window, "resize", this._onResize, this);
    this._setLayout(new qx.ui.layout.Canvas());
    qx.ui.core.queue.Layout.add(this);
    qx.ui.core.FocusHandler.getInstance().connectTo(this);
    this.getContentElement().disableScrolling();
    this.getContentElement().setStyle("-webkit-backface-visibility", "hidden");
    this.addListener("touchmove", this.__stopScrolling, this);
    if(qx.core.Environment.get("os.name") == "ios"){

      this.getContentElement().addListener("tap", function(e){

        var widget = qx.ui.core.Widget.getWidgetByElement(e.getTarget());
        while(widget && !widget.isFocusable()){

          widget = widget.getLayoutParent();
        };
        if(widget && widget.isFocusable()){

          widget.getContentElement().focus();
        };
      }, this, true);
    };
  },
  members : {
    __window : null,
    __doc : null,
    _createContentElement : function(){

      var doc = this.__doc;
      if((qx.core.Environment.get("engine.name") == "webkit")){

        if(!doc.body){

          alert("The application could not be started due to a missing body tag in the HTML file!");
        };
      };
      var hstyle = doc.documentElement.style;
      var bstyle = doc.body.style;
      hstyle.overflow = bstyle.overflow = "hidden";
      hstyle.padding = hstyle.margin = bstyle.padding = bstyle.margin = "0px";
      hstyle.width = hstyle.height = bstyle.width = bstyle.height = "100%";
      var elem = doc.createElement("div");
      doc.body.appendChild(elem);
      var root = new qx.html.Root(elem);
      root.setStyles({
        "position" : "absolute",
        "overflowX" : "hidden",
        "overflowY" : "hidden"
      });
      root.setAttribute("$$widget", this.toHashCode());
      return root;
    },
    _onResize : function(e){

      qx.ui.core.queue.Layout.add(this);
      if(qx.ui.popup && qx.ui.popup.Manager){

        qx.ui.popup.Manager.getInstance().hideAll();
      };
      if(qx.ui.menu && qx.ui.menu.Manager){

        qx.ui.menu.Manager.getInstance().hideAll();
      };
    },
    _computeSizeHint : function(){

      var width = qx.bom.Viewport.getWidth(this.__window);
      var height = qx.bom.Viewport.getHeight(this.__window);
      return {
        minWidth : width,
        width : width,
        maxWidth : width,
        minHeight : height,
        height : height,
        maxHeight : height
      };
    },
    _applyPadding : function(value, old, name){

      if(value && (name == "paddingTop" || name == "paddingLeft")){

        throw new Error("The root widget does not support 'left', or 'top' paddings!");
      };
      this.base(arguments, value, old, name);
    },
    __stopScrolling : function(e){

      var node = e.getOriginalTarget();
      while(node && node.style){

        var touchAction = qx.bom.element.Style.get(node, "touch-action") !== "none" && qx.bom.element.Style.get(node, "touch-action") !== "";
        var webkitOverflowScrolling = qx.bom.element.Style.get(node, "-webkit-overflow-scrolling") === "touch";
        var overflowX = qx.bom.element.Style.get(node, "overflowX") != "hidden";
        var overflowY = qx.bom.element.Style.get(node, "overflowY") != "hidden";
        if(touchAction || webkitOverflowScrolling || overflowY || overflowX){

          return;
        };
        node = node.parentNode;
      };
      e.preventDefault();
    }
  },
  destruct : function(){

    this.__window = this.__doc = null;
  }
});

qx.Class.define("qx.ui.groupbox.RadioGroupBox", {
  extend : qx.ui.groupbox.GroupBox,
  implement : [qx.ui.form.IRadioItem, qx.ui.form.IExecutable, qx.ui.form.IBooleanForm, qx.ui.form.IModel],
  include : [qx.ui.form.MModelProperty],
  properties : {
    appearance : {
      refine : true,
      init : "radio-groupbox"
    }
  },
  events : {
    "changeValue" : "qx.event.type.Data",
    "execute" : "qx.event.type.Event"
  },
  members : {
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "legend":
      control = new qx.ui.form.RadioButton();
      control.setAllowGrowX(true);
      control.setValue(true);
      control.addListener("changeValue", this._onRadioChangeValue, this);
      control.addListener("resize", this._repositionFrame, this);
      control.addListener("execute", this._onExecute, this);
      this._add(control, {
        left : 0,
        right : 0
      });};
      return control || this.base(arguments, id);
    },
    _applyEnabled : function(value, old){

      this.base(arguments, value, old);
      this.getChildrenContainer().setEnabled(value && this.getValue());
    },
    _onExecute : function(e){

      this.fireEvent("execute");
    },
    _onRadioChangeValue : function(e){

      var checked = e.getData() ? true : false;
      this.getChildrenContainer().setEnabled(checked);
      this.fireDataEvent("changeValue", checked, e.getOldData());
    },
    execute : function(){

      this.getChildControl("legend").execute();
    },
    setCommand : function(command){

      this.getChildControl("legend").setCommand(command);
    },
    getCommand : function(){

      return this.getChildControl("legend").getCommand();
    },
    getGroup : function(){

      return this.getChildControl("legend").getGroup();
    },
    setGroup : function(value){

      if(value != null){

        value.add(this);
      };
      return;
    },
    getValue : function(){

      return this.getChildControl("legend").getValue();
    },
    setValue : function(value){

      this.getChildControl("legend").setValue(value);
    },
    resetValue : function(){

      this.getChildControl("legend").resetValue();
    },
    getLabel : function(){

      return this.getChildControl("legend").getLabel();
    }
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Dynamic", {
  extend : qx.ui.table.cellrenderer.Default,
  construct : function(cellRendererFactoryFunction){

    this.base(arguments);
    if(cellRendererFactoryFunction){

      this.setCellRendererFactoryFunction(cellRendererFactoryFunction);
    };
  },
  properties : {
    cellRendererFactoryFunction : {
      check : "Function",
      nullable : true,
      init : null
    }
  },
  members : {
    createDataCellHtml : function(cellInfo, htmlArr){

      var cellRendererFactoryFunction = this.getCellRendererFactoryFunction();
      if(!cellRendererFactoryFunction){

        throw new Error("No function provided! Aborting.");
      };
      var cellRenderer = cellRendererFactoryFunction(cellInfo);
      return cellRenderer.createDataCellHtml(cellInfo, htmlArr);
    }
  }
});

qx.Bootstrap.define("qx.module.event.TouchHandler", {
  statics : {
    TYPES : ["touchstart", "touchend", "touchmove", "touchcancel"],
    register : function(element){

      if(!element.__touchHandler){

        if(!element.$$emitter){

          element.$$emitter = new qx.event.Emitter();
        };
        element.__touchHandler = new qx.event.handler.TouchCore(element, element.$$emitter);
      };
    },
    unregister : function(element){

      if(element.__touchHandler){

        if(!element.$$emitter){

          element.__touchHandler = null;
        } else {

          var hasTouchListener = false;
          var listeners = element.$$emitter.getListeners();
          qx.module.event.TouchHandler.TYPES.forEach(function(type){

            if(type in listeners && listeners[type].length > 0){

              hasTouchListener = true;
            };
          });
          if(!hasTouchListener){

            element.__touchHandler = null;
          };
        };
      };
    }
  },
  defer : function(statics){

    qxWeb.$registerEventHook(statics.TYPES, statics.register, statics.unregister);
  }
});

qx.Bootstrap.define("qx.bom.MediaQueryListener", {
  extend : qx.bom.MediaQuery,
  construct : function(query, ctxWindow){

    this.base(arguments, query, ctxWindow);
    if(qx.core.Environment.get("qx.debug")){

      qx.log.Logger.deprecatedClassWarning(this.constructor, "Please use 'qx.bom.MediaQuery' instead.'");
    };
  }
});

qx.Class.define("qx.dev.ObjectSummary", {
  statics : {
    getInfo : function(){

      var vData = {
      };
      var vCounter = 0;
      var vObject;
      var vDb = qx.core.ObjectRegistry.getRegistry();
      for(var key in vDb){

        vObject = vDb[key];
        if(vObject && vObject.isDisposed() === false){

          if(vData[vObject.classname] == null){

            vData[vObject.classname] = 1;
          } else {

            vData[vObject.classname]++;
          };
          vCounter++;
        };
      };
      var vArrData = [];
      for(var vClassName in vData){

        vArrData.push({
          classname : vClassName,
          number : vData[vClassName]
        });
      };
      vArrData.sort(function(a, b){

        return b.number - a.number;
      });
      var vMsg = "Summary: (" + vCounter + " Objects)\n\n";
      for(var i = 0;i < vArrData.length;i++){

        vMsg += vArrData[i].number + ": " + vArrData[i].classname + "\n";
      };
      return vMsg;
    },
    getNewObjects : function(){

      var vData = {
      };
      var vCounter = 0;
      var vObject;
      var vDb = qx.core.ObjectRegistry.getRegistry();
      var mHashCode = {
      };
      var ar;
      for(var key in vDb){

        vObject = vDb[key];
        if(vObject && vObject.isDisposed() === false){

          var sClassName = vObject.classname;
          if(vData[sClassName] == null){

            vData[sClassName] = 1;
          } else {

            vData[sClassName]++;
          };
          ar = mHashCode[sClassName];
          if(ar == null){

            ar = mHashCode[sClassName] = [];
          };
          ar[ar.length] = vObject.toHashCode();
          vCounter++;
        };
      };
      if(!this._m_dObjectList){

        this._m_dObjectList = {
        };
      };
      var dMore = {
      };
      for(var sClassName in vData){

        if(!(sClassName in this._m_dObjectList)){

          this._m_dObjectList[sClassName] = 0;
        };
        if(this._m_dObjectList[sClassName] >= 0 && this._m_dObjectList[sClassName] < vData[sClassName]){

          dMore[sClassName] = vData[sClassName] - this._m_dObjectList[sClassName];
        };
      };
      this._m_dObjectList = vData;
      var vArrData = [];
      for(var vClassName in dMore){

        vArrData.push({
          classname : vClassName,
          number : dMore[vClassName],
          aHashCode : mHashCode[vClassName]
        });
      };
      vArrData.sort(function(a, b){

        return b.number - a.number;
      });
      var vMsg = "Summary: (" + vCounter + " Objects)\r\n\r\n";
      for(var i = 0;i < vArrData.length;i++){

        vMsg += vArrData[i].number + ": " + vArrData[i].classname + " (" + vArrData[i].aHashCode.join(", ") + ")\r\n";
      };
      return vMsg;
    }
  }
});

qx.Class.define("qx.ui.form.TextArea", {
  extend : qx.ui.form.AbstractField,
  construct : function(value){

    this.base(arguments, value);
    this.initWrap();
    this.addListener("roll", this._onRoll, this);
  },
  properties : {
    wrap : {
      check : "Boolean",
      init : true,
      apply : "_applyWrap"
    },
    appearance : {
      refine : true,
      init : "textarea"
    },
    singleStep : {
      check : "Integer",
      init : 20
    },
    minimalLineHeight : {
      check : "Integer",
      apply : "_applyMinimalLineHeight",
      init : 4
    },
    autoSize : {
      check : "Boolean",
      apply : "_applyAutoSize",
      init : false
    }
  },
  members : {
    __areaClone : null,
    __areaHeight : null,
    __originalAreaHeight : null,
    setValue : function(value){

      value = this.base(arguments, value);
      this.__autoSize();
      return value;
    },
    _onRoll : function(e){

      if(e.getPointerType() != "wheel"){

        return;
      };
      var contentElement = this.getContentElement();
      var scrollY = contentElement.getScrollY();
      contentElement.scrollToY(scrollY + (e.getDelta().y / 30) * this.getSingleStep());
      var newScrollY = contentElement.getScrollY();
      if(newScrollY != scrollY){

        e.stop();
      };
    },
    __autoSize : function(){

      if(this.isAutoSize()){

        var clone = this.__getAreaClone();
        if(clone && this.getBounds()){

          this.__originalAreaHeight = this.__originalAreaHeight || this._getAreaHeight();
          var scrolledHeight = this._getScrolledAreaHeight();
          if(this.getMaxHeight()){

            var insets = this.getInsets();
            var innerMaxHeight = -insets.top + this.getMaxHeight() - insets.bottom;
            if(scrolledHeight > innerMaxHeight){

              this.getContentElement().setStyle("overflowY", "auto");
            } else {

              this.getContentElement().setStyle("overflowY", "hidden");
            };
          };
          var desiredHeight = Math.max(scrolledHeight, this.__originalAreaHeight);
          this._setAreaHeight(desiredHeight);
        } else {

          this.getContentElement().addListenerOnce("appear", function(){

            this.__autoSize();
          }, this);
        };
      };
    },
    _getAreaHeight : function(){

      return this.getInnerSize().height;
    },
    _setAreaHeight : function(height){

      if(this._getAreaHeight() !== height){

        this.__areaHeight = height;
        qx.ui.core.queue.Layout.add(this);
        qx.ui.core.queue.Manager.flush();
        this.__forceRewrap();
      };
    },
    _getScrolledAreaHeight : function(){

      var clone = this.__getAreaClone();
      var cloneDom = clone.getDomElement();
      if(cloneDom){

        if(!cloneDom.parentNode){

          qx.html.Element.flush();
          return this._getScrolledAreaHeight();
        };
        if(qx.core.Environment.get("engine.name") === "webkit" || (qx.core.Environment.get("engine.name") == "mshtml")){

          clone.setWrap(!this.getWrap(), true);
        };
        clone.setWrap(this.getWrap(), true);
        if(qx.core.Environment.get("engine.name") === "webkit" || (qx.core.Environment.get("engine.name") == "mshtml")){

          cloneDom.style.overflow = "hidden";
        };
        if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") >= 8){

          cloneDom.style.overflow = "visible";
          cloneDom.style.overflowX = "hidden";
        };
        clone.setValue(this.getValue() || "");
        if(qx.core.Environment.get("engine.name") == "mshtml"){

          cloneDom.style.height = "auto";
          qx.html.Element.flush();
          cloneDom.style.height = "0";
        };
        this.__scrollCloneToBottom(clone);
        if(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("browser.documentmode") == 8){

          if(!cloneDom.scrollTop){

            qx.html.Element.flush();
          };
        };
        return cloneDom.scrollTop;
      };
    },
    __getAreaClone : function(){

      this.__areaClone = this.__areaClone || this.__createAreaClone();
      return this.__areaClone;
    },
    __createAreaClone : function(){

      var orig,clone,cloneDom,cloneHtml;
      orig = this.getContentElement();
      if(!orig.getDomElement()){

        return null;
      };
      cloneDom = qx.bom.Element.clone(orig.getDomElement());
      cloneHtml = new qx.html.Input("textarea");
      cloneHtml.useElement(cloneDom);
      clone = cloneHtml;
      clone.setStyles({
        position : "absolute",
        top : 0,
        left : "-9999px",
        height : 0,
        overflow : "hidden"
      }, true);
      clone.removeAttribute('id');
      clone.removeAttribute('name');
      clone.setAttribute("tabIndex", "-1");
      clone.setValue(orig.getValue() || "");
      clone.insertBefore(orig);
      this.__scrollCloneToBottom(clone);
      return clone;
    },
    __scrollCloneToBottom : function(clone){

      clone = clone.getDomElement();
      if(clone){

        clone.scrollTop = 10000;
      };
    },
    _createInputElement : function(){

      return new qx.html.Input("textarea", {
        overflowX : "auto",
        overflowY : "auto"
      });
    },
    _applyWrap : function(value, old){

      this.getContentElement().setWrap(value);
      if(this._placeholder){

        var whiteSpace = value ? "normal" : "nowrap";
        this._placeholder.setStyle("whiteSpace", whiteSpace);
      };
      this.__autoSize();
    },
    _applyMinimalLineHeight : function(){

      qx.ui.core.queue.Layout.add(this);
    },
    _applyAutoSize : function(value, old){

      if(qx.core.Environment.get("qx.debug")){

        this.__warnAutoSizeAndHeight();
      };
      if(value){

        this.__autoSize();
        this.addListener("input", this.__autoSize, this);
        if(!this.getBounds()){

          this.addListenerOnce("appear", function(){

            this.getContentElement().setStyle("overflowY", "hidden");
          });
        } else {

          this.getContentElement().setStyle("overflowY", "hidden");
        };
      } else {

        this.removeListener("input", this.__autoSize);
        this.getContentElement().setStyle("overflowY", "auto");
      };
    },
    _applyDimension : function(value){

      this.base(arguments);
      if(qx.core.Environment.get("qx.debug")){

        this.__warnAutoSizeAndHeight();
      };
      if(value === this.getMaxHeight()){

        this.__autoSize();
      };
    },
    __forceRewrap : function(){

      var content = this.getContentElement();
      var element = content.getDomElement();
      var width = content.getStyle("width");
      content.setStyle("width", parseInt(width, 10) + 1000 + "px", true);
      if(element){

        qx.bom.element.Dimension.getWidth(element);
      };
      content.setStyle("width", width, true);
    },
    __warnAutoSizeAndHeight : function(){

      if(this.isAutoSize() && this.getHeight()){

        this.warn("autoSize is ignored when the height property is set. " + "If you want to set an initial height, use the minHeight " + "property instead.");
      };
    },
    _getContentHint : function(){

      var hint = this.base(arguments);
      hint.height = hint.height * this.getMinimalLineHeight();
      hint.width = this._getTextSize().width * 20;
      if(this.isAutoSize()){

        hint.height = this.__areaHeight || hint.height;
      };
      return hint;
    }
  },
  destruct : function(){

    this.setAutoSize(false);
    if(this.__areaClone){

      this.__areaClone.dispose();
    };
  }
});

qx.Class.define("qx.ui.virtual.layer.WidgetCellSpan", {
  extend : qx.ui.virtual.layer.Abstract,
  include : [qx.ui.core.MChildrenHandling],
  construct : function(widgetCellProvider, rowConfig, columnConfig){

    this.base(arguments);
    this.setZIndex(12);
    this._spanManager = new qx.ui.virtual.layer.CellSpanManager(rowConfig, columnConfig);
    this._cellProvider = widgetCellProvider;
    this.__spacerPool = [];
    this._cellLayer = new qx.ui.virtual.layer.WidgetCell(this.__getCellProviderForNonSpanningCells());
    this._cellLayer.setZIndex(0);
    this._setLayout(new qx.ui.layout.Grow());
    this._add(this._cellLayer);
  },
  properties : {
    anonymous : {
      refine : true,
      init : false
    }
  },
  members : {
    getRenderedCellWidget : function(row, column){

      var widget = this._cellLayer.getRenderedCellWidget(row, column);
      if(!widget || widget.getUserData("cell.spanning")){

        var children = this._getChildren();
        for(var i = 0,l = children.length;i < l;i++){

          var child = children[i];
          if(child == this._cellLayer){

            continue;
          };
          var cell = {
            row : child.getUserData("cell.row"),
            column : child.getUserData("cell.column"),
            rowSpan : child.getUserData("cell.rowspan"),
            colSpan : child.getUserData("cell.colspan")
          };
          if(cell.row <= row && row < cell.row + cell.rowSpan && cell.column <= column && column < cell.column + cell.colSpan){

            return child;
          };
        };
        return null;
      };
      return widget;
    },
    __spacerPool : null,
    setCellSpan : function(row, column, rowSpan, columnSpan){

      var id = row + "x" + column;
      this._spanManager.removeCell(id);
      if(rowSpan > 1 || columnSpan > 1){

        this._spanManager.addCell(id, row, column, rowSpan, columnSpan);
      };
      qx.ui.core.queue.Widget.add(this);
    },
    __getCellProviderForNonSpanningCells : function(){

      var self = this;
      var cellProvider = this._cellProvider;
      var spacerPool = this.__spacerPool;
      var nonSpanningCellProvider = {
        getCellWidget : function(row, column){

          if(!self._spanMap[row][column]){

            var widget = cellProvider.getCellWidget(row, column);
          } else {

            var widget = spacerPool.pop();
            if(!widget){

              widget = new qx.ui.core.Spacer();
              widget.setUserData("cell.spanning", 1);
            };
          };
          return widget;
        },
        poolCellWidget : function(widget){

          if(widget.getUserData("cell.spanning")){

            spacerPool.push(widget);
          } else {

            cellProvider.poolCellWidget(widget);
          };
        }
      };
      return nonSpanningCellProvider;
    },
    __updateCellSpanData : function(firstRow, firstColumn, rowCount, columnCount){

      this._cells = this._spanManager.findCellsInWindow(firstRow, firstColumn, rowCount, columnCount);
      if(this._cells.length > 0){

        this._bounds = this._spanManager.getCellBounds(this._cells, firstRow, firstColumn);
        this._spanMap = this._spanManager.computeCellSpanMap(this._cells, firstRow, firstColumn, rowCount, columnCount);
      } else {

        this._bounds = [];
        this._spanMap = [];
        for(var i = 0;i < rowCount;i++){

          this._spanMap[firstRow + i] = [];
        };
      };
    },
    __updateCellSpanWidgets : function(){

      var children = this.getChildren();
      for(var i = children.length - 1;i >= 0;i--){

        var child = children[i];
        if(child !== this._cellLayer){

          this._cellProvider.poolCellWidget(child);
          this._remove(child);
        };
      };
      for(var i = 0,l = this._cells.length;i < l;i++){

        var cell = this._cells[i];
        var cellBounds = this._bounds[i];
        var cellWidget = this._cellProvider.getCellWidget(cell.firstRow, cell.firstColumn);
        if(cellWidget){

          cellWidget.setUserBounds(cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);
          cellWidget.setUserData("cell.row", cell.firstRow);
          cellWidget.setUserData("cell.column", cell.firstColumn);
          cellWidget.setUserData("cell.rowspan", cell.lastRow - cell.firstRow + 1);
          cellWidget.setUserData("cell.colspan", cell.lastColumn - cell.firstColumn + 1);
          this._add(cellWidget);
        };
      };
    },
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      this.__updateCellSpanData(firstRow, firstColumn, rowSizes.length, columnSizes.length);
      this.__updateCellSpanWidgets();
      this._cellLayer.fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
    },
    _updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      this.__updateCellSpanData(firstRow, firstColumn, rowSizes.length, columnSizes.length);
      this.__updateCellSpanWidgets();
      this._cellLayer.updateLayerWindow(firstRow, firstColumn, rowSizes, columnSizes);
    }
  },
  destruct : function(){

    var children = this._getChildren();
    for(var i = 0;i < children.length;i++){

      children[i].dispose();
    };
    this._disposeObjects("_spanManager", "_cellLayer");
    this._cellProvider = this.__spacerPool = this._cells = this._bounds = this._spanMap = null;
  }
});

qx.Class.define("qx.ui.tree.TreeFile", {
  extend : qx.ui.tree.core.AbstractTreeItem,
  properties : {
    appearance : {
      refine : true,
      init : "tree-file"
    }
  },
  members : {
    _addWidgets : function(){

      this.addSpacer();
      this.addIcon();
      this.addLabel();
    }
  }
});

qx.Class.define("qx.io.request.authentication.Basic", {
  extend : qx.core.Object,
  implement : qx.io.request.authentication.IAuthentication,
  construct : function(username, password){

    this.__credentials = qx.util.Base64.encode(username + ':' + password);
  },
  members : {
    __credentials : null,
    getAuthHeaders : function(){

      return [{
        key : "Authorization",
        value : "Basic " + this.__credentials
      }];
    }
  },
  destruct : function(){

    this.__credentials = null;
  }
});

qx.Class.define("qx.util.Base64", {
  statics : {
    __base64Chars : ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/'],
    encode : function(input, is8bit){

      var isMultiByte;
      if(typeof is8bit == "undefined"){

        var charSet = document.characterSet || document.charset;
        isMultiByte = charSet.toLowerCase().indexOf('utf') != -1;
        if(!isMultiByte && window.btoa instanceof Function){

          return btoa(input);
        };
      } else {

        isMultiByte = !is8bit;
      };
      var padding = '=';
      var base64Chars = this.__base64Chars;
      var length = input.length;
      var output = [];
      var result = [];
      var i = 0;
      var translateUTF8 = this.__translateUTF8;
      while(i < length){

        translateUTF8(input.charCodeAt(i++), output, !isMultiByte);
      };
      for(var k = 0,l = output.length;k < l;k += 3){

        if(k + 1 === l){

          result.push(base64Chars[output[k] >> 2]);
          result.push(base64Chars[(output[k] & 3) << 4]);
          result.push(padding + padding);
          break;
        };
        if(k + 2 === l){

          result.push(base64Chars[output[k] >> 2]);
          result.push(base64Chars[(output[k] & 3) << 4 | output[k + 1] >> 4]);
          result.push(base64Chars[(output[k + 1] & 15) << 2]);
          result.push(padding);
          break;
        };
        result.push(base64Chars[output[k] >> 2]);
        result.push(base64Chars[(output[k] & 3) << 4 | output[k + 1] >> 4]);
        result.push(base64Chars[(output[k + 1] & 15) << 2 | output[k + 2] >> 6]);
        result.push(base64Chars[output[k + 2] & 63]);
      };
      return result.join('');
    },
    __translateUTF8 : function(characterCode, output, is8bit){

      if(characterCode < 128){

        output.push(characterCode);
        return;
      };
      if(characterCode < 256 && is8bit){

        output.push(characterCode);
        return;
      };
      if(characterCode < 2048){

        output.push(192 | characterCode >> 6);
        output.push(128 | characterCode & 63);
        return;
      };
      if(characterCode < 65536){

        output.push(224 | characterCode >> 12);
        output.push(128 | (characterCode >> 6) & 63);
        output.push(128 | characterCode & 63);
        return;
      } else {

        output.push(240 | characterCode >> 18);
        output.push(128 | (characterCode >> 12) & 63);
        output.push(128 | (characterCode >> 6) & 63);
        output.push(128 | characterCode & 63);
        return;
      };
    },
    __getUTF8StringFromBytes : function(bytes, is8bit){

      var charString = '';
      var result = [];
      if(is8bit){

        result = bytes;
      } else {

        for(var i = 0;i < bytes.length;i++){

          var utfByte = bytes[i];
          if(utfByte >> 7 === 0){

            result.push(utfByte);
          };
          if(utfByte >> 5 === 6){

            var nextByte = bytes[++i];
            result.push(((utfByte & 28) >> 2) << 8 | ((utfByte & 3) << 6) | nextByte & 63);
          };
          if(utfByte >> 4 === 14){

            var nextBytes = [bytes[++i], bytes[++i]];
            result.push((utfByte & 15) << 12 | ((nextBytes[0] & 60) >> 2) << 8 | (nextBytes[0] & 3) << 6 | (nextBytes[1] & 63));
          };
          if(utfByte >> 3 === 30){

            var nextBytes = [bytes[++i], bytes[++i], bytes[++i]];
            result.push((utfByte & 7) << 18 | (utfByte & 48) << 16 | (nextBytes[0] & 15) << 12 | ((nextBytes[1] & 60) >> 2) << 8 | (nextBytes[1] & 3) << 6 | (nextBytes[2] & 63));
          };
        };
      };
      for(var i = 0,l = result.length;i < l;i++){

        charString += String.fromCharCode(result[i]);
      };
      return charString;
    },
    decode : function(input, is8bit){

      var base64Chars = this.__base64Chars;
      var isMultiByte;
      if(typeof is8bit == "undefined"){

        var charSet = document.characterSet || document.charset;
        isMultiByte = charSet.toLowerCase().indexOf('utf') != -1;
        if(!isMultiByte && window.atob instanceof Function){

          return atob(input);
        };
      } else {

        isMultiByte = !is8bit;
      };
      var ilength = input.length;
      var stringBytes = [],i = 0;
      while(i < ilength){

        var base64Byte1 = base64Chars.indexOf(input.charAt(i++));
        var base64Byte2 = base64Chars.indexOf(input.charAt(i++));
        var c1 = base64Byte1 << 2 | base64Byte2 >> 4;
        stringBytes.push(c1);
        var specialChar = input.charAt(i++);
        if(specialChar !== '='){

          var base64Byte3 = base64Chars.indexOf(specialChar);
          var c2 = (base64Byte2 & 15) << 4 | (base64Byte3 & 60) >> 2;
          stringBytes.push(c2);
        };
        specialChar = input.charAt(i++);
        if(specialChar !== '='){

          var base64Byte4 = base64Chars.indexOf(specialChar);
          var c3 = (base64Byte3 & 3) << 6 | base64Byte4;
          stringBytes.push(c3);
        };
      };
      return this.__getUTF8StringFromBytes(stringBytes, !isMultiByte);
    }
  }
});

qx.Class.define("qx.application.Native", {
  extend : qx.core.Object,
  implement : [qx.application.IApplication],
  members : {
    main : function(){
    },
    finalize : function(){
    },
    close : function(){
    },
    terminate : function(){
    }
  }
});

qx.Class.define("qx.ui.virtual.layer.HtmlCellSpan", {
  extend : qx.ui.virtual.layer.HtmlCell,
  construct : function(htmlCellProvider, rowConfig, columnConfig){

    this.base(arguments, htmlCellProvider);
    this._spanManager = new qx.ui.virtual.layer.CellSpanManager(rowConfig, columnConfig);
  },
  members : {
    setCellSpan : function(row, column, rowSpan, columnSpan){

      var id = row + "x" + column;
      this._spanManager.removeCell(id);
      if(rowSpan > 1 || columnSpan > 1){

        this._spanManager.addCell(id, row, column, rowSpan, columnSpan);
      };
      qx.ui.core.queue.Widget.add(this);
    },
    __renderCell : function(htmlArr, row, column, left, top, width, height){

      var cellProperties = this._cellProvider.getCellProperties(row, column);
      var insets = cellProperties.insets || [0, 0];
      htmlArr.push("<div ", "style='", "left:", left, "px;", "top:", top, "px;", this._getCellSizeStyle(width, height, insets[0], insets[1]), cellProperties.style || "", "' ", "class='", cellProperties.classes || "", "' ", cellProperties.attributes || "", ">", cellProperties.content || "", "</div>");
    },
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      var html = [];
      var cells = this._spanManager.findCellsInWindow(firstRow, firstColumn, rowSizes.length, columnSizes.length);
      if(cells.length > 0){

        var bounds = this._spanManager.getCellBounds(cells, firstRow, firstColumn);
        var spanMap = this._spanManager.computeCellSpanMap(cells, firstRow, firstColumn, rowSizes.length, columnSizes.length);
        for(var i = 0,l = cells.length;i < l;i++){

          var cell = cells[i];
          var cellBounds = bounds[i];
          this.__renderCell(html, cell.firstRow, cell.firstColumn, cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);
        };
      } else {

        spanMap = [];
        for(var i = 0;i < rowSizes.length;i++){

          spanMap[firstRow + i] = [];
        };
      };
      var left = 0;
      var top = 0;
      var row = firstRow;
      var column = firstColumn;
      for(var x = 0;x < rowSizes.length;x++){

        var left = 0;
        var column = firstColumn;
        var height = rowSizes[x];
        for(var y = 0;y < columnSizes.length;y++){

          var width = columnSizes[y];
          if(!spanMap[row][column]){

            this.__renderCell(html, row, column, left, top, width, height);
          };
          column++;
          left += width;
        };
        top += height;
        row++;
      };
      this.getContentElement().setAttribute("html", html.join(""));
    }
  },
  destruct : function(){

    this._disposeObjects("_spanManager");
  }
});

qx.Class.define("qx.ui.virtual.cell.Image", {
  extend : qx.ui.virtual.cell.AbstractImage,
  properties : {
    appearance : {
      refine : true,
      init : "cell-image"
    }
  },
  members : {
    _identifyImage : function(value){

      return value;
    }
  }
});

qxWeb.define("qx.module.Blocker", {
  statics : {
    __attachBlocker : function(item, color, opacity, zIndex){

      var win = qxWeb.getWindow(item);
      var isDocument = qxWeb.isDocument(item);
      if(!isDocument && !qxWeb.isElement(item)){

        return;
      };
      if(!item.__blocker){

        item.__blocker = {
          div : qxWeb.create("<div class='qx-blocker' />")
        };
      };
      if(isDocument){

        item.__blocker.div.insertBefore(qxWeb(win.document.body).getChildren(':first'));
      } else {

        item.__blocker.div.appendTo(win.document.body);
      };
      qx.module.Blocker.__styleBlocker(item, color, opacity, zIndex, isDocument);
    },
    __styleBlocker : function(item, color, opacity, zIndex, isDocument){

      var qItem = qxWeb(item);
      var styles = {
        "display" : "block"
      };
      styles.backgroundColor = typeof color !== 'undefined' ? color : null;
      styles.zIndex = typeof zIndex !== 'undefined' ? zIndex : null;
      if(qxWeb.env.get("browser.name") === "ie" && qxWeb.env.get("browser.version") <= 8){

        styles.opacity = typeof opacity !== 'undefined' ? opacity : 0;
      } else {

        styles.opacity = typeof opacity !== 'undefined' ? opacity : null;
      };
      if(isDocument){

        styles.top = 0 + "px";
        styles.left = 0 + "px";
        styles.position = "fixed";
        styles.width = "100%";
        styles.height = "100%";
      } else {

        var pos = qItem.getOffset();
        styles.top = pos.top + "px";
        styles.left = pos.left + "px";
        styles.position = "absolute";
        styles.width = qItem.getWidth() + "px";
        styles.height = qItem.getHeight() + "px";
      };
      item.__blocker.div.setStyles(styles);
    },
    __detachBlocker : function(item, index){

      if(!item.__blocker){

        return;
      };
      item.__blocker.div.remove();
    },
    __getBlocker : function(collection){

      var blockerElements = qxWeb();
      collection.forEach(function(item, index){

        if(typeof item.__blocker !== "undefined"){

          blockerElements = blockerElements.concat(item.__blocker.div);
        };
      });
      return blockerElements;
    },
    block : function(color, opacity, zIndex){

      if(!this[0]){

        return this;
      };
      this.forEach(function(item, index){

        qx.module.Blocker.__attachBlocker(item, color, opacity, zIndex);
      });
      return this;
    },
    unblock : function(){

      if(!this[0]){

        return this;
      };
      this.forEach(qx.module.Blocker.__detachBlocker);
      return this;
    },
    getBlocker : function(){

      if(!this[0]){

        return this;
      };
      var collection = qx.module.Blocker.__getBlocker(this);
      return collection;
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      "block" : statics.block,
      "unblock" : statics.unblock,
      "getBlocker" : statics.getBlocker
    });
  }
});

qx.Class.define("qx.ui.virtual.behavior.Prefetch", {
  extend : qx.core.Object,
  construct : function(scroller, settings){

    if(qx.core.Environment.get("qx.debug")){

      this.assertObject(settings);
      this.assertPositiveInteger(settings.minLeft);
      this.assertPositiveInteger(settings.maxLeft);
      this.assertPositiveInteger(settings.minRight);
      this.assertPositiveInteger(settings.maxRight);
      this.assertPositiveInteger(settings.minAbove);
      this.assertPositiveInteger(settings.maxAbove);
      this.assertPositiveInteger(settings.minBelow);
      this.assertPositiveInteger(settings.maxBelow);
    };
    this.base(arguments);
    this.setPrefetchX(settings.minLeft, settings.maxLeft, settings.minRight, settings.maxRight);
    this.setPrefetchY(settings.minAbove, settings.maxAbove, settings.minBelow, settings.maxBelow);
    this.__timer = new qx.event.Timer(this.getInterval());
    this.__timer.addListener("interval", this._onInterval, this);
    if(scroller){

      this.setScroller(scroller);
    };
  },
  properties : {
    scroller : {
      check : "qx.ui.virtual.core.Scroller",
      nullable : true,
      init : null,
      apply : "_applyScroller"
    },
    interval : {
      check : "Integer",
      init : 200,
      apply : "_applyInterval"
    }
  },
  members : {
    __prefetchX : null,
    __prefetchY : null,
    __timer : null,
    __onScrollXId : null,
    __onScrollYId : null,
    setPrefetchX : function(minLeft, maxLeft, minRight, maxRight){

      this.__prefetchX = [minLeft, maxLeft, minRight, maxRight];
    },
    setPrefetchY : function(minAbove, maxAbove, minBelow, maxBelow){

      this.__prefetchY = [minAbove, maxAbove, minBelow, maxBelow];
    },
    _onInterval : function(){

      var px = this.__prefetchX;
      if(px[1] && px[3]){

        this.getScroller().getPane().prefetchX(px[0], px[1], px[2], px[3]);
        qx.ui.core.queue.Manager.flush();
      };
      var py = this.__prefetchY;
      if(py[1] && py[3]){

        this.getScroller().getPane().prefetchY(py[0], py[1], py[2], py[3]);
        qx.ui.core.queue.Manager.flush();
      };
    },
    _applyScroller : function(value, old){

      if(old){

        if(this.__onScrollXId){

          old.getChildControl("scrollbar-x").removeListenerById(this.__onScrollXId);
        };
        if(this.__onScrollYId){

          old.getChildControl("scrollbar-y").removeListenerById(this.__onScrollYId);
        };
      };
      if(value){

        if(!value.getContentElement().getDomElement()){

          this.__timer.stop();
          value.addListenerOnce("appear", this.__timer.start, this.__timer);
        } else {

          this.__timer.restart();
        };
        this.__onScrollXId = value.getChildControl("scrollbar-x").addListener("scroll", this.__timer.restart, this.__timer);
        this.__onScrollYId = value.getChildControl("scrollbar-y").addListener("scroll", this.__timer.restart, this.__timer);
      } else {

        this.__timer.stop();
      };
    },
    _applyInterval : function(value, old){

      this.__timer.setInterval(value);
    }
  },
  destruct : function(){

    this.setScroller(null);
    this.__prefetchX = this.__prefetchY = null;
    this._disposeObjects("__timer");
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Date", {
  extend : qx.ui.table.cellrenderer.Conditional,
  properties : {
    dateFormat : {
      check : "qx.util.format.DateFormat",
      init : null,
      nullable : true
    }
  },
  members : {
    _getContentHtml : function(cellInfo){

      var df = this.getDateFormat();
      if(df){

        if(cellInfo.value){

          return qx.bom.String.escape(df.format(cellInfo.value));
        } else {

          return "";
        };
      } else {

        return cellInfo.value || "";
      };
    },
    _getCellClass : function(cellInfo){

      return "qooxdoo-table-cell";
    }
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Replace", {
  extend : qx.ui.table.cellrenderer.Default,
  properties : {
    replaceMap : {
      check : "Object",
      nullable : true,
      init : null
    },
    replaceFunction : {
      check : "Function",
      nullable : true,
      init : null
    }
  },
  members : {
    _getContentHtml : function(cellInfo){

      var value = cellInfo.value;
      var replaceMap = this.getReplaceMap();
      var replaceFunc = this.getReplaceFunction();
      var label;
      if(replaceMap){

        label = replaceMap[value];
        if(typeof label != "undefined"){

          cellInfo.value = label;
          return qx.bom.String.escape(this._formatValue(cellInfo));
        };
      };
      if(replaceFunc){

        cellInfo.value = replaceFunc(value);
      };
      return qx.bom.String.escape(this._formatValue(cellInfo));
    },
    addReversedReplaceMap : function(){

      var map = this.getReplaceMap();
      for(var key in map){

        var value = map[key];
        map[value] = key;
      };
      return true;
    }
  }
});

qx.Class.define("qx.ui.progressive.renderer.FunctionCaller", {
  extend : qx.ui.progressive.renderer.Abstract,
  members : {
    render : function(state, element){

      element.data(state.getUserData());
    }
  }
});

qx.Class.define("qx.dev.unit.TestLoader", {
  extend : qx.application.Standalone,
  include : [qx.dev.unit.MTestLoader],
  members : {
    main : function(){

      this.base(arguments);
      qx.log.appender.Console;
      var url = this._getClassNameFromUrl();
      if(url !== "__unknown_class__"){

        this.setTestNamespace(this._getClassNameFromUrl());
      } else {

        var namespace = qx.core.Environment.get("qx.testNameSpace");
        if(namespace){

          this.setTestNamespace(namespace);
        };
      };
      if(window.top.jsUnitTestSuite){

        this.runJsUnit();
        return;
      };
      if(window == window.top && qx.core.Environment.get("qx.standaloneAutorun")){

        this.runStandAlone();
      };
    }
  }
});

qx.Class.define("qx.ui.table.celleditor.Dynamic", {
  extend : qx.core.Object,
  implement : qx.ui.table.ICellEditorFactory,
  construct : function(cellEditorFactoryFunction){

    this.base(arguments);
    if(cellEditorFactoryFunction){

      this.setCellEditorFactoryFunction(cellEditorFactoryFunction);
    };
    this.__infos = {
    };
  },
  properties : {
    cellEditorFactoryFunction : {
      check : "Function",
      nullable : true,
      init : null
    }
  },
  members : {
    __cellEditorFactory : null,
    __infos : null,
    createCellEditor : function(cellInfo){

      var cellEditorFactoryFunction = this.getCellEditorFactoryFunction();
      if(qx.core.Environment.get("qx.debug")){

        this.assertFunction(cellEditorFactoryFunction, "No function provided! Aborting.");
      };
      this.__cellEditorFactory = cellEditorFactoryFunction(cellInfo);
      var cellEditor = this.__cellEditorFactory.createCellEditor(cellInfo);
      this.__infos[cellEditor.toHashCode()] = cellInfo;
      return cellEditor;
    },
    getCellEditorValue : function(cellEditor){

      var cellEditorFactoryFunction = this.getCellEditorFactoryFunction();
      if(qx.core.Environment.get("qx.debug")){

        this.assertFunction(cellEditorFactoryFunction, "No function provided! Aborting.");
      };
      var cellInfo = this.__infos[cellEditor.toHashCode()];
      this.__cellEditorFactory = cellEditorFactoryFunction(cellInfo);
      var value = this.__cellEditorFactory.getCellEditorValue(cellEditor);
      return value;
    }
  },
  destruct : function(){

    this.__cellEditorFactory = null;
  }
});

qx.Class.define("qx.dev.unit.TestLoaderNative", {
  extend : qx.application.Native,
  members : {
    main : function(){

      this.base(arguments);
      qx.log.appender.Console;
      this.setTestNamespace(this._getClassNameFromUrl());
      if(window.top.jsUnitTestSuite){

        this.runJsUnit();
        return;
      };
      if(window == window.top){

        this.runStandAlone();
        return;
      };
    }
  }
});

qx.Bootstrap.define("qx.dev.Profile", {
  statics : {
    __profileData : {
    },
    __callStack : [],
    __doProfile : true,
    __callOverhead : undefined,
    __calibrateCount : 4000,
    start : function(){

      this.__doProfile = true;
      this.__profileData = {
      };
      this.__callStack.splice(0, this.__callStack.length - 2);
    },
    stop : function(){

      this.__doProfile = false;
    },
    getProfileData : function(){

      return this.__profileData;
    },
    showResults : function(maxLength){

      this.stop();
      this.normalizeProfileData();
      var data = qx.lang.Object.getValues(this.__profileData);
      data = data.sort(function(a, b){

        return a.calibratedOwnTime < b.calibratedOwnTime ? 1 : -1;
      });
      data = data.slice(0, maxLength || 100);
      var str = ["<table><tr><th>Name</th><th>Type</th><th>Own time</th><th>Avg time</th><th>calls</th></tr>"];
      for(var i = 0;i < data.length;i++){

        var profData = data[i];
        if(profData.name == "qx.core.Aspect.__calibrateHelper"){

          continue;
        };
        str.push("<tr><td>");
        str.push(profData.name, "()");
        str.push("</td><td>");
        str.push(profData.type);
        str.push("</td><td>");
        str.push(profData.calibratedOwnTime.toPrecision(3));
        str.push("ms</td><td>");
        str.push((profData.calibratedOwnTime / profData.callCount).toPrecision(3));
        str.push("ms</td><td>");
        str.push(profData.callCount);
        str.push("</td></tr>");
      };
      str.push("</table>");
      var win = window.open("about:blank", "profileLog");
      var doc = win.document;
      doc.open();
      doc.write("<html><head><style type='text/css'>body{font-family:monospace;font-size:11px;background:white;color:black;}</style></head><body>");
      doc.write(str.join(""));
      doc.write("</body></html>");
      doc.close();
    },
    __calibrate : function(count){

      var fcn;
      var code = ["var fcn = function(){ var fcn=qx.dev.Profile.__calibrateHelper;"];
      for(var i = 0;i < count;i++){

        code.push("fcn();");
      };
      code.push("};");
      eval(code.join(""));
      var start = new Date();
      fcn();
      var end = new Date();
      var profTime = end - start;
      var code = ["var plainFunc = function() {};", "var fcn = function(){ var fcn=plainFunc;"];
      for(var i = 0;i < count;i++){

        code.push("fcn();");
      };
      code.push("};");
      eval(code.join(""));
      var start = new Date();
      fcn();
      var end = new Date();
      var plainTime = end - start;
      return ((profTime - plainTime) / count);
    },
    __calibrateHelper : function(){
    },
    normalizeProfileData : function(){

      if(this.__callOverhead == undefined){

        this.__callOverhead = this.__calibrate(this.__calibrateCount);
      };
      for(var key in this.__profileData){

        var profileData = this.__profileData[key];
        profileData.calibratedOwnTime = Math.max(profileData.ownTime - (profileData.subRoutineCalls * this.__callOverhead), 0);
        profileData.calibratedAvgTime = profileData.calibratedOwnTime / profileData.callCount;
      };
    },
    profileBefore : function(fullName, fcn, type, args){

      var me = qx.dev.Profile;
      if(!me.__doProfile){

        return;
      };
      var callData = {
        subRoutineTime : 0,
        subRoutineCalls : 0
      };
      me.__callStack.push(callData);
      callData.startTime = new Date();
    },
    profileAfter : function(fullName, fcn, type, args, returnValue){

      var me = qx.dev.Profile;
      if(!me.__doProfile){

        return;
      };
      var endTime = new Date();
      var callData = me.__callStack.pop();
      var totalTime = endTime - callData.startTime;
      var ownTime = totalTime - callData.subRoutineTime;
      if(me.__callStack.length > 0){

        var lastCall = me.__callStack[me.__callStack.length - 1];
        lastCall.subRoutineTime += totalTime;
        lastCall.subRoutineCalls += 1;
      };
      var fcnKey = fullName + " (" + type + ")";
      if(me.__profileData[fcnKey] === undefined){

        me.__profileData[fcnKey] = {
          totalTime : 0,
          ownTime : 0,
          callCount : 0,
          subRoutineCalls : 0,
          name : fullName,
          type : type
        };
      };
      var functionData = me.__profileData[fcnKey];
      functionData.totalTime += totalTime;
      functionData.ownTime += ownTime;
      functionData.callCount += 1;
      functionData.subRoutineCalls += callData.subRoutineCalls;
    }
  },
  defer : function(statics){

    if(qx.core.Environment.get("qx.aspects")){

      qx.Bootstrap.debug("Enable global profiling...");
      qx.core.Aspect.addAdvice(statics.profileBefore, "before");
      qx.core.Aspect.addAdvice(statics.profileAfter, "after");
      statics.__calibrateHelper = qx.core.Aspect.wrap("qx.dev.Profile.__calibrateHelper", statics.__calibrateHelper, "static");
    };
  }
});

qx.Class.define("qx.ui.virtual.cell.String", {
  extend : qx.ui.virtual.cell.Cell,
  construct : function(){

    this.base(arguments);
  },
  properties : {
    appearance : {
      refine : true,
      init : "cell-string"
    }
  },
  members : {
    getContent : function(value, states){

      return value ? qx.bom.String.escape(value) : "";
    }
  }
});

qx.Class.define("qx.ui.form.renderer.Double", {
  extend : qx.ui.form.renderer.AbstractRenderer,
  construct : function(form){

    var layout = new qx.ui.layout.Grid();
    layout.setSpacing(6);
    layout.setColumnAlign(0, "right", "top");
    layout.setColumnAlign(1, "left", "top");
    layout.setColumnAlign(2, "right", "top");
    layout.setColumnAlign(3, "left", "top");
    this._setLayout(layout);
    this.base(arguments, form);
  },
  members : {
    _row : 0,
    _buttonRow : null,
    _onFormChange : function(){

      this._buttonRow.destroy();
      this._buttonRow = null;
      this._row = 0;
      this.base(arguments);
    },
    addItems : function(items, names, title){

      if(title != null){

        this._add(this._createHeader(title), {
          row : this._row,
          column : 0,
          colSpan : 4
        });
        this._row++;
      };
      for(var i = 0;i < items.length;i++){

        var label = this._createLabel(names[i], items[i]);
        this._add(label, {
          row : this._row,
          column : (i * 2) % 4
        });
        var item = items[i];
        label.setBuddy(item);
        this._connectVisibility(item, label);
        this._add(item, {
          row : this._row,
          column : ((i * 2) % 4) + 1
        });
        if(i % 2 == 1){

          this._row++;
        };
        if(qx.core.Environment.get("qx.dynlocale")){

          this._names.push({
            name : names[i],
            label : label,
            item : items[i]
          });
        };
      };
      if(i % 2 == 1){

        this._row++;
      };
    },
    addButton : function(button){

      if(this._buttonRow == null){

        this._buttonRow = new qx.ui.container.Composite();
        this._buttonRow.setMarginTop(5);
        var hbox = new qx.ui.layout.HBox();
        hbox.setAlignX("right");
        hbox.setSpacing(5);
        this._buttonRow.setLayout(hbox);
        this._add(this._buttonRow, {
          row : this._row,
          column : 0,
          colSpan : 4
        });
        this._row++;
      };
      this._buttonRow.add(button);
    },
    getLayout : function(){

      return this._getLayout();
    },
    _createLabel : function(name, item){

      var label = new qx.ui.basic.Label(this._createLabelText(name, item));
      this._labels.push(label);
      label.setRich(true);
      return label;
    },
    _createHeader : function(title){

      var header = new qx.ui.basic.Label(title);
      this._labels.push(header);
      header.setFont("bold");
      if(this._row != 0){

        header.setMarginTop(10);
      };
      header.setAlignX("left");
      return header;
    }
  },
  destruct : function(){

    if(this._buttonRow){

      this._buttonRow.removeAll();
      this._disposeObjects("_buttonRow");
    };
  }
});

qx.Class.define("qx.ui.mobile.form.Group", {
  extend : qx.ui.mobile.container.Composite,
  construct : function(widgets, showBorder){

    this.base(arguments);
    this.addCssClass("bordered");
    if(showBorder != null){

      this.setShowBorder(showBorder);
    };
    if(widgets){

      for(var i = 0;i < widgets.length;i++){

        this.add(widgets[i]);
      };
    };
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "group"
    },
    showBorder : {
      check : "Boolean",
      init : true,
      apply : "_onChangeShowBorder"
    }
  },
  members : {
    _onChangeShowBorder : function(){

      if(this.isShowBorder() == true){

        this.addCssClass("bordered");
      } else {

        this.removeCssClass("bordered");
      };
    }
  }
});

qx.Bootstrap.define("qx.ui.website.DatePicker", {
  extend : qx.ui.website.Widget,
  statics : {
    _config : {
      format : function(date){

        return date.toLocaleDateString();
      },
      readonly : true,
      icon : null,
      mode : 'input'
    },
    datepicker : function(date){

      var datepicker = new qx.ui.website.DatePicker(this);
      datepicker.init(date);
      return datepicker;
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  members : {
    getCalendar : function(){

      var calendarCollection = qxWeb();
      this._forEachElementWrapped(function(datepicker){

        calendarCollection = calendarCollection.concat(qxWeb('div#' + datepicker.getProperty('calendarId')));
      });
      return calendarCollection;
    },
    init : function(date){

      if(!this.base(arguments)){

        return false;
      };
      this._forEachElementWrapped(function(datepicker){

        var uniqueId = Math.round(Math.random() * 10000);
        datepicker.setProperty('uniqueId', uniqueId);
        this.__setReadOnly(datepicker);
        this.__setIcon(datepicker);
        this.__addInputListener(datepicker);
        var calendarId = 'datepicker-calendar-' + uniqueId;
        var calendar = qxWeb.create('<div id="' + calendarId + '"></div>').calendar();
        calendar.on('tap', this._onCalendarTap);
        calendar.appendTo(document.body).hide();
        datepicker.setProperty('calendarId', calendarId);
        var bodyElement = qxWeb.getDocument(datepicker).body;
        qxWeb(bodyElement).on('tap', datepicker._onBodyTap, datepicker);
        calendar.on('changeValue', datepicker._calendarChangeValue, datepicker);
        if(date !== undefined){

          calendar.setValue(date);
        };
      });
      return true;
    },
    render : function(){

      this.getCalendar().render();
      this._forEachElementWrapped(function(datepicker){

        this.__setReadOnly(datepicker);
        this.__setIcon(datepicker);
        this.__addInputListener(datepicker);
      });
      this.setEnabled(this.getEnabled());
      return this;
    },
    _onTap : function(e){

      if(!this.getEnabled()){

        return;
      };
      var calendar = qxWeb('div#' + this.getProperty('calendarId'));
      if(calendar.getStyle("display") == "none"){

        this.getCalendar().show().placeTo(this, 'bottom-left');
      } else {

        this.getCalendar().hide();
      };
    },
    _onCalendarTap : function(e){

      e.stopPropagation();
    },
    _onBodyTap : function(e){

      var target = qxWeb(e.getTarget());
      if(this.length > 0 && target.length > 0 && this[0] == target[0]){

        return;
      };
      if(this.getConfig('icon') !== null){

        var icon = qxWeb('#' + this.getProperty('iconId'));
        if(icon.length > 0 && target.length > 0 && icon[0] == target[0]){

          return;
        };
      };
      if(this.getCalendar().isRendered()){

        var tappedCol = qxWeb(e.getTarget());
        if(tappedCol.isChildOf(this.getCalendar()) === false){

          this.getCalendar().hide();
        };
      };
    },
    _calendarChangeValue : function(e){

      var formattedValue = this.getConfig('format').call(this, e);
      this.setValue(formattedValue);
      this.getCalendar().hide();
    },
    __setReadOnly : function(collection){

      if(collection.getConfig('readonly')){

        collection.setAttribute('readonly', 'readonly');
      } else {

        collection.removeAttribute('readonly');
      };
    },
    __setIcon : function(collection){

      var icon;
      if(collection.getConfig('icon') === null){

        icon = collection.getNext('img#' + collection.getProperty('iconId'));
        if(icon.length === 1){

          icon.off('tap', this._onTap, collection);
          icon.remove();
        };
      } else {

        var iconId = 'datepicker-icon-' + collection.getProperty('uniqueId');
        if(collection.getProperty('iconId') === undefined){

          collection.setProperty('iconId', iconId);
          icon = qxWeb.create('<img>');
          icon.setAttributes({
            id : iconId,
            src : collection.getConfig('icon')
          });
          icon.addClass(this.getCssPrefix() + '-icon');
          var openingMode = collection.getConfig('mode');
          if(openingMode === 'icon' || openingMode === 'both'){

            icon.on('tap', this._onTap, collection);
          };
          icon.insertAfter(collection);
        };
      };
    },
    __addInputListener : function(collection){

      if(collection.getConfig('mode') === 'icon'){

        collection.$offFirstCollection('tap', collection._onTap);
      } else {

        collection.$onFirstCollection('tap', collection._onTap);
      };
    },
    dispose : function(){

      this._forEachElementWrapped(function(datepicker){

        datepicker.removeAttribute('readonly');
        datepicker.getNext('img#' + datepicker.getProperty('iconId')).remove();
        datepicker.$offFirstCollection('tap', datepicker._onTap);
        var bodyElement = qxWeb.getDocument(datepicker).body;
        qxWeb(bodyElement).off('tap', datepicker._onBodyTap, datepicker);
        datepicker.getCalendar().off('changeValue', this._calendarChangeValue, datepicker).off('tap', this._onCalendarTap);
        var calendar = qxWeb('div#' + datepicker.getProperty('calendarId'));
        calendar.remove();
        calendar.dispose();
      });
      return this.base(arguments);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      datepicker : statics.datepicker
    });
  }
});

qx.Class.define("qx.io.remote.RpcError", {
  statics : {
    qx1 : {
      origin : {
        Server : 1,
        Application : 2,
        Transport : 3,
        Client : 4
      },
      error : {
        server : {
          ScriptError : -1,
          Unknown : 0,
          IllegalService : 1,
          ServiceNotFound : 2,
          ClassNotFound : 3,
          MethodNotFound : 4,
          ParameterMismatch : 5,
          PermissionDenied : 6
        }
      }
    },
    v2 : {
      error : {
        ParseError : -32700,
        InvalidRequest : -32600,
        MethodNotFound : -32601,
        InvalidParams : -32602,
        InternalError : -32603,
        PermissionDenied : -32000
      }
    }
  }
});

qx.Theme.define("qx.theme.simple.Color", {
  colors : {
    "background" : "white",
    "dark-blue" : "#5685D6",
    "light-background" : "#E0ECFF",
    "background-selected" : "#6694E3",
    "background-selected-disabled" : "#CDCDCD",
    "background-selected-dark" : "#5685D6",
    "background-disabled" : "#F7F7F7",
    "background-disabled-checked" : "#BBBBBB",
    "background-pane" : "#FAFBFE",
    "tabview-unselected" : "#1866B5",
    "tabview-button-border" : "#134983",
    "tabview-label-active-disabled" : "#D9D9D9",
    "link" : "#24B",
    "scrollbar-bright" : "#F1F1F1",
    "scrollbar-dark" : "#EBEBEB",
    "button" : "#E8F0E3",
    "button-border" : "#BBB",
    "button-border-hovered" : "#939393",
    "invalid" : "#FF0000",
    "button-box-bright" : "#F9F9F9",
    "button-box-dark" : "#E3E3E3",
    "button-box-bright-pressed" : "#DDDDDD",
    "button-box-dark-pressed" : "#F5F5F5",
    "border-lead" : "#888888",
    "window-border" : "#2E3A46",
    "window-border-inner" : "#9DCBFE",
    "white-box-border" : "#BCBCBC",
    "shadow" : qx.core.Environment.get("css.rgba") ? "rgba(0, 0, 0, 0.4)" : "#666666",
    "border-main" : "#6694E3",
    "border-light" : "#B7B7B7",
    "border-light-shadow" : "#686868",
    "border-separator" : "#808080",
    "text" : "black",
    "text-disabled" : "#A7A6AA",
    "text-selected" : "white",
    "text-placeholder" : "#CBC8CD",
    "tooltip" : "#FFFFE1",
    "tooltip-text" : "black",
    "table-header" : [242, 242, 242],
    "table-focus-indicator" : [179, 217, 255],
    "table-header-cell" : [235, 234, 219],
    "table-row-background-focused-selected" : [90, 138, 211],
    "table-row-background-focused" : [221, 238, 255],
    "table-row-background-selected" : [51, 94, 168],
    "table-row-background-even" : "white",
    "table-row-background-odd" : "white",
    "table-row-selected" : [255, 255, 255],
    "table-row" : [0, 0, 0],
    "table-row-line" : "#EEE",
    "table-column-line" : "#EEE",
    "progressive-table-header" : "#AAAAAA",
    "progressive-table-row-background-even" : [250, 248, 243],
    "progressive-table-row-background-odd" : [255, 255, 255],
    "progressive-progressbar-background" : "gray",
    "progressive-progressbar-indicator-done" : "#CCCCCC",
    "progressive-progressbar-indicator-undone" : "white",
    "progressive-progressbar-percent-background" : "gray",
    "progressive-progressbar-percent-text" : "white"
  }
});

qx.Theme.define("qx.theme.Simple", {
  title : "Simple",
  meta : {
    color : qx.theme.simple.Color,
    decoration : qx.theme.simple.Decoration,
    font : qx.theme.simple.Font,
    appearance : qx.theme.simple.Appearance,
    icon : qx.theme.icon.Tango
  }
});

qx.Bootstrap.define("qx.module.Io", {
  statics : {
    xhr : function(url, settings){

      if(!settings){

        settings = {
        };
      };
      var xhr = new qx.bom.request.Xhr();
      xhr.open(settings.method, url, settings.async);
      if(settings.header){

        var header = settings.header;
        for(var key in header){

          xhr.setRequestHeader(key, header[key]);
        };
      };
      return xhr;
    },
    script : function(url){

      var script = new qx.bom.request.Script();
      script.open("get", url);
      return script;
    },
    jsonp : function(url, settings){

      var script = new qx.bom.request.Jsonp();
      if(settings && settings.callbackName){

        script.setCallbackName(settings.callbackName);
      };
      if(settings && settings.callbackParam){

        script.setCallbackParam(settings.callbackParam);
      };
      script.setPrefix("qxWeb.$$");
      script.open("get", url);
      return script;
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      io : {
        xhr : statics.xhr,
        script : statics.script,
        jsonp : statics.jsonp
      }
    });
  }
});

qx.Class.define("qx.ui.form.VirtualComboBox", {
  extend : qx.ui.form.core.AbstractVirtualBox,
  implement : [qx.ui.form.IStringForm],
  construct : function(model){

    this.base(arguments, model);
    var textField = this._createChildControl("textfield");
    this._createChildControl("button");
    var dropdown = this.getChildControl("dropdown");
    dropdown.getChildControl("list").setSelectionMode("single");
    this.__selection = dropdown.getSelection();
    this.__selection.addListener("change", this.__onSelectionChange, this);
    this.bind("value", textField, "value");
    textField.bind("value", this, "value");
    this.addListener("focusin", function(e){

      textField.fireNonBubblingEvent("focusin", qx.event.type.Focus);
    }, this);
    this.addListener("focusout", function(e){

      textField.fireNonBubblingEvent("focusout", qx.event.type.Focus);
    }, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "virtual-combobox"
    },
    width : {
      refine : true,
      init : 120
    },
    value : {
      nullable : true,
      event : "changeValue"
    },
    placeholder : {
      check : "String",
      nullable : true,
      apply : "_applyPlaceholder"
    },
    defaultFormat : {
      check : "Function",
      init : null,
      nullable : true
    }
  },
  members : {
    __localBindId : null,
    __textFieldBindId : null,
    __selection : null,
    __ignoreChangeSelection : null,
    getTextSelection : function(){

      return this.getChildControl("textfield").getTextSelection();
    },
    getTextSelectionLength : function(){

      return this.getChildControl("textfield").getTextSelectionLength();
    },
    setTextSelection : function(start, end){

      this.getChildControl("textfield").setTextSelection(start, end);
    },
    clearTextSelection : function(){

      this.getChildControl("textfield").clearTextSelection();
    },
    selectAllText : function(){

      this.getChildControl("textfield").selectAllText();
    },
    resetAllTextSelection : function(){

      this.clearTextSelection();
      this.selectAllText();
    },
    tabFocus : function(){

      var field = this.getChildControl("textfield");
      field.getFocusElement().focus();
      field.selectAllText();
    },
    focus : function(){

      this.base(arguments);
      this.getChildControl("textfield").getFocusElement().focus();
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "textfield":
      control = new qx.ui.form.TextField();
      control.setFocusable(false);
      control.addState("inner");
      this._add(control, {
        flex : 1
      });
      break;case "button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.setKeepActive(true);
      control.addState("inner");
      control.addListener("execute", this.toggle, this);
      this._add(control);
      break;};
      return control || this.base(arguments, id, hash);
    },
    _beforeOpen : function(){

      this.__selectFirstMatch();
    },
    _handleKeyboard : function(event){

      var action = this._getAction(event);
      switch(action){case "select":
      this.setValue(this.getChildControl("textfield").getValue());
      break;default:
      this.base(arguments, event);
      break;};
    },
    _getAction : function(event){

      var keyIdentifier = event.getKeyIdentifier();
      var isOpen = this.getChildControl("dropdown").isVisible();
      var isModifierPressed = this._isModifierPressed(event);
      if(!isOpen && !isModifierPressed && keyIdentifier === "Enter"){

        return "select";
      } else {

        return this.base(arguments, event);
      };
    },
    _handlePointer : function(event){

      this.base(arguments, event);
      var type = event.getType();
      if(type !== "tap"){

        return;
      };
      this.close();
    },
    __onSelectionChange : function(event){

      if(this.__ignoreChangeSelection == true){

        return;
      };
      var selected = this.__selection.getItem(0);
      if(selected){

        selected = this.__convertValue(selected);
        this.setValue(selected);
      };
    },
    _applyPlaceholder : function(value, old){

      this.getChildControl("textfield").setPlaceholder(value);
    },
    __selectFirstMatch : function(){

      var value = this.getValue();
      var dropdown = this.getChildControl("dropdown");
      var selection = dropdown.getSelection();
      if(this.__convertValue(selection.getItem(0)) !== value){

        this.__ignoreChangeSelection = true;
        selection.removeAll();
        this.__ignoreChangeSelection = false;
        if(value == null || value == ""){

          return;
        };
        var model = this.getModel();
        var lookupTable = dropdown.getChildControl("list")._getLookupTable();
        for(var i = 0,l = lookupTable.length;i < l;i++){

          var modelItem = model.getItem(lookupTable[i]);
          var itemLabel = this.__convertValue(modelItem);
          if(itemLabel && itemLabel.indexOf(value) == 0){

            dropdown.setPreselected(modelItem);
            break;
          };
        };
      };
    },
    __convertValue : function(modelItem){

      var labelOptions = this.getLabelOptions();
      var formatter = this.getDefaultFormat();
      var labelPath = this.getLabelPath();
      var result = null;
      if(labelPath != null){

        result = qx.data.SingleValueBinding.resolvePropertyChain(modelItem, labelPath);
      } else if(qx.lang.Type.isString(modelItem)){

        result = modelItem;
      };
      var converter = qx.util.Delegate.getMethod(labelOptions, "converter");
      if(converter != null){

        result = converter(result);
      };
      if(result != null && formatter != null){

        result = formatter(qx.lang.String.stripTags(result));
      };
      return result;
    }
  },
  destruct : function(){

    var textField = this.getChildControl("textfield");
    this.removeAllBindings();
    textField.removeAllBindings();
    this.__selection.removeListener("change", this.__onSelectionChange, this);
    this.__selection = null;
  }
});

qx.Class.define("qx.ui.form.DateField", {
  extend : qx.ui.core.Widget,
  include : [qx.ui.core.MRemoteChildrenHandling, qx.ui.form.MForm],
  implement : [qx.ui.form.IForm, qx.ui.form.IDateForm],
  construct : function(){

    this.base(arguments);
    var layout = new qx.ui.layout.HBox();
    this._setLayout(layout);
    layout.setAlignY("middle");
    var textField = this._createChildControl("textfield");
    this._createChildControl("button");
    this.addListener("tap", this._onTap, this);
    this.addListener("blur", this._onBlur, this);
    this.addListener("focusin", function(e){

      textField.fireNonBubblingEvent("focusin", qx.event.type.Focus);
      textField.setTextSelection(0, 0);
    }, this);
    this.addListener("focusout", function(e){

      textField.fireNonBubblingEvent("focusout", qx.event.type.Focus);
    }, this);
    this._setDefaultDateFormat();
    this._addLocaleChangeListener();
  },
  events : {
    "changeValue" : "qx.event.type.Data"
  },
  properties : {
    dateFormat : {
      check : "qx.util.format.DateFormat",
      apply : "_applyDateFormat"
    },
    placeholder : {
      check : "String",
      nullable : true,
      apply : "_applyPlaceholder"
    },
    appearance : {
      refine : true,
      init : "datefield"
    },
    focusable : {
      refine : true,
      init : true
    },
    width : {
      refine : true,
      init : 120
    }
  },
  statics : {
    __dateFormat : null,
    __formatter : null,
    getDefaultDateFormatter : function(){

      var format = qx.locale.Date.getDateFormat("medium").toString();
      if(format == this.__dateFormat){

        return this.__formatter;
      };
      if(this.__formatter){

        this.__formatter.dispose();
      };
      this.__formatter = new qx.util.format.DateFormat(format, qx.locale.Manager.getInstance().getLocale());
      this.__dateFormat = format;
      return this.__formatter;
    }
  },
  members : {
    __localeListenerId : null,
    _forwardStates : {
      focused : true,
      invalid : true
    },
    _setDefaultDateFormat : function(){

      this.setDateFormat(qx.ui.form.DateField.getDefaultDateFormatter());
    },
    _addLocaleChangeListener : function(){

      if(qx.core.Environment.get("qx.dynlocale")){

        this.__localeListenerId = qx.locale.Manager.getInstance().addListener("changeLocale", function(){

          this._setDefaultDateFormat();
        }, this);
      };
    },
    setValue : function(value){

      var textField = this.getChildControl("textfield");
      textField.setValue(this.getDateFormat().format(value));
      var dateChooser = this.getChildControl("list");
      dateChooser.setValue(value);
    },
    getValue : function(){

      var textfieldValue = this.getChildControl("textfield").getValue();
      try{

        return this.getDateFormat().parse(textfieldValue);
      } catch(ex) {

        return null;
      };
    },
    resetValue : function(){

      var textField = this.getChildControl("textfield");
      textField.setValue("");
      var dateChooser = this.getChildControl("list");
      dateChooser.setValue(null);
    },
    open : function(){

      var popup = this.getChildControl("popup");
      popup.placeToWidget(this, true);
      popup.show();
    },
    close : function(){

      this.getChildControl("popup").hide();
    },
    toggle : function(){

      var isListOpen = this.getChildControl("popup").isVisible();
      if(isListOpen){

        this.close();
      } else {

        this.open();
      };
    },
    _applyDateFormat : function(value, old){

      if(!old){

        return;
      };
      try{

        var textfield = this.getChildControl("textfield");
        var dateStr = textfield.getValue();
        var currentDate = old.parse(dateStr);
        textfield.setValue(value.format(currentDate));
      } catch(ex) {
      };
    },
    _applyPlaceholder : function(value, old){

      this.getChildControl("textfield").setPlaceholder(value);
    },
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "textfield":
      control = new qx.ui.form.TextField();
      control.setFocusable(false);
      control.addState("inner");
      control.addListener("changeValue", this._onTextFieldChangeValue, this);
      control.addListener("blur", this.close, this);
      this._add(control, {
        flex : 1
      });
      break;case "button":
      control = new qx.ui.form.Button();
      control.setFocusable(false);
      control.setKeepActive(true);
      control.addState("inner");
      control.addListener("execute", this.toggle, this);
      this._add(control);
      break;case "list":
      control = new qx.ui.control.DateChooser();
      control.setFocusable(false);
      control.setKeepFocus(true);
      control.addListener("execute", this._onChangeDate, this);
      break;case "popup":
      control = new qx.ui.popup.Popup(new qx.ui.layout.VBox);
      control.setAutoHide(false);
      control.add(this.getChildControl("list"));
      control.addListener("pointerup", this._onChangeDate, this);
      control.addListener("changeVisibility", this._onPopupChangeVisibility, this);
      break;};
      return control || this.base(arguments, id);
    },
    _onChangeDate : function(e){

      var textField = this.getChildControl("textfield");
      var selectedDate = this.getChildControl("list").getValue();
      textField.setValue(this.getDateFormat().format(selectedDate));
      this.close();
    },
    _onTap : function(e){

      this.close();
    },
    _onBlur : function(e){

      this.close();
    },
    _onKeyPress : function(e){

      var iden = e.getKeyIdentifier();
      if(iden == "Down" && e.isAltPressed()){

        this.toggle();
        e.stopPropagation();
        return;
      };
      var popup = this.getChildControl("popup");
      if(popup.getVisibility() == "hidden"){

        return;
      };
      if(iden == "Escape"){

        this.close();
        e.stopPropagation();
        return;
      };
      if(iden === "Left" || iden === "Right" || iden === "Down" || iden === "Up"){

        e.preventDefault();
      };
      this.getChildControl("list").handleKeyPress(e);
    },
    _onPopupChangeVisibility : function(e){

      e.getData() == "visible" ? this.addState("popupOpen") : this.removeState("popupOpen");
      var popup = this.getChildControl("popup");
      if(popup.isVisible()){

        var chooser = this.getChildControl("list");
        var date = this.getValue();
        chooser.setValue(date);
      };
    },
    _onTextFieldChangeValue : function(e){

      var date = this.getValue();
      if(date != null){

        var list = this.getChildControl("list");
        list.setValue(date);
      };
      this.fireDataEvent("changeValue", this.getValue());
    },
    isEmpty : function(){

      var value = this.getChildControl("textfield").getValue();
      return value == null || value == "";
    }
  },
  destruct : function(){

    if(qx.core.Environment.get("qx.dynlocale")){

      if(this.__localeListenerId){

        qx.locale.Manager.getInstance().removeListenerById(this.__localeListenerId);
      };
    };
  }
});

qx.Class.define("qx.ui.table.celleditor.CheckBox", {
  extend : qx.core.Object,
  implement : qx.ui.table.ICellEditorFactory,
  members : {
    createCellEditor : function(cellInfo){

      var editor = new qx.ui.container.Composite(new qx.ui.layout.HBox().set({
        alignX : "center",
        alignY : "middle"
      })).set({
        focusable : true
      });
      var checkbox = new qx.ui.form.CheckBox().set({
        value : cellInfo.value
      });
      editor.add(checkbox);
      editor.addListener("focus", function(){

        checkbox.focus();
      });
      editor.addListener("activate", function(){

        checkbox.activate();
      });
      checkbox.addListener("keydown", function(e){

        if(e.getKeyIdentifier() == "Enter"){

          var clone = qx.event.Pool.getInstance().getObject(qx.event.type.KeySequence);
          var target = editor.getContentElement().getDomElement();
          clone.init(e.getNativeEvent(), target, e.getKeyIdentifier());
          clone.setType("keypress");
          qx.event.Registration.dispatchEvent(target, clone);
        };
      }, this);
      return editor;
    },
    getCellEditorValue : function(cellEditor){

      return cellEditor.getChildren()[0].getValue();
    }
  }
});

qx.Class.define("qx.ui.virtual.layer.Column", {
  extend : qx.ui.virtual.layer.AbstractBackground,
  properties : {
    appearance : {
      refine : true,
      init : "column-layer"
    }
  },
  members : {
    _fullUpdate : function(firstRow, firstColumn, rowSizes, columnSizes){

      var html = [];
      var height = qx.lang.Array.sum(rowSizes);
      var left = 0;
      var column = firstColumn;
      var childIndex = 0;
      for(var x = 0;x < columnSizes.length;x++){

        var color = this.getColor(column);
        var backgroundColor = color ? "background-color:" + color + ";" : "";
        var decorator = this.getBackground(column);
        var styles = decorator ? qx.bom.element.Style.compile(decorator.getStyles()) : "";
        html.push("<div style='", "position: absolute;", "top: 0;", "left:", left, "px;", "width:", columnSizes[x], "px;", "height:", height, "px;", backgroundColor, styles, "'>", "</div>");
        childIndex++;
        left += columnSizes[x];
        column += 1;
      };
      var el = this.getContentElement().getDomElement();
      el.style.display = "none";
      el.innerHTML = html.join("");
      el.style.display = "block";
      this._height = height;
    },
    updateLayerWindow : function(firstRow, firstColumn, rowSizes, columnSizes){

      if(firstColumn !== this.getFirstColumn() || columnSizes.length !== this.getColumnSizes().length || this._height < qx.lang.Array.sum(rowSizes)){

        this._fullUpdate(firstRow, firstColumn, rowSizes, columnSizes);
      };
    },
    setColor : function(index, color){

      this.base(arguments, index, color);
      var firstColumn = this.getFirstColumn();
      var lastColumn = firstColumn + this.getColumnSizes().length - 1;
      if(index >= firstColumn && index <= lastColumn){

        this.updateLayerData();
      };
    }
  }
});

qx.Mixin.define("qx.ui.treevirtual.MNode", {
  members : {
    nodeGet : function(nodeReference){

      if(typeof (nodeReference) == "object"){

        return nodeReference;
      } else if(typeof (nodeReference) == "number"){

        return this.getTableModel().getData()[nodeReference];
      } else {

        throw new Error("Expected node object or node id");
      };
    },
    nodeToggleOpened : function(nodeReference){

      var node;
      var nodeId;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
        nodeId = node.nodeId;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
        node = this.getTableModel().getData()[nodeId];
      } else {

        throw new Error("Expected node object or node id");
      };
      this.getTableModel().setState(nodeId, {
        bOpened : !node.bOpened
      });
    },
    nodeSetState : function(nodeReference, attributes){

      var nodeId;
      if(typeof (nodeReference) == "object"){

        nodeId = nodeReference.nodeId;
      } else if(typeof (nodeReference) == "number"){

        nodeId = nodeReference;
      } else {

        throw new Error("Expected node object or node id");
      };
      this.getTableModel().setState(nodeId, attributes);
    },
    nodeSetLabel : function(nodeReference, label){

      this.nodeSetState(nodeReference, {
        label : label
      });
    },
    nodeGetLabel : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.label;
    },
    nodeSetSelected : function(nodeReference, b){

      this.nodeSetState(nodeReference, {
        bSelected : b
      });
    },
    nodeGetSelected : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.bSelected;
    },
    nodeSetOpened : function(nodeReference, b){

      var node;
      if(typeof (nodeReference) == "object"){

        node = nodeReference;
      } else if(typeof (nodeReference) == "number"){

        node = this.getTableModel().getData()[nodeReference];
      } else {

        throw new Error("Expected node object or node id");
      };
      if(b != node.bOpened){

        this.nodeToggleOpened(node);
      };
    },
    nodeGetOpened : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.bOpened;
    },
    nodeSetHideOpenClose : function(nodeReference, b){

      this.nodeSetState(nodeReference, {
        bHideOpenClose : b
      });
    },
    nodeGetHideOpenClose : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.bHideOpenClose;
    },
    nodeSetIcon : function(nodeReference, path){

      this.nodeSetState(nodeReference, {
        icon : path
      });
    },
    nodeGetIcon : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.icon;
    },
    nodeSetSelectedIcon : function(nodeReference, path){

      this.nodeSetState(nodeReference, {
        iconSelected : path
      });
    },
    nodeGetSelectedIcon : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.iconSelected;
    },
    nodeSetCellStyle : function(nodeReference, style){

      this.nodeSetState(nodeReference, {
        cellStyle : style
      });
    },
    nodeGetCellStyle : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.cellStyle;
    },
    nodeSetLabelStyle : function(nodeReference, style){

      this.nodeSetState(nodeReference, {
        labelStyle : style
      });
    },
    nodeGetLabelStyle : function(nodeReference){

      var node = this.nodeGet(nodeReference);
      return node.cellStyle;
    }
  }
});

qx.Class.define("qx.ui.mobile.container.Carousel", {
  extend : qx.ui.mobile.container.Composite,
  include : qx.ui.mobile.core.MResize,
  construct : function(transitionDuration){

    this.base(arguments);
    if(transitionDuration){

      this.setTransitionDuration(transitionDuration);
    };
    this.__snapPointsX = [];
    this.__onMoveOffset = [0, 0];
    this.__lastOffset = [0, 0];
    this.__boundsX = [0, 0];
    this.__pages = [];
    this.__paginationLabels = [];
    var carouselScroller = this.__carouselScroller = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox());
    carouselScroller.setTransformUnit("px");
    carouselScroller.addCssClass("carousel-scroller");
    carouselScroller.addListener("pointerdown", this._onPointerDown, this);
    carouselScroller.addListener("pointerup", this._onPointerUp, this);
    carouselScroller.addListener("track", this._onTrack, this);
    carouselScroller.addListener("swipe", this._onSwipe, this);
    this.addListener("touchmove", qx.bom.Event.preventDefault, this);
    this.addListener("appear", this._onContainerUpdate, this);
    qx.event.Registration.addListener(this.__carouselScroller.getContainerElement(), "transitionEnd", this._onScrollerTransitionEnd, this);
    qx.event.Registration.addListener(window, "orientationchange", this._onContainerUpdate, this);
    qx.event.Registration.addListener(window, "resize", this._onContainerUpdate, this);
    qx.event.Registration.addListener(this.getContentElement(), "scroll", this._onNativeScroll, this);
    var pagination = this.__pagination = new qx.ui.mobile.container.Composite();
    pagination.setLayout(new qx.ui.mobile.layout.HBox());
    pagination.setTransformUnit("px");
    pagination.addCssClass("carousel-pagination");
    this.setLayout(new qx.ui.mobile.layout.VBox());
    this._add(carouselScroller, {
      flex : 1
    });
    this._add(pagination, {
      flex : 1
    });
  },
  properties : {
    defaultCssClass : {
      refine : true,
      init : "carousel"
    },
    showPagination : {
      check : "Boolean",
      init : true,
      apply : "_applyShowPagination"
    },
    scrollLoop : {
      check : "Boolean",
      init : true
    },
    height : {
      check : "Number",
      init : 200,
      nullable : true,
      apply : "_updateCarouselLayout"
    },
    currentIndex : {
      check : "Number",
      init : 0,
      apply : "_applyCurrentIndex",
      event : "changeCurrentIndex"
    },
    transitionDuration : {
      check : "Number",
      init : 0.4
    }
  },
  members : {
    __carouselScroller : null,
    __carouselScrollerWidth : null,
    __carouselWidth : null,
    __paginationLabels : null,
    __pagination : null,
    __snapPointsX : null,
    __onMoveOffset : null,
    __lastOffset : null,
    __boundsX : null,
    __pages : null,
    __showTransition : null,
    __isPageScrollTarget : null,
    __deltaX : null,
    __deltaY : null,
    add : function(page){

      if(qx.core.Environment.get("qx.debug")){

        if(!page instanceof qx.ui.mobile.container.Composite){

          throw new Error("Page is expected to be an instance of qx.ui.mobile.container.Composite.");
        };
      };
      page.addCssClass("carousel-page");
      this.__pages.push(page);
      this.__carouselScroller.add(page, {
        flex : 1
      });
      var paginationLabel = this._createPaginationLabel();
      this.__paginationLabels.push(paginationLabel);
      this.__pagination.add(paginationLabel);
      this._setTransitionDuration(0);
      this._updateCarouselLayout();
    },
    removePageByIndex : function(pageIndex){

      if(this.__pages && this.__pages.length > pageIndex){

        if(pageIndex == this.getCurrentIndex() && this.getCurrentIndex() !== 0){

          this.setCurrentIndex(this.getCurrentIndex() - 1);
        };
        var targetPage = this.__pages[pageIndex];
        var paginationLabel = this.__paginationLabels[pageIndex];
        this.__carouselScroller.remove(targetPage);
        this.__pagination.remove(paginationLabel);
        paginationLabel.removeListener("tap", this._onPaginationLabelTap, {
          self : this,
          targetIndex : pageIndex - 1
        });
        qx.util.DisposeUtil.destroyContainer(paginationLabel);
        this.__pages.splice(pageIndex, 1);
        this.__paginationLabels.splice(pageIndex, 1);
        return targetPage;
      };
    },
    removeAll : function(){

      var removedPages = [];
      if(this.__pages){

        for(var i = this.__pages.length - 1;i >= 0;i--){

          removedPages.push(this.removePageByIndex(i));
        };
      };
      return removedPages;
    },
    nextPage : function(){

      if(this.getCurrentIndex() == this.__pages.length - 1){

        if(this.isScrollLoop()){

          this._doScrollLoop();
        };
      } else {

        this.setCurrentIndex(this.getCurrentIndex() + 1);
      };
    },
    previousPage : function(){

      if(this.getCurrentIndex() === 0){

        if(this.isScrollLoop()){

          this._doScrollLoop();
        };
      } else {

        this.setCurrentIndex(this.getCurrentIndex() - 1);
      };
    },
    _scrollToPage : function(pageIndex, showTransition){

      if(pageIndex >= this.__pages.length || pageIndex < 0){

        return;
      };
      var snapPoint = -pageIndex * this.__carouselWidth;
      this._updateScrollerPosition(snapPoint);
      this.__lastOffset[0] = snapPoint;
    },
    _doScrollLoop : function(){

      this._setTransitionDuration(this.getTransitionDuration());
      setTimeout(function(){

        this._setScrollersOpacity(0);
      }.bind(this), 0);
    },
    _onScrollerTransitionEnd : function(){

      var opacity = qx.bom.element.Style.get(this.__carouselScroller.getContainerElement(), "opacity");
      if(opacity === 0){

        var pageIndex = null;
        if(this.getCurrentIndex() == this.__pages.length - 1){

          pageIndex = 0;
        };
        if(this.getCurrentIndex() === 0){

          pageIndex = this.__pages.length - 1;
        };
        this._setTransitionDuration(0);
        this.setCurrentIndex(pageIndex);
        setTimeout(function(){

          this._setTransitionDuration(this.getTransitionDuration());
          this._setScrollersOpacity(1);
        }.bind(this), 0);
      };
    },
    _createPaginationLabel : function(){

      var paginationIndex = this.__pages.length;
      var paginationLabel = new qx.ui.mobile.container.Composite();
      var paginationLabelText = new qx.ui.mobile.basic.Label("" + paginationIndex);
      paginationLabel.add(paginationLabelText);
      paginationLabel.addCssClass("carousel-pagination-label");
      paginationLabel.addListener("tap", this._onPaginationLabelTap, {
        self : this,
        targetIndex : paginationIndex - 1
      });
      return paginationLabel;
    },
    _setScrollersOpacity : function(opacity){

      if(this.__carouselScroller){

        qx.bom.element.Style.set(this.__carouselScroller.getContainerElement(), "opacity", opacity);
      };
    },
    _applyShowPagination : function(value, old){

      if(value){

        this.__pagination.show();
      } else {

        this.__pagination.hide();
      };
    },
    _applyCurrentIndex : function(value, old){

      this._updatePagination(old, value);
      this._scrollToPage(value);
    },
    _onPaginationLabelTap : function(){

      this.self.setCurrentIndex(this.targetIndex);
    },
    _updateCarouselLayout : function(){

      if(!this.getContainerElement()){

        return;
      };
      var carouselSize = qx.bom.element.Dimension.getSize(this.getContainerElement());
      this.__carouselWidth = carouselSize.width;
      if(this.getHeight() !== null){

        this._setStyle("height", this.getHeight() / 16 + "rem");
      } else {

        this._setStyle("height", "100%");
      };
      qx.bom.element.Style.set(this.__carouselScroller.getContentElement(), "width", this.__pages.length * carouselSize.width + "px");
      for(var i = 0;i < this.__pages.length;i++){

        var pageContentElement = this.__pages[i].getContentElement();
        qx.bom.element.Style.set(pageContentElement, "width", carouselSize.width + "px");
        qx.bom.element.Style.set(pageContentElement, "height", carouselSize.height + "px");
      };
      this._updatePagination(this.getCurrentIndex(), this.getCurrentIndex());
    },
    _refreshScrollerPosition : function(){

      this.__carouselScrollerWidth = qx.bom.element.Dimension.getWidth(this.__carouselScroller.getContentElement());
      this._scrollToPage(this.getCurrentIndex());
    },
    _onContainerUpdate : function(){

      this._setTransitionDuration(0);
      this._updateCarouselLayout();
      this._refreshScrollerPosition();
    },
    _getScrollerOffset : function(){

      var transformMatrix = qx.bom.element.Style.get(this.__carouselScroller.getContentElement(), "transform");
      var transformValueArray = transformMatrix.substr(7, transformMatrix.length - 8).split(', ');
      var i = 4;
      if('MSCSSMatrix' in window){

        i = transformValueArray.length - 4;
      };
      return Math.floor(parseInt(transformValueArray[i], 10));
    },
    _onPointerDown : function(evt){

      if(!evt.isPrimary()){

        return;
      };
      this.__lastOffset[0] = this._getScrollerOffset();
      this.__isPageScrollTarget = null;
      this.__boundsX[0] = -this.__carouselScrollerWidth + this.__carouselWidth;
      this._updateScrollerPosition(this.__lastOffset[0]);
    },
    _onTrack : function(evt){

      if(!evt.isPrimary()){

        return;
      };
      this._setTransitionDuration(0);
      this.__deltaX = evt.getDelta().x;
      this.__deltaY = evt.getDelta().y;
      if(this.__isPageScrollTarget === null){

        this.__isPageScrollTarget = (evt.getDelta().axis == "y");
      };
      if(!this.__isPageScrollTarget){

        this.__onMoveOffset[0] = Math.floor(this.__deltaX + this.__lastOffset[0]);
        if(this.__onMoveOffset[0] >= this.__boundsX[1]){

          this.__onMoveOffset[0] = this.__boundsX[1];
        };
        if(this.__onMoveOffset[0] <= this.__boundsX[0]){

          this.__onMoveOffset[0] = this.__boundsX[0];
        };
        this._updateScrollerPosition(this.__onMoveOffset[0]);
        evt.preventDefault();
      };
    },
    _onPointerUp : function(evt){

      if(!evt.isPrimary()){

        return;
      };
      this._setTransitionDuration(this.getTransitionDuration());
      this._refreshScrollerPosition();
    },
    _onSwipe : function(evt){

      if(!evt.isPrimary()){

        return;
      };
      if(evt.getDuration() < 750 && Math.abs(evt.getDistance()) > 50){

        var duration = this._calculateTransitionDuration(this.__deltaX, evt.getDuration());
        this._setTransitionDuration(duration);
        if(evt.getDirection() == "left"){

          this.nextPage();
        } else if(evt.getDirection() == "right"){

          this.previousPage();
        };
      } else {

        this._snapCarouselPage();
      };
    },
    _calculateTransitionDuration : function(deltaX, duration){

      var distanceX = this.__carouselWidth - Math.abs(deltaX);
      var transitionDuration = (distanceX / Math.abs(deltaX)) * duration;
      return (transitionDuration / 1000);
    },
    _onNativeScroll : function(evt){

      var nativeEvent = evt.getNativeEvent();
      nativeEvent.srcElement.scrollLeft = 0;
      nativeEvent.srcElement.scrollTop = 0;
    },
    _setShowTransition : function(showTransition){

      if(showTransition === true){

        this._setTransitionDuration(this.getTransitionDuration());
      } else {

        this._setTransitionDuration(0);
      };
    },
    _setTransitionDuration : function(value){

      qx.bom.element.Style.set(this.__carouselScroller.getContentElement(), "transitionDuration", value + "s");
    },
    setSwipeVelocityLimit : function(limit){
    },
    _snapCarouselPage : function(){

      this._setTransitionDuration(this.getTransitionDuration());
      var leastDistance = 10000;
      var nearestPageIndex = 0;
      for(var i = 0;i < this.__pages.length;i++){

        var snapPoint = -i * this.__carouselWidth;
        var distance = this.__onMoveOffset[0] - snapPoint;
        if(Math.abs(distance) < leastDistance){

          leastDistance = Math.abs(distance);
          nearestPageIndex = i;
        };
      };
      this.setCurrentIndex(nearestPageIndex);
    },
    _updatePagination : function(oldActiveIndex, newActiveIndex){

      var oldActiveLabel = this.__paginationLabels[oldActiveIndex];
      var newActiveLabel = this.__paginationLabels[newActiveIndex];
      if(oldActiveLabel && oldActiveLabel.getContainerElement()){

        oldActiveLabel.removeCssClass("active");
      };
      if(newActiveLabel && newActiveLabel.getContainerElement()){

        newActiveLabel.addCssClass("active");
      };
      if(this.__paginationLabels.length){

        var paginationStyle = getComputedStyle(this.__pagination.getContentElement());
        var paginationWidth = parseFloat(paginationStyle.width, 10);
        if(isNaN(paginationWidth)){

          return;
        };
        var paginationLabelWidth = paginationWidth / this.__paginationLabels.length;
        var left = null;
        var translate = (this.__carouselWidth / 2) - newActiveIndex * paginationLabelWidth - paginationLabelWidth / 2;
        if(paginationWidth < this.__carouselWidth){

          left = this.__carouselWidth / 2 - paginationWidth / 2 + "px";
          translate = 0;
        };
        qx.bom.element.Style.set(this.__pagination.getContentElement(), "left", left);
        this.__pagination.setTranslateX(translate);
      };
    },
    _updateScrollerPosition : function(x){

      if(isNaN(x) || this.__carouselScroller.getContentElement() === null){

        return;
      };
      this.__carouselScroller.setTranslateX(x);
    },
    _removeListeners : function(){

      this.__carouselScroller.removeListener("pointerdown", this._onPointerDown, this);
      this.__carouselScroller.removeListener("track", this._onTrack, this);
      this.__carouselScroller.removeListener("pointerup", this._onPointerUp, this);
      this.__carouselScroller.removeListener("swipe", this._onSwipe, this);
      this.__carouselScroller.removeListener("touchmove", qx.bom.Event.preventDefault, this);
      this.removeListener("appear", this._onContainerUpdate, this);
      qx.event.Registration.removeListener(window, "orientationchange", this._onContainerUpdate, this);
      qx.event.Registration.removeListener(window, "resize", this._onContainerUpdate, this);
      qx.event.Registration.removeListener(this.getContentElement(), "scroll", this._onNativeScroll, this);
    }
  },
  destruct : function(){

    this._removeListeners();
    this._disposeObjects("__carouselScroller", " __pagination");
    qx.util.DisposeUtil.destroyContainer(this);
    qx.util.DisposeUtil.disposeArray(this, "__paginationLabels");
    this.__pages = this.__paginationLabels = this.__snapPointsX = this.__onMoveOffset = this.__lastOffset = this.__boundsX = this.__isPageScrollTarget = null;
  }
});

qx.Class.define("qx.ui.control.ColorPopup", {
  extend : qx.ui.popup.Popup,
  implement : [qx.ui.form.IColorForm],
  construct : function(){

    this.base(arguments);
    this.setLayout(new qx.ui.layout.VBox(5));
    this._createChildControl("auto-button");
    this._createBoxes();
    this._createChildControl("preview-pane");
    this._createChildControl("selector-button");
    this.addListener("changeVisibility", this._onChangeVisibility, this);
  },
  properties : {
    appearance : {
      refine : true,
      init : "colorpopup"
    },
    value : {
      nullable : true,
      apply : "_applyValue",
      event : "changeValue"
    },
    red : {
      check : "Number",
      init : null,
      nullable : true,
      event : "changeRed"
    },
    green : {
      check : "Number",
      init : null,
      nullable : true,
      event : "changeGreen"
    },
    blue : {
      check : "Number",
      init : null,
      nullable : true,
      event : "changeBlue"
    }
  },
  members : {
    __minZIndex : 1e5,
    __boxes : null,
    __colorSelectorWindow : null,
    __colorSelector : null,
    __buttonBar : null,
    __recentTableId : "recent",
    __fieldNumber : 12,
    _createChildControlImpl : function(id, hash){

      var control;
      switch(id){case "field":
      control = new qx.ui.core.Widget;
      control.addListener("pointerdown", this._onFieldPointerDown, this);
      control.addListener("pointerover", this._onFieldPointerOver, this);
      control.addListener("pointerout", this._onFieldPointerOut, this);
      break;case "auto-button":
      control = new qx.ui.form.Button(this.tr("Automatic"));
      control.setAllowStretchX(true);
      control.addListener("execute", this._onAutomaticBtnExecute, this);
      this.add(control);
      break;case "selector-button":
      control = new qx.ui.form.Button(this.tr("Open ColorSelector"));
      control.addListener("execute", this._onSelectorButtonExecute, this);
      this.add(control);
      break;case "preview-pane":
      control = new qx.ui.groupbox.GroupBox(this.tr("Preview (Old/New)"));
      control.setLayout(new qx.ui.layout.HBox);
      control.add(this._createChildControl("selected-preview", true), {
        flex : 1
      });
      control.add(this._createChildControl("current-preview", true), {
        flex : 1
      });
      this.add(control);
      break;case "selected-preview":
      control = new qx.ui.container.Composite(new qx.ui.layout.Basic);
      break;case "current-preview":
      control = new qx.ui.container.Composite(new qx.ui.layout.Basic);
      break;case "colorselector-okbutton":
      control = new qx.ui.form.Button(this.tr("OK"));
      control.addListener("execute", this._onColorSelectorOk, this);
      break;case "colorselector-cancelbutton":
      control = new qx.ui.form.Button(this.tr("Cancel"));
      control.addListener("execute", this._onColorSelectorCancel, this);
      break;};
      return control || this.base(arguments, id);
    },
    _createBoxes : function(){

      this.__boxes = {
      };
      var tables = this._tables;
      var table,box,field;
      var j = 0;
      for(var tableId in tables){

        table = tables[tableId];
        box = new qx.ui.groupbox.GroupBox(table.label);
        box.setLayout(new qx.ui.layout.HBox);
        this.__boxes[tableId] = box;
        this.add(box);
        for(var i = 0;i < this.__fieldNumber;i++){

          field = this.getChildControl("field#" + (j++));
          field.setBackgroundColor(table.values[i] || null);
          box.add(field);
        };
      };
    },
    _createColorSelector : function(){

      if(this.__colorSelector){

        return;
      };
      var win = new qx.ui.window.Window(this.tr("Color Selector"));
      this.__colorSelectorWindow = win;
      win.setLayout(new qx.ui.layout.VBox(16));
      win.setResizable(false);
      win.moveTo(20, 20);
      this.__colorSelector = new qx.ui.control.ColorSelector();
      win.add(this.__colorSelector);
      this.__buttonBar = new qx.ui.container.Composite(new qx.ui.layout.HBox(8, "right"));
      win.add(this.__buttonBar);
      var btnCancel = this._createChildControl("colorselector-cancelbutton");
      var btnOk = this._createChildControl("colorselector-okbutton");
      this.__buttonBar.add(btnCancel);
      this.__buttonBar.add(btnOk);
    },
    _applyValue : function(value, old){

      if(value === null){

        this.setRed(null);
        this.setGreen(null);
        this.setBlue(null);
      } else {

        var rgb = qx.util.ColorUtil.stringToRgb(value);
        this.setRed(rgb[0]);
        this.setGreen(rgb[1]);
        this.setBlue(rgb[2]);
      };
      this.getChildControl("selected-preview").setBackgroundColor(value);
      this._rotatePreviousColors();
    },
    _rotatePreviousColors : function(){

      if(!this._tables){

        return;
      };
      var vRecentTable = this._tables[this.__recentTableId].values;
      var vRecentBox = this.__boxes[this.__recentTableId];
      if(!vRecentTable){

        return;
      };
      var newValue = this.getValue();
      if(!newValue){

        return;
      };
      var vIndex = vRecentTable.indexOf(newValue);
      if(vIndex != -1){

        qx.lang.Array.removeAt(vRecentTable, vIndex);
      } else if(vRecentTable.length == this.__fieldNumber){

        vRecentTable.shift();
      };
      vRecentTable.push(newValue);
      var vFields = vRecentBox.getChildren();
      for(var i = 0;i < vFields.length;i++){

        vFields[i].setBackgroundColor(vRecentTable[i] || null);
      };
    },
    _onFieldPointerDown : function(e){

      var vValue = this.getChildControl("current-preview").getBackgroundColor();
      this.setValue(vValue);
      if(vValue){

        this.hide();
      };
    },
    _onFieldPointerOver : function(e){

      this.getChildControl("current-preview").setBackgroundColor(e.getTarget().getBackgroundColor());
    },
    _onFieldPointerOut : function(e){

      var red = this.getRed();
      var green = this.getGreen();
      var blue = this.getBlue();
      var color = null;
      if(red !== null || green !== null || blue !== null){

        color = qx.util.ColorUtil.rgbToRgbString([red, green, blue]);
      };
      this.getChildControl("current-preview").setBackgroundColor(color);
    },
    _onAutomaticBtnExecute : function(){

      this.setValue(null);
      this.hide();
    },
    _onSelectorButtonExecute : function(){

      this._createColorSelector();
      this.exclude();
      var red = this.getRed();
      var green = this.getGreen();
      var blue = this.getBlue();
      if(red === null || green === null || blue === null){

        red = 255;
        green = 255;
        blue = 255;
      };
      this.__colorSelector.setRed(red);
      this.__colorSelector.setGreen(green);
      this.__colorSelector.setBlue(blue);
      this.__colorSelectorWindow.open();
    },
    _onColorSelectorOk : function(){

      var sel = this.__colorSelector;
      this.setValue(qx.util.ColorUtil.rgbToRgbString([sel.getRed(), sel.getGreen(), sel.getBlue()]));
      this.__colorSelectorWindow.close();
    },
    _onColorSelectorCancel : function(){

      this.__colorSelectorWindow.close();
    },
    _onChangeVisibility : function(e){

      if(this.getVisibility() == "visible"){

        var red = this.getRed();
        var green = this.getGreen();
        var blue = this.getBlue();
        var color = null;
        if(red !== null || green !== null || blue !== null){

          color = qx.util.ColorUtil.rgbToRgbString([red, green, blue]);
        };
        this.getChildControl("selected-preview").setBackgroundColor(color);
        this.getChildControl("current-preview").setBackgroundColor(color);
      };
    },
    _tables : {
      core : {
        label : qx.locale.Manager.tr("Basic Colors"),
        values : ["#000", "#333", "#666", "#999", "#CCC", "#FFF", "red", "green", "blue", "yellow", "teal", "maroon"]
      },
      recent : {
        label : qx.locale.Manager.tr("Recent Colors"),
        values : []
      }
    }
  },
  destruct : function(){

    if(this.__colorSelectorWindow){

      this.__colorSelectorWindow.destroy();
      this.__colorSelector.destroy();
      this.__buttonBar.destroy();
    };
    this._tables = this.__boxes = null;
  }
});

qx.Bootstrap.define("qx.ui.website.Rating", {
  extend : qx.ui.website.Widget,
  statics : {
    _config : {
      length : 5,
      symbol : "★"
    },
    rating : function(initValue, symbol, length){

      var rating = new qx.ui.website.Rating(this);
      rating.init();
      var modified = false;
      if(length != undefined && length != rating.getConfig("length")){

        rating.setConfig("length", length);
        modified = true;
      };
      if(symbol != undefined){

        rating.setConfig("symbol", symbol);
        modified = true;
      };
      if(modified){

        rating.render();
      };
      if(initValue != undefined){

        rating.setValue(initValue);
      };
      return rating;
    }
  },
  construct : function(selector, context){

    this.base(arguments, selector, context);
  },
  events : {
    "changeValue" : "Number"
  },
  members : {
    init : function(){

      if(!this.base(arguments)){

        return false;
      };
      this._updateSymbolLength();
      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(rating){

        if(rating.getAttribute("tabindex") < 0){

          rating.setAttribute("tabindex", 0);
        };
        rating.$onFirstCollection("focus", this._onFocus, rating).$onFirstCollection("blur", this._onBlur, rating).getChildren("span").addClasses([cssPrefix + "-item", cssPrefix + "-item-off"]).$onFirstCollection("tap", this._onTap, rating);
      }.bind(this));
      return true;
    },
    setValue : function(value){

      if(this.getValue() == value){

        return this;
      };
      if(value < 0){

        value = 0;
      };
      var cssPrefix = this.getCssPrefix();
      this._forEachElementWrapped(function(rating){

        var children = rating.getChildren("span");
        children.removeClass(cssPrefix + "-item-off");
        children.slice(value, children.length).addClass(cssPrefix + "-item-off");
        rating.emit("changeValue", rating.getValue());
      });
      return this;
    },
    getValue : function(){

      var cssPrefix = this.getCssPrefix();
      return this.eq(0).getChildren("span").not("." + cssPrefix + "-item-off").length;
    },
    render : function(){

      this._updateSymbolLength();
    },
    _updateSymbolLength : function(){

      var cssPrefix = this.getCssPrefix();
      var length = this.getConfig("length");
      this._forEachElementWrapped(function(el){

        var children = el.getChildren();
        children.setHtml(this.getConfig("symbol"));
        var diff = length - children.length;
        if(diff > 0){

          for(var i = 0;i < diff;i++){

            qxWeb.create("<span>" + this.getConfig("symbol") + "</span>").$onFirstCollection("tap", el._onTap, el).addClasses([cssPrefix + "-item", cssPrefix + "-item-off"]).appendTo(el);
          };
        } else {

          for(var i = 0;i < Math.abs(diff);i++){

            el.getChildren().getLast().$offFirstCollection("tap", el._onTap, el).remove();
          };
        };
      }.bind(this));
      return this;
    },
    _onTap : function(e){

      var parents = qxWeb(e.getTarget()).getParents();
      this.setValue(parents.getChildren().indexOf(e.getTarget()) + 1);
    },
    _onFocus : function(e){

      qxWeb(document.documentElement).on("keydown", this._onKeyDown, this);
    },
    _onBlur : function(e){

      qxWeb(document.documentElement).off("keydown", this._onKeyDown, this);
    },
    _onKeyDown : function(e){

      var key = e.getKeyIdentifier();
      if(key === "Right"){

        this.setValue(this.getValue() + 1);
      } else if(key === "Left"){

        this.setValue(this.getValue() - 1);
      };
    },
    dispose : function(){

      this._forEachElementWrapped(function(rating){

        qxWeb(document.documentElement).off("keydown", this._onKeyDown, rating);
        rating.$offFirstCollection("focus", this._onFocus, rating).$offFirstCollection("blur", this._onBlur, rating);
        rating.getChildren("span").$offFirstCollection("tap", rating._onTap, rating);
      });
      this.setHtml("");
      return this.base(arguments);
    }
  },
  defer : function(statics){

    qxWeb.$attach({
      rating : statics.rating
    });
  }
});

qx.Bootstrap.define("qx.module.event.Swipe", {
  statics : {
    TYPES : ["swipe"],
    BIND_METHODS : ["getStartTime", "getDuration", "getAxis", "getDirection", "getVelocity", "getDistance"],
    getStartTime : function(){

      return this._original.swipe.startTime;
    },
    getDuration : function(){

      return this._original.swipe.duration;
    },
    getAxis : function(){

      return this._original.swipe.axis;
    },
    getDirection : function(){

      return this._original.swipe.direction;
    },
    getVelocity : function(){

      return this._original.swipe.velocity;
    },
    getDistance : function(){

      return this._original.swipe.distance;
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Swipe.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Swipe[bindMethods[i]].bind(event);
        };
      };
      return event;
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Swipe.TYPES, statics.normalize);
  }
});

qx.Class.define("qx.log.appender.PhoneGap", {
  statics : {
    process : function(entry){

      var args = qx.log.appender.Util.toText(entry);
      var level = entry.level;
      if(level == "warn"){

        debug.warn(args);
      } else if(level == "error"){

        debug.error(args);
      } else {

        debug.log(args);
      };
    }
  },
  defer : function(statics){

    function register(){

      if(window.debug){

        qx.log.Logger.register(statics);
      } else {

        window.setTimeout(register, 200);
      };
    };
    if(qx.core.Environment.get("phonegap")){

      register();
    };
  }
});

qx.Class.define("qx.ui.mobile.embed.Html", {
  extend : qx.ui.mobile.core.Widget,
  construct : function(html){

    this.base(arguments);
    if(html){

      this.setHtml(html);
    };
  },
  properties : {
    html : {
      check : "String",
      init : null,
      nullable : true,
      event : "changeHtml",
      apply : "_applyHtml"
    }
  },
  members : {
    _applyHtml : function(value, old){

      this._setHtml(value);
    }
  }
});

qx.Interface.define("qx.ui.mobile.container.IScrollDelegate", {
  members : {
    getScrollOffset : function(){
    }
  }
});

qx.Class.define("qx.xml.Element", {
  statics : {
    __xpe : null,
    XML_SERIALIZER : false,
    serialize : function(element){

      if(qx.dom.Node.isDocument(element)){

        element = element.documentElement;
      };
      if(this.XML_SERIALIZER){

        return (new XMLSerializer()).serializeToString(element);
      } else {

        return element.xml || element.outerHTML;
      };
    },
    selectSingleNode : function(element, query, namespaces){

      if(qx.core.Environment.get("html.xpath")){

        if(!this.__xpe){

          this.__xpe = new XPathEvaluator();
        };
        var xpe = this.__xpe;
        var resolver;
        if(namespaces){

          resolver = function(prefix){

            return namespaces[prefix] || null;
          };
        } else {

          resolver = xpe.createNSResolver(element);
        };
        try{

          return xpe.evaluate(query, element, resolver, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
        } catch(err) {

          throw new Error("selectSingleNode: query: " + query + ", element: " + element + ", error: " + err);
        };
      };
      if(qx.core.Environment.get("xml.selectsinglenode")){

        if(namespaces){

          var namespaceString = "";
          for(var prefix in namespaces){

            namespaceString += "xmlns:" + prefix + "='" + namespaces[prefix] + "' ";
          };
          if(element.ownerDocument){

            element.ownerDocument.setProperty("SelectionNamespaces", namespaceString);
          } else {

            element.setProperty("SelectionNamespaces", namespaceString);
          };
        };
        return element.selectSingleNode(query);
      };
      throw new Error("No XPath implementation available!");
    },
    selectNodes : function(element, query, namespaces){

      if(qx.core.Environment.get("html.xpath")){

        var xpe = this.__xpe;
        if(!xpe){

          this.__xpe = xpe = new XPathEvaluator();
        };
        var resolver;
        if(namespaces){

          resolver = function(prefix){

            return namespaces[prefix] || null;
          };
        } else {

          resolver = xpe.createNSResolver(element);
        };
        try{

          var result = xpe.evaluate(query, element, resolver, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
        } catch(err) {

          throw new Error("selectNodes: query: " + query + ", element: " + element + ", error: " + err);
        };
        var nodes = [];
        for(var i = 0;i < result.snapshotLength;i++){

          nodes[i] = result.snapshotItem(i);
        };
        return nodes;
      };
      if(qx.core.Environment.get("xml.selectnodes")){

        if(namespaces){

          var namespaceString = "";
          for(var prefix in namespaces){

            namespaceString += "xmlns:" + prefix + "='" + namespaces[prefix] + "' ";
          };
          if(element.ownerDocument){

            element.ownerDocument.setProperty("SelectionNamespaces", namespaceString);
          } else {

            element.setProperty("SelectionNamespaces", namespaceString);
          };
        };
        return element.selectNodes(query);
      };
      throw new Error("No XPath implementation available!");
    },
    getElementsByTagNameNS : function(element, namespaceURI, tagname){

      if(qx.core.Environment.get("xml.getelementsbytagnamens")){

        return element.getElementsByTagNameNS(namespaceURI, tagname);
      };
      if(qx.core.Environment.get("xml.domproperties")){

        var doc = element.ownerDocument || element;
        doc.setProperty("SelectionLanguage", "XPath");
        doc.setProperty("SelectionNamespaces", "xmlns:ns='" + namespaceURI + "'");
        return qx.xml.Element.selectNodes(element, 'descendant-or-self::ns:' + tagname);
      };
      throw new Error("The client does not support this operation!");
    },
    getSingleNodeText : function(element, query){

      var node = this.selectSingleNode(element, query);
      return qx.dom.Node.getText(node);
    },
    setAttributeNS : function(document, element, namespaceUri, name, value){

      if(qx.core.Environment.get("xml.attributens")){

        element.setAttributeNS(namespaceUri, name, value);
      } else if(qx.core.Environment.get("xml.createnode")){

        var attr = document.createNode(2, name, namespaceUri);
        attr.nodeValue = value;
        element.setAttributeNode(attr);
      } else {

        throw new Error("The client does not support this operation!");
      };
    },
    getAttributeNS : function(element, namespaceUri, name){

      if(qx.core.Environment.get("xml.attributens")){

        var value = element.getAttributeNS(namespaceUri, name);
        return value === null ? '' : value;
      };
      if(qx.core.Environment.get("xml.getqualifieditem")){

        var attributes = element.attributes;
        var value = null;
        if(attributes){

          var attribute = attributes.getQualifiedItem(name, namespaceUri);
          if(attribute){

            value = attribute.nodeValue;
          };
        };
        return value === null ? '' : value;
      };
      throw new Error("The client does not support this operation!");
    },
    createSubElementNS : function(document, parent, name, namespaceUri){

      if(qx.core.Environment.get("xml.createelementns")){

        var node = document.createElementNS(namespaceUri, "x:" + name);
        parent.appendChild(node);
        return node;
      };
      if(qx.core.Environment.get("xml.createnode")){

        var node = document.createNode(1, name, namespaceUri);
        parent.appendChild(node);
        return node;
      };
      throw new Error("The client does not support this operation!");
    }
  },
  defer : function(statics){

    statics.XML_SERIALIZER = (window.XMLSerializer && !(qx.core.Environment.get("engine.name") == "mshtml" && qx.core.Environment.get("engine.version") >= 9 && qx.core.Environment.get("browser.documentmode") >= 9));
  }
});

qx.Bootstrap.define("qx.module.util.Function", {
  statics : {
    debounce : function(callback, delay, immediate){

      var wrapperFunction = function(){

        arguments.callee.immediate = !!(immediate);
        arguments.callee.args = qx.lang.Array.fromArguments(arguments);
        var context = this;
        var id = arguments.callee.intervalId;
        if(typeof id === "undefined"){

          var intervalId = window.setInterval((function(){

            if(!this.fired){

              window.clearInterval(this.intervalId);
              delete this.intervalId;
              if(this.immediate === false){

                callback.apply(context, this.args);
              };
            };
            this.fired = false;
          }).bind(arguments.callee), delay);
          arguments.callee.intervalId = intervalId;
          if(arguments.callee.immediate){

            callback.apply(context, arguments.callee.args);
          };
        };
        arguments.callee.fired = true;
      };
      return wrapperFunction;
    },
    throttle : function(callback, interval, options){

      if(typeof options === "undefined"){

        options = {
        };
      };
      var context,args,result;
      var timeout = null;
      var previous = 0;
      var later = function(){

        previous = options.leading === false ? 0 : new Date();
        timeout = null;
        result = callback.apply(context, args);
      };
      return function(){

        var now = new Date();
        if(!previous && options.leading === false){

          previous = now;
        };
        var remaining = interval - (now - previous);
        context = this;
        args = arguments;
        if(remaining <= 0){

          window.clearTimeout(timeout);
          timeout = null;
          previous = now;
          result = callback.apply(context, args);
        } else if(!timeout && options.trailing !== false){

          timeout = window.setTimeout(later, remaining);
        };
        return result;
      };
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      func : {
        debounce : statics.debounce,
        throttle : statics.throttle
      }
    });
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Boolean", {
  extend : qx.ui.table.cellrenderer.AbstractImage,
  construct : function(){

    this.base(arguments);
    this.__aliasManager = qx.util.AliasManager.getInstance();
    this.initIconTrue();
    this.initIconFalse();
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Appearance.getInstance().addListener("changeTheme", this._onChangeTheme, this);
    };
  },
  properties : {
    iconTrue : {
      check : "String",
      init : "decoration/table/boolean-true.png",
      apply : "_applyIconTrue"
    },
    iconFalse : {
      check : "String",
      init : "decoration/table/boolean-false.png",
      apply : "_applyIconFalse"
    }
  },
  members : {
    __iconUrlTrue : null,
    __iconUrlFalse : false,
    __aliasManager : null,
    _onChangeTheme : qx.core.Environment.select("qx.dyntheme", {
      "true" : function(){

        this._applyIconTrue(this.getIconTrue());
        this._applyIconFalse(this.getIconFalse());
      },
      "false" : null
    }),
    _applyIconTrue : function(value){

      this.__iconUrlTrue = this.__aliasManager.resolve(value);
    },
    _applyIconFalse : function(value){

      this.__iconUrlFalse = this.__aliasManager.resolve(value);
    },
    _insetY : 5,
    _getCellStyle : function(cellInfo){

      return this.base(arguments, cellInfo) + ";padding-top:4px;";
    },
    _identifyImage : function(cellInfo){

      var imageHints = {
        imageWidth : 11,
        imageHeight : 11
      };
      switch(cellInfo.value){case true:
      imageHints.url = this.__iconUrlTrue;
      break;case false:
      imageHints.url = this.__iconUrlFalse;
      break;default:
      imageHints.url = null;
      break;};
      return imageHints;
    }
  },
  destruct : function(){

    this.__aliasManager = null;
    if(qx.core.Environment.get("qx.dyntheme")){

      qx.theme.manager.Appearance.getInstance().removeListener("changeTheme", this._onChangeTheme, this);
    };
  }
});

qx.Class.define("qx.dev.unit.TestLoaderBasic", {
  extend : qx.core.Object,
  include : [qx.dev.unit.MTestLoader],
  construct : function(nameSpace){

    if(nameSpace){

      this.setTestNamespace(nameSpace);
    };
  }
});

qx.Interface.define("qx.ui.virtual.selection.ISelectionDelegate", {
  members : {
    isItemSelectable : function(item){
    },
    styleSelectable : function(item, type, wasAdded){
    }
  }
});

qx.Class.define("qx.ui.table.cellrenderer.Debug", {
  extend : qx.ui.table.cellrenderer.Abstract,
  members : {
    _getContentHtml : function(cellInfo){

      var html = "<div style='height:" + cellInfo.styleHeight + "px;overflow:auto;'>" + qx.dev.Debug.debugObjectToString(cellInfo.value, "row=" + cellInfo.row + ", col=" + cellInfo.col, 10, true) + "</div>";
      return html;
    }
  }
});

qx.Bootstrap.define("qx.module.Core", {
});

qx.Class.define("qx.ui.table.cellrenderer.Password", {
  extend : qx.ui.table.cellrenderer.Default,
  members : {
    _getContentHtml : function(cellInfo){

      var value = cellInfo.value;
      if(value === null){

        value = "";
      };
      cellInfo.value = value.replace(/./g, "*");
      return qx.bom.String.escape(this._formatValue(cellInfo));
    }
  }
});

qx.Class.define("qx.bom.FileReader", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this._fileReader = new window.FileReader();
    this._handleLoadStart = qx.lang.Function.bind(this._handleLoadStart, this);
    this._handleProgress = qx.lang.Function.bind(this._handleProgress, this);
    this._handleLoad = qx.lang.Function.bind(this._handleLoad, this);
    this._handleAbort = qx.lang.Function.bind(this._handleAbort, this);
    this._handleError = qx.lang.Function.bind(this._handleError, this);
    this._handleLoadEnd = qx.lang.Function.bind(this._handleLoadEnd, this);
    qx.bom.Event.addNativeListener(this._fileReader, "loadstart", this._handleLoadStart);
    qx.bom.Event.addNativeListener(this._fileReader, "progress", this._handleProgress);
    qx.bom.Event.addNativeListener(this._fileReader, "load", this._handleLoad);
    qx.bom.Event.addNativeListener(this._fileReader, "abort", this._handleAbort);
    qx.bom.Event.addNativeListener(this._fileReader, "error", this._handleError);
    qx.bom.Event.addNativeListener(this._fileReader, "loadend", this._handleLoadEnd);
  },
  events : {
    "loadstart" : "qx.event.type.Data",
    "progress" : "qx.event.type.Data",
    "error" : "qx.event.type.Data",
    "abort" : "qx.event.type.Data",
    "load" : "qx.event.type.Data",
    "loadend" : "qx.event.type.Data"
  },
  statics : {
    getNumFiles : function(inputElement){

      return inputElement.files.length;
    },
    getFile : function(inputElement, index){

      return inputElement.files[index];
    }
  },
  members : {
    _fileReader : null,
    readAsBinaryString : function(fileObj){

      this._fileReader.readAsBinaryString(fileObj);
    },
    readAsText : function(fileObj, encoding){

      this._fileReader.readAsText(fileObj, encoding);
    },
    readAsDataURL : function(fileObj){

      this._fileReader.readAsDataURL(fileObj);
    },
    _handleLoadStart : function(e){

      this.fireDataEvent("loadstart", {
        progress : e.data
      });
    },
    _handleProgress : function(e){

      this.fireDataEvent("progress", {
        progress : e.data
      });
    },
    _handleError : function(e){

      this.fireDataEvent("error", {
        progress : e.data
      });
    },
    _handleAbort : function(e){

      this.fireDataEvent("abort", {
        progress : e.data
      });
    },
    _handleLoad : function(e){

      this.fireDataEvent("load", {
        progress : e.data,
        content : e.target.result
      });
    },
    _handleLoadEnd : function(e){

      this.fireDataEvent("loadend", {
        progress : e.data
      });
    }
  },
  destruct : function(){

    qx.bom.Event.removeNativeListener(this._fileReader, "loadstart", this._handleLoadStart);
    qx.bom.Event.removeNativeListener(this._fileReader, "progress", this._handleProgress);
    qx.bom.Event.removeNativeListener(this._fileReader, "load", this._handleLoad);
    qx.bom.Event.removeNativeListener(this._fileReader, "abort", this._handleAbort);
    qx.bom.Event.removeNativeListener(this._fileReader, "error", this._handleError);
    qx.bom.Event.removeNativeListener(this._fileReader, "loadend", this._handleLoadEnd);
    this._fileReader = null;
  }
});

qx.Mixin.define("qx.ui.table.MTableContextMenu", {
  construct : function(){

    this.addListener("cellContextmenu", function(e){

      var contextMenu = this.getContextMenu();
      if(contextMenu && !contextMenu.isDisposed()){

        contextMenu.hide();
        this.setContextMenu(null);
        this.getApplicationRoot().remove(contextMenu);
        contextMenu.dispose();
        contextMenu = null;
      };
      var col = e.getColumn();
      var contextMenuHandler = this.getContextMenuHandler(col);
      if(typeof contextMenuHandler !== "function"){

        return;
      };
      var handlerContext = this.__contextMenuHandlerContext[col];
      var tableModel = this.getTableModel();
      contextMenu = new qx.ui.menu.Menu();
      contextMenu.addListener("contextmenu", function(e){

        e.preventDefault();
      });
      contextMenu.addListenerOnce("disappear", function(){

        this.setContextMenu(null);
      }, this);
      var bShowContextMenu = contextMenuHandler.call(handlerContext, col, e.getRow(), this, tableModel, contextMenu);
      if(!bShowContextMenu){

        contextMenu.dispose();
        return;
      };
      this.setContextMenu(contextMenu);
    }, this);
    this.__contextMenuHandler = [];
    this.__contextMenuHandlerContext = [];
  },
  members : {
    __contextMenuHandler : null,
    __contextMenuHandlerContext : null,
    setContextMenuHandler : function(col, handler, context){

      this.__contextMenuHandler[col] = handler;
      this.__contextMenuHandlerContext[col] = context || this;
    },
    getContextMenuHandler : function(col){

      return this.__contextMenuHandler[col];
    }
  },
  destruct : function(){

    this.__contextMenuHandler = null;
    this.__contextMenuHandlerContext = null;
  }
});

qx.Class.define("qx.ui.mobile.form.Title", {
  extend : qx.ui.mobile.basic.Label,
  properties : {
    wrap : {
      refine : true,
      init : false
    },
    defaultCssClass : {
      refine : true,
      init : "form-title"
    }
  },
  members : {
    _getTagName : function(){

      return "h2";
    }
  }
});

qx.Bootstrap.define("qx.module.Rest", {
  statics : {
    resource : function(description){

      return new qx.bom.rest.Resource(description);
    }
  },
  defer : function(statics){

    qxWeb.$attachStatic({
      "rest" : {
        "resource" : statics.resource
      }
    });
  }
});

qx.Class.define("qx.util.EditDistance", {
  statics : {
    OPERATION_DELETE : 1,
    OPERATION_INSERT : 2,
    OPERATION_REPLACE : 3,
    __computeLevenshteinDistance : function(dataA, dataB){

      var distance = [];
      var posA,posB,cost;
      for(posA = 0;posA <= dataA.length;posA++){

        distance[posA] = [];
        distance[posA][0] = posA;
      };
      for(posB = 1;posB <= dataB.length;posB++){

        distance[0][posB] = posB;
      };
      for(posA = 1;posA <= dataA.length;posA++){

        for(posB = 1;posB <= dataB.length;posB++){

          cost = dataA[posA - 1] === dataB[posB - 1] ? 0 : 1;
          if(distance[posA] === undefined){

            distance[posA] = [];
          };
          distance[posA][posB] = Math.min(distance[posA - 1][posB] + 1, distance[posA][posB - 1] + 1, distance[posA - 1][posB - 1] + cost);
        };
      };
      return distance;
    },
    __computeEditOperations : function(distance, dataA, dataB){

      var operations = [];
      var posA = dataA.length;
      var posB = dataB.length;
      if(posA === 0){

        for(var i = 0;i < posB;i++){

          operations.push({
            operation : this.OPERATION_INSERT,
            pos : i,
            old : null,
            value : dataB[i]
          });
        };
        return operations;
      };
      if(posB === 0){

        for(var i = posA - 1;i >= 0;i--){

          operations.push({
            operation : this.OPERATION_DELETE,
            pos : i,
            old : dataA[i],
            value : null
          });
        };
        return operations;
      };
      while(posA !== 0 || posB !== 0){

        if(posA != 0 && distance[posA][posB] == distance[posA - 1][posB] + 1){

          operations.push({
            operation : this.OPERATION_DELETE,
            pos : posA - 1,
            old : dataA[posA - 1],
            value : null
          });
          posA -= 1;
        } else if(posB != 0 && distance[posA][posB] == distance[posA][posB - 1] + 1){

          operations.push({
            operation : this.OPERATION_INSERT,
            pos : posA,
            old : null,
            value : dataB[posB - 1]
          });
          posB -= 1;
        } else {

          if(dataA[posA - 1] !== dataB[posB - 1]){

            operations.push({
              operation : this.OPERATION_REPLACE,
              pos : posA - 1,
              old : dataA[posA - 1],
              value : dataB[posB - 1]
            });
          };
          posA -= 1;
          posB -= 1;
        };
      };
      return operations;
    },
    getEditOperations : function(dataA, dataB){

      var distance = this.__computeLevenshteinDistance(dataA, dataB);
      var operations = this.__computeEditOperations(distance, dataA, dataB);
      return operations;
    }
  }
});

qx.Class.define("qx.data.controller.Tree", {
  extend : qx.core.Object,
  include : qx.data.controller.MSelection,
  implement : qx.data.controller.ISelection,
  construct : function(model, target, childPath, labelPath){

    this.base(arguments);
    this.__bindings = {
    };
    this.__boundProperties = [];
    this.__childrenRef = {
    };
    if(childPath != null){

      this.setChildPath(childPath);
    };
    if(labelPath != null){

      this.setLabelPath(labelPath);
    };
    if(model != null){

      this.setModel(model);
    };
    if(target != null){

      this.setTarget(target);
    };
  },
  properties : {
    model : {
      check : "qx.core.Object",
      apply : "_applyModel",
      event : "changeModel",
      nullable : true,
      dereference : true
    },
    target : {
      apply : "_applyTarget",
      event : "changeTarget",
      init : null,
      nullable : true,
      dereference : true
    },
    childPath : {
      check : "String",
      apply : "_applyChildPath",
      nullable : true
    },
    labelPath : {
      check : "String",
      apply : "_applyLabelPath",
      nullable : true
    },
    iconPath : {
      check : "String",
      apply : "_applyIconPath",
      nullable : true
    },
    labelOptions : {
      apply : "_applyLabelOptions",
      nullable : true
    },
    iconOptions : {
      apply : "_applyIconOptions",
      nullable : true
    },
    delegate : {
      apply : "_applyDelegate",
      init : null,
      nullable : true
    }
  },
  members : {
    __childrenRef : null,
    __bindings : null,
    __boundProperties : null,
    __oldChildrenPath : null,
    _applyDelegate : function(value, old){

      this._setConfigureItem(value, old);
      this._setCreateItem(value, old);
      this._setBindItem(value, old);
    },
    _applyIconOptions : function(value, old){

      this.__renewBindings();
    },
    _applyLabelOptions : function(value, old){

      this.__renewBindings();
    },
    _applyTarget : function(value, old){

      if(old != undefined){

        this.__emptyTarget(old);
      };
      if(this.getModel() != null){

        this.__buildTree();
      };
      this._addChangeTargetListener(value, old);
    },
    _applyModel : function(value, old){

      this.__buildTree();
    },
    _applyChildPath : function(value, old){

      this.__oldChildrenPath = old;
      this.__buildTree();
      this.__oldChildrenPath = null;
    },
    _applyIconPath : function(value, old){

      this.__renewBindings();
    },
    _applyLabelPath : function(value, old){

      this.__buildTree();
    },
    __changeModelChildren : function(ev){

      var children = ev.getTarget();
      var treeNode = this.__childrenRef[children.toHashCode()].treeNode;
      var modelNode = this.__childrenRef[children.toHashCode()].modelNode;
      this.__updateTreeChildren(treeNode, modelNode);
      this._updateSelection();
    },
    __changeChildrenArray : function(e){

      var children = e.getData();
      var oldChildren = e.getOldData();
      var oldRef = this.__childrenRef[oldChildren.toHashCode()];
      oldChildren.removeListenerById(oldRef.changeListenerId);
      delete this.__childrenRef[oldChildren.toHashCode()];
      oldRef.modelNode.removeListenerById(oldRef.changeChildernListenerId);
      var modelNode = oldRef.modelNode;
      var property = qx.Class.getPropertyDefinition(oldRef.modelNode.constructor, this.getChildPath());
      var eventName = property.event;
      var changeChildernListenerId = modelNode.addListener(eventName, this.__changeChildrenArray, this);
      var treeNode = oldRef.treeNode;
      this.__childrenRef[children.toHashCode()] = {
        modelNode : modelNode,
        treeNode : treeNode,
        changeListenerId : oldRef.changeListenerId,
        changeChildernListenerId : changeChildernListenerId
      };
      this.__updateTreeChildren(treeNode, modelNode);
      this._updateSelection();
    },
    _createItem : function(){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.createItem != null){

        var item = delegate.createItem();
      } else {

        var item = new qx.ui.tree.TreeFolder();
      };
      if(delegate != null && delegate.configureItem != null){

        delegate.configureItem(item);
      };
      return item;
    },
    __buildTree : function(){

      if(this.getTarget() == null || this.getChildPath() == null){

        return;
      };
      if((this.getLabelPath() == null && this.getDelegate() == null) || (this.getLabelPath() == null && this.getDelegate() != null && this.getDelegate().bindItem == null)){

        return;
      };
      this.__emptyTarget();
      if(this.getModel() != null){

        var rootNode = this._createItem();
        rootNode.setModel(this.getModel());
        this.__addBinding(this.getModel(), rootNode);
        this.__updateTreeChildren(rootNode, this.getModel());
        this.getTarget().setRoot(rootNode);
      };
    },
    __updateTreeChildren : function(rootNode, modelNode){

      if(modelNode["get" + qx.lang.String.firstUp(this.getChildPath())] == undefined){

        return;
      };
      var children = modelNode["get" + qx.lang.String.firstUp(this.getChildPath())]();
      if(this.__childrenRef[children.toHashCode()] == undefined){

        var changeListenerId = children.addListener("change", this.__changeModelChildren, this);
        var property = qx.Class.getPropertyDefinition(modelNode.constructor, this.getChildPath());
        var eventName = property.event;
        var changeChildernListenerId = modelNode.addListener(eventName, this.__changeChildrenArray, this);
        this.__childrenRef[children.toHashCode()] = {
          modelNode : modelNode,
          treeNode : rootNode,
          changeListenerId : changeListenerId,
          changeChildernListenerId : changeChildernListenerId
        };
      };
      for(var i = 0;i < children.length;i++){

        if(rootNode.getChildren()[i] == null || children.getItem(i) != rootNode.getChildren()[i].getModel()){

          for(var j = i;j < rootNode.getChildren().length;j++){

            if(rootNode.getChildren()[j].getModel() === children.getItem(i)){

              var oldIndex = j;
              break;
            };
          };
          if(oldIndex != undefined){

            var currentNode = rootNode.getChildren()[oldIndex];
            if(this.getTarget().isSelected(currentNode)){

              var wasSelected = true;
            };
            rootNode.removeAt(oldIndex);
            rootNode.addAt(currentNode, i);
            if(wasSelected){

              this.getTarget().addToSelection(currentNode);
            };
          } else {

            var treeNode = this._createItem();
            treeNode.setModel(children.getItem(i));
            rootNode.addAt(treeNode, i);
            this.__addBinding(children.getItem(i), treeNode);
            this.__updateTreeChildren(treeNode, children.getItem(i));
          };
        };
      };
      for(var i = rootNode.getChildren().length - 1;i >= children.length;i--){

        var treeFolder = rootNode.getChildren()[i];
        this.__removeFolder(treeFolder, rootNode);
      };
    },
    __emptyTarget : function(tree){

      if(tree == null){

        tree = this.getTarget();
      };
      if(tree == null){

        return;
      };
      var root = tree.getRoot();
      if(root != null){

        tree.setRoot(null);
        this.__removeAllFolders(root);
        var model = root.getModel();
        if(model){

          this.__removeBinding(model);
        };
        root.destroy();
        this.__childrenRef = {
        };
      };
    },
    __removeAllFolders : function(node){

      var children = node.getChildren() || [];
      for(var i = children.length - 1;i >= 0;i--){

        if(children[i].getChildren().length > 0){

          this.__removeAllFolders(children[i]);
        };
        this.__removeFolder(children[i], node);
      };
    },
    __removeFolder : function(treeFolder, rootNode){

      var model = treeFolder.getModel();
      var childPath = this.__oldChildrenPath || this.getChildPath();
      var childrenGetterName = "get" + qx.lang.String.firstUp(childPath);
      if(model[childrenGetterName] != undefined){

        var children = model[childrenGetterName]();
        var oldRef = this.__childrenRef[children.toHashCode()];
        children.removeListenerById(oldRef.changeListenerId);
        model.removeListenerById(oldRef.changeChildernListenerId);
        this.__removeAllFolders(treeFolder);
        delete this.__childrenRef[children.toHashCode()];
      };
      this.__removeBinding(model);
      rootNode.remove(treeFolder);
      treeFolder.destroy();
    },
    bindProperty : function(sourcePath, targetPath, options, targetWidget, modelNode){

      var id = modelNode.bind(sourcePath, targetWidget, targetPath, options);
      if(this.__bindings[targetPath] == null){

        this.__bindings[targetPath] = {
        };
      };
      var storage = this.__bindings[targetPath];
      if(storage[modelNode.toHashCode()]){

        if(storage[modelNode.toHashCode()].id){

          throw new Error("Can not bind the same target property '" + targetPath + "' twice.");
        };
        storage[modelNode.toHashCode()].id = id;
      } else {

        storage[modelNode.toHashCode()] = {
          id : id,
          reverseId : null,
          treeNode : targetWidget
        };
      };
      if(!qx.lang.Array.contains(this.__boundProperties, targetPath)){

        this.__boundProperties.push(targetPath);
      };
    },
    bindPropertyReverse : function(targetPath, sourcePath, options, sourceWidget, modelNode){

      var id = sourceWidget.bind(sourcePath, modelNode, targetPath, options);
      if(this.__bindings[sourcePath] == null){

        this.__bindings[sourcePath] = {
        };
      };
      var storage = this.__bindings[sourcePath];
      if(storage[modelNode.toHashCode()]){

        if(storage[modelNode.toHashCode()].reverseId){

          throw new Error("Can not reverse bind the same target property '" + targetPath + "' twice.");
        };
        storage[modelNode.toHashCode()].reverseId = id;
      } else {

        storage[modelNode.toHashCode()] = {
          id : null,
          reverseId : id,
          treeNode : sourceWidget
        };
      };
      if(!qx.lang.Array.contains(this.__boundProperties, sourcePath)){

        this.__boundProperties.push(sourcePath);
      };
    },
    bindDefaultProperties : function(treeNode, modelNode){

      this.bindProperty(this.getLabelPath(), "label", this.getLabelOptions(), treeNode, modelNode);
      if(this.getIconPath() != null){

        this.bindProperty(this.getIconPath(), "icon", this.getIconOptions(), treeNode, modelNode);
      };
    },
    __renewBindings : function(){

      var firstProp;
      for(var key in this.__bindings){

        firstProp = key;
        break;
      };
      for(var hash in this.__bindings[firstProp]){

        var treeNode = this.__bindings[firstProp][hash].treeNode;
        var modelNode = qx.core.ObjectRegistry.fromHashCode(hash);
        this.__removeBinding(modelNode);
        this.__addBinding(modelNode, treeNode);
      };
    },
    __addBinding : function(modelNode, treeNode){

      var delegate = this.getDelegate();
      if(delegate != null && delegate.bindItem != null){

        delegate.bindItem(this, treeNode, modelNode);
      } else {

        this.bindDefaultProperties(treeNode, modelNode);
      };
    },
    __removeBinding : function(modelNode){

      for(var i = 0;i < this.__boundProperties.length;i++){

        var property = this.__boundProperties[i];
        var bindingsMap = this.__bindings[property][modelNode.toHashCode()];
        if(bindingsMap != null){

          if(bindingsMap.id){

            modelNode.removeBinding(bindingsMap.id);
            bindingsMap.id = null;
          };
          if(bindingsMap.reverseId){

            bindingsMap.treeNode.removeBinding(bindingsMap.reverseId);
            bindingsMap.reverseId = null;
          };
          delete this.__bindings[property][modelNode.toHashCode()];
        };
      };
    },
    _setConfigureItem : function(value, old){

      if(value != null && value.configureItem != null && this.getTarget() != null && this.getModel() != null){

        var children = this.getTarget().getRoot().getItems(true, true, false);
        for(var i = 0;i < children.length;i++){

          value.configureItem(children[i]);
        };
      };
    },
    _setCreateItem : function(value, old){

      if(this.getTarget() == null || this.getModel() == null){

        return;
      };
      if(value == null || value.createItem == null){

        return;
      };
      if(old && old.createItem && value && value.createItem && old.createItem == value.createItem){

        return;
      };
      this._startSelectionModification();
      this.__emptyTarget();
      this.__buildTree();
      this._endSelectionModification();
      this._updateSelection();
    },
    _setBindItem : function(value, old){

      if(value != null && value.bindItem != null){

        if(old != null && old.bindItem != null && value.bindItem == old.bindItem){

          return;
        };
        this.__buildTree();
      };
    }
  },
  destruct : function(){

    this.setTarget(null);
    this.setModel(null);
    this.__bindings = this.__childrenRef = this.__boundProperties = null;
  }
});

qx.Bootstrap.define("qx.module.event.Keyboard", {
  statics : {
    TYPES : ["keydown", "keypress", "keyup"],
    BIND_METHODS : ["getKeyIdentifier"],
    getKeyIdentifier : function(){

      if(this.type == "keypress" && (qxWeb.env.get("engine.name") != "gecko" || this.charCode !== 0)){

        return qx.event.util.Keyboard.charCodeToIdentifier(this.charCode || this.keyCode);
      };
      return qx.event.util.Keyboard.keyCodeToIdentifier(this.keyCode);
    },
    normalize : function(event, element){

      if(!event){

        return event;
      };
      var bindMethods = qx.module.event.Keyboard.BIND_METHODS;
      for(var i = 0,l = bindMethods.length;i < l;i++){

        if(typeof event[bindMethods[i]] != "function"){

          event[bindMethods[i]] = qx.module.event.Keyboard[bindMethods[i]].bind(event);
        };
      };
      return event;
    },
    registerInputFix : function(element){

      if(element.type === "text" || element.type === "password" || element.type === "textarea"){

        if(!element.__inputFix){

          element.__inputFix = qxWeb(element).on("keyup", qx.module.event.Keyboard._inputFix);
        };
      };
    },
    unregisterInputFix : function(element){

      if(element.__inputFix && !qxWeb(element).hasListener("input")){

        qxWeb(element).off("keyup", qx.module.event.Keyboard._inputFix);
        element.__inputFix = null;
      };
    },
    _inputFix : function(ev){

      if(ev.getKeyIdentifier() !== "Backspace"){

        return;
      };
      var target = ev.getTarget();
      var newValue = qxWeb(target).getValue();
      if(!target.__oldInputValue || target.__oldInputValue !== newValue){

        target.__oldInputValue = newValue;
        ev.type = ev._type = "input";
        target.$$emitter.emit("input", ev);
      };
    }
  },
  defer : function(statics){

    qxWeb.$registerEventNormalization(qx.module.event.Keyboard.TYPES, statics.normalize);
    if(qxWeb.env.get("engine.name") === "mshtml" && qxWeb.env.get("browser.documentmode") === 9){

      qxWeb.$registerEventHook("input", statics.registerInputFix, statics.unregisterInputFix);
    };
  }
});

qx.Class.define("qx.dev.Tokenizer", {
  extend : qx.core.Object,
  statics : {
    tokenizeJavaScript : function(javaScriptText){

      var keywords = {
        "break" : 1,
        "case" : 1,
        "catch" : 1,
        "continue" : 1,
        "default" : 1,
        "delete" : 1,
        "do" : 1,
        "else" : 1,
        "finally" : 1,
        "for" : 1,
        "function" : 1,
        "if" : 1,
        "in" : 1,
        "instanceof" : 1,
        "new" : 1,
        "return" : 1,
        "switch" : 1,
        "throw" : 1,
        "try" : 1,
        "typeof" : 1,
        "var" : 1,
        "while" : 1,
        "with" : 1
      };
      var atoms = {
        "void" : 1,
        "null" : 1,
        "true" : 1,
        "false" : 1,
        "NaN" : 1,
        "Infinity" : 1,
        "this" : 1
      };
      var qxkeys = {
        "statics" : 1,
        "members" : 1,
        "construct" : 1,
        "destruct" : 1,
        "events" : 1,
        "properties" : 1,
        "extend" : 1,
        "implement" : 1
      };
      var reg = function(str){

        return new RegExp("^" + str + "$");
      };
      var str_re_line_comment = "\\/\\/.*?[\\n\\r$]";
      var str_re_full_comment = "\\/\\*(?:.|[\\n\\r])*?\\*\\/";
      var str_re_ident = "[a-zA-Z_][a-zA-Z0-9_]*\\b";
      var str_re_integer = "[+-]?\\d+";
      var str_re_float = "[+-]?\\d+(([.]\\d+)*([eE][+-]?\\d+))?";
      var str_re_doublequote = '["][^"]*["]';
      var str_re_singlequote = "['][^']*[']";
      var str_re_tab = "\\t";
      var str_re_nl = "\\r\\n|\\r|\\n";
      var str_re_space = "\\s";
      var re_regexp_part = "(?:\\/(?!\\*)[^\\t\\n\\r\\f\\v\\/]+?\\/[mgi]*)";
      var str_re_regexp_all = ["\\.(?:match|search|split)\\s*\\(\\s*\\(*\\s*" + re_regexp_part + "\\s*\\)*\\s*\\)", "\\.(?:replace)\\s*\\(\\s*\\(*\\s*" + re_regexp_part + "\\s*\\)*\\s*?,?", "\\s*\\(*\\s*" + re_regexp_part + "\\)*\\.(?:test|exec)\\s*\\(\\s*", "(?::|=|\\?)\\s*\\(*\\s*" + re_regexp_part + "\\s*\\)*", "[\\(,]\\s*" + re_regexp_part + "\\s*[,\\)]"].join("|");
      var re_line_comment = reg(str_re_line_comment);
      var re_full_comment = reg(str_re_full_comment);
      var re_ident = reg(str_re_ident);
      var re_integer = reg(str_re_integer);
      var re_float = reg(str_re_float);
      var re_doublequote = reg(str_re_doublequote);
      var re_singlequote = reg(str_re_singlequote);
      var re_tab = reg(str_re_tab);
      var re_nl = reg(str_re_nl);
      var re_space = reg(str_re_space);
      var re_regexp_all = reg(str_re_regexp_all);
      var re_token = new RegExp([str_re_line_comment, str_re_full_comment, str_re_ident, str_re_integer, str_re_float, str_re_doublequote, str_re_singlequote, str_re_singlequote, str_re_tab, str_re_nl, str_re_space, str_re_regexp_all, "."].join("|"), "g");
      var tokens = [];
      var a = javaScriptText.match(re_token);
      for(var i = 0;i < a.length;i++){

        var token = a[i];
        if(token.match(re_line_comment)){

          tokens.push({
            type : "linecomment",
            value : token
          });
        } else if(token.match(re_full_comment)){

          tokens.push({
            type : "fullcomment",
            value : token
          });
        } else if(token.match(re_regexp_all)){

          tokens.push({
            type : "regexp",
            value : token
          });
        } else if(token.match(re_singlequote)){

          tokens.push({
            type : "qstr",
            value : token
          });
        } else if(token.match(re_doublequote)){

          tokens.push({
            type : "qqstr",
            value : token
          });
        } else if(keywords[token]){

          tokens.push({
            type : "keyword",
            value : token
          });
        } else if(atoms[token]){

          tokens.push({
            type : "atom",
            value : token
          });
        } else if(qxkeys[token]){

          tokens.push({
            type : "qxkey",
            value : token
          });
        } else if(token.match(re_ident)){

          tokens.push({
            type : "ident",
            value : token
          });
        } else if(token.match(re_float)){

          tokens.push({
            type : "real",
            value : token
          });
        } else if(token.match(re_integer)){

          tokens.push({
            type : "int",
            value : token
          });
        } else if(token.match(re_nl)){

          tokens.push({
            type : "nl",
            value : token
          });
        } else if(token.match(reg(re_space))){

          tokens.push({
            type : "ws",
            value : token
          });
        } else if(token.match(re_tab)){

          tokens.push({
            type : "tab",
            value : token
          });
        } else if(token == ">"){

          tokens.push({
            type : "sym",
            value : ">"
          });
        } else if(token == "<"){

          tokens.push({
            type : "sym",
            value : "<"
          });
        } else if(token == "&"){

          tokens.push({
            type : "sym",
            value : "&"
          });
        } else {

          tokens.push({
            type : "sym",
            value : token
          });
        };;;;;;;;;;;;;;;;
      };
      return tokens;
    },
    javaScriptToHtml : function(javaScriptText, forPreTag){

      var tokens = qx.dev.Tokenizer.tokenizeJavaScript(javaScriptText);
      var js = new qx.util.StringBuilder();
      for(var i = 0;i < tokens.length;i++){

        var token = tokens[i];
        var htmlValue = qx.bom.String.escape(token.value);
        switch(token.type){case "regexp":
        js.add("<span class='regexp'>", htmlValue, "</span>");
        break;case "ident":
        js.add("<span class='ident'>", htmlValue, "</span>");
        break;case "linecomment":case "fullcomment":
        js.add("<span class='comment'>", htmlValue, "</span>");
        break;case "qstr":case "qqstr":
        js.add("<span class='string'>", htmlValue, "</span>");
        break;case "keyword":case "atom":case "qxkey":
        js.add("<span class='", token.type, "'>", htmlValue, "</span>");
        break;case "nl":
        var nl = qx.core.Environment.get("engine.name") == "mshtml" && !forPreTag ? "<br>" : "\n";
        js.add(nl);
        break;case "ws":
        var ws = qx.core.Environment.get("engine.name") == "mshtml" && !forPreTag ? "&nbsp;" : " ";
        js.add(ws);
        break;default:
        js.add(htmlValue);};
      };
      return js.get();
    }
  }
});

qx.Class.define("qx.bom.Window", {
  statics : {
    __blocker : null,
    __blockerWindow : null,
    __timer : null,
    __modalOptions : {
      "top" : "dialogTop",
      left : "dialogLeft",
      width : "dialogWidth",
      height : "dialogHeight",
      scrollbars : "scroll",
      resizable : "resizable"
    },
    __modelessOptions : {
      "top" : 1,
      left : 1,
      width : 1,
      height : 1,
      dependent : 1,
      resizable : 1,
      status : 1,
      location : 1,
      menubar : 1,
      scrollbars : 1,
      toolbar : 1
    },
    __isCapableToOpenModalWindows : function(){

      return window.showModalDialog != null;
    },
    open : function(url, name, options, modal, useNativeModalDialog, listener, self){

      var newWindow = null;
      if(url == null){

        url = "javascript:/";
      };
      if(name == null){

        name = "qxNativeWindow" + new Date().getTime();
      };
      if(useNativeModalDialog == null){

        useNativeModalDialog = true;
      };
      var configurationString = this.__generateConfigurationString(options, modal && useNativeModalDialog);
      if(modal){

        if(this.__isCapableToOpenModalWindows() && useNativeModalDialog){

          newWindow = window.showModalDialog(url, [window.self], configurationString);
        } else {

          this.getBlocker().block();
          if(this.__timer == null){

            this.__timer = new qx.event.Timer(500);
            this.__timer.addListener("interval", this.__checkForUnblocking, this);
          };
          this.__blockerWindow = window.open(url, name, configurationString);
          this.__timer.restart();
          newWindow = this.__blockerWindow;
        };
      } else {

        newWindow = window.open(url, name, configurationString);
      };
      if(newWindow && listener && (listener instanceof Function)){

        var context = self || newWindow;
        var onLoadFunction = qx.lang.Function.bind(listener, context);
        qx.bom.Event.addNativeListener(newWindow, 'load', function(){

          onLoadFunction();
          qx.bom.Event.removeNativeListener(newWindow, 'load', arguments.callee);
        });
      };
      return newWindow;
    },
    __generateConfigurationString : function(options, modality){

      var configurationString;
      var value;
      var configuration = [];
      if(modality && this.__isCapableToOpenModalWindows()){

        for(var key in options){

          if(qx.bom.Window.__modalOptions[key]){

            var suffix = "";
            if(key != "scrollbars" && key != "resizable"){

              suffix = "px";
            };
            value = qx.bom.Window.__modalOptions[key] + ":" + options[key] + suffix;
            configuration.push(value);
          } else {

            qx.log.Logger.warn("Option '" + key + "' is not supported for modal windows.");
          };
        };
        configurationString = configuration.join(";");
      } else {

        for(var key in options){

          if(qx.bom.Window.__modelessOptions[key]){

            if(qx.lang.Type.isBoolean(options[key])){

              value = key + "=" + (options[key] ? "yes" : "no");
            } else {

              value = key + "=" + options[key];
            };
            configuration.push(value);
          } else {

            qx.log.Logger.warn("Option '" + key + "' is not supported for native windows.");
          };
        };
        configurationString = configuration.join(",");
      };
      return configurationString;
    },
    __checkForUnblocking : function(){

      if(this.isClosed(this.__blockerWindow)){

        this.getBlocker().unblock();
        this.__timer.stop();
      };
    },
    getBlocker : function(){

      if(this.__blocker == null){

        this.__blocker = new qx.bom.Blocker;
      };
      return this.__blocker;
    },
    close : function(win){

      if(win){

        return win.close();
      };
    },
    isClosed : function(win){

      var closed = true;
      if(win){

        try{

          closed = win.closed;
        } catch(ex) {
        };
      };
      return closed;
    },
    moveTo : function(win, top, left){

      if(!qx.bom.Window.isClosed(win)){

        try{

          win.moveTo(left, top);
        } catch(ex) {

          qx.log.Logger.error("Cross-Domain Scripting problem: Could not move window!", ex);
        };
      };
    },
    resizeTo : function(win, width, height){

      if(!qx.bom.Window.isClosed(win)){

        try{

          win.resizeTo(width, height);
        } catch(ex) {

          qx.log.Logger.error("Cross-Domain Scripting problem: Could not resize window!", ex);
        };
      };
    }
  }
});

qx.Class.define("qx.bom.Blocker", {
  extend : qx.core.Object,
  construct : function(){

    this.base(arguments);
    this.__init();
  },
  members : {
    __iframeElement : null,
    __blockerElement : null,
    __blockedElement : null,
    __isActive : false,
    __defaultZIndex : 10000,
    __defaultBlockerOpacity : 0,
    __defaultBlockerColor : "transparent",
    block : function(element){

      if(!this.__isActive){

        this.__blockedElement = element;
        var styles = this.__calculateStyles();
        this.__styleAndInsertBlocker(styles);
        this.__isActive = true;
      };
    },
    unblock : function(){

      if(this.__isActive){

        this.__removeBlocker();
        this.__isActive = false;
      };
    },
    isBlocked : function(){

      return this.__isActive;
    },
    getBlockerElement : function(){

      return this.__blockerElement;
    },
    setBlockerColor : function(color){

      qx.bom.element.Style.set(this.__blockerElement, "backgroundColor", color);
    },
    getBlockerColor : function(){

      return qx.bom.element.Style.get(this.__blockerElement, "backgroundColor");
    },
    setBlockerOpacity : function(opacity){

      qx.bom.element.Opacity.set(this.__blockerElement, opacity);
    },
    getBlockerOpacity : function(){

      return qx.bom.element.Opacity.get(this.__blockerElement);
    },
    setBlockerZIndex : function(zIndex){

      qx.bom.element.Style.set(this.__blockerElement, "zIndex", zIndex);
    },
    getBlockerZIndex : function(){

      return qx.bom.element.Style.get(this.__blockerElement, "zIndex");
    },
    __init : function(){

      this.__setupBlockerElement();
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        this.__setupIframeElement();
      };
      qx.event.Registration.addListener(window, "resize", this.__onResize, this);
    },
    __setupBlockerElement : function(){

      this.__blockerElement = qx.dom.Element.create("div");
      qx.bom.element.Style.setStyles(this.__blockerElement, {
        display : "block",
        opacity : this.__defaultBlockerOpacity,
        backgroundColor : this.__defaultBlockerColor
      });
      this.setBlockerZIndex(this.__defaultZIndex);
    },
    __setupIframeElement : function(){

      this.__iframeElement = qx.bom.Iframe.create();
      qx.bom.element.Attribute.set(this.__iframeElement, "allowTransparency", false);
      qx.bom.element.Attribute.set(this.__iframeElement, "src", "javascript:false;");
      qx.bom.element.Style.setStyles(this.__iframeElement, {
        display : "block",
        opacity : this.__defaultBlockerOpacity
      });
    },
    __calculateStyles : function(){

      var styles = {
        position : "absolute"
      };
      if(this.__isWholeDocumentBlockTarget()){

        styles.left = "0px";
        styles.top = "0px";
        styles.right = null;
        styles.bottom = null;
        styles.width = qx.bom.Document.getWidth() + "px";
        styles.height = qx.bom.Document.getHeight() + "px";
      } else {

        styles.width = qx.bom.element.Dimension.getWidth(this.__blockedElement) + "px";
        styles.height = qx.bom.element.Dimension.getHeight(this.__blockedElement) + "px";
        styles.left = qx.bom.element.Location.getLeft(this.__blockedElement) + "px";
        styles.top = qx.bom.element.Location.getTop(this.__blockedElement) + "px";
      };
      return styles;
    },
    __styleAndInsertBlocker : function(styles){

      var target = document.body;
      qx.bom.element.Style.setStyles(this.__blockerElement, styles);
      qx.dom.Element.insertEnd(this.__blockerElement, target);
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        styles.zIndex = this.getBlockerZIndex() - 1;
        qx.bom.element.Style.setStyles(this.__iframeElement, styles);
        qx.dom.Element.insertEnd(this.__iframeElement, document.body);
      };
    },
    __removeBlocker : function(){

      qx.dom.Element.remove(this.__blockerElement);
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        qx.dom.Element.remove(this.__iframeElement);
      };
    },
    __onResize : function(e){

      if(this.__isWholeDocumentBlockTarget()){

        this.__resizeBlocker({
          width : "0px",
          height : "0px"
        });
        qx.event.Timer.once(function(){

          var dimension = {
            width : qx.bom.Document.getWidth() + "px",
            height : qx.bom.Document.getHeight() + "px"
          };
          this.__resizeBlocker(dimension);
        }, this, 0);
      };
    },
    __resizeBlocker : function(dimension){

      qx.bom.element.Style.setStyles(this.__blockerElement, dimension);
      if((qx.core.Environment.get("engine.name") == "mshtml")){

        qx.bom.element.Style.setStyles(this.__iframeElement, dimension);
      };
    },
    __isWholeDocumentBlockTarget : function(){

      return (this.__blockedElement == null || qx.dom.Node.isWindow(this.__blockedElement) || qx.dom.Node.isDocument(this.__blockedElement));
    }
  },
  destruct : function(){

    qx.event.Registration.removeListener(window, "resize", this.__onResize, this);
    this.__iframeElement = this.__blockerElement = this.__blockedElement = null;
  }
});

qx.Class.define("qx.ui.root.Inline", {
  extend : qx.ui.root.Abstract,
  include : [qx.ui.core.MLayoutHandling],
  construct : function(el, dynamicX, dynamicY){

    if(qx.core.Environment.get("qx.debug")){

      this.assertElement(el, "Please use a DOM element to create an inline root.");
    };
    this.__elem = el;
    el.style.overflow = "hidden";
    el.style.textAlign = "left";
    this.__dynX = dynamicX || false;
    this.__dynY = dynamicY || false;
    this.__initDynamicMode();
    this.base(arguments);
    this._setLayout(new qx.ui.layout.Basic());
    qx.ui.core.queue.Layout.add(this);
    qx.ui.core.FocusHandler.getInstance().connectTo(this);
    if((qx.core.Environment.get("engine.name") == "mshtml")){

      this.setKeepFocus(true);
    };
    var window = qx.dom.Node.getWindow(el);
    qx.event.Registration.addListener(window, "resize", this._onWindowResize, this);
    this.getContentElement().setStyle("-webkit-backface-visibility", "hidden");
  },
  members : {
    __dynX : false,
    __dynY : false,
    __elem : null,
    __initDynamicMode : function(){

      if(this.__dynX || this.__dynY){

        var elementDimensions = qx.bom.element.Dimension.getSize(this.__elem);
        if(this.__dynX && elementDimensions.width < 1){

          throw new Error("The root element " + this.__elem + " of " + this + " needs a width when its width size should be used!");
        };
        if(this.__dynY){

          if(elementDimensions.height < 1){

            throw new Error("The root element " + this.__elem + " of " + this + " needs a height when its height size should be used!");
          };
          if(elementDimensions.height >= 1 && qx.bom.element.Style.get(this.__elem, "height", 3) == ""){

            qx.bom.element.Style.set(this.__elem, "height", elementDimensions.height + "px");
          };
        };
        qx.event.Registration.addListener(this.__elem, "resize", this._onResize, this);
      };
    },
    _createContentElement : function(){

      var el = this.__elem;
      if(this.__dynX || this.__dynY){

        var rootEl = document.createElement("div");
        el.appendChild(rootEl);
      } else {

        rootEl = el;
      };
      var root = new qx.html.Root(rootEl);
      rootEl.style.position = "relative";
      root.setAttribute("$$widget", this.toHashCode());
      qx.event.Timer.once(function(e){

        this.fireEvent("appear");
      }, this, 0);
      return root;
    },
    _onResize : function(e){

      var data = e.getData();
      if((data.oldWidth !== data.width) && this.__dynX || (data.oldHeight !== data.height) && this.__dynY){

        qx.ui.core.queue.Layout.add(this);
      };
    },
    _onWindowResize : function(){

      if(qx.ui.popup && qx.ui.popup.Manager){

        qx.ui.popup.Manager.getInstance().hideAll();
      };
      if(qx.ui.menu && qx.ui.menu.Manager){

        qx.ui.menu.Manager.getInstance().hideAll();
      };
    },
    _computeSizeHint : function(){

      var dynX = this.__dynX;
      var dynY = this.__dynY;
      if(!dynX || !dynY){

        var hint = this.base(arguments);
      } else {

        hint = {
        };
      };
      var Dimension = qx.bom.element.Dimension;
      if(dynX){

        var width = Dimension.getContentWidth(this.__elem);
        hint.width = width;
        hint.minWidth = width;
        hint.maxWidth = width;
      };
      if(dynY){

        var height = Dimension.getContentHeight(this.__elem);
        hint.height = height;
        hint.minHeight = height;
        hint.maxHeight = height;
      };
      return hint;
    }
  },
  defer : function(statics, members){

    qx.ui.core.MLayoutHandling.remap(members);
  },
  destruct : function(){

    qx.event.Registration.removeListener(this.__elem, "resize", this._onResize, this);
    this.__elem = null;
  }
});

qx.Bootstrap.define("qx.module.event.OrientationHandler", {
  statics : {
    TYPES : ["orientationchange"],
    register : function(element){

      if(!qx.dom.Node.isWindow(element)){

        throw new Error("The 'orientationchange' event is only available on window objects!");
      };
      if(!element.__orientationHandler){

        if(!element.$$emitter){

          element.$$emitter = new qx.event.Emitter();
        };
        element.__orientationHandler = new qx.event.handler.OrientationCore(element, element.$$emitter);
      };
    },
    unregister : function(element){

      if(element.__orientationHandler){

        if(!element.$$emitter){

          element.__orientationHandler = null;
        } else {

          var hasListener = false;
          var listeners = element.$$emitter.getListeners();
          qx.module.event.OrientationHandler.TYPES.forEach(function(type){

            if(type in listeners && listeners[type].length > 0){

              hasListener = true;
            };
          });
          if(!hasListener){

            element.__orientationHandler = null;
          };
        };
      };
    }
  },
  defer : function(statics){

    qxWeb.$registerEventHook(statics.TYPES, statics.register, statics.unregister);
  }
});

qx.Class.define("qx.ui.mobile.page.Manager", {
  extend : qx.core.Object,
  construct : function(isTablet, root){

    this.base(arguments);
    root = root || qx.core.Init.getApplication().getRoot();
    if(typeof isTablet !== "undefined" && isTablet !== null){

      this.__isTablet = isTablet;
    } else {

      this.__isTablet = qx.core.Environment.get("device.type") == "desktop" || qx.core.Environment.get("device.type") == "tablet";
    };
    this.__detailNavigation = this._createDetailNavigation();
    this.__detailNavigation.getNavigationBar().hide();
    if(this.__isTablet){

      this.__masterNavigation = this._createMasterNavigation();
      this.__masterNavigation.getNavigationBar().hide();
      this.__masterContainer = this._createMasterContainer();
      this.__detailContainer = this._createDetailContainer();
      this.__masterButton = this._createMasterButton();
      this.__masterButton.addListener("tap", this._onMasterButtonTap, this);
      this.__hideMasterButton = this._createHideMasterButton();
      this.__hideMasterButton.addListener("tap", this._onHideMasterButtonTap, this);
      this.__masterNavigation.addListener("update", this._onMasterContainerUpdate, this);
      this.__detailNavigation.addListener("update", this._onDetailContainerUpdate, this);
      root.add(this.__detailContainer, {
        flex : 1
      });
      this.__masterContainer.add(this.__masterNavigation, {
        flex : 1
      });
      this.__detailContainer.add(this.__detailNavigation, {
        flex : 1
      });
      qx.event.Registration.addListener(window, "orientationchange", this._onLayoutChange, this);
      this.__masterContainer.addListener("resize", this._onLayoutChange, this);
      this.__masterNavigation.getLayout().setShowAnimation(false);
      this.__detailNavigation.getLayout().setShowAnimation(false);
      this.__masterContainer.forceHide();
      setTimeout(function(){

        if(qx.bom.Viewport.isLandscape()){

          this.__masterContainer.show();
        };
      }.bind(this), 300);
    } else {

      root.add(this.__detailNavigation, {
        flex : 1
      });
    };
  },
  properties : {
    masterTitle : {
      init : "Master",
      check : "String",
      apply : "_applyMasterTitle"
    },
    hideMasterButtonCaption : {
      init : "Hide",
      check : "String",
      apply : "_applyHideMasterButtonCaption"
    },
    allowMasterHideOnLandscape : {
      init : true,
      check : "Boolean"
    },
    hideMasterOnDetailStart : {
      init : true,
      check : "Boolean"
    }
  },
  members : {
    __isTablet : null,
    __detailNavigation : null,
    __masterNavigation : null,
    __masterButton : null,
    __hideMasterButton : null,
    __masterPages : null,
    __detailPages : null,
    __masterContainer : null,
    __detailContainer : null,
    isMasterContainerHidden : function(){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'isMasterContainerHidden()' is deprecated. Please use getMasterContainer().isHidden() instead.");
      };
      return this.__masterContainer.isHidden();
    },
    setMasterContainerHidden : function(value){

      if(qx.core.Environment.get("qx.debug")){

        qx.log.Logger.deprecatedMethodWarning(arguments.callee, "The method 'setMasterContainerHidden()' is deprecated. Please use getMasterContainer().show() / hide() instead.");
      };
      if(value){

        this.__masterContainer.hide();
      } else {

        this.__masterContainer.show();
      };
    },
    _createMasterContainer : function(){

      var masterContainer = new qx.ui.mobile.container.Drawer(null, new qx.ui.mobile.layout.HBox());
      masterContainer.addCssClass("master-detail-master");
      masterContainer.setHideOnParentTap(false);
      masterContainer.addListener("changeVisibility", this._onMasterChangeVisibility, this);
      return masterContainer;
    },
    _createDetailContainer : function(){

      var detailContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());
      detailContainer.setDefaultCssClass("master-detail-detail");
      return detailContainer;
    },
    getMasterContainer : function(){

      return this.__masterContainer;
    },
    getDetailContainer : function(){

      return this.__detailContainer;
    },
    getMasterButton : function(){

      return this.__masterButton;
    },
    getMasterNavigation : function(){

      return this.__masterNavigation;
    },
    getDetailNavigation : function(){

      return this.__detailNavigation;
    },
    _createMasterButton : function(){

      return new qx.ui.mobile.navigationbar.Button(this.getMasterTitle());
    },
    _createHideMasterButton : function(){

      return new qx.ui.mobile.navigationbar.Button("Hide");
    },
    _createMasterNavigation : function(){

      return new qx.ui.mobile.container.Navigation();
    },
    _createDetailNavigation : function(){

      return new qx.ui.mobile.container.Navigation();
    },
    addMaster : function(pages){

      if(this.__isTablet){

        if(pages){

          if(!qx.lang.Type.isArray(pages)){

            pages = [pages];
          };
          for(var i = 0;i < pages.length;i++){

            var masterPage = pages[i];
            masterPage.addListener("start", this._onMasterPageStart, this);
          };
          if(this.__masterPages){

            this.__masterPages.concat(pages);
          } else {

            this.__masterPages = pages;
          };
          this._add(pages, this.__masterNavigation);
        };
      } else {

        this.addDetail(pages);
      };
    },
    addDetail : function(pages){

      this._add(pages, this.__detailNavigation);
      if(pages && this.__isTablet){

        if(!qx.lang.Type.isArray(pages)){

          pages = [pages];
        };
        for(var i = 0;i < pages.length;i++){

          var detailPage = pages[i];
          detailPage.addListener("start", this._onDetailPageStart, this);
        };
        if(this.__detailPages){

          this.__detailPages.concat(pages);
        } else {

          this.__detailPages = pages;
        };
      };
    },
    _onDetailPageStart : function(evt){

      if(qx.bom.Viewport.isPortrait() && this.isHideMasterOnDetailStart()){

        this.__masterContainer.hide();
      };
    },
    _onMasterPageStart : function(evt){

      var masterPage = evt.getTarget();
      var masterPageTitle = masterPage.getTitle();
      this.setMasterTitle(masterPageTitle);
    },
    _add : function(pages, target){

      if(!qx.lang.Type.isArray(pages)){

        pages = [pages];
      };
      for(var i = 0;i < pages.length;i++){

        var page = pages[i];
        if(qx.core.Environment.get("qx.debug")){

          this.assertInstance(page, qx.ui.mobile.page.NavigationPage);
        };
        if(this.__isTablet && !page.getShowBackButtonOnTablet()){

          page.setShowBackButton(false);
        };
        page.setIsTablet(this.__isTablet);
        target.add(page);
      };
    },
    _onMasterContainerUpdate : function(evt){

      var widget = evt.getData();
      widget.getRightContainer().remove(this.__hideMasterButton);
      widget.getRightContainer().add(this.__hideMasterButton);
    },
    _onDetailContainerUpdate : function(evt){

      var widget = evt.getData();
      widget.getLeftContainer().remove(this.__masterButton);
      widget.getLeftContainer().add(this.__masterButton);
    },
    _onMasterButtonTap : function(){

      this.__masterContainer.show();
    },
    _onHideMasterButtonTap : function(){

      this._removeDetailContainerGap();
      this.__masterContainer.hide();
    },
    _onMasterChangeVisibility : function(evt){

      var isMasterVisible = ("visible" === evt.getData());
      if(qx.bom.Viewport.isLandscape()){

        if(this.isAllowMasterHideOnLandscape()){

          if(isMasterVisible){

            this._createDetailContainerGap();
            this.__masterButton.exclude();
            this.__hideMasterButton.show();
          } else {

            this.__masterButton.show();
            this.__hideMasterButton.show();
          };
        } else {

          this.__masterButton.exclude();
          this.__hideMasterButton.exclude();
        };
      } else {

        this._removeDetailContainerGap();
        this.__masterButton.show();
        this.__hideMasterButton.show();
      };
    },
    _onLayoutChange : function(){

      if(this.__isTablet){

        if(qx.bom.Viewport.isLandscape()){

          this.__masterContainer.setHideOnParentTap(false);
          if(this.__masterContainer.isHidden()){

            this.__masterContainer.show();
          } else {

            this._removeDetailContainerGap();
            this.__masterContainer.hide();
          };
        } else {

          this._removeDetailContainerGap();
          this.__masterContainer.setHideOnParentTap(true);
          this.__masterContainer.hide();
        };
      };
    },
    _getGapPropertyKey : function(){

      return "padding" + qx.lang.String.capitalize(this.__masterContainer.getOrientation());
    },
    _createDetailContainerGap : function(){

      qx.bom.element.Style.set(this.__detailContainer.getContainerElement(), this._getGapPropertyKey(), this.__masterContainer.getSize() / 16 + "rem");
      qx.event.Registration.fireEvent(window, "resize");
    },
    _removeDetailContainerGap : function(){

      qx.bom.element.Style.set(this.__detailContainer.getContainerElement(), this._getGapPropertyKey(), null);
      qx.event.Registration.fireEvent(window, "resize");
    },
    _applyHideMasterButtonCaption : function(value, old){

      if(this.__isTablet){

        this.__hideMasterButton.setLabel(value);
      };
    },
    _applyMasterTitle : function(value, old){

      if(this.__isTablet){

        this.__masterButton.setLabel(value);
      };
    }
  },
  destruct : function(){

    if(this.__masterPages){

      for(var i = 0;i < this.__masterPages.length;i++){

        var masterPage = this.__masterPages[i];
        masterPage.removeListener("start", this._onMasterPageStart, this);
      };
    };
    if(this.___detailPages){

      for(var j = 0;j < this.___detailPages.length;j++){

        var detailPage = this.___detailPages[j];
        detailPage.removeListener("start", this._onDetailPageStart, this);
      };
    };
    if(this.__isTablet){

      this.__masterContainer.removeListener("changeVisibility", this._onMasterChangeVisibility, this);
      this.__masterContainer.removeListener("resize", this._onLayoutChange, this);
      qx.event.Registration.removeListener(window, "orientationchange", this._onLayoutChange, this);
    };
    this.__masterPages = this.__detailPages = null;
    this._disposeObjects("__detailNavigation", "__masterNavigation", "__masterButton");
  }
});

qx.Class.define('nqx.Bootstrap', {
  statics : {
    setApplication : function(name, theme){

      if(theme){

        this.setTheme(theme);
      };
      qx.core.Environment.add('qx.application', name);
    },
    setTheme : function(name){

      delete qx.core.Environment._checks['qx.theme'];
      qx.core.Environment.add('qx.theme', name);
    },
    setDummyApplication : function(){

      qd.Bootstrap.setApplication('qd.application.Dummy');
    }
  }
});

;

qx.Class.define('nqx.application.Dummy', {
  extend : qx.application.Basic,
  members : {
    main : function(){

      this.base(arguments);
      if(qx.core.Environment.get("qx.debug")){

        qx.log.appender.Native;
        qx.log.appender.Console;
      };
    }
  }
});


qx.$$loader.init();

